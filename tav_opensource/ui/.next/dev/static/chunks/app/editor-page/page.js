/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["app/editor-page/page"],{

/***/ "(app-pages-browser)/./node_modules/@react-pdf-viewer/core/lib/styles/index.css":
/*!******************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/core/lib/styles/index.css ***!
  \******************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"67ffd1215aaa\");\nif (true) { module.hot.accept() }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVhY3QtcGRmLXZpZXdlci9jb3JlL2xpYi9zdHlsZXMvaW5kZXguY3NzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRUFBZSxjQUFjO0FBQzdCLElBQUksSUFBVSxJQUFJLGlCQUFpQiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxuaWNob2xhcy5sZWVcXERvY3VtZW50c1xcelxcVGlja2V0aW5nX05pY2tcXFRpY2tldGluZ1xcdGF2X29wZW5zb3VyY2VcXHVpXFxub2RlX21vZHVsZXNcXEByZWFjdC1wZGYtdmlld2VyXFxjb3JlXFxsaWJcXHN0eWxlc1xcaW5kZXguY3NzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IFwiNjdmZmQxMjE1YWFhXCJcbmlmIChtb2R1bGUuaG90KSB7IG1vZHVsZS5ob3QuYWNjZXB0KCkgfVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@react-pdf-viewer/core/lib/styles/index.css\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/fabric/dist/index.min.mjs":
/*!************************************************!*\
  !*** ./node_modules/fabric/dist/index.min.mjs ***!
  \************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ActiveSelection: () => (/* binding */ Qo),\n/* harmony export */   BaseBrush: () => (/* binding */ so),\n/* harmony export */   BaseFabricObject: () => (/* binding */ ei),\n/* harmony export */   Canvas: () => (/* binding */ Xn),\n/* harmony export */   Canvas2dFilterBackend: () => (/* binding */ Zo),\n/* harmony export */   CanvasDOMManager: () => (/* binding */ Pn),\n/* harmony export */   Circle: () => (/* binding */ co),\n/* harmony export */   CircleBrush: () => (/* binding */ lo),\n/* harmony export */   ClipPathLayout: () => (/* binding */ qo),\n/* harmony export */   Color: () => (/* binding */ Ie),\n/* harmony export */   Control: () => (/* binding */ ai),\n/* harmony export */   Ellipse: () => (/* binding */ xo),\n/* harmony export */   FabricImage: () => (/* binding */ oa),\n/* harmony export */   FabricObject: () => (/* binding */ Li),\n/* harmony export */   FabricText: () => (/* binding */ Ao),\n/* harmony export */   FitContentLayout: () => (/* binding */ Yr),\n/* harmony export */   FixedLayout: () => (/* binding */ Ko),\n/* harmony export */   Gradient: () => (/* binding */ $n),\n/* harmony export */   Group: () => (/* binding */ Ur),\n/* harmony export */   IText: () => (/* binding */ No),\n/* harmony export */   Image: () => (/* binding */ oa),\n/* harmony export */   InteractiveFabricObject: () => (/* binding */ ji),\n/* harmony export */   Intersection: () => (/* binding */ Qs),\n/* harmony export */   LayoutManager: () => (/* binding */ Gr),\n/* harmony export */   LayoutStrategy: () => (/* binding */ Xr),\n/* harmony export */   Line: () => (/* binding */ vo),\n/* harmony export */   Object: () => (/* binding */ Li),\n/* harmony export */   Observable: () => (/* binding */ st),\n/* harmony export */   Path: () => (/* binding */ no),\n/* harmony export */   Pattern: () => (/* binding */ eo),\n/* harmony export */   PatternBrush: () => (/* binding */ go),\n/* harmony export */   PencilBrush: () => (/* binding */ oo),\n/* harmony export */   Point: () => (/* binding */ ot),\n/* harmony export */   Polygon: () => (/* binding */ To),\n/* harmony export */   Polyline: () => (/* binding */ wo),\n/* harmony export */   Rect: () => (/* binding */ jr),\n/* harmony export */   Shadow: () => (/* binding */ Ds),\n/* harmony export */   SprayBrush: () => (/* binding */ uo),\n/* harmony export */   StaticCanvas: () => (/* binding */ ie),\n/* harmony export */   StaticCanvasDOMManager: () => (/* binding */ te),\n/* harmony export */   Text: () => (/* binding */ Ao),\n/* harmony export */   Textbox: () => (/* binding */ Uo),\n/* harmony export */   Triangle: () => (/* binding */ yo),\n/* harmony export */   WebGLFilterBackend: () => (/* binding */ $o),\n/* harmony export */   cache: () => (/* binding */ _),\n/* harmony export */   classRegistry: () => (/* binding */ tt),\n/* harmony export */   config: () => (/* binding */ o),\n/* harmony export */   controlsUtils: () => (/* binding */ Fa),\n/* harmony export */   createCollectionMixin: () => (/* binding */ ct),\n/* harmony export */   filters: () => (/* binding */ Sh),\n/* harmony export */   getCSSRules: () => (/* binding */ pa),\n/* harmony export */   getEnv: () => (/* binding */ p),\n/* harmony export */   getFabricDocument: () => (/* binding */ m),\n/* harmony export */   getFabricWindow: () => (/* binding */ v),\n/* harmony export */   getFilterBackend: () => (/* binding */ sa),\n/* harmony export */   iMatrix: () => (/* binding */ T),\n/* harmony export */   initFilterBackend: () => (/* binding */ ea),\n/* harmony export */   isPutImageFaster: () => (/* binding */ Ra),\n/* harmony export */   isWebGLPipelineState: () => (/* binding */ La),\n/* harmony export */   loadSVGFromString: () => (/* binding */ Ca),\n/* harmony export */   loadSVGFromURL: () => (/* binding */ ba),\n/* harmony export */   parseAttributes: () => (/* binding */ Pr),\n/* harmony export */   parseFontDeclaration: () => (/* binding */ Or),\n/* harmony export */   parsePointsAttribute: () => (/* binding */ Co),\n/* harmony export */   parseSVGDocument: () => (/* binding */ xa),\n/* harmony export */   parseStyleAttribute: () => (/* binding */ Dr),\n/* harmony export */   parseTransformAttribute: () => (/* binding */ wr),\n/* harmony export */   runningAnimations: () => (/* binding */ et),\n/* harmony export */   setEnv: () => (/* binding */ f),\n/* harmony export */   setFilterBackend: () => (/* binding */ ia),\n/* harmony export */   util: () => (/* binding */ Mn),\n/* harmony export */   version: () => (/* binding */ x)\n/* harmony export */ });\nfunction t(t,e,s){return(e=function(t){var e=function(t,e){if(\"object\"!=typeof t||!t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var i=s.call(t,e||\"default\");if(\"object\"!=typeof i)return i;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==typeof e?e:e+\"\"}(e))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function e(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function s(s){for(var i=1;i<arguments.length;i++){var r=null!=arguments[i]?arguments[i]:{};i%2?e(Object(r),!0).forEach((function(e){t(s,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach((function(t){Object.defineProperty(s,t,Object.getOwnPropertyDescriptor(r,t))}))}return s}function i(t,e){if(null==t)return{};var s,i,r=function(t,e){if(null==t)return{};var s={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;s[i]=t[i]}return s}(t,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(i=0;i<n.length;i++)s=n[i],e.indexOf(s)>=0||{}.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function r(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}class n{constructor(){t(this,\"browserShadowBlurConstant\",1),t(this,\"DPI\",96),t(this,\"devicePixelRatio\",\"undefined\"!=typeof window?window.devicePixelRatio:1),t(this,\"perfLimitSizeTotal\",2097152),t(this,\"maxCacheSideLimit\",4096),t(this,\"minCacheSideLimit\",256),t(this,\"disableStyleCopyPaste\",!1),t(this,\"enableGLFiltering\",!0),t(this,\"textureSize\",4096),t(this,\"forceGLPutImageData\",!1),t(this,\"cachesBoundsOfCurve\",!1),t(this,\"fontPaths\",{}),t(this,\"NUM_FRACTION_DIGITS\",4)}}const o=new class extends n{constructor(t){super(),this.configure(t)}configure(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(this,t)}addFonts(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.fontPaths=s(s({},this.fontPaths),t)}removeFonts(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((t=>{delete this.fontPaths[t]}))}clearFonts(){this.fontPaths={}}restoreDefaults(t){const e=new n,s=(null==t?void 0:t.reduce(((t,s)=>(t[s]=e[s],t)),{}))||e;this.configure(s)}},a=function(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];return console[t](\"fabric\",...s)};class h extends Error{constructor(t,e){super(\"fabric: \".concat(t),e)}}class c extends h{constructor(t){super(\"\".concat(t,\" 'options.signal' is in 'aborted' state\"))}}class l{}class u extends l{testPrecision(t,e){const s=\"precision \".concat(e,\" float;\\nvoid main(){}\"),i=t.createShader(t.FRAGMENT_SHADER);return!!i&&(t.shaderSource(i,s),t.compileShader(i),!!t.getShaderParameter(i,t.COMPILE_STATUS))}queryWebGL(t){const e=t.getContext(\"webgl\");e&&(this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),this.GLPrecision=[\"highp\",\"mediump\",\"lowp\"].find((t=>this.testPrecision(e,t))),e.getExtension(\"WEBGL_lose_context\").loseContext(),a(\"log\",\"WebGL: max texture size \".concat(this.maxTextureSize)))}isSupported(t){return!!this.maxTextureSize&&this.maxTextureSize>=t}}const d={};let g;const f=t=>{g=t},p=()=>g||(g={document:document,window:window,isTouchSupported:\"ontouchstart\"in window||\"ontouchstart\"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new u,dispose(){},copyPasteData:d}),m=()=>p().document,v=()=>p().window,y=()=>{var t;return Math.max(null!==(t=o.devicePixelRatio)&&void 0!==t?t:v().devicePixelRatio,1)};const _=new class{constructor(){t(this,\"boundsOfCurveCache\",{}),this.charWidthsCache=new Map}getFontCache(t){let{fontFamily:e,fontStyle:s,fontWeight:i}=t;e=e.toLowerCase();const r=this.charWidthsCache;r.has(e)||r.set(e,new Map);const n=r.get(e),o=\"\".concat(s.toLowerCase(),\"_\").concat((i+\"\").toLowerCase());return n.has(o)||n.set(o,new Map),n.get(o)}clearFontCache(t){t?this.charWidthsCache.delete((t||\"\").toLowerCase()):this.charWidthsCache=new Map}limitDimsByArea(t){const{perfLimitSizeTotal:e}=o,s=Math.sqrt(e*t);return[Math.floor(s),Math.floor(e/s)]}};const x=\"6.9.0\";function C(){}const b=Math.PI/2,S=2*Math.PI,w=Math.PI/180,T=Object.freeze([1,0,0,1,0,0]),O=16,k=.4477152502,D=\"center\",M=\"left\",P=\"top\",E=\"bottom\",A=\"right\",j=\"none\",F=/\\r?\\n/,L=\"moving\",R=\"scaling\",I=\"rotating\",B=\"rotate\",X=\"skewing\",Y=\"resizing\",W=\"modifyPoly\",V=\"modifyPath\",z=\"changed\",G=\"scale\",H=\"scaleX\",N=\"scaleY\",U=\"skewX\",q=\"skewY\",K=\"fill\",J=\"stroke\",Q=\"modified\",Z=\"json\",$=\"svg\";const tt=new class{constructor(){this[Z]=new Map,this[$]=new Map}has(t){return this[Z].has(t)}getClass(t){const e=this[Z].get(t);if(!e)throw new h(\"No class registered for \".concat(t));return e}setClass(t,e){e?this[Z].set(e,t):(this[Z].set(t.type,t),this[Z].set(t.type.toLowerCase(),t))}getSVGClass(t){return this[$].get(t)}setSVGClass(t,e){this[$].set(null!=e?e:t.type.toLowerCase(),t)}};const et=new class extends Array{remove(t){const e=this.indexOf(t);e>-1&&this.splice(e,1)}cancelAll(){const t=this.splice(0);return t.forEach((t=>t.abort())),t}cancelByCanvas(t){if(!t)return[];const e=this.filter((e=>{var s;return e.target===t||\"object\"==typeof e.target&&(null===(s=e.target)||void 0===s?void 0:s.canvas)===t}));return e.forEach((t=>t.abort())),e}cancelByTarget(t){if(!t)return[];const e=this.filter((e=>e.target===t));return e.forEach((t=>t.abort())),e}};class st{constructor(){t(this,\"__eventListeners\",{})}on(t,e){if(this.__eventListeners||(this.__eventListeners={}),\"object\"==typeof t)return Object.entries(t).forEach((t=>{let[e,s]=t;this.on(e,s)})),()=>this.off(t);if(e){const s=t;return this.__eventListeners[s]||(this.__eventListeners[s]=[]),this.__eventListeners[s].push(e),()=>this.off(s,e)}return()=>!1}once(t,e){if(\"object\"==typeof t){const e=[];return Object.entries(t).forEach((t=>{let[s,i]=t;e.push(this.once(s,i))})),()=>e.forEach((t=>t()))}if(e){const s=this.on(t,(function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];e.call(this,...i),s()}));return s}return()=>!1}_removeEventListener(t,e){if(this.__eventListeners[t])if(e){const s=this.__eventListeners[t],i=s.indexOf(e);i>-1&&s.splice(i,1)}else this.__eventListeners[t]=[]}off(t,e){if(this.__eventListeners)if(void 0===t)for(const t in this.__eventListeners)this._removeEventListener(t);else\"object\"==typeof t?Object.entries(t).forEach((t=>{let[e,s]=t;this._removeEventListener(e,s)})):this._removeEventListener(t,e)}fire(t,e){var s;if(!this.__eventListeners)return;const i=null===(s=this.__eventListeners[t])||void 0===s?void 0:s.concat();if(i)for(let t=0;t<i.length;t++)i[t].call(this,e||{})}}const it=(t,e)=>{const s=t.indexOf(e);return-1!==s&&t.splice(s,1),t},rt=t=>{if(0===t)return 1;switch(Math.abs(t)/b){case 1:case 3:return 0;case 2:return-1}return Math.cos(t)},nt=t=>{if(0===t)return 0;const e=t/b,s=Math.sign(t);switch(e){case 1:return s;case 2:return 0;case 3:return-s}return Math.sin(t)};class ot{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;\"object\"==typeof t?(this.x=t.x,this.y=t.y):(this.x=t,this.y=e)}add(t){return new ot(this.x+t.x,this.y+t.y)}addEquals(t){return this.x+=t.x,this.y+=t.y,this}scalarAdd(t){return new ot(this.x+t,this.y+t)}scalarAddEquals(t){return this.x+=t,this.y+=t,this}subtract(t){return new ot(this.x-t.x,this.y-t.y)}subtractEquals(t){return this.x-=t.x,this.y-=t.y,this}scalarSubtract(t){return new ot(this.x-t,this.y-t)}scalarSubtractEquals(t){return this.x-=t,this.y-=t,this}multiply(t){return new ot(this.x*t.x,this.y*t.y)}scalarMultiply(t){return new ot(this.x*t,this.y*t)}scalarMultiplyEquals(t){return this.x*=t,this.y*=t,this}divide(t){return new ot(this.x/t.x,this.y/t.y)}scalarDivide(t){return new ot(this.x/t,this.y/t)}scalarDivideEquals(t){return this.x/=t,this.y/=t,this}eq(t){return this.x===t.x&&this.y===t.y}lt(t){return this.x<t.x&&this.y<t.y}lte(t){return this.x<=t.x&&this.y<=t.y}gt(t){return this.x>t.x&&this.y>t.y}gte(t){return this.x>=t.x&&this.y>=t.y}lerp(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return e=Math.max(Math.min(1,e),0),new ot(this.x+(t.x-this.x)*e,this.y+(t.y-this.y)*e)}distanceFrom(t){const e=this.x-t.x,s=this.y-t.y;return Math.sqrt(e*e+s*s)}midPointFrom(t){return this.lerp(t)}min(t){return new ot(Math.min(this.x,t.x),Math.min(this.y,t.y))}max(t){return new ot(Math.max(this.x,t.x),Math.max(this.y,t.y))}toString(){return\"\".concat(this.x,\",\").concat(this.y)}setXY(t,e){return this.x=t,this.y=e,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setFromPoint(t){return this.x=t.x,this.y=t.y,this}swap(t){const e=this.x,s=this.y;this.x=t.x,this.y=t.y,t.x=e,t.y=s}clone(){return new ot(this.x,this.y)}rotate(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:at;const s=nt(t),i=rt(t),r=this.subtract(e);return new ot(r.x*i-r.y*s,r.x*s+r.y*i).add(e)}transform(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new ot(t[0]*this.x+t[2]*this.y+(e?0:t[4]),t[1]*this.x+t[3]*this.y+(e?0:t[5]))}}const at=new ot(0,0),ht=t=>!!t&&Array.isArray(t._objects);function ct(e){class s extends e{constructor(){super(...arguments),t(this,\"_objects\",[])}_onObjectAdded(t){}_onObjectRemoved(t){}_onStackOrderChanged(t){}add(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];const i=this._objects.push(...e);return e.forEach((t=>this._onObjectAdded(t))),i}insertAt(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];return this._objects.splice(t,0,...s),s.forEach((t=>this._onObjectAdded(t))),this._objects.length}remove(){const t=this._objects,e=[];for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];return i.forEach((s=>{const i=t.indexOf(s);-1!==i&&(t.splice(i,1),e.push(s),this._onObjectRemoved(s))})),e}forEachObject(t){this.getObjects().forEach(((e,s,i)=>t(e,s,i)))}getObjects(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return 0===e.length?[...this._objects]:this._objects.filter((t=>t.isType(...e)))}item(t){return this._objects[t]}isEmpty(){return 0===this._objects.length}size(){return this._objects.length}contains(t,e){return!!this._objects.includes(t)||!!e&&this._objects.some((e=>e instanceof s&&e.contains(t,!0)))}complexity(){return this._objects.reduce(((t,e)=>t+=e.complexity?e.complexity():0),0)}sendObjectToBack(t){return!(!t||t===this._objects[0])&&(it(this._objects,t),this._objects.unshift(t),this._onStackOrderChanged(t),!0)}bringObjectToFront(t){return!(!t||t===this._objects[this._objects.length-1])&&(it(this._objects,t),this._objects.push(t),this._onStackOrderChanged(t),!0)}sendObjectBackwards(t,e){if(!t)return!1;const s=this._objects.indexOf(t);if(0!==s){const i=this.findNewLowerIndex(t,s,e);return it(this._objects,t),this._objects.splice(i,0,t),this._onStackOrderChanged(t),!0}return!1}bringObjectForward(t,e){if(!t)return!1;const s=this._objects.indexOf(t);if(s!==this._objects.length-1){const i=this.findNewUpperIndex(t,s,e);return it(this._objects,t),this._objects.splice(i,0,t),this._onStackOrderChanged(t),!0}return!1}moveObjectTo(t,e){return t!==this._objects[e]&&(it(this._objects,t),this._objects.splice(e,0,t),this._onStackOrderChanged(t),!0)}findNewLowerIndex(t,e,s){let i;if(s){i=e;for(let s=e-1;s>=0;--s)if(t.isOverlapping(this._objects[s])){i=s;break}}else i=e-1;return i}findNewUpperIndex(t,e,s){let i;if(s){i=e;for(let s=e+1;s<this._objects.length;++s)if(t.isOverlapping(this._objects[s])){i=s;break}}else i=e+1;return i}collectObjects(t){let{left:e,top:s,width:i,height:r}=t,{includeIntersecting:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=[],a=new ot(e,s),h=a.add(new ot(i,r));for(let t=this._objects.length-1;t>=0;t--){const e=this._objects[t];e.selectable&&e.visible&&(n&&e.intersectsWithRect(a,h)||e.isContainedWithinRect(a,h)||n&&e.containsPoint(a)||n&&e.containsPoint(h))&&o.push(e)}return o}}return s}class lt extends st{_setOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(const e in t)this.set(e,t[e])}_setObject(t){for(const e in t)this._set(e,t[e])}set(t,e){return\"object\"==typeof t?this._setObject(t):this._set(t,e),this}_set(t,e){this[t]=e}toggle(t){const e=this.get(t);return\"boolean\"==typeof e&&this.set(t,!e),this}get(t){return this[t]}}function ut(t){return v().requestAnimationFrame(t)}function dt(t){return v().cancelAnimationFrame(t)}let gt=0;const ft=()=>gt++,pt=()=>{const t=m().createElement(\"canvas\");if(!t||void 0===t.getContext)throw new h(\"Failed to create `canvas` element\");return t},mt=()=>m().createElement(\"img\"),vt=t=>{const e=pt();return e.width=t.width,e.height=t.height,e},yt=(t,e,s)=>t.toDataURL(\"image/\".concat(e),s),_t=(t,e,s)=>new Promise(((i,r)=>{t.toBlob(i,\"image/\".concat(e),s)})),xt=t=>t*w,Ct=t=>t/w,bt=t=>t.every(((t,e)=>t===T[e])),St=(t,e,s)=>new ot(t).transform(e,s),wt=t=>{const e=1/(t[0]*t[3]-t[1]*t[2]),s=[e*t[3],-e*t[1],-e*t[2],e*t[0],0,0],{x:i,y:r}=new ot(t[4],t[5]).transform(s,!0);return s[4]=-i,s[5]=-r,s},Tt=(t,e,s)=>[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],s?0:t[0]*e[4]+t[2]*e[5]+t[4],s?0:t[1]*e[4]+t[3]*e[5]+t[5]],Ot=(t,e)=>t.reduceRight(((t,s)=>s&&t?Tt(s,t,e):s||t),void 0)||T.concat(),kt=t=>{let[e,s]=t;return Math.atan2(s,e)},Dt=t=>{const e=kt(t),s=Math.pow(t[0],2)+Math.pow(t[1],2),i=Math.sqrt(s),r=(t[0]*t[3]-t[2]*t[1])/i,n=Math.atan2(t[0]*t[2]+t[1]*t[3],s);return{angle:Ct(e),scaleX:i,scaleY:r,skewX:Ct(n),skewY:0,translateX:t[4]||0,translateY:t[5]||0}},Mt=function(t){return[1,0,0,1,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0]};function Pt(){let{angle:t=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{x:e=0,y:s=0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=xt(t),r=rt(i),n=nt(i);return[r,n,-n,r,e?e-(r*e-n*s):0,s?s-(n*e+r*s):0]}const Et=function(t){return[t,0,0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,0,0]},At=t=>Math.tan(xt(t)),jt=t=>[1,0,At(t),1,0,0],Ft=t=>[1,At(t),0,1,0,0],Lt=t=>{let{scaleX:e=1,scaleY:s=1,flipX:i=!1,flipY:r=!1,skewX:n=0,skewY:o=0}=t,a=Et(i?-e:e,r?-s:s);return n&&(a=Tt(a,jt(n),!0)),o&&(a=Tt(a,Ft(o),!0)),a},Rt=t=>{const{translateX:e=0,translateY:s=0,angle:i=0}=t;let r=Mt(e,s);i&&(r=Tt(r,Pt({angle:i})));const n=Lt(t);return bt(n)||(r=Tt(r,n)),r},It=function(t){let{signal:e,crossOrigin:s=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(i,r){if(e&&e.aborted)return r(new c(\"loadImage\"));const n=mt();let o;e&&(o=function(t){n.src=\"\",r(t)},e.addEventListener(\"abort\",o,{once:!0}));const a=function(){n.onload=n.onerror=null,o&&(null==e||e.removeEventListener(\"abort\",o)),i(n)};t?(n.onload=a,n.onerror=function(){o&&(null==e||e.removeEventListener(\"abort\",o)),r(new h(\"Error loading \".concat(n.src)))},s&&(n.crossOrigin=s),n.src=t):a()}))},Bt=function(t){let{signal:e,reviver:s=C}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(((i,r)=>{const n=[];e&&e.addEventListener(\"abort\",r,{once:!0}),Promise.all(t.map((t=>tt.getClass(t.type).fromObject(t,{signal:e}).then((e=>(s(t,e),n.push(e),e)))))).then(i).catch((t=>{n.forEach((t=>{t.dispose&&t.dispose()})),r(t)})).finally((()=>{e&&e.removeEventListener(\"abort\",r)}))}))},Xt=function(t){let{signal:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(((s,i)=>{const r=[];e&&e.addEventListener(\"abort\",i,{once:!0});const n=Object.values(t).map((t=>t&&t.type&&tt.has(t.type)?Bt([t],{signal:e}).then((t=>{let[e]=t;return r.push(e),e})):t)),o=Object.keys(t);Promise.all(n).then((t=>t.reduce(((t,e,s)=>(t[o[s]]=e,t)),{}))).then(s).catch((t=>{r.forEach((t=>{t.dispose&&t.dispose()})),i(t)})).finally((()=>{e&&e.removeEventListener(\"abort\",i)}))}))},Yt=function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).reduce(((e,s)=>(s in t&&(e[s]=t[s]),e)),{})},Wt=(t,e)=>Object.keys(t).reduce(((s,i)=>(e(t[i],i,t)&&(s[i]=t[i]),s)),{}),Vt=(t,e)=>parseFloat(Number(t).toFixed(e)),zt=t=>\"matrix(\"+t.map((t=>Vt(t,o.NUM_FRACTION_DIGITS))).join(\" \")+\")\",Gt=t=>!!t&&void 0!==t.toLive,Ht=t=>!!t&&\"function\"==typeof t.toObject,Nt=t=>!!t&&void 0!==t.offsetX&&\"source\"in t,Ut=t=>!!t&&\"multiSelectionStacking\"in t;function qt(t){const e=t&&Kt(t);let s=0,i=0;if(!t||!e)return{left:s,top:i};let r=t;const n=e.documentElement,o=e.body||{scrollLeft:0,scrollTop:0};for(;r&&(r.parentNode||r.host)&&(r=r.parentNode||r.host,r===e?(s=o.scrollLeft||n.scrollLeft||0,i=o.scrollTop||n.scrollTop||0):(s+=r.scrollLeft||0,i+=r.scrollTop||0),1!==r.nodeType||\"fixed\"!==r.style.position););return{left:s,top:i}}const Kt=t=>t.ownerDocument||null,Jt=t=>{var e;return(null===(e=t.ownerDocument)||void 0===e?void 0:e.defaultView)||null},Qt=function(t,e,s){let{width:i,height:r}=s,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;t.width=i,t.height=r,n>1&&(t.setAttribute(\"width\",(i*n).toString()),t.setAttribute(\"height\",(r*n).toString()),e.scale(n,n))},Zt=(t,e)=>{let{width:s,height:i}=e;s&&(t.style.width=\"number\"==typeof s?\"\".concat(s,\"px\"):s),i&&(t.style.height=\"number\"==typeof i?\"\".concat(i,\"px\"):i)};function $t(t){return void 0!==t.onselectstart&&(t.onselectstart=()=>!1),t.style.userSelect=j,t}class te{constructor(e){t(this,\"_originalCanvasStyle\",void 0),t(this,\"lower\",void 0);const s=this.createLowerCanvas(e);this.lower={el:s,ctx:s.getContext(\"2d\")}}createLowerCanvas(t){const e=(s=t)&&void 0!==s.getContext?t:t&&m().getElementById(t)||pt();var s;if(e.hasAttribute(\"data-fabric\"))throw new h(\"Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?\");return this._originalCanvasStyle=e.style.cssText,e.setAttribute(\"data-fabric\",\"main\"),e.classList.add(\"lower-canvas\"),e}cleanupDOM(t){let{width:e,height:s}=t;const{el:i}=this.lower;i.classList.remove(\"lower-canvas\"),i.removeAttribute(\"data-fabric\"),i.setAttribute(\"width\",\"\".concat(e)),i.setAttribute(\"height\",\"\".concat(s)),i.style.cssText=this._originalCanvasStyle||\"\",this._originalCanvasStyle=void 0}setDimensions(t,e){const{el:s,ctx:i}=this.lower;Qt(s,i,t,e)}setCSSDimensions(t){Zt(this.lower.el,t)}calcOffset(){return function(t){var e;const s=t&&Kt(t),i={left:0,top:0};if(!s)return i;const r=(null===(e=Jt(t))||void 0===e?void 0:e.getComputedStyle(t,null))||{};i.left+=parseInt(r.borderLeftWidth,10)||0,i.top+=parseInt(r.borderTopWidth,10)||0,i.left+=parseInt(r.paddingLeft,10)||0,i.top+=parseInt(r.paddingTop,10)||0;let n={left:0,top:0};const o=s.documentElement;void 0!==t.getBoundingClientRect&&(n=t.getBoundingClientRect());const a=qt(t);return{left:n.left+a.left-(o.clientLeft||0)+i.left,top:n.top+a.top-(o.clientTop||0)+i.top}}(this.lower.el)}dispose(){p().dispose(this.lower.el),delete this.lower}}const ee={backgroundVpt:!0,backgroundColor:\"\",overlayVpt:!0,overlayColor:\"\",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[...T]},se=[\"objects\"];class ie extends(ct(lt)){get lowerCanvasEl(){var t;return null===(t=this.elements.lower)||void 0===t?void 0:t.el}get contextContainer(){var t;return null===(t=this.elements.lower)||void 0===t?void 0:t.ctx}static getDefaults(){return ie.ownDefaults}constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(e),this.initElements(t),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(t){this.elements=new te(t)}add(){const t=super.add(...arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),t}insertAt(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];const r=super.insertAt(t,...s);return s.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),r}remove(){const t=super.remove(...arguments);return t.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),t}_onObjectAdded(t){t.canvas&&t.canvas!==this&&(a(\"warn\",\"Canvas is trying to add an object that belongs to a different canvas.\\nResulting to default behavior: removing object from previous canvas and adding to new canvas\"),t.canvas.remove(t)),t._set(\"canvas\",this),t.setCoords(),this.fire(\"object:added\",{target:t}),t.fire(\"added\",{target:this})}_onObjectRemoved(t){t._set(\"canvas\",void 0),this.fire(\"object:removed\",{target:t}),t.fire(\"removed\",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?y():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}setWidth(t,e){return this.setDimensions({width:t},e)}setHeight(t,e){return this.setDimensions({height:t},e)}_setDimensionsImpl(t){let{cssOnly:e=!1,backstoreOnly:i=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e){const e=s({width:this.width,height:this.height},t);this.elements.setDimensions(e,this.getRetinaScaling()),this.hasLostContext=!0,this.width=e.width,this.height=e.height}i||this.elements.setCSSDimensions(t),this.calcOffset()}setDimensions(t,e){this._setDimensionsImpl(t,e),e&&e.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(t){this.viewportTransform=t,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(t,e){const s=t,i=[...this.viewportTransform],r=St(t,wt(i));i[0]=e,i[3]=e;const n=St(r,i);i[4]+=s.x-n.x,i[5]+=s.y-n.y,this.setViewportTransform(i)}setZoom(t){this.zoomToPoint(new ot(0,0),t)}absolutePan(t){const e=[...this.viewportTransform];return e[4]=-t.x,e[5]=-t.y,this.setViewportTransform(e)}relativePan(t){return this.absolutePan(new ot(-t.x-this.viewportTransform[4],-t.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(t){t.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor=\"\",this.overlayColor=\"\",this.clearContext(this.getContext()),this.fire(\"canvas:cleared\"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=ut((()=>this.renderAndReset())))}calcViewportBoundaries(){const t=this.width,e=this.height,s=wt(this.viewportTransform),i=St({x:0,y:0},s),r=St({x:t,y:e},s),n=i.min(r),o=i.max(r);return this.vptCoords={tl:n,tr:new ot(o.x,n.y),bl:new ot(n.x,o.y),br:o}}cancelRequestedRender(){this.nextRenderHandle&&(dt(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(t){}renderCanvas(t,e){if(this.destroyed)return;const s=this.viewportTransform,i=this.clipPath;this.calcViewportBoundaries(),this.clearContext(t),t.imageSmoothingEnabled=this.imageSmoothingEnabled,t.patternQuality=\"best\",this.fire(\"before:render\",{ctx:t}),this._renderBackground(t),t.save(),t.transform(s[0],s[1],s[2],s[3],s[4],s[5]),this._renderObjects(t,e),t.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(t),i&&(i._set(\"canvas\",this),i.shouldCache(),i._transformDone=!0,i.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(t,i)),this._renderOverlay(t),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(t),this.fire(\"after:render\",{ctx:t}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}drawClipPathOnCanvas(t,e){const s=this.viewportTransform;t.save(),t.transform(...s),t.globalCompositeOperation=\"destination-in\",e.transform(t),t.scale(1/e.zoomX,1/e.zoomY),t.drawImage(e._cacheCanvas,-e.cacheTranslationX,-e.cacheTranslationY),t.restore()}_renderObjects(t,e){for(let s=0,i=e.length;s<i;++s)e[s]&&e[s].render(t)}_renderBackgroundOrOverlay(t,e){const s=this[\"\".concat(e,\"Color\")],i=this[\"\".concat(e,\"Image\")],r=this.viewportTransform,n=this[\"\".concat(e,\"Vpt\")];if(!s&&!i)return;const o=Gt(s);if(s){if(t.save(),t.beginPath(),t.moveTo(0,0),t.lineTo(this.width,0),t.lineTo(this.width,this.height),t.lineTo(0,this.height),t.closePath(),t.fillStyle=o?s.toLive(t):s,n&&t.transform(...r),o){t.transform(1,0,0,1,s.offsetX||0,s.offsetY||0);const e=s.gradientTransform||s.patternTransform;e&&t.transform(...e)}t.fill(),t.restore()}if(i){t.save();const{skipOffscreen:e}=this;this.skipOffscreen=n,n&&t.transform(...r),i.render(t),this.skipOffscreen=e,t.restore()}}_renderBackground(t){this._renderBackgroundOrOverlay(t,\"background\")}_renderOverlay(t){this._renderBackgroundOrOverlay(t,\"overlay\")}getCenter(){return{top:this.height/2,left:this.width/2}}getCenterPoint(){return new ot(this.width/2,this.height/2)}centerObjectH(t){return this._centerObject(t,new ot(this.getCenterPoint().x,t.getCenterPoint().y))}centerObjectV(t){return this._centerObject(t,new ot(t.getCenterPoint().x,this.getCenterPoint().y))}centerObject(t){return this._centerObject(t,this.getCenterPoint())}viewportCenterObject(t){return this._centerObject(t,this.getVpCenter())}viewportCenterObjectH(t){return this._centerObject(t,new ot(this.getVpCenter().x,t.getCenterPoint().y))}viewportCenterObjectV(t){return this._centerObject(t,new ot(t.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return St(this.getCenterPoint(),wt(this.viewportTransform))}_centerObject(t,e){t.setXY(e,D,D),t.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(t){return this.toDatalessObject(t)}toObject(t){return this._toObjectMethod(\"toObject\",t)}toJSON(){return this.toObject()}toDatalessObject(t){return this._toObjectMethod(\"toDatalessObject\",t)}_toObjectMethod(t,e){const i=this.clipPath,r=i&&!i.excludeFromExport?this._toObject(i,t,e):null;return s(s(s({version:x},Yt(this,e)),{},{objects:this._objects.filter((t=>!t.excludeFromExport)).map((s=>this._toObject(s,t,e)))},this.__serializeBgOverlay(t,e)),r?{clipPath:r}:null)}_toObject(t,e,s){let i;this.includeDefaultValues||(i=t.includeDefaultValues,t.includeDefaultValues=!1);const r=t[e](s);return this.includeDefaultValues||(t.includeDefaultValues=!!i),r}__serializeBgOverlay(t,e){const s={},i=this.backgroundImage,r=this.overlayImage,n=this.backgroundColor,o=this.overlayColor;return Gt(n)?n.excludeFromExport||(s.background=n.toObject(e)):n&&(s.background=n),Gt(o)?o.excludeFromExport||(s.overlay=o.toObject(e)):o&&(s.overlay=o),i&&!i.excludeFromExport&&(s.backgroundImage=this._toObject(i,t,e)),r&&!r.excludeFromExport&&(s.overlayImage=this._toObject(r,t,e)),s}toSVG(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;t.reviver=e;const s=[];return this._setSVGPreamble(s,t),this._setSVGHeader(s,t),this.clipPath&&s.push('<g clip-path=\"url(#'.concat(this.clipPath.clipPathId,')\" >\\n')),this._setSVGBgOverlayColor(s,\"background\"),this._setSVGBgOverlayImage(s,\"backgroundImage\",e),this._setSVGObjects(s,e),this.clipPath&&s.push(\"</g>\\n\"),this._setSVGBgOverlayColor(s,\"overlay\"),this._setSVGBgOverlayImage(s,\"overlayImage\",e),s.push(\"</svg>\"),s.join(\"\")}_setSVGPreamble(t,e){e.suppressPreamble||t.push('<?xml version=\"1.0\" encoding=\"',e.encoding||\"UTF-8\",'\" standalone=\"no\" ?>\\n','<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" ','\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\\n')}_setSVGHeader(t,e){const s=e.width||\"\".concat(this.width),i=e.height||\"\".concat(this.height),r=o.NUM_FRACTION_DIGITS,n=e.viewBox;let a;if(n)a='viewBox=\"'.concat(n.x,\" \").concat(n.y,\" \").concat(n.width,\" \").concat(n.height,'\" ');else if(this.svgViewportTransformation){const t=this.viewportTransform;a='viewBox=\"'.concat(Vt(-t[4]/t[0],r),\" \").concat(Vt(-t[5]/t[3],r),\" \").concat(Vt(this.width/t[0],r),\" \").concat(Vt(this.height/t[3],r),'\" ')}else a='viewBox=\"0 0 '.concat(this.width,\" \").concat(this.height,'\" ');t.push(\"<svg \",'xmlns=\"http://www.w3.org/2000/svg\" ','xmlns:xlink=\"http://www.w3.org/1999/xlink\" ','version=\"1.1\" ','width=\"',s,'\" ','height=\"',i,'\" ',a,'xml:space=\"preserve\">\\n',\"<desc>Created with Fabric.js \",x,\"</desc>\\n\",\"<defs>\\n\",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(e),\"</defs>\\n\")}createSVGClipPathMarkup(t){const e=this.clipPath;return e?(e.clipPathId=\"CLIPPATH_\".concat(ft()),'<clipPath id=\"'.concat(e.clipPathId,'\" >\\n').concat(e.toClipPathSVG(t.reviver),\"</clipPath>\\n\")):\"\"}createSVGRefElementsMarkup(){return[\"background\",\"overlay\"].map((t=>{const e=this[\"\".concat(t,\"Color\")];if(Gt(e)){const s=this[\"\".concat(t,\"Vpt\")],i=this.viewportTransform,r={isType:()=>!1,width:this.width/(s?i[0]:1),height:this.height/(s?i[3]:1)};return e.toSVG(r,{additionalTransform:s?zt(i):\"\"})}})).join(\"\")}createSVGFontFacesMarkup(){const t=[],e={},s=o.fontPaths;this._objects.forEach((function e(s){t.push(s),ht(s)&&s._objects.forEach(e)})),t.forEach((t=>{if(!(i=t)||\"function\"!=typeof i._renderText)return;var i;const{styles:r,fontFamily:n}=t;!e[n]&&s[n]&&(e[n]=!0,r&&Object.values(r).forEach((t=>{Object.values(t).forEach((t=>{let{fontFamily:i=\"\"}=t;!e[i]&&s[i]&&(e[i]=!0)}))})))}));const i=Object.keys(e).map((t=>\"\\t\\t@font-face {\\n\\t\\t\\tfont-family: '\".concat(t,\"';\\n\\t\\t\\tsrc: url('\").concat(s[t],\"');\\n\\t\\t}\\n\"))).join(\"\");return i?'\\t<style type=\"text/css\"><![CDATA[\\n'.concat(i,\"]]></style>\\n\"):\"\"}_setSVGObjects(t,e){this.forEachObject((s=>{s.excludeFromExport||this._setSVGObject(t,s,e)}))}_setSVGObject(t,e,s){t.push(e.toSVG(s))}_setSVGBgOverlayImage(t,e,s){const i=this[e];i&&!i.excludeFromExport&&i.toSVG&&t.push(i.toSVG(s))}_setSVGBgOverlayColor(t,e){const s=this[\"\".concat(e,\"Color\")];if(s)if(Gt(s)){const i=s.repeat||\"\",r=this.width,n=this.height,o=this[\"\".concat(e,\"Vpt\")]?zt(wt(this.viewportTransform)):\"\";t.push('<rect transform=\"'.concat(o,\" translate(\").concat(r/2,\",\").concat(n/2,')\" x=\"').concat(s.offsetX-r/2,'\" y=\"').concat(s.offsetY-n/2,'\" width=\"').concat(\"repeat-y\"!==i&&\"no-repeat\"!==i||!Nt(s)?r:s.source.width,'\" height=\"').concat(\"repeat-x\"!==i&&\"no-repeat\"!==i||!Nt(s)?n:s.source.height,'\" fill=\"url(#SVGID_').concat(s.id,')\"></rect>\\n'))}else t.push('<rect x=\"0\" y=\"0\" width=\"100%\" height=\"100%\" ','fill=\"',s,'\"',\"></rect>\\n\")}loadFromJSON(t,e){let{signal:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)return Promise.reject(new h(\"`json` is undefined\"));const r=\"string\"==typeof t?JSON.parse(t):t,{objects:n=[]}=r,o=i(r,se),{backgroundImage:a,background:c,overlayImage:l,overlay:u,clipPath:d}=o,g=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([Bt(n,{reviver:e,signal:s}),Xt({backgroundImage:a,backgroundColor:c,overlayImage:l,overlayColor:u,clipPath:d},{signal:s})]).then((t=>{let[e,s]=t;return this.clear(),this.add(...e),this.set(o),this.set(s),this.renderOnAddRemove=g,this}))}clone(t){const e=this.toObject(t);return this.cloneWithoutData().loadFromJSON(e)}cloneWithoutData(){const t=vt(this);return new this.constructor(t)}toDataURL(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{format:e=\"png\",quality:s=1,multiplier:i=1,enableRetinaScaling:r=!1}=t,n=i*(r?this.getRetinaScaling():1);return yt(this.toCanvasElement(n,t),e,s)}toBlob(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{format:e=\"png\",quality:s=1,multiplier:i=1,enableRetinaScaling:r=!1}=t,n=i*(r?this.getRetinaScaling():1);return _t(this.toCanvasElement(n,t),e,s)}toCanvasElement(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,{width:e,height:s,left:i,top:r,filter:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=(e||this.width)*t,a=(s||this.height)*t,h=this.getZoom(),c=this.width,l=this.height,u=this.skipControlsDrawing,d=h*t,g=this.viewportTransform,f=[d,0,0,d,(g[4]-(i||0))*t,(g[5]-(r||0))*t],p=this.enableRetinaScaling,m=vt({width:o,height:a}),v=n?this._objects.filter((t=>n(t))):this._objects;return this.enableRetinaScaling=!1,this.viewportTransform=f,this.width=o,this.height=a,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(m.getContext(\"2d\"),v),this.viewportTransform=g,this.width=c,this.height=l,this.calcViewportBoundaries(),this.enableRetinaScaling=p,this.skipControlsDrawing=u,m}dispose(){return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),et.cancelByCanvas(this),this.disposed=!0,new Promise(((t,e)=>{const s=()=>{this.destroy(),t(!0)};s.kill=e,this.__cleanupTask&&this.__cleanupTask.kill(\"aborted\"),this.destroyed?t(!1):this.nextRenderHandle?this.__cleanupTask=s:s()}))}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject((t=>t.dispose())),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return\"#<Canvas (\".concat(this.complexity(),\"): { objects: \").concat(this._objects.length,\" }>\")}}t(ie,\"ownDefaults\",ee);const re=[\"touchstart\",\"touchmove\",\"touchend\"];const ne=t=>{const e=qt(t.target),s=function(t){const e=t.changedTouches;return e&&e[0]?e[0]:t}(t);return new ot(s.clientX+e.left,s.clientY+e.top)},oe=t=>re.includes(t.type)||\"touch\"===t.pointerType,ae=t=>{t.preventDefault(),t.stopPropagation()},he=t=>{let e=0,s=0,i=0,r=0;for(let n=0,o=t.length;n<o;n++){const{x:o,y:a}=t[n];(o>i||!n)&&(i=o),(o<e||!n)&&(e=o),(a>r||!n)&&(r=a),(a<s||!n)&&(s=a)}return{left:e,top:s,width:i-e,height:r-s}},ce=[\"translateX\",\"translateY\",\"scaleX\",\"scaleY\"],le=(t,e)=>ue(t,Tt(e,t.calcOwnMatrix())),ue=(t,e)=>{const s=Dt(e),{translateX:r,translateY:n,scaleX:o,scaleY:a}=s,h=i(s,ce),c=new ot(r,n);t.flipX=!1,t.flipY=!1,Object.assign(t,h),t.set({scaleX:o,scaleY:a}),t.setPositionByOrigin(c,D,D)},de=t=>{t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.flipX=!1,t.flipY=!1,t.rotate(0)},ge=t=>({scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX,skewY:t.skewY,angle:t.angle,left:t.left,flipX:t.flipX,flipY:t.flipY,top:t.top}),fe=(t,e,s)=>{const i=t/2,r=e/2,n=[new ot(-i,-r),new ot(i,-r),new ot(-i,r),new ot(i,r)].map((t=>t.transform(s))),o=he(n);return new ot(o.width,o.height)},pe=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T;return Tt(wt(arguments.length>1&&void 0!==arguments[1]?arguments[1]:T),t)},me=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T;return t.transform(pe(e,s))},ve=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T;return t.transform(pe(e,s),!0)},ye=(t,e,s)=>{const i=pe(e,s);return ue(t,Tt(i,t.calcOwnMatrix())),i},_e=(t,e)=>{var i;const{transform:{target:r}}=e;null===(i=r.canvas)||void 0===i||i.fire(\"object:\".concat(t),s(s({},e),{},{target:r})),r.fire(t,e)},xe={left:-.5,top:-.5,center:0,bottom:.5,right:.5},Ce=t=>\"string\"==typeof t?xe[t]:t-.5,be=\"not-allowed\";function Se(t){return Ce(t.originX)===Ce(D)&&Ce(t.originY)===Ce(D)}function we(t){return.5-Ce(t)}const Te=(t,e)=>t[e],Oe=(t,e,s,i)=>({e:t,transform:e,pointer:new ot(s,i)});function ke(t,e){const s=t.getTotalAngle()+Ct(Math.atan2(e.y,e.x))+360;return Math.round(s%360/45)}function De(t,e,s,i,r){var n;let{target:o,corner:a}=t;const h=o.controls[a],c=(null===(n=o.canvas)||void 0===n?void 0:n.getZoom())||1,l=o.padding/c,u=function(t,e,s,i){const r=t.getRelativeCenterPoint(),n=void 0!==s&&void 0!==i?t.translateToGivenOrigin(r,D,D,s,i):new ot(t.left,t.top);return(t.angle?e.rotate(-xt(t.angle),r):e).subtract(n)}(o,new ot(i,r),e,s);return u.x>=l&&(u.x-=l),u.x<=-l&&(u.x+=l),u.y>=l&&(u.y-=l),u.y<=l&&(u.y+=l),u.x-=h.offsetX,u.y-=h.offsetY,u}const Me=(t,e,s,i)=>{const{target:r,offsetX:n,offsetY:o}=e,a=s-n,h=i-o,c=!Te(r,\"lockMovementX\")&&r.left!==a,l=!Te(r,\"lockMovementY\")&&r.top!==h;return c&&r.set(M,a),l&&r.set(P,h),(c||l)&&_e(L,Oe(t,e,s,i)),c||l},Pe=t=>t.replace(/\\s+/g,\" \"),Ee={aliceblue:\"#F0F8FF\",antiquewhite:\"#FAEBD7\",aqua:\"#0FF\",aquamarine:\"#7FFFD4\",azure:\"#F0FFFF\",beige:\"#F5F5DC\",bisque:\"#FFE4C4\",black:\"#000\",blanchedalmond:\"#FFEBCD\",blue:\"#00F\",blueviolet:\"#8A2BE2\",brown:\"#A52A2A\",burlywood:\"#DEB887\",cadetblue:\"#5F9EA0\",chartreuse:\"#7FFF00\",chocolate:\"#D2691E\",coral:\"#FF7F50\",cornflowerblue:\"#6495ED\",cornsilk:\"#FFF8DC\",crimson:\"#DC143C\",cyan:\"#0FF\",darkblue:\"#00008B\",darkcyan:\"#008B8B\",darkgoldenrod:\"#B8860B\",darkgray:\"#A9A9A9\",darkgrey:\"#A9A9A9\",darkgreen:\"#006400\",darkkhaki:\"#BDB76B\",darkmagenta:\"#8B008B\",darkolivegreen:\"#556B2F\",darkorange:\"#FF8C00\",darkorchid:\"#9932CC\",darkred:\"#8B0000\",darksalmon:\"#E9967A\",darkseagreen:\"#8FBC8F\",darkslateblue:\"#483D8B\",darkslategray:\"#2F4F4F\",darkslategrey:\"#2F4F4F\",darkturquoise:\"#00CED1\",darkviolet:\"#9400D3\",deeppink:\"#FF1493\",deepskyblue:\"#00BFFF\",dimgray:\"#696969\",dimgrey:\"#696969\",dodgerblue:\"#1E90FF\",firebrick:\"#B22222\",floralwhite:\"#FFFAF0\",forestgreen:\"#228B22\",fuchsia:\"#F0F\",gainsboro:\"#DCDCDC\",ghostwhite:\"#F8F8FF\",gold:\"#FFD700\",goldenrod:\"#DAA520\",gray:\"#808080\",grey:\"#808080\",green:\"#008000\",greenyellow:\"#ADFF2F\",honeydew:\"#F0FFF0\",hotpink:\"#FF69B4\",indianred:\"#CD5C5C\",indigo:\"#4B0082\",ivory:\"#FFFFF0\",khaki:\"#F0E68C\",lavender:\"#E6E6FA\",lavenderblush:\"#FFF0F5\",lawngreen:\"#7CFC00\",lemonchiffon:\"#FFFACD\",lightblue:\"#ADD8E6\",lightcoral:\"#F08080\",lightcyan:\"#E0FFFF\",lightgoldenrodyellow:\"#FAFAD2\",lightgray:\"#D3D3D3\",lightgrey:\"#D3D3D3\",lightgreen:\"#90EE90\",lightpink:\"#FFB6C1\",lightsalmon:\"#FFA07A\",lightseagreen:\"#20B2AA\",lightskyblue:\"#87CEFA\",lightslategray:\"#789\",lightslategrey:\"#789\",lightsteelblue:\"#B0C4DE\",lightyellow:\"#FFFFE0\",lime:\"#0F0\",limegreen:\"#32CD32\",linen:\"#FAF0E6\",magenta:\"#F0F\",maroon:\"#800000\",mediumaquamarine:\"#66CDAA\",mediumblue:\"#0000CD\",mediumorchid:\"#BA55D3\",mediumpurple:\"#9370DB\",mediumseagreen:\"#3CB371\",mediumslateblue:\"#7B68EE\",mediumspringgreen:\"#00FA9A\",mediumturquoise:\"#48D1CC\",mediumvioletred:\"#C71585\",midnightblue:\"#191970\",mintcream:\"#F5FFFA\",mistyrose:\"#FFE4E1\",moccasin:\"#FFE4B5\",navajowhite:\"#FFDEAD\",navy:\"#000080\",oldlace:\"#FDF5E6\",olive:\"#808000\",olivedrab:\"#6B8E23\",orange:\"#FFA500\",orangered:\"#FF4500\",orchid:\"#DA70D6\",palegoldenrod:\"#EEE8AA\",palegreen:\"#98FB98\",paleturquoise:\"#AFEEEE\",palevioletred:\"#DB7093\",papayawhip:\"#FFEFD5\",peachpuff:\"#FFDAB9\",peru:\"#CD853F\",pink:\"#FFC0CB\",plum:\"#DDA0DD\",powderblue:\"#B0E0E6\",purple:\"#800080\",rebeccapurple:\"#639\",red:\"#F00\",rosybrown:\"#BC8F8F\",royalblue:\"#4169E1\",saddlebrown:\"#8B4513\",salmon:\"#FA8072\",sandybrown:\"#F4A460\",seagreen:\"#2E8B57\",seashell:\"#FFF5EE\",sienna:\"#A0522D\",silver:\"#C0C0C0\",skyblue:\"#87CEEB\",slateblue:\"#6A5ACD\",slategray:\"#708090\",slategrey:\"#708090\",snow:\"#FFFAFA\",springgreen:\"#00FF7F\",steelblue:\"#4682B4\",tan:\"#D2B48C\",teal:\"#008080\",thistle:\"#D8BFD8\",tomato:\"#FF6347\",turquoise:\"#40E0D0\",violet:\"#EE82EE\",wheat:\"#F5DEB3\",white:\"#FFF\",whitesmoke:\"#F5F5F5\",yellow:\"#FF0\",yellowgreen:\"#9ACD32\"},Ae=(t,e,s)=>(s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+6*(e-t)*s:s<.5?e:s<2/3?t+(e-t)*(2/3-s)*6:t),je=(t,e,s,i)=>{t/=255,e/=255,s/=255;const r=Math.max(t,e,s),n=Math.min(t,e,s);let o,a;const h=(r+n)/2;if(r===n)o=a=0;else{const i=r-n;switch(a=h>.5?i/(2-r-n):i/(r+n),r){case t:o=(e-s)/i+(e<s?6:0);break;case e:o=(s-t)/i+2;break;case s:o=(t-e)/i+4}o/=6}return[Math.round(360*o),Math.round(100*a),Math.round(100*h),i]},Fe=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"1\";return parseFloat(t)/(t.endsWith(\"%\")?100:1)},Le=t=>Math.min(Math.round(t),255).toString(16).toUpperCase().padStart(2,\"0\"),Re=t=>{let[e,s,i,r=1]=t;const n=Math.round(.3*e+.59*s+.11*i);return[n,n,n,r]};class Ie{constructor(e){if(t(this,\"isUnrecognised\",!1),e)if(e instanceof Ie)this.setSource([...e._source]);else if(Array.isArray(e)){const[t,s,i,r=1]=e;this.setSource([t,s,i,r])}else this.setSource(this._tryParsingColor(e));else this.setSource([0,0,0,1])}_tryParsingColor(t){return(t=t.toLowerCase())in Ee&&(t=Ee[t]),\"transparent\"===t?[255,255,255,0]:Ie.sourceFromHex(t)||Ie.sourceFromRgb(t)||Ie.sourceFromHsl(t)||(this.isUnrecognised=!0)&&[0,0,0,1]}getSource(){return this._source}setSource(t){this._source=t}toRgb(){const[t,e,s]=this.getSource();return\"rgb(\".concat(t,\",\").concat(e,\",\").concat(s,\")\")}toRgba(){return\"rgba(\".concat(this.getSource().join(\",\"),\")\")}toHsl(){const[t,e,s]=je(...this.getSource());return\"hsl(\".concat(t,\",\").concat(e,\"%,\").concat(s,\"%)\")}toHsla(){const[t,e,s,i]=je(...this.getSource());return\"hsla(\".concat(t,\",\").concat(e,\"%,\").concat(s,\"%,\").concat(i,\")\")}toHex(){return this.toHexa().slice(0,6)}toHexa(){const[t,e,s,i]=this.getSource();return\"\".concat(Le(t)).concat(Le(e)).concat(Le(s)).concat(Le(Math.round(255*i)))}getAlpha(){return this.getSource()[3]}setAlpha(t){return this._source[3]=t,this}toGrayscale(){return this.setSource(Re(this.getSource())),this}toBlackWhite(t){const[e,,,s]=Re(this.getSource()),i=e<(t||127)?0:255;return this.setSource([i,i,i,s]),this}overlayWith(t){t instanceof Ie||(t=new Ie(t));const e=this.getSource(),s=t.getSource(),[i,r,n]=e.map(((t,e)=>Math.round(.5*t+.5*s[e])));return this.setSource([i,r,n,e[3]]),this}static fromRgb(t){return Ie.fromRgba(t)}static fromRgba(t){return new Ie(Ie.sourceFromRgb(t))}static sourceFromRgb(t){const e=Pe(t).match(/^rgba?\\(\\s?(\\d{0,3}(?:\\.\\d+)?%?)\\s?[\\s|,]\\s?(\\d{0,3}(?:\\.\\d+)?%?)\\s?[\\s|,]\\s?(\\d{0,3}(?:\\.\\d+)?%?)\\s?(?:\\s?[,/]\\s?(\\d{0,3}(?:\\.\\d+)?%?)\\s?)?\\)$/i);if(e){const[t,s,i]=e.slice(1,4).map((t=>{const e=parseFloat(t);return t.endsWith(\"%\")?Math.round(2.55*e):e}));return[t,s,i,Fe(e[4])]}}static fromHsl(t){return Ie.fromHsla(t)}static fromHsla(t){return new Ie(Ie.sourceFromHsl(t))}static sourceFromHsl(t){const e=Pe(t).match(/^hsla?\\(\\s?([+-]?\\d{0,3}(?:\\.\\d+)?(?:deg|turn|rad)?)\\s?[\\s|,]\\s?(\\d{0,3}(?:\\.\\d+)?%?)\\s?[\\s|,]\\s?(\\d{0,3}(?:\\.\\d+)?%?)\\s?(?:\\s?[,/]\\s?(\\d*(?:\\.\\d+)?%?)\\s?)?\\)$/i);if(!e)return;const s=(Ie.parseAngletoDegrees(e[1])%360+360)%360/360,i=parseFloat(e[2])/100,r=parseFloat(e[3])/100;let n,o,a;if(0===i)n=o=a=r;else{const t=r<=.5?r*(i+1):r+i-r*i,e=2*r-t;n=Ae(e,t,s+1/3),o=Ae(e,t,s),a=Ae(e,t,s-1/3)}return[Math.round(255*n),Math.round(255*o),Math.round(255*a),Fe(e[4])]}static fromHex(t){return new Ie(Ie.sourceFromHex(t))}static sourceFromHex(t){if(t.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){const e=t.slice(t.indexOf(\"#\")+1);let s;s=e.length<=4?e.split(\"\").map((t=>t+t)):e.match(/.{2}/g);const[i,r,n,o=255]=s.map((t=>parseInt(t,16)));return[i,r,n,o/255]}}static parseAngletoDegrees(t){const e=t.toLowerCase(),s=parseFloat(e);return e.includes(\"rad\")?Ct(s):e.includes(\"turn\")?360*s:s}}const Be=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O;const s=/\\D{0,2}$/.exec(t),i=parseFloat(t),r=o.DPI;switch(null==s?void 0:s[0]){case\"mm\":return i*r/25.4;case\"cm\":return i*r/2.54;case\"in\":return i*r;case\"pt\":return i*r/72;case\"pc\":return i*r/72*12;case\"em\":return i*e;default:return i}},Xe=t=>{const[e,s]=t.trim().split(\" \"),[i,r]=(n=e)&&n!==j?[n.slice(1,4),n.slice(5,8)]:n===j?[n,n]:[\"Mid\",\"Mid\"];var n;return{meetOrSlice:s||\"meet\",alignX:i,alignY:r}},Ye=function(t,e){let s,i,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e)if(e.toLive)s=\"url(#SVGID_\".concat(e.id,\")\");else{const t=new Ie(e),r=t.getAlpha();s=t.toRgb(),1!==r&&(i=r.toString())}else s=\"none\";return r?\"\".concat(t,\": \").concat(s,\"; \").concat(i?\"\".concat(t,\"-opacity: \").concat(i,\"; \"):\"\"):\"\".concat(t,'=\"').concat(s,'\" ').concat(i?\"\".concat(t,'-opacity=\"').concat(i,'\" '):\"\")};class We{getSvgStyles(t){const e=this.fillRule?this.fillRule:\"nonzero\",s=this.strokeWidth?this.strokeWidth:\"0\",i=this.strokeDashArray?this.strokeDashArray.join(\" \"):j,r=this.strokeDashOffset?this.strokeDashOffset:\"0\",n=this.strokeLineCap?this.strokeLineCap:\"butt\",o=this.strokeLineJoin?this.strokeLineJoin:\"miter\",a=this.strokeMiterLimit?this.strokeMiterLimit:\"4\",h=void 0!==this.opacity?this.opacity:\"1\",c=this.visible?\"\":\" visibility: hidden;\",l=t?\"\":this.getSvgFilter(),u=Ye(K,this.fill);return[Ye(J,this.stroke),\"stroke-width: \",s,\"; \",\"stroke-dasharray: \",i,\"; \",\"stroke-linecap: \",n,\"; \",\"stroke-dashoffset: \",r,\"; \",\"stroke-linejoin: \",o,\"; \",\"stroke-miterlimit: \",a,\"; \",u,\"fill-rule: \",e,\"; \",\"opacity: \",h,\";\",l,c].join(\"\")}getSvgFilter(){return this.shadow?\"filter: url(#SVGID_\".concat(this.shadow.id,\");\"):\"\"}getSvgCommons(){return[this.id?'id=\"'.concat(this.id,'\" '):\"\",this.clipPath?'clip-path=\"url(#'.concat(this.clipPath.clipPathId,')\" '):\"\"].join(\"\")}getSvgTransform(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\";const s=t?this.calcTransformMatrix():this.calcOwnMatrix(),i='transform=\"'.concat(zt(s));return\"\".concat(i).concat(e,'\" ')}_toSVG(t){return[\"\"]}toSVG(t){return this._createBaseSVGMarkup(this._toSVG(t),{reviver:t})}toClipPathSVG(t){return\"\\t\"+this._createBaseClipPathSVGMarkup(this._toSVG(t),{reviver:t})}_createBaseClipPathSVGMarkup(t){let{reviver:e,additionalTransform:s=\"\"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=[this.getSvgTransform(!0,s),this.getSvgCommons()].join(\"\"),r=t.indexOf(\"COMMON_PARTS\");return t[r]=i,e?e(t.join(\"\")):t.join(\"\")}_createBaseSVGMarkup(t){let{noStyle:e,reviver:s,withShadow:i,additionalTransform:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e?\"\":'style=\"'.concat(this.getSvgStyles(),'\" '),o=i?'style=\"'.concat(this.getSvgFilter(),'\" '):\"\",a=this.clipPath,h=this.strokeUniform?'vector-effect=\"non-scaling-stroke\" ':\"\",c=a&&a.absolutePositioned,l=this.stroke,u=this.fill,d=this.shadow,g=[],f=t.indexOf(\"COMMON_PARTS\");let p;a&&(a.clipPathId=\"CLIPPATH_\".concat(ft()),p='<clipPath id=\"'.concat(a.clipPathId,'\" >\\n').concat(a.toClipPathSVG(s),\"</clipPath>\\n\")),c&&g.push(\"<g \",o,this.getSvgCommons(),\" >\\n\"),g.push(\"<g \",this.getSvgTransform(!1),c?\"\":o+this.getSvgCommons(),\" >\\n\");const m=[n,h,e?\"\":this.addPaintOrder(),\" \",r?'transform=\"'.concat(r,'\" '):\"\"].join(\"\");return t[f]=m,Gt(u)&&g.push(u.toSVG(this)),Gt(l)&&g.push(l.toSVG(this)),d&&g.push(d.toSVG(this)),a&&g.push(p),g.push(t.join(\"\")),g.push(\"</g>\\n\"),c&&g.push(\"</g>\\n\"),s?s(g.join(\"\")):g.join(\"\")}addPaintOrder(){return this.paintFirst!==K?' paint-order=\"'.concat(this.paintFirst,'\" '):\"\"}}function Ve(t){return new RegExp(\"^(\"+t.join(\"|\")+\")\\\\b\",\"i\")}const ze=\"textDecorationThickness\",Ge=[\"fontSize\",\"fontWeight\",\"fontFamily\",\"fontStyle\"],He=[\"underline\",\"overline\",\"linethrough\"],Ne=[...Ge,\"lineHeight\",\"text\",\"charSpacing\",\"textAlign\",\"styles\",\"path\",\"pathStartOffset\",\"pathSide\",\"pathAlign\"],Ue=[...Ne,...He,\"textBackgroundColor\",\"direction\",ze],qe=[...Ge,...He,J,\"strokeWidth\",K,\"deltaY\",\"textBackgroundColor\",ze],Ke={_reNewline:F,_reSpacesAndTabs:/[ \\t\\r]/g,_reSpaceAndTab:/[ \\t\\r]/,_reWords:/\\S+/g,fontSize:40,fontWeight:\"normal\",fontFamily:\"Times New Roman\",underline:!1,overline:!1,linethrough:!1,textAlign:M,fontStyle:\"normal\",lineHeight:1.16,textBackgroundColor:\"\",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:M,pathAlign:\"baseline\",charSpacing:0,deltaY:0,direction:\"ltr\",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.28167,overline:-.81333},_fontSizeMult:1.13,[ze]:66.667},Je=\"justify\",Qe=\"justify-left\",Ze=\"justify-right\",$e=\"justify-center\";var ts,es,ss;const is=String.raw(ts||(ts=r([\"[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?\"],[\"[-+]?(?:\\\\d*\\\\.\\\\d+|\\\\d+\\\\.?)(?:[eE][-+]?\\\\d+)?\"]))),rs=String.raw(es||(es=r([\"(?:s*,?s+|s*,s*)\"],[\"(?:\\\\s*,?\\\\s+|\\\\s*,\\\\s*)\"]))),ns=\"http://www.w3.org/2000/svg\",os=new RegExp(\"(normal|italic)?\\\\s*(normal|small-caps)?\\\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\\\s*(\"+is+\"(?:px|cm|mm|em|pt|pc|in)*)(?:\\\\/(normal|\"+is+\"))?\\\\s+(.*)\"),as={cx:M,x:M,r:\"radius\",cy:P,y:P,display:\"visible\",visibility:\"visible\",transform:\"transformMatrix\",\"fill-opacity\":\"fillOpacity\",\"fill-rule\":\"fillRule\",\"font-family\":\"fontFamily\",\"font-size\":\"fontSize\",\"font-style\":\"fontStyle\",\"font-weight\":\"fontWeight\",\"letter-spacing\":\"charSpacing\",\"paint-order\":\"paintFirst\",\"stroke-dasharray\":\"strokeDashArray\",\"stroke-dashoffset\":\"strokeDashOffset\",\"stroke-linecap\":\"strokeLineCap\",\"stroke-linejoin\":\"strokeLineJoin\",\"stroke-miterlimit\":\"strokeMiterLimit\",\"stroke-opacity\":\"strokeOpacity\",\"stroke-width\":\"strokeWidth\",\"text-decoration\":\"textDecoration\",\"text-anchor\":\"textAnchor\",opacity:\"opacity\",\"clip-path\":\"clipPath\",\"clip-rule\":\"clipRule\",\"vector-effect\":\"strokeUniform\",\"image-rendering\":\"imageSmoothing\",\"text-decoration-thickness\":ze},hs=\"font-size\",cs=\"clip-path\",ls=Ve([\"path\",\"circle\",\"polygon\",\"polyline\",\"ellipse\",\"rect\",\"line\",\"image\",\"text\"]),us=Ve([\"symbol\",\"image\",\"marker\",\"pattern\",\"view\",\"svg\"]),ds=Ve([\"symbol\",\"g\",\"a\",\"svg\",\"clipPath\",\"defs\"]),gs=new RegExp(String.raw(ss||(ss=r([\"^s*(\",\")\",\"(\",\")\",\"(\",\")\",\"(\",\")s*$\"],[\"^\\\\s*(\",\")\",\"(\",\")\",\"(\",\")\",\"(\",\")\\\\s*$\"])),is,rs,is,rs,is,rs,is)),fs=new ot(1,0),ps=new ot,ms=(t,e)=>t.rotate(e),vs=(t,e)=>new ot(e).subtract(t),ys=t=>t.distanceFrom(ps),_s=(t,e)=>Math.atan2(Ss(t,e),ws(t,e)),xs=t=>_s(fs,t),Cs=t=>t.eq(ps)?t:t.scalarDivide(ys(t)),bs=function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Cs(new ot(-t.y,t.x).scalarMultiply(e?1:-1))},Ss=(t,e)=>t.x*e.y-t.y*e.x,ws=(t,e)=>t.x*e.x+t.y*e.y,Ts=(t,e,s)=>{if(t.eq(e)||t.eq(s))return!0;const i=Ss(e,s),r=Ss(e,t),n=Ss(s,t);return i>=0?r>=0&&n<=0:!(r<=0&&n>=0)},Os=\"(-?\\\\d+(?:\\\\.\\\\d*)?(?:px)?(?:\\\\s?|$))?\",ks=new RegExp(\"(?:\\\\s|^)\"+Os+Os+\"(\"+is+\"?(?:px)?)?(?:\\\\s?|$)(?:$|\\\\s)\");class Ds{constructor(t){const e=\"string\"==typeof t?Ds.parseShadow(t):t;Object.assign(this,Ds.ownDefaults,e),this.id=ft()}static parseShadow(t){const e=t.trim(),[,s=0,i=0,r=0]=(ks.exec(e)||[]).map((t=>parseFloat(t)||0));return{color:(e.replace(ks,\"\")||\"rgb(0,0,0)\").trim(),offsetX:s,offsetY:i,blur:r}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join(\"px \")}toSVG(t){const e=ms(new ot(this.offsetX,this.offsetY),xt(-t.angle)),s=new Ie(this.color);let i=40,r=40;return t.width&&t.height&&(i=100*Vt((Math.abs(e.x)+this.blur)/t.width,o.NUM_FRACTION_DIGITS)+20,r=100*Vt((Math.abs(e.y)+this.blur)/t.height,o.NUM_FRACTION_DIGITS)+20),t.flipX&&(e.x*=-1),t.flipY&&(e.y*=-1),'<filter id=\"SVGID_'.concat(this.id,'\" y=\"-').concat(r,'%\" height=\"').concat(100+2*r,'%\" x=\"-').concat(i,'%\" width=\"').concat(100+2*i,'%\" >\\n\\t<feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"').concat(Vt(this.blur?this.blur/2:0,o.NUM_FRACTION_DIGITS),'\"></feGaussianBlur>\\n\\t<feOffset dx=\"').concat(Vt(e.x,o.NUM_FRACTION_DIGITS),'\" dy=\"').concat(Vt(e.y,o.NUM_FRACTION_DIGITS),'\" result=\"oBlur\" ></feOffset>\\n\\t<feFlood flood-color=\"').concat(s.toRgb(),'\" flood-opacity=\"').concat(s.getAlpha(),'\"/>\\n\\t<feComposite in2=\"oBlur\" operator=\"in\" />\\n\\t<feMerge>\\n\\t\\t<feMergeNode></feMergeNode>\\n\\t\\t<feMergeNode in=\"SourceGraphic\"></feMergeNode>\\n\\t</feMerge>\\n</filter>\\n')}toObject(){const t={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},e=Ds.ownDefaults;return this.includeDefaultValues?t:Wt(t,((t,s)=>t!==e[s]))}static async fromObject(t){return new this(t)}}t(Ds,\"ownDefaults\",{color:\"rgb(0,0,0)\",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),t(Ds,\"type\",\"shadow\"),tt.setClass(Ds,\"shadow\");const Ms=(t,e,s)=>Math.max(t,Math.min(e,s)),Ps=[P,M,H,N,\"flipX\",\"flipY\",\"originX\",\"originY\",\"angle\",\"opacity\",\"globalCompositeOperation\",\"shadow\",\"visible\",U,q],Es=[K,J,\"strokeWidth\",\"strokeDashArray\",\"width\",\"height\",\"paintFirst\",\"strokeUniform\",\"strokeLineCap\",\"strokeDashOffset\",\"strokeLineJoin\",\"strokeMiterLimit\",\"backgroundColor\",\"clipPath\"],As={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:M,originY:P,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:K,fill:\"rgb(0,0,0)\",fillRule:\"nonzero\",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:\"butt\",strokeLineJoin:\"miter\",strokeMiterLimit:4,globalCompositeOperation:\"source-over\",backgroundColor:\"\",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},js=(t,e,s,i)=>(t<Math.abs(e)?(t=e,i=s/4):i=0===e&&0===t?s/S*Math.asin(1):s/S*Math.asin(e/t),{a:t,c:e,p:s,s:i}),Fs=(t,e,s,i,r)=>t*Math.pow(2,10*(i-=1))*Math.sin((i*r-e)*S/s),Ls=(t,e,s,i)=>-s*Math.cos(t/i*b)+s+e,Rs=(t,e,s,i)=>(t/=i)<1/2.75?s*(7.5625*t*t)+e:t<2/2.75?s*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?s*(7.5625*(t-=2.25/2.75)*t+.9375)+e:s*(7.5625*(t-=2.625/2.75)*t+.984375)+e,Is=(t,e,s,i)=>s-Rs(i-t,0,s,i)+e;var Bs=Object.freeze({__proto__:null,defaultEasing:Ls,easeInBack:function(t,e,s,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1.70158;return s*(t/=i)*t*((r+1)*t-r)+e},easeInBounce:Is,easeInCirc:(t,e,s,i)=>-s*(Math.sqrt(1-(t/=i)*t)-1)+e,easeInCubic:(t,e,s,i)=>s*(t/i)**3+e,easeInElastic:(t,e,s,i)=>{const r=s;let n=0;if(0===t)return e;if(1===(t/=i))return e+s;n||(n=.3*i);const{a:o,s:a,p:h}=js(r,s,n,1.70158);return-Fs(o,a,h,t,i)+e},easeInExpo:(t,e,s,i)=>0===t?e:s*2**(10*(t/i-1))+e,easeInOutBack:function(t,e,s,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1.70158;return(t/=i/2)<1?s/2*(t*t*((1+(r*=1.525))*t-r))+e:s/2*((t-=2)*t*((1+(r*=1.525))*t+r)+2)+e},easeInOutBounce:(t,e,s,i)=>t<i/2?.5*Is(2*t,0,s,i)+e:.5*Rs(2*t-i,0,s,i)+.5*s+e,easeInOutCirc:(t,e,s,i)=>(t/=i/2)<1?-s/2*(Math.sqrt(1-t**2)-1)+e:s/2*(Math.sqrt(1-(t-=2)*t)+1)+e,easeInOutCubic:(t,e,s,i)=>(t/=i/2)<1?s/2*t**3+e:s/2*((t-2)**3+2)+e,easeInOutElastic:(t,e,s,i)=>{const r=s;let n=0;if(0===t)return e;if(2===(t/=i/2))return e+s;n||(n=i*(.3*1.5));const{a:o,s:a,p:h,c:c}=js(r,s,n,1.70158);return t<1?-.5*Fs(o,a,h,t,i)+e:o*Math.pow(2,-10*(t-=1))*Math.sin((t*i-a)*S/h)*.5+c+e},easeInOutExpo:(t,e,s,i)=>0===t?e:t===i?e+s:(t/=i/2)<1?s/2*2**(10*(t-1))+e:s/2*-(2**(-10*--t)+2)+e,easeInOutQuad:(t,e,s,i)=>(t/=i/2)<1?s/2*t**2+e:-s/2*(--t*(t-2)-1)+e,easeInOutQuart:(t,e,s,i)=>(t/=i/2)<1?s/2*t**4+e:-s/2*((t-=2)*t**3-2)+e,easeInOutQuint:(t,e,s,i)=>(t/=i/2)<1?s/2*t**5+e:s/2*((t-2)**5+2)+e,easeInOutSine:(t,e,s,i)=>-s/2*(Math.cos(Math.PI*t/i)-1)+e,easeInQuad:(t,e,s,i)=>s*(t/=i)*t+e,easeInQuart:(t,e,s,i)=>s*(t/=i)*t**3+e,easeInQuint:(t,e,s,i)=>s*(t/i)**5+e,easeInSine:(t,e,s,i)=>-s*Math.cos(t/i*b)+s+e,easeOutBack:function(t,e,s,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1.70158;return s*((t=t/i-1)*t*((r+1)*t+r)+1)+e},easeOutBounce:Rs,easeOutCirc:(t,e,s,i)=>s*Math.sqrt(1-(t=t/i-1)*t)+e,easeOutCubic:(t,e,s,i)=>s*((t/i-1)**3+1)+e,easeOutElastic:(t,e,s,i)=>{const r=s;let n=0;if(0===t)return e;if(1===(t/=i))return e+s;n||(n=.3*i);const{a:o,s:a,p:h,c:c}=js(r,s,n,1.70158);return o*2**(-10*t)*Math.sin((t*i-a)*S/h)+c+e},easeOutExpo:(t,e,s,i)=>t===i?e+s:s*-(2**(-10*t/i)+1)+e,easeOutQuad:(t,e,s,i)=>-s*(t/=i)*(t-2)+e,easeOutQuart:(t,e,s,i)=>-s*((t=t/i-1)*t**3-1)+e,easeOutQuint:(t,e,s,i)=>s*((t/i-1)**5+1)+e,easeOutSine:(t,e,s,i)=>s*Math.sin(t/i*b)+e});const Xs=()=>!1;class Ys{constructor(e){let{startValue:s,byValue:i,duration:r=500,delay:n=0,easing:o=Ls,onStart:a=C,onChange:h=C,onComplete:c=C,abort:l=Xs,target:u}=e;t(this,\"_state\",\"pending\"),t(this,\"durationProgress\",0),t(this,\"valueProgress\",0),this.tick=this.tick.bind(this),this.duration=r,this.delay=n,this.easing=o,this._onStart=a,this._onChange=h,this._onComplete=c,this._abort=l,this.target=u,this.startValue=s,this.byValue=i,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return\"aborted\"===this._state||\"completed\"===this._state}start(){const t=t=>{\"pending\"===this._state&&(this.startTime=t||+new Date,this._state=\"running\",this._onStart(),this.tick(this.startTime))};this.register(),this.delay>0?setTimeout((()=>ut(t)),this.delay):ut(t)}tick(t){const e=(t||+new Date)-this.startTime,s=Math.min(e,this.duration);this.durationProgress=s/this.duration;const{value:i,valueProgress:r}=this.calculate(s);this.value=Object.freeze(i),this.valueProgress=r,\"aborted\"!==this._state&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state=\"aborted\",this.unregister()):e>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state=\"completed\",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),ut(this.tick)))}register(){et.push(this)}unregister(){et.remove(this)}abort(){this._state=\"aborted\",this.unregister()}}const Ws=[\"startValue\",\"endValue\"];class Vs extends Ys{constructor(t){let{startValue:e=0,endValue:r=100}=t;super(s(s({},i(t,Ws)),{},{startValue:e,byValue:r-e}))}calculate(t){const e=this.easing(t,this.startValue,this.byValue,this.duration);return{value:e,valueProgress:Math.abs((e-this.startValue)/this.byValue)}}}const zs=[\"startValue\",\"endValue\"];class Gs extends Ys{constructor(t){let{startValue:e=[0],endValue:r=[100]}=t;super(s(s({},i(t,zs)),{},{startValue:e,byValue:r.map(((t,s)=>t-e[s]))}))}calculate(t){const e=this.startValue.map(((e,s)=>this.easing(t,e,this.byValue[s],this.duration,s)));return{value:e,valueProgress:Math.abs((e[0]-this.startValue[0])/this.byValue[0])}}}const Hs=[\"startValue\",\"endValue\",\"easing\",\"onChange\",\"onComplete\",\"abort\"],Ns=(t,e,s,i)=>e+s*(1-Math.cos(t/i*b)),Us=t=>t&&((e,s,i)=>t(new Ie(e).toRgba(),s,i));class qs extends Ys{constructor(t){let{startValue:e,endValue:r,easing:n=Ns,onChange:o,onComplete:a,abort:h}=t,c=i(t,Hs);const l=new Ie(e).getSource(),u=new Ie(r).getSource();super(s(s({},c),{},{startValue:l,byValue:u.map(((t,e)=>t-l[e])),easing:n,onChange:Us(o),onComplete:Us(a),abort:Us(h)}))}calculate(t){const[e,s,i,r]=this.startValue.map(((e,s)=>this.easing(t,e,this.byValue[s],this.duration,s))),n=[...[e,s,i].map(Math.round),Ms(0,r,1)];return{value:n,valueProgress:n.map(((t,e)=>0!==this.byValue[e]?Math.abs((t-this.startValue[e])/this.byValue[e]):0)).find((t=>0!==t))||0}}}function Ks(t){const e=(t=>Array.isArray(t.startValue)||Array.isArray(t.endValue))(t)?new Gs(t):new Vs(t);return e.start(),e}function Js(t){const e=new qs(t);return e.start(),e}class Qs{constructor(t){this.status=t,this.points=[]}includes(t){return this.points.some((e=>e.eq(t)))}append(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return this.points=this.points.concat(e.filter((t=>!this.includes(t)))),this}static isPointContained(t,e,s){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e.eq(s))return t.eq(e);if(e.x===s.x)return t.x===e.x&&(i||t.y>=Math.min(e.y,s.y)&&t.y<=Math.max(e.y,s.y));if(e.y===s.y)return t.y===e.y&&(i||t.x>=Math.min(e.x,s.x)&&t.x<=Math.max(e.x,s.x));{const r=vs(e,s),n=vs(e,t).divide(r);return i?Math.abs(n.x)===Math.abs(n.y):n.x===n.y&&n.x>=0&&n.x<=1}}static isPointInPolygon(t,e){const s=new ot(t).setX(Math.min(t.x-1,...e.map((t=>t.x))));let i=0;for(let r=0;r<e.length;r++){const n=this.intersectSegmentSegment(e[r],e[(r+1)%e.length],t,s);if(n.includes(t))return!0;i+=Number(\"Intersection\"===n.status)}return i%2==1}static intersectLineLine(t,e,s,i){let r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],n=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];const o=e.x-t.x,a=e.y-t.y,h=i.x-s.x,c=i.y-s.y,l=t.x-s.x,u=t.y-s.y,d=h*u-c*l,g=o*u-a*l,f=c*o-h*a;if(0!==f){const e=d/f,s=g/f;return(r||0<=e&&e<=1)&&(n||0<=s&&s<=1)?new Qs(\"Intersection\").append(new ot(t.x+e*o,t.y+e*a)):new Qs}if(0===d||0===g){const o=r||n||Qs.isPointContained(t,s,i)||Qs.isPointContained(e,s,i)||Qs.isPointContained(s,t,e)||Qs.isPointContained(i,t,e);return new Qs(o?\"Coincident\":void 0)}return new Qs(\"Parallel\")}static intersectSegmentLine(t,e,s,i){return Qs.intersectLineLine(t,e,s,i,!1,!0)}static intersectSegmentSegment(t,e,s,i){return Qs.intersectLineLine(t,e,s,i,!1,!1)}static intersectLinePolygon(t,e,s){let i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const r=new Qs,n=s.length;for(let o,a,h,c=0;c<n;c++){if(o=s[c],a=s[(c+1)%n],h=Qs.intersectLineLine(t,e,o,a,i,!1),\"Coincident\"===h.status)return h;r.append(...h.points)}return r.points.length>0&&(r.status=\"Intersection\"),r}static intersectSegmentPolygon(t,e,s){return Qs.intersectLinePolygon(t,e,s,!1)}static intersectPolygonPolygon(t,e){const s=new Qs,i=t.length,r=[];for(let n=0;n<i;n++){const o=t[n],a=t[(n+1)%i],h=Qs.intersectSegmentPolygon(o,a,e);\"Coincident\"===h.status?(r.push(h),s.append(o,a)):s.append(...h.points)}return r.length>0&&r.length===t.length?new Qs(\"Coincident\"):(s.points.length>0&&(s.status=\"Intersection\"),s)}static intersectPolygonRectangle(t,e,s){const i=e.min(s),r=e.max(s),n=new ot(r.x,i.y),o=new ot(i.x,r.y);return Qs.intersectPolygonPolygon(t,[i,n,r,o])}}class Zs extends lt{getX(){return this.getXY().x}setX(t){this.setXY(this.getXY().setX(t))}getY(){return this.getXY().y}setY(t){this.setXY(this.getXY().setY(t))}getRelativeX(){return this.left}setRelativeX(t){this.left=t}getRelativeY(){return this.top}setRelativeY(t){this.top=t}getXY(){const t=this.getRelativeXY();return this.group?St(t,this.group.calcTransformMatrix()):t}setXY(t,e,s){this.group&&(t=St(t,wt(this.group.calcTransformMatrix()))),this.setRelativeXY(t,e,s)}getRelativeXY(){return new ot(this.left,this.top)}setRelativeXY(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.originX,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.originY;this.setPositionByOrigin(t,e,s)}isStrokeAccountedForInDimensions(){return!1}getCoords(){const{tl:t,tr:e,br:s,bl:i}=this.aCoords||(this.aCoords=this.calcACoords()),r=[t,e,s,i];if(this.group){const t=this.group.calcTransformMatrix();return r.map((e=>St(e,t)))}return r}intersectsWithRect(t,e){return\"Intersection\"===Qs.intersectPolygonRectangle(this.getCoords(),t,e).status}intersectsWithObject(t){const e=Qs.intersectPolygonPolygon(this.getCoords(),t.getCoords());return\"Intersection\"===e.status||\"Coincident\"===e.status||t.isContainedWithinObject(this)||this.isContainedWithinObject(t)}isContainedWithinObject(t){return this.getCoords().every((e=>t.containsPoint(e)))}isContainedWithinRect(t,e){const{left:s,top:i,width:r,height:n}=this.getBoundingRect();return s>=t.x&&s+r<=e.x&&i>=t.y&&i+n<=e.y}isOverlapping(t){return this.intersectsWithObject(t)||this.isContainedWithinObject(t)||t.isContainedWithinObject(this)}containsPoint(t){return Qs.isPointInPolygon(t,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;const{tl:t,br:e}=this.canvas.vptCoords;return!!this.getCoords().some((s=>s.x<=e.x&&s.x>=t.x&&s.y<=e.y&&s.y>=t.y))||(!!this.intersectsWithRect(t,e)||this.containsPoint(t.midPointFrom(e)))}isPartiallyOnScreen(){if(!this.canvas)return!1;const{tl:t,br:e}=this.canvas.vptCoords;if(this.intersectsWithRect(t,e))return!0;return this.getCoords().every((s=>(s.x>=e.x||s.x<=t.x)&&(s.y>=e.y||s.y<=t.y)))&&this.containsPoint(t.midPointFrom(e))}getBoundingRect(){return he(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(t){this._set(H,t),this._set(N,t),this.setCoords()}scaleToWidth(t){const e=this.getBoundingRect().width/this.getScaledWidth();return this.scale(t/this.width/e)}scaleToHeight(t){const e=this.getBoundingRect().height/this.getScaledHeight();return this.scale(t/this.height/e)}getCanvasRetinaScaling(){var t;return(null===(t=this.canvas)||void 0===t?void 0:t.getRetinaScaling())||1}getTotalAngle(){return this.group?Ct(kt(this.calcTransformMatrix())):this.angle}getViewportTransform(){var t;return(null===(t=this.canvas)||void 0===t?void 0:t.viewportTransform)||T.concat()}calcACoords(){const t=Pt({angle:this.angle}),{x:e,y:s}=this.getRelativeCenterPoint(),i=Mt(e,s),r=Tt(i,t),n=this._getTransformedDimensions(),o=n.x/2,a=n.y/2;return{tl:St({x:-o,y:-a},r),tr:St({x:o,y:-a},r),bl:St({x:-o,y:a},r),br:St({x:o,y:a},r)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=[];return!t&&this.group&&(e=this.group.transformMatrixKey(t)),e.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,Ce(this.originX),Ce(this.originY)),e}calcTransformMatrix(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.calcOwnMatrix();if(t||!this.group)return e;const s=this.transformMatrixKey(t),i=this.matrixCache;return i&&i.key.every(((t,e)=>t===s[e]))?i.value:(this.group&&(e=Tt(this.group.calcTransformMatrix(!1),e)),this.matrixCache={key:s,value:e},e)}calcOwnMatrix(){const t=this.transformMatrixKey(!0),e=this.ownMatrixCache;if(e&&e.key===t)return e.value;const s=this.getRelativeCenterPoint(),i={angle:this.angle,translateX:s.x,translateY:s.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},r=Rt(i);return this.ownMatrixCache={key:t,value:r},r}_getNonTransformedDimensions(){return new ot(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(t){return this._getTransformedDimensions(t).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}_getTransformedDimensions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=s({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},t),i=e.strokeWidth;let r=i,n=0;this.strokeUniform&&(r=0,n=i);const o=e.width+r,a=e.height+r;let h;return h=0===e.skewX&&0===e.skewY?new ot(o*e.scaleX,a*e.scaleY):fe(o,a,Lt(e)),h.scalarAdd(n)}translateToGivenOrigin(t,e,s,i,r){let n=t.x,o=t.y;const a=Ce(i)-Ce(e),h=Ce(r)-Ce(s);if(a||h){const t=this._getTransformedDimensions();n+=a*t.x,o+=h*t.y}return new ot(n,o)}translateToCenterPoint(t,e,s){if(e===D&&s===D)return t;const i=this.translateToGivenOrigin(t,e,s,D,D);return this.angle?i.rotate(xt(this.angle),t):i}translateToOriginPoint(t,e,s){const i=this.translateToGivenOrigin(t,D,D,e,s);return this.angle?i.rotate(xt(this.angle),t):i}getCenterPoint(){const t=this.getRelativeCenterPoint();return this.group?St(t,this.group.calcTransformMatrix()):t}getRelativeCenterPoint(){return this.translateToCenterPoint(new ot(this.left,this.top),this.originX,this.originY)}getPointByOrigin(t,e){return this.translateToOriginPoint(this.getRelativeCenterPoint(),t,e)}setPositionByOrigin(t,e,s){const i=this.translateToCenterPoint(t,e,s),r=this.translateToOriginPoint(i,this.originX,this.originY);this.set({left:r.x,top:r.y})}_getLeftTopCoords(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),M,P)}}const $s=[\"type\"],ti=[\"extraParam\"];let ei=class e extends Zs{static getDefaults(){return e.ownDefaults}get type(){const t=this.constructor.type;return\"FabricObject\"===t?\"object\":t.toLowerCase()}set type(t){a(\"warn\",\"Setting type has no effect\",t)}constructor(s){super(),t(this,\"_cacheContext\",null),Object.assign(this,e.ownDefaults),this.setOptions(s)}_createCacheCanvas(){this._cacheCanvas=pt(),this._cacheContext=this._cacheCanvas.getContext(\"2d\"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(t){const e=t.width,s=t.height,i=o.maxCacheSideLimit,r=o.minCacheSideLimit;if(e<=i&&s<=i&&e*s<=o.perfLimitSizeTotal)return e<r&&(t.width=r),s<r&&(t.height=r),t;const n=e/s,[a,h]=_.limitDimsByArea(n),c=Ms(r,a,i),l=Ms(r,h,i);return e>c&&(t.zoomX/=e/c,t.width=c,t.capped=!0),s>l&&(t.zoomY/=s/l,t.height=l,t.capped=!0),t}_getCacheCanvasDimensions(){const t=this.getTotalObjectScaling(),e=this._getTransformedDimensions({skewX:0,skewY:0}),s=e.x*t.x/this.scaleX,i=e.y*t.y/this.scaleY;return{width:Math.ceil(s+2),height:Math.ceil(i+2),zoomX:t.x,zoomY:t.y,x:s,y:i}}_updateCacheCanvas(){const t=this._cacheCanvas,e=this._cacheContext,{width:s,height:i,zoomX:r,zoomY:n,x:o,y:a}=this._limitCacheSize(this._getCacheCanvasDimensions()),h=s!==t.width||i!==t.height,c=this.zoomX!==r||this.zoomY!==n;if(!t||!e)return!1;if(h||c){s!==t.width||i!==t.height?(t.width=s,t.height=i):(e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height));const h=o/2,c=a/2;return this.cacheTranslationX=Math.round(t.width/2-h)+h,this.cacheTranslationY=Math.round(t.height/2-c)+c,e.translate(this.cacheTranslationX,this.cacheTranslationY),e.scale(r,n),this.zoomX=r,this.zoomY=n,!0}return!1}setOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setOptions(t)}transform(t){const e=this.group&&!this.group._transformDone||this.group&&this.canvas&&t===this.canvas.contextTop,s=this.calcTransformMatrix(!e);t.transform(s[0],s[1],s[2],s[3],s[4],s[5])}getObjectScaling(){if(!this.group)return new ot(Math.abs(this.scaleX),Math.abs(this.scaleY));const t=Dt(this.calcTransformMatrix());return new ot(Math.abs(t.scaleX),Math.abs(t.scaleY))}getTotalObjectScaling(){const t=this.getObjectScaling();if(this.canvas){const e=this.canvas.getZoom(),s=this.getCanvasRetinaScaling();return t.scalarMultiply(e*s)}return t}getObjectOpacity(){let t=this.opacity;return this.group&&(t*=this.group.getObjectOpacity()),t}_constrainScale(t){return Math.abs(t)<this.minScaleLimit?t<0?-this.minScaleLimit:this.minScaleLimit:0===t?1e-4:t}_set(t,e){t!==H&&t!==N||(e=this._constrainScale(e)),t===H&&e<0?(this.flipX=!this.flipX,e*=-1):\"scaleY\"===t&&e<0?(this.flipY=!this.flipY,e*=-1):\"shadow\"!==t||!e||e instanceof Ds||(e=new Ds(e));const s=this[t]!==e;return this[t]=e,s&&this.constructor.cacheProperties.includes(t)&&(this.dirty=!0),this.parent&&(this.dirty||s&&this.constructor.stateProperties.includes(t))&&this.parent._set(\"dirty\",!0),this}isNotVisible(){return 0===this.opacity||!this.width&&!this.height&&0===this.strokeWidth||!this.visible}render(t){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(t.save(),this._setupCompositeOperation(t),this.drawSelectionBackground(t),this.transform(t),this._setOpacity(t),this._setShadow(t),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(t)):(this._removeCacheCanvas(),this.drawObject(t,!1,{}),this.dirty=!1),t.restore())}drawSelectionBackground(t){}renderCache(t){if(t=t||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext){const{zoomX:e,zoomY:s,cacheTranslationX:i,cacheTranslationY:r}=this,{width:n,height:o}=this._cacheCanvas;this.drawObject(this._cacheContext,t.forClipping,{zoomX:e,zoomY:s,cacheTranslationX:i,cacheTranslationY:r,width:n,height:o,parentClipPaths:[]}),this.dirty=!1}}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return this.stroke&&\"transparent\"!==this.stroke&&0!==this.strokeWidth}hasFill(){return this.fill&&\"transparent\"!==this.fill}needsItsOwnCache(){return!!(this.paintFirst===J&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.objectCaching&&(!this.parent||!this.parent.isOnACache())||this.needsItsOwnCache(),this.ownCaching}willDrawShadow(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)}drawClipPathOnCache(t,e,s){t.save(),e.inverted?t.globalCompositeOperation=\"destination-out\":t.globalCompositeOperation=\"destination-in\",t.setTransform(1,0,0,1,0,0),t.drawImage(s,0,0),t.restore()}drawObject(t,e,s){const i=this.fill,r=this.stroke;e?(this.fill=\"black\",this.stroke=\"\",this._setClippingProperties(t)):this._renderBackground(t),this._render(t),this._drawClipPath(t,this.clipPath,s),this.fill=i,this.stroke=r}createClipPathLayer(t,e){const s=vt(e),i=s.getContext(\"2d\");if(i.translate(e.cacheTranslationX,e.cacheTranslationY),i.scale(e.zoomX,e.zoomY),t._cacheCanvas=s,e.parentClipPaths.forEach((t=>{t.transform(i)})),e.parentClipPaths.push(t),t.absolutePositioned){const t=wt(this.calcTransformMatrix());i.transform(t[0],t[1],t[2],t[3],t[4],t[5])}return t.transform(i),t.drawObject(i,!0,e),s}_drawClipPath(t,e,s){if(!e)return;e._transformDone=!0;const i=this.createClipPathLayer(e,s);this.drawClipPathOnCache(t,e,i)}drawCacheOnCanvas(t){t.scale(1/this.zoomX,1/this.zoomY),t.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isNotVisible())return!1;const e=this._cacheCanvas,s=this._cacheContext;return!(!e||!s||t||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(e&&s&&!t&&(s.save(),s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,e.width,e.height),s.restore()),!0)}_renderBackground(t){if(!this.backgroundColor)return;const e=this._getNonTransformedDimensions();t.fillStyle=this.backgroundColor,t.fillRect(-e.x/2,-e.y/2,e.x,e.y),this._removeShadow(t)}_setOpacity(t){this.group&&!this.group._transformDone?t.globalAlpha=this.getObjectOpacity():t.globalAlpha*=this.opacity}_setStrokeStyles(t,e){const s=e.stroke;s&&(t.lineWidth=e.strokeWidth,t.lineCap=e.strokeLineCap,t.lineDashOffset=e.strokeDashOffset,t.lineJoin=e.strokeLineJoin,t.miterLimit=e.strokeMiterLimit,Gt(s)?\"percentage\"===s.gradientUnits||s.gradientTransform||s.patternTransform?this._applyPatternForTransformedGradient(t,s):(t.strokeStyle=s.toLive(t),this._applyPatternGradientTransform(t,s)):t.strokeStyle=e.stroke)}_setFillStyles(t,e){let{fill:s}=e;s&&(Gt(s)?(t.fillStyle=s.toLive(t),this._applyPatternGradientTransform(t,s)):t.fillStyle=s)}_setClippingProperties(t){t.globalAlpha=1,t.strokeStyle=\"transparent\",t.fillStyle=\"#000000\"}_setLineDash(t,e){e&&0!==e.length&&t.setLineDash(e)}_setShadow(t){if(!this.shadow)return;const e=this.shadow,s=this.canvas,i=this.getCanvasRetinaScaling(),[r,,,n]=(null==s?void 0:s.viewportTransform)||T,a=r*i,h=n*i,c=e.nonScaling?new ot(1,1):this.getObjectScaling();t.shadowColor=e.color,t.shadowBlur=e.blur*o.browserShadowBlurConstant*(a+h)*(c.x+c.y)/4,t.shadowOffsetX=e.offsetX*a*c.x,t.shadowOffsetY=e.offsetY*h*c.y}_removeShadow(t){this.shadow&&(t.shadowColor=\"\",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0)}_applyPatternGradientTransform(t,e){if(!Gt(e))return{offsetX:0,offsetY:0};const s=e.gradientTransform||e.patternTransform,i=-this.width/2+e.offsetX||0,r=-this.height/2+e.offsetY||0;return\"percentage\"===e.gradientUnits?t.transform(this.width,0,0,this.height,i,r):t.transform(1,0,0,1,i,r),s&&t.transform(s[0],s[1],s[2],s[3],s[4],s[5]),{offsetX:i,offsetY:r}}_renderPaintInOrder(t){this.paintFirst===J?(this._renderStroke(t),this._renderFill(t)):(this._renderFill(t),this._renderStroke(t))}_render(t){}_renderFill(t){this.fill&&(t.save(),this._setFillStyles(t,this),\"evenodd\"===this.fillRule?t.fill(\"evenodd\"):t.fill(),t.restore())}_renderStroke(t){if(this.stroke&&0!==this.strokeWidth){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this.strokeUniform){const e=this.getObjectScaling();t.scale(1/e.x,1/e.y)}this._setLineDash(t,this.strokeDashArray),this._setStrokeStyles(t,this),t.stroke(),t.restore()}}_applyPatternForTransformedGradient(t,e){var s;const i=this._limitCacheSize(this._getCacheCanvasDimensions()),r=this.getCanvasRetinaScaling(),n=i.x/this.scaleX/r,o=i.y/this.scaleY/r,a=vt({width:Math.ceil(n),height:Math.ceil(o)}),h=a.getContext(\"2d\");h&&(h.beginPath(),h.moveTo(0,0),h.lineTo(n,0),h.lineTo(n,o),h.lineTo(0,o),h.closePath(),h.translate(n/2,o/2),h.scale(i.zoomX/this.scaleX/r,i.zoomY/this.scaleY/r),this._applyPatternGradientTransform(h,e),h.fillStyle=e.toLive(t),h.fill(),t.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),t.scale(r*this.scaleX/i.zoomX,r*this.scaleY/i.zoomY),t.strokeStyle=null!==(s=h.createPattern(a,\"no-repeat\"))&&void 0!==s?s:\"\")}_findCenterFromElement(){return new ot(this.left+this.width/2,this.top+this.height/2)}clone(t){const e=this.toObject(t);return this.constructor.fromObject(e)}cloneAsImage(t){const e=this.toCanvasElement(t);return new(tt.getClass(\"image\"))(e)}toCanvasElement(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=ge(this),s=this.group,i=this.shadow,r=Math.abs,n=t.enableRetinaScaling?y():1,o=(t.multiplier||1)*n,a=t.canvasProvider||(t=>new ie(t,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,t.withoutTransform&&de(this),t.withoutShadow&&(this.shadow=null),t.viewportTransform&&ye(this,this.getViewportTransform()),this.setCoords();const h=pt(),c=this.getBoundingRect(),l=this.shadow,u=new ot;if(l){const t=l.blur,e=l.nonScaling?new ot(1,1):this.getObjectScaling();u.x=2*Math.round(r(l.offsetX)+t)*r(e.x),u.y=2*Math.round(r(l.offsetY)+t)*r(e.y)}const d=c.width+u.x,g=c.height+u.y;h.width=Math.ceil(d),h.height=Math.ceil(g);const f=a(h);\"jpeg\"===t.format&&(f.backgroundColor=\"#fff\"),this.setPositionByOrigin(new ot(f.width/2,f.height/2),D,D);const p=this.canvas;f._objects=[this],this.set(\"canvas\",f),this.setCoords();const m=f.toCanvasElement(o||1,t);return this.set(\"canvas\",p),this.shadow=i,s&&(this.group=s),this.set(e),this.setCoords(),f._objects=[],f.destroy(),m}toDataURL(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return yt(this.toCanvasElement(t),t.format||\"png\",t.quality||1)}toBlob(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _t(this.toCanvasElement(t),t.format||\"png\",t.quality||1)}isType(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return e.includes(this.constructor.type)||e.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(t){const{centeredRotation:e,originX:s,originY:i}=this;if(e){const{x:t,y:e}=this.getRelativeCenterPoint();this.originX=D,this.originY=D,this.left=t,this.top=e}if(this.set(\"angle\",t),e){const{x:t,y:e}=this.translateToOriginPoint(this.getRelativeCenterPoint(),s,i);this.left=t,this.top=e,this.originX=s,this.originY=i}}setOnGroup(){}_setupCompositeOperation(t){this.globalCompositeOperation&&(t.globalCompositeOperation=this.globalCompositeOperation)}dispose(){et.cancelByTarget(this),this.off(),this._set(\"canvas\",void 0),this._cacheCanvas&&p().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}animate(t,e){return Object.entries(t).reduce(((t,s)=>{let[i,r]=s;return t[i]=this._animate(i,r,e),t}),{})}_animate(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=t.split(\".\"),n=this.constructor.colorProperties.includes(r[r.length-1]),{abort:o,startValue:a,onChange:h,onComplete:c}=i,l=s(s({},i),{},{target:this,startValue:null!=a?a:r.reduce(((t,e)=>t[e]),this),endValue:e,abort:null==o?void 0:o.bind(this),onChange:(t,e,s)=>{r.reduce(((e,s,i)=>(i===r.length-1&&(e[s]=t),e[s])),this),h&&h(t,e,s)},onComplete:(t,e,s)=>{this.setCoords(),c&&c(t,e,s)}});return n?Js(l):Ks(l)}isDescendantOf(t){const{parent:e,group:s}=this;return e===t||s===t||!!e&&e.isDescendantOf(t)||!!s&&s!==e&&s.isDescendantOf(t)}getAncestors(){const t=[];let e=this;do{e=e.parent,e&&t.push(e)}while(e);return t}findCommonAncestors(t){if(this===t)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};const e=this.getAncestors(),s=t.getAncestors();if(0===e.length&&s.length>0&&this===s[s.length-1])return{fork:[],otherFork:[t,...s.slice(0,s.length-1)],common:[this]};for(let i,r=0;r<e.length;r++){if(i=e[r],i===t)return{fork:[this,...e.slice(0,r)],otherFork:[],common:e.slice(r)};for(let n=0;n<s.length;n++){if(this===s[n])return{fork:[],otherFork:[t,...s.slice(0,n)],common:[this,...e]};if(i===s[n])return{fork:[this,...e.slice(0,r)],otherFork:[t,...s.slice(0,n)],common:e.slice(r)}}}return{fork:[this,...e],otherFork:[t,...s],common:[]}}hasCommonAncestors(t){const e=this.findCommonAncestors(t);return e&&!!e.common.length}isInFrontOf(t){if(this===t)return;const e=this.findCommonAncestors(t);if(e.fork.includes(t))return!0;if(e.otherFork.includes(this))return!1;const s=e.common[0]||this.canvas;if(!s)return;const i=e.fork.pop(),r=e.otherFork.pop(),n=s._objects.indexOf(i),o=s._objects.indexOf(r);return n>-1&&n>o}toObject(){const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).concat(e.customProperties,this.constructor.customProperties||[]);let i;const r=o.NUM_FRACTION_DIGITS,{clipPath:n,fill:a,stroke:h,shadow:c,strokeDashArray:l,left:u,top:d,originX:g,originY:f,width:p,height:m,strokeWidth:v,strokeLineCap:y,strokeDashOffset:_,strokeLineJoin:C,strokeUniform:b,strokeMiterLimit:S,scaleX:w,scaleY:T,angle:O,flipX:k,flipY:D,opacity:M,visible:P,backgroundColor:E,fillRule:A,paintFirst:j,globalCompositeOperation:F,skewX:L,skewY:R}=this;n&&!n.excludeFromExport&&(i=n.toObject(t.concat(\"inverted\",\"absolutePositioned\")));const I=t=>Vt(t,r),B=s(s({},Yt(this,t)),{},{type:this.constructor.type,version:x,originX:g,originY:f,left:I(u),top:I(d),width:I(p),height:I(m),fill:Ht(a)?a.toObject():a,stroke:Ht(h)?h.toObject():h,strokeWidth:I(v),strokeDashArray:l?l.concat():l,strokeLineCap:y,strokeDashOffset:_,strokeLineJoin:C,strokeUniform:b,strokeMiterLimit:I(S),scaleX:I(w),scaleY:I(T),angle:I(O),flipX:k,flipY:D,opacity:I(M),shadow:c?c.toObject():c,visible:P,backgroundColor:E,fillRule:A,paintFirst:j,globalCompositeOperation:F,skewX:I(L),skewY:I(R)},i?{clipPath:i}:null);return this.includeDefaultValues?B:this._removeDefaultValues(B)}toDatalessObject(t){return this.toObject(t)}_removeDefaultValues(t){const e=this.constructor.getDefaults(),s=Object.keys(e).length>0?e:Object.getPrototypeOf(this);return Wt(t,((t,e)=>{if(e===M||e===P||\"type\"===e)return!0;const i=s[e];return t!==i&&!(Array.isArray(t)&&Array.isArray(i)&&0===t.length&&0===i.length)}))}toString(){return\"#<\".concat(this.constructor.type,\">\")}static _fromObject(t){let e=i(t,$s),s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{extraParam:r}=s,n=i(s,ti);return Xt(e,n).then((t=>r?(delete t[r],new this(e[r],t)):new this(t)))}static fromObject(t,e){return this._fromObject(t,e)}};t(ei,\"stateProperties\",Ps),t(ei,\"cacheProperties\",Es),t(ei,\"ownDefaults\",As),t(ei,\"type\",\"FabricObject\"),t(ei,\"colorProperties\",[K,J,\"backgroundColor\"]),t(ei,\"customProperties\",[]),tt.setClass(ei),tt.setClass(ei,\"object\");const si=(t,e,i)=>(r,n,o,a)=>{const h=e(r,n,o,a);return h&&_e(t,s(s({},Oe(r,n,o,a)),i)),h};function ii(t){return(e,s,i,r)=>{const{target:n,originX:o,originY:a}=s,h=n.getRelativeCenterPoint(),c=n.translateToOriginPoint(h,o,a),l=t(e,s,i,r);return n.setPositionByOrigin(c,s.originX,s.originY),l}}const ri=si(Y,ii(((t,e,s,i)=>{const r=De(e,e.originX,e.originY,s,i);if(Ce(e.originX)===Ce(D)||Ce(e.originX)===Ce(A)&&r.x<0||Ce(e.originX)===Ce(M)&&r.x>0){const{target:t}=e,s=t.strokeWidth/(t.strokeUniform?t.scaleX:1),i=Se(e)?2:1,n=t.width,o=Math.abs(r.x*i/t.scaleX)-s;return t.set(\"width\",Math.max(o,1)),n!==t.width}return!1})));function ni(t,e,s,i,r){i=i||{};const n=this.sizeX||i.cornerSize||r.cornerSize,o=this.sizeY||i.cornerSize||r.cornerSize,a=void 0!==i.transparentCorners?i.transparentCorners:r.transparentCorners,h=a?J:K,c=!a&&(i.cornerStrokeColor||r.cornerStrokeColor);let l,u=e,d=s;t.save(),t.fillStyle=i.cornerColor||r.cornerColor||\"\",t.strokeStyle=i.cornerStrokeColor||r.cornerStrokeColor||\"\",n>o?(l=n,t.scale(1,o/n),d=s*n/o):o>n?(l=o,t.scale(n/o,1),u=e*o/n):l=n,t.beginPath(),t.arc(u,d,l/2,0,S,!1),t[h](),c&&t.stroke(),t.restore()}function oi(t,e,s,i,r){i=i||{};const n=this.sizeX||i.cornerSize||r.cornerSize,o=this.sizeY||i.cornerSize||r.cornerSize,a=void 0!==i.transparentCorners?i.transparentCorners:r.transparentCorners,h=a?J:K,c=!a&&(i.cornerStrokeColor||r.cornerStrokeColor),l=n/2,u=o/2;t.save(),t.fillStyle=i.cornerColor||r.cornerColor||\"\",t.strokeStyle=i.cornerStrokeColor||r.cornerStrokeColor||\"\",t.translate(e,s);const d=r.getTotalAngle();t.rotate(xt(d)),t[\"\".concat(h,\"Rect\")](-l,-u,n,o),c&&t.strokeRect(-l,-u,n,o),t.restore()}class ai{constructor(e){t(this,\"visible\",!0),t(this,\"actionName\",G),t(this,\"angle\",0),t(this,\"x\",0),t(this,\"y\",0),t(this,\"offsetX\",0),t(this,\"offsetY\",0),t(this,\"sizeX\",0),t(this,\"sizeY\",0),t(this,\"touchSizeX\",0),t(this,\"touchSizeY\",0),t(this,\"cursorStyle\",\"crosshair\"),t(this,\"withConnection\",!1),Object.assign(this,e)}shouldActivate(t,e,s,i){var r;let{tl:n,tr:o,br:a,bl:h}=i;return(null===(r=e.canvas)||void 0===r?void 0:r.getActiveObject())===e&&e.isControlVisible(t)&&Qs.isPointInPolygon(s,[n,o,a,h])}getActionHandler(t,e,s){return this.actionHandler}getMouseDownHandler(t,e,s){return this.mouseDownHandler}getMouseUpHandler(t,e,s){return this.mouseUpHandler}cursorStyleHandler(t,e,s){return e.cursorStyle}getActionName(t,e,s){return e.actionName}getVisibility(t,e){var s,i;return null!==(s=null===(i=t._controlsVisibility)||void 0===i?void 0:i[e])&&void 0!==s?s:this.visible}setVisibility(t,e,s){this.visible=t}positionHandler(t,e,s,i){return new ot(this.x*t.x+this.offsetX,this.y*t.y+this.offsetY).transform(e)}calcCornerCoords(t,e,s,i,r,n){const o=Ot([Mt(s,i),Pt({angle:t}),Et((r?this.touchSizeX:this.sizeX)||e,(r?this.touchSizeY:this.sizeY)||e)]);return{tl:new ot(-.5,-.5).transform(o),tr:new ot(.5,-.5).transform(o),br:new ot(.5,.5).transform(o),bl:new ot(-.5,.5).transform(o)}}render(t,e,s,i,r){if(\"circle\"===((i=i||{}).cornerStyle||r.cornerStyle))ni.call(this,t,e,s,i,r);else oi.call(this,t,e,s,i,r)}}const hi=(t,e,s)=>s.lockRotation?be:e.cursorStyle,ci=si(I,ii(((t,e,s,i)=>{let{target:r,ex:n,ey:o,theta:a,originX:h,originY:c}=e;const l=r.translateToOriginPoint(r.getRelativeCenterPoint(),h,c);if(Te(r,\"lockRotation\"))return!1;const u=Math.atan2(o-l.y,n-l.x),d=Math.atan2(i-l.y,s-l.x);let g=Ct(d-u+a);if(r.snapAngle&&r.snapAngle>0){const t=r.snapAngle,e=r.snapThreshold||t,s=Math.ceil(g/t)*t,i=Math.floor(g/t)*t;Math.abs(g-i)<e?g=i:Math.abs(g-s)<e&&(g=s)}g<0&&(g=360+g),g%=360;const f=r.angle!==g;return r.angle=g,f})));function li(t,e){const s=e.canvas,i=t[s.uniScaleKey];return s.uniformScaling&&!i||!s.uniformScaling&&i}function ui(t,e,s){const i=Te(t,\"lockScalingX\"),r=Te(t,\"lockScalingY\");if(i&&r)return!0;if(!e&&(i||r)&&s)return!0;if(i&&\"x\"===e)return!0;if(r&&\"y\"===e)return!0;const{width:n,height:o,strokeWidth:a}=t;return 0===n&&0===a&&\"y\"!==e||0===o&&0===a&&\"x\"!==e}const di=[\"e\",\"se\",\"s\",\"sw\",\"w\",\"nw\",\"n\",\"ne\",\"e\"],gi=(t,e,s)=>{const i=li(t,s);if(ui(s,0!==e.x&&0===e.y?\"x\":0===e.x&&0!==e.y?\"y\":\"\",i))return be;const r=ke(s,e);return\"\".concat(di[r],\"-resize\")};function fi(t,e,s,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const n=e.target,o=r.by,a=li(t,n);let h,c,l,u,d,g;if(ui(n,o,a))return!1;if(e.gestureScale)c=e.scaleX*e.gestureScale,l=e.scaleY*e.gestureScale;else{if(h=De(e,e.originX,e.originY,s,i),d=\"y\"!==o?Math.sign(h.x||e.signX||1):1,g=\"x\"!==o?Math.sign(h.y||e.signY||1):1,e.signX||(e.signX=d),e.signY||(e.signY=g),Te(n,\"lockScalingFlip\")&&(e.signX!==d||e.signY!==g))return!1;if(u=n._getTransformedDimensions(),a&&!o){const t=Math.abs(h.x)+Math.abs(h.y),{original:s}=e,i=t/(Math.abs(u.x*s.scaleX/n.scaleX)+Math.abs(u.y*s.scaleY/n.scaleY));c=s.scaleX*i,l=s.scaleY*i}else c=Math.abs(h.x*n.scaleX/u.x),l=Math.abs(h.y*n.scaleY/u.y);Se(e)&&(c*=2,l*=2),e.signX!==d&&\"y\"!==o&&(e.originX=we(e.originX),c*=-1,e.signX=d),e.signY!==g&&\"x\"!==o&&(e.originY=we(e.originY),l*=-1,e.signY=g)}const f=n.scaleX,p=n.scaleY;return o?(\"x\"===o&&n.set(H,c),\"y\"===o&&n.set(N,l)):(!Te(n,\"lockScalingX\")&&n.set(H,c),!Te(n,\"lockScalingY\")&&n.set(N,l)),f!==n.scaleX||p!==n.scaleY}const pi=si(R,ii(((t,e,s,i)=>fi(t,e,s,i)))),mi=si(R,ii(((t,e,s,i)=>fi(t,e,s,i,{by:\"x\"})))),vi=si(R,ii(((t,e,s,i)=>fi(t,e,s,i,{by:\"y\"})))),yi=[\"target\",\"ex\",\"ey\",\"skewingSide\"],_i={x:{counterAxis:\"y\",scale:H,skew:U,lockSkewing:\"lockSkewingX\",origin:\"originX\",flip:\"flipX\"},y:{counterAxis:\"x\",scale:N,skew:q,lockSkewing:\"lockSkewingY\",origin:\"originY\",flip:\"flipY\"}},xi=[\"ns\",\"nesw\",\"ew\",\"nwse\"],Ci=(t,e,s)=>{if(0!==e.x&&Te(s,\"lockSkewingY\"))return be;if(0!==e.y&&Te(s,\"lockSkewingX\"))return be;const i=ke(s,e)%4;return\"\".concat(xi[i],\"-resize\")};function bi(t,e,r,n,o){const{target:a}=r,{counterAxis:h,origin:c,lockSkewing:l,skew:u,flip:d}=_i[t];if(Te(a,l))return!1;const{origin:g,flip:f}=_i[h],p=Ce(r[g])*(a[f]?-1:1),m=-Math.sign(p)*(a[d]?-1:1),v=.5*-((0===a[u]&&De(r,D,D,n,o)[t]>0||a[u]>0?1:-1)*m)+.5,y=si(X,ii(((e,s,r,n)=>function(t,e,s){let{target:r,ex:n,ey:o,skewingSide:a}=e,h=i(e,yi);const{skew:c}=_i[t],l=s.subtract(new ot(n,o)).divide(new ot(r.scaleX,r.scaleY))[t],u=r[c],d=h[c],g=Math.tan(xt(d)),f=\"y\"===t?r._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:r._getTransformedDimensions({scaleX:1,scaleY:1}).y,p=2*l*a/Math.max(f,1)+g,m=Ct(Math.atan(p));r.set(c,m);const v=u!==r[c];if(v&&\"y\"===t){const{skewX:t,scaleX:e}=r,s=r._getTransformedDimensions({skewY:u}),i=r._getTransformedDimensions(),n=0!==t?s.x/i.x:1;1!==n&&r.set(H,n*e)}return v}(t,s,new ot(r,n)))));return y(e,s(s({},r),{},{[c]:v,skewingSide:m}),n,o)}const Si=(t,e,s,i)=>bi(\"x\",t,e,s,i),wi=(t,e,s,i)=>bi(\"y\",t,e,s,i);function Ti(t,e){return t[e.canvas.altActionKey]}const Oi=(t,e,s)=>{const i=Ti(t,s);return 0===e.x?i?U:N:0===e.y?i?q:H:\"\"},ki=(t,e,s)=>Ti(t,s)?Ci(0,e,s):gi(t,e,s),Di=(t,e,s,i)=>Ti(t,e.target)?wi(t,e,s,i):mi(t,e,s,i),Mi=(t,e,s,i)=>Ti(t,e.target)?Si(t,e,s,i):vi(t,e,s,i),Pi=()=>({ml:new ai({x:-.5,y:0,cursorStyleHandler:ki,actionHandler:Di,getActionName:Oi}),mr:new ai({x:.5,y:0,cursorStyleHandler:ki,actionHandler:Di,getActionName:Oi}),mb:new ai({x:0,y:.5,cursorStyleHandler:ki,actionHandler:Mi,getActionName:Oi}),mt:new ai({x:0,y:-.5,cursorStyleHandler:ki,actionHandler:Mi,getActionName:Oi}),tl:new ai({x:-.5,y:-.5,cursorStyleHandler:gi,actionHandler:pi}),tr:new ai({x:.5,y:-.5,cursorStyleHandler:gi,actionHandler:pi}),bl:new ai({x:-.5,y:.5,cursorStyleHandler:gi,actionHandler:pi}),br:new ai({x:.5,y:.5,cursorStyleHandler:gi,actionHandler:pi}),mtr:new ai({x:0,y:-.5,actionHandler:ci,cursorStyleHandler:hi,offsetY:-40,withConnection:!0,actionName:B})}),Ei=()=>({mr:new ai({x:.5,y:0,actionHandler:ri,cursorStyleHandler:ki,actionName:Y}),ml:new ai({x:-.5,y:0,actionHandler:ri,cursorStyleHandler:ki,actionName:Y})}),Ai=()=>s(s({},Pi()),Ei());class ji extends ei{static getDefaults(){return s(s({},super.getDefaults()),ji.ownDefaults)}constructor(t){super(),Object.assign(this,this.constructor.createControls(),ji.ownDefaults),this.setOptions(t)}static createControls(){return{controls:Pi()}}_updateCacheCanvas(){const t=this.canvas;if(this.noScaleCache&&t&&t._currentTransform){const e=t._currentTransform,s=e.target,i=e.action;if(this===s&&i&&i.startsWith(G))return!1}return super._updateCacheCanvas()}getActiveControl(){const t=this.__corner;return t?{key:t,control:this.controls[t],coord:this.oCoords[t]}:void 0}findControl(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.hasControls||!this.canvas)return;this.__corner=void 0;const s=Object.entries(this.oCoords);for(let i=s.length-1;i>=0;i--){const[r,n]=s[i],o=this.controls[r];if(o.shouldActivate(r,this,t,e?n.touchCorner:n.corner))return this.__corner=r,{key:r,control:o,coord:this.oCoords[r]}}}calcOCoords(){const t=this.getViewportTransform(),e=this.getCenterPoint(),s=Mt(e.x,e.y),i=Pt({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),r=Tt(s,i),n=Tt(t,r),o=Tt(n,[1/t[0],0,0,1/t[3],0,0]),a=this.group?Dt(this.calcTransformMatrix()):void 0;a&&(a.scaleX=Math.abs(a.scaleX),a.scaleY=Math.abs(a.scaleY));const h=this._calculateCurrentDimensions(a),c={};return this.forEachControl(((t,e)=>{const s=t.positionHandler(h,o,this,t);c[e]=Object.assign(s,this._calcCornerCoords(t,s))})),c}_calcCornerCoords(t,e){const s=this.getTotalAngle();return{corner:t.calcCornerCoords(s,this.cornerSize,e.x,e.y,!1,this),touchCorner:t.calcCornerCoords(s,this.touchCornerSize,e.x,e.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(t){for(const e in this.controls)t(this.controls[e],e,this)}drawSelectionBackground(t){if(!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this)return;t.save();const e=this.getRelativeCenterPoint(),s=this._calculateCurrentDimensions(),i=this.getViewportTransform();t.translate(e.x,e.y),t.scale(1/i[0],1/i[3]),t.rotate(xt(this.angle)),t.fillStyle=this.selectionBackgroundColor,t.fillRect(-s.x/2,-s.y/2,s.x,s.y),t.restore()}strokeBorders(t,e){t.strokeRect(-e.x/2,-e.y/2,e.x,e.y)}_drawBorders(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=s({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},i);t.save(),t.strokeStyle=r.borderColor,this._setLineDash(t,r.borderDashArray),this.strokeBorders(t,e),r.hasControls&&this.drawControlsConnectingLines(t,e),t.restore()}_renderControls(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{hasBorders:i,hasControls:r}=this,n=s({hasBorders:i,hasControls:r},e),o=this.getViewportTransform(),a=n.hasBorders,h=n.hasControls,c=Tt(o,this.calcTransformMatrix()),l=Dt(c);t.save(),t.translate(l.translateX,l.translateY),t.lineWidth=this.borderScaleFactor,this.group===this.parent&&(t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(l.angle-=180),t.rotate(xt(this.group?l.angle:this.angle)),a&&this.drawBorders(t,l,e),h&&this.drawControls(t,e),t.restore()}drawBorders(t,e,s){let i;if(s&&s.forActiveSelection||this.group){const t=fe(this.width,this.height,Lt(e)),s=this.isStrokeAccountedForInDimensions()?at:(this.strokeUniform?(new ot).scalarAdd(this.canvas?this.canvas.getZoom():1):new ot(e.scaleX,e.scaleY)).scalarMultiply(this.strokeWidth);i=t.add(s).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else i=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(t,i,s)}drawControlsConnectingLines(t,e){let s=!1;t.beginPath(),this.forEachControl(((i,r)=>{i.withConnection&&i.getVisibility(this,r)&&(s=!0,t.moveTo(i.x*e.x,i.y*e.y),t.lineTo(i.x*e.x+i.offsetX,i.y*e.y+i.offsetY))})),s&&t.stroke()}drawControls(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.save();const i=this.getCanvasRetinaScaling(),{cornerStrokeColor:r,cornerDashArray:n,cornerColor:o}=this,a=s({cornerStrokeColor:r,cornerDashArray:n,cornerColor:o},e);t.setTransform(i,0,0,i,0,0),t.strokeStyle=t.fillStyle=a.cornerColor,this.transparentCorners||(t.strokeStyle=a.cornerStrokeColor),this._setLineDash(t,a.cornerDashArray),this.forEachControl(((e,s)=>{if(e.getVisibility(this,s)){const i=this.oCoords[s];e.render(t,i.x,i.y,a,this)}})),t.restore()}isControlVisible(t){return this.controls[t]&&this.controls[t].getVisibility(this,t)}setControlVisible(t,e){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[t]=e}setControlsVisibility(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.entries(t).forEach((t=>{let[e,s]=t;return this.setControlVisible(e,s)}))}clearContextTop(t){if(!this.canvas)return;const e=this.canvas.contextTop;if(!e)return;const s=this.canvas.viewportTransform;e.save(),e.transform(s[0],s[1],s[2],s[3],s[4],s[5]),this.transform(e);const i=this.width+4,r=this.height+4;return e.clearRect(-i/2,-r/2,i,r),t||e.restore(),e}onDeselect(t){return!1}onSelect(t){return!1}shouldStartDragging(t){return!1}onDragStart(t){return!1}canDrop(t){return!1}renderDragSourceEffect(t){}renderDropTargetEffect(t){}}function Fi(t,e){return e.forEach((e=>{Object.getOwnPropertyNames(e.prototype).forEach((s=>{\"constructor\"!==s&&Object.defineProperty(t.prototype,s,Object.getOwnPropertyDescriptor(e.prototype,s)||Object.create(null))}))})),t}t(ji,\"ownDefaults\",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:\"rgb(178,204,255)\",cornerStrokeColor:\"\",cornerStyle:\"rect\",cornerDashArray:null,hasControls:!0,borderColor:\"rgb(178,204,255)\",borderDashArray:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:\"\",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:\"down\",hoverCursor:null,moveCursor:null});class Li extends ji{}Fi(Li,[We]),tt.setClass(Li),tt.setClass(Li,\"object\");const Ri=(t,e,s,i)=>{const r=2*(i=Math.round(i))+1,{data:n}=t.getImageData(e-i,s-i,r,r);for(let t=3;t<n.length;t+=4){if(n[t]>0)return!1}return!0};class Ii{constructor(t){this.options=t,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new ot(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new ot(1/this.options.scaleX,1/this.options.scaleY):new ot(1,1)}createSideVector(t,e){const s=vs(t,e);return this.options.strokeUniform?s.multiply(this.scale):s}projectOrthogonally(t,e,s){return this.applySkew(t.add(this.calcOrthogonalProjection(t,e,s)))}isSkewed(){return 0!==this.options.skewX||0!==this.options.skewY}applySkew(t){const e=new ot(t);return e.y+=e.x*Math.tan(xt(this.options.skewY)),e.x+=e.y*Math.tan(xt(this.options.skewX)),e}scaleUnitVector(t,e){return t.multiply(this.strokeUniformScalar).scalarMultiply(e)}}const Bi=new ot;class Xi extends Ii{static getOrthogonalRotationFactor(t,e){const s=e?_s(t,e):xs(t);return Math.abs(s)<b?-1:1}constructor(e,s,i,r){super(r),t(this,\"AB\",void 0),t(this,\"AC\",void 0),t(this,\"alpha\",void 0),t(this,\"bisector\",void 0),this.A=new ot(e),this.B=new ot(s),this.C=new ot(i),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=_s(this.AB,this.AC),this.bisector=Cs(ms(this.AB.eq(Bi)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.strokeProjectionMagnitude;const i=this.createSideVector(t,e),r=bs(i),n=Xi.getOrthogonalRotationFactor(r,this.bisector);return this.scaleUnitVector(r,s*n)}projectBevel(){const t=[];return(this.alpha%S==0?[this.B]:[this.B,this.C]).forEach((e=>{t.push(this.projectOrthogonally(this.A,e)),t.push(this.projectOrthogonally(this.A,e,-this.strokeProjectionMagnitude))})),t}projectMiter(){const t=[],e=Math.abs(this.alpha),s=1/Math.sin(e/2),i=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*s),r=this.options.strokeUniform?ys(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return ys(i)/this.strokeProjectionMagnitude<=r&&t.push(this.applySkew(this.A.add(i))),t.push(...this.projectBevel()),t}projectRoundNoSkew(t,e){const s=[],i=new ot(Xi.getOrthogonalRotationFactor(this.bisector),Xi.getOrthogonalRotationFactor(new ot(this.bisector.y,this.bisector.x)));return[new ot(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(i),new ot(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(i)].forEach((i=>{Ts(i,t,e)&&s.push(this.A.add(i))})),s}projectRoundWithSkew(t,e){const s=[],{skewX:i,skewY:r,scaleX:n,scaleY:o,strokeUniform:a}=this.options,h=new ot(Math.tan(xt(i)),Math.tan(xt(r))),c=this.strokeProjectionMagnitude,l=a?c/o/Math.sqrt(1/o**2+1/n**2*h.y**2):c/Math.sqrt(1+h.y**2),u=new ot(Math.sqrt(Math.max(c**2-l**2,0)),l),d=a?c/Math.sqrt(1+h.x**2*(1/o)**2/(1/n+1/n*h.x*h.y)**2):c/Math.sqrt(1+h.x**2/(1+h.x*h.y)**2),g=new ot(d,Math.sqrt(Math.max(c**2-d**2,0)));return[g,g.scalarMultiply(-1),u,u.scalarMultiply(-1)].map((t=>this.applySkew(a?t.multiply(this.strokeUniformScalar):t))).forEach((i=>{Ts(i,t,e)&&s.push(this.applySkew(this.A).add(i))})),s}projectRound(){const t=[];t.push(...this.projectBevel());const e=this.alpha%S==0,s=this.applySkew(this.A),i=t[e?0:2].subtract(s),r=t[e?1:0].subtract(s),n=e?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),o=Ss(i,n)>0,a=o?i:r,h=o?r:i;return this.isSkewed()?t.push(...this.projectRoundWithSkew(a,h)):t.push(...this.projectRoundNoSkew(a,h)),t}projectPoints(){switch(this.options.strokeLineJoin){case\"miter\":return this.projectMiter();case\"round\":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map((t=>({originPoint:this.A,projectedPoint:t,angle:this.alpha,bisector:this.bisector})))}}class Yi extends Ii{constructor(t,e,s){super(s),this.A=new ot(t),this.T=new ot(e)}calcOrthogonalProjection(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.strokeProjectionMagnitude;const i=this.createSideVector(t,e);return this.scaleUnitVector(bs(i),s)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){const t=[];if(!this.isSkewed()&&this.A.eq(this.T)){const e=new ot(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);t.push(this.applySkew(this.A.add(e)),this.applySkew(this.A.subtract(e)))}else t.push(...new Xi(this.A,this.T,this.T,this.options).projectRound());return t}projectSquare(){const t=[];if(this.A.eq(this.T)){const e=new ot(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);t.push(this.A.add(e),this.A.subtract(e))}else{const e=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),s=this.scaleUnitVector(Cs(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),i=this.A.add(s);t.push(i.add(e),i.subtract(e))}return t.map((t=>this.applySkew(t)))}projectPoints(){switch(this.options.strokeLineCap){case\"round\":return this.projectRound();case\"square\":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map((t=>({originPoint:this.A,projectedPoint:t})))}}const Wi=function(t,e){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=[];if(0===t.length)return i;const r=t.reduce(((t,e)=>(t[t.length-1].eq(e)||t.push(new ot(e)),t)),[new ot(t[0])]);if(1===r.length)s=!0;else if(!s){const t=r[0],e=((t,e)=>{for(let s=t.length-1;s>=0;s--)if(e(t[s],s,t))return s;return-1})(r,(e=>!e.eq(t)));r.splice(e+1)}return r.forEach(((t,r,n)=>{let o,a;0===r?(a=n[1],o=s?t:n[n.length-1]):r===n.length-1?(o=n[r-1],a=s?t:n[0]):(o=n[r-1],a=n[r+1]),s&&1===n.length?i.push(...new Yi(t,t,e).project()):!s||0!==r&&r!==n.length-1?i.push(...new Xi(t,o,a,e).project()):i.push(...new Yi(t,0===r?a:o,e).project())})),i},Vi=t=>{const e={};return Object.keys(t).forEach((i=>{e[i]={},Object.keys(t[i]).forEach((r=>{e[i][r]=s({},t[i][r])}))})),e},zi=t=>t.replace(/&/g,\"&amp;\").replace(/\"/g,\"&quot;\").replace(/'/g,\"&apos;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\");let Gi;const Hi=t=>{if(Gi||Gi||(Gi=\"Intl\"in v()&&\"Segmenter\"in Intl&&new Intl.Segmenter(void 0,{granularity:\"grapheme\"})),Gi){const e=Gi.segment(t);return Array.from(e).map((t=>{let{segment:e}=t;return e}))}return Ni(t)},Ni=t=>{const e=[];for(let s,i=0;i<t.length;i++)!1!==(s=Ui(t,i))&&e.push(s);return e},Ui=(t,e)=>{const s=t.charCodeAt(e);if(isNaN(s))return\"\";if(s<55296||s>57343)return t.charAt(e);if(55296<=s&&s<=56319){if(t.length<=e+1)throw\"High surrogate without following low surrogate\";const s=t.charCodeAt(e+1);if(56320>s||s>57343)throw\"High surrogate without following low surrogate\";return t.charAt(e)+t.charAt(e+1)}if(0===e)throw\"Low surrogate without preceding high surrogate\";const i=t.charCodeAt(e-1);if(55296>i||i>56319)throw\"Low surrogate without preceding high surrogate\";return!1};var qi=Object.freeze({__proto__:null,capitalize:function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return\"\".concat(t.charAt(0).toUpperCase()).concat(e?t.slice(1):t.slice(1).toLowerCase())},escapeXml:zi,graphemeSplit:Hi});const Ki=function(t,e){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.fill!==e.fill||t.stroke!==e.stroke||t.strokeWidth!==e.strokeWidth||t.fontSize!==e.fontSize||t.fontFamily!==e.fontFamily||t.fontWeight!==e.fontWeight||t.fontStyle!==e.fontStyle||t.textDecorationThickness!==e.textDecorationThickness||t.textBackgroundColor!==e.textBackgroundColor||t.deltaY!==e.deltaY||s&&(t.overline!==e.overline||t.underline!==e.underline||t.linethrough!==e.linethrough)},Ji=(t,e)=>{const s=e.split(\"\\n\"),i=[];let r=-1,n={};t=Vi(t);for(let e=0;e<s.length;e++){const o=Hi(s[e]);if(t[e])for(let s=0;s<o.length;s++){r++;const o=t[e][s];o&&Object.keys(o).length>0&&(Ki(n,o,!0)?i.push({start:r,end:r+1,style:o}):i[i.length-1].end++),n=o||{}}else r+=o.length,n={}}return i},Qi=(t,e)=>{if(!Array.isArray(t))return Vi(t);const i=e.split(F),r={};let n=-1,o=0;for(let e=0;e<i.length;e++){const a=Hi(i[e]);for(let i=0;i<a.length;i++)n++,t[o]&&t[o].start<=n&&n<t[o].end&&(r[e]=r[e]||{},r[e][i]=s({},t[o].style),n===t[o].end-1&&o++)}return r},Zi=[\"display\",\"transform\",K,\"fill-opacity\",\"fill-rule\",\"opacity\",J,\"stroke-dasharray\",\"stroke-linecap\",\"stroke-dashoffset\",\"stroke-linejoin\",\"stroke-miterlimit\",\"stroke-opacity\",\"stroke-width\",\"id\",\"paint-order\",\"vector-effect\",\"instantiated_by_use\",\"clip-path\"];function $i(t,e){const s=t.nodeName,i=t.getAttribute(\"class\"),r=t.getAttribute(\"id\"),n=\"(?![a-zA-Z\\\\-]+)\";let o;if(o=new RegExp(\"^\"+s,\"i\"),e=e.replace(o,\"\"),r&&e.length&&(o=new RegExp(\"#\"+r+n,\"i\"),e=e.replace(o,\"\")),i&&e.length){const t=i.split(\" \");for(let s=t.length;s--;)o=new RegExp(\"\\\\.\"+t[s]+n,\"i\"),e=e.replace(o,\"\")}return 0===e.length}function tr(t,e){let s=!0;const i=$i(t,e.pop());return i&&e.length&&(s=function(t,e){let s,i=!0;for(;t.parentElement&&1===t.parentElement.nodeType&&e.length;)i&&(s=e.pop()),i=$i(t=t.parentElement,s);return 0===e.length}(t,e)),i&&s&&0===e.length}const er=t=>{var e;return null!==(e=as[t])&&void 0!==e?e:t},sr=new RegExp(\"(\".concat(is,\")\"),\"gi\"),ir=t=>Pe(t.replace(sr,\" $1 \").replace(/,/gi,\" \"));var rr,nr,or,ar,hr,cr,lr;const ur=\"(\".concat(is,\")\"),dr=String.raw(rr||(rr=r([\"(skewX)(\",\")\"],[\"(skewX)\\\\(\",\"\\\\)\"])),ur),gr=String.raw(nr||(nr=r([\"(skewY)(\",\")\"],[\"(skewY)\\\\(\",\"\\\\)\"])),ur),fr=String.raw(or||(or=r([\"(rotate)(\",\"(?: \",\" \",\")?)\"],[\"(rotate)\\\\(\",\"(?: \",\" \",\")?\\\\)\"])),ur,ur,ur),pr=String.raw(ar||(ar=r([\"(scale)(\",\"(?: \",\")?)\"],[\"(scale)\\\\(\",\"(?: \",\")?\\\\)\"])),ur,ur),mr=String.raw(hr||(hr=r([\"(translate)(\",\"(?: \",\")?)\"],[\"(translate)\\\\(\",\"(?: \",\")?\\\\)\"])),ur,ur),vr=String.raw(cr||(cr=r([\"(matrix)(\",\" \",\" \",\" \",\" \",\" \",\")\"],[\"(matrix)\\\\(\",\" \",\" \",\" \",\" \",\" \",\"\\\\)\"])),ur,ur,ur,ur,ur,ur),yr=\"(?:\".concat(vr,\"|\").concat(mr,\"|\").concat(fr,\"|\").concat(pr,\"|\").concat(dr,\"|\").concat(gr,\")\"),_r=\"(?:\".concat(yr,\"*)\"),xr=String.raw(lr||(lr=r([\"^s*(?:\",\"?)s*$\"],[\"^\\\\s*(?:\",\"?)\\\\s*$\"])),_r),Cr=new RegExp(xr),br=new RegExp(yr),Sr=new RegExp(yr,\"g\");function wr(t){const e=[];if(!(t=ir(t).replace(/\\s*([()])\\s*/gi,\"$1\"))||t&&!Cr.test(t))return[...T];for(const s of t.matchAll(Sr)){const t=br.exec(s[0]);if(!t)continue;let i=T;const r=t.filter((t=>!!t)),[,n,...o]=r,[a,h,c,l,u,d]=o.map((t=>parseFloat(t)));switch(n){case\"translate\":i=Mt(a,h);break;case B:i=Pt({angle:a},{x:h,y:c});break;case G:i=Et(a,h);break;case U:i=jt(a);break;case q:i=Ft(a);break;case\"matrix\":i=[a,h,c,l,u,d]}e.push(i)}return Ot(e)}function Tr(t,e,s,i){const r=Array.isArray(e);let n,o=e;if(t!==K&&t!==J||e!==j){if(\"strokeUniform\"===t)return\"non-scaling-stroke\"===e;if(\"strokeDashArray\"===t)o=e===j?null:e.replace(/,/g,\" \").split(/\\s+/).map(parseFloat);else if(\"transformMatrix\"===t)o=s&&s.transformMatrix?Tt(s.transformMatrix,wr(e)):wr(e);else if(\"visible\"===t)o=e!==j&&\"hidden\"!==e,s&&!1===s.visible&&(o=!1);else if(\"opacity\"===t)o=parseFloat(e),s&&void 0!==s.opacity&&(o*=s.opacity);else if(\"textAnchor\"===t)o=\"start\"===e?M:\"end\"===e?A:D;else if(\"charSpacing\"===t||t===ze)n=Be(e,i)/i*1e3;else if(\"paintFirst\"===t){const t=e.indexOf(K),s=e.indexOf(J);o=K,(t>-1&&s>-1&&s<t||-1===t&&s>-1)&&(o=J)}else{if(\"href\"===t||\"xlink:href\"===t||\"font\"===t||\"id\"===t)return e;if(\"imageSmoothing\"===t)return\"optimizeQuality\"===e;n=r?e.map(Be):Be(e,i)}}else o=\"\";return!r&&isNaN(n)?o:n}function Or(t,e){const s=t.match(os);if(!s)return;const i=s[1],r=s[3],n=s[4],o=s[5],a=s[6];i&&(e.fontStyle=i),r&&(e.fontWeight=isNaN(parseFloat(r))?r:parseFloat(r)),n&&(e.fontSize=Be(n)),a&&(e.fontFamily=a),o&&(e.lineHeight=\"normal\"===o?1:o)}function kr(t,e){t.replace(/;\\s*$/,\"\").split(\";\").forEach((t=>{if(!t)return;const[s,i]=t.split(\":\");e[s.trim().toLowerCase()]=i.trim()}))}function Dr(t){const e={},s=t.getAttribute(\"style\");return s?(\"string\"==typeof s?kr(s,e):function(t,e){Object.entries(t).forEach((t=>{let[s,i]=t;void 0!==i&&(e[s.toLowerCase()]=i)}))}(s,e),e):e}const Mr={stroke:\"strokeOpacity\",fill:\"fillOpacity\"};function Pr(t,e,i){if(!t)return{};let r,n={},o=O;t.parentNode&&ds.test(t.parentNode.nodeName)&&(n=Pr(t.parentElement,e,i),n.fontSize&&(r=o=Be(n.fontSize)));const a=s(s(s({},e.reduce(((e,s)=>{const i=t.getAttribute(s);return i&&(e[s]=i),e}),{})),function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i={};for(const r in e)tr(t,r.split(\" \"))&&(i=s(s({},i),e[r]));return i}(t,i)),Dr(t));a[cs]&&t.setAttribute(cs,a[cs]),a[hs]&&(r=Be(a[hs],o),a[hs]=\"\".concat(r));const h={};for(const t in a){const e=er(t),s=Tr(e,a[t],n,r);h[e]=s}h&&h.font&&Or(h.font,h);const c=s(s({},n),h);return ds.test(t.nodeName)?c:function(t){const e=Li.getDefaults();return Object.entries(Mr).forEach((s=>{let[i,r]=s;if(void 0===t[r]||\"\"===t[i])return;if(void 0===t[i]){if(!e[i])return;t[i]=e[i]}if(0===t[i].indexOf(\"url(\"))return;const n=new Ie(t[i]);t[i]=n.setAlpha(Vt(n.getAlpha()*t[r],2)).toRgba()})),t}(c)}const Er=[\"left\",\"top\",\"width\",\"height\",\"visible\"],Ar=[\"rx\",\"ry\"];class jr extends Li{static getDefaults(){return s(s({},super.getDefaults()),jr.ownDefaults)}constructor(t){super(),Object.assign(this,jr.ownDefaults),this.setOptions(t),this._initRxRy()}_initRxRy(){const{rx:t,ry:e}=this;t&&!e?this.ry=t:e&&!t&&(this.rx=e)}_render(t){const{width:e,height:s}=this,i=-e/2,r=-s/2,n=this.rx?Math.min(this.rx,e/2):0,o=this.ry?Math.min(this.ry,s/2):0,a=0!==n||0!==o;t.beginPath(),t.moveTo(i+n,r),t.lineTo(i+e-n,r),a&&t.bezierCurveTo(i+e-k*n,r,i+e,r+k*o,i+e,r+o),t.lineTo(i+e,r+s-o),a&&t.bezierCurveTo(i+e,r+s-k*o,i+e-k*n,r+s,i+e-n,r+s),t.lineTo(i+n,r+s),a&&t.bezierCurveTo(i+k*n,r+s,i,r+s-k*o,i,r+s-o),t.lineTo(i,r+o),a&&t.bezierCurveTo(i,r+k*o,i+k*n,r,i+n,r),t.closePath(),this._renderPaintInOrder(t)}toObject(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return super.toObject([...Ar,...t])}_toSVG(){const{width:t,height:e,rx:s,ry:i}=this;return[\"<rect \",\"COMMON_PARTS\",'x=\"'.concat(-t/2,'\" y=\"').concat(-e/2,'\" rx=\"').concat(s,'\" ry=\"').concat(i,'\" width=\"').concat(t,'\" height=\"').concat(e,'\" />\\n')]}static async fromElement(t,e,r){const n=Pr(t,this.ATTRIBUTE_NAMES,r),{left:o=0,top:a=0,width:h=0,height:c=0,visible:l=!0}=n,u=i(n,Er);return new this(s(s(s({},e),u),{},{left:o,top:a,width:h,height:c,visible:Boolean(l&&h&&c)}))}}t(jr,\"type\",\"Rect\"),t(jr,\"cacheProperties\",[...Es,...Ar]),t(jr,\"ownDefaults\",{rx:0,ry:0}),t(jr,\"ATTRIBUTE_NAMES\",[...Zi,\"x\",\"y\",\"rx\",\"ry\",\"width\",\"height\"]),tt.setClass(jr),tt.setSVGClass(jr);const Fr=\"initialization\",Lr=\"added\",Rr=\"removed\",Ir=\"imperative\",Br=(t,e)=>{const{strokeUniform:s,strokeWidth:i,width:r,height:n,group:o}=e,a=o&&o!==t?pe(o.calcTransformMatrix(),t.calcTransformMatrix()):null,h=a?e.getRelativeCenterPoint().transform(a):e.getRelativeCenterPoint(),c=!e.isStrokeAccountedForInDimensions(),l=s&&c?ve(new ot(i,i),void 0,t.calcTransformMatrix()):at,u=!s&&c?i:0,d=fe(r+u,n+u,Ot([a,e.calcOwnMatrix()],!0)).add(l).scalarDivide(2);return[h.subtract(d),h.add(d)]};class Xr{calcLayoutResult(t,e){if(this.shouldPerformLayout(t))return this.calcBoundingBox(e,t)}shouldPerformLayout(t){let{type:e,prevStrategy:s,strategy:i}=t;return e===Fr||e===Ir||!!s&&i!==s}shouldLayoutClipPath(t){let{type:e,target:{clipPath:s}}=t;return e!==Fr&&s&&!s.absolutePositioned}getInitialSize(t,e){return e.size}calcBoundingBox(t,e){const{type:s,target:i}=e;if(s===Ir&&e.overrides)return e.overrides;if(0===t.length)return;const{left:r,top:n,width:o,height:a}=he(t.map((t=>Br(i,t))).reduce(((t,e)=>t.concat(e)),[])),h=new ot(o,a),c=new ot(r,n).add(h.scalarDivide(2));if(s===Fr){const t=this.getInitialSize(e,{size:h,center:c});return{center:c,relativeCorrection:new ot(0,0),size:t}}return{center:c.transform(i.calcOwnMatrix()),size:h}}}t(Xr,\"type\",\"strategy\");class Yr extends Xr{shouldPerformLayout(t){return!0}}t(Yr,\"type\",\"fit-content\"),tt.setClass(Yr);const Wr=[\"strategy\"],Vr=[\"target\",\"strategy\",\"bubbles\",\"prevStrategy\"],zr=\"layoutManager\";class Gr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Yr;t(this,\"strategy\",void 0),this.strategy=e,this._subscriptions=new Map}performLayout(t){const e=s(s({bubbles:!0,strategy:this.strategy},t),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}});this.onBeforeLayout(e);const i=this.getLayoutResult(e);i&&this.commitLayout(e,i),this.onAfterLayout(e,i),this._prevLayoutStrategy=e.strategy}attachHandlers(t,e){const{target:s}=e;return[Q,L,Y,I,R,X,z,W,V].map((e=>t.on(e,(t=>this.performLayout(e===Q?{type:\"object_modified\",trigger:e,e:t,target:s}:{type:\"object_modifying\",trigger:e,e:t,target:s})))))}subscribe(t,e){this.unsubscribe(t,e);const s=this.attachHandlers(t,e);this._subscriptions.set(t,s)}unsubscribe(t,e){(this._subscriptions.get(t)||[]).forEach((t=>t())),this._subscriptions.delete(t)}unsubscribeTargets(t){t.targets.forEach((e=>this.unsubscribe(e,t)))}subscribeTargets(t){t.targets.forEach((e=>this.subscribe(e,t)))}onBeforeLayout(t){const{target:e,type:r}=t,{canvas:n}=e;if(r===Fr||r===Lr?this.subscribeTargets(t):r===Rr&&this.unsubscribeTargets(t),e.fire(\"layout:before\",{context:t}),n&&n.fire(\"object:layout:before\",{target:e,context:t}),r===Ir&&t.deep){const r=i(t,Wr);e.forEachObject((t=>t.layoutManager&&t.layoutManager.performLayout(s(s({},r),{},{bubbles:!1,target:t}))))}}getLayoutResult(t){const{target:e,strategy:s,type:i}=t,r=s.calcLayoutResult(t,e.getObjects());if(!r)return;const n=i===Fr?new ot:e.getRelativeCenterPoint(),{center:o,correction:a=new ot,relativeCorrection:h=new ot}=r,c=n.subtract(o).add(a).transform(i===Fr?T:wt(e.calcOwnMatrix()),!0).add(h);return{result:r,prevCenter:n,nextCenter:o,offset:c}}commitLayout(t,e){const{target:s}=t,{result:{size:i},nextCenter:r}=e;var n,o;(s.set({width:i.x,height:i.y}),this.layoutObjects(t,e),t.type===Fr)?s.set({left:null!==(n=t.x)&&void 0!==n?n:r.x+i.x*Ce(s.originX),top:null!==(o=t.y)&&void 0!==o?o:r.y+i.y*Ce(s.originY)}):(s.setPositionByOrigin(r,D,D),s.setCoords(),s.set(\"dirty\",!0))}layoutObjects(t,e){const{target:s}=t;s.forEachObject((i=>{i.group===s&&this.layoutObject(t,e,i)})),t.strategy.shouldLayoutClipPath(t)&&this.layoutObject(t,e,s.clipPath)}layoutObject(t,e,s){let{offset:i}=e;s.set({left:s.left+i.x,top:s.top+i.y})}onAfterLayout(t,e){const{target:r,strategy:n,bubbles:o,prevStrategy:a}=t,h=i(t,Vr),{canvas:c}=r;r.fire(\"layout:after\",{context:t,result:e}),c&&c.fire(\"object:layout:after\",{context:t,result:e,target:r});const l=r.parent;o&&null!=l&&l.layoutManager&&((h.path||(h.path=[])).push(r),l.layoutManager.performLayout(s(s({},h),{},{target:l}))),r.set(\"dirty\",!0)}dispose(){const{_subscriptions:t}=this;t.forEach((t=>t.forEach((t=>t())))),t.clear()}toObject(){return{type:zr,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}}tt.setClass(Gr,zr);const Hr=[\"type\",\"objects\",\"layoutManager\"];class Nr extends Gr{performLayout(){}}class Ur extends(ct(Li)){static getDefaults(){return s(s({},super.getDefaults()),Ur.ownDefaults)}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),t(this,\"_activeObjects\",[]),t(this,\"__objectSelectionTracker\",void 0),t(this,\"__objectSelectionDisposer\",void 0),Object.assign(this,Ur.ownDefaults),this.setOptions(s),this.groupInit(e,s)}groupInit(t,e){var s;this._objects=[...t],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject((t=>{this.enterGroup(t,!1)})),this.layoutManager=null!==(s=e.layoutManager)&&void 0!==s?s:new Gr,this.layoutManager.performLayout({type:Fr,target:this,targets:[...t],x:e.left,y:e.top})}canEnterGroup(t){return t===this||this.isDescendantOf(t)?(a(\"error\",\"Group: circular object trees are not supported, this call has no effect\"),!1):-1===this._objects.indexOf(t)||(a(\"error\",\"Group: duplicate objects are not supported inside group, this call has no effect\"),!1)}_filterObjectsBeforeEnteringGroup(t){return t.filter(((t,e,s)=>this.canEnterGroup(t)&&s.indexOf(t)===e))}add(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];const i=this._filterObjectsBeforeEnteringGroup(e),r=super.add(...i);return this._onAfterObjectsChange(Lr,i),r}insertAt(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];const r=this._filterObjectsBeforeEnteringGroup(s),n=super.insertAt(t,...r);return this._onAfterObjectsChange(Lr,r),n}remove(){const t=super.remove(...arguments);return this._onAfterObjectsChange(Rr,t),t}_onObjectAdded(t){this.enterGroup(t,!0),this.fire(\"object:added\",{target:t}),t.fire(\"added\",{target:this})}_onObjectRemoved(t,e){this.exitGroup(t,e),this.fire(\"object:removed\",{target:t}),t.fire(\"removed\",{target:this})}_onAfterObjectsChange(t,e){this.layoutManager.performLayout({type:t,targets:e,target:this})}_onStackOrderChanged(){this._set(\"dirty\",!0)}_set(t,e){const s=this[t];return super._set(t,e),\"canvas\"===t&&s!==e&&(this._objects||[]).forEach((s=>{s._set(t,e)})),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(t,e){let{target:s}=e;const i=this._activeObjects;if(t)i.push(s),this._set(\"dirty\",!0);else if(i.length>0){const t=i.indexOf(s);t>-1&&(i.splice(t,1),this._set(\"dirty\",!0))}}_watchObject(t,e){t&&this._watchObject(!1,e),t?(e.on(\"selected\",this.__objectSelectionTracker),e.on(\"deselected\",this.__objectSelectionDisposer)):(e.off(\"selected\",this.__objectSelectionTracker),e.off(\"deselected\",this.__objectSelectionDisposer))}enterGroup(t,e){t.group&&t.group.remove(t),t._set(\"parent\",this),this._enterGroup(t,e)}_enterGroup(t,e){e&&ue(t,Tt(wt(this.calcTransformMatrix()),t.calcTransformMatrix())),this._shouldSetNestedCoords()&&t.setCoords(),t._set(\"group\",this),t._set(\"canvas\",this.canvas),this._watchObject(!0,t);const s=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();s&&(s===t||t.isDescendantOf(s))&&this._activeObjects.push(t)}exitGroup(t,e){this._exitGroup(t,e),t._set(\"parent\",void 0),t._set(\"canvas\",void 0)}_exitGroup(t,e){t._set(\"group\",void 0),e||(ue(t,Tt(this.calcTransformMatrix(),t.calcTransformMatrix())),t.setCoords()),this._watchObject(!1,t);const s=this._activeObjects.length>0?this._activeObjects.indexOf(t):-1;s>-1&&this._activeObjects.splice(s,1)}shouldCache(){const t=Li.prototype.shouldCache.call(this);if(t)for(let t=0;t<this._objects.length;t++)if(this._objects[t].willDrawShadow())return this.ownCaching=!1,!1;return t}willDrawShadow(){if(super.willDrawShadow())return!0;for(let t=0;t<this._objects.length;t++)if(this._objects[t].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(t,e,s){this._renderBackground(t);for(let e=0;e<this._objects.length;e++){var i;const s=this._objects[e];null!==(i=this.canvas)&&void 0!==i&&i.preserveObjectStacking&&s.group!==this?(t.save(),t.transform(...wt(this.calcTransformMatrix())),s.render(t),t.restore()):s.group===this&&s.render(t)}this._drawClipPath(t,this.clipPath,s)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject((t=>t.setCoords()))}triggerLayout(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.layoutManager.performLayout(s({target:this,type:Ir},t))}render(t){this._transformDone=!0,super.render(t),this._transformDone=!1}__serializeObjects(t,e){const s=this.includeDefaultValues;return this._objects.filter((function(t){return!t.excludeFromExport})).map((function(i){const r=i.includeDefaultValues;i.includeDefaultValues=s;const n=i[t||\"toObject\"](e);return i.includeDefaultValues=r,n}))}toObject(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const e=this.layoutManager.toObject();return s(s(s({},super.toObject([\"subTargetCheck\",\"interactive\",...t])),\"fit-content\"!==e.strategy||this.includeDefaultValues?{layoutManager:e}:{}),{},{objects:this.__serializeObjects(\"toObject\",t)})}toString(){return\"#<Group: (\".concat(this.complexity(),\")>\")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject((t=>{this._watchObject(!1,t),t.dispose()})),super.dispose()}_createSVGBgRect(t){if(!this.backgroundColor)return\"\";const e=jr.prototype._toSVG.call(this),s=e.indexOf(\"COMMON_PARTS\");e[s]='for=\"group\" ';const i=e.join(\"\");return t?t(i):i}_toSVG(t){const e=[\"<g \",\"COMMON_PARTS\",\" >\\n\"],s=this._createSVGBgRect(t);s&&e.push(\"\\t\\t\",s);for(let s=0;s<this._objects.length;s++)e.push(\"\\t\\t\",this._objects[s].toSVG(t));return e.push(\"</g>\\n\"),e}getSvgStyles(){const t=void 0!==this.opacity&&1!==this.opacity?\"opacity: \".concat(this.opacity,\";\"):\"\",e=this.visible?\"\":\" visibility: hidden;\";return[t,this.getSvgFilter(),e].join(\"\")}toClipPathSVG(t){const e=[],s=this._createSVGBgRect(t);s&&e.push(\"\\t\",s);for(let s=0;s<this._objects.length;s++)e.push(\"\\t\",this._objects[s].toClipPathSVG(t));return this._createBaseClipPathSVGMarkup(e,{reviver:t})}static fromObject(t,e){let{type:r,objects:n=[],layoutManager:o}=t,a=i(t,Hr);return Promise.all([Bt(n,e),Xt(a,e)]).then((t=>{let[e,i]=t;const r=new this(e,s(s(s({},a),i),{},{layoutManager:new Nr}));if(o){const t=tt.getClass(o.type),e=tt.getClass(o.strategy);r.layoutManager=new t(new e)}else r.layoutManager=new Gr;return r.layoutManager.subscribeTargets({type:Fr,target:r,targets:r.getObjects()}),r.setCoords(),r}))}}t(Ur,\"type\",\"Group\"),t(Ur,\"ownDefaults\",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),tt.setClass(Ur);const qr=(t,e)=>Math.min(e.width/t.width,e.height/t.height),Kr=(t,e)=>Math.max(e.width/t.width,e.height/t.height),Jr=\"\\\\s*,?\\\\s*\",Qr=\"\".concat(Jr,\"(\").concat(is,\")\"),Zr=\"\".concat(Qr).concat(Qr).concat(Qr).concat(Jr,\"([01])\").concat(Jr,\"([01])\").concat(Qr).concat(Qr),$r={m:\"l\",M:\"L\"},tn=(t,e,s,i,r,n,o,a,h,c,l)=>{const u=rt(t),d=nt(t),g=rt(e),f=nt(e),p=s*r*g-i*n*f+o,m=i*r*g+s*n*f+a;return[\"C\",c+h*(-s*r*d-i*n*u),l+h*(-i*r*d+s*n*u),p+h*(s*r*f+i*n*g),m+h*(i*r*f-s*n*g),p,m]},en=(t,e,s,i)=>{const r=Math.atan2(e,t),n=Math.atan2(i,s);return n>=r?n-r:2*Math.PI-(r-n)};function sn(t,e,s,i,r,n,a,h){let c;if(o.cachesBoundsOfCurve&&(c=[...arguments].join(),_.boundsOfCurveCache[c]))return _.boundsOfCurveCache[c];const l=Math.sqrt,u=Math.abs,d=[],g=[[0,0],[0,0]];let f=6*t-12*s+6*r,p=-3*t+9*s-9*r+3*a,m=3*s-3*t;for(let t=0;t<2;++t){if(t>0&&(f=6*e-12*i+6*n,p=-3*e+9*i-9*n+3*h,m=3*i-3*e),u(p)<1e-12){if(u(f)<1e-12)continue;const t=-m/f;0<t&&t<1&&d.push(t);continue}const s=f*f-4*m*p;if(s<0)continue;const r=l(s),o=(-f+r)/(2*p);0<o&&o<1&&d.push(o);const a=(-f-r)/(2*p);0<a&&a<1&&d.push(a)}let v=d.length;const y=v,x=an(t,e,s,i,r,n,a,h);for(;v--;){const{x:t,y:e}=x(d[v]);g[0][v]=t,g[1][v]=e}g[0][y]=t,g[1][y]=e,g[0][y+1]=a,g[1][y+1]=h;const C=[new ot(Math.min(...g[0]),Math.min(...g[1])),new ot(Math.max(...g[0]),Math.max(...g[1]))];return o.cachesBoundsOfCurve&&(_.boundsOfCurveCache[c]=C),C}const rn=(t,e,s)=>{let[i,r,n,o,a,h,c,l]=s;const u=((t,e,s,i,r,n,o)=>{if(0===s||0===i)return[];let a=0,h=0,c=0;const l=Math.PI,u=o*w,d=nt(u),g=rt(u),f=.5*(-g*t-d*e),p=.5*(-g*e+d*t),m=s**2,v=i**2,y=p**2,_=f**2,x=m*v-m*y-v*_;let C=Math.abs(s),b=Math.abs(i);if(x<0){const t=Math.sqrt(1-x/(m*v));C*=t,b*=t}else c=(r===n?-1:1)*Math.sqrt(x/(m*y+v*_));const S=c*C*p/b,T=-c*b*f/C,O=g*S-d*T+.5*t,k=d*S+g*T+.5*e;let D=en(1,0,(f-S)/C,(p-T)/b),M=en((f-S)/C,(p-T)/b,(-f-S)/C,(-p-T)/b);0===n&&M>0?M-=2*l:1===n&&M<0&&(M+=2*l);const P=Math.ceil(Math.abs(M/l*2)),E=[],A=M/P,j=8/3*Math.sin(A/4)*Math.sin(A/4)/Math.sin(A/2);let F=D+A;for(let t=0;t<P;t++)E[t]=tn(D,F,g,d,C,b,O,k,j,a,h),a=E[t][5],h=E[t][6],D=F,F+=A;return E})(c-t,l-e,r,n,a,h,o);for(let s=0,i=u.length;s<i;s++)u[s][1]+=t,u[s][2]+=e,u[s][3]+=t,u[s][4]+=e,u[s][5]+=t,u[s][6]+=e;return u},nn=t=>{let e=0,s=0,i=0,r=0;const n=[];let o,a=0,h=0;for(const c of t){const t=[...c];let l;switch(t[0]){case\"l\":t[1]+=e,t[2]+=s;case\"L\":e=t[1],s=t[2],l=[\"L\",e,s];break;case\"h\":t[1]+=e;case\"H\":e=t[1],l=[\"L\",e,s];break;case\"v\":t[1]+=s;case\"V\":s=t[1],l=[\"L\",e,s];break;case\"m\":t[1]+=e,t[2]+=s;case\"M\":e=t[1],s=t[2],i=t[1],r=t[2],l=[\"M\",e,s];break;case\"c\":t[1]+=e,t[2]+=s,t[3]+=e,t[4]+=s,t[5]+=e,t[6]+=s;case\"C\":a=t[3],h=t[4],e=t[5],s=t[6],l=[\"C\",t[1],t[2],a,h,e,s];break;case\"s\":t[1]+=e,t[2]+=s,t[3]+=e,t[4]+=s;case\"S\":\"C\"===o?(a=2*e-a,h=2*s-h):(a=e,h=s),e=t[3],s=t[4],l=[\"C\",a,h,t[1],t[2],e,s],a=l[3],h=l[4];break;case\"q\":t[1]+=e,t[2]+=s,t[3]+=e,t[4]+=s;case\"Q\":a=t[1],h=t[2],e=t[3],s=t[4],l=[\"Q\",a,h,e,s];break;case\"t\":t[1]+=e,t[2]+=s;case\"T\":\"Q\"===o?(a=2*e-a,h=2*s-h):(a=e,h=s),e=t[1],s=t[2],l=[\"Q\",a,h,e,s];break;case\"a\":t[6]+=e,t[7]+=s;case\"A\":rn(e,s,t).forEach((t=>n.push(t))),e=t[6],s=t[7];break;case\"z\":case\"Z\":e=i,s=r,l=[\"Z\"]}l?(n.push(l),o=l[0]):o=\"\"}return n},on=(t,e,s,i)=>Math.sqrt((s-t)**2+(i-e)**2),an=(t,e,s,i,r,n,o,a)=>h=>{const c=h**3,l=(t=>3*t**2*(1-t))(h),u=(t=>3*t*(1-t)**2)(h),d=(t=>(1-t)**3)(h);return new ot(o*c+r*l+s*u+t*d,a*c+n*l+i*u+e*d)},hn=t=>t**2,cn=t=>2*t*(1-t),ln=t=>(1-t)**2,un=(t,e,s,i,r,n,o,a)=>h=>{const c=hn(h),l=cn(h),u=ln(h),d=3*(u*(s-t)+l*(r-s)+c*(o-r)),g=3*(u*(i-e)+l*(n-i)+c*(a-n));return Math.atan2(g,d)},dn=(t,e,s,i,r,n)=>o=>{const a=hn(o),h=cn(o),c=ln(o);return new ot(r*a+s*h+t*c,n*a+i*h+e*c)},gn=(t,e,s,i,r,n)=>o=>{const a=1-o,h=2*(a*(s-t)+o*(r-s)),c=2*(a*(i-e)+o*(n-i));return Math.atan2(c,h)},fn=(t,e,s)=>{let i=new ot(e,s),r=0;for(let e=1;e<=100;e+=1){const s=t(e/100);r+=on(i.x,i.y,s.x,s.y),i=s}return r},pn=(t,e)=>{let i,r=0,n=0,o={x:t.x,y:t.y},a=s({},o),h=.01,c=0;const l=t.iterator,u=t.angleFinder;for(;n<e&&h>1e-4;)a=l(r),c=r,i=on(o.x,o.y,a.x,a.y),i+n>e?(r-=h,h/=2):(o=a,r+=h,n+=i);return s(s({},a),{},{angle:u(c)})},mn=t=>{let e,s,i=0,r=0,n=0,o=0,a=0;const h=[];for(const c of t){const t={x:r,y:n,command:c[0],length:0};switch(c[0]){case\"M\":s=t,s.x=o=r=c[1],s.y=a=n=c[2];break;case\"L\":s=t,s.length=on(r,n,c[1],c[2]),r=c[1],n=c[2];break;case\"C\":e=an(r,n,c[1],c[2],c[3],c[4],c[5],c[6]),s=t,s.iterator=e,s.angleFinder=un(r,n,c[1],c[2],c[3],c[4],c[5],c[6]),s.length=fn(e,r,n),r=c[5],n=c[6];break;case\"Q\":e=dn(r,n,c[1],c[2],c[3],c[4]),s=t,s.iterator=e,s.angleFinder=gn(r,n,c[1],c[2],c[3],c[4]),s.length=fn(e,r,n),r=c[3],n=c[4];break;case\"Z\":s=t,s.destX=o,s.destY=a,s.length=on(r,n,o,a),r=o,n=a}i+=s.length,h.push(s)}return h.push({length:i,x:r,y:n}),h},vn=function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:mn(t),r=0;for(;e-i[r].length>0&&r<i.length-2;)e-=i[r].length,r++;const n=i[r],o=e/n.length,a=t[r];switch(n.command){case\"M\":return{x:n.x,y:n.y,angle:0};case\"Z\":return s(s({},new ot(n.x,n.y).lerp(new ot(n.destX,n.destY),o)),{},{angle:Math.atan2(n.destY-n.y,n.destX-n.x)});case\"L\":return s(s({},new ot(n.x,n.y).lerp(new ot(a[1],a[2]),o)),{},{angle:Math.atan2(a[2]-n.y,a[1]-n.x)});case\"C\":case\"Q\":return pn(n,e)}},yn=new RegExp(\"[mzlhvcsqta][^mzlhvcsqta]*\",\"gi\"),_n=new RegExp(Zr,\"g\"),xn=new RegExp(is,\"gi\"),Cn={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},bn=t=>{var e;const s=[],i=null!==(e=t.match(yn))&&void 0!==e?e:[];for(const t of i){const e=t[0];if(\"z\"===e||\"Z\"===e){s.push([e]);continue}const i=Cn[e.toLowerCase()];let r=[];if(\"a\"===e||\"A\"===e){_n.lastIndex=0;for(let e=null;e=_n.exec(t);)r.push(...e.slice(1))}else r=t.match(xn)||[];for(let t=0;t<r.length;t+=i){const n=new Array(i),o=$r[e];n[0]=t>0&&o?o:e;for(let e=0;e<i;e++)n[e+1]=parseFloat(r[t+e]);s.push(n)}}return s},Sn=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=new ot(t[0]),i=new ot(t[1]),r=1,n=0;const o=[],a=t.length,h=a>2;let c;for(h&&(r=t[2].x<i.x?-1:t[2].x===i.x?0:1,n=t[2].y<i.y?-1:t[2].y===i.y?0:1),o.push([\"M\",s.x-r*e,s.y-n*e]),c=1;c<a;c++){if(!s.eq(i)){const t=s.midPointFrom(i);o.push([\"Q\",s.x,s.y,t.x,t.y])}s=t[c],c+1<t.length&&(i=t[c+1])}return h&&(r=s.x>t[c-2].x?1:s.x===t[c-2].x?0:-1,n=s.y>t[c-2].y?1:s.y===t[c-2].y?0:-1),o.push([\"L\",s.x+r*e,s.y+n*e]),o},wn=(t,e)=>t.map((t=>t.map(((t,s)=>0===s||void 0===e?t:Vt(t,e))).join(\" \"))).join(\" \");function Tn(t,e){const s=t.style;s&&e&&(\"string\"==typeof e?s.cssText+=\";\"+e:Object.entries(e).forEach((t=>{let[e,i]=t;return s.setProperty(e,i)})))}const On=(t,e)=>Math.floor(Math.random()*(e-t+1))+t;function kn(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=e.onComplete||C,i=new(v().XMLHttpRequest),r=e.signal,n=function(){i.abort()},o=function(){r&&r.removeEventListener(\"abort\",n),i.onerror=i.ontimeout=C};if(r&&r.aborted)throw new c(\"request\");return r&&r.addEventListener(\"abort\",n,{once:!0}),i.onreadystatechange=function(){4===i.readyState&&(o(),s(i),i.onreadystatechange=C)},i.onerror=i.ontimeout=o,i.open(\"get\",t,!0),i.send(),i}const Dn=(t,e)=>{let s=t._findCenterFromElement();t.transformMatrix&&((t=>{if(t.transformMatrix){const{scaleX:e,scaleY:s,angle:i,skewX:r}=Dt(t.transformMatrix);t.flipX=!1,t.flipY=!1,t.set(H,e),t.set(N,s),t.angle=i,t.skewX=r,t.skewY=0}})(t),s=s.transform(t.transformMatrix)),delete t.transformMatrix,e&&(t.scaleX*=e.scaleX,t.scaleY*=e.scaleY,t.cropX=e.cropX,t.cropY=e.cropY,s.x+=e.offsetLeft,s.y+=e.offsetTop,t.width=e.width,t.height=e.height),t.setPositionByOrigin(s,D,D)};var Mn=Object.freeze({__proto__:null,addTransformToObject:le,animate:Ks,animateColor:Js,applyTransformToObject:ue,calcAngleBetweenVectors:_s,calcDimensionsMatrix:Lt,calcPlaneChangeMatrix:pe,calcVectorRotation:xs,cancelAnimFrame:dt,capValue:Ms,composeMatrix:Rt,copyCanvasElement:t=>{var e;const s=vt(t);return null===(e=s.getContext(\"2d\"))||void 0===e||e.drawImage(t,0,0),s},cos:rt,createCanvasElement:pt,createImage:mt,createRotateMatrix:Pt,createScaleMatrix:Et,createSkewXMatrix:jt,createSkewYMatrix:Ft,createTranslateMatrix:Mt,createVector:vs,crossProduct:Ss,degreesToRadians:xt,dotProduct:ws,ease:Bs,enlivenObjectEnlivables:Xt,enlivenObjects:Bt,findScaleToCover:Kr,findScaleToFit:qr,getBoundsOfCurve:sn,getOrthonormalVector:bs,getPathSegmentsInfo:mn,getPointOnPath:vn,getPointer:ne,getRandomInt:On,getRegularPolygonPath:(t,e)=>{const s=2*Math.PI/t;let i=-b;t%2==0&&(i+=s/2);const r=new Array(t+1);for(let n=0;n<t;n++){const t=n*s+i,{x:o,y:a}=new ot(rt(t),nt(t)).scalarMultiply(e);r[n]=[0===n?\"M\":\"L\",o,a]}return r[t]=[\"Z\"],r},getSmoothPathFromPoints:Sn,getSvgAttributes:t=>{const e=[\"instantiated_by_use\",\"style\",\"id\",\"class\"];switch(t){case\"linearGradient\":return e.concat([\"x1\",\"y1\",\"x2\",\"y2\",\"gradientUnits\",\"gradientTransform\"]);case\"radialGradient\":return e.concat([\"gradientUnits\",\"gradientTransform\",\"cx\",\"cy\",\"r\",\"fx\",\"fy\",\"fr\"]);case\"stop\":return e.concat([\"offset\",\"stop-color\",\"stop-opacity\"])}return e},getUnitVector:Cs,groupSVGElements:(t,e)=>t&&1===t.length?t[0]:new Ur(t,e),hasStyleChanged:Ki,invertTransform:wt,isBetweenVectors:Ts,isIdentityMatrix:bt,isTouchEvent:oe,isTransparent:Ri,joinPath:wn,loadImage:It,magnitude:ys,makeBoundingBoxFromPoints:he,makePathSimpler:nn,matrixToSVG:zt,mergeClipPaths:(t,e)=>{var s;let i=t,r=e;i.inverted&&!r.inverted&&(i=e,r=t),ye(r,null===(s=r.group)||void 0===s?void 0:s.calcTransformMatrix(),i.calcTransformMatrix());const n=i.inverted&&r.inverted;return n&&(i.inverted=r.inverted=!1),new Ur([i],{clipPath:r,inverted:n})},multiplyTransformMatrices:Tt,multiplyTransformMatrixArray:Ot,parsePath:bn,parsePreserveAspectRatioAttribute:Xe,parseUnit:Be,pick:Yt,projectStrokeOnPoints:Wi,qrDecompose:Dt,radiansToDegrees:Ct,removeFromArray:it,removeTransformFromObject:(t,e)=>{const s=wt(e),i=Tt(s,t.calcOwnMatrix());ue(t,i)},removeTransformMatrixForSvgParsing:Dn,request:kn,requestAnimFrame:ut,resetObjectTransform:de,rotatePoint:(t,e,s)=>t.rotate(s,e),rotateVector:ms,saveObjectTransform:ge,sendObjectToPlane:ye,sendPointToPlane:me,sendVectorToPlane:ve,setStyle:Tn,sin:nt,sizeAfterTransform:fe,string:qi,stylesFromArray:Qi,stylesToArray:Ji,toBlob:_t,toDataURL:yt,toFixed:Vt,transformPath:(t,e,s)=>(s&&(e=Tt(e,[1,0,0,1,-s.x,-s.y])),t.map((t=>{const s=[...t];for(let i=1;i<t.length-1;i+=2){const{x:r,y:n}=St({x:t[i],y:t[i+1]},e);s[i]=r,s[i+1]=n}return s}))),transformPoint:St});class Pn extends te{constructor(e){let{allowTouchScrolling:s=!1,containerClass:i=\"\"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e),t(this,\"upper\",void 0),t(this,\"container\",void 0);const{el:r}=this.lower,n=this.createUpperCanvas();this.upper={el:n,ctx:n.getContext(\"2d\")},this.applyCanvasStyle(r,{allowTouchScrolling:s}),this.applyCanvasStyle(n,{allowTouchScrolling:s,styles:{position:\"absolute\",left:\"0\",top:\"0\"}});const o=this.createContainerElement();o.classList.add(i),r.parentNode&&r.parentNode.replaceChild(o,r),o.append(r,n),this.container=o}createUpperCanvas(){const{el:t}=this.lower,e=pt();return e.className=t.className,e.classList.remove(\"lower-canvas\"),e.classList.add(\"upper-canvas\"),e.setAttribute(\"data-fabric\",\"top\"),e.style.cssText=t.style.cssText,e.setAttribute(\"draggable\",\"true\"),e}createContainerElement(){const t=m().createElement(\"div\");return t.setAttribute(\"data-fabric\",\"wrapper\"),Tn(t,{position:\"relative\"}),$t(t),t}applyCanvasStyle(t,e){const{styles:i,allowTouchScrolling:r}=e;Tn(t,s(s({},i),{},{\"touch-action\":r?\"manipulation\":j})),$t(t)}setDimensions(t,e){super.setDimensions(t,e);const{el:s,ctx:i}=this.upper;Qt(s,i,t,e)}setCSSDimensions(t){super.setCSSDimensions(t),Zt(this.upper.el,t),Zt(this.container,t)}cleanupDOM(t){const e=this.container,{el:s}=this.lower,{el:i}=this.upper;super.cleanupDOM(t),e.removeChild(i),e.removeChild(s),e.parentNode&&e.parentNode.replaceChild(s,e)}dispose(){super.dispose(),p().dispose(this.upper.el),delete this.upper,delete this.container}}class En extends ie{constructor(){super(...arguments),t(this,\"targets\",[]),t(this,\"_hoveredTargets\",[]),t(this,\"_currentTransform\",null),t(this,\"_groupSelector\",null),t(this,\"contextTopDirty\",!1)}static getDefaults(){return s(s({},super.getDefaults()),En.ownDefaults)}get upperCanvasEl(){var t;return null===(t=this.elements.upper)||void 0===t?void 0:t.el}get contextTop(){var t;return null===(t=this.elements.upper)||void 0===t?void 0:t.ctx}get wrapperEl(){return this.elements.container}initElements(t){this.elements=new Pn(t,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(t){this._objectsToRender=void 0,super._onObjectAdded(t)}_onObjectRemoved(t){this._objectsToRender=void 0,t===this._activeObject&&(this.fire(\"before:selection:cleared\",{deselected:[t]}),this._discardActiveObject(),this.fire(\"selection:cleared\",{deselected:[t]}),t.fire(\"deselected\",{target:t})),t===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(t)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){const t=this._activeObject;return!this.preserveObjectStacking&&t?this._objects.filter((e=>!e.group&&e!==t)).concat(t):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(t){t.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(t),this.contextTopDirty=!0),t.restore()}renderTop(){const t=this.contextTop;this.clearContext(t),this.renderTopLayer(t),this.fire(\"after:render\",{ctx:t})}setTargetFindTolerance(t){t=Math.round(t),this.targetFindTolerance=t;const e=this.getRetinaScaling(),s=Math.ceil((2*t+1)*e);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=s,this.pixelFindContext.scale(e,e)}isTargetTransparent(t,e,s){const i=this.targetFindTolerance,r=this.pixelFindContext;this.clearContext(r),r.save(),r.translate(-e+i,-s+i),r.transform(...this.viewportTransform);const n=t.selectionBackgroundColor;t.selectionBackgroundColor=\"\",t.render(r),t.selectionBackgroundColor=n,r.restore();const o=Math.round(i*this.getRetinaScaling());return Ri(r,o,o,o)}_isSelectionKeyPressed(t){const e=this.selectionKey;return!!e&&(Array.isArray(e)?!!e.find((e=>!!e&&!0===t[e])):t[e])}_shouldClearSelection(t,e){const s=this.getActiveObjects(),i=this._activeObject;return!!(!e||e&&i&&s.length>1&&-1===s.indexOf(e)&&i!==e&&!this._isSelectionKeyPressed(t)||e&&!e.evented||e&&!e.selectable&&i&&i!==e)}_shouldCenterTransform(t,e,s){if(!t)return;let i;return e===G||e===H||e===N||e===Y?i=this.centeredScaling||t.centeredScaling:e===B&&(i=this.centeredRotation||t.centeredRotation),i?!s:s}_getOriginFromCorner(t,e){const s={x:t.originX,y:t.originY};return e?([\"ml\",\"tl\",\"bl\"].includes(e)?s.x=A:[\"mr\",\"tr\",\"br\"].includes(e)&&(s.x=M),[\"tl\",\"mt\",\"tr\"].includes(e)?s.y=E:[\"bl\",\"mb\",\"br\"].includes(e)&&(s.y=P),s):s}_setupCurrentTransform(t,e,i){var r;const n=e.group?me(this.getScenePoint(t),void 0,e.group.calcTransformMatrix()):this.getScenePoint(t),{key:o=\"\",control:a}=e.getActiveControl()||{},h=i&&a?null===(r=a.getActionHandler(t,e,a))||void 0===r?void 0:r.bind(a):Me,c=((t,e,s,i)=>{if(!e||!t)return\"drag\";const r=i.controls[e];return r.getActionName(s,r,i)})(i,o,t,e),l=t[this.centeredKey],u=this._shouldCenterTransform(e,c,l)?{x:D,y:D}:this._getOriginFromCorner(e,o),d={target:e,action:c,actionHandler:h,actionPerformed:!1,corner:o,scaleX:e.scaleX,scaleY:e.scaleY,skewX:e.skewX,skewY:e.skewY,offsetX:n.x-e.left,offsetY:n.y-e.top,originX:u.x,originY:u.y,ex:n.x,ey:n.y,lastX:n.x,lastY:n.y,theta:xt(e.angle),width:e.width,height:e.height,shiftKey:t.shiftKey,altKey:l,original:s(s({},ge(e)),{},{originX:u.x,originY:u.y})};this._currentTransform=d,this.fire(\"before:transform\",{e:t,transform:d})}setCursor(t){this.upperCanvasEl.style.cursor=t}_drawSelection(t){const{x:e,y:s,deltaX:i,deltaY:r}=this._groupSelector,n=new ot(e,s).transform(this.viewportTransform),o=new ot(e+i,s+r).transform(this.viewportTransform),a=this.selectionLineWidth/2;let h=Math.min(n.x,o.x),c=Math.min(n.y,o.y),l=Math.max(n.x,o.x),u=Math.max(n.y,o.y);this.selectionColor&&(t.fillStyle=this.selectionColor,t.fillRect(h,c,l-h,u-c)),this.selectionLineWidth&&this.selectionBorderColor&&(t.lineWidth=this.selectionLineWidth,t.strokeStyle=this.selectionBorderColor,h+=a,c+=a,l-=a,u-=a,Li.prototype._setLineDash.call(this,t,this.selectionDashArray),t.strokeRect(h,c,l-h,u-c))}findTarget(t){if(this.skipTargetFind)return;const e=this.getViewportPoint(t),s=this._activeObject,i=this.getActiveObjects();if(this.targets=[],s&&i.length>=1){if(s.findControl(e,oe(t)))return s;if(i.length>1&&this.searchPossibleTargets([s],e))return s;if(s===this.searchPossibleTargets([s],e)){if(this.preserveObjectStacking){const i=this.targets;this.targets=[];const r=this.searchPossibleTargets(this._objects,e);return t[this.altSelectionKey]&&r&&r!==s?(this.targets=i,s):r}return s}}return this.searchPossibleTargets(this._objects,e)}_pointIsInObjectSelectionArea(t,e){let s=t.getCoords();const i=this.getZoom(),r=t.padding/i;if(r){const[t,e,i,n]=s,o=Math.atan2(e.y-t.y,e.x-t.x),a=rt(o)*r,h=nt(o)*r,c=a+h,l=a-h;s=[new ot(t.x-l,t.y-c),new ot(e.x+c,e.y-l),new ot(i.x+l,i.y+c),new ot(n.x-c,n.y+l)]}return Qs.isPointInPolygon(e,s)}_checkTarget(t,e){if(t&&t.visible&&t.evented&&this._pointIsInObjectSelectionArea(t,me(e,void 0,this.viewportTransform))){if(!this.perPixelTargetFind&&!t.perPixelTargetFind||t.isEditing)return!0;if(!this.isTargetTransparent(t,e.x,e.y))return!0}return!1}_searchPossibleTargets(t,e){let s=t.length;for(;s--;){const i=t[s];if(this._checkTarget(i,e)){if(ht(i)&&i.subTargetCheck){const t=this._searchPossibleTargets(i._objects,e);t&&this.targets.push(t)}return i}}}searchPossibleTargets(t,e){const s=this._searchPossibleTargets(t,e);if(s&&ht(s)&&s.interactive&&this.targets[0]){const t=this.targets;for(let e=t.length-1;e>0;e--){const s=t[e];if(!ht(s)||!s.interactive)return s}return t[0]}return s}getViewportPoint(t){return this._pointer?this._pointer:this.getPointer(t,!0)}getScenePoint(t){return this._absolutePointer?this._absolutePointer:this.getPointer(t)}getPointer(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=this.upperCanvasEl,i=s.getBoundingClientRect();let r=ne(t),n=i.width||0,o=i.height||0;n&&o||(P in i&&E in i&&(o=Math.abs(i.top-i.bottom)),A in i&&M in i&&(n=Math.abs(i.right-i.left))),this.calcOffset(),r.x=r.x-this._offset.left,r.y=r.y-this._offset.top,e||(r=me(r,void 0,this.viewportTransform));const a=this.getRetinaScaling();1!==a&&(r.x/=a,r.y/=a);const h=0===n||0===o?new ot(1,1):new ot(s.width/n,s.height/o);return r.multiply(h)}_setDimensionsImpl(t,e){this._resetTransformEventData(),super._setDimensionsImpl(t,e),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=pt(),this.pixelFindContext=this.pixelFindCanvasEl.getContext(\"2d\",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){const t=this._activeObject;return Ut(t)?t.getObjects():t?[t]:[]}_fireSelectionEvents(t,e){let s=!1,i=!1;const r=this.getActiveObjects(),n=[],o=[];t.forEach((t=>{r.includes(t)||(s=!0,t.fire(\"deselected\",{e:e,target:t}),o.push(t))})),r.forEach((i=>{t.includes(i)||(s=!0,i.fire(\"selected\",{e:e,target:i}),n.push(i))})),t.length>0&&r.length>0?(i=!0,s&&this.fire(\"selection:updated\",{e:e,selected:n,deselected:o})):r.length>0?(i=!0,this.fire(\"selection:created\",{e:e,selected:n})):t.length>0&&(i=!0,this.fire(\"selection:cleared\",{e:e,deselected:o})),i&&(this._objectsToRender=void 0)}setActiveObject(t,e){const s=this.getActiveObjects(),i=this._setActiveObject(t,e);return this._fireSelectionEvents(s,e),i}_setActiveObject(t,e){const s=this._activeObject;return s!==t&&(!(!this._discardActiveObject(e,t)&&this._activeObject)&&(!t.onSelect({e:e})&&(this._activeObject=t,Ut(t)&&s!==t&&t.set(\"canvas\",this),t.setCoords(),!0)))}_discardActiveObject(t,e){const s=this._activeObject;return!!s&&(!s.onDeselect({e:t,object:e})&&(this._currentTransform&&this._currentTransform.target===s&&this.endCurrentTransform(t),Ut(s)&&s===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0))}discardActiveObject(t){const e=this.getActiveObjects(),s=this.getActiveObject();e.length&&this.fire(\"before:selection:cleared\",{e:t,deselected:[s]});const i=this._discardActiveObject(t);return this._fireSelectionEvents(e,t),i}endCurrentTransform(t){const e=this._currentTransform;this._finalizeCurrentTransform(t),e&&e.target&&(e.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(t){const e=this._currentTransform,s=e.target,i={e:t,target:s,transform:e,action:e.action};s._scaling&&(s._scaling=!1),s.setCoords(),e.actionPerformed&&(this.fire(\"object:modified\",i),s.fire(Q,i))}setViewportTransform(t){super.setViewportTransform(t);const e=this._activeObject;e&&e.setCoords()}destroy(){const t=this._activeObject;Ut(t)&&(t.removeAll(),t.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(t){const e=this._activeObject;e&&e._renderControls(t)}_toObject(t,e,s){const i=this._realizeGroupTransformOnObject(t),r=super._toObject(t,e,s);return t.set(i),r}_realizeGroupTransformOnObject(t){const{group:e}=t;if(e&&Ut(e)&&this._activeObject===e){const s=Yt(t,[\"angle\",\"flipX\",\"flipY\",M,H,N,U,q,P]);return le(t,e.calcOwnMatrix()),s}return{}}_setSVGObject(t,e,s){const i=this._realizeGroupTransformOnObject(e);super._setSVGObject(t,e,s),e.set(i)}}t(En,\"ownDefaults\",{uniformScaling:!0,uniScaleKey:\"shiftKey\",centeredScaling:!1,centeredRotation:!1,centeredKey:\"altKey\",altActionKey:\"shiftKey\",selection:!0,selectionKey:\"shiftKey\",selectionColor:\"rgba(100, 100, 255, 0.3)\",selectionDashArray:[],selectionBorderColor:\"rgba(255, 255, 255, 0.3)\",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:\"move\",moveCursor:\"move\",defaultCursor:\"default\",freeDrawingCursor:\"crosshair\",notAllowedCursor:\"not-allowed\",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:\"canvas-container\",preserveObjectStacking:!1});class An{constructor(e){t(this,\"targets\",[]),t(this,\"__disposer\",void 0);const s=()=>{const{hiddenTextarea:t}=e.getActiveObject()||{};t&&t.focus()},i=e.upperCanvasEl;i.addEventListener(\"click\",s),this.__disposer=()=>i.removeEventListener(\"click\",s)}exitTextEditing(){this.target=void 0,this.targets.forEach((t=>{t.isEditing&&t.exitEditing()}))}add(t){this.targets.push(t)}remove(t){this.unregister(t),it(this.targets,t)}register(t){this.target=t}unregister(t){t===this.target&&(this.target=void 0)}onMouseMove(t){var e;(null===(e=this.target)||void 0===e?void 0:e.isEditing)&&this.target.updateSelectionOnMouseMove(t)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}}const jn=[\"target\",\"oldTarget\",\"fireCanvas\",\"e\"],Fn={passive:!1},Ln=(t,e)=>{const s=t.getViewportPoint(e),i=t.getScenePoint(e);return{viewportPoint:s,scenePoint:i,pointer:s,absolutePointer:i}},Rn=function(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];return t.addEventListener(...s)},In=function(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];return t.removeEventListener(...s)},Bn={mouse:{in:\"over\",out:\"out\",targetIn:\"mouseover\",targetOut:\"mouseout\",canvasIn:\"mouse:over\",canvasOut:\"mouse:out\"},drag:{in:\"enter\",out:\"leave\",targetIn:\"dragenter\",targetOut:\"dragleave\",canvasIn:\"drag:enter\",canvasOut:\"drag:leave\"}};class Xn extends En{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),t(this,\"_isClick\",void 0),t(this,\"textEditingManager\",new An(this)),[\"_onMouseDown\",\"_onTouchStart\",\"_onMouseMove\",\"_onMouseUp\",\"_onTouchEnd\",\"_onResize\",\"_onMouseWheel\",\"_onMouseOut\",\"_onMouseEnter\",\"_onContextMenu\",\"_onClick\",\"_onDragStart\",\"_onDragEnd\",\"_onDragProgress\",\"_onDragOver\",\"_onDragEnter\",\"_onDragLeave\",\"_onDrop\"].forEach((t=>{this[t]=this[t].bind(this)})),this.addOrRemove(Rn,\"add\")}_getEventPrefix(){return this.enablePointerEvents?\"pointer\":\"mouse\"}addOrRemove(t,e){const s=this.upperCanvasEl,i=this._getEventPrefix();t(Jt(s),\"resize\",this._onResize),t(s,i+\"down\",this._onMouseDown),t(s,\"\".concat(i,\"move\"),this._onMouseMove,Fn),t(s,\"\".concat(i,\"out\"),this._onMouseOut),t(s,\"\".concat(i,\"enter\"),this._onMouseEnter),t(s,\"wheel\",this._onMouseWheel,{passive:!1}),t(s,\"contextmenu\",this._onContextMenu),t(s,\"click\",this._onClick),t(s,\"dblclick\",this._onClick),t(s,\"dragstart\",this._onDragStart),t(s,\"dragend\",this._onDragEnd),t(s,\"dragover\",this._onDragOver),t(s,\"dragenter\",this._onDragEnter),t(s,\"dragleave\",this._onDragLeave),t(s,\"drop\",this._onDrop),this.enablePointerEvents||t(s,\"touchstart\",this._onTouchStart,Fn)}removeListeners(){this.addOrRemove(In,\"remove\");const t=this._getEventPrefix(),e=Kt(this.upperCanvasEl);In(e,\"\".concat(t,\"up\"),this._onMouseUp),In(e,\"touchend\",this._onTouchEnd,Fn),In(e,\"\".concat(t,\"move\"),this._onMouseMove,Fn),In(e,\"touchmove\",this._onMouseMove,Fn),clearTimeout(this._willAddMouseDown)}_onMouseWheel(t){this.__onMouseWheel(t)}_onMouseOut(t){const e=this._hoveredTarget,i=s({e:t},Ln(this,t));this.fire(\"mouse:out\",s(s({},i),{},{target:e})),this._hoveredTarget=void 0,e&&e.fire(\"mouseout\",s({},i)),this._hoveredTargets.forEach((t=>{this.fire(\"mouse:out\",s(s({},i),{},{target:t})),t&&t.fire(\"mouseout\",s({},i))})),this._hoveredTargets=[]}_onMouseEnter(t){this._currentTransform||this.findTarget(t)||(this.fire(\"mouse:over\",s({e:t},Ln(this,t))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(t){this._isClick=!1;const e=this.getActiveObject();if(e&&e.onDragStart(t)){this._dragSource=e;const s={e:t,target:e};return this.fire(\"dragstart\",s),e.fire(\"dragstart\",s),void Rn(this.upperCanvasEl,\"drag\",this._onDragProgress)}ae(t)}_renderDragEffects(t,e,s){let i=!1;const r=this._dropTarget;r&&r!==e&&r!==s&&(r.clearContextTop(),i=!0),null==e||e.clearContextTop(),s!==e&&(null==s||s.clearContextTop());const n=this.contextTop;n.save(),n.transform(...this.viewportTransform),e&&(n.save(),e.transform(n),e.renderDragSourceEffect(t),n.restore(),i=!0),s&&(n.save(),s.transform(n),s.renderDropTargetEffect(t),n.restore(),i=!0),n.restore(),i&&(this.contextTopDirty=!0)}_onDragEnd(t){const e=!!t.dataTransfer&&t.dataTransfer.dropEffect!==j,s=e?this._activeObject:void 0,i={e:t,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:e,dropTarget:s};In(this.upperCanvasEl,\"drag\",this._onDragProgress),this.fire(\"dragend\",i),this._dragSource&&this._dragSource.fire(\"dragend\",i),delete this._dragSource,this._onMouseUp(t)}_onDragProgress(t){const e={e:t,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire(\"drag\",e),this._dragSource&&this._dragSource.fire(\"drag\",e)}findDragTargets(t){this.targets=[];return{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(t)),targets:[...this.targets]}}_onDragOver(t){const e=\"dragover\",{target:s,targets:i}=this.findDragTargets(t),r=this._dragSource,n={e:t,target:s,subTargets:i,dragSource:r,canDrop:!1,dropTarget:void 0};let o;this.fire(e,n),this._fireEnterLeaveEvents(s,n),s&&(s.canDrop(t)&&(o=s),s.fire(e,n));for(let s=0;s<i.length;s++){const r=i[s];r.canDrop(t)&&(o=r),r.fire(e,n)}this._renderDragEffects(t,r,o),this._dropTarget=o}_onDragEnter(t){const{target:e,targets:s}=this.findDragTargets(t),i={e:t,target:e,subTargets:s,dragSource:this._dragSource};this.fire(\"dragenter\",i),this._fireEnterLeaveEvents(e,i)}_onDragLeave(t){const e={e:t,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire(\"dragleave\",e),this._fireEnterLeaveEvents(void 0,e),this._renderDragEffects(t,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}_onDrop(t){const{target:e,targets:i}=this.findDragTargets(t),r=this._basicEventHandler(\"drop:before\",s({e:t,target:e,subTargets:i,dragSource:this._dragSource},Ln(this,t)));r.didDrop=!1,r.dropTarget=void 0,this._basicEventHandler(\"drop\",r),this.fire(\"drop:after\",r)}_onContextMenu(t){const e=this.findTarget(t),s=this.targets||[],i=this._basicEventHandler(\"contextmenu:before\",{e:t,target:e,subTargets:s});return this.stopContextMenu&&ae(t),this._basicEventHandler(\"contextmenu\",i),!1}_onClick(t){const e=t.detail;e>3||e<2||(this._cacheTransformEventData(t),2==e&&\"dblclick\"===t.type&&this._handleEvent(t,\"dblclick\"),3==e&&this._handleEvent(t,\"tripleclick\"),this._resetTransformEventData())}getPointerId(t){const e=t.changedTouches;return e?e[0]&&e[0].identifier:this.enablePointerEvents?t.pointerId:-1}_isMainEvent(t){return!0===t.isPrimary||!1!==t.isPrimary&&(\"touchend\"===t.type&&0===t.touches.length||(!t.changedTouches||t.changedTouches[0].identifier===this.mainTouchId))}_onTouchStart(t){let e=!this.allowTouchScrolling;const s=this._activeObject;void 0===this.mainTouchId&&(this.mainTouchId=this.getPointerId(t)),this.__onMouseDown(t),(this.isDrawingMode||s&&this._target===s)&&(e=!0),e&&t.preventDefault(),this._resetTransformEventData();const i=this.upperCanvasEl,r=this._getEventPrefix(),n=Kt(i);Rn(n,\"touchend\",this._onTouchEnd,Fn),e&&Rn(n,\"touchmove\",this._onMouseMove,Fn),In(i,\"\".concat(r,\"down\"),this._onMouseDown)}_onMouseDown(t){this.__onMouseDown(t),this._resetTransformEventData();const e=this.upperCanvasEl,s=this._getEventPrefix();In(e,\"\".concat(s,\"move\"),this._onMouseMove,Fn);const i=Kt(e);Rn(i,\"\".concat(s,\"up\"),this._onMouseUp),Rn(i,\"\".concat(s,\"move\"),this._onMouseMove,Fn)}_onTouchEnd(t){if(t.touches.length>0)return;this.__onMouseUp(t),this._resetTransformEventData(),delete this.mainTouchId;const e=this._getEventPrefix(),s=Kt(this.upperCanvasEl);In(s,\"touchend\",this._onTouchEnd,Fn),In(s,\"touchmove\",this._onMouseMove,Fn),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout((()=>{Rn(this.upperCanvasEl,\"\".concat(e,\"down\"),this._onMouseDown),this._willAddMouseDown=0}),400)}_onMouseUp(t){this.__onMouseUp(t),this._resetTransformEventData();const e=this.upperCanvasEl,s=this._getEventPrefix();if(this._isMainEvent(t)){const t=Kt(this.upperCanvasEl);In(t,\"\".concat(s,\"up\"),this._onMouseUp),In(t,\"\".concat(s,\"move\"),this._onMouseMove,Fn),Rn(e,\"\".concat(s,\"move\"),this._onMouseMove,Fn)}}_onMouseMove(t){const e=this.getActiveObject();!this.allowTouchScrolling&&(!e||!e.shouldStartDragging(t))&&t.preventDefault&&t.preventDefault(),this.__onMouseMove(t)}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(t){const e=this.getActiveObject();return!!e!=!!t||e&&t&&e!==t}__onMouseUp(t){var e;this._cacheTransformEventData(t),this._handleEvent(t,\"up:before\");const s=this._currentTransform,i=this._isClick,r=this._target,{button:n}=t;if(n)return(this.fireMiddleClick&&1===n||this.fireRightClick&&2===n)&&this._handleEvent(t,\"up\"),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(t);if(!this._isMainEvent(t))return;let o,a,h=!1;if(s&&(this._finalizeCurrentTransform(t),h=s.actionPerformed),!i){const e=r===this._activeObject;this.handleSelection(t),h||(h=this._shouldRender(r)||!e&&r===this._activeObject)}if(r){const e=r.findControl(this.getViewportPoint(t),oe(t)),{key:i,control:n}=e||{};if(a=i,r.selectable&&r!==this._activeObject&&\"up\"===r.activeOn)this.setActiveObject(r,t),h=!0;else if(n){const e=n.getMouseUpHandler(t,r,n);e&&(o=this.getScenePoint(t),e.call(n,t,s,o.x,o.y))}r.isMoving=!1}if(s&&(s.target!==r||s.corner!==a)){const e=s.target&&s.target.controls[s.corner],i=e&&e.getMouseUpHandler(t,s.target,e);o=o||this.getScenePoint(t),i&&i.call(e,t,s,o.x,o.y)}this._setCursorFromEvent(t,r),this._handleEvent(t,\"up\"),this._groupSelector=null,this._currentTransform=null,r&&(r.__corner=void 0),h?this.requestRenderAll():i||null!==(e=this._activeObject)&&void 0!==e&&e.isEditing||this.renderTop()}_basicEventHandler(t,e){const{target:s,subTargets:i=[]}=e;this.fire(t,e),s&&s.fire(t,e);for(let r=0;r<i.length;r++)i[r]!==s&&i[r].fire(t,e);return e}_handleEvent(t,e,i){const r=this._target,n=this.targets||[],o=s(s(s({e:t,target:r,subTargets:n},Ln(this,t)),{},{transform:this._currentTransform},\"up:before\"===e||\"up\"===e?{isClick:this._isClick,currentTarget:this.findTarget(t),currentSubTargets:this.targets}:{}),\"down:before\"===e||\"down\"===e?i:{});this.fire(\"mouse:\".concat(e),o),r&&r.fire(\"mouse\".concat(e),o);for(let t=0;t<n.length;t++)n[t]!==r&&n[t].fire(\"mouse\".concat(e),o)}_onMouseDownInDrawingMode(t){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(t),this.requestRenderAll());const e=this.getScenePoint(t);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(e,{e:t,pointer:e}),this._handleEvent(t,\"down\",{alreadySelected:!1})}_onMouseMoveInDrawingMode(t){if(this._isCurrentlyDrawing){const e=this.getScenePoint(t);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(e,{e:t,pointer:e})}this.setCursor(this.freeDrawingCursor),this._handleEvent(t,\"move\")}_onMouseUpInDrawingMode(t){const e=this.getScenePoint(t);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e:t,pointer:e}):this._isCurrentlyDrawing=!1,this._handleEvent(t,\"up\")}__onMouseDown(t){this._isClick=!0,this._cacheTransformEventData(t),this._handleEvent(t,\"down:before\");let e=this._target,s=!!e&&e===this._activeObject;const{button:i}=t;if(i)return(this.fireMiddleClick&&1===i||this.fireRightClick&&2===i)&&this._handleEvent(t,\"down\",{alreadySelected:s}),void this._resetTransformEventData();if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(t);if(!this._isMainEvent(t))return;if(this._currentTransform)return;let r=this._shouldRender(e),n=!1;if(this.handleMultiSelection(t,e)?(e=this._activeObject,n=!0,r=!0):this._shouldClearSelection(t,e)&&this.discardActiveObject(t),this.selection&&(!e||!e.selectable&&!e.isEditing&&e!==this._activeObject)){const e=this.getScenePoint(t);this._groupSelector={x:e.x,y:e.y,deltaY:0,deltaX:0}}if(s=!!e&&e===this._activeObject,e){e.selectable&&\"down\"===e.activeOn&&this.setActiveObject(e,t);const i=e.findControl(this.getViewportPoint(t),oe(t));if(e===this._activeObject&&(i||!n)){this._setupCurrentTransform(t,e,s);const r=i?i.control:void 0,n=this.getScenePoint(t),o=r&&r.getMouseDownHandler(t,e,r);o&&o.call(r,t,this._currentTransform,n.x,n.y)}}r&&(this._objectsToRender=void 0),this._handleEvent(t,\"down\",{alreadySelected:s}),r&&this.requestRenderAll()}_resetTransformEventData(){this._target=this._pointer=this._absolutePointer=void 0}_cacheTransformEventData(t){this._resetTransformEventData(),this._pointer=this.getViewportPoint(t),this._absolutePointer=me(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(t)}__onMouseMove(t){if(this._isClick=!1,this._cacheTransformEventData(t),this._handleEvent(t,\"move:before\"),this.isDrawingMode)return void this._onMouseMoveInDrawingMode(t);if(!this._isMainEvent(t))return;const e=this._groupSelector;if(e){const s=this.getScenePoint(t);e.deltaX=s.x-e.x,e.deltaY=s.y-e.y,this.renderTop()}else if(this._currentTransform)this._transformObject(t);else{const e=this.findTarget(t);this._setCursorFromEvent(t,e),this._fireOverOutEvents(t,e)}this.textEditingManager.onMouseMove(t),this._handleEvent(t,\"move\"),this._resetTransformEventData()}_fireOverOutEvents(t,e){const s=this._hoveredTarget,i=this._hoveredTargets,r=this.targets,n=Math.max(i.length,r.length);this.fireSyntheticInOutEvents(\"mouse\",{e:t,target:e,oldTarget:s,fireCanvas:!0});for(let o=0;o<n;o++)r[o]===e||i[o]&&i[o]===s||this.fireSyntheticInOutEvents(\"mouse\",{e:t,target:r[o],oldTarget:i[o]});this._hoveredTarget=e,this._hoveredTargets=this.targets.concat()}_fireEnterLeaveEvents(t,e){const i=this._draggedoverTarget,r=this._hoveredTargets,n=this.targets,o=Math.max(r.length,n.length);this.fireSyntheticInOutEvents(\"drag\",s(s({},e),{},{target:t,oldTarget:i,fireCanvas:!0}));for(let t=0;t<o;t++)this.fireSyntheticInOutEvents(\"drag\",s(s({},e),{},{target:n[t],oldTarget:r[t]}));this._draggedoverTarget=t}fireSyntheticInOutEvents(t,e){let{target:r,oldTarget:n,fireCanvas:o,e:a}=e,h=i(e,jn);const{targetIn:c,targetOut:l,canvasIn:u,canvasOut:d}=Bn[t],g=n!==r;if(n&&g){const t=s(s({},h),{},{e:a,target:n,nextTarget:r},Ln(this,a));o&&this.fire(d,t),n.fire(l,t)}if(r&&g){const t=s(s({},h),{},{e:a,target:r,previousTarget:n},Ln(this,a));o&&this.fire(u,t),r.fire(c,t)}}__onMouseWheel(t){this._cacheTransformEventData(t),this._handleEvent(t,\"wheel\"),this._resetTransformEventData()}_transformObject(t){const e=this.getScenePoint(t),s=this._currentTransform,i=s.target,r=i.group?me(e,void 0,i.group.calcTransformMatrix()):e;s.shiftKey=t.shiftKey,s.altKey=!!this.centeredKey&&t[this.centeredKey],this._performTransformAction(t,s,r),s.actionPerformed&&this.requestRenderAll()}_performTransformAction(t,e,s){const{action:i,actionHandler:r,target:n}=e,o=!!r&&r(t,e,s.x,s.y);o&&n.setCoords(),\"drag\"===i&&o&&(e.target.isMoving=!0,this.setCursor(e.target.moveCursor||this.moveCursor)),e.actionPerformed=e.actionPerformed||o}_setCursorFromEvent(t,e){if(!e)return void this.setCursor(this.defaultCursor);let s=e.hoverCursor||this.hoverCursor;const i=Ut(this._activeObject)?this._activeObject:null,r=(!i||e.group!==i)&&e.findControl(this.getViewportPoint(t));if(r){const s=r.control;this.setCursor(s.cursorStyleHandler(t,s,e))}else e.subTargetCheck&&this.targets.concat().reverse().map((t=>{s=t.hoverCursor||s})),this.setCursor(s)}handleMultiSelection(t,e){const s=this._activeObject,i=Ut(s);if(s&&this._isSelectionKeyPressed(t)&&this.selection&&e&&e.selectable&&(s!==e||i)&&(i||!e.isDescendantOf(s)&&!s.isDescendantOf(e))&&!e.onSelect({e:t})&&!s.getActiveControl()){if(i){const i=s.getObjects();if(e===s){const s=this.getViewportPoint(t);if(!(e=this.searchPossibleTargets(i,s)||this.searchPossibleTargets(this._objects,s))||!e.selectable)return!1}e.group===s?(s.remove(e),this._hoveredTarget=e,this._hoveredTargets=[...this.targets],1===s.size()&&this._setActiveObject(s.item(0),t)):(s.multiSelectAdd(e),this._hoveredTarget=s,this._hoveredTargets=[...this.targets]),this._fireSelectionEvents(i,t)}else{s.isEditing&&s.exitEditing();const i=new(tt.getClass(\"ActiveSelection\"))([],{canvas:this});i.multiSelectAdd(s,e),this._hoveredTarget=i,this._setActiveObject(i,t),this._fireSelectionEvents([s],t)}return!0}return!1}handleSelection(t){if(!this.selection||!this._groupSelector)return!1;const{x:e,y:s,deltaX:i,deltaY:r}=this._groupSelector,n=new ot(e,s),o=n.add(new ot(i,r)),a=n.min(o),h=n.max(o).subtract(a),c=this.collectObjects({left:a.x,top:a.y,width:h.x,height:h.y},{includeIntersecting:!this.selectionFullyContained}),l=n.eq(o)?c[0]?[c[0]]:[]:c.length>1?c.filter((e=>!e.onSelect({e:t}))).reverse():c;if(1===l.length)this.setActiveObject(l[0],t);else if(l.length>1){const e=tt.getClass(\"ActiveSelection\");this.setActiveObject(new e(l,{canvas:this}),t)}return this._groupSelector=null,!0}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}}const Yn={x1:0,y1:0,x2:0,y2:0},Wn=s(s({},Yn),{},{r1:0,r2:0}),Vn=(t,e)=>isNaN(t)&&\"number\"==typeof e?e:t;function zn(t){return t&&/%$/.test(t)&&Number.isFinite(parseFloat(t))}function Gn(t,e){const s=\"number\"==typeof t?t:\"string\"==typeof t?parseFloat(t)/(zn(t)?100:1):NaN;return Ms(0,Vn(s,e),1)}const Hn=/\\s*;\\s*/,Nn=/\\s*:\\s*/;function Un(t,e){let s,i;const r=t.getAttribute(\"style\");if(r){const t=r.split(Hn);\"\"===t[t.length-1]&&t.pop();for(let e=t.length;e--;){const[r,n]=t[e].split(Nn).map((t=>t.trim()));\"stop-color\"===r?s=n:\"stop-opacity\"===r&&(i=n)}}const n=new Ie(s||t.getAttribute(\"stop-color\")||\"rgb(0,0,0)\");return{offset:Gn(t.getAttribute(\"offset\"),0),color:n.toRgb(),opacity:Vn(parseFloat(i||t.getAttribute(\"stop-opacity\")||\"\"),1)*n.getAlpha()*e}}function qn(t,e){const s=[],i=t.getElementsByTagName(\"stop\"),r=Gn(e,1);for(let t=i.length;t--;)s.push(Un(i[t],r));return s}function Kn(t){return\"linearGradient\"===t.nodeName||\"LINEARGRADIENT\"===t.nodeName?\"linear\":\"radial\"}function Jn(t){return\"userSpaceOnUse\"===t.getAttribute(\"gradientUnits\")?\"pixels\":\"percentage\"}function Qn(t,e){return t.getAttribute(e)}function Zn(t,e){return function(t,e){let s,{width:i,height:r,gradientUnits:n}=e;return Object.entries(t).reduce(((t,e)=>{let[o,a]=e;if(\"Infinity\"===a)s=1;else if(\"-Infinity\"===a)s=0;else{const t=\"string\"==typeof a;s=t?parseFloat(a):a,t&&zn(a)&&(s*=.01,\"pixels\"===n&&(\"x1\"!==o&&\"x2\"!==o&&\"r2\"!==o||(s*=i),\"y1\"!==o&&\"y2\"!==o||(s*=r)))}return t[o]=s,t}),{})}(\"linear\"===Kn(t)?function(t){return{x1:Qn(t,\"x1\")||0,y1:Qn(t,\"y1\")||0,x2:Qn(t,\"x2\")||\"100%\",y2:Qn(t,\"y2\")||0}}(t):function(t){return{x1:Qn(t,\"fx\")||Qn(t,\"cx\")||\"50%\",y1:Qn(t,\"fy\")||Qn(t,\"cy\")||\"50%\",r1:0,x2:Qn(t,\"cx\")||\"50%\",y2:Qn(t,\"cy\")||\"50%\",r2:Qn(t,\"r\")||\"50%\"}}(t),s(s({},e),{},{gradientUnits:Jn(t)}))}class $n{constructor(t){const{type:e=\"linear\",gradientUnits:i=\"pixels\",coords:r={},colorStops:n=[],offsetX:o=0,offsetY:a=0,gradientTransform:h,id:c}=t||{};Object.assign(this,{type:e,gradientUnits:i,coords:s(s({},\"radial\"===e?Wn:Yn),r),colorStops:n,offsetX:o,offsetY:a,gradientTransform:h,id:c?\"\".concat(c,\"_\").concat(ft()):ft()})}addColorStop(t){for(const e in t){const s=new Ie(t[e]);this.colorStops.push({offset:parseFloat(e),color:s.toRgb(),opacity:s.getAlpha()})}return this}toObject(t){return s(s({},Yt(this,t)),{},{type:this.type,coords:s({},this.coords),colorStops:this.colorStops.map((t=>s({},t))),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(t){let{additionalTransform:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=[],r=this.gradientTransform?this.gradientTransform.concat():T.concat(),n=\"pixels\"===this.gradientUnits?\"userSpaceOnUse\":\"objectBoundingBox\",o=this.colorStops.map((t=>s({},t))).sort(((t,e)=>t.offset-e.offset));let a=-this.offsetX,h=-this.offsetY;var c;\"objectBoundingBox\"===n?(a/=t.width,h/=t.height):(a+=t.width/2,h+=t.height/2),(c=t)&&\"function\"==typeof c._renderPathCommands&&\"percentage\"!==this.gradientUnits&&(a-=t.pathOffset.x,h-=t.pathOffset.y),r[4]-=a,r[5]-=h;const l=['id=\"SVGID_'.concat(this.id,'\"'),'gradientUnits=\"'.concat(n,'\"'),'gradientTransform=\"'.concat(e?e+\" \":\"\").concat(zt(r),'\"'),\"\"].join(\" \");if(\"linear\"===this.type){const{x1:t,y1:e,x2:s,y2:r}=this.coords;i.push(\"<linearGradient \",l,' x1=\"',t,'\" y1=\"',e,'\" x2=\"',s,'\" y2=\"',r,'\">\\n')}else if(\"radial\"===this.type){const{x1:t,y1:e,x2:s,y2:r,r1:n,r2:a}=this.coords,h=n>a;i.push(\"<radialGradient \",l,' cx=\"',h?t:s,'\" cy=\"',h?e:r,'\" r=\"',h?n:a,'\" fx=\"',h?s:t,'\" fy=\"',h?r:e,'\">\\n'),h&&(o.reverse(),o.forEach((t=>{t.offset=1-t.offset})));const c=Math.min(n,a);if(c>0){const t=c/Math.max(n,a);o.forEach((e=>{e.offset+=t*(1-e.offset)}))}}return o.forEach((t=>{let{color:e,offset:s,opacity:r}=t;i.push(\"<stop \",'offset=\"',100*s+\"%\",'\" style=\"stop-color:',e,void 0!==r?\";stop-opacity: \"+r:\";\",'\"/>\\n')})),i.push(\"linear\"===this.type?\"</linearGradient>\":\"</radialGradient>\",\"\\n\"),i.join(\"\")}toLive(t){const{x1:e,y1:s,x2:i,y2:r,r1:n,r2:o}=this.coords,a=\"linear\"===this.type?t.createLinearGradient(e,s,i,r):t.createRadialGradient(e,s,n,i,r,o);return this.colorStops.forEach((t=>{let{color:e,opacity:s,offset:i}=t;a.addColorStop(i,void 0!==s?new Ie(e).setAlpha(s).toRgba():e)})),a}static async fromObject(t){const{colorStops:e,gradientTransform:i}=t;return new this(s(s({},t),{},{colorStops:e?e.map((t=>s({},t))):void 0,gradientTransform:i?[...i]:void 0}))}static fromElement(t,e,i){const r=Jn(t),n=e._findCenterFromElement();return new this(s({id:t.getAttribute(\"id\")||void 0,type:Kn(t),coords:Zn(t,{width:i.viewBoxWidth||i.width,height:i.viewBoxHeight||i.height}),colorStops:qn(t,i.opacity),gradientUnits:r,gradientTransform:wr(t.getAttribute(\"gradientTransform\")||\"\")},\"pixels\"===r?{offsetX:e.width/2-n.x,offsetY:e.height/2-n.y}:{offsetX:0,offsetY:0}))}}t($n,\"type\",\"Gradient\"),tt.setClass($n,\"gradient\"),tt.setClass($n,\"linear\"),tt.setClass($n,\"radial\");const to=[\"type\",\"source\",\"patternTransform\"];class eo{get type(){return\"pattern\"}set type(t){a(\"warn\",\"Setting type has no effect\",t)}constructor(e){t(this,\"repeat\",\"repeat\"),t(this,\"offsetX\",0),t(this,\"offsetY\",0),t(this,\"crossOrigin\",\"\"),this.id=ft(),Object.assign(this,e)}isImageSource(){return!!this.source&&\"string\"==typeof this.source.src}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():\"\"}toLive(t){return this.source&&(!this.isImageSource()||this.source.complete&&0!==this.source.naturalWidth&&0!==this.source.naturalHeight)?t.createPattern(this.source,this.repeat):null}toObject(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const{repeat:e,crossOrigin:i}=this;return s(s({},Yt(this,t)),{},{type:\"pattern\",source:this.sourceToString(),repeat:e,crossOrigin:i,offsetX:Vt(this.offsetX,o.NUM_FRACTION_DIGITS),offsetY:Vt(this.offsetY,o.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(t){let{width:e,height:s}=t;const{source:i,repeat:r,id:n}=this,o=Vn(this.offsetX/e,0),a=Vn(this.offsetY/s,0),h=\"repeat-y\"===r||\"no-repeat\"===r?1+Math.abs(o||0):Vn(i.width/e,0),c=\"repeat-x\"===r||\"no-repeat\"===r?1+Math.abs(a||0):Vn(i.height/s,0);return['<pattern id=\"SVGID_'.concat(n,'\" x=\"').concat(o,'\" y=\"').concat(a,'\" width=\"').concat(h,'\" height=\"').concat(c,'\">'),'<image x=\"0\" y=\"0\" width=\"'.concat(i.width,'\" height=\"').concat(i.height,'\" xlink:href=\"').concat(this.sourceToString(),'\"></image>'),\"</pattern>\",\"\"].join(\"\\n\")}static async fromObject(t,e){let{type:r,source:n,patternTransform:o}=t,a=i(t,to);const h=await It(n,s(s({},e),{},{crossOrigin:a.crossOrigin}));return new this(s(s({},a),{},{patternTransform:o&&o.slice(0),source:h}))}}t(eo,\"type\",\"Pattern\"),tt.setClass(eo),tt.setClass(eo,\"pattern\");class so{constructor(e){t(this,\"color\",\"rgb(0, 0, 0)\"),t(this,\"width\",1),t(this,\"shadow\",null),t(this,\"strokeLineCap\",\"round\"),t(this,\"strokeLineJoin\",\"round\"),t(this,\"strokeMiterLimit\",10),t(this,\"strokeDashArray\",null),t(this,\"limitedToCanvasSize\",!1),this.canvas=e}_setBrushStyles(t){t.strokeStyle=this.color,t.lineWidth=this.width,t.lineCap=this.strokeLineCap,t.miterLimit=this.strokeMiterLimit,t.lineJoin=this.strokeLineJoin,t.setLineDash(this.strokeDashArray||[])}_saveAndTransform(t){const e=this.canvas.viewportTransform;t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}needsFullRender(){return new Ie(this.color).getAlpha()<1||!!this.shadow}_setShadow(){if(!this.shadow||!this.canvas)return;const t=this.canvas,e=this.shadow,s=t.contextTop,i=t.getZoom()*t.getRetinaScaling();s.shadowColor=e.color,s.shadowBlur=e.blur*i,s.shadowOffsetX=e.offsetX*i,s.shadowOffsetY=e.offsetY*i}_resetShadow(){const t=this.canvas.contextTop;t.shadowColor=\"\",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0}_isOutSideCanvas(t){return t.x<0||t.x>this.canvas.getWidth()||t.y<0||t.y>this.canvas.getHeight()}}const io=[\"path\",\"left\",\"top\"],ro=[\"d\"];class no extends Li{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{path:s,left:r,top:n}=e,o=i(e,io);super(),Object.assign(this,no.ownDefaults),this.setOptions(o),this._setPath(t||[],!0),\"number\"==typeof r&&this.set(M,r),\"number\"==typeof n&&this.set(P,n)}_setPath(t,e){this.path=nn(Array.isArray(t)?t:bn(t)),this.setBoundingBox(e)}_findCenterFromElement(){const t=this._calcBoundsFromPath();return new ot(t.left+t.width/2,t.top+t.height/2)}_renderPathCommands(t){const e=-this.pathOffset.x,s=-this.pathOffset.y;t.beginPath();for(const i of this.path)switch(i[0]){case\"L\":t.lineTo(i[1]+e,i[2]+s);break;case\"M\":t.moveTo(i[1]+e,i[2]+s);break;case\"C\":t.bezierCurveTo(i[1]+e,i[2]+s,i[3]+e,i[4]+s,i[5]+e,i[6]+s);break;case\"Q\":t.quadraticCurveTo(i[1]+e,i[2]+s,i[3]+e,i[4]+s);break;case\"Z\":t.closePath()}}_render(t){this._renderPathCommands(t),this._renderPaintInOrder(t)}toString(){return\"#<Path (\".concat(this.complexity(),'): { \"top\": ').concat(this.top,', \"left\": ').concat(this.left,\" }>\")}toObject(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s(s({},super.toObject(t)),{},{path:this.path.map((t=>t.slice()))})}toDatalessObject(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const e=this.toObject(t);return this.sourcePath&&(delete e.path,e.sourcePath=this.sourcePath),e}_toSVG(){const t=wn(this.path,o.NUM_FRACTION_DIGITS);return[\"<path \",\"COMMON_PARTS\",'d=\"'.concat(t,'\" stroke-linecap=\"round\" />\\n')]}_getOffsetTransform(){const t=o.NUM_FRACTION_DIGITS;return\" translate(\".concat(Vt(-this.pathOffset.x,t),\", \").concat(Vt(-this.pathOffset.y,t),\")\")}toClipPathSVG(t){const e=this._getOffsetTransform();return\"\\t\"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})}toSVG(t){const e=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(t){const{width:e,height:s,pathOffset:i}=this._calcDimensions();this.set({width:e,height:s,pathOffset:i}),t&&this.setPositionByOrigin(i,D,D)}_calcBoundsFromPath(){const t=[];let e=0,s=0,i=0,r=0;for(const n of this.path)switch(n[0]){case\"L\":i=n[1],r=n[2],t.push({x:e,y:s},{x:i,y:r});break;case\"M\":i=n[1],r=n[2],e=i,s=r;break;case\"C\":t.push(...sn(i,r,n[1],n[2],n[3],n[4],n[5],n[6])),i=n[5],r=n[6];break;case\"Q\":t.push(...sn(i,r,n[1],n[2],n[1],n[2],n[3],n[4])),i=n[3],r=n[4];break;case\"Z\":i=e,r=s}return he(t)}_calcDimensions(){const t=this._calcBoundsFromPath();return s(s({},t),{},{pathOffset:new ot(t.left+t.width/2,t.top+t.height/2)})}static fromObject(t){return this._fromObject(t,{extraParam:\"path\"})}static async fromElement(t,e,r){const n=Pr(t,this.ATTRIBUTE_NAMES,r),{d:o}=n;return new this(o,s(s(s({},i(n,ro)),e),{},{left:void 0,top:void 0}))}}t(no,\"type\",\"Path\"),t(no,\"cacheProperties\",[...Es,\"path\",\"fillRule\"]),t(no,\"ATTRIBUTE_NAMES\",[...Zi,\"d\"]),tt.setClass(no),tt.setSVGClass(no);class oo extends so{constructor(e){super(e),t(this,\"decimate\",.4),t(this,\"drawStraightLine\",!1),t(this,\"straightLineKey\",\"shiftKey\"),this._points=[],this._hasStraightLine=!1}needsFullRender(){return super.needsFullRender()||this._hasStraightLine}static drawSegment(t,e,s){const i=e.midPointFrom(s);return t.quadraticCurveTo(e.x,e.y,i.x,i.y),i}onMouseDown(t,e){let{e:s}=e;this.canvas._isMainEvent(s)&&(this.drawStraightLine=!!this.straightLineKey&&s[this.straightLineKey],this._prepareForDrawing(t),this._addPoint(t),this._render())}onMouseMove(t,e){let{e:s}=e;if(this.canvas._isMainEvent(s)&&(this.drawStraightLine=!!this.straightLineKey&&s[this.straightLineKey],(!0!==this.limitedToCanvasSize||!this._isOutSideCanvas(t))&&this._addPoint(t)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{const t=this._points,e=t.length,s=this.canvas.contextTop;this._saveAndTransform(s),this.oldEnd&&(s.beginPath(),s.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=oo.drawSegment(s,t[e-2],t[e-1]),s.stroke(),s.restore()}}onMouseUp(t){let{e:e}=t;return!this.canvas._isMainEvent(e)||(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1)}_prepareForDrawing(t){this._reset(),this._addPoint(t),this.canvas.contextTop.moveTo(t.x,t.y)}_addPoint(t){return!(this._points.length>1&&t.eq(this._points[this._points.length-1]))&&(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(t),!0)}_reset(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1}_render(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.canvas.contextTop,e=this._points[0],s=this._points[1];if(this._saveAndTransform(t),t.beginPath(),2===this._points.length&&e.x===s.x&&e.y===s.y){const t=this.width/1e3;e.x-=t,s.x+=t}t.moveTo(e.x,e.y);for(let i=1;i<this._points.length;i++)oo.drawSegment(t,e,s),e=this._points[i],s=this._points[i+1];t.lineTo(e.x,e.y),t.stroke(),t.restore()}convertPointsToSVGPath(t){const e=this.width/1e3;return Sn(t,e)}createPath(t){const e=new no(t,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,e.shadow=new Ds(this.shadow)),e}decimatePoints(t,e){if(t.length<=2)return t;let s,i=t[0];const r=this.canvas.getZoom(),n=Math.pow(e/r,2),o=t.length-1,a=[i];for(let e=1;e<o-1;e++)s=Math.pow(i.x-t[e].x,2)+Math.pow(i.y-t[e].y,2),s>=n&&(i=t[e],a.push(i));return a.push(t[o]),a}_finalizeAndAddPath(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));const t=this.convertPointsToSVGPath(this._points);if(function(t){return\"M 0 0 Q 0 0 0 0 L 0 0\"===wn(t)}(t))return void this.canvas.requestRenderAll();const e=this.createPath(t);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire(\"before:path:created\",{path:e}),this.canvas.add(e),this.canvas.requestRenderAll(),e.setCoords(),this._resetShadow(),this.canvas.fire(\"path:created\",{path:e})}}const ao=[\"left\",\"top\",\"radius\"],ho=[\"radius\",\"startAngle\",\"endAngle\",\"counterClockwise\"];class co extends Li{static getDefaults(){return s(s({},super.getDefaults()),co.ownDefaults)}constructor(t){super(),Object.assign(this,co.ownDefaults),this.setOptions(t)}_set(t,e){return super._set(t,e),\"radius\"===t&&this.setRadius(e),this}_render(t){t.beginPath(),t.arc(0,0,this.radius,xt(this.startAngle),xt(this.endAngle),this.counterClockwise),this._renderPaintInOrder(t)}getRadiusX(){return this.get(\"radius\")*this.get(H)}getRadiusY(){return this.get(\"radius\")*this.get(N)}setRadius(t){this.radius=t,this.set({width:2*t,height:2*t})}toObject(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return super.toObject([...ho,...t])}_toSVG(){const t=(this.endAngle-this.startAngle)%360;if(0===t)return[\"<circle \",\"COMMON_PARTS\",'cx=\"0\" cy=\"0\" ','r=\"',\"\".concat(this.radius),'\" />\\n'];{const{radius:e}=this,s=xt(this.startAngle),i=xt(this.endAngle),r=rt(s)*e,n=nt(s)*e,o=rt(i)*e,a=nt(i)*e,h=t>180?1:0,c=this.counterClockwise?0:1;return['<path d=\"M '.concat(r,\" \").concat(n,\" A \").concat(e,\" \").concat(e,\" 0 \").concat(h,\" \").concat(c,\" \").concat(o,\" \").concat(a,'\" '),\"COMMON_PARTS\",\" />\\n\"]}}static async fromElement(t,e,r){const n=Pr(t,this.ATTRIBUTE_NAMES,r),{left:o=0,top:a=0,radius:h=0}=n;return new this(s(s({},i(n,ao)),{},{radius:h,left:o-h,top:a-h}))}static fromObject(t){return super._fromObject(t)}}t(co,\"type\",\"Circle\"),t(co,\"cacheProperties\",[...Es,...ho]),t(co,\"ownDefaults\",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),t(co,\"ATTRIBUTE_NAMES\",[\"cx\",\"cy\",\"r\",...Zi]),tt.setClass(co),tt.setSVGClass(co);class lo extends so{constructor(e){super(e),t(this,\"width\",10),this.points=[]}drawDot(t){const e=this.addPoint(t),s=this.canvas.contextTop;this._saveAndTransform(s),this.dot(s,e),s.restore()}dot(t,e){t.fillStyle=e.fill,t.beginPath(),t.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),t.closePath(),t.fill()}onMouseDown(t){this.points=[],this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(t)}_render(){const t=this.canvas.contextTop,e=this.points;this._saveAndTransform(t);for(let s=0;s<e.length;s++)this.dot(t,e[s]);t.restore()}onMouseMove(t){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(t)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(t),this._render()):this.drawDot(t))}onMouseUp(){const t=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;const e=[];for(let t=0;t<this.points.length;t++){const s=this.points[t],i=new co({radius:s.radius,left:s.x,top:s.y,originX:D,originY:D,fill:s.fill});this.shadow&&(i.shadow=new Ds(this.shadow)),e.push(i)}const s=new Ur(e,{canvas:this.canvas});this.canvas.fire(\"before:path:created\",{path:s}),this.canvas.add(s),this.canvas.fire(\"path:created\",{path:s}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=t,this.canvas.requestRenderAll()}addPoint(t){let{x:e,y:s}=t;const i={x:e,y:s,radius:On(Math.max(0,this.width-20),this.width+20)/2,fill:new Ie(this.color).setAlpha(On(0,100)/100).toRgba()};return this.points.push(i),i}}class uo extends so{constructor(e){super(e),t(this,\"width\",10),t(this,\"density\",20),t(this,\"dotWidth\",1),t(this,\"dotWidthVariance\",1),t(this,\"randomOpacity\",!1),t(this,\"optimizeOverlapping\",!0),this.sprayChunks=[],this.sprayChunk=[]}onMouseDown(t){this.sprayChunks=[],this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(t),this.renderChunck(this.sprayChunk)}onMouseMove(t){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(t)||(this.addSprayChunk(t),this.renderChunck(this.sprayChunk))}onMouseUp(){const t=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;const e=[];for(let t=0;t<this.sprayChunks.length;t++){const s=this.sprayChunks[t];for(let t=0;t<s.length;t++){const i=s[t],r=new jr({width:i.width,height:i.width,left:i.x+1,top:i.y+1,originX:D,originY:D,fill:this.color});e.push(r)}}const s=new Ur(this.optimizeOverlapping?function(t){const e={},s=[];for(let i,r=0;r<t.length;r++)i=\"\".concat(t[r].left).concat(t[r].top),e[i]||(e[i]=!0,s.push(t[r]));return s}(e):e,{objectCaching:!0,subTargetCheck:!1,interactive:!1});this.shadow&&s.set(\"shadow\",new Ds(this.shadow)),this.canvas.fire(\"before:path:created\",{path:s}),this.canvas.add(s),this.canvas.fire(\"path:created\",{path:s}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=t,this.canvas.requestRenderAll()}renderChunck(t){const e=this.canvas.contextTop;e.fillStyle=this.color,this._saveAndTransform(e);for(let s=0;s<t.length;s++){const i=t[s];e.globalAlpha=i.opacity,e.fillRect(i.x,i.y,i.width,i.width)}e.restore()}_render(){const t=this.canvas.contextTop;t.fillStyle=this.color,this._saveAndTransform(t);for(let t=0;t<this.sprayChunks.length;t++)this.renderChunck(this.sprayChunks[t]);t.restore()}addSprayChunk(t){this.sprayChunk=[];const e=this.width/2;for(let s=0;s<this.density;s++)this.sprayChunk.push({x:On(t.x-e,t.x+e),y:On(t.y-e,t.y+e),width:this.dotWidthVariance?On(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth,opacity:this.randomOpacity?On(0,100)/100:1});this.sprayChunks.push(this.sprayChunk)}}class go extends oo{constructor(t){super(t)}getPatternSrc(){const t=pt(),e=t.getContext(\"2d\");return t.width=t.height=25,e&&(e.fillStyle=this.color,e.beginPath(),e.arc(10,10,10,0,2*Math.PI,!1),e.closePath(),e.fill()),t}getPattern(t){return t.createPattern(this.source||this.getPatternSrc(),\"repeat\")}_setBrushStyles(t){super._setBrushStyles(t);const e=this.getPattern(t);e&&(t.strokeStyle=e)}createPath(t){const e=super.createPath(t),s=e._getLeftTopCoords().scalarAdd(e.strokeWidth/2);return e.stroke=new eo({source:this.source||this.getPatternSrc(),offsetX:-s.x,offsetY:-s.y}),e}}const fo=[\"x1\",\"y1\",\"x2\",\"y2\"],po=[\"x1\",\"y1\",\"x2\",\"y2\"],mo=[\"x1\",\"x2\",\"y1\",\"y2\"];class vo extends Li{constructor(){let[t,e,s,i]=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0,0],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),Object.assign(this,vo.ownDefaults),this.setOptions(r),this.x1=t,this.x2=s,this.y1=e,this.y2=i,this._setWidthHeight();const{left:n,top:o}=r;\"number\"==typeof n&&this.set(M,n),\"number\"==typeof o&&this.set(P,o)}_setWidthHeight(){const{x1:t,y1:e,x2:s,y2:i}=this;this.width=Math.abs(s-t),this.height=Math.abs(i-e);const{left:r,top:n,width:o,height:a}=he([{x:t,y:e},{x:s,y:i}]),h=new ot(r+o/2,n+a/2);this.setPositionByOrigin(h,D,D)}_set(t,e){return super._set(t,e),mo.includes(t)&&this._setWidthHeight(),this}_render(t){t.beginPath();const e=this.calcLinePoints();t.moveTo(e.x1,e.y1),t.lineTo(e.x2,e.y2),t.lineWidth=this.strokeWidth;const s=t.strokeStyle;var i;Gt(this.stroke)?t.strokeStyle=this.stroke.toLive(t):t.strokeStyle=null!==(i=this.stroke)&&void 0!==i?i:t.fillStyle;this.stroke&&this._renderStroke(t),t.strokeStyle=s}_findCenterFromElement(){return new ot((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s(s({},super.toObject(t)),this.calcLinePoints())}_getNonTransformedDimensions(){const t=super._getNonTransformedDimensions();return\"butt\"===this.strokeLineCap&&(0===this.width&&(t.y-=this.strokeWidth),0===this.height&&(t.x-=this.strokeWidth)),t}calcLinePoints(){const{x1:t,x2:e,y1:s,y2:i,width:r,height:n}=this,o=t<=e?-1:1,a=s<=i?-1:1;return{x1:o*r/2,x2:o*-r/2,y1:a*n/2,y2:a*-n/2}}_toSVG(){const{x1:t,x2:e,y1:s,y2:i}=this.calcLinePoints();return[\"<line \",\"COMMON_PARTS\",'x1=\"'.concat(t,'\" y1=\"').concat(s,'\" x2=\"').concat(e,'\" y2=\"').concat(i,'\" />\\n')]}static async fromElement(t,e,s){const r=Pr(t,this.ATTRIBUTE_NAMES,s),{x1:n=0,y1:o=0,x2:a=0,y2:h=0}=r;return new this([n,o,a,h],i(r,fo))}static fromObject(t){let{x1:e,y1:r,x2:n,y2:o}=t,a=i(t,po);return this._fromObject(s(s({},a),{},{points:[e,r,n,o]}),{extraParam:\"points\"})}}t(vo,\"type\",\"Line\"),t(vo,\"cacheProperties\",[...Es,...mo]),t(vo,\"ATTRIBUTE_NAMES\",Zi.concat(mo)),tt.setClass(vo),tt.setSVGClass(vo);class yo extends Li{static getDefaults(){return s(s({},super.getDefaults()),yo.ownDefaults)}constructor(t){super(),Object.assign(this,yo.ownDefaults),this.setOptions(t)}_render(t){const e=this.width/2,s=this.height/2;t.beginPath(),t.moveTo(-e,s),t.lineTo(0,-s),t.lineTo(e,s),t.closePath(),this._renderPaintInOrder(t)}_toSVG(){const t=this.width/2,e=this.height/2;return[\"<polygon \",\"COMMON_PARTS\",'points=\"',\"\".concat(-t,\" \").concat(e,\",0 \").concat(-e,\",\").concat(t,\" \").concat(e),'\" />']}}t(yo,\"type\",\"Triangle\"),t(yo,\"ownDefaults\",{width:100,height:100}),tt.setClass(yo),tt.setSVGClass(yo);const _o=[\"rx\",\"ry\"];class xo extends Li{static getDefaults(){return s(s({},super.getDefaults()),xo.ownDefaults)}constructor(t){super(),Object.assign(this,xo.ownDefaults),this.setOptions(t)}_set(t,e){switch(super._set(t,e),t){case\"rx\":this.rx=e,this.set(\"width\",2*e);break;case\"ry\":this.ry=e,this.set(\"height\",2*e)}return this}getRx(){return this.get(\"rx\")*this.get(H)}getRy(){return this.get(\"ry\")*this.get(N)}toObject(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return super.toObject([..._o,...t])}_toSVG(){return[\"<ellipse \",\"COMMON_PARTS\",'cx=\"0\" cy=\"0\" rx=\"'.concat(this.rx,'\" ry=\"').concat(this.ry,'\" />\\n')]}_render(t){t.beginPath(),t.save(),t.transform(1,0,0,this.ry/this.rx,0,0),t.arc(0,0,this.rx,0,S,!1),t.restore(),this._renderPaintInOrder(t)}static async fromElement(t,e,s){const i=Pr(t,this.ATTRIBUTE_NAMES,s);return i.left=(i.left||0)-i.rx,i.top=(i.top||0)-i.ry,new this(i)}}function Co(t){if(!t)return[];const e=t.replace(/,/g,\" \").trim().split(/\\s+/),s=[];for(let t=0;t<e.length;t+=2)s.push({x:parseFloat(e[t]),y:parseFloat(e[t+1])});return s}t(xo,\"type\",\"Ellipse\"),t(xo,\"cacheProperties\",[...Es,..._o]),t(xo,\"ownDefaults\",{rx:0,ry:0}),t(xo,\"ATTRIBUTE_NAMES\",[...Zi,\"cx\",\"cy\",\"rx\",\"ry\"]),tt.setClass(xo),tt.setSVGClass(xo);const bo=[\"left\",\"top\"],So={exactBoundingBox:!1};class wo extends Li{static getDefaults(){return s(s({},super.getDefaults()),wo.ownDefaults)}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),t(this,\"strokeDiff\",void 0),Object.assign(this,wo.ownDefaults),this.setOptions(s),this.points=e;const{left:i,top:r}=s;this.initialized=!0,this.setBoundingBox(!0),\"number\"==typeof i&&this.set(M,i),\"number\"==typeof r&&this.set(P,r)}isOpen(){return!0}_projectStrokeOnPoints(t){return Wi(this.points,t,this.isOpen())}_calcDimensions(t){t=s({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},t||{});const e=this.exactBoundingBox?this._projectStrokeOnPoints(t).map((t=>t.projectedPoint)):this.points;if(0===e.length)return{left:0,top:0,width:0,height:0,pathOffset:new ot,strokeOffset:new ot,strokeDiff:new ot};const i=he(e),r=Lt(s(s({},t),{},{scaleX:1,scaleY:1})),n=he(this.points.map((t=>St(t,r,!0)))),o=new ot(this.scaleX,this.scaleY);let a=i.left+i.width/2,h=i.top+i.height/2;return this.exactBoundingBox&&(a-=h*Math.tan(xt(this.skewX)),h-=a*Math.tan(xt(this.skewY))),s(s({},i),{},{pathOffset:new ot(a,h),strokeOffset:new ot(n.left,n.top).subtract(new ot(i.left,i.top)).multiply(o),strokeDiff:new ot(i.width,i.height).subtract(new ot(n.width,n.height)).multiply(o)})}_findCenterFromElement(){const t=he(this.points);return new ot(t.left+t.width/2,t.top+t.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(t){const{left:e,top:s,width:i,height:r,pathOffset:n,strokeOffset:o,strokeDiff:a}=this._calcDimensions();this.set({width:i,height:r,pathOffset:n,strokeOffset:o,strokeDiff:a}),t&&this.setPositionByOrigin(new ot(e+i/2,s+r/2),D,D)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new ot(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.exactBoundingBox){let n;if(Object.keys(t).some((t=>this.strokeUniform||this.constructor.layoutProperties.includes(t)))){var e,s;const{width:i,height:r}=this._calcDimensions(t);n=new ot(null!==(e=t.width)&&void 0!==e?e:i,null!==(s=t.height)&&void 0!==s?s:r)}else{var i,r;n=new ot(null!==(i=t.width)&&void 0!==i?i:this.width,null!==(r=t.height)&&void 0!==r?r:this.height)}return n.multiply(new ot(t.scaleX||this.scaleX,t.scaleY||this.scaleY))}return super._getTransformedDimensions(t)}_set(t,e){const s=this.initialized&&this[t]!==e,i=super._set(t,e);return this.exactBoundingBox&&s&&((t===H||t===N)&&this.strokeUniform&&this.constructor.layoutProperties.includes(\"strokeUniform\")||this.constructor.layoutProperties.includes(t))&&this.setDimensions(),i}toObject(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s(s({},super.toObject(t)),{},{points:this.points.map((t=>{let{x:e,y:s}=t;return{x:e,y:s}}))})}_toSVG(){const t=[],e=this.pathOffset.x,s=this.pathOffset.y,i=o.NUM_FRACTION_DIGITS;for(let r=0,n=this.points.length;r<n;r++)t.push(Vt(this.points[r].x-e,i),\",\",Vt(this.points[r].y-s,i),\" \");return[\"<\".concat(this.constructor.type.toLowerCase(),\" \"),\"COMMON_PARTS\",'points=\"'.concat(t.join(\"\"),'\" />\\n')]}_render(t){const e=this.points.length,s=this.pathOffset.x,i=this.pathOffset.y;if(e&&!isNaN(this.points[e-1].y)){t.beginPath(),t.moveTo(this.points[0].x-s,this.points[0].y-i);for(let r=0;r<e;r++){const e=this.points[r];t.lineTo(e.x-s,e.y-i)}!this.isOpen()&&t.closePath(),this._renderPaintInOrder(t)}}complexity(){return this.points.length}static async fromElement(t,e,r){return new this(Co(t.getAttribute(\"points\")),s(s({},i(Pr(t,this.ATTRIBUTE_NAMES,r),bo)),e))}static fromObject(t){return this._fromObject(t,{extraParam:\"points\"})}}t(wo,\"ownDefaults\",So),t(wo,\"type\",\"Polyline\"),t(wo,\"layoutProperties\",[U,q,\"strokeLineCap\",\"strokeLineJoin\",\"strokeMiterLimit\",\"strokeWidth\",\"strokeUniform\",\"points\"]),t(wo,\"cacheProperties\",[...Es,\"points\"]),t(wo,\"ATTRIBUTE_NAMES\",[...Zi]),tt.setClass(wo),tt.setSVGClass(wo);class To extends wo{isOpen(){return!1}}t(To,\"ownDefaults\",So),t(To,\"type\",\"Polygon\"),tt.setClass(To),tt.setSVGClass(To);class Oo extends Li{isEmptyStyles(t){if(!this.styles)return!0;if(void 0!==t&&!this.styles[t])return!0;const e=void 0===t?this.styles:{line:this.styles[t]};for(const t in e)for(const s in e[t])for(const i in e[t][s])return!1;return!0}styleHas(t,e){if(!this.styles)return!1;if(void 0!==e&&!this.styles[e])return!1;const s=void 0===e?this.styles:{0:this.styles[e]};for(const e in s)for(const i in s[e])if(void 0!==s[e][i][t])return!0;return!1}cleanStyle(t){if(!this.styles)return!1;const e=this.styles;let s,i,r=0,n=!0,o=0;for(const o in e){s=0;for(const a in e[o]){const h=e[o][a]||{};r++,void 0!==h[t]?(i?h[t]!==i&&(n=!1):i=h[t],h[t]===this[t]&&delete h[t]):n=!1,0!==Object.keys(h).length?s++:delete e[o][a]}0===s&&delete e[o]}for(let t=0;t<this._textLines.length;t++)o+=this._textLines[t].length;n&&r===o&&(this[t]=i,this.removeStyle(t))}removeStyle(t){if(!this.styles)return;const e=this.styles;let s,i,r;for(i in e){for(r in s=e[i],s)delete s[r][t],0===Object.keys(s[r]).length&&delete s[r];0===Object.keys(s).length&&delete e[i]}}_extendStyles(t,e){const{lineIndex:i,charIndex:r}=this.get2DCursorLocation(t);this._getLineStyle(i)||this._setLineStyle(i);const n=Wt(s(s({},this._getStyleDeclaration(i,r)),e),(t=>void 0!==t));this._setStyleDeclaration(i,r,n)}getSelectionStyles(t,e,s){const i=[];for(let r=t;r<(e||t);r++)i.push(this.getStyleAtPosition(r,s));return i}getStyleAtPosition(t,e){const{lineIndex:s,charIndex:i}=this.get2DCursorLocation(t);return e?this.getCompleteStyleDeclaration(s,i):this._getStyleDeclaration(s,i)}setSelectionStyles(t,e,s){for(let i=e;i<(s||e);i++)this._extendStyles(i,t);this._forceClearCache=!0}_getStyleDeclaration(t,e){var s;const i=this.styles&&this.styles[t];return i&&null!==(s=i[e])&&void 0!==s?s:{}}getCompleteStyleDeclaration(t,e){return s(s({},Yt(this,this.constructor._styleProperties)),this._getStyleDeclaration(t,e))}_setStyleDeclaration(t,e,s){this.styles[t][e]=s}_deleteStyleDeclaration(t,e){delete this.styles[t][e]}_getLineStyle(t){return!!this.styles[t]}_setLineStyle(t){this.styles[t]={}}_deleteLineStyle(t){delete this.styles[t]}}t(Oo,\"_styleProperties\",qe);const ko=/  +/g,Do=/\"/g;function Mo(t,e,s,i,r){return\"\\t\\t\".concat(function(t,e){let{left:s,top:i,width:r,height:n}=e,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.NUM_FRACTION_DIGITS;const h=Ye(K,t,!1),[c,l,u,d]=[s,i,r,n].map((t=>Vt(t,a)));return\"<rect \".concat(h,' x=\"').concat(c,'\" y=\"').concat(l,'\" width=\"').concat(u,'\" height=\"').concat(d,'\"></rect>')}(t,{left:e,top:s,width:i,height:r}),\"\\n\")}const Po=[\"textAnchor\",\"textDecoration\",\"dx\",\"dy\",\"top\",\"left\",\"fontSize\",\"strokeWidth\"];let Eo;class Ao extends Oo{static getDefaults(){return s(s({},super.getDefaults()),Ao.ownDefaults)}constructor(e,s){super(),t(this,\"__charBounds\",[]),Object.assign(this,Ao.ownDefaults),this.setOptions(s),this.styles||(this.styles={}),this.text=e,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){const t=this.path;t&&(t.segmentsInfo=mn(t.path))}_splitText(){const t=this._splitTextIntoLines(this.text);return this.textLines=t.lines,this._textLines=t.graphemeLines,this._unwrappedTextLines=t._unwrappedLines,this._text=t.graphemeText,t}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(Je)&&this.enlargeSpaces()}enlargeSpaces(){let t,e,s,i,r,n,o;for(let a=0,h=this._textLines.length;a<h;a++)if((this.textAlign===Je||a!==h-1&&!this.isEndOfWrapping(a))&&(i=0,r=this._textLines[a],e=this.getLineWidth(a),e<this.width&&(o=this.textLines[a].match(this._reSpacesAndTabs)))){s=o.length,t=(this.width-e)/s;for(let e=0;e<=r.length;e++)n=this.__charBounds[a][e],this._reSpaceAndTab.test(r[e])?(n.width+=t,n.kernedWidth+=t,n.left+=i,i+=t):n.left+=i}}isEndOfWrapping(t){return t===this._textLines.length-1}missingNewlineOffset(t){return 1}get2DCursorLocation(t,e){const s=e?this._unwrappedTextLines:this._textLines;let i;for(i=0;i<s.length;i++){if(t<=s[i].length)return{lineIndex:i,charIndex:t};t-=s[i].length+this.missingNewlineOffset(i,e)}return{lineIndex:i-1,charIndex:s[i-1].length<t?s[i-1].length:t}}toString(){return\"#<Text (\".concat(this.complexity(),'): { \"text\": \"').concat(this.text,'\", \"fontFamily\": \"').concat(this.fontFamily,'\" }>')}_getCacheCanvasDimensions(){const t=super._getCacheCanvasDimensions(),e=this.fontSize;return t.width+=e*t.zoomX,t.height+=e*t.zoomY,t}_render(t){const e=this.path;e&&!e.isNotVisible()&&e._render(t),this._setTextStyles(t),this._renderTextLinesBackground(t),this._renderTextDecoration(t,\"underline\"),this._renderText(t),this._renderTextDecoration(t,\"overline\"),this._renderTextDecoration(t,\"linethrough\")}_renderText(t){this.paintFirst===J?(this._renderTextStroke(t),this._renderTextFill(t)):(this._renderTextFill(t),this._renderTextStroke(t))}_setTextStyles(t,e,s){if(t.textBaseline=\"alphabetic\",this.path)switch(this.pathAlign){case D:t.textBaseline=\"middle\";break;case\"ascender\":t.textBaseline=P;break;case\"descender\":t.textBaseline=E}t.font=this._getFontDeclaration(e,s)}calcTextWidth(){let t=this.getLineWidth(0);for(let e=1,s=this._textLines.length;e<s;e++){const s=this.getLineWidth(e);s>t&&(t=s)}return t}_renderTextLine(t,e,s,i,r,n){this._renderChars(t,e,s,i,r,n)}_renderTextLinesBackground(t){if(!this.textBackgroundColor&&!this.styleHas(\"textBackgroundColor\"))return;const e=t.fillStyle,s=this._getLeftOffset();let i=this._getTopOffset();for(let e=0,r=this._textLines.length;e<r;e++){const r=this.getHeightOfLine(e);if(!this.textBackgroundColor&&!this.styleHas(\"textBackgroundColor\",e)){i+=r;continue}const n=this._textLines[e].length,o=this._getLineLeftOffset(e);let a,h,c=0,l=0,u=this.getValueOfPropertyAt(e,0,\"textBackgroundColor\");const d=this.getHeightOfLineImpl(e);for(let r=0;r<n;r++){const n=this.__charBounds[e][r];h=this.getValueOfPropertyAt(e,r,\"textBackgroundColor\"),this.path?(t.save(),t.translate(n.renderLeft,n.renderTop),t.rotate(n.angle),t.fillStyle=h,h&&t.fillRect(-n.width/2,-d*(1-this._fontSizeFraction),n.width,d),t.restore()):h!==u?(a=s+o+l,\"rtl\"===this.direction&&(a=this.width-a-c),t.fillStyle=u,u&&t.fillRect(a,i,c,d),l=n.left,c=n.width,u=h):c+=n.kernedWidth}h&&!this.path&&(a=s+o+l,\"rtl\"===this.direction&&(a=this.width-a-c),t.fillStyle=h,t.fillRect(a,i,c,d)),i+=r}t.fillStyle=e,this._removeShadow(t)}_measureChar(t,e,s,i){const r=_.getFontCache(e),n=this._getFontDeclaration(e),o=s+t,a=s&&n===this._getFontDeclaration(i),h=e.fontSize/this.CACHE_FONT_SIZE;let c,l,u,d;if(s&&r.has(s)&&(u=r.get(s)),r.has(t)&&(d=c=r.get(t)),a&&r.has(o)&&(l=r.get(o),d=l-u),void 0===c||void 0===u||void 0===l){const i=function(){if(!Eo){const t=vt({width:0,height:0});Eo=t.getContext(\"2d\")}return Eo}();this._setTextStyles(i,e,!0),void 0===c&&(d=c=i.measureText(t).width,r.set(t,c)),void 0===u&&a&&s&&(u=i.measureText(s).width,r.set(s,u)),a&&void 0===l&&(l=i.measureText(o).width,r.set(o,l),d=l-u)}return{width:c*h,kernedWidth:d*h}}getHeightOfChar(t,e){return this.getValueOfPropertyAt(t,e,\"fontSize\")}measureLine(t){const e=this._measureLine(t);return 0!==this.charSpacing&&(e.width-=this._getWidthOfCharSpacing()),e.width<0&&(e.width=0),e}_measureLine(t){let e,s,i=0;const r=this.pathSide===A,n=this.path,o=this._textLines[t],a=o.length,h=new Array(a);this.__charBounds[t]=h;for(let r=0;r<a;r++){const n=o[r];s=this._getGraphemeBox(n,t,r,e),h[r]=s,i+=s.kernedWidth,e=n}if(h[a]={left:s?s.left+s.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},n&&n.segmentsInfo){let t=0;const e=n.segmentsInfo[n.segmentsInfo.length-1].length;switch(this.textAlign){case M:t=r?e-i:0;break;case D:t=(e-i)/2;break;case A:t=r?0:e-i}t+=this.pathStartOffset*(r?-1:1);for(let i=r?a-1:0;r?i>=0:i<a;r?i--:i++)s=h[i],t>e?t%=e:t<0&&(t+=e),this._setGraphemeOnPath(t,s),t+=s.kernedWidth}return{width:i,numOfSpaces:0}}_setGraphemeOnPath(t,e){const s=t+e.kernedWidth/2,i=this.path,r=vn(i.path,s,i.segmentsInfo);e.renderLeft=r.x-i.pathOffset.x,e.renderTop=r.y-i.pathOffset.y,e.angle=r.angle+(this.pathSide===A?Math.PI:0)}_getGraphemeBox(t,e,s,i,r){const n=this.getCompleteStyleDeclaration(e,s),o=i?this.getCompleteStyleDeclaration(e,s-1):{},a=this._measureChar(t,n,i,o);let h,c=a.kernedWidth,l=a.width;0!==this.charSpacing&&(h=this._getWidthOfCharSpacing(),l+=h,c+=h);const u={width:l,left:0,height:n.fontSize,kernedWidth:c,deltaY:n.deltaY};if(s>0&&!r){const t=this.__charBounds[e][s-1];u.left=t.left+t.width+a.kernedWidth-a.width}return u}getHeightOfLineImpl(t){const e=this.__lineHeights;if(e[t])return e[t];let s=this.getHeightOfChar(t,0);for(let e=1,i=this._textLines[t].length;e<i;e++)s=Math.max(this.getHeightOfChar(t,e),s);return e[t]=s*this._fontSizeMult}getHeightOfLine(t){return this.getHeightOfLineImpl(t)*this.lineHeight}calcTextHeight(){let t=0;for(let e=0,s=this._textLines.length;e<s;e++)t+=e===s-1?this.getHeightOfLineImpl(e):this.getHeightOfLine(e);return t}_getLeftOffset(){return\"ltr\"===this.direction?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(t,e){t.save();let s=0;const i=this._getLeftOffset(),r=this._getTopOffset();for(let n=0,o=this._textLines.length;n<o;n++)this._renderTextLine(e,t,this._textLines[n],i+this._getLineLeftOffset(n),r+s+this.getHeightOfLineImpl(n),n),s+=this.getHeightOfLine(n);t.restore()}_renderTextFill(t){(this.fill||this.styleHas(K))&&this._renderTextCommon(t,\"fillText\")}_renderTextStroke(t){(this.stroke&&0!==this.strokeWidth||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this._setLineDash(t,this.strokeDashArray),t.beginPath(),this._renderTextCommon(t,\"strokeText\"),t.closePath(),t.restore())}_renderChars(t,e,s,i,r,n){const o=this.textAlign.includes(Je),a=this.path,h=!o&&0===this.charSpacing&&this.isEmptyStyles(n)&&!a,c=\"ltr\"===this.direction,l=\"ltr\"===this.direction?1:-1,u=e.direction;let d,g,f,p,m,v=\"\",y=0;if(e.save(),u!==this.direction&&(e.canvas.setAttribute(\"dir\",c?\"ltr\":\"rtl\"),e.direction=c?\"ltr\":\"rtl\",e.textAlign=c?M:A),r-=this.getHeightOfLineImpl(n)*this._fontSizeFraction,h)return this._renderChar(t,e,n,0,s.join(\"\"),i,r),void e.restore();for(let h=0,c=s.length-1;h<=c;h++)p=h===c||this.charSpacing||a,v+=s[h],f=this.__charBounds[n][h],0===y?(i+=l*(f.kernedWidth-f.width),y+=f.width):y+=f.kernedWidth,o&&!p&&this._reSpaceAndTab.test(s[h])&&(p=!0),p||(d=d||this.getCompleteStyleDeclaration(n,h),g=this.getCompleteStyleDeclaration(n,h+1),p=Ki(d,g,!1)),p&&(a?(e.save(),e.translate(f.renderLeft,f.renderTop),e.rotate(f.angle),this._renderChar(t,e,n,h,v,-y/2,0),e.restore()):(m=i,this._renderChar(t,e,n,h,v,m,r)),v=\"\",d=g,i+=l*y,y=0);e.restore()}_applyPatternGradientTransformText(t){const e=this.width+this.strokeWidth,s=this.height+this.strokeWidth,i=vt({width:e,height:s}),r=i.getContext(\"2d\");return i.width=e,i.height=s,r.beginPath(),r.moveTo(0,0),r.lineTo(e,0),r.lineTo(e,s),r.lineTo(0,s),r.closePath(),r.translate(e/2,s/2),r.fillStyle=t.toLive(r),this._applyPatternGradientTransform(r,t),r.fill(),r.createPattern(i,\"no-repeat\")}handleFiller(t,e,s){let i,r;return Gt(s)?\"percentage\"===s.gradientUnits||s.gradientTransform||s.patternTransform?(i=-this.width/2,r=-this.height/2,t.translate(i,r),t[e]=this._applyPatternGradientTransformText(s),{offsetX:i,offsetY:r}):(t[e]=s.toLive(t),this._applyPatternGradientTransform(t,s)):(t[e]=s,{offsetX:0,offsetY:0})}_setStrokeStyles(t,e){let{stroke:s,strokeWidth:i}=e;return t.lineWidth=i,t.lineCap=this.strokeLineCap,t.lineDashOffset=this.strokeDashOffset,t.lineJoin=this.strokeLineJoin,t.miterLimit=this.strokeMiterLimit,this.handleFiller(t,\"strokeStyle\",s)}_setFillStyles(t,e){let{fill:s}=e;return this.handleFiller(t,\"fillStyle\",s)}_renderChar(t,e,s,i,r,n,o){const a=this._getStyleDeclaration(s,i),h=this.getCompleteStyleDeclaration(s,i),c=\"fillText\"===t&&h.fill,l=\"strokeText\"===t&&h.stroke&&h.strokeWidth;if(l||c){if(e.save(),e.font=this._getFontDeclaration(h),a.textBackgroundColor&&this._removeShadow(e),a.deltaY&&(o+=a.deltaY),c){const t=this._setFillStyles(e,h);e.fillText(r,n-t.offsetX,o-t.offsetY)}if(l){const t=this._setStrokeStyles(e,h);e.strokeText(r,n-t.offsetX,o-t.offsetY)}e.restore()}}setSuperscript(t,e){this._setScript(t,e,this.superscript)}setSubscript(t,e){this._setScript(t,e,this.subscript)}_setScript(t,e,s){const i=this.get2DCursorLocation(t,!0),r=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,\"fontSize\"),n=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,\"deltaY\"),o={fontSize:r*s.size,deltaY:n+r*s.baseline};this.setSelectionStyles(o,t,e)}_getLineLeftOffset(t){const e=this.getLineWidth(t),s=this.width-e,i=this.textAlign,r=this.direction,n=this.isEndOfWrapping(t);let o=0;return i===Je||i===$e&&!n||i===Ze&&!n||i===Qe&&!n?0:(i===D&&(o=s/2),i===A&&(o=s),i===$e&&(o=s/2),i===Ze&&(o=s),\"rtl\"===r&&(i===A||i===Je||i===Ze?o=0:i===M||i===Qe?o=-s:i!==D&&i!==$e||(o=-s/2)),o)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(t){if(void 0!==this.__lineWidths[t])return this.__lineWidths[t];const{width:e}=this.measureLine(t);return this.__lineWidths[t]=e,e}_getWidthOfCharSpacing(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0}getValueOfPropertyAt(t,e,s){var i;return null!==(i=this._getStyleDeclaration(t,e)[s])&&void 0!==i?i:this[s]}_renderTextDecoration(t,e){if(!this[e]&&!this.styleHas(e))return;let s=this._getTopOffset();const i=this._getLeftOffset(),r=this.path,n=this._getWidthOfCharSpacing(),o=\"linethrough\"===e?.5:\"overline\"===e?1:0,a=this.offsets[e];for(let h=0,c=this._textLines.length;h<c;h++){const c=this.getHeightOfLine(h);if(!this[e]&&!this.styleHas(e,h)){s+=c;continue}const l=this._textLines[h],u=c/this.lineHeight,d=this._getLineLeftOffset(h);let g=0,f=0,p=this.getValueOfPropertyAt(h,0,e),m=this.getValueOfPropertyAt(h,0,K),v=this.getValueOfPropertyAt(h,0,ze),y=p,_=m,x=v;const C=s+u*(1-this._fontSizeFraction);let b=this.getHeightOfChar(h,0),S=this.getValueOfPropertyAt(h,0,\"deltaY\");for(let s=0,n=l.length;s<n;s++){const n=this.__charBounds[h][s];y=this.getValueOfPropertyAt(h,s,e),_=this.getValueOfPropertyAt(h,s,K),x=this.getValueOfPropertyAt(h,s,ze);const c=this.getHeightOfChar(h,s),l=this.getValueOfPropertyAt(h,s,\"deltaY\");if(r&&y&&_){const e=this.fontSize*x/1e3;t.save(),t.fillStyle=m,t.translate(n.renderLeft,n.renderTop),t.rotate(n.angle),t.fillRect(-n.kernedWidth/2,a*c+l-o*e,n.kernedWidth,e),t.restore()}else if((y!==p||_!==m||c!==b||x!==v||l!==S)&&f>0){const e=this.fontSize*v/1e3;let s=i+d+g;\"rtl\"===this.direction&&(s=this.width-s-f),p&&m&&v&&(t.fillStyle=m,t.fillRect(s,C+a*b+S-o*e,f,e)),g=n.left,f=n.width,p=y,v=x,m=_,b=c,S=l}else f+=n.kernedWidth}let w=i+d+g;\"rtl\"===this.direction&&(w=this.width-w-f),t.fillStyle=_;const T=this.fontSize*x/1e3;y&&_&&x&&t.fillRect(w,C+a*b+S-o*T,f-n,T),s+=c}this._removeShadow(t)}_getFontDeclaration(){let{fontFamily:t=this.fontFamily,fontStyle:e=this.fontStyle,fontWeight:s=this.fontWeight,fontSize:i=this.fontSize}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;const n=t.includes(\"'\")||t.includes('\"')||t.includes(\",\")||Ao.genericFonts.includes(t.toLowerCase())?t:'\"'.concat(t,'\"');return[e,s,\"\".concat(r?this.CACHE_FONT_SIZE:i,\"px\"),n].join(\" \")}render(t){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(t)))}graphemeSplit(t){return Hi(t)}_splitTextIntoLines(t){const e=t.split(this._reNewline),s=new Array(e.length),i=[\"\\n\"];let r=[];for(let t=0;t<e.length;t++)s[t]=this.graphemeSplit(e[t]),r=r.concat(s[t],i);return r.pop(),{_unwrappedLines:s,lines:e,graphemeText:r,graphemeLines:s}}toObject(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s(s({},super.toObject([...Ue,...t])),{},{styles:Ji(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(t,e){const{textLayoutProperties:s}=this.constructor;super.set(t,e);let i=!1,r=!1;if(\"object\"==typeof t)for(const e in t)\"path\"===e&&this.setPathInfo(),i=i||s.includes(e),r=r||\"path\"===e;else i=s.includes(t),r=\"path\"===t;return r&&this.setPathInfo(),i&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static async fromElement(t,e,r){const n=Pr(t,Ao.ATTRIBUTE_NAMES,r),o=s(s({},e),n),{textAnchor:a=M,textDecoration:h=\"\",dx:c=0,dy:l=0,top:u=0,left:d=0,fontSize:g=O,strokeWidth:f=1}=o,p=i(o,Po),m=new this(Pe(t.textContent||\"\").trim(),s({left:d+c,top:u+l,underline:h.includes(\"underline\"),overline:h.includes(\"overline\"),linethrough:h.includes(\"line-through\"),strokeWidth:0,fontSize:g},p)),v=m.getScaledHeight()/m.height,y=((m.height+m.strokeWidth)*m.lineHeight-m.height)*v,_=m.getScaledHeight()+y;let x=0;return a===D&&(x=m.getScaledWidth()/2),a===A&&(x=m.getScaledWidth()),m.set({left:m.left-x,top:m.top-(_-m.fontSize*(.07+m._fontSizeFraction))/m.lineHeight,strokeWidth:f}),m}static fromObject(t){return this._fromObject(s(s({},t),{},{styles:Qi(t.styles||{},t.text)}),{extraParam:\"text\"})}}t(Ao,\"textLayoutProperties\",Ne),t(Ao,\"cacheProperties\",[...Es,...Ue]),t(Ao,\"ownDefaults\",Ke),t(Ao,\"type\",\"Text\"),t(Ao,\"genericFonts\",[\"serif\",\"sans-serif\",\"monospace\",\"cursive\",\"fantasy\",\"system-ui\",\"ui-serif\",\"ui-sans-serif\",\"ui-monospace\",\"ui-rounded\",\"math\",\"emoji\",\"fangsong\"]),t(Ao,\"ATTRIBUTE_NAMES\",Zi.concat(\"x\",\"y\",\"dx\",\"dy\",\"font-family\",\"font-style\",\"font-weight\",\"font-size\",\"letter-spacing\",\"text-decoration\",\"text-anchor\")),Fi(Ao,[class extends We{_toSVG(){const t=this._getSVGLeftTopOffsets(),e=this._getSVGTextAndBg(t.textTop,t.textLeft);return this._wrapSVGTextAndBg(e)}toSVG(t){const e=this._createBaseSVGMarkup(this._toSVG(),{reviver:t,noStyle:!0,withShadow:!0}),s=this.path;return s?e+s._createBaseSVGMarkup(s._toSVG(),{reviver:t,withShadow:!0,additionalTransform:zt(this.calcOwnMatrix())}):e}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(t){let{textBgRects:e,textSpans:s}=t;const i=this.getSvgTextDecoration(this);return[e.join(\"\"),'\\t\\t<text xml:space=\"preserve\" ','font-family=\"'.concat(this.fontFamily.replace(Do,\"'\"),'\" '),'font-size=\"'.concat(this.fontSize,'\" '),this.fontStyle?'font-style=\"'.concat(this.fontStyle,'\" '):\"\",this.fontWeight?'font-weight=\"'.concat(this.fontWeight,'\" '):\"\",i?'text-decoration=\"'.concat(i,'\" '):\"\",\"rtl\"===this.direction?'direction=\"'.concat(this.direction,'\" '):\"\",'style=\"',this.getSvgStyles(!0),'\"',this.addPaintOrder(),\" >\",s.join(\"\"),\"</text>\\n\"]}_getSVGTextAndBg(t,e){const s=[],i=[];let r,n=t;this.backgroundColor&&i.push(...Mo(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let t=0,o=this._textLines.length;t<o;t++)r=this._getLineLeftOffset(t),\"rtl\"===this.direction&&(r+=this.width),(this.textBackgroundColor||this.styleHas(\"textBackgroundColor\",t))&&this._setSVGTextLineBg(i,t,e+r,n),this._setSVGTextLineText(s,t,e+r,n),n+=this.getHeightOfLine(t);return{textSpans:s,textBgRects:i}}_createTextCharSpan(t,e,s,i,r){const n=o.NUM_FRACTION_DIGITS,a=this.getSvgSpanStyles(e,t!==t.trim()||!!t.match(ko)),h=a?'style=\"'.concat(a,'\"'):\"\",c=e.deltaY,l=c?' dy=\"'.concat(Vt(c,n),'\" '):\"\",{angle:u,renderLeft:d,renderTop:g,width:f}=r;let p=\"\";if(void 0!==d){const t=f/2;u&&(p=' rotate=\"'.concat(Vt(Ct(u),n),'\"'));const e=Pt({angle:Ct(u)});e[4]=d,e[5]=g;const r=new ot(-t,0).transform(e);s=r.x,i=r.y}return'<tspan x=\"'.concat(Vt(s,n),'\" y=\"').concat(Vt(i,n),'\" ').concat(l).concat(p).concat(h,\">\").concat(zi(t),\"</tspan>\")}_setSVGTextLineText(t,e,s,i){const r=this.getHeightOfLine(e),n=this.textAlign.includes(Je),o=this._textLines[e];let a,h,c,l,u,d=\"\",g=0;i+=r*(1-this._fontSizeFraction)/this.lineHeight;for(let r=0,f=o.length-1;r<=f;r++)u=r===f||this.charSpacing||this.path,d+=o[r],c=this.__charBounds[e][r],0===g?(s+=c.kernedWidth-c.width,g+=c.width):g+=c.kernedWidth,n&&!u&&this._reSpaceAndTab.test(o[r])&&(u=!0),u||(a=a||this.getCompleteStyleDeclaration(e,r),h=this.getCompleteStyleDeclaration(e,r+1),u=Ki(a,h,!0)),u&&(l=this._getStyleDeclaration(e,r),t.push(this._createTextCharSpan(d,l,s,i,c)),d=\"\",a=h,\"rtl\"===this.direction?s-=g:s+=g,g=0)}_setSVGTextLineBg(t,e,s,i){const r=this._textLines[e],n=this.getHeightOfLine(e)/this.lineHeight;let o,a=0,h=0,c=this.getValueOfPropertyAt(e,0,\"textBackgroundColor\");for(let l=0;l<r.length;l++){const{left:r,width:u,kernedWidth:d}=this.__charBounds[e][l];o=this.getValueOfPropertyAt(e,l,\"textBackgroundColor\"),o!==c?(c&&t.push(...Mo(c,s+h,i,a,n)),h=r,a=u,c=o):a+=d}o&&t.push(...Mo(c,s+h,i,a,n))}_getSVGLineTopOffset(t){let e,s=0;for(e=0;e<t;e++)s+=this.getHeightOfLine(e);const i=this.getHeightOfLine(e);return{lineTop:s,offset:(this._fontSizeMult-this._fontSizeFraction)*i/(this.lineHeight*this._fontSizeMult)}}getSvgStyles(t){return\"\".concat(super.getSvgStyles(t),\" text-decoration-thickness: \").concat(Vt(this.textDecorationThickness*this.getObjectScaling().y/10,o.NUM_FRACTION_DIGITS),\"%; white-space: pre;\")}getSvgSpanStyles(t,e){const{fontFamily:s,strokeWidth:i,stroke:r,fill:n,fontSize:a,fontStyle:h,fontWeight:c,deltaY:l,textDecorationThickness:u,linethrough:d,overline:g,underline:f}=t,p=this.getSvgTextDecoration({underline:null!=f?f:this.underline,overline:null!=g?g:this.overline,linethrough:null!=d?d:this.linethrough}),m=u||this.textDecorationThickness;return[r?Ye(J,r):\"\",i?\"stroke-width: \".concat(i,\"; \"):\"\",s?\"font-family: \".concat(s.includes(\"'\")||s.includes('\"')?s:\"'\".concat(s,\"'\"),\"; \"):\"\",a?\"font-size: \".concat(a,\"px; \"):\"\",h?\"font-style: \".concat(h,\"; \"):\"\",c?\"font-weight: \".concat(c,\"; \"):\"\",p?\"text-decoration: \".concat(p,\"; text-decoration-thickness: \").concat(Vt(m*this.getObjectScaling().y/10,o.NUM_FRACTION_DIGITS),\"%; \"):\"\",n?Ye(K,n):\"\",l?\"baseline-shift: \".concat(-l,\"; \"):\"\",e?\"white-space: pre; \":\"\"].join(\"\")}getSvgTextDecoration(t){return[\"overline\",\"underline\",\"line-through\"].filter((e=>t[e.replace(\"-\",\"\")])).join(\" \")}}]),tt.setClass(Ao),tt.setSVGClass(Ao);class jo{constructor(e){t(this,\"target\",void 0),t(this,\"__mouseDownInPlace\",!1),t(this,\"__dragStartFired\",!1),t(this,\"__isDraggingOver\",!1),t(this,\"__dragStartSelection\",void 0),t(this,\"__dragImageDisposer\",void 0),t(this,\"_dispose\",void 0),this.target=e;const s=[this.target.on(\"dragenter\",this.dragEnterHandler.bind(this)),this.target.on(\"dragover\",this.dragOverHandler.bind(this)),this.target.on(\"dragleave\",this.dragLeaveHandler.bind(this)),this.target.on(\"dragend\",this.dragEndHandler.bind(this)),this.target.on(\"drop\",this.dropHandler.bind(this))];this._dispose=()=>{s.forEach((t=>t())),this._dispose=void 0}}isPointerOverSelection(t){const e=this.target,s=e.getSelectionStartFromPointer(t);return e.isEditing&&s>=e.selectionStart&&s<=e.selectionEnd&&e.selectionStart<e.selectionEnd}start(t){return this.__mouseDownInPlace=this.isPointerOverSelection(t)}isActive(){return this.__mouseDownInPlace}end(t){const e=this.isActive();return e&&!this.__dragStartFired&&(this.target.setCursorByClick(t),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,e}getDragStartSelection(){return this.__dragStartSelection}setDragImage(t,e){var s;let{selectionStart:i,selectionEnd:r}=e;const n=this.target,o=n.canvas,a=new ot(n.flipX?-1:1,n.flipY?-1:1),h=n._getCursorBoundaries(i),c=new ot(h.left+h.leftOffset,h.top+h.topOffset).multiply(a).transform(n.calcTransformMatrix()),l=o.getScenePoint(t).subtract(c),u=n.getCanvasRetinaScaling(),d=n.getBoundingRect(),g=c.subtract(new ot(d.left,d.top)),f=o.viewportTransform,p=g.add(l).transform(f,!0),m=n.backgroundColor,v=Vi(n.styles);n.backgroundColor=\"\";const y={stroke:\"transparent\",fill:\"transparent\",textBackgroundColor:\"transparent\"};n.setSelectionStyles(y,0,i),n.setSelectionStyles(y,r,n.text.length),n.dirty=!0;const _=n.toCanvasElement({enableRetinaScaling:o.enableRetinaScaling,viewportTransform:!0});n.backgroundColor=m,n.styles=v,n.dirty=!0,Tn(_,{position:\"fixed\",left:\"\".concat(-_.width,\"px\"),border:j,width:\"\".concat(_.width/u,\"px\"),height:\"\".concat(_.height/u,\"px\")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{_.remove()},Kt(t.target||this.target.hiddenTextarea).body.appendChild(_),null===(s=t.dataTransfer)||void 0===s||s.setDragImage(_,p.x,p.y)}onDragStart(t){this.__dragStartFired=!0;const e=this.target,i=this.isActive();if(i&&t.dataTransfer){const i=this.__dragStartSelection={selectionStart:e.selectionStart,selectionEnd:e.selectionEnd},r=e._text.slice(i.selectionStart,i.selectionEnd).join(\"\"),n=s({text:e.text,value:r},i);t.dataTransfer.setData(\"text/plain\",r),t.dataTransfer.setData(\"application/fabric\",JSON.stringify({value:r,styles:e.getSelectionStyles(i.selectionStart,i.selectionEnd,!0)})),t.dataTransfer.effectAllowed=\"copyMove\",this.setDragImage(t,n)}return e.abortCursorAnimation(),i}canDrop(t){if(this.target.editable&&!this.target.getActiveControl()&&!t.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){const e=this.target.getSelectionStartFromPointer(t),s=this.__dragStartSelection;return e<s.selectionStart||e>s.selectionEnd}return!0}return!1}targetCanDrop(t){return this.target.canDrop(t)}dragEnterHandler(t){let{e:e}=t;const s=this.targetCanDrop(e);!this.__isDraggingOver&&s&&(this.__isDraggingOver=!0)}dragOverHandler(t){const{e:e}=t,s=this.targetCanDrop(e);!this.__isDraggingOver&&s?this.__isDraggingOver=!0:this.__isDraggingOver&&!s&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(e.preventDefault(),t.canDrop=!0,t.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(t){var e;const{e:s}=t,i=s.defaultPrevented;this.__isDraggingOver=!1,s.preventDefault();let r=null===(e=s.dataTransfer)||void 0===e?void 0:e.getData(\"text/plain\");if(r&&!i){const e=this.target,i=e.canvas;let n=e.getSelectionStartFromPointer(s);const{styles:o}=s.dataTransfer.types.includes(\"application/fabric\")?JSON.parse(s.dataTransfer.getData(\"application/fabric\")):{},a=r[Math.max(0,r.length-1)],h=0;if(this.__dragStartSelection){const t=this.__dragStartSelection.selectionStart,s=this.__dragStartSelection.selectionEnd;n>t&&n<=s?n=t:n>s&&(n-=s-t),e.removeChars(t,s),delete this.__dragStartSelection}e._reNewline.test(a)&&(e._reNewline.test(e._text[n])||n===e._text.length)&&(r=r.trimEnd()),t.didDrop=!0,t.dropTarget=e,e.insertChars(r,o,n),i.setActiveObject(e),e.enterEditing(s),e.selectionStart=Math.min(n+h,e._text.length),e.selectionEnd=Math.min(e.selectionStart+r.length,e._text.length),e.hiddenTextarea.value=e.text,e._updateTextarea(),e.hiddenTextarea.focus(),e.fire(z,{index:n+h,action:\"drop\"}),i.fire(\"text:changed\",{target:e}),i.contextTopDirty=!0,i.requestRenderAll()}}dragEndHandler(t){let{e:e}=t;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var s;const t=this.target,i=this.target.canvas,{selectionStart:r,selectionEnd:n}=this.__dragStartSelection,o=(null===(s=e.dataTransfer)||void 0===s?void 0:s.dropEffect)||j;o===j?(t.selectionStart=r,t.selectionEnd=n,t._updateTextarea(),t.hiddenTextarea.focus()):(t.clearContextTop(),\"move\"===o&&(t.removeChars(r,n),t.selectionStart=t.selectionEnd=r,t.hiddenTextarea&&(t.hiddenTextarea.value=t.text),t._updateTextarea(),t.fire(z,{index:r,action:\"dragend\"}),i.fire(\"text:changed\",{target:t}),i.requestRenderAll()),t.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}}const Fo=/[ \\n\\.,;!\\?\\-]/;class Lo extends Ao{constructor(){super(...arguments),t(this,\"_currentCursorOpacity\",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(t){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(t)}_animateCursor(t){let{toValue:e,duration:s,delay:i,onComplete:r}=t;return Ks({startValue:this._currentCursorOpacity,endValue:e,duration:s,delay:i,onComplete:r,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:t=>{this._currentCursorOpacity=t,this.renderCursorOrSelection()}})}_tick(t){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(t||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var t;null===(t=this._currentTickCompleteState)||void 0===t||t.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(t){this.abortCursorAnimation(),this._tick(t?0:this.cursorDelay)}abortCursorAnimation(){let t=!1;[this._currentTickState,this._currentTickCompleteState].forEach((e=>{e&&!e.isDone()&&(t=!0,e.abort())})),this._currentCursorOpacity=1,t&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some((t=>!t||t.isDone()))&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}cmdAll(){this.selectAll(),this.renderCursorOrSelection()}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join(\"\")}findWordBoundaryLeft(t){let e=0,s=t-1;if(this._reSpace.test(this._text[s]))for(;this._reSpace.test(this._text[s]);)e++,s--;for(;/\\S/.test(this._text[s])&&s>-1;)e++,s--;return t-e}findWordBoundaryRight(t){let e=0,s=t;if(this._reSpace.test(this._text[s]))for(;this._reSpace.test(this._text[s]);)e++,s++;for(;/\\S/.test(this._text[s])&&s<this._text.length;)e++,s++;return t+e}findLineBoundaryLeft(t){let e=0,s=t-1;for(;!/\\n/.test(this._text[s])&&s>-1;)e++,s--;return t-e}findLineBoundaryRight(t){let e=0,s=t;for(;!/\\n/.test(this._text[s])&&s<this._text.length;)e++,s++;return t+e}searchWordBoundary(t,e){const s=this._text;let i=t>0&&this._reSpace.test(s[t])&&(-1===e||!F.test(s[t-1]))?t-1:t,r=s[i];for(;i>0&&i<s.length&&!Fo.test(r);)i+=e,r=s[i];return-1===e&&Fo.test(r)&&i++,i}selectWord(t){var e;t=null!==(e=t)&&void 0!==e?e:this.selectionStart;const s=this.searchWordBoundary(t,-1),i=Math.max(s,this.searchWordBoundary(t,1));this.selectionStart=s,this.selectionEnd=i,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(t){var e;t=null!==(e=t)&&void 0!==e?e:this.selectionStart;const s=this.findLineBoundaryLeft(t),i=this.findLineBoundaryRight(t);this.selectionStart=s,this.selectionEnd=i,this._fireSelectionChanged(),this._updateTextarea()}enterEditing(t){!this.isEditing&&this.editable&&(this.enterEditingImpl(),this.fire(\"editing:entered\",t?{e:t}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire(\"text:editing:entered\",{target:this,e:t}),this.canvas.requestRenderAll()))}enterEditingImpl(){this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick()}updateSelectionOnMouseMove(t){if(this.getActiveControl())return;const e=this.hiddenTextarea;Kt(e).activeElement!==e&&e.focus();const s=this.getSelectionStartFromPointer(t),i=this.selectionStart,r=this.selectionEnd;(s===this.__selectionStartOnMouseDown&&i!==r||i!==s&&r!==s)&&(s>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=s):(this.selectionStart=s,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===i&&this.selectionEnd===r||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor=\"text\",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor=\"text\"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(t,e,s){const i=s.slice(0,t),r=this.graphemeSplit(i).length;if(t===e)return{selectionStart:r,selectionEnd:r};const n=s.slice(t,e);return{selectionStart:r,selectionEnd:r+this.graphemeSplit(n).length}}fromGraphemeToStringSelection(t,e,s){const i=s.slice(0,t).join(\"\").length;if(t===e)return{selectionStart:i,selectionEnd:i};return{selectionStart:i,selectionEnd:i+s.slice(t,e).join(\"\").length}}_updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){const t=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=t.selectionStart,this.hiddenTextarea.selectionEnd=t.selectionEnd}this.updateTextareaPosition()}}updateFromTextArea(){if(!this.hiddenTextarea)return;this.cursorOffsetCache={};const t=this.hiddenTextarea;this.text=t.value,this.set(\"dirty\",!0),this.initDimensions(),this.setCoords();const e=this.fromStringToGraphemeSelection(t.selectionStart,t.selectionEnd,t.value);this.selectionEnd=this.selectionStart=e.selectionEnd,this.inCompositionMode||(this.selectionStart=e.selectionStart),this.updateTextareaPosition()}updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){const t=this._calcTextareaPosition();this.hiddenTextarea.style.left=t.left,this.hiddenTextarea.style.top=t.top}}_calcTextareaPosition(){if(!this.canvas)return{left:\"1px\",top:\"1px\"};const t=this.inCompositionMode?this.compositionStart:this.selectionStart,e=this._getCursorBoundaries(t),s=this.get2DCursorLocation(t),i=s.lineIndex,r=s.charIndex,n=this.getValueOfPropertyAt(i,r,\"fontSize\")*this.lineHeight,o=e.leftOffset,a=this.getCanvasRetinaScaling(),h=this.canvas.upperCanvasEl,c=h.width/a,l=h.height/a,u=c-n,d=l-n,g=new ot(e.left+o,e.top+e.topOffset+n).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new ot(h.clientWidth/c,h.clientHeight/l));return g.x<0&&(g.x=0),g.x>u&&(g.x=u),g.y<0&&(g.y=0),g.y>d&&(g.y=d),g.x+=this.canvas._offset.left,g.y+=this.canvas._offset.top,{left:\"\".concat(g.x,\"px\"),top:\"\".concat(g.y,\"px\"),fontSize:\"\".concat(n,\"px\"),charHeight:n}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}_exitEditing(){const t=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,t&&(t.blur&&t.blur(),t.parentNode&&t.parentNode.removeChild(t)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}exitEditingImpl(){this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords())}exitEditing(){const t=this._textBeforeEdit!==this.text;return this.exitEditingImpl(),this.fire(\"editing:exited\"),t&&this.fire(Q),this.canvas&&(this.canvas.fire(\"text:editing:exited\",{target:this}),t&&this.canvas.fire(\"object:modified\",{target:this})),this}_removeExtraneousStyles(){for(const t in this.styles)this._textLines[t]||delete this.styles[t]}removeStyleFromTo(t,e){const{lineIndex:s,charIndex:i}=this.get2DCursorLocation(t,!0),{lineIndex:r,charIndex:n}=this.get2DCursorLocation(e,!0);if(s!==r){if(this.styles[s])for(let t=i;t<this._unwrappedTextLines[s].length;t++)delete this.styles[s][t];if(this.styles[r])for(let t=n;t<this._unwrappedTextLines[r].length;t++){const e=this.styles[r][t];e&&(this.styles[s]||(this.styles[s]={}),this.styles[s][i+t-n]=e)}for(let t=s+1;t<=r;t++)delete this.styles[t];this.shiftLineStyles(r,s-r)}else if(this.styles[s]){const t=this.styles[s],e=n-i;for(let e=i;e<n;e++)delete t[e];for(const i in this.styles[s]){const s=parseInt(i,10);s>=n&&(t[s-e]=t[i],delete t[i])}}}shiftLineStyles(t,e){const s=Object.assign({},this.styles);for(const i in this.styles){const r=parseInt(i,10);r>t&&(this.styles[r+e]=s[r],s[r-e]||delete this.styles[r])}}insertNewlineStyleObject(t,e,i,r){const n={},o=this._unwrappedTextLines[t].length,a=o===e;let h=!1;i||(i=1),this.shiftLineStyles(t,i);const c=this.styles[t]?this.styles[t][0===e?e:e-1]:void 0;for(const s in this.styles[t]){const i=parseInt(s,10);i>=e&&(h=!0,n[i-e]=this.styles[t][s],a&&0===e||delete this.styles[t][s])}let l=!1;for(h&&!a&&(this.styles[t+i]=n,l=!0),(l||o>e)&&i--;i>0;)r&&r[i-1]?this.styles[t+i]={0:s({},r[i-1])}:c?this.styles[t+i]={0:s({},c)}:delete this.styles[t+i],i--;this._forceClearCache=!0}insertCharStyleObject(t,e,i,r){this.styles||(this.styles={});const n=this.styles[t],o=n?s({},n):{};i||(i=1);for(const t in o){const s=parseInt(t,10);s>=e&&(n[s+i]=o[s],o[s-i]||delete n[s])}if(this._forceClearCache=!0,r){for(;i--;)Object.keys(r[i]).length&&(this.styles[t]||(this.styles[t]={}),this.styles[t][e+i]=s({},r[i]));return}if(!n)return;const a=n[e?e-1:1];for(;a&&i--;)this.styles[t][e+i]=s({},a)}insertNewStyleBlock(t,e,s){const i=this.get2DCursorLocation(e,!0),r=[0];let n,o=0;for(let e=0;e<t.length;e++)\"\\n\"===t[e]?(o++,r[o]=0):r[o]++;for(r[0]>0&&(this.insertCharStyleObject(i.lineIndex,i.charIndex,r[0],s),s=s&&s.slice(r[0]+1)),o&&this.insertNewlineStyleObject(i.lineIndex,i.charIndex+r[0],o),n=1;n<o;n++)r[n]>0?this.insertCharStyleObject(i.lineIndex+n,0,r[n],s):s&&this.styles[i.lineIndex+n]&&s[0]&&(this.styles[i.lineIndex+n][0]=s[0]),s=s&&s.slice(r[n]+1);r[n]>0&&this.insertCharStyleObject(i.lineIndex+n,0,r[n],s)}removeChars(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t+1;this.removeStyleFromTo(t,e),this._text.splice(t,e-t),this.text=this._text.join(\"\"),this.set(\"dirty\",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(t,e,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s;i>s&&this.removeStyleFromTo(s,i);const r=this.graphemeSplit(t);this.insertNewStyleBlock(r,s,e),this._text=[...this._text.slice(0,s),...r,...this._text.slice(i)],this.text=this._text.join(\"\"),this.set(\"dirty\",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(t,e,s){s<=t?(e===t?this._selectionDirection=M:this._selectionDirection===A&&(this._selectionDirection=M,this.selectionEnd=t),this.selectionStart=s):s>t&&s<e?this._selectionDirection===A?this.selectionEnd=s:this.selectionStart=s:(e===t?this._selectionDirection=A:this._selectionDirection===M&&(this._selectionDirection=A,this.selectionStart=e),this.selectionEnd=s)}}class Ro extends Lo{initHiddenTextarea(){const t=this.canvas&&Kt(this.canvas.getElement())||m(),e=t.createElement(\"textarea\");Object.entries({autocapitalize:\"off\",autocorrect:\"off\",autocomplete:\"off\",spellcheck:\"false\",\"data-fabric\":\"textarea\",wrap:\"off\",name:\"fabricTextarea\"}).map((t=>{let[s,i]=t;return e.setAttribute(s,i)}));const{top:s,left:i,fontSize:r}=this._calcTextareaPosition();e.style.cssText=\"position: absolute; top: \".concat(s,\"; left: \").concat(i,\"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: \").concat(r,\";\"),(this.hiddenTextareaContainer||t.body).appendChild(e),Object.entries({blur:\"blur\",keydown:\"onKeyDown\",keyup:\"onKeyUp\",input:\"onInput\",copy:\"copy\",cut:\"copy\",paste:\"paste\",compositionstart:\"onCompositionStart\",compositionupdate:\"onCompositionUpdate\",compositionend:\"onCompositionEnd\"}).map((t=>{let[s,i]=t;return e.addEventListener(s,this[i].bind(this))})),this.hiddenTextarea=e}blur(){this.abortCursorAnimation()}onKeyDown(t){if(!this.isEditing)return;const e=\"rtl\"===this.direction?this.keysMapRtl:this.keysMap;if(t.keyCode in e)this[e[t.keyCode]](t);else{if(!(t.keyCode in this.ctrlKeysMapDown)||!t.ctrlKey&&!t.metaKey)return;this[this.ctrlKeysMapDown[t.keyCode]](t)}t.stopImmediatePropagation(),t.preventDefault(),t.keyCode>=33&&t.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}onKeyUp(t){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:t.keyCode in this.ctrlKeysMapUp&&(t.ctrlKey||t.metaKey)&&(this[this.ctrlKeysMapUp[t.keyCode]](t),t.stopImmediatePropagation(),t.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}onInput(t){const e=this.fromPaste,{value:s,selectionStart:i,selectionEnd:r}=this.hiddenTextarea;if(this.fromPaste=!1,t&&t.stopPropagation(),!this.isEditing)return;const n=()=>{this.updateFromTextArea(),this.fire(z),this.canvas&&(this.canvas.fire(\"text:changed\",{target:this}),this.canvas.requestRenderAll())};if(\"\"===this.hiddenTextarea.value)return this.styles={},void n();const a=this._splitTextIntoLines(s).graphemeText,h=this._text.length,c=a.length,l=this.selectionStart,u=this.selectionEnd,d=l!==u;let g,f,m,v,y=c-h;const _=this.fromStringToGraphemeSelection(i,r,s),x=l>_.selectionStart;d?(f=this._text.slice(l,u),y+=u-l):c<h&&(f=x?this._text.slice(u+y,u):this._text.slice(l,l-y));const C=a.slice(_.selectionEnd-y,_.selectionEnd);if(f&&f.length&&(C.length&&(g=this.getSelectionStyles(l,l+1,!1),g=C.map((()=>g[0]))),d?(m=l,v=u):x?(m=u-f.length,v=u):(m=u,v=u+f.length),this.removeStyleFromTo(m,v)),C.length){const{copyPasteData:t}=p();e&&C.join(\"\")===t.copiedText&&!o.disableStyleCopyPaste&&(g=t.copiedTextStyle),this.insertNewStyleBlock(C,l,g)}n()}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(t){let{target:e}=t;const{selectionStart:s,selectionEnd:i}=e;this.compositionStart=s,this.compositionEnd=i,this.updateTextareaPosition()}copy(){if(this.selectionStart===this.selectionEnd)return;const{copyPasteData:t}=p();t.copiedText=this.getSelectedText(),o.disableStyleCopyPaste?t.copiedTextStyle=void 0:t.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}paste(){this.fromPaste=!0}_getWidthBeforeCursor(t,e){let s,i=this._getLineLeftOffset(t);return e>0&&(s=this.__charBounds[t][e-1],i+=s.left+s.width),i}getDownCursorOffset(t,e){const s=this._getSelectionForOffset(t,e),i=this.get2DCursorLocation(s),r=i.lineIndex;if(r===this._textLines.length-1||t.metaKey||34===t.keyCode)return this._text.length-s;const n=i.charIndex,o=this._getWidthBeforeCursor(r,n),a=this._getIndexOnLine(r+1,o);return this._textLines[r].slice(n).length+a+1+this.missingNewlineOffset(r)}_getSelectionForOffset(t,e){return t.shiftKey&&this.selectionStart!==this.selectionEnd&&e?this.selectionEnd:this.selectionStart}getUpCursorOffset(t,e){const s=this._getSelectionForOffset(t,e),i=this.get2DCursorLocation(s),r=i.lineIndex;if(0===r||t.metaKey||33===t.keyCode)return-s;const n=i.charIndex,o=this._getWidthBeforeCursor(r,n),a=this._getIndexOnLine(r-1,o),h=this._textLines[r].slice(0,n),c=this.missingNewlineOffset(r-1);return-this._textLines[r-1].length+a-h.length+(1-c)}_getIndexOnLine(t,e){const s=this._textLines[t];let i,r,n=this._getLineLeftOffset(t),o=0;for(let a=0,h=s.length;a<h;a++)if(i=this.__charBounds[t][a].width,n+=i,n>e){r=!0;const t=n-i,s=n,h=Math.abs(t-e);o=Math.abs(s-e)<h?a:a-1;break}return r||(o=s.length-1),o}moveCursorDown(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown(\"Down\",t)}moveCursorUp(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown(\"Up\",t)}_moveCursorUpOrDown(t,e){const s=this[\"get\".concat(t,\"CursorOffset\")](e,this._selectionDirection===A);if(e.shiftKey?this.moveCursorWithShift(s):this.moveCursorWithoutShift(s),0!==s){const t=this.text.length;this.selectionStart=Ms(0,this.selectionStart,t),this.selectionEnd=Ms(0,this.selectionEnd,t),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(t){const e=this._selectionDirection===M?this.selectionStart+t:this.selectionEnd+t;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,e),0!==t}moveCursorWithoutShift(t){return t<0?(this.selectionStart+=t,this.selectionEnd=this.selectionStart):(this.selectionEnd+=t,this.selectionStart=this.selectionEnd),0!==t}moveCursorLeft(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight(\"Left\",t)}_move(t,e,s){let i;if(t.altKey)i=this[\"findWordBoundary\".concat(s)](this[e]);else{if(!t.metaKey&&35!==t.keyCode&&36!==t.keyCode)return this[e]+=\"Left\"===s?-1:1,!0;i=this[\"findLineBoundary\".concat(s)](this[e])}return void 0!==i&&this[e]!==i&&(this[e]=i,!0)}_moveLeft(t,e){return this._move(t,e,\"Left\")}_moveRight(t,e){return this._move(t,e,\"Right\")}moveCursorLeftWithoutShift(t){let e=!0;return this._selectionDirection=M,this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(e=this._moveLeft(t,\"selectionStart\")),this.selectionEnd=this.selectionStart,e}moveCursorLeftWithShift(t){return this._selectionDirection===A&&this.selectionStart!==this.selectionEnd?this._moveLeft(t,\"selectionEnd\"):0!==this.selectionStart?(this._selectionDirection=M,this._moveLeft(t,\"selectionStart\")):void 0}moveCursorRight(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight(\"Right\",t)}_moveCursorLeftOrRight(t,e){const s=\"moveCursor\".concat(t).concat(e.shiftKey?\"WithShift\":\"WithoutShift\");this._currentCursorOpacity=1,this[s](e)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(t){return this._selectionDirection===M&&this.selectionStart!==this.selectionEnd?this._moveRight(t,\"selectionStart\"):this.selectionEnd!==this._text.length?(this._selectionDirection=A,this._moveRight(t,\"selectionEnd\")):void 0}moveCursorRightWithoutShift(t){let e=!0;return this._selectionDirection=A,this.selectionStart===this.selectionEnd?(e=this._moveRight(t,\"selectionStart\"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,e}}const Io=t=>!!t.button;class Bo extends Ro{constructor(){super(...arguments),t(this,\"draggableTextDelegate\",void 0)}initBehavior(){this.on(\"mousedown\",this._mouseDownHandler),this.on(\"mouseup\",this.mouseUpHandler),this.on(\"mousedblclick\",this.doubleClickHandler),this.on(\"mousetripleclick\",this.tripleClickHandler),this.draggableTextDelegate=new jo(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(t){return this.draggableTextDelegate.onDragStart(t)}canDrop(t){return this.draggableTextDelegate.canDrop(t)}doubleClickHandler(t){this.isEditing&&(this.selectWord(this.getSelectionStartFromPointer(t.e)),this.renderCursorOrSelection())}tripleClickHandler(t){this.isEditing&&(this.selectLine(this.getSelectionStartFromPointer(t.e)),this.renderCursorOrSelection())}_mouseDownHandler(t){let{e:e,alreadySelected:s}=t;this.canvas&&this.editable&&!Io(e)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(e)||(this.canvas.textEditingManager.register(this),s&&(this.inCompositionMode=!1,this.setCursorByClick(e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()),this.selected||(this.selected=s||this.isEditing)))}mouseUpHandler(t){let{e:e,transform:s}=t;const i=this.draggableTextDelegate.end(e);if(this.canvas){this.canvas.textEditingManager.unregister(this);const t=this.canvas._activeObject;if(t&&t!==this)return}!this.editable||this.group&&!this.group.interactive||s&&s.actionPerformed||Io(e)||i||this.selected&&!this.getActiveControl()&&(this.enterEditing(e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection())}setCursorByClick(t){const e=this.getSelectionStartFromPointer(t),s=this.selectionStart,i=this.selectionEnd;t.shiftKey?this.setSelectionStartEndWithShift(s,i,e):(this.selectionStart=e,this.selectionEnd=e),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(t){const e=this.canvas.getScenePoint(t).transform(wt(this.calcTransformMatrix())).add(new ot(-this._getLeftOffset(),-this._getTopOffset()));let s=0,i=0,r=0;for(let t=0;t<this._textLines.length&&s<=e.y;t++)s+=this.getHeightOfLine(t),r=t,t>0&&(i+=this._textLines[t-1].length+this.missingNewlineOffset(t-1));let n=Math.abs(this._getLineLeftOffset(r));const o=this._textLines[r].length,a=this.__charBounds[r];for(let t=0;t<o;t++){const s=n+a[t].kernedWidth;if(e.x<=s){Math.abs(e.x-s)<=Math.abs(e.x-n)&&i++;break}n=s,i++}return Math.min(this.flipX?o-i:i,this._text.length)}}const Xo=\"moveCursorUp\",Yo=\"moveCursorDown\",Wo=\"moveCursorLeft\",Vo=\"moveCursorRight\",zo=\"exitEditing\",Go=(t,e)=>{const s=e.getRetinaScaling();t.setTransform(s,0,0,s,0,0);const i=e.viewportTransform;t.transform(i[0],i[1],i[2],i[3],i[4],i[5])},Ho=s({selectionStart:0,selectionEnd:0,selectionColor:\"rgba(17,119,255,0.3)\",isEditing:!1,editable:!0,editingBorderColor:\"rgba(102,153,255,0.25)\",cursorWidth:2,cursorColor:\"\",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:zo,27:zo,33:Xo,34:Yo,35:Vo,36:Wo,37:Wo,38:Xo,39:Vo,40:Yo},keysMapRtl:{9:zo,27:zo,33:Xo,34:Yo,35:Wo,36:Vo,37:Vo,38:Xo,39:Wo,40:Yo},ctrlKeysMapDown:{65:\"cmdAll\"},ctrlKeysMapUp:{67:\"copy\",88:\"cut\"}},{_selectionDirection:null,_reSpace:/\\s|\\r?\\n/,inCompositionMode:!1});class No extends Bo{static getDefaults(){return s(s({},super.getDefaults()),No.ownDefaults)}get type(){const t=super.type;return\"itext\"===t?\"i-text\":t}constructor(t,e){super(t,s(s({},No.ownDefaults),e)),this.initBehavior()}_set(t,e){return this.isEditing&&this._savedProps&&t in this._savedProps?(this._savedProps[t]=e,this):(\"canvas\"===t&&(this.canvas instanceof Xn&&this.canvas.textEditingManager.remove(this),e instanceof Xn&&e.textEditingManager.add(this)),super._set(t,e))}setSelectionStart(t){t=Math.max(t,0),this._updateAndFire(\"selectionStart\",t)}setSelectionEnd(t){t=Math.min(t,this.text.length),this._updateAndFire(\"selectionEnd\",t)}_updateAndFire(t,e){this[t]!==e&&(this._fireSelectionChanged(),this[t]=e),this._updateTextarea()}_fireSelectionChanged(){this.fire(\"selection:changed\"),this.canvas&&this.canvas.fire(\"text:selection:changed\",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectionStart||0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selectionEnd,s=arguments.length>2?arguments[2]:void 0;return super.getSelectionStyles(t,e,s)}setSelectionStyles(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selectionStart||0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.selectionEnd;return super.setSelectionStyles(t,e,s)}get2DCursorLocation(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectionStart,e=arguments.length>1?arguments[1]:void 0;return super.get2DCursorLocation(t,e)}render(t){super.render(t),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(t){const e=this.isEditing;this.isEditing=!1;const s=super.toCanvasElement(t);return this.isEditing=e,s}renderCursorOrSelection(){if(!this.isEditing||!this.canvas)return;const t=this.clearContextTop(!0);if(!t)return;const e=this._getCursorBoundaries(),s=this.findAncestorsWithClipPath(),i=s.length>0;let r,n=t;if(i){r=vt(t.canvas),n=r.getContext(\"2d\"),Go(n,this.canvas);const e=this.calcTransformMatrix();n.transform(e[0],e[1],e[2],e[3],e[4],e[5])}if(this.selectionStart!==this.selectionEnd||this.inCompositionMode?this.renderSelection(n,e):this.renderCursor(n,e),i)for(const e of s){const s=e.clipPath,i=vt(t.canvas),r=i.getContext(\"2d\");if(Go(r,this.canvas),!s.absolutePositioned){const t=e.calcTransformMatrix();r.transform(t[0],t[1],t[2],t[3],t[4],t[5])}s.transform(r),s.drawObject(r,!0,{}),this.drawClipPathOnCache(n,s,i)}i&&(t.setTransform(1,0,0,1,0,0),t.drawImage(r,0,0)),this.canvas.contextTopDirty=!0,t.restore()}findAncestorsWithClipPath(){const t=[];let e=this;for(;e;)e.clipPath&&t.push(e),e=e.parent;return t}_getCursorBoundaries(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectionStart,e=arguments.length>1?arguments[1]:void 0;const s=this._getLeftOffset(),i=this._getTopOffset(),r=this._getCursorBoundariesOffsets(t,e);return{left:s,top:i,leftOffset:r.left,topOffset:r.top}}_getCursorBoundariesOffsets(t,e){return e?this.__getCursorBoundariesOffsets(t):this.cursorOffsetCache&&\"top\"in this.cursorOffsetCache?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(t)}__getCursorBoundariesOffsets(t){let e=0,s=0;const{charIndex:i,lineIndex:r}=this.get2DCursorLocation(t);for(let t=0;t<r;t++)e+=this.getHeightOfLine(t);const n=this._getLineLeftOffset(r),o=this.__charBounds[r][i];o&&(s=o.left),0!==this.charSpacing&&i===this._textLines[r].length&&(s-=this._getWidthOfCharSpacing());const a={top:e,left:n+(s>0?s:0)};return\"rtl\"===this.direction&&(this.textAlign===A||this.textAlign===Je||this.textAlign===Ze?a.left*=-1:this.textAlign===M||this.textAlign===Qe?a.left=n-(s>0?s:0):this.textAlign!==D&&this.textAlign!==$e||(a.left=n-(s>0?s:0))),a}renderCursorAt(t){this._renderCursor(this.canvas.contextTop,this._getCursorBoundaries(t,!0),t)}renderCursor(t,e){this._renderCursor(t,e,this.selectionStart)}getCursorRenderingData(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectionStart,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getCursorBoundaries(t);const s=this.get2DCursorLocation(t),i=s.lineIndex,r=s.charIndex>0?s.charIndex-1:0,n=this.getValueOfPropertyAt(i,r,\"fontSize\"),o=this.getObjectScaling().x*this.canvas.getZoom(),a=this.cursorWidth/o,h=this.getValueOfPropertyAt(i,r,\"deltaY\"),c=e.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(i)/this.lineHeight-n*(1-this._fontSizeFraction);return{color:this.cursorColor||this.getValueOfPropertyAt(i,r,\"fill\"),opacity:this._currentCursorOpacity,left:e.left+e.leftOffset-a/2,top:c+e.top+h,width:a,height:n}}_renderCursor(t,e,s){const{color:i,opacity:r,left:n,top:o,width:a,height:h}=this.getCursorRenderingData(s,e);t.fillStyle=i,t.globalAlpha=r,t.fillRect(n,o,a,h)}renderSelection(t,e){const s={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(t,s,e)}renderDragSourceEffect(){const t=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,t,this._getCursorBoundaries(t.selectionStart,!0))}renderDropTargetEffect(t){const e=this.getSelectionStartFromPointer(t);this.renderCursorAt(e)}_renderSelection(t,e,s){const i=e.selectionStart,r=e.selectionEnd,n=this.textAlign.includes(Je),o=this.get2DCursorLocation(i),a=this.get2DCursorLocation(r),h=o.lineIndex,c=a.lineIndex,l=o.charIndex<0?0:o.charIndex,u=a.charIndex<0?0:a.charIndex;for(let e=h;e<=c;e++){const i=this._getLineLeftOffset(e)||0;let r=this.getHeightOfLine(e),o=0,a=0,d=0;if(e===h&&(a=this.__charBounds[h][l].left),e>=h&&e<c)d=n&&!this.isEndOfWrapping(e)?this.width:this.getLineWidth(e)||5;else if(e===c)if(0===u)d=this.__charBounds[c][u].left;else{const t=this._getWidthOfCharSpacing();d=this.__charBounds[c][u-1].left+this.__charBounds[c][u-1].width-t}o=r,(this.lineHeight<1||e===c&&this.lineHeight>1)&&(r/=this.lineHeight);let g=s.left+i+a,f=r,p=0;const m=d-a;this.inCompositionMode?(t.fillStyle=this.compositionColor||\"black\",f=1,p=r):t.fillStyle=this.selectionColor,\"rtl\"===this.direction&&(this.textAlign===A||this.textAlign===Je||this.textAlign===Ze?g=this.width-g-m:this.textAlign===M||this.textAlign===Qe?g=s.left+i-d:this.textAlign!==D&&this.textAlign!==$e||(g=s.left+i-d)),t.fillRect(g,s.top+s.topOffset+p,m,f),s.topOffset+=o}}getCurrentCharFontSize(){const t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,\"fontSize\")}getCurrentCharColor(){const t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,K)}_getCurrentCharIndex(){const t=this.get2DCursorLocation(this.selectionStart,!0),e=t.charIndex>0?t.charIndex-1:0;return{l:t.lineIndex,c:e}}dispose(){this.exitEditingImpl(),this.draggableTextDelegate.dispose(),super.dispose()}}t(No,\"ownDefaults\",Ho),t(No,\"type\",\"IText\"),tt.setClass(No),tt.setClass(No,\"i-text\");class Uo extends No{static getDefaults(){return s(s({},super.getDefaults()),Uo.ownDefaults)}constructor(t,e){super(t,s(s({},Uo.ownDefaults),e))}static createControls(){return{controls:Ai()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set(\"width\",this.dynamicMinWidth),this.textAlign.includes(Je)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(t){let e=0,s=0,i=0;const r={};for(let n=0;n<t.graphemeLines.length;n++)\"\\n\"===t.graphemeText[i]&&n>0?(s=0,i++,e++):!this.splitByGrapheme&&this._reSpaceAndTab.test(t.graphemeText[i])&&n>0&&(s++,i++),r[n]={line:e,offset:s},i+=t.graphemeLines[n].length,s+=t.graphemeLines[n].length;return r}styleHas(t,e){if(this._styleMap&&!this.isWrapping){const t=this._styleMap[e];t&&(e=t.line)}return super.styleHas(t,e)}isEmptyStyles(t){if(!this.styles)return!0;let e,s=0,i=t+1,r=!1;const n=this._styleMap[t],o=this._styleMap[t+1];n&&(t=n.line,s=n.offset),o&&(i=o.line,r=i===t,e=o.offset);const a=void 0===t?this.styles:{line:this.styles[t]};for(const t in a)for(const i in a[t]){const n=parseInt(i,10);if(n>=s&&(!r||n<e))for(const e in a[t][i])return!1}return!0}_getStyleDeclaration(t,e){if(this._styleMap&&!this.isWrapping){const s=this._styleMap[t];if(!s)return{};t=s.line,e=s.offset+e}return super._getStyleDeclaration(t,e)}_setStyleDeclaration(t,e,s){const i=this._styleMap[t];super._setStyleDeclaration(i.line,i.offset+e,s)}_deleteStyleDeclaration(t,e){const s=this._styleMap[t];super._deleteStyleDeclaration(s.line,s.offset+e)}_getLineStyle(t){const e=this._styleMap[t];return!!this.styles[e.line]}_setLineStyle(t){const e=this._styleMap[t];super._setLineStyle(e.line)}_wrapText(t,e){this.isWrapping=!0;const s=this.getGraphemeDataForRender(t),i=[];for(let t=0;t<s.wordsData.length;t++)i.push(...this._wrapLine(t,e,s));return this.isWrapping=!1,i}getGraphemeDataForRender(t){const e=this.splitByGrapheme,s=e?\"\":\" \";let i=0;return{wordsData:t.map(((t,r)=>{let n=0;const o=e?this.graphemeSplit(t):this.wordSplit(t);return 0===o.length?[{word:[],width:0}]:o.map((t=>{const o=e?[t]:this.graphemeSplit(t),a=this._measureWord(o,r,n);return i=Math.max(a,i),n+=o.length+s.length,{word:o,width:a}}))})),largestWordWidth:i}}_measureWord(t,e){let s,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=0;for(let n=0,o=t.length;n<o;n++){r+=this._getGraphemeBox(t[n],e,n+i,s,true).kernedWidth,s=t[n]}return r}wordSplit(t){return t.split(this._wordJoiners)}_wrapLine(t,e,s){let{largestWordWidth:i,wordsData:r}=s,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const o=this._getWidthOfCharSpacing(),a=this.splitByGrapheme,h=[],c=a?\"\":\" \";let l=0,u=[],d=0,g=0,f=!0;e-=n;const p=Math.max(e,i,this.dynamicMinWidth),m=r[t];let v;for(d=0,v=0;v<m.length;v++){const{word:e,width:s}=m[v];d+=e.length,l+=g+s-o,l>p&&!f?(h.push(u),u=[],l=s,f=!0):l+=o,f||a||u.push(c),u=u.concat(e),g=a?0:this._measureWord([c],t,d),d++,f=!1}return v&&h.push(u),i+n>this.dynamicMinWidth&&(this.dynamicMinWidth=i-o+n),h}isEndOfWrapping(t){return!this._styleMap[t+1]||this._styleMap[t+1].line!==this._styleMap[t].line}missingNewlineOffset(t,e){return this.splitByGrapheme&&!e?this.isEndOfWrapping(t)?1:0:1}_splitTextIntoLines(t){const e=super._splitTextIntoLines(t),s=this._wrapText(e.lines,this.width),i=new Array(s.length);for(let t=0;t<s.length;t++)i[t]=s[t].join(\"\");return e.lines=i,e.graphemeLines=s,e}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){const t=new Map;for(const e in this._styleMap){const s=parseInt(e,10);if(this._textLines[s]){const s=this._styleMap[e].line;t.set(\"\".concat(s),!0)}}for(const e in this.styles)t.has(e)||delete this.styles[e]}toObject(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return super.toObject([\"minWidth\",\"splitByGrapheme\",...t])}}t(Uo,\"type\",\"Textbox\"),t(Uo,\"textLayoutProperties\",[...No.textLayoutProperties,\"width\"]),t(Uo,\"ownDefaults\",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \\t\\r]/,splitByGrapheme:!1}),tt.setClass(Uo);class qo extends Xr{shouldPerformLayout(t){return!!t.target.clipPath&&super.shouldPerformLayout(t)}shouldLayoutClipPath(){return!1}calcLayoutResult(t,e){const{target:s}=t,{clipPath:i,group:r}=s;if(!i||!this.shouldPerformLayout(t))return;const{width:n,height:o}=he(Br(s,i)),a=new ot(n,o);if(i.absolutePositioned){return{center:me(i.getRelativeCenterPoint(),void 0,r?r.calcTransformMatrix():void 0),size:a}}{const r=i.getRelativeCenterPoint().transform(s.calcOwnMatrix(),!0);if(this.shouldPerformLayout(t)){const{center:s=new ot,correction:i=new ot}=this.calcBoundingBox(e,t)||{};return{center:s.add(r),correction:i.subtract(r),size:a}}return{center:s.getRelativeCenterPoint().add(r),size:a}}}}t(qo,\"type\",\"clip-path\"),tt.setClass(qo);class Ko extends Xr{getInitialSize(t,e){let{target:s}=t,{size:i}=e;return new ot(s.width||i.x,s.height||i.y)}}t(Ko,\"type\",\"fixed\"),tt.setClass(Ko);class Jo extends Gr{subscribeTargets(t){const e=t.target;t.targets.reduce(((t,e)=>(e.parent&&t.add(e.parent),t)),new Set).forEach((t=>{t.layoutManager.subscribeTargets({target:t,targets:[e]})}))}unsubscribeTargets(t){const e=t.target,s=e.getObjects();t.targets.reduce(((t,e)=>(e.parent&&t.add(e.parent),t)),new Set).forEach((t=>{!s.some((e=>e.parent===t))&&t.layoutManager.unsubscribeTargets({target:t,targets:[e]})}))}}class Qo extends Ur{static getDefaults(){return s(s({},super.getDefaults()),Qo.ownDefaults)}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),Object.assign(this,Qo.ownDefaults),this.setOptions(e);const{left:s,top:i,layoutManager:r}=e;this.groupInit(t,{left:s,top:i,layoutManager:null!=r?r:new Jo})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];\"selection-order\"===this.multiSelectionStacking?this.add(...e):e.forEach((t=>{const e=this._objects.findIndex((e=>e.isInFrontOf(t))),s=-1===e?this.size():e;this.insertAt(s,t)}))}canEnterGroup(t){return this.getObjects().some((e=>e.isDescendantOf(t)||t.isDescendantOf(e)))?(a(\"error\",\"ActiveSelection: circular object trees are not supported, this call has no effect\"),!1):super.canEnterGroup(t)}enterGroup(t,e){t.parent&&t.parent===t.group?t.parent._exitGroup(t):t.group&&t.parent!==t.group&&t.group.remove(t),this._enterGroup(t,e)}exitGroup(t,e){this._exitGroup(t,e),t.parent&&t.parent._enterGroup(t,!0)}_onAfterObjectsChange(t,e){super._onAfterObjectsChange(t,e);const s=new Set;e.forEach((t=>{const{parent:e}=t;e&&s.add(e)})),t===Rr?s.forEach((t=>{t._onAfterObjectsChange(Lr,e)})):s.forEach((t=>{t._set(\"dirty\",!0)}))}onDeselect(){return this.removeAll(),!1}toString(){return\"#<ActiveSelection: (\".concat(this.complexity(),\")>\")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(t,e,i){t.save(),t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;const r=s(s({hasControls:!1},i),{},{forActiveSelection:!0});for(let e=0;e<this._objects.length;e++)this._objects[e]._renderControls(t,r);super._renderControls(t,e),t.restore()}}t(Qo,\"type\",\"ActiveSelection\"),t(Qo,\"ownDefaults\",{multiSelectionStacking:\"canvas-stacking\"}),tt.setClass(Qo),tt.setClass(Qo,\"activeSelection\");class Zo{constructor(){t(this,\"resources\",{})}applyFilters(t,e,s,i,r){const n=r.getContext(\"2d\");if(!n)return;n.drawImage(e,0,0,s,i);const o={sourceWidth:s,sourceHeight:i,imageData:n.getImageData(0,0,s,i),originalEl:e,originalImageData:n.getImageData(0,0,s,i),canvasEl:r,ctx:n,filterBackend:this};t.forEach((t=>{t.applyTo(o)}));const{imageData:a}=o;return a.width===s&&a.height===i||(r.width=a.width,r.height=a.height),n.putImageData(a,0,0),o}}class $o{constructor(){let{tileSize:e=o.textureSize}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,\"aPosition\",new Float32Array([0,0,0,1,1,0,1,1])),t(this,\"resources\",{}),this.tileSize=e,this.setupGLContext(e,e),this.captureGPUInfo()}setupGLContext(t,e){this.dispose(),this.createWebGLCanvas(t,e)}createWebGLCanvas(t,e){const s=vt({width:t,height:e}),i=s.getContext(\"webgl\",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});i&&(i.clearColor(0,0,0,0),this.canvas=s,this.gl=i)}applyFilters(t,e,s,i,r,n){const o=this.gl,a=r.getContext(\"2d\");if(!o||!a)return;let h;n&&(h=this.getCachedTexture(n,e));const c={originalWidth:e.width||e.naturalWidth||0,originalHeight:e.height||e.naturalHeight||0,sourceWidth:s,sourceHeight:i,destinationWidth:s,destinationHeight:i,context:o,sourceTexture:this.createTexture(o,s,i,h?void 0:e),targetTexture:this.createTexture(o,s,i),originalTexture:h||this.createTexture(o,s,i,h?void 0:e),passes:t.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:r},l=o.createFramebuffer();return o.bindFramebuffer(o.FRAMEBUFFER,l),t.forEach((t=>{t&&t.applyTo(c)})),function(t){const e=t.targetCanvas,s=e.width,i=e.height,r=t.destinationWidth,n=t.destinationHeight;s===r&&i===n||(e.width=r,e.height=n)}(c),this.copyGLTo2D(o,c),o.bindTexture(o.TEXTURE_2D,null),o.deleteTexture(c.sourceTexture),o.deleteTexture(c.targetTexture),o.deleteFramebuffer(l),a.setTransform(1,0,0,1,0,0),c}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(t,e,s,i,r){const{NEAREST:n,TEXTURE_2D:o,RGBA:a,UNSIGNED_BYTE:h,CLAMP_TO_EDGE:c,TEXTURE_MAG_FILTER:l,TEXTURE_MIN_FILTER:u,TEXTURE_WRAP_S:d,TEXTURE_WRAP_T:g}=t,f=t.createTexture();return t.bindTexture(o,f),t.texParameteri(o,l,r||n),t.texParameteri(o,u,r||n),t.texParameteri(o,d,c),t.texParameteri(o,g,c),i?t.texImage2D(o,0,a,a,h,i):t.texImage2D(o,0,a,e,s,0,a,h,null),f}getCachedTexture(t,e,s){const{textureCache:i}=this;if(i[t])return i[t];{const r=this.createTexture(this.gl,e.width,e.height,e,s);return r&&(i[t]=r),r}}evictCachesForKey(t){this.textureCache[t]&&(this.gl.deleteTexture(this.textureCache[t]),delete this.textureCache[t])}copyGLTo2D(t,e){const s=t.canvas,i=e.targetCanvas,r=i.getContext(\"2d\");if(!r)return;r.translate(0,i.height),r.scale(1,-1);const n=s.height-i.height;r.drawImage(s,0,n,i.width,i.height,0,0,i.width,i.height)}copyGLTo2DPutImageData(t,e){const s=e.targetCanvas.getContext(\"2d\"),i=e.destinationWidth,r=e.destinationHeight,n=i*r*4;if(!s)return;const o=new Uint8Array(this.imageBuffer,0,n),a=new Uint8ClampedArray(this.imageBuffer,0,n);t.readPixels(0,0,i,r,t.RGBA,t.UNSIGNED_BYTE,o);const h=new ImageData(a,i,r);s.putImageData(h,0,0)}captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;const t=this.gl,e={renderer:\"\",vendor:\"\"};if(!t)return e;const s=t.getExtension(\"WEBGL_debug_renderer_info\");if(s){const i=t.getParameter(s.UNMASKED_RENDERER_WEBGL),r=t.getParameter(s.UNMASKED_VENDOR_WEBGL);i&&(e.renderer=i.toLowerCase()),r&&(e.vendor=r.toLowerCase())}return this.gpuInfo=e,e}}let ta;function ea(){const{WebGLProbe:t}=p();return t.queryWebGL(pt()),o.enableGLFiltering&&t.isSupported(o.textureSize)?new $o({tileSize:o.textureSize}):new Zo}function sa(){return!ta&&(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(ta=ea()),ta}function ia(t){ta=t}const ra=[\"filters\",\"resizeFilter\",\"src\",\"crossOrigin\",\"type\"],na=[\"cropX\",\"cropY\"];class oa extends Li{static getDefaults(){return s(s({},super.getDefaults()),oa.ownDefaults)}constructor(e,s){super(),t(this,\"_lastScaleX\",1),t(this,\"_lastScaleY\",1),t(this,\"_filterScalingX\",1),t(this,\"_filterScalingY\",1),this.filters=[],Object.assign(this,oa.ownDefaults),this.setOptions(s),this.cacheKey=\"texture\".concat(ft()),this.setElement(\"string\"==typeof e?(this.canvas&&Kt(this.canvas.getElement())||m()).getElementById(e):e,s)}getElement(){return this._element}setElement(t){var e;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture(\"\".concat(this.cacheKey,\"_filtered\")),this._element=t,this._originalElement=t,this._setWidthHeight(s),null===(e=t.classList)||void 0===e||e.add(oa.CSS_CANVAS),0!==this.filters.length&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(t){const e=sa(!1);e instanceof $o&&e.evictCachesForKey(t)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture(\"\".concat(this.cacheKey,\"_filtered\")),this._cacheContext=null,[\"_originalElement\",\"_element\",\"_filteredEl\",\"_cacheCanvas\"].forEach((t=>{const e=this[t];e&&p().dispose(e),this[t]=void 0}))}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){const t=this.getElement();return t?{width:t.naturalWidth||t.width,height:t.naturalHeight||t.height}:{width:0,height:0}}_stroke(t){if(!this.stroke||0===this.strokeWidth)return;const e=this.width/2,s=this.height/2;t.beginPath(),t.moveTo(-e,-s),t.lineTo(e,-s),t.lineTo(e,s),t.lineTo(-e,s),t.lineTo(-e,-s),t.closePath()}toObject(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const e=[];return this.filters.forEach((t=>{t&&e.push(t.toObject())})),s(s({},super.toObject([...na,...t])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:e},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){const t=[],e=this._element,s=-this.width/2,i=-this.height/2;let r=[],n=[],o=\"\",a=\"\";if(!e)return[];if(this.hasCrop()){const t=ft();r.push('<clipPath id=\"imageCrop_'+t+'\">\\n','\\t<rect x=\"'+s+'\" y=\"'+i+'\" width=\"'+this.width+'\" height=\"'+this.height+'\" />\\n',\"</clipPath>\\n\"),o=' clip-path=\"url(#imageCrop_'+t+')\" '}if(this.imageSmoothing||(a=' image-rendering=\"optimizeSpeed\"'),t.push(\"\\t<image \",\"COMMON_PARTS\",'xlink:href=\"'.concat(this.getSvgSrc(!0),'\" x=\"').concat(s-this.cropX,'\" y=\"').concat(i-this.cropY,'\" width=\"').concat(e.width||e.naturalWidth,'\" height=\"').concat(e.height||e.naturalHeight,'\"').concat(a).concat(o,\"></image>\\n\")),this.stroke||this.strokeDashArray){const t=this.fill;this.fill=null,n=['\\t<rect x=\"'.concat(s,'\" y=\"').concat(i,'\" width=\"').concat(this.width,'\" height=\"').concat(this.height,'\" style=\"').concat(this.getSvgStyles(),'\" />\\n')],this.fill=t}return r=this.paintFirst!==K?r.concat(n,t):r.concat(t,n),r}getSrc(t){const e=t?this._element:this._originalElement;return e?e.toDataURL?e.toDataURL():this.srcFromAttribute?e.getAttribute(\"src\")||\"\":e.src:this.src||\"\"}getSvgSrc(t){return this.getSrc(t)}setSrc(t){let{crossOrigin:e,signal:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return It(t,{crossOrigin:e,signal:s}).then((t=>{void 0!==e&&this.set({crossOrigin:e}),this.setElement(t)}))}toString(){return'#<Image: { src: \"'.concat(this.getSrc(),'\" }>')}applyResizeFilters(){const t=this.resizeFilter,e=this.minimumScaleTrigger,s=this.getTotalObjectScaling(),i=s.x,r=s.y,n=this._filteredEl||this._originalElement;if(this.group&&this.set(\"dirty\",!0),!t||i>e&&r>e)return this._element=n,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=i,void(this._lastScaleY=r);const o=vt(n),{width:a,height:h}=n;this._element=o,this._lastScaleX=t.scaleX=i,this._lastScaleY=t.scaleY=r,sa().applyFilters([t],n,a,h,this._element),this._filterScalingX=o.width/this._originalElement.width,this._filterScalingY=o.height/this._originalElement.height}applyFilters(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.filters||[];if(t=t.filter((t=>t&&!t.isNeutralState())),this.set(\"dirty\",!0),this.removeTexture(\"\".concat(this.cacheKey,\"_filtered\")),0===t.length)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);const e=this._originalElement,s=e.naturalWidth||e.width,i=e.naturalHeight||e.height;if(this._element===this._originalElement){const t=vt({width:s,height:i});this._element=t,this._filteredEl=t}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext(\"2d\").clearRect(0,0,s,i),this._lastScaleX=1,this._lastScaleY=1);sa().applyFilters(t,this._originalElement,s,i,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}_render(t){t.imageSmoothingEnabled=this.imageSmoothing,!0!==this.isMoving&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(t),this._renderPaintInOrder(t)}drawCacheOnCanvas(t){t.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(t)}shouldCache(){return this.needsItsOwnCache()}_renderFill(t){const e=this._element;if(!e)return;const s=this._filterScalingX,i=this._filterScalingY,r=this.width,n=this.height,o=Math.max(this.cropX,0),a=Math.max(this.cropY,0),h=e.naturalWidth||e.width,c=e.naturalHeight||e.height,l=o*s,u=a*i,d=Math.min(r*s,h-l),g=Math.min(n*i,c-u),f=-r/2,p=-n/2,m=Math.min(r,h/s-o),v=Math.min(n,c/i-a);e&&t.drawImage(e,l,u,d,g,f,p,m,v)}_needsResize(){const t=this.getTotalObjectScaling();return t.x!==this._lastScaleX||t.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){let{width:t,height:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const s=this.getOriginalSize();this.width=t||s.width,this.height=e||s.height}parsePreserveAspectRatioAttribute(){const t=Xe(this.preserveAspectRatio||\"\"),e=this.width,s=this.height,i={width:e,height:s};let r,n=this._element.width,o=this._element.height,a=1,h=1,c=0,l=0,u=0,d=0;return!t||t.alignX===j&&t.alignY===j?(a=e/n,h=s/o):(\"meet\"===t.meetOrSlice&&(a=h=qr(this._element,i),r=(e-n*a)/2,\"Min\"===t.alignX&&(c=-r),\"Max\"===t.alignX&&(c=r),r=(s-o*h)/2,\"Min\"===t.alignY&&(l=-r),\"Max\"===t.alignY&&(l=r)),\"slice\"===t.meetOrSlice&&(a=h=Kr(this._element,i),r=n-e/a,\"Mid\"===t.alignX&&(u=r/2),\"Max\"===t.alignX&&(u=r),r=o-s/h,\"Mid\"===t.alignY&&(d=r/2),\"Max\"===t.alignY&&(d=r),n=e/a,o=s/h)),{width:n,height:o,scaleX:a,scaleY:h,offsetLeft:c,offsetTop:l,cropX:u,cropY:d}}static fromObject(t,e){let{filters:r,resizeFilter:n,src:o,crossOrigin:a,type:h}=t,c=i(t,ra);return Promise.all([It(o,s(s({},e),{},{crossOrigin:a})),r&&Bt(r,e),n&&Bt([n],e),Xt(c,e)]).then((t=>{let[e,i=[],[r]=[],n={}]=t;return new this(e,s(s({},c),{},{src:o,filters:i,resizeFilter:r},n))}))}static fromURL(t){let{crossOrigin:e=null,signal:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;return It(t,{crossOrigin:e,signal:s}).then((t=>new this(t,i)))}static async fromElement(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0;const i=Pr(t,this.ATTRIBUTE_NAMES,s);return this.fromURL(i[\"xlink:href\"]||i.href,e,i).catch((t=>(a(\"log\",\"Unable to parse Image\",t),null)))}}function aa(t){if(!us.test(t.nodeName))return{};const e=t.getAttribute(\"viewBox\");let s,i,r=1,n=1,o=0,a=0;const h=t.getAttribute(\"width\"),c=t.getAttribute(\"height\"),l=t.getAttribute(\"x\")||0,u=t.getAttribute(\"y\")||0,d=!(e&&gs.test(e)),g=!h||!c||\"100%\"===h||\"100%\"===c;let f=\"\",p=0,m=0;if(d&&(l||u)&&t.parentNode&&\"#document\"!==t.parentNode.nodeName&&(f=\" translate(\"+Be(l||\"0\")+\" \"+Be(u||\"0\")+\") \",s=(t.getAttribute(\"transform\")||\"\")+f,t.setAttribute(\"transform\",s),t.removeAttribute(\"x\"),t.removeAttribute(\"y\")),d&&g)return{width:0,height:0};const v={width:0,height:0};if(d)return v.width=Be(h),v.height=Be(c),v;const y=e.match(gs);o=-parseFloat(y[1]),a=-parseFloat(y[2]);const _=parseFloat(y[3]),x=parseFloat(y[4]);v.minX=o,v.minY=a,v.viewBoxWidth=_,v.viewBoxHeight=x,g?(v.width=_,v.height=x):(v.width=Be(h),v.height=Be(c),r=v.width/_,n=v.height/x);const C=Xe(t.getAttribute(\"preserveAspectRatio\")||\"\");if(C.alignX!==j&&(\"meet\"===C.meetOrSlice&&(n=r=r>n?n:r),\"slice\"===C.meetOrSlice&&(n=r=r>n?r:n),p=v.width-_*r,m=v.height-x*r,\"Mid\"===C.alignX&&(p/=2),\"Mid\"===C.alignY&&(m/=2),\"Min\"===C.alignX&&(p=0),\"Min\"===C.alignY&&(m=0)),1===r&&1===n&&0===o&&0===a&&0===l&&0===u)return v;if((l||u)&&\"#document\"!==t.parentNode.nodeName&&(f=\" translate(\"+Be(l||\"0\")+\" \"+Be(u||\"0\")+\") \"),s=f+\" matrix(\"+r+\" 0 0 \"+n+\" \"+(o*r+p)+\" \"+(a*n+m)+\") \",\"svg\"===t.nodeName){for(i=t.ownerDocument.createElementNS(ns,\"g\");t.firstChild;)i.appendChild(t.firstChild);t.appendChild(i)}else i=t,i.removeAttribute(\"x\"),i.removeAttribute(\"y\"),s=i.getAttribute(\"transform\")+s;return i.setAttribute(\"transform\",s),v}t(oa,\"type\",\"Image\"),t(oa,\"cacheProperties\",[...Es,...na]),t(oa,\"ownDefaults\",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:.5,cropX:0,cropY:0,imageSmoothing:!0}),t(oa,\"CSS_CANVAS\",\"canvas-img\"),t(oa,\"ATTRIBUTE_NAMES\",[...Zi,\"x\",\"y\",\"width\",\"height\",\"preserveAspectRatio\",\"xlink:href\",\"href\",\"crossOrigin\",\"image-rendering\"]),tt.setClass(oa),tt.setSVGClass(oa);const ha=t=>t.tagName.replace(\"svg:\",\"\"),ca=Ve([\"pattern\",\"defs\",\"symbol\",\"metadata\",\"clipPath\",\"mask\",\"desc\"]);function la(t,e){let s,i,r,n,o=[];for(r=0,n=e.length;r<n;r++)s=e[r],i=t.getElementsByTagNameNS(\"http://www.w3.org/2000/svg\",s),o=o.concat(Array.from(i));return o}const ua=[\"gradientTransform\",\"x1\",\"x2\",\"y1\",\"y2\",\"gradientUnits\",\"cx\",\"cy\",\"r\",\"fx\",\"fy\"],da=\"xlink:href\";function ga(t,e){var s;const i=(null===(s=e.getAttribute(da))||void 0===s?void 0:s.slice(1))||\"\",r=t.getElementById(i);if(r&&r.getAttribute(da)&&ga(t,r),r&&(ua.forEach((t=>{const s=r.getAttribute(t);!e.hasAttribute(t)&&s&&e.setAttribute(t,s)})),!e.children.length)){const t=r.cloneNode(!0);for(;t.firstChild;)e.appendChild(t.firstChild)}e.removeAttribute(da)}const fa=[\"linearGradient\",\"radialGradient\",\"svg:linearGradient\",\"svg:radialGradient\"];function pa(t){const e=t.getElementsByTagName(\"style\"),i={};for(let t=0;t<e.length;t++){const r=(e[t].textContent||\"\").replace(/\\/\\*[\\s\\S]*?\\*\\//g,\"\");\"\"!==r.trim()&&r.split(\"}\").filter(((t,e,s)=>s.length>1&&t.trim())).forEach((t=>{if((t.match(/{/g)||[]).length>1&&t.trim().startsWith(\"@\"))return;const e=t.split(\"{\"),r={},n=e[1].trim().split(\";\").filter((function(t){return t.trim()}));for(let t=0;t<n.length;t++){const e=n[t].split(\":\"),s=e[0].trim(),i=e[1].trim();r[s]=i}(t=e[0].trim()).split(\",\").forEach((t=>{\"\"!==(t=t.replace(/^svg/i,\"\").trim())&&(i[t]=s(s({},i[t]||{}),r))}))}))}return i}const ma=t=>tt.getSVGClass(ha(t).toLowerCase());class va{constructor(t,e,s,i,r){this.elements=t,this.options=e,this.reviver=s,this.regexUrl=/^url\\(['\"]?#([^'\"]+)['\"]?\\)/g,this.doc=i,this.clipPaths=r,this.gradientDefs=function(t){const e=la(t,fa),s={};let i=e.length;for(;i--;){const r=e[i];r.getAttribute(\"xlink:href\")&&ga(t,r);const n=r.getAttribute(\"id\");n&&(s[n]=r)}return s}(i),this.cssRules=pa(i)}parse(){return Promise.all(this.elements.map((t=>this.createObject(t))))}async createObject(t){const e=ma(t);if(e){const s=await e.fromElement(t,this.options,this.cssRules);return this.resolveGradient(s,t,K),this.resolveGradient(s,t,J),s instanceof oa&&s._originalElement?Dn(s,s.parsePreserveAspectRatioAttribute()):Dn(s),await this.resolveClipPath(s,t),this.reviver&&this.reviver(t,s),s}return null}extractPropertyDefinition(t,e,s){const i=t[e],r=this.regexUrl;if(!r.test(i))return;r.lastIndex=0;const n=r.exec(i)[1];return r.lastIndex=0,s[n]}resolveGradient(t,e,i){const r=this.extractPropertyDefinition(t,i,this.gradientDefs);if(r){const n=e.getAttribute(i+\"-opacity\"),o=$n.fromElement(r,t,s(s({},this.options),{},{opacity:n}));t.set(i,o)}}async resolveClipPath(t,e,s){const i=this.extractPropertyDefinition(t,\"clipPath\",this.clipPaths);if(i){const r=wt(t.calcTransformMatrix()),n=i[0].parentElement;let o=e;for(;!s&&o.parentElement&&o.getAttribute(\"clip-path\")!==t.clipPath;)o=o.parentElement;o.parentElement.appendChild(n);const a=wr(\"\".concat(o.getAttribute(\"transform\")||\"\",\" \").concat(n.getAttribute(\"originalTransform\")||\"\"));n.setAttribute(\"transform\",\"matrix(\".concat(a.join(\",\"),\")\"));const h=await Promise.all(i.map((t=>ma(t).fromElement(t,this.options,this.cssRules).then((t=>(Dn(t),t.fillRule=t.clipRule,delete t.clipRule,t)))))),c=1===h.length?h[0]:new Ur(h),l=Tt(r,c.calcTransformMatrix());c.clipPath&&await this.resolveClipPath(c,o,n.getAttribute(\"clip-path\")?o:void 0);const{scaleX:u,scaleY:d,angle:g,skewX:f,translateX:p,translateY:m}=Dt(l);c.set({flipX:!1,flipY:!1}),c.set({scaleX:u,scaleY:d,angle:g,skewX:f,skewY:0}),c.setPositionByOrigin(new ot(p,m),D,D),t.clipPath=c}else delete t.clipPath}}const ya=t=>ls.test(ha(t)),_a=()=>({objects:[],elements:[],options:{},allElements:[]});async function xa(t,e){let{crossOrigin:i,signal:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r&&r.aborted)return a(\"log\",new c(\"parseSVGDocument\")),_a();const n=t.documentElement;!function(t){const e=la(t,[\"use\",\"svg:use\"]),s=[\"x\",\"y\",\"xlink:href\",\"href\",\"transform\"];for(const i of e){const e=i.attributes,r={};for(const t of e)t.value&&(r[t.name]=t.value);const n=(r[\"xlink:href\"]||r.href||\"\").slice(1);if(\"\"===n)return;const o=t.getElementById(n);if(null===o)return;let a=o.cloneNode(!0);const h=a.attributes,c={};for(const t of h)t.value&&(c[t.name]=t.value);const{x:l=0,y:u=0,transform:d=\"\"}=r,g=\"\".concat(d,\" \").concat(c.transform||\"\",\" translate(\").concat(l,\", \").concat(u,\")\");if(aa(a),/^svg$/i.test(a.nodeName)){const t=a.ownerDocument.createElementNS(ns,\"g\");Object.entries(c).forEach((e=>{let[s,i]=e;return t.setAttributeNS(ns,s,i)})),t.append(...a.childNodes),a=t}for(const t of e){if(!t)continue;const{name:e,value:i}=t;if(!s.includes(e))if(\"style\"===e){const t={};kr(i,t),Object.entries(c).forEach((e=>{let[s,i]=e;t[s]=i})),kr(c.style||\"\",t);const s=Object.entries(t).map((t=>t.join(\":\"))).join(\";\");a.setAttribute(e,s)}else!c[e]&&a.setAttribute(e,i)}a.setAttribute(\"transform\",g),a.setAttribute(\"instantiated_by_use\",\"1\"),a.removeAttribute(\"id\"),i.parentNode.replaceChild(a,i)}}(t);const o=Array.from(n.getElementsByTagName(\"*\")),h=s(s({},aa(n)),{},{crossOrigin:i,signal:r}),l=o.filter((t=>(aa(t),ya(t)&&!function(t){let e=t;for(;e&&(e=e.parentElement);)if(e&&e.nodeName&&ca.test(ha(e))&&!e.getAttribute(\"instantiated_by_use\"))return!0;return!1}(t))));if(!l||l&&!l.length)return s(s({},_a()),{},{options:h,allElements:o});const u={};o.filter((t=>\"clipPath\"===ha(t))).forEach((t=>{t.setAttribute(\"originalTransform\",t.getAttribute(\"transform\")||\"\");const e=t.getAttribute(\"id\");u[e]=Array.from(t.getElementsByTagName(\"*\")).filter((t=>ya(t)))}));const d=new va(l,h,e,t,u);return{objects:await d.parse(),elements:l,options:h,allElements:o}}function Ca(t,e,s){return xa((new(v().DOMParser)).parseFromString(t.trim(),\"text/xml\"),e,s)}function ba(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(((e,i)=>{kn(t.replace(/^\\n\\s*/,\"\").trim(),{onComplete:t=>{const s=t.responseXML;s&&e(s),i()},signal:s.signal})})).then((t=>xa(t,e,s))).catch((()=>_a()))}const Sa=W,wa=t=>function(e,s,i){const{points:r,pathOffset:n}=i;return new ot(r[t]).subtract(n).transform(Tt(i.getViewportTransform(),i.calcTransformMatrix()))},Ta=(t,e,s,i)=>{const{target:r,pointIndex:n}=e,o=r,a=me(new ot(s,i),void 0,o.calcOwnMatrix());return o.points[n]=a.add(o.pathOffset),o.setDimensions(),o.set(\"dirty\",!0),!0},Oa=(t,e)=>function(i,r,n,o){const a=r.target,h=new ot(a.points[(t>0?t:a.points.length)-1]),c=h.subtract(a.pathOffset).transform(a.calcOwnMatrix()),l=e(i,s(s({},r),{},{pointIndex:t}),n,o),u=h.subtract(a.pathOffset).transform(a.calcOwnMatrix()).subtract(c);return a.left-=u.x,a.top-=u.y,l},ka=t=>si(Sa,Oa(t,Ta));const Da=(t,e,s)=>{const{path:i,pathOffset:r}=t,n=i[e];return new ot(n[s]-r.x,n[s+1]-r.y).transform(Tt(t.getViewportTransform(),t.calcTransformMatrix()))};function Ma(t,e,s){const{commandIndex:i,pointIndex:r}=this;return Da(s,i,r)}function Pa(t,e,i,r){const{target:n}=e,{commandIndex:o,pointIndex:a}=this,h=((t,e,s,i,r)=>{const{path:n,pathOffset:o}=t,a=n[(i>0?i:n.length)-1],h=new ot(a[r],a[r+1]),c=h.subtract(o).transform(t.calcOwnMatrix()),l=me(new ot(e,s),void 0,t.calcOwnMatrix());n[i][r]=l.x+o.x,n[i][r+1]=l.y+o.y,t.setDimensions();const u=h.subtract(t.pathOffset).transform(t.calcOwnMatrix()).subtract(c);return t.left-=u.x,t.top-=u.y,t.set(\"dirty\",!0),!0})(n,i,r,o,a);return _e(this.actionName,s(s({},Oe(t,e,i,r)),{},{commandIndex:o,pointIndex:a})),h}class Ea extends ai{constructor(t){super(t)}render(t,e,i,r,n){const o=s(s({},r),{},{cornerColor:this.controlFill,cornerStrokeColor:this.controlStroke,transparentCorners:!this.controlFill});super.render(t,e,i,o,n)}}class Aa extends Ea{constructor(t){super(t)}render(t,e,s,i,r){const{path:n}=r,{commandIndex:o,pointIndex:a,connectToCommandIndex:h,connectToPointIndex:c}=this;t.save(),t.strokeStyle=this.controlStroke,this.connectionDashArray&&t.setLineDash(this.connectionDashArray);const[l]=n[o],u=Da(r,h,c);if(\"Q\"===l){const i=Da(r,o,a+2);t.moveTo(i.x,i.y),t.lineTo(e,s)}else t.moveTo(e,s);t.lineTo(u.x,u.y),t.stroke(),t.restore(),super.render(t,e,s,i,r)}}const ja=(t,e,i,r,n,o)=>new(i?Aa:Ea)(s(s({commandIndex:t,pointIndex:e,actionName:\"modifyPath\",positionHandler:Ma,actionHandler:Pa,connectToCommandIndex:n,connectToPointIndex:o},r),i?r.controlPointStyle:r.pointStyle));var Fa=Object.freeze({__proto__:null,changeWidth:ri,createObjectDefaultControls:Pi,createPathControls:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s={};let i=\"M\";return t.path.forEach(((t,r)=>{const n=t[0];switch(\"Z\"!==n&&(s[\"c_\".concat(r,\"_\").concat(n)]=ja(r,t.length-2,!1,e)),n){case\"C\":s[\"c_\".concat(r,\"_C_CP_1\")]=ja(r,1,!0,e,r-1,(t=>\"C\"===t?5:\"Q\"===t?3:1)(i)),s[\"c_\".concat(r,\"_C_CP_2\")]=ja(r,3,!0,e,r,5);break;case\"Q\":s[\"c_\".concat(r,\"_Q_CP_1\")]=ja(r,1,!0,e,r,3)}i=n})),s},createPolyActionHandler:ka,createPolyControls:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i={};for(let r=0;r<(\"number\"==typeof t?t:t.points.length);r++)i[\"p\".concat(r)]=new ai(s({actionName:Sa,positionHandler:wa(r),actionHandler:ka(r)},e));return i},createPolyPositionHandler:wa,createResizeControls:Ei,createTextboxDefaultControls:Ai,dragHandler:Me,factoryPolyActionHandler:Oa,getLocalPoint:De,polyActionHandler:Ta,renderCircleControl:ni,renderSquareControl:oi,rotationStyleHandler:hi,rotationWithSnapping:ci,scaleCursorStyleHandler:gi,scaleOrSkewActionName:Oi,scaleSkewCursorStyleHandler:ki,scalingEqually:pi,scalingX:mi,scalingXOrSkewingY:Di,scalingY:vi,scalingYOrSkewingX:Mi,skewCursorStyleHandler:Ci,skewHandlerX:Si,skewHandlerY:wi,wrapWithFireEvent:si,wrapWithFixedAnchor:ii});const La=t=>void 0!==t.webgl,Ra=(t,e)=>{const s=vt({width:t,height:e}),i=pt().getContext(\"webgl\"),r={imageBuffer:new ArrayBuffer(t*e*4)},n={destinationWidth:t,destinationHeight:e,targetCanvas:s};let o;o=v().performance.now(),$o.prototype.copyGLTo2D.call(r,i,n);const a=v().performance.now()-o;o=v().performance.now(),$o.prototype.copyGLTo2DPutImageData.call(r,i,n);return a>v().performance.now()-o},Ia=\"precision highp float\",Ba=\"\\n    \".concat(Ia,\";\\n    varying vec2 vTexCoord;\\n    uniform sampler2D uTexture;\\n    void main() {\\n      gl_FragColor = texture2D(uTexture, vTexCoord);\\n    }\"),Xa=[\"type\"],Ya=[\"type\"],Wa=new RegExp(Ia,\"g\");class Va{get type(){return this.constructor.type}constructor(){let t=i(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Xa);Object.assign(this,this.constructor.defaults,t)}getFragmentSource(){return Ba}getVertexSource(){return\"\\n    attribute vec2 aPosition;\\n    varying vec2 vTexCoord;\\n    void main() {\\n      vTexCoord = aPosition;\\n      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\\n    }\"}createProgram(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getFragmentSource(),s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.getVertexSource();const{WebGLProbe:{GLPrecision:i=\"highp\"}}=p();\"highp\"!==i&&(e=e.replace(Wa,Ia.replace(\"highp\",i)));const r=t.createShader(t.VERTEX_SHADER),n=t.createShader(t.FRAGMENT_SHADER),o=t.createProgram();if(!r||!n||!o)throw new h(\"Vertex, fragment shader or program creation error\");if(t.shaderSource(r,s),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))throw new h(\"Vertex shader compile error for \".concat(this.type,\": \").concat(t.getShaderInfoLog(r)));if(t.shaderSource(n,e),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw new h(\"Fragment shader compile error for \".concat(this.type,\": \").concat(t.getShaderInfoLog(n)));if(t.attachShader(o,r),t.attachShader(o,n),t.linkProgram(o),!t.getProgramParameter(o,t.LINK_STATUS))throw new h('Shader link error for \"'.concat(this.type,'\" ').concat(t.getProgramInfoLog(o)));const a=this.getUniformLocations(t,o)||{};return a.uStepW=t.getUniformLocation(o,\"uStepW\"),a.uStepH=t.getUniformLocation(o,\"uStepH\"),{program:o,attributeLocations:this.getAttributeLocations(t,o),uniformLocations:a}}getAttributeLocations(t,e){return{aPosition:t.getAttribLocation(e,\"aPosition\")}}getUniformLocations(t,e){const s=this.constructor.uniformLocations,i={};for(let r=0;r<s.length;r++)i[s[r]]=t.getUniformLocation(e,s[r]);return i}sendAttributeData(t,e,s){const i=e.aPosition,r=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,r),t.enableVertexAttribArray(i),t.vertexAttribPointer(i,2,t.FLOAT,!1,0,0),t.bufferData(t.ARRAY_BUFFER,s,t.STATIC_DRAW)}_setupFrameBuffer(t){const e=t.context;if(t.passes>1){const s=t.destinationWidth,i=t.destinationHeight;t.sourceWidth===s&&t.sourceHeight===i||(e.deleteTexture(t.targetTexture),t.targetTexture=t.filterBackend.createTexture(e,s,i)),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t.targetTexture,0)}else e.bindFramebuffer(e.FRAMEBUFFER,null),e.finish()}_swapTextures(t){t.passes--,t.pass++;const e=t.targetTexture;t.targetTexture=t.sourceTexture,t.sourceTexture=e}isNeutralState(t){return!1}applyTo(t){La(t)?(this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)}applyTo2d(t){}getCacheKey(){return this.type}retrieveShader(t){const e=this.getCacheKey();return t.programCache[e]||(t.programCache[e]=this.createProgram(t.context)),t.programCache[e]}applyToWebGL(t){const e=t.context,s=this.retrieveShader(t);0===t.pass&&t.originalTexture?e.bindTexture(e.TEXTURE_2D,t.originalTexture):e.bindTexture(e.TEXTURE_2D,t.sourceTexture),e.useProgram(s.program),this.sendAttributeData(e,s.attributeLocations,t.aPosition),e.uniform1f(s.uniformLocations.uStepW,1/t.sourceWidth),e.uniform1f(s.uniformLocations.uStepH,1/t.sourceHeight),this.sendUniformData(e,s.uniformLocations),e.viewport(0,0,t.destinationWidth,t.destinationHeight),e.drawArrays(e.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(t,e,s){t.activeTexture(s),t.bindTexture(t.TEXTURE_2D,e),t.activeTexture(t.TEXTURE0)}unbindAdditionalTexture(t,e){t.activeTexture(e),t.bindTexture(t.TEXTURE_2D,null),t.activeTexture(t.TEXTURE0)}sendUniformData(t,e){}createHelpLayer(t){if(!t.helpLayer){const{sourceWidth:e,sourceHeight:s}=t,i=vt({width:e,height:s});t.helpLayer=i}}toObject(){const t=Object.keys(this.constructor.defaults||{});return s({type:this.type},t.reduce(((t,e)=>(t[e]=this[e],t)),{}))}toJSON(){return this.toObject()}static async fromObject(t,e){return new this(i(t,Ya))}}t(Va,\"type\",\"BaseFilter\"),t(Va,\"uniformLocations\",[]);const za={multiply:\"gl_FragColor.rgb *= uColor.rgb;\\n\",screen:\"gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\\n\",add:\"gl_FragColor.rgb += uColor.rgb;\\n\",difference:\"gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\\n\",subtract:\"gl_FragColor.rgb -= uColor.rgb;\\n\",lighten:\"gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\\n\",darken:\"gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\\n\",exclusion:\"gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\\n\",overlay:\"\\n    if (uColor.r < 0.5) {\\n      gl_FragColor.r *= 2.0 * uColor.r;\\n    } else {\\n      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\\n    }\\n    if (uColor.g < 0.5) {\\n      gl_FragColor.g *= 2.0 * uColor.g;\\n    } else {\\n      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\\n    }\\n    if (uColor.b < 0.5) {\\n      gl_FragColor.b *= 2.0 * uColor.b;\\n    } else {\\n      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\\n    }\\n    \",tint:\"\\n    gl_FragColor.rgb *= (1.0 - uColor.a);\\n    gl_FragColor.rgb += uColor.rgb;\\n    \"};class Ga extends Va{getCacheKey(){return\"\".concat(this.type,\"_\").concat(this.mode)}getFragmentSource(){return\"\\n      precision highp float;\\n      uniform sampler2D uTexture;\\n      uniform vec4 uColor;\\n      varying vec2 vTexCoord;\\n      void main() {\\n        vec4 color = texture2D(uTexture, vTexCoord);\\n        gl_FragColor = color;\\n        if (color.a > 0.0) {\\n          \".concat(za[this.mode],\"\\n        }\\n      }\\n      \")}applyTo2d(t){let{imageData:{data:e}}=t;const s=new Ie(this.color).getSource(),i=this.alpha,r=s[0]*i,n=s[1]*i,o=s[2]*i,a=1-i;for(let t=0;t<e.length;t+=4){const s=e[t],i=e[t+1],h=e[t+2];let c,l,u;switch(this.mode){case\"multiply\":c=s*r/255,l=i*n/255,u=h*o/255;break;case\"screen\":c=255-(255-s)*(255-r)/255,l=255-(255-i)*(255-n)/255,u=255-(255-h)*(255-o)/255;break;case\"add\":c=s+r,l=i+n,u=h+o;break;case\"difference\":c=Math.abs(s-r),l=Math.abs(i-n),u=Math.abs(h-o);break;case\"subtract\":c=s-r,l=i-n,u=h-o;break;case\"darken\":c=Math.min(s,r),l=Math.min(i,n),u=Math.min(h,o);break;case\"lighten\":c=Math.max(s,r),l=Math.max(i,n),u=Math.max(h,o);break;case\"overlay\":c=r<128?2*s*r/255:255-2*(255-s)*(255-r)/255,l=n<128?2*i*n/255:255-2*(255-i)*(255-n)/255,u=o<128?2*h*o/255:255-2*(255-h)*(255-o)/255;break;case\"exclusion\":c=r+s-2*r*s/255,l=n+i-2*n*i/255,u=o+h-2*o*h/255;break;case\"tint\":c=r+s*a,l=n+i*a,u=o+h*a}e[t]=c,e[t+1]=l,e[t+2]=u}}sendUniformData(t,e){const s=new Ie(this.color).getSource();s[0]=this.alpha*s[0]/255,s[1]=this.alpha*s[1]/255,s[2]=this.alpha*s[2]/255,s[3]=this.alpha,t.uniform4fv(e.uColor,s)}}t(Ga,\"defaults\",{color:\"#F95C63\",mode:\"multiply\",alpha:1}),t(Ga,\"type\",\"BlendColor\"),t(Ga,\"uniformLocations\",[\"uColor\"]),tt.setClass(Ga);const Ha={multiply:\"\\n    precision highp float;\\n    uniform sampler2D uTexture;\\n    uniform sampler2D uImage;\\n    uniform vec4 uColor;\\n    varying vec2 vTexCoord;\\n    varying vec2 vTexCoord2;\\n    void main() {\\n      vec4 color = texture2D(uTexture, vTexCoord);\\n      vec4 color2 = texture2D(uImage, vTexCoord2);\\n      color.rgba *= color2.rgba;\\n      gl_FragColor = color;\\n    }\\n    \",mask:\"\\n    precision highp float;\\n    uniform sampler2D uTexture;\\n    uniform sampler2D uImage;\\n    uniform vec4 uColor;\\n    varying vec2 vTexCoord;\\n    varying vec2 vTexCoord2;\\n    void main() {\\n      vec4 color = texture2D(uTexture, vTexCoord);\\n      vec4 color2 = texture2D(uImage, vTexCoord2);\\n      color.a = color2.a;\\n      gl_FragColor = color;\\n    }\\n    \"},Na=[\"type\",\"image\"];class Ua extends Va{getCacheKey(){return\"\".concat(this.type,\"_\").concat(this.mode)}getFragmentSource(){return Ha[this.mode]}getVertexSource(){return\"\\n    attribute vec2 aPosition;\\n    varying vec2 vTexCoord;\\n    varying vec2 vTexCoord2;\\n    uniform mat3 uTransformMatrix;\\n    void main() {\\n      vTexCoord = aPosition;\\n      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\\n      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\\n    }\\n    \"}applyToWebGL(t){const e=t.context,s=this.createTexture(t.filterBackend,this.image);this.bindAdditionalTexture(e,s,e.TEXTURE1),super.applyToWebGL(t),this.unbindAdditionalTexture(e,e.TEXTURE1)}createTexture(t,e){return t.getCachedTexture(e.cacheKey,e.getElement())}calculateMatrix(){const t=this.image,{width:e,height:s}=t.getElement();return[1/t.scaleX,0,0,0,1/t.scaleY,0,-t.left/e,-t.top/s,1]}applyTo2d(t){let{imageData:{data:e,width:s,height:i},filterBackend:{resources:r}}=t;const n=this.image;r.blendImage||(r.blendImage=pt());const o=r.blendImage,a=o.getContext(\"2d\");o.width!==s||o.height!==i?(o.width=s,o.height=i):a.clearRect(0,0,s,i),a.setTransform(n.scaleX,0,0,n.scaleY,n.left,n.top),a.drawImage(n.getElement(),0,0,s,i);const h=a.getImageData(0,0,s,i).data;for(let t=0;t<e.length;t+=4){const s=e[t],i=e[t+1],r=e[t+2],n=e[t+3],o=h[t],a=h[t+1],c=h[t+2],l=h[t+3];switch(this.mode){case\"multiply\":e[t]=s*o/255,e[t+1]=i*a/255,e[t+2]=r*c/255,e[t+3]=n*l/255;break;case\"mask\":e[t+3]=l}}}sendUniformData(t,e){const s=this.calculateMatrix();t.uniform1i(e.uImage,1),t.uniformMatrix3fv(e.uTransformMatrix,!1,s)}toObject(){return s(s({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static async fromObject(t,e){let{type:r,image:n}=t,o=i(t,Na);return oa.fromObject(n,e).then((t=>new this(s(s({},o),{},{image:t}))))}}t(Ua,\"type\",\"BlendImage\"),t(Ua,\"defaults\",{mode:\"multiply\",alpha:1}),t(Ua,\"uniformLocations\",[\"uTransformMatrix\",\"uImage\"]),tt.setClass(Ua);class qa extends Va{getFragmentSource(){return\"\\n    precision highp float;\\n    uniform sampler2D uTexture;\\n    uniform vec2 uDelta;\\n    varying vec2 vTexCoord;\\n    const float nSamples = 15.0;\\n    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);\\n    float random(vec3 scale) {\\n      /* use the fragment position for a different seed per-pixel */\\n      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\\n    }\\n    void main() {\\n      vec4 color = vec4(0.0);\\n      float totalC = 0.0;\\n      float totalA = 0.0;\\n      float offset = random(v3offset);\\n      for (float t = -nSamples; t <= nSamples; t++) {\\n        float percent = (t + offset - 0.5) / nSamples;\\n        vec4 sample = texture2D(uTexture, vTexCoord + uDelta * percent);\\n        float weight = 1.0 - abs(percent);\\n        float alpha = weight * sample.a;\\n        color.rgb += sample.rgb * alpha;\\n        color.a += alpha;\\n        totalA += weight;\\n        totalC += alpha;\\n      }\\n      gl_FragColor.rgb = color.rgb / totalC;\\n      gl_FragColor.a = color.a / totalA;\\n    }\\n  \"}applyTo(t){La(t)?(this.aspectRatio=t.sourceWidth/t.sourceHeight,t.passes++,this._setupFrameBuffer(t),this.horizontal=!0,this.applyToWebGL(t),this._swapTextures(t),this._setupFrameBuffer(t),this.horizontal=!1,this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)}applyTo2d(t){let{imageData:{data:e,width:s,height:i}}=t;this.aspectRatio=s/i,this.horizontal=!0;let r=this.getBlurValue()*s;const n=new Uint8ClampedArray(e),o=15,a=4*s;for(let t=0;t<e.length;t+=4){let s=0,i=0,h=0,c=0,l=0;const u=t-t%a,d=u+a;for(let n=-14;n<o;n++){const a=n/o,g=4*Math.floor(r*a),f=1-Math.abs(a);let p=t+g;p<u?p=u:p>d&&(p=d);const m=e[p+3]*f;s+=e[p]*m,i+=e[p+1]*m,h+=e[p+2]*m,c+=m,l+=f}n[t]=s/c,n[t+1]=i/c,n[t+2]=h/c,n[t+3]=c/l}this.horizontal=!1,r=this.getBlurValue()*i;for(let t=0;t<n.length;t+=4){let s=0,i=0,h=0,c=0,l=0;const u=t%a,d=n.length-a+u;for(let e=-14;e<o;e++){const g=e/o,f=Math.floor(r*g)*a,p=1-Math.abs(g);let m=t+f;m<u?m=u:m>d&&(m=d);const v=n[m+3]*p;s+=n[m]*v,i+=n[m+1]*v,h+=n[m+2]*v,c+=v,l+=p}e[t]=s/c,e[t+1]=i/c,e[t+2]=h/c,e[t+3]=c/l}}sendUniformData(t,e){const s=this.chooseRightDelta();t.uniform2fv(e.uDelta,s)}isNeutralState(){return 0===this.blur}getBlurValue(){let t=1;const{horizontal:e,aspectRatio:s}=this;return e?s>1&&(t=1/s):s<1&&(t=s),t*this.blur*.12}chooseRightDelta(){const t=this.getBlurValue();return this.horizontal?[t,0]:[0,t]}}t(qa,\"type\",\"Blur\"),t(qa,\"defaults\",{blur:0}),t(qa,\"uniformLocations\",[\"uDelta\"]),tt.setClass(qa);class Ka extends Va{getFragmentSource(){return\"\\n  precision highp float;\\n  uniform sampler2D uTexture;\\n  uniform float uBrightness;\\n  varying vec2 vTexCoord;\\n  void main() {\\n    vec4 color = texture2D(uTexture, vTexCoord);\\n    color.rgb += uBrightness;\\n    gl_FragColor = color;\\n  }\\n\"}applyTo2d(t){let{imageData:{data:e}}=t;const s=Math.round(255*this.brightness);for(let t=0;t<e.length;t+=4)e[t]+=s,e[t+1]+=s,e[t+2]+=s}isNeutralState(){return 0===this.brightness}sendUniformData(t,e){t.uniform1f(e.uBrightness,this.brightness)}}t(Ka,\"type\",\"Brightness\"),t(Ka,\"defaults\",{brightness:0}),t(Ka,\"uniformLocations\",[\"uBrightness\"]),tt.setClass(Ka);const Ja={matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0};class Qa extends Va{getFragmentSource(){return\"\\n  precision highp float;\\n  uniform sampler2D uTexture;\\n  varying vec2 vTexCoord;\\n  uniform mat4 uColorMatrix;\\n  uniform vec4 uConstants;\\n  void main() {\\n    vec4 color = texture2D(uTexture, vTexCoord);\\n    color *= uColorMatrix;\\n    color += uConstants;\\n    gl_FragColor = color;\\n  }\"}applyTo2d(t){const e=t.imageData.data,s=this.matrix,i=this.colorsOnly;for(let t=0;t<e.length;t+=4){const r=e[t],n=e[t+1],o=e[t+2];if(e[t]=r*s[0]+n*s[1]+o*s[2]+255*s[4],e[t+1]=r*s[5]+n*s[6]+o*s[7]+255*s[9],e[t+2]=r*s[10]+n*s[11]+o*s[12]+255*s[14],!i){const i=e[t+3];e[t]+=i*s[3],e[t+1]+=i*s[8],e[t+2]+=i*s[13],e[t+3]=r*s[15]+n*s[16]+o*s[17]+i*s[18]+255*s[19]}}}sendUniformData(t,e){const s=this.matrix,i=[s[0],s[1],s[2],s[3],s[5],s[6],s[7],s[8],s[10],s[11],s[12],s[13],s[15],s[16],s[17],s[18]],r=[s[4],s[9],s[14],s[19]];t.uniformMatrix4fv(e.uColorMatrix,!1,i),t.uniform4fv(e.uConstants,r)}toObject(){return s(s({},super.toObject()),{},{matrix:[...this.matrix]})}}function Za(e,s){var i;const r=(t(i=class extends Qa{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},\"type\",e),t(i,\"defaults\",{colorsOnly:!1,matrix:s}),i);return tt.setClass(r,e),r}t(Qa,\"type\",\"ColorMatrix\"),t(Qa,\"defaults\",Ja),t(Qa,\"uniformLocations\",[\"uColorMatrix\",\"uConstants\"]),tt.setClass(Qa);const $a=Za(\"Brownie\",[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0]),th=Za(\"Vintage\",[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0]),eh=Za(\"Kodachrome\",[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0]),sh=Za(\"Technicolor\",[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0]),ih=Za(\"Polaroid\",[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0]),rh=Za(\"Sepia\",[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0]),nh=Za(\"BlackWhite\",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]);class oh extends Va{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(t),this.subFilters=t.subFilters||[]}applyTo(t){La(t)&&(t.passes+=this.subFilters.length-1),this.subFilters.forEach((e=>{e.applyTo(t)}))}toObject(){return{type:this.type,subFilters:this.subFilters.map((t=>t.toObject()))}}isNeutralState(){return!this.subFilters.some((t=>!t.isNeutralState()))}static fromObject(t,e){return Promise.all((t.subFilters||[]).map((t=>tt.getClass(t.type).fromObject(t,e)))).then((t=>new this({subFilters:t})))}}t(oh,\"type\",\"Composed\"),tt.setClass(oh);class ah extends Va{getFragmentSource(){return\"\\n  precision highp float;\\n  uniform sampler2D uTexture;\\n  uniform float uContrast;\\n  varying vec2 vTexCoord;\\n  void main() {\\n    vec4 color = texture2D(uTexture, vTexCoord);\\n    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\\n    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;\\n    gl_FragColor = color;\\n  }\"}isNeutralState(){return 0===this.contrast}applyTo2d(t){let{imageData:{data:e}}=t;const s=Math.floor(255*this.contrast),i=259*(s+255)/(255*(259-s));for(let t=0;t<e.length;t+=4)e[t]=i*(e[t]-128)+128,e[t+1]=i*(e[t+1]-128)+128,e[t+2]=i*(e[t+2]-128)+128}sendUniformData(t,e){t.uniform1f(e.uContrast,this.contrast)}}t(ah,\"type\",\"Contrast\"),t(ah,\"defaults\",{contrast:0}),t(ah,\"uniformLocations\",[\"uContrast\"]),tt.setClass(ah);const hh={Convolute_3_1:\"\\n    precision highp float;\\n    uniform sampler2D uTexture;\\n    uniform float uMatrix[9];\\n    uniform float uStepW;\\n    uniform float uStepH;\\n    varying vec2 vTexCoord;\\n    void main() {\\n      vec4 color = vec4(0, 0, 0, 0);\\n      for (float h = 0.0; h < 3.0; h+=1.0) {\\n        for (float w = 0.0; w < 3.0; w+=1.0) {\\n          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\\n          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\\n        }\\n      }\\n      gl_FragColor = color;\\n    }\\n    \",Convolute_3_0:\"\\n    precision highp float;\\n    uniform sampler2D uTexture;\\n    uniform float uMatrix[9];\\n    uniform float uStepW;\\n    uniform float uStepH;\\n    varying vec2 vTexCoord;\\n    void main() {\\n      vec4 color = vec4(0, 0, 0, 1);\\n      for (float h = 0.0; h < 3.0; h+=1.0) {\\n        for (float w = 0.0; w < 3.0; w+=1.0) {\\n          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\\n          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\\n        }\\n      }\\n      float alpha = texture2D(uTexture, vTexCoord).a;\\n      gl_FragColor = color;\\n      gl_FragColor.a = alpha;\\n    }\\n    \",Convolute_5_1:\"\\n    precision highp float;\\n    uniform sampler2D uTexture;\\n    uniform float uMatrix[25];\\n    uniform float uStepW;\\n    uniform float uStepH;\\n    varying vec2 vTexCoord;\\n    void main() {\\n      vec4 color = vec4(0, 0, 0, 0);\\n      for (float h = 0.0; h < 5.0; h+=1.0) {\\n        for (float w = 0.0; w < 5.0; w+=1.0) {\\n          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\\n          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\\n        }\\n      }\\n      gl_FragColor = color;\\n    }\\n    \",Convolute_5_0:\"\\n    precision highp float;\\n    uniform sampler2D uTexture;\\n    uniform float uMatrix[25];\\n    uniform float uStepW;\\n    uniform float uStepH;\\n    varying vec2 vTexCoord;\\n    void main() {\\n      vec4 color = vec4(0, 0, 0, 1);\\n      for (float h = 0.0; h < 5.0; h+=1.0) {\\n        for (float w = 0.0; w < 5.0; w+=1.0) {\\n          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\\n          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\\n        }\\n      }\\n      float alpha = texture2D(uTexture, vTexCoord).a;\\n      gl_FragColor = color;\\n      gl_FragColor.a = alpha;\\n    }\\n    \",Convolute_7_1:\"\\n    precision highp float;\\n    uniform sampler2D uTexture;\\n    uniform float uMatrix[49];\\n    uniform float uStepW;\\n    uniform float uStepH;\\n    varying vec2 vTexCoord;\\n    void main() {\\n      vec4 color = vec4(0, 0, 0, 0);\\n      for (float h = 0.0; h < 7.0; h+=1.0) {\\n        for (float w = 0.0; w < 7.0; w+=1.0) {\\n          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\\n          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\\n        }\\n      }\\n      gl_FragColor = color;\\n    }\\n    \",Convolute_7_0:\"\\n    precision highp float;\\n    uniform sampler2D uTexture;\\n    uniform float uMatrix[49];\\n    uniform float uStepW;\\n    uniform float uStepH;\\n    varying vec2 vTexCoord;\\n    void main() {\\n      vec4 color = vec4(0, 0, 0, 1);\\n      for (float h = 0.0; h < 7.0; h+=1.0) {\\n        for (float w = 0.0; w < 7.0; w+=1.0) {\\n          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\\n          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\\n        }\\n      }\\n      float alpha = texture2D(uTexture, vTexCoord).a;\\n      gl_FragColor = color;\\n      gl_FragColor.a = alpha;\\n    }\\n    \",Convolute_9_1:\"\\n    precision highp float;\\n    uniform sampler2D uTexture;\\n    uniform float uMatrix[81];\\n    uniform float uStepW;\\n    uniform float uStepH;\\n    varying vec2 vTexCoord;\\n    void main() {\\n      vec4 color = vec4(0, 0, 0, 0);\\n      for (float h = 0.0; h < 9.0; h+=1.0) {\\n        for (float w = 0.0; w < 9.0; w+=1.0) {\\n          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\\n          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\\n        }\\n      }\\n      gl_FragColor = color;\\n    }\\n    \",Convolute_9_0:\"\\n    precision highp float;\\n    uniform sampler2D uTexture;\\n    uniform float uMatrix[81];\\n    uniform float uStepW;\\n    uniform float uStepH;\\n    varying vec2 vTexCoord;\\n    void main() {\\n      vec4 color = vec4(0, 0, 0, 1);\\n      for (float h = 0.0; h < 9.0; h+=1.0) {\\n        for (float w = 0.0; w < 9.0; w+=1.0) {\\n          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\\n          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\\n        }\\n      }\\n      float alpha = texture2D(uTexture, vTexCoord).a;\\n      gl_FragColor = color;\\n      gl_FragColor.a = alpha;\\n    }\\n    \"};class ch extends Va{getCacheKey(){return\"\".concat(this.type,\"_\").concat(Math.sqrt(this.matrix.length),\"_\").concat(this.opaque?1:0)}getFragmentSource(){return hh[this.getCacheKey()]}applyTo2d(t){const e=t.imageData,s=e.data,i=this.matrix,r=Math.round(Math.sqrt(i.length)),n=Math.floor(r/2),o=e.width,a=e.height,h=t.ctx.createImageData(o,a),c=h.data,l=this.opaque?1:0;let u,d,g,f,p,m,v,y,_,x,C,b,S;for(C=0;C<a;C++)for(x=0;x<o;x++){for(p=4*(C*o+x),u=0,d=0,g=0,f=0,S=0;S<r;S++)for(b=0;b<r;b++)v=C+S-n,m=x+b-n,v<0||v>=a||m<0||m>=o||(y=4*(v*o+m),_=i[S*r+b],u+=s[y]*_,d+=s[y+1]*_,g+=s[y+2]*_,l||(f+=s[y+3]*_));c[p]=u,c[p+1]=d,c[p+2]=g,c[p+3]=l?s[p+3]:f}t.imageData=h}sendUniformData(t,e){t.uniform1fv(e.uMatrix,this.matrix)}toObject(){return s(s({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}}t(ch,\"type\",\"Convolute\"),t(ch,\"defaults\",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),t(ch,\"uniformLocations\",[\"uMatrix\",\"uOpaque\",\"uHalfSize\",\"uSize\"]),tt.setClass(ch);const lh=\"Gamma\";class uh extends Va{getFragmentSource(){return\"\\n  precision highp float;\\n  uniform sampler2D uTexture;\\n  uniform vec3 uGamma;\\n  varying vec2 vTexCoord;\\n  void main() {\\n    vec4 color = texture2D(uTexture, vTexCoord);\\n    vec3 correction = (1.0 / uGamma);\\n    color.r = pow(color.r, correction.r);\\n    color.g = pow(color.g, correction.g);\\n    color.b = pow(color.b, correction.b);\\n    gl_FragColor = color;\\n    gl_FragColor.rgb *= color.a;\\n  }\\n\"}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(t),this.gamma=t.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(t){let{imageData:{data:e}}=t;const s=this.gamma,i=1/s[0],r=1/s[1],n=1/s[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});const o=this.rgbValues;for(let t=0;t<256;t++)o.r[t]=255*Math.pow(t/255,i),o.g[t]=255*Math.pow(t/255,r),o.b[t]=255*Math.pow(t/255,n);for(let t=0;t<e.length;t+=4)e[t]=o.r[e[t]],e[t+1]=o.g[e[t+1]],e[t+2]=o.b[e[t+2]]}sendUniformData(t,e){t.uniform3fv(e.uGamma,this.gamma)}isNeutralState(){const{gamma:t}=this;return 1===t[0]&&1===t[1]&&1===t[2]}toObject(){return{type:lh,gamma:this.gamma.concat()}}}t(uh,\"type\",lh),t(uh,\"defaults\",{gamma:[1,1,1]}),t(uh,\"uniformLocations\",[\"uGamma\"]),tt.setClass(uh);const dh={average:\"\\n    precision highp float;\\n    uniform sampler2D uTexture;\\n    varying vec2 vTexCoord;\\n    void main() {\\n      vec4 color = texture2D(uTexture, vTexCoord);\\n      float average = (color.r + color.b + color.g) / 3.0;\\n      gl_FragColor = vec4(average, average, average, color.a);\\n    }\\n    \",lightness:\"\\n    precision highp float;\\n    uniform sampler2D uTexture;\\n    uniform int uMode;\\n    varying vec2 vTexCoord;\\n    void main() {\\n      vec4 col = texture2D(uTexture, vTexCoord);\\n      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\\n      gl_FragColor = vec4(average, average, average, col.a);\\n    }\\n    \",luminosity:\"\\n    precision highp float;\\n    uniform sampler2D uTexture;\\n    uniform int uMode;\\n    varying vec2 vTexCoord;\\n    void main() {\\n      vec4 col = texture2D(uTexture, vTexCoord);\\n      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\\n      gl_FragColor = vec4(average, average, average, col.a);\\n    }\\n    \"};class gh extends Va{applyTo2d(t){let{imageData:{data:e}}=t;for(let t,s=0;s<e.length;s+=4){const i=e[s],r=e[s+1],n=e[s+2];switch(this.mode){case\"average\":t=(i+r+n)/3;break;case\"lightness\":t=(Math.min(i,r,n)+Math.max(i,r,n))/2;break;case\"luminosity\":t=.21*i+.72*r+.07*n}e[s+2]=e[s+1]=e[s]=t}}getCacheKey(){return\"\".concat(this.type,\"_\").concat(this.mode)}getFragmentSource(){return dh[this.mode]}sendUniformData(t,e){t.uniform1i(e.uMode,1)}isNeutralState(){return!1}}t(gh,\"type\",\"Grayscale\"),t(gh,\"defaults\",{mode:\"average\"}),t(gh,\"uniformLocations\",[\"uMode\"]),tt.setClass(gh);const fh=s(s({},Ja),{},{rotation:0});class ph extends Qa{calculateMatrix(){const t=this.rotation*Math.PI,e=rt(t),s=nt(t),i=1/3,r=Math.sqrt(i)*s,n=1-e;this.matrix=[e+n/3,i*n-r,i*n+r,0,0,i*n+r,e+i*n,i*n-r,0,0,i*n-r,i*n+r,e+i*n,0,0,0,0,0,1,0]}isNeutralState(){return 0===this.rotation}applyTo(t){this.calculateMatrix(),super.applyTo(t)}toObject(){return{type:this.type,rotation:this.rotation}}}t(ph,\"type\",\"HueRotation\"),t(ph,\"defaults\",fh),tt.setClass(ph);class mh extends Va{applyTo2d(t){let{imageData:{data:e}}=t;for(let t=0;t<e.length;t+=4)e[t]=255-e[t],e[t+1]=255-e[t+1],e[t+2]=255-e[t+2],this.alpha&&(e[t+3]=255-e[t+3])}getFragmentSource(){return\"\\n  precision highp float;\\n  uniform sampler2D uTexture;\\n  uniform int uInvert;\\n  uniform int uAlpha;\\n  varying vec2 vTexCoord;\\n  void main() {\\n    vec4 color = texture2D(uTexture, vTexCoord);\\n    if (uInvert == 1) {\\n      if (uAlpha == 1) {\\n        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);\\n      } else {\\n        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\\n      }\\n    } else {\\n      gl_FragColor = color;\\n    }\\n  }\\n\"}isNeutralState(){return!this.invert}sendUniformData(t,e){t.uniform1i(e.uInvert,Number(this.invert)),t.uniform1i(e.uAlpha,Number(this.alpha))}}t(mh,\"type\",\"Invert\"),t(mh,\"defaults\",{alpha:!1,invert:!0}),t(mh,\"uniformLocations\",[\"uInvert\",\"uAlpha\"]),tt.setClass(mh);class vh extends Va{getFragmentSource(){return\"\\n  precision highp float;\\n  uniform sampler2D uTexture;\\n  uniform float uStepH;\\n  uniform float uNoise;\\n  uniform float uSeed;\\n  varying vec2 vTexCoord;\\n  float rand(vec2 co, float seed, float vScale) {\\n    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\\n  }\\n  void main() {\\n    vec4 color = texture2D(uTexture, vTexCoord);\\n    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\\n    gl_FragColor = color;\\n  }\\n\"}applyTo2d(t){let{imageData:{data:e}}=t;const s=this.noise;for(let t=0;t<e.length;t+=4){const i=(.5-Math.random())*s;e[t]+=i,e[t+1]+=i,e[t+2]+=i}}sendUniformData(t,e){t.uniform1f(e.uNoise,this.noise/255),t.uniform1f(e.uSeed,Math.random())}isNeutralState(){return 0===this.noise}}t(vh,\"type\",\"Noise\"),t(vh,\"defaults\",{noise:0}),t(vh,\"uniformLocations\",[\"uNoise\",\"uSeed\"]),tt.setClass(vh);class yh extends Va{applyTo2d(t){let{imageData:{data:e,width:s,height:i}}=t;for(let t=0;t<i;t+=this.blocksize)for(let r=0;r<s;r+=this.blocksize){const n=4*t*s+4*r,o=e[n],a=e[n+1],h=e[n+2],c=e[n+3];for(let n=t;n<Math.min(t+this.blocksize,i);n++)for(let t=r;t<Math.min(r+this.blocksize,s);t++){const i=4*n*s+4*t;e[i]=o,e[i+1]=a,e[i+2]=h,e[i+3]=c}}}isNeutralState(){return 1===this.blocksize}getFragmentSource(){return\"\\n  precision highp float;\\n  uniform sampler2D uTexture;\\n  uniform float uBlocksize;\\n  uniform float uStepW;\\n  uniform float uStepH;\\n  varying vec2 vTexCoord;\\n  void main() {\\n    float blockW = uBlocksize * uStepW;\\n    float blockH = uBlocksize * uStepH;\\n    int posX = int(vTexCoord.x / blockW);\\n    int posY = int(vTexCoord.y / blockH);\\n    float fposX = float(posX);\\n    float fposY = float(posY);\\n    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\\n    vec4 color = texture2D(uTexture, squareCoords);\\n    gl_FragColor = color;\\n  }\\n\"}sendUniformData(t,e){t.uniform1f(e.uBlocksize,this.blocksize)}}t(yh,\"type\",\"Pixelate\"),t(yh,\"defaults\",{blocksize:4}),t(yh,\"uniformLocations\",[\"uBlocksize\"]),tt.setClass(yh);class _h extends Va{getFragmentSource(){return\"\\nprecision highp float;\\nuniform sampler2D uTexture;\\nuniform vec4 uLow;\\nuniform vec4 uHigh;\\nvarying vec2 vTexCoord;\\nvoid main() {\\n  gl_FragColor = texture2D(uTexture, vTexCoord);\\n  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\\n    gl_FragColor.a = 0.0;\\n  }\\n}\\n\"}applyTo2d(t){let{imageData:{data:e}}=t;const s=255*this.distance,i=new Ie(this.color).getSource(),r=[i[0]-s,i[1]-s,i[2]-s],n=[i[0]+s,i[1]+s,i[2]+s];for(let t=0;t<e.length;t+=4){const s=e[t],i=e[t+1],o=e[t+2];s>r[0]&&i>r[1]&&o>r[2]&&s<n[0]&&i<n[1]&&o<n[2]&&(e[t+3]=0)}}sendUniformData(t,e){const s=new Ie(this.color).getSource(),i=this.distance,r=[0+s[0]/255-i,0+s[1]/255-i,0+s[2]/255-i,1],n=[s[0]/255+i,s[1]/255+i,s[2]/255+i,1];t.uniform4fv(e.uLow,r),t.uniform4fv(e.uHigh,n)}}t(_h,\"type\",\"RemoveColor\"),t(_h,\"defaults\",{color:\"#FFFFFF\",distance:.02,useAlpha:!1}),t(_h,\"uniformLocations\",[\"uLow\",\"uHigh\"]),tt.setClass(_h);class xh extends Va{sendUniformData(t,e){t.uniform2fv(e.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),t.uniform1fv(e.uTaps,this.taps)}getFilterWindow(){const t=this.tempScale;return Math.ceil(this.lanczosLobes/t)}getCacheKey(){const t=this.getFilterWindow();return\"\".concat(this.type,\"_\").concat(t)}getFragmentSource(){const t=this.getFilterWindow();return this.generateShader(t)}getTaps(){const t=this.lanczosCreate(this.lanczosLobes),e=this.tempScale,s=this.getFilterWindow(),i=new Array(s);for(let r=1;r<=s;r++)i[r-1]=t(r*e);return i}generateShader(t){const e=new Array(t);for(let s=1;s<=t;s++)e[s-1]=\"\".concat(s,\".0 * uDelta\");return\"\\n      precision highp float;\\n      uniform sampler2D uTexture;\\n      uniform vec2 uDelta;\\n      varying vec2 vTexCoord;\\n      uniform float uTaps[\".concat(t,\"];\\n      void main() {\\n        vec4 color = texture2D(uTexture, vTexCoord);\\n        float sum = 1.0;\\n        \").concat(e.map(((t,e)=>\"\\n              color += texture2D(uTexture, vTexCoord + \".concat(t,\") * uTaps[\").concat(e,\"] + texture2D(uTexture, vTexCoord - \").concat(t,\") * uTaps[\").concat(e,\"];\\n              sum += 2.0 * uTaps[\").concat(e,\"];\\n            \"))).join(\"\\n\"),\"\\n        gl_FragColor = color / sum;\\n      }\\n    \")}applyToForWebgl(t){t.passes++,this.width=t.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=t.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),t.destinationWidth=this.dW,super.applyTo(t),t.sourceWidth=t.destinationWidth,this.height=t.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),t.destinationHeight=this.dH,super.applyTo(t),t.sourceHeight=t.destinationHeight}applyTo(t){La(t)?this.applyToForWebgl(t):this.applyTo2d(t)}isNeutralState(){return 1===this.scaleX&&1===this.scaleY}lanczosCreate(t){return e=>{if(e>=t||e<=-t)return 0;if(e<1.1920929e-7&&e>-1.1920929e-7)return 1;const s=(e*=Math.PI)/t;return Math.sin(e)/e*Math.sin(s)/s}}applyTo2d(t){const e=t.imageData,s=this.scaleX,i=this.scaleY;this.rcpScaleX=1/s,this.rcpScaleY=1/i;const r=e.width,n=e.height,o=Math.round(r*s),a=Math.round(n*i);let h;h=\"sliceHack\"===this.resizeType?this.sliceByTwo(t,r,n,o,a):\"hermite\"===this.resizeType?this.hermiteFastResize(t,r,n,o,a):\"bilinear\"===this.resizeType?this.bilinearFiltering(t,r,n,o,a):\"lanczos\"===this.resizeType?this.lanczosResize(t,r,n,o,a):new ImageData(o,a),t.imageData=h}sliceByTwo(t,e,s,i,r){const n=t.imageData,o=.5;let a=!1,h=!1,c=e*o,l=s*o;const u=t.filterBackend.resources;let d=0,g=0;const f=e;let p=0;u.sliceByTwo||(u.sliceByTwo=pt());const m=u.sliceByTwo;(m.width<1.5*e||m.height<s)&&(m.width=1.5*e,m.height=s);const v=m.getContext(\"2d\");for(v.clearRect(0,0,1.5*e,s),v.putImageData(n,0,0),i=Math.floor(i),r=Math.floor(r);!a||!h;)e=c,s=l,i<Math.floor(c*o)?c=Math.floor(c*o):(c=i,a=!0),r<Math.floor(l*o)?l=Math.floor(l*o):(l=r,h=!0),v.drawImage(m,d,g,e,s,f,p,c,l),d=f,g=p,p+=l;return v.getImageData(d,g,i,r)}lanczosResize(t,e,s,i,r){const n=t.imageData.data,o=t.ctx.createImageData(i,r),a=o.data,h=this.lanczosCreate(this.lanczosLobes),c=this.rcpScaleX,l=this.rcpScaleY,u=2/this.rcpScaleX,d=2/this.rcpScaleY,g=Math.ceil(c*this.lanczosLobes/2),f=Math.ceil(l*this.lanczosLobes/2),p={},m={x:0,y:0},v={x:0,y:0};return function t(y){let _,x,C,b,S,w,T,O,k,D,M;for(m.x=(y+.5)*c,v.x=Math.floor(m.x),_=0;_<r;_++){for(m.y=(_+.5)*l,v.y=Math.floor(m.y),S=0,w=0,T=0,O=0,k=0,x=v.x-g;x<=v.x+g;x++)if(!(x<0||x>=e)){D=Math.floor(1e3*Math.abs(x-m.x)),p[D]||(p[D]={});for(let t=v.y-f;t<=v.y+f;t++)t<0||t>=s||(M=Math.floor(1e3*Math.abs(t-m.y)),p[D][M]||(p[D][M]=h(Math.sqrt(Math.pow(D*u,2)+Math.pow(M*d,2))/1e3)),C=p[D][M],C>0&&(b=4*(t*e+x),S+=C,w+=C*n[b],T+=C*n[b+1],O+=C*n[b+2],k+=C*n[b+3]))}b=4*(_*i+y),a[b]=w/S,a[b+1]=T/S,a[b+2]=O/S,a[b+3]=k/S}return++y<i?t(y):o}(0)}bilinearFiltering(t,e,s,i,r){let n,o,a,h,c,l,u,d,g,f,p,m,v,y=0;const _=this.rcpScaleX,x=this.rcpScaleY,C=4*(e-1),b=t.imageData.data,S=t.ctx.createImageData(i,r),w=S.data;for(u=0;u<r;u++)for(d=0;d<i;d++)for(c=Math.floor(_*d),l=Math.floor(x*u),g=_*d-c,f=x*u-l,v=4*(l*e+c),p=0;p<4;p++)n=b[v+p],o=b[v+4+p],a=b[v+C+p],h=b[v+C+4+p],m=n*(1-g)*(1-f)+o*g*(1-f)+a*f*(1-g)+h*g*f,w[y++]=m;return S}hermiteFastResize(t,e,s,i,r){const n=this.rcpScaleX,o=this.rcpScaleY,a=Math.ceil(n/2),h=Math.ceil(o/2),c=t.imageData.data,l=t.ctx.createImageData(i,r),u=l.data;for(let t=0;t<r;t++)for(let s=0;s<i;s++){const r=4*(s+t*i);let l=0,d=0,g=0,f=0,p=0,m=0,v=0;const y=(t+.5)*o;for(let i=Math.floor(t*o);i<(t+1)*o;i++){const t=Math.abs(y-(i+.5))/h,r=(s+.5)*n,o=t*t;for(let t=Math.floor(s*n);t<(s+1)*n;t++){let s=Math.abs(r-(t+.5))/a;const n=Math.sqrt(o+s*s);n>1&&n<-1||(l=2*n*n*n-3*n*n+1,l>0&&(s=4*(t+i*e),v+=l*c[s+3],g+=l,c[s+3]<255&&(l=l*c[s+3]/250),f+=l*c[s],p+=l*c[s+1],m+=l*c[s+2],d+=l))}}u[r]=f/d,u[r+1]=p/d,u[r+2]=m/d,u[r+3]=v/g}return l}}t(xh,\"type\",\"Resize\"),t(xh,\"defaults\",{resizeType:\"hermite\",scaleX:1,scaleY:1,lanczosLobes:3}),t(xh,\"uniformLocations\",[\"uDelta\",\"uTaps\"]),tt.setClass(xh);class Ch extends Va{getFragmentSource(){return\"\\n  precision highp float;\\n  uniform sampler2D uTexture;\\n  uniform float uSaturation;\\n  varying vec2 vTexCoord;\\n  void main() {\\n    vec4 color = texture2D(uTexture, vTexCoord);\\n    float rgMax = max(color.r, color.g);\\n    float rgbMax = max(rgMax, color.b);\\n    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\\n    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\\n    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\\n    gl_FragColor = color;\\n  }\\n\"}applyTo2d(t){let{imageData:{data:e}}=t;const s=-this.saturation;for(let t=0;t<e.length;t+=4){const i=e[t],r=e[t+1],n=e[t+2],o=Math.max(i,r,n);e[t]+=o!==i?(o-i)*s:0,e[t+1]+=o!==r?(o-r)*s:0,e[t+2]+=o!==n?(o-n)*s:0}}sendUniformData(t,e){t.uniform1f(e.uSaturation,-this.saturation)}isNeutralState(){return 0===this.saturation}}t(Ch,\"type\",\"Saturation\"),t(Ch,\"defaults\",{saturation:0}),t(Ch,\"uniformLocations\",[\"uSaturation\"]),tt.setClass(Ch);class bh extends Va{getFragmentSource(){return\"\\n  precision highp float;\\n  uniform sampler2D uTexture;\\n  uniform float uVibrance;\\n  varying vec2 vTexCoord;\\n  void main() {\\n    vec4 color = texture2D(uTexture, vTexCoord);\\n    float max = max(color.r, max(color.g, color.b));\\n    float avg = (color.r + color.g + color.b) / 3.0;\\n    float amt = (abs(max - avg) * 2.0) * uVibrance;\\n    color.r += max != color.r ? (max - color.r) * amt : 0.00;\\n    color.g += max != color.g ? (max - color.g) * amt : 0.00;\\n    color.b += max != color.b ? (max - color.b) * amt : 0.00;\\n    gl_FragColor = color;\\n  }\\n\"}applyTo2d(t){let{imageData:{data:e}}=t;const s=-this.vibrance;for(let t=0;t<e.length;t+=4){const i=e[t],r=e[t+1],n=e[t+2],o=Math.max(i,r,n),a=(i+r+n)/3,h=2*Math.abs(o-a)/255*s;e[t]+=o!==i?(o-i)*h:0,e[t+1]+=o!==r?(o-r)*h:0,e[t+2]+=o!==n?(o-n)*h:0}}sendUniformData(t,e){t.uniform1f(e.uVibrance,-this.vibrance)}isNeutralState(){return 0===this.vibrance}}t(bh,\"type\",\"Vibrance\"),t(bh,\"defaults\",{vibrance:0}),t(bh,\"uniformLocations\",[\"uVibrance\"]),tt.setClass(bh);var Sh=Object.freeze({__proto__:null,BaseFilter:Va,BlackWhite:nh,BlendColor:Ga,BlendImage:Ua,Blur:qa,Brightness:Ka,Brownie:$a,ColorMatrix:Qa,Composed:oh,Contrast:ah,Convolute:ch,Gamma:uh,Grayscale:gh,HueRotation:ph,Invert:mh,Kodachrome:eh,Noise:vh,Pixelate:yh,Polaroid:ih,RemoveColor:_h,Resize:xh,Saturation:Ch,Sepia:rh,Technicolor:sh,Vibrance:bh,Vintage:th});\n//# sourceMappingURL=index.min.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9mYWJyaWMvZGlzdC9pbmRleC5taW4ubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGtCQUFrQixxQkFBcUIsb0JBQW9CLG1DQUFtQyw0QkFBNEIsZUFBZSw2QkFBNkIsK0JBQStCLG9FQUFvRSxzQ0FBc0MsYUFBYSxnQ0FBZ0Msb0NBQW9DLGtEQUFrRCxXQUFXLGdCQUFnQixxQkFBcUIsaUNBQWlDLHNDQUFzQyw0QkFBNEIsdURBQXVELHNCQUFzQixTQUFTLGNBQWMsWUFBWSxtQkFBbUIsS0FBSyx5Q0FBeUMseUNBQXlDLFlBQVkscUlBQXFJLGdFQUFnRSxHQUFHLFNBQVMsZ0JBQWdCLG9CQUFvQix3QkFBd0Isb0JBQW9CLFNBQVMsb0JBQW9CLDJCQUEyQiw0QkFBNEIsVUFBVSxTQUFTLE1BQU0saUNBQWlDLHNDQUFzQyxRQUFRLFdBQVcsOEJBQThCLDZDQUE2QyxTQUFTLGdCQUFnQixrRUFBa0UsS0FBSyx3QkFBd0IsR0FBRyxRQUFRLGNBQWMsaWFBQWlhLG1DQUFtQyw0QkFBNEIsZUFBZSwwQkFBMEIsWUFBWSxnRUFBZ0Usc0JBQXNCLFdBQVcsZ0VBQWdFLHFCQUFxQixvQkFBb0IsY0FBYyx5RUFBeUUseUJBQXlCLEdBQUcsYUFBYSxrQkFBa0IsbUJBQW1CLGtFQUFrRSxNQUFNLG1CQUFtQixlQUFlLHNEQUFzRCxJQUFJLHdCQUF3QixrQ0FBa0Msc0JBQXNCLGlCQUFpQiwrQkFBK0Isa0JBQWtCLGVBQWUsK0RBQStELFNBQVMsa0JBQWtCLG1CQUFtQixzQ0FBc0MsZUFBZSx1Q0FBdUMsK0ZBQStGLGNBQWMsOEJBQThCLDhQQUE4UCxlQUFlLHFEQUFxRCxXQUFXLE1BQU0sWUFBWSxJQUFJLGNBQWMsNkxBQTZMLGlCQUFpQiw2Q0FBNkMsTUFBTSxxRkFBcUYsa0JBQWtCLGNB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b1QiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbmljaG9sYXMubGVlXFxEb2N1bWVudHNcXHpcXFRpY2tldGluZ19OaWNrXFxUaWNrZXRpbmdcXHRhdl9vcGVuc291cmNlXFx1aVxcbm9kZV9tb2R1bGVzXFxmYWJyaWNcXGRpc3RcXGluZGV4Lm1pbi5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gdCh0LGUscyl7cmV0dXJuKGU9ZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgdHx8IXQpcmV0dXJuIHQ7dmFyIHM9dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PXMpe3ZhciBpPXMuY2FsbCh0LGV8fFwiZGVmYXVsdFwiKTtpZihcIm9iamVjdFwiIT10eXBlb2YgaSlyZXR1cm4gaTt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT1lP1N0cmluZzpOdW1iZXIpKHQpfSh0LFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PXR5cGVvZiBlP2U6ZStcIlwifShlKSlpbiB0P09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse3ZhbHVlOnMsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTp0W2VdPXMsdH1mdW5jdGlvbiBlKHQsZSl7dmFyIHM9T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIGk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYoaT1pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKS5lbnVtZXJhYmxlfSkpKSxzLnB1c2guYXBwbHkocyxpKX1yZXR1cm4gc31mdW5jdGlvbiBzKHMpe2Zvcih2YXIgaT0xO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspe3ZhciByPW51bGwhPWFyZ3VtZW50c1tpXT9hcmd1bWVudHNbaV06e307aSUyP2UoT2JqZWN0KHIpLCEwKS5mb3JFYWNoKChmdW5jdGlvbihlKXt0KHMsZSxyW2VdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhzLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHIpKTplKE9iamVjdChyKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHMsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsdCkpfSkpfXJldHVybiBzfWZ1bmN0aW9uIGkodCxlKXtpZihudWxsPT10KXJldHVybnt9O3ZhciBzLGkscj1mdW5jdGlvbih0LGUpe2lmKG51bGw9PXQpcmV0dXJue307dmFyIHM9e307Zm9yKHZhciBpIGluIHQpaWYoe30uaGFzT3duUHJvcGVydHkuY2FsbCh0LGkpKXtpZihlLmluZGV4T2YoaSk+PTApY29udGludWU7c1tpXT10W2ldfXJldHVybiBzfSh0LGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7Zm9yKGk9MDtpPG4ubGVuZ3RoO2krKylzPW5baV0sZS5pbmRleE9mKHMpPj0wfHx7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHQscykmJihyW3NdPXRbc10pfXJldHVybiByfWZ1bmN0aW9uIHIodCxlKXtyZXR1cm4gZXx8KGU9dC5zbGljZSgwKSksT2JqZWN0LmZyZWV6ZShPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LHtyYXc6e3ZhbHVlOk9iamVjdC5mcmVlemUoZSl9fSkpfWNsYXNzIG57Y29uc3RydWN0b3IoKXt0KHRoaXMsXCJicm93c2VyU2hhZG93Qmx1ckNvbnN0YW50XCIsMSksdCh0aGlzLFwiRFBJXCIsOTYpLHQodGhpcyxcImRldmljZVBpeGVsUmF0aW9cIixcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdy5kZXZpY2VQaXhlbFJhdGlvOjEpLHQodGhpcyxcInBlcmZMaW1pdFNpemVUb3RhbFwiLDIwOTcxNTIpLHQodGhpcyxcIm1heENhY2hlU2lkZUxpbWl0XCIsNDA5NiksdCh0aGlzLFwibWluQ2FjaGVTaWRlTGltaXRcIiwyNTYpLHQodGhpcyxcImRpc2FibGVTdHlsZUNvcHlQYXN0ZVwiLCExKSx0KHRoaXMsXCJlbmFibGVHTEZpbHRlcmluZ1wiLCEwKSx0KHRoaXMsXCJ0ZXh0dXJlU2l6ZVwiLDQwOTYpLHQodGhpcyxcImZvcmNlR0xQdXRJbWFnZURhdGFcIiwhMSksdCh0aGlzLFwiY2FjaGVzQm91bmRzT2ZDdXJ2ZVwiLCExKSx0KHRoaXMsXCJmb250UGF0aHNcIix7fSksdCh0aGlzLFwiTlVNX0ZSQUNUSU9OX0RJR0lUU1wiLDQpfX1jb25zdCBvPW5ldyBjbGFzcyBleHRlbmRzIG57Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLmNvbmZpZ3VyZSh0KX1jb25maWd1cmUoKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307T2JqZWN0LmFzc2lnbih0aGlzLHQpfWFkZEZvbnRzKCl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3RoaXMuZm9udFBhdGhzPXMocyh7fSx0aGlzLmZvbnRQYXRocyksdCl9cmVtb3ZlRm9udHMoKXsoYXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOltdKS5mb3JFYWNoKCh0PT57ZGVsZXRlIHRoaXMuZm9udFBhdGhzW3RdfSkpfWNsZWFyRm9udHMoKXt0aGlzLmZvbnRQYXRocz17fX1yZXN0b3JlRGVmYXVsdHModCl7Y29uc3QgZT1uZXcgbixzPShudWxsPT10P3ZvaWQgMDp0LnJlZHVjZSgoKHQscyk9Pih0W3NdPWVbc10sdCkpLHt9KSl8fGU7dGhpcy5jb25maWd1cmUocyl9fSxhPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHM9bmV3IEFycmF5KGU+MT9lLTE6MCksaT0xO2k8ZTtpKyspc1tpLTFdPWFyZ3VtZW50c1tpXTtyZXR1cm4gY29uc29sZVt0XShcImZhYnJpY1wiLC4uLnMpfTtjbGFzcyBoIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IodCxlKXtzdXBlcihcImZhYnJpYzogXCIuY29uY2F0KHQpLGUpfX1jbGFzcyBjIGV4dGVuZHMgaHtjb25zdHJ1Y3Rvcih0KXtzdXBlcihcIlwiLmNvbmNhdCh0LFwiICdvcHRpb25zLnNpZ25hbCcgaXMgaW4gJ2Fib3J0ZWQnIHN0YXRlXCIpKX19Y2xhc3MgbHt9Y2xhc3MgdSBleHRlbmRzIGx7dGVzdFByZWNpc2lvbih0LGUpe2NvbnN0IHM9XCJwcmVjaXNpb24gXCIuY29uY2F0KGUsXCIgZmxvYXQ7XFxudm9pZCBtYWluKCl7fVwiKSxpPXQuY3JlYXRlU2hhZGVyKHQuRlJBR01FTlRfU0hBREVSKTtyZXR1cm4hIWkmJih0LnNoYWRlclNvdXJjZShpLHMpLHQuY29tcGlsZVNoYWRlcihpKSwhIXQuZ2V0U2hhZGVyUGFyYW1ldGVyKGksdC5DT01QSUxFX1NUQVRVUykpfXF1ZXJ5V2ViR0wodCl7Y29uc3QgZT10LmdldENvbnRleHQoXCJ3ZWJnbFwiKTtlJiYodGhpcy5tYXhUZXh0dXJlU2l6ZT1lLmdldFBhcmFtZXRlcihlLk1BWF9URVhUVVJFX1NJWkUpLHRoaXMuR0xQcmVjaXNpb249W1wiaGlnaHBcIixcIm1lZGl1bXBcIixcImxvd3BcIl0uZmluZCgodD0+dGhpcy50ZXN0UHJlY2lzaW9uKGUsdCkpKSxlLmdldEV4dGVuc2lvbihcIldFQkdMX2xvc2VfY29udGV4dFwiKS5sb3NlQ29udGV4dCgpLGEoXCJsb2dcIixcIldlYkdMOiBtYXggdGV4dHVyZSBzaXplIFwiLmNvbmNhdCh0aGlzLm1heFRleHR1cmVTaXplKSkpfWlzU3VwcG9ydGVkKHQpe3JldHVybiEhdGhpcy5tYXhUZXh0dXJlU2l6ZSYmdGhpcy5tYXhUZXh0dXJlU2l6ZT49dH19Y29uc3QgZD17fTtsZXQgZztjb25zdCBmPXQ9PntnPXR9LHA9KCk9Pmd8fChnPXtkb2N1bWVudDpkb2N1bWVudCx3aW5kb3c6d2luZG93LGlzVG91Y2hTdXBwb3J0ZWQ6XCJvbnRvdWNoc3RhcnRcImluIHdpbmRvd3x8XCJvbnRvdWNoc3RhcnRcImluIGRvY3VtZW50fHx3aW5kb3cmJndpbmRvdy5uYXZpZ2F0b3ImJndpbmRvdy5uYXZpZ2F0b3IubWF4VG91Y2hQb2ludHM+MCxXZWJHTFByb2JlOm5ldyB1LGRpc3Bvc2UoKXt9LGNvcHlQYXN0ZURhdGE6ZH0pLG09KCk9PnAoKS5kb2N1bWVudCx2PSgpPT5wKCkud2luZG93LHk9KCk9Pnt2YXIgdDtyZXR1cm4gTWF0aC5tYXgobnVsbCE9PSh0PW8uZGV2aWNlUGl4ZWxSYXRpbykmJnZvaWQgMCE9PXQ/dDp2KCkuZGV2aWNlUGl4ZWxSYXRpbywxKX07Y29uc3QgXz1uZXcgY2xhc3N7Y29uc3RydWN0b3IoKXt0KHRoaXMsXCJib3VuZHNPZkN1cnZlQ2FjaGVcIix7fSksdGhpcy5jaGFyV2lkdGhzQ2FjaGU9bmV3IE1hcH1nZXRGb250Q2FjaGUodCl7bGV0e2ZvbnRGYW1pbHk6ZSxmb250U3R5bGU6cyxmb250V2VpZ2h0Oml9PXQ7ZT1lLnRvTG93ZXJDYXNlKCk7Y29uc3Qgcj10aGlzLmNoYXJXaWR0aHNDYWNoZTtyLmhhcyhlKXx8ci5zZXQoZSxuZXcgTWFwKTtjb25zdCBuPXIuZ2V0KGUpLG89XCJcIi5jb25jYXQocy50b0xvd2VyQ2FzZSgpLFwiX1wiKS5jb25jYXQoKGkrXCJcIikudG9Mb3dlckNhc2UoKSk7cmV0dXJuIG4uaGFzKG8pfHxuLnNldChvLG5ldyBNYXApLG4uZ2V0KG8pfWNsZWFyRm9udENhY2hlKHQpe3Q/dGhpcy5jaGFyV2lkdGhzQ2FjaGUuZGVsZXRlKCh0fHxcIlwiKS50b0xvd2VyQ2FzZSgpKTp0aGlzLmNoYXJXaWR0aHNDYWNoZT1uZXcgTWFwfWxpbWl0RGltc0J5QXJlYSh0KXtjb25zdHtwZXJmTGltaXRTaXplVG90YWw6ZX09byxzPU1hdGguc3FydChlKnQpO3JldHVybltNYXRoLmZsb29yKHMpLE1hdGguZmxvb3IoZS9zKV19fTtjb25zdCB4PVwiNi45LjBcIjtmdW5jdGlvbiBDKCl7fWNvbnN0IGI9TWF0aC5QSS8yLFM9MipNYXRoLlBJLHc9TWF0aC5QSS8xODAsVD1PYmplY3QuZnJlZXplKFsxLDAsMCwxLDAsMF0pLE89MTYsaz0uNDQ3NzE1MjUwMixEPVwiY2VudGVyXCIsTT1cImxlZnRcIixQPVwidG9wXCIsRT1cImJvdHRvbVwiLEE9XCJyaWdodFwiLGo9XCJub25lXCIsRj0vXFxyP1xcbi8sTD1cIm1vdmluZ1wiLFI9XCJzY2FsaW5nXCIsST1cInJvdGF0aW5nXCIsQj1cInJvdGF0ZVwiLFg9XCJza2V3aW5nXCIsWT1cInJlc2l6aW5nXCIsVz1cIm1vZGlmeVBvbHlcIixWPVwibW9kaWZ5UGF0aFwiLHo9XCJjaGFuZ2VkXCIsRz1cInNjYWxlXCIsSD1cInNjYWxlWFwiLE49XCJzY2FsZVlcIixVPVwic2tld1hcIixxPVwic2tld1lcIixLPVwiZmlsbFwiLEo9XCJzdHJva2VcIixRPVwibW9kaWZpZWRcIixaPVwianNvblwiLCQ9XCJzdmdcIjtjb25zdCB0dD1uZXcgY2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzW1pdPW5ldyBNYXAsdGhpc1skXT1uZXcgTWFwfWhhcyh0KXtyZXR1cm4gdGhpc1taXS5oYXModCl9Z2V0Q2xhc3ModCl7Y29uc3QgZT10aGlzW1pdLmdldCh0KTtpZighZSl0aHJvdyBuZXcgaChcIk5vIGNsYXNzIHJlZ2lzdGVyZWQgZm9yIFwiLmNvbmNhdCh0KSk7cmV0dXJuIGV9c2V0Q2xhc3ModCxlKXtlP3RoaXNbWl0uc2V0KGUsdCk6KHRoaXNbWl0uc2V0KHQudHlwZSx0KSx0aGlzW1pdLnNldCh0LnR5cGUudG9Mb3dlckNhc2UoKSx0KSl9Z2V0U1ZHQ2xhc3ModCl7cmV0dXJuIHRoaXNbJF0uZ2V0KHQpfXNldFNWR0NsYXNzKHQsZSl7dGhpc1skXS5zZXQobnVsbCE9ZT9lOnQudHlwZS50b0xvd2VyQ2FzZSgpLHQpfX07Y29uc3QgZXQ9bmV3IGNsYXNzIGV4dGVuZHMgQXJyYXl7cmVtb3ZlKHQpe2NvbnN0IGU9dGhpcy5pbmRleE9mKHQpO2U+LTEmJnRoaXMuc3BsaWNlKGUsMSl9Y2FuY2VsQWxsKCl7Y29uc3QgdD10aGlzLnNwbGljZSgwKTtyZXR1cm4gdC5mb3JFYWNoKCh0PT50LmFib3J0KCkpKSx0fWNhbmNlbEJ5Q2FudmFzKHQpe2lmKCF0KXJldHVybltdO2NvbnN0IGU9dGhpcy5maWx0ZXIoKGU9Pnt2YXIgcztyZXR1cm4gZS50YXJnZXQ9PT10fHxcIm9iamVjdFwiPT10eXBlb2YgZS50YXJnZXQmJihudWxsPT09KHM9ZS50YXJnZXQpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLmNhbnZhcyk9PT10fSkpO3JldHVybiBlLmZvckVhY2goKHQ9PnQuYWJvcnQoKSkpLGV9Y2FuY2VsQnlUYXJnZXQodCl7aWYoIXQpcmV0dXJuW107Y29uc3QgZT10aGlzLmZpbHRlcigoZT0+ZS50YXJnZXQ9PT10KSk7cmV0dXJuIGUuZm9yRWFjaCgodD0+dC5hYm9ydCgpKSksZX19O2NsYXNzIHN0e2NvbnN0cnVjdG9yKCl7dCh0aGlzLFwiX19ldmVudExpc3RlbmVyc1wiLHt9KX1vbih0LGUpe2lmKHRoaXMuX19ldmVudExpc3RlbmVyc3x8KHRoaXMuX19ldmVudExpc3RlbmVycz17fSksXCJvYmplY3RcIj09dHlwZW9mIHQpcmV0dXJuIE9iamVjdC5lbnRyaWVzKHQpLmZvckVhY2goKHQ9PntsZXRbZSxzXT10O3RoaXMub24oZSxzKX0pKSwoKT0+dGhpcy5vZmYodCk7aWYoZSl7Y29uc3Qgcz10O3JldHVybiB0aGlzLl9fZXZlbnRMaXN0ZW5lcnNbc118fCh0aGlzLl9fZXZlbnRMaXN0ZW5lcnNbc109W10pLHRoaXMuX19ldmVudExpc3RlbmVyc1tzXS5wdXNoKGUpLCgpPT50aGlzLm9mZihzLGUpfXJldHVybigpPT4hMX1vbmNlKHQsZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIHQpe2NvbnN0IGU9W107cmV0dXJuIE9iamVjdC5lbnRyaWVzKHQpLmZvckVhY2goKHQ9PntsZXRbcyxpXT10O2UucHVzaCh0aGlzLm9uY2UocyxpKSl9KSksKCk9PmUuZm9yRWFjaCgodD0+dCgpKSl9aWYoZSl7Y29uc3Qgcz10aGlzLm9uKHQsKGZ1bmN0aW9uKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcgQXJyYXkodCkscj0wO3I8dDtyKyspaVtyXT1hcmd1bWVudHNbcl07ZS5jYWxsKHRoaXMsLi4uaSkscygpfSkpO3JldHVybiBzfXJldHVybigpPT4hMX1fcmVtb3ZlRXZlbnRMaXN0ZW5lcih0LGUpe2lmKHRoaXMuX19ldmVudExpc3RlbmVyc1t0XSlpZihlKXtjb25zdCBzPXRoaXMuX19ldmVudExpc3RlbmVyc1t0XSxpPXMuaW5kZXhPZihlKTtpPi0xJiZzLnNwbGljZShpLDEpfWVsc2UgdGhpcy5fX2V2ZW50TGlzdGVuZXJzW3RdPVtdfW9mZih0LGUpe2lmKHRoaXMuX19ldmVudExpc3RlbmVycylpZih2b2lkIDA9PT10KWZvcihjb25zdCB0IGluIHRoaXMuX19ldmVudExpc3RlbmVycyl0aGlzLl9yZW1vdmVFdmVudExpc3RlbmVyKHQpO2Vsc2VcIm9iamVjdFwiPT10eXBlb2YgdD9PYmplY3QuZW50cmllcyh0KS5mb3JFYWNoKCh0PT57bGV0W2Usc109dDt0aGlzLl9yZW1vdmVFdmVudExpc3RlbmVyKGUscyl9KSk6dGhpcy5fcmVtb3ZlRXZlbnRMaXN0ZW5lcih0LGUpfWZpcmUodCxlKXt2YXIgcztpZighdGhpcy5fX2V2ZW50TGlzdGVuZXJzKXJldHVybjtjb25zdCBpPW51bGw9PT0ocz10aGlzLl9fZXZlbnRMaXN0ZW5lcnNbdF0pfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLmNvbmNhdCgpO2lmKGkpZm9yKGxldCB0PTA7dDxpLmxlbmd0aDt0KyspaVt0XS5jYWxsKHRoaXMsZXx8e30pfX1jb25zdCBpdD0odCxlKT0+e2NvbnN0IHM9dC5pbmRleE9mKGUpO3JldHVybi0xIT09cyYmdC5zcGxpY2UocywxKSx0fSxydD10PT57aWYoMD09PXQpcmV0dXJuIDE7c3dpdGNoKE1hdGguYWJzKHQpL2Ipe2Nhc2UgMTpjYXNlIDM6cmV0dXJuIDA7Y2FzZSAyOnJldHVybi0xfXJldHVybiBNYXRoLmNvcyh0KX0sbnQ9dD0+e2lmKDA9PT10KXJldHVybiAwO2NvbnN0IGU9dC9iLHM9TWF0aC5zaWduKHQpO3N3aXRjaChlKXtjYXNlIDE6cmV0dXJuIHM7Y2FzZSAyOnJldHVybiAwO2Nhc2UgMzpyZXR1cm4tc31yZXR1cm4gTWF0aC5zaW4odCl9O2NsYXNzIG90e2NvbnN0cnVjdG9yKCl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjAsZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MDtcIm9iamVjdFwiPT10eXBlb2YgdD8odGhpcy54PXQueCx0aGlzLnk9dC55KToodGhpcy54PXQsdGhpcy55PWUpfWFkZCh0KXtyZXR1cm4gbmV3IG90KHRoaXMueCt0LngsdGhpcy55K3QueSl9YWRkRXF1YWxzKHQpe3JldHVybiB0aGlzLngrPXQueCx0aGlzLnkrPXQueSx0aGlzfXNjYWxhckFkZCh0KXtyZXR1cm4gbmV3IG90KHRoaXMueCt0LHRoaXMueSt0KX1zY2FsYXJBZGRFcXVhbHModCl7cmV0dXJuIHRoaXMueCs9dCx0aGlzLnkrPXQsdGhpc31zdWJ0cmFjdCh0KXtyZXR1cm4gbmV3IG90KHRoaXMueC10LngsdGhpcy55LXQueSl9c3VidHJhY3RFcXVhbHModCl7cmV0dXJuIHRoaXMueC09dC54LHRoaXMueS09dC55LHRoaXN9c2NhbGFyU3VidHJhY3QodCl7cmV0dXJuIG5ldyBvdCh0aGlzLngtdCx0aGlzLnktdCl9c2NhbGFyU3VidHJhY3RFcXVhbHModCl7cmV0dXJuIHRoaXMueC09dCx0aGlzLnktPXQsdGhpc31tdWx0aXBseSh0KXtyZXR1cm4gbmV3IG90KHRoaXMueCp0LngsdGhpcy55KnQueSl9c2NhbGFyTXVsdGlwbHkodCl7cmV0dXJuIG5ldyBvdCh0aGlzLngqdCx0aGlzLnkqdCl9c2NhbGFyTXVsdGlwbHlFcXVhbHModCl7cmV0dXJuIHRoaXMueCo9dCx0aGlzLnkqPXQsdGhpc31kaXZpZGUodCl7cmV0dXJuIG5ldyBvdCh0aGlzLngvdC54LHRoaXMueS90LnkpfXNjYWxhckRpdmlkZSh0KXtyZXR1cm4gbmV3IG90KHRoaXMueC90LHRoaXMueS90KX1zY2FsYXJEaXZpZGVFcXVhbHModCl7cmV0dXJuIHRoaXMueC89dCx0aGlzLnkvPXQsdGhpc31lcSh0KXtyZXR1cm4gdGhpcy54PT09dC54JiZ0aGlzLnk9PT10Lnl9bHQodCl7cmV0dXJuIHRoaXMueDx0LngmJnRoaXMueTx0Lnl9bHRlKHQpe3JldHVybiB0aGlzLng8PXQueCYmdGhpcy55PD10Lnl9Z3QodCl7cmV0dXJuIHRoaXMueD50LngmJnRoaXMueT50Lnl9Z3RlKHQpe3JldHVybiB0aGlzLng+PXQueCYmdGhpcy55Pj10Lnl9bGVycCh0KXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06LjU7cmV0dXJuIGU9TWF0aC5tYXgoTWF0aC5taW4oMSxlKSwwKSxuZXcgb3QodGhpcy54Kyh0LngtdGhpcy54KSplLHRoaXMueSsodC55LXRoaXMueSkqZSl9ZGlzdGFuY2VGcm9tKHQpe2NvbnN0IGU9dGhpcy54LXQueCxzPXRoaXMueS10Lnk7cmV0dXJuIE1hdGguc3FydChlKmUrcypzKX1taWRQb2ludEZyb20odCl7cmV0dXJuIHRoaXMubGVycCh0KX1taW4odCl7cmV0dXJuIG5ldyBvdChNYXRoLm1pbih0aGlzLngsdC54KSxNYXRoLm1pbih0aGlzLnksdC55KSl9bWF4KHQpe3JldHVybiBuZXcgb3QoTWF0aC5tYXgodGhpcy54LHQueCksTWF0aC5tYXgodGhpcy55LHQueSkpfXRvU3RyaW5nKCl7cmV0dXJuXCJcIi5jb25jYXQodGhpcy54LFwiLFwiKS5jb25jYXQodGhpcy55KX1zZXRYWSh0LGUpe3JldHVybiB0aGlzLng9dCx0aGlzLnk9ZSx0aGlzfXNldFgodCl7cmV0dXJuIHRoaXMueD10LHRoaXN9c2V0WSh0KXtyZXR1cm4gdGhpcy55PXQsdGhpc31zZXRGcm9tUG9pbnQodCl7cmV0dXJuIHRoaXMueD10LngsdGhpcy55PXQueSx0aGlzfXN3YXAodCl7Y29uc3QgZT10aGlzLngscz10aGlzLnk7dGhpcy54PXQueCx0aGlzLnk9dC55LHQueD1lLHQueT1zfWNsb25lKCl7cmV0dXJuIG5ldyBvdCh0aGlzLngsdGhpcy55KX1yb3RhdGUodCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOmF0O2NvbnN0IHM9bnQodCksaT1ydCh0KSxyPXRoaXMuc3VidHJhY3QoZSk7cmV0dXJuIG5ldyBvdChyLngqaS1yLnkqcyxyLngqcytyLnkqaSkuYWRkKGUpfXRyYW5zZm9ybSh0KXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdO3JldHVybiBuZXcgb3QodFswXSp0aGlzLngrdFsyXSp0aGlzLnkrKGU/MDp0WzRdKSx0WzFdKnRoaXMueCt0WzNdKnRoaXMueSsoZT8wOnRbNV0pKX19Y29uc3QgYXQ9bmV3IG90KDAsMCksaHQ9dD0+ISF0JiZBcnJheS5pc0FycmF5KHQuX29iamVjdHMpO2Z1bmN0aW9uIGN0KGUpe2NsYXNzIHMgZXh0ZW5kcyBle2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0KHRoaXMsXCJfb2JqZWN0c1wiLFtdKX1fb25PYmplY3RBZGRlZCh0KXt9X29uT2JqZWN0UmVtb3ZlZCh0KXt9X29uU3RhY2tPcmRlckNoYW5nZWQodCl7fWFkZCgpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGU9bmV3IEFycmF5KHQpLHM9MDtzPHQ7cysrKWVbc109YXJndW1lbnRzW3NdO2NvbnN0IGk9dGhpcy5fb2JqZWN0cy5wdXNoKC4uLmUpO3JldHVybiBlLmZvckVhY2goKHQ9PnRoaXMuX29uT2JqZWN0QWRkZWQodCkpKSxpfWluc2VydEF0KHQpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHM9bmV3IEFycmF5KGU+MT9lLTE6MCksaT0xO2k8ZTtpKyspc1tpLTFdPWFyZ3VtZW50c1tpXTtyZXR1cm4gdGhpcy5fb2JqZWN0cy5zcGxpY2UodCwwLC4uLnMpLHMuZm9yRWFjaCgodD0+dGhpcy5fb25PYmplY3RBZGRlZCh0KSkpLHRoaXMuX29iamVjdHMubGVuZ3RofXJlbW92ZSgpe2NvbnN0IHQ9dGhpcy5fb2JqZWN0cyxlPVtdO2Zvcih2YXIgcz1hcmd1bWVudHMubGVuZ3RoLGk9bmV3IEFycmF5KHMpLHI9MDtyPHM7cisrKWlbcl09YXJndW1lbnRzW3JdO3JldHVybiBpLmZvckVhY2goKHM9Pntjb25zdCBpPXQuaW5kZXhPZihzKTstMSE9PWkmJih0LnNwbGljZShpLDEpLGUucHVzaChzKSx0aGlzLl9vbk9iamVjdFJlbW92ZWQocykpfSkpLGV9Zm9yRWFjaE9iamVjdCh0KXt0aGlzLmdldE9iamVjdHMoKS5mb3JFYWNoKCgoZSxzLGkpPT50KGUscyxpKSkpfWdldE9iamVjdHMoKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheSh0KSxzPTA7czx0O3MrKyllW3NdPWFyZ3VtZW50c1tzXTtyZXR1cm4gMD09PWUubGVuZ3RoP1suLi50aGlzLl9vYmplY3RzXTp0aGlzLl9vYmplY3RzLmZpbHRlcigodD0+dC5pc1R5cGUoLi4uZSkpKX1pdGVtKHQpe3JldHVybiB0aGlzLl9vYmplY3RzW3RdfWlzRW1wdHkoKXtyZXR1cm4gMD09PXRoaXMuX29iamVjdHMubGVuZ3RofXNpemUoKXtyZXR1cm4gdGhpcy5fb2JqZWN0cy5sZW5ndGh9Y29udGFpbnModCxlKXtyZXR1cm4hIXRoaXMuX29iamVjdHMuaW5jbHVkZXModCl8fCEhZSYmdGhpcy5fb2JqZWN0cy5zb21lKChlPT5lIGluc3RhbmNlb2YgcyYmZS5jb250YWlucyh0LCEwKSkpfWNvbXBsZXhpdHkoKXtyZXR1cm4gdGhpcy5fb2JqZWN0cy5yZWR1Y2UoKCh0LGUpPT50Kz1lLmNvbXBsZXhpdHk/ZS5jb21wbGV4aXR5KCk6MCksMCl9c2VuZE9iamVjdFRvQmFjayh0KXtyZXR1cm4hKCF0fHx0PT09dGhpcy5fb2JqZWN0c1swXSkmJihpdCh0aGlzLl9vYmplY3RzLHQpLHRoaXMuX29iamVjdHMudW5zaGlmdCh0KSx0aGlzLl9vblN0YWNrT3JkZXJDaGFuZ2VkKHQpLCEwKX1icmluZ09iamVjdFRvRnJvbnQodCl7cmV0dXJuISghdHx8dD09PXRoaXMuX29iamVjdHNbdGhpcy5fb2JqZWN0cy5sZW5ndGgtMV0pJiYoaXQodGhpcy5fb2JqZWN0cyx0KSx0aGlzLl9vYmplY3RzLnB1c2godCksdGhpcy5fb25TdGFja09yZGVyQ2hhbmdlZCh0KSwhMCl9c2VuZE9iamVjdEJhY2t3YXJkcyh0LGUpe2lmKCF0KXJldHVybiExO2NvbnN0IHM9dGhpcy5fb2JqZWN0cy5pbmRleE9mKHQpO2lmKDAhPT1zKXtjb25zdCBpPXRoaXMuZmluZE5ld0xvd2VySW5kZXgodCxzLGUpO3JldHVybiBpdCh0aGlzLl9vYmplY3RzLHQpLHRoaXMuX29iamVjdHMuc3BsaWNlKGksMCx0KSx0aGlzLl9vblN0YWNrT3JkZXJDaGFuZ2VkKHQpLCEwfXJldHVybiExfWJyaW5nT2JqZWN0Rm9yd2FyZCh0LGUpe2lmKCF0KXJldHVybiExO2NvbnN0IHM9dGhpcy5fb2JqZWN0cy5pbmRleE9mKHQpO2lmKHMhPT10aGlzLl9vYmplY3RzLmxlbmd0aC0xKXtjb25zdCBpPXRoaXMuZmluZE5ld1VwcGVySW5kZXgodCxzLGUpO3JldHVybiBpdCh0aGlzLl9vYmplY3RzLHQpLHRoaXMuX29iamVjdHMuc3BsaWNlKGksMCx0KSx0aGlzLl9vblN0YWNrT3JkZXJDaGFuZ2VkKHQpLCEwfXJldHVybiExfW1vdmVPYmplY3RUbyh0LGUpe3JldHVybiB0IT09dGhpcy5fb2JqZWN0c1tlXSYmKGl0KHRoaXMuX29iamVjdHMsdCksdGhpcy5fb2JqZWN0cy5zcGxpY2UoZSwwLHQpLHRoaXMuX29uU3RhY2tPcmRlckNoYW5nZWQodCksITApfWZpbmROZXdMb3dlckluZGV4KHQsZSxzKXtsZXQgaTtpZihzKXtpPWU7Zm9yKGxldCBzPWUtMTtzPj0wOy0tcylpZih0LmlzT3ZlcmxhcHBpbmcodGhpcy5fb2JqZWN0c1tzXSkpe2k9czticmVha319ZWxzZSBpPWUtMTtyZXR1cm4gaX1maW5kTmV3VXBwZXJJbmRleCh0LGUscyl7bGV0IGk7aWYocyl7aT1lO2ZvcihsZXQgcz1lKzE7czx0aGlzLl9vYmplY3RzLmxlbmd0aDsrK3MpaWYodC5pc092ZXJsYXBwaW5nKHRoaXMuX29iamVjdHNbc10pKXtpPXM7YnJlYWt9fWVsc2UgaT1lKzE7cmV0dXJuIGl9Y29sbGVjdE9iamVjdHModCl7bGV0e2xlZnQ6ZSx0b3A6cyx3aWR0aDppLGhlaWdodDpyfT10LHtpbmNsdWRlSW50ZXJzZWN0aW5nOm49ITB9PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtjb25zdCBvPVtdLGE9bmV3IG90KGUscyksaD1hLmFkZChuZXcgb3QoaSxyKSk7Zm9yKGxldCB0PXRoaXMuX29iamVjdHMubGVuZ3RoLTE7dD49MDt0LS0pe2NvbnN0IGU9dGhpcy5fb2JqZWN0c1t0XTtlLnNlbGVjdGFibGUmJmUudmlzaWJsZSYmKG4mJmUuaW50ZXJzZWN0c1dpdGhSZWN0KGEsaCl8fGUuaXNDb250YWluZWRXaXRoaW5SZWN0KGEsaCl8fG4mJmUuY29udGFpbnNQb2ludChhKXx8biYmZS5jb250YWluc1BvaW50KGgpKSYmby5wdXNoKGUpfXJldHVybiBvfX1yZXR1cm4gc31jbGFzcyBsdCBleHRlbmRzIHN0e19zZXRPcHRpb25zKCl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O2Zvcihjb25zdCBlIGluIHQpdGhpcy5zZXQoZSx0W2VdKX1fc2V0T2JqZWN0KHQpe2Zvcihjb25zdCBlIGluIHQpdGhpcy5fc2V0KGUsdFtlXSl9c2V0KHQsZSl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIHQ/dGhpcy5fc2V0T2JqZWN0KHQpOnRoaXMuX3NldCh0LGUpLHRoaXN9X3NldCh0LGUpe3RoaXNbdF09ZX10b2dnbGUodCl7Y29uc3QgZT10aGlzLmdldCh0KTtyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mIGUmJnRoaXMuc2V0KHQsIWUpLHRoaXN9Z2V0KHQpe3JldHVybiB0aGlzW3RdfX1mdW5jdGlvbiB1dCh0KXtyZXR1cm4gdigpLnJlcXVlc3RBbmltYXRpb25GcmFtZSh0KX1mdW5jdGlvbiBkdCh0KXtyZXR1cm4gdigpLmNhbmNlbEFuaW1hdGlvbkZyYW1lKHQpfWxldCBndD0wO2NvbnN0IGZ0PSgpPT5ndCsrLHB0PSgpPT57Y29uc3QgdD1tKCkuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtpZighdHx8dm9pZCAwPT09dC5nZXRDb250ZXh0KXRocm93IG5ldyBoKFwiRmFpbGVkIHRvIGNyZWF0ZSBgY2FudmFzYCBlbGVtZW50XCIpO3JldHVybiB0fSxtdD0oKT0+bSgpLmNyZWF0ZUVsZW1lbnQoXCJpbWdcIiksdnQ9dD0+e2NvbnN0IGU9cHQoKTtyZXR1cm4gZS53aWR0aD10LndpZHRoLGUuaGVpZ2h0PXQuaGVpZ2h0LGV9LHl0PSh0LGUscyk9PnQudG9EYXRhVVJMKFwiaW1hZ2UvXCIuY29uY2F0KGUpLHMpLF90PSh0LGUscyk9Pm5ldyBQcm9taXNlKCgoaSxyKT0+e3QudG9CbG9iKGksXCJpbWFnZS9cIi5jb25jYXQoZSkscyl9KSkseHQ9dD0+dCp3LEN0PXQ9PnQvdyxidD10PT50LmV2ZXJ5KCgodCxlKT0+dD09PVRbZV0pKSxTdD0odCxlLHMpPT5uZXcgb3QodCkudHJhbnNmb3JtKGUscyksd3Q9dD0+e2NvbnN0IGU9MS8odFswXSp0WzNdLXRbMV0qdFsyXSkscz1bZSp0WzNdLC1lKnRbMV0sLWUqdFsyXSxlKnRbMF0sMCwwXSx7eDppLHk6cn09bmV3IG90KHRbNF0sdFs1XSkudHJhbnNmb3JtKHMsITApO3JldHVybiBzWzRdPS1pLHNbNV09LXIsc30sVHQ9KHQsZSxzKT0+W3RbMF0qZVswXSt0WzJdKmVbMV0sdFsxXSplWzBdK3RbM10qZVsxXSx0WzBdKmVbMl0rdFsyXSplWzNdLHRbMV0qZVsyXSt0WzNdKmVbM10scz8wOnRbMF0qZVs0XSt0WzJdKmVbNV0rdFs0XSxzPzA6dFsxXSplWzRdK3RbM10qZVs1XSt0WzVdXSxPdD0odCxlKT0+dC5yZWR1Y2VSaWdodCgoKHQscyk9PnMmJnQ/VHQocyx0LGUpOnN8fHQpLHZvaWQgMCl8fFQuY29uY2F0KCksa3Q9dD0+e2xldFtlLHNdPXQ7cmV0dXJuIE1hdGguYXRhbjIocyxlKX0sRHQ9dD0+e2NvbnN0IGU9a3QodCkscz1NYXRoLnBvdyh0WzBdLDIpK01hdGgucG93KHRbMV0sMiksaT1NYXRoLnNxcnQocykscj0odFswXSp0WzNdLXRbMl0qdFsxXSkvaSxuPU1hdGguYXRhbjIodFswXSp0WzJdK3RbMV0qdFszXSxzKTtyZXR1cm57YW5nbGU6Q3QoZSksc2NhbGVYOmksc2NhbGVZOnIsc2tld1g6Q3Qobiksc2tld1k6MCx0cmFuc2xhdGVYOnRbNF18fDAsdHJhbnNsYXRlWTp0WzVdfHwwfX0sTXQ9ZnVuY3Rpb24odCl7cmV0dXJuWzEsMCwwLDEsdCxhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MF19O2Z1bmN0aW9uIFB0KCl7bGV0e2FuZ2xlOnQ9MH09YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHt4OmU9MCx5OnM9MH09YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O2NvbnN0IGk9eHQodCkscj1ydChpKSxuPW50KGkpO3JldHVybltyLG4sLW4scixlP2UtKHIqZS1uKnMpOjAscz9zLShuKmUrcipzKTowXX1jb25zdCBFdD1mdW5jdGlvbih0KXtyZXR1cm5bdCwwLDAsYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnQsMCwwXX0sQXQ9dD0+TWF0aC50YW4oeHQodCkpLGp0PXQ9PlsxLDAsQXQodCksMSwwLDBdLEZ0PXQ9PlsxLEF0KHQpLDAsMSwwLDBdLEx0PXQ9PntsZXR7c2NhbGVYOmU9MSxzY2FsZVk6cz0xLGZsaXBYOmk9ITEsZmxpcFk6cj0hMSxza2V3WDpuPTAsc2tld1k6bz0wfT10LGE9RXQoaT8tZTplLHI/LXM6cyk7cmV0dXJuIG4mJihhPVR0KGEsanQobiksITApKSxvJiYoYT1UdChhLEZ0KG8pLCEwKSksYX0sUnQ9dD0+e2NvbnN0e3RyYW5zbGF0ZVg6ZT0wLHRyYW5zbGF0ZVk6cz0wLGFuZ2xlOmk9MH09dDtsZXQgcj1NdChlLHMpO2kmJihyPVR0KHIsUHQoe2FuZ2xlOml9KSkpO2NvbnN0IG49THQodCk7cmV0dXJuIGJ0KG4pfHwocj1UdChyLG4pKSxyfSxJdD1mdW5jdGlvbih0KXtsZXR7c2lnbmFsOmUsY3Jvc3NPcmlnaW46cz1udWxsfT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihpLHIpe2lmKGUmJmUuYWJvcnRlZClyZXR1cm4gcihuZXcgYyhcImxvYWRJbWFnZVwiKSk7Y29uc3Qgbj1tdCgpO2xldCBvO2UmJihvPWZ1bmN0aW9uKHQpe24uc3JjPVwiXCIscih0KX0sZS5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIixvLHtvbmNlOiEwfSkpO2NvbnN0IGE9ZnVuY3Rpb24oKXtuLm9ubG9hZD1uLm9uZXJyb3I9bnVsbCxvJiYobnVsbD09ZXx8ZS5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIixvKSksaShuKX07dD8obi5vbmxvYWQ9YSxuLm9uZXJyb3I9ZnVuY3Rpb24oKXtvJiYobnVsbD09ZXx8ZS5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIixvKSkscihuZXcgaChcIkVycm9yIGxvYWRpbmcgXCIuY29uY2F0KG4uc3JjKSkpfSxzJiYobi5jcm9zc09yaWdpbj1zKSxuLnNyYz10KTphKCl9KSl9LEJ0PWZ1bmN0aW9uKHQpe2xldHtzaWduYWw6ZSxyZXZpdmVyOnM9Q309YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3JldHVybiBuZXcgUHJvbWlzZSgoKGkscik9Pntjb25zdCBuPVtdO2UmJmUuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIscix7b25jZTohMH0pLFByb21pc2UuYWxsKHQubWFwKCh0PT50dC5nZXRDbGFzcyh0LnR5cGUpLmZyb21PYmplY3QodCx7c2lnbmFsOmV9KS50aGVuKChlPT4ocyh0LGUpLG4ucHVzaChlKSxlKSkpKSkpLnRoZW4oaSkuY2F0Y2goKHQ9PntuLmZvckVhY2goKHQ9Pnt0LmRpc3Bvc2UmJnQuZGlzcG9zZSgpfSkpLHIodCl9KSkuZmluYWxseSgoKCk9PntlJiZlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLHIpfSkpfSkpfSxYdD1mdW5jdGlvbih0KXtsZXR7c2lnbmFsOmV9PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtyZXR1cm4gbmV3IFByb21pc2UoKChzLGkpPT57Y29uc3Qgcj1bXTtlJiZlLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLGkse29uY2U6ITB9KTtjb25zdCBuPU9iamVjdC52YWx1ZXModCkubWFwKCh0PT50JiZ0LnR5cGUmJnR0Lmhhcyh0LnR5cGUpP0J0KFt0XSx7c2lnbmFsOmV9KS50aGVuKCh0PT57bGV0W2VdPXQ7cmV0dXJuIHIucHVzaChlKSxlfSkpOnQpKSxvPU9iamVjdC5rZXlzKHQpO1Byb21pc2UuYWxsKG4pLnRoZW4oKHQ9PnQucmVkdWNlKCgodCxlLHMpPT4odFtvW3NdXT1lLHQpKSx7fSkpKS50aGVuKHMpLmNhdGNoKCh0PT57ci5mb3JFYWNoKCh0PT57dC5kaXNwb3NlJiZ0LmRpc3Bvc2UoKX0pKSxpKHQpfSkpLmZpbmFsbHkoKCgpPT57ZSYmZS5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIixpKX0pKX0pKX0sWXQ9ZnVuY3Rpb24odCl7cmV0dXJuKGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpbXSkucmVkdWNlKCgoZSxzKT0+KHMgaW4gdCYmKGVbc109dFtzXSksZSkpLHt9KX0sV3Q9KHQsZSk9Pk9iamVjdC5rZXlzKHQpLnJlZHVjZSgoKHMsaSk9PihlKHRbaV0saSx0KSYmKHNbaV09dFtpXSkscykpLHt9KSxWdD0odCxlKT0+cGFyc2VGbG9hdChOdW1iZXIodCkudG9GaXhlZChlKSksenQ9dD0+XCJtYXRyaXgoXCIrdC5tYXAoKHQ9PlZ0KHQsby5OVU1fRlJBQ1RJT05fRElHSVRTKSkpLmpvaW4oXCIgXCIpK1wiKVwiLEd0PXQ9PiEhdCYmdm9pZCAwIT09dC50b0xpdmUsSHQ9dD0+ISF0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnRvT2JqZWN0LE50PXQ9PiEhdCYmdm9pZCAwIT09dC5vZmZzZXRYJiZcInNvdXJjZVwiaW4gdCxVdD10PT4hIXQmJlwibXVsdGlTZWxlY3Rpb25TdGFja2luZ1wiaW4gdDtmdW5jdGlvbiBxdCh0KXtjb25zdCBlPXQmJkt0KHQpO2xldCBzPTAsaT0wO2lmKCF0fHwhZSlyZXR1cm57bGVmdDpzLHRvcDppfTtsZXQgcj10O2NvbnN0IG49ZS5kb2N1bWVudEVsZW1lbnQsbz1lLmJvZHl8fHtzY3JvbGxMZWZ0OjAsc2Nyb2xsVG9wOjB9O2Zvcig7ciYmKHIucGFyZW50Tm9kZXx8ci5ob3N0KSYmKHI9ci5wYXJlbnROb2RlfHxyLmhvc3Qscj09PWU/KHM9by5zY3JvbGxMZWZ0fHxuLnNjcm9sbExlZnR8fDAsaT1vLnNjcm9sbFRvcHx8bi5zY3JvbGxUb3B8fDApOihzKz1yLnNjcm9sbExlZnR8fDAsaSs9ci5zY3JvbGxUb3B8fDApLDEhPT1yLm5vZGVUeXBlfHxcImZpeGVkXCIhPT1yLnN0eWxlLnBvc2l0aW9uKTspO3JldHVybntsZWZ0OnMsdG9wOml9fWNvbnN0IEt0PXQ9PnQub3duZXJEb2N1bWVudHx8bnVsbCxKdD10PT57dmFyIGU7cmV0dXJuKG51bGw9PT0oZT10Lm93bmVyRG9jdW1lbnQpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmRlZmF1bHRWaWV3KXx8bnVsbH0sUXQ9ZnVuY3Rpb24odCxlLHMpe2xldHt3aWR0aDppLGhlaWdodDpyfT1zLG49YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOjE7dC53aWR0aD1pLHQuaGVpZ2h0PXIsbj4xJiYodC5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLChpKm4pLnRvU3RyaW5nKCkpLHQuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsKHIqbikudG9TdHJpbmcoKSksZS5zY2FsZShuLG4pKX0sWnQ9KHQsZSk9PntsZXR7d2lkdGg6cyxoZWlnaHQ6aX09ZTtzJiYodC5zdHlsZS53aWR0aD1cIm51bWJlclwiPT10eXBlb2Ygcz9cIlwiLmNvbmNhdChzLFwicHhcIik6cyksaSYmKHQuc3R5bGUuaGVpZ2h0PVwibnVtYmVyXCI9PXR5cGVvZiBpP1wiXCIuY29uY2F0KGksXCJweFwiKTppKX07ZnVuY3Rpb24gJHQodCl7cmV0dXJuIHZvaWQgMCE9PXQub25zZWxlY3RzdGFydCYmKHQub25zZWxlY3RzdGFydD0oKT0+ITEpLHQuc3R5bGUudXNlclNlbGVjdD1qLHR9Y2xhc3MgdGV7Y29uc3RydWN0b3IoZSl7dCh0aGlzLFwiX29yaWdpbmFsQ2FudmFzU3R5bGVcIix2b2lkIDApLHQodGhpcyxcImxvd2VyXCIsdm9pZCAwKTtjb25zdCBzPXRoaXMuY3JlYXRlTG93ZXJDYW52YXMoZSk7dGhpcy5sb3dlcj17ZWw6cyxjdHg6cy5nZXRDb250ZXh0KFwiMmRcIil9fWNyZWF0ZUxvd2VyQ2FudmFzKHQpe2NvbnN0IGU9KHM9dCkmJnZvaWQgMCE9PXMuZ2V0Q29udGV4dD90OnQmJm0oKS5nZXRFbGVtZW50QnlJZCh0KXx8cHQoKTt2YXIgcztpZihlLmhhc0F0dHJpYnV0ZShcImRhdGEtZmFicmljXCIpKXRocm93IG5ldyBoKFwiVHJ5aW5nIHRvIGluaXRpYWxpemUgYSBjYW52YXMgdGhhdCBoYXMgYWxyZWFkeSBiZWVuIGluaXRpYWxpemVkLiBEaWQgeW91IGZvcmdldCB0byBkaXNwb3NlIHRoZSBjYW52YXM/XCIpO3JldHVybiB0aGlzLl9vcmlnaW5hbENhbnZhc1N0eWxlPWUuc3R5bGUuY3NzVGV4dCxlLnNldEF0dHJpYnV0ZShcImRhdGEtZmFicmljXCIsXCJtYWluXCIpLGUuY2xhc3NMaXN0LmFkZChcImxvd2VyLWNhbnZhc1wiKSxlfWNsZWFudXBET00odCl7bGV0e3dpZHRoOmUsaGVpZ2h0OnN9PXQ7Y29uc3R7ZWw6aX09dGhpcy5sb3dlcjtpLmNsYXNzTGlzdC5yZW1vdmUoXCJsb3dlci1jYW52YXNcIiksaS5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLWZhYnJpY1wiKSxpLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsXCJcIi5jb25jYXQoZSkpLGkuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsXCJcIi5jb25jYXQocykpLGkuc3R5bGUuY3NzVGV4dD10aGlzLl9vcmlnaW5hbENhbnZhc1N0eWxlfHxcIlwiLHRoaXMuX29yaWdpbmFsQ2FudmFzU3R5bGU9dm9pZCAwfXNldERpbWVuc2lvbnModCxlKXtjb25zdHtlbDpzLGN0eDppfT10aGlzLmxvd2VyO1F0KHMsaSx0LGUpfXNldENTU0RpbWVuc2lvbnModCl7WnQodGhpcy5sb3dlci5lbCx0KX1jYWxjT2Zmc2V0KCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlO2NvbnN0IHM9dCYmS3QodCksaT17bGVmdDowLHRvcDowfTtpZighcylyZXR1cm4gaTtjb25zdCByPShudWxsPT09KGU9SnQodCkpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmdldENvbXB1dGVkU3R5bGUodCxudWxsKSl8fHt9O2kubGVmdCs9cGFyc2VJbnQoci5ib3JkZXJMZWZ0V2lkdGgsMTApfHwwLGkudG9wKz1wYXJzZUludChyLmJvcmRlclRvcFdpZHRoLDEwKXx8MCxpLmxlZnQrPXBhcnNlSW50KHIucGFkZGluZ0xlZnQsMTApfHwwLGkudG9wKz1wYXJzZUludChyLnBhZGRpbmdUb3AsMTApfHwwO2xldCBuPXtsZWZ0OjAsdG9wOjB9O2NvbnN0IG89cy5kb2N1bWVudEVsZW1lbnQ7dm9pZCAwIT09dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QmJihuPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO2NvbnN0IGE9cXQodCk7cmV0dXJue2xlZnQ6bi5sZWZ0K2EubGVmdC0oby5jbGllbnRMZWZ0fHwwKStpLmxlZnQsdG9wOm4udG9wK2EudG9wLShvLmNsaWVudFRvcHx8MCkraS50b3B9fSh0aGlzLmxvd2VyLmVsKX1kaXNwb3NlKCl7cCgpLmRpc3Bvc2UodGhpcy5sb3dlci5lbCksZGVsZXRlIHRoaXMubG93ZXJ9fWNvbnN0IGVlPXtiYWNrZ3JvdW5kVnB0OiEwLGJhY2tncm91bmRDb2xvcjpcIlwiLG92ZXJsYXlWcHQ6ITAsb3ZlcmxheUNvbG9yOlwiXCIsaW5jbHVkZURlZmF1bHRWYWx1ZXM6ITAsc3ZnVmlld3BvcnRUcmFuc2Zvcm1hdGlvbjohMCxyZW5kZXJPbkFkZFJlbW92ZTohMCxza2lwT2Zmc2NyZWVuOiEwLGVuYWJsZVJldGluYVNjYWxpbmc6ITAsaW1hZ2VTbW9vdGhpbmdFbmFibGVkOiEwLGNvbnRyb2xzQWJvdmVPdmVybGF5OiExLGFsbG93VG91Y2hTY3JvbGxpbmc6ITEsdmlld3BvcnRUcmFuc2Zvcm06Wy4uLlRdfSxzZT1bXCJvYmplY3RzXCJdO2NsYXNzIGllIGV4dGVuZHMoY3QobHQpKXtnZXQgbG93ZXJDYW52YXNFbCgpe3ZhciB0O3JldHVybiBudWxsPT09KHQ9dGhpcy5lbGVtZW50cy5sb3dlcil8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZWx9Z2V0IGNvbnRleHRDb250YWluZXIoKXt2YXIgdDtyZXR1cm4gbnVsbD09PSh0PXRoaXMuZWxlbWVudHMubG93ZXIpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmN0eH1zdGF0aWMgZ2V0RGVmYXVsdHMoKXtyZXR1cm4gaWUub3duRGVmYXVsdHN9Y29uc3RydWN0b3IodCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3N1cGVyKCksT2JqZWN0LmFzc2lnbih0aGlzLHRoaXMuY29uc3RydWN0b3IuZ2V0RGVmYXVsdHMoKSksdGhpcy5zZXQoZSksdGhpcy5pbml0RWxlbWVudHModCksdGhpcy5fc2V0RGltZW5zaW9uc0ltcGwoe3dpZHRoOnRoaXMud2lkdGh8fHRoaXMuZWxlbWVudHMubG93ZXIuZWwud2lkdGh8fDAsaGVpZ2h0OnRoaXMuaGVpZ2h0fHx0aGlzLmVsZW1lbnRzLmxvd2VyLmVsLmhlaWdodHx8MH0pLHRoaXMuc2tpcENvbnRyb2xzRHJhd2luZz0hMSx0aGlzLnZpZXdwb3J0VHJhbnNmb3JtPVsuLi50aGlzLnZpZXdwb3J0VHJhbnNmb3JtXSx0aGlzLmNhbGNWaWV3cG9ydEJvdW5kYXJpZXMoKX1pbml0RWxlbWVudHModCl7dGhpcy5lbGVtZW50cz1uZXcgdGUodCl9YWRkKCl7Y29uc3QgdD1zdXBlci5hZGQoLi4uYXJndW1lbnRzKTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4wJiZ0aGlzLnJlbmRlck9uQWRkUmVtb3ZlJiZ0aGlzLnJlcXVlc3RSZW5kZXJBbGwoKSx0fWluc2VydEF0KHQpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHM9bmV3IEFycmF5KGU+MT9lLTE6MCksaT0xO2k8ZTtpKyspc1tpLTFdPWFyZ3VtZW50c1tpXTtjb25zdCByPXN1cGVyLmluc2VydEF0KHQsLi4ucyk7cmV0dXJuIHMubGVuZ3RoPjAmJnRoaXMucmVuZGVyT25BZGRSZW1vdmUmJnRoaXMucmVxdWVzdFJlbmRlckFsbCgpLHJ9cmVtb3ZlKCl7Y29uc3QgdD1zdXBlci5yZW1vdmUoLi4uYXJndW1lbnRzKTtyZXR1cm4gdC5sZW5ndGg+MCYmdGhpcy5yZW5kZXJPbkFkZFJlbW92ZSYmdGhpcy5yZXF1ZXN0UmVuZGVyQWxsKCksdH1fb25PYmplY3RBZGRlZCh0KXt0LmNhbnZhcyYmdC5jYW52YXMhPT10aGlzJiYoYShcIndhcm5cIixcIkNhbnZhcyBpcyB0cnlpbmcgdG8gYWRkIGFuIG9iamVjdCB0aGF0IGJlbG9uZ3MgdG8gYSBkaWZmZXJlbnQgY2FudmFzLlxcblJlc3VsdGluZyB0byBkZWZhdWx0IGJlaGF2aW9yOiByZW1vdmluZyBvYmplY3QgZnJvbSBwcmV2aW91cyBjYW52YXMgYW5kIGFkZGluZyB0byBuZXcgY2FudmFzXCIpLHQuY2FudmFzLnJlbW92ZSh0KSksdC5fc2V0KFwiY2FudmFzXCIsdGhpcyksdC5zZXRDb29yZHMoKSx0aGlzLmZpcmUoXCJvYmplY3Q6YWRkZWRcIix7dGFyZ2V0OnR9KSx0LmZpcmUoXCJhZGRlZFwiLHt0YXJnZXQ6dGhpc30pfV9vbk9iamVjdFJlbW92ZWQodCl7dC5fc2V0KFwiY2FudmFzXCIsdm9pZCAwKSx0aGlzLmZpcmUoXCJvYmplY3Q6cmVtb3ZlZFwiLHt0YXJnZXQ6dH0pLHQuZmlyZShcInJlbW92ZWRcIix7dGFyZ2V0OnRoaXN9KX1fb25TdGFja09yZGVyQ2hhbmdlZCgpe3RoaXMucmVuZGVyT25BZGRSZW1vdmUmJnRoaXMucmVxdWVzdFJlbmRlckFsbCgpfWdldFJldGluYVNjYWxpbmcoKXtyZXR1cm4gdGhpcy5lbmFibGVSZXRpbmFTY2FsaW5nP3koKToxfWNhbGNPZmZzZXQoKXtyZXR1cm4gdGhpcy5fb2Zmc2V0PXRoaXMuZWxlbWVudHMuY2FsY09mZnNldCgpfWdldFdpZHRoKCl7cmV0dXJuIHRoaXMud2lkdGh9Z2V0SGVpZ2h0KCl7cmV0dXJuIHRoaXMuaGVpZ2h0fXNldFdpZHRoKHQsZSl7cmV0dXJuIHRoaXMuc2V0RGltZW5zaW9ucyh7d2lkdGg6dH0sZSl9c2V0SGVpZ2h0KHQsZSl7cmV0dXJuIHRoaXMuc2V0RGltZW5zaW9ucyh7aGVpZ2h0OnR9LGUpfV9zZXREaW1lbnNpb25zSW1wbCh0KXtsZXR7Y3NzT25seTplPSExLGJhY2tzdG9yZU9ubHk6aT0hMX09YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O2lmKCFlKXtjb25zdCBlPXMoe3dpZHRoOnRoaXMud2lkdGgsaGVpZ2h0OnRoaXMuaGVpZ2h0fSx0KTt0aGlzLmVsZW1lbnRzLnNldERpbWVuc2lvbnMoZSx0aGlzLmdldFJldGluYVNjYWxpbmcoKSksdGhpcy5oYXNMb3N0Q29udGV4dD0hMCx0aGlzLndpZHRoPWUud2lkdGgsdGhpcy5oZWlnaHQ9ZS5oZWlnaHR9aXx8dGhpcy5lbGVtZW50cy5zZXRDU1NEaW1lbnNpb25zKHQpLHRoaXMuY2FsY09mZnNldCgpfXNldERpbWVuc2lvbnModCxlKXt0aGlzLl9zZXREaW1lbnNpb25zSW1wbCh0LGUpLGUmJmUuY3NzT25seXx8dGhpcy5yZXF1ZXN0UmVuZGVyQWxsKCl9Z2V0Wm9vbSgpe3JldHVybiB0aGlzLnZpZXdwb3J0VHJhbnNmb3JtWzBdfXNldFZpZXdwb3J0VHJhbnNmb3JtKHQpe3RoaXMudmlld3BvcnRUcmFuc2Zvcm09dCx0aGlzLmNhbGNWaWV3cG9ydEJvdW5kYXJpZXMoKSx0aGlzLnJlbmRlck9uQWRkUmVtb3ZlJiZ0aGlzLnJlcXVlc3RSZW5kZXJBbGwoKX16b29tVG9Qb2ludCh0LGUpe2NvbnN0IHM9dCxpPVsuLi50aGlzLnZpZXdwb3J0VHJhbnNmb3JtXSxyPVN0KHQsd3QoaSkpO2lbMF09ZSxpWzNdPWU7Y29uc3Qgbj1TdChyLGkpO2lbNF0rPXMueC1uLngsaVs1XSs9cy55LW4ueSx0aGlzLnNldFZpZXdwb3J0VHJhbnNmb3JtKGkpfXNldFpvb20odCl7dGhpcy56b29tVG9Qb2ludChuZXcgb3QoMCwwKSx0KX1hYnNvbHV0ZVBhbih0KXtjb25zdCBlPVsuLi50aGlzLnZpZXdwb3J0VHJhbnNmb3JtXTtyZXR1cm4gZVs0XT0tdC54LGVbNV09LXQueSx0aGlzLnNldFZpZXdwb3J0VHJhbnNmb3JtKGUpfXJlbGF0aXZlUGFuKHQpe3JldHVybiB0aGlzLmFic29sdXRlUGFuKG5ldyBvdCgtdC54LXRoaXMudmlld3BvcnRUcmFuc2Zvcm1bNF0sLXQueS10aGlzLnZpZXdwb3J0VHJhbnNmb3JtWzVdKSl9Z2V0RWxlbWVudCgpe3JldHVybiB0aGlzLmVsZW1lbnRzLmxvd2VyLmVsfWNsZWFyQ29udGV4dCh0KXt0LmNsZWFyUmVjdCgwLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodCl9Z2V0Q29udGV4dCgpe3JldHVybiB0aGlzLmVsZW1lbnRzLmxvd2VyLmN0eH1jbGVhcigpe3RoaXMucmVtb3ZlKC4uLnRoaXMuZ2V0T2JqZWN0cygpKSx0aGlzLmJhY2tncm91bmRJbWFnZT12b2lkIDAsdGhpcy5vdmVybGF5SW1hZ2U9dm9pZCAwLHRoaXMuYmFja2dyb3VuZENvbG9yPVwiXCIsdGhpcy5vdmVybGF5Q29sb3I9XCJcIix0aGlzLmNsZWFyQ29udGV4dCh0aGlzLmdldENvbnRleHQoKSksdGhpcy5maXJlKFwiY2FudmFzOmNsZWFyZWRcIiksdGhpcy5yZW5kZXJPbkFkZFJlbW92ZSYmdGhpcy5yZXF1ZXN0UmVuZGVyQWxsKCl9cmVuZGVyQWxsKCl7dGhpcy5jYW5jZWxSZXF1ZXN0ZWRSZW5kZXIoKSx0aGlzLmRlc3Ryb3llZHx8dGhpcy5yZW5kZXJDYW52YXModGhpcy5nZXRDb250ZXh0KCksdGhpcy5fb2JqZWN0cyl9cmVuZGVyQW5kUmVzZXQoKXt0aGlzLm5leHRSZW5kZXJIYW5kbGU9MCx0aGlzLnJlbmRlckFsbCgpfXJlcXVlc3RSZW5kZXJBbGwoKXt0aGlzLm5leHRSZW5kZXJIYW5kbGV8fHRoaXMuZGlzcG9zZWR8fHRoaXMuZGVzdHJveWVkfHwodGhpcy5uZXh0UmVuZGVySGFuZGxlPXV0KCgoKT0+dGhpcy5yZW5kZXJBbmRSZXNldCgpKSkpfWNhbGNWaWV3cG9ydEJvdW5kYXJpZXMoKXtjb25zdCB0PXRoaXMud2lkdGgsZT10aGlzLmhlaWdodCxzPXd0KHRoaXMudmlld3BvcnRUcmFuc2Zvcm0pLGk9U3Qoe3g6MCx5OjB9LHMpLHI9U3Qoe3g6dCx5OmV9LHMpLG49aS5taW4ociksbz1pLm1heChyKTtyZXR1cm4gdGhpcy52cHRDb29yZHM9e3RsOm4sdHI6bmV3IG90KG8ueCxuLnkpLGJsOm5ldyBvdChuLngsby55KSxicjpvfX1jYW5jZWxSZXF1ZXN0ZWRSZW5kZXIoKXt0aGlzLm5leHRSZW5kZXJIYW5kbGUmJihkdCh0aGlzLm5leHRSZW5kZXJIYW5kbGUpLHRoaXMubmV4dFJlbmRlckhhbmRsZT0wKX1kcmF3Q29udHJvbHModCl7fXJlbmRlckNhbnZhcyh0LGUpe2lmKHRoaXMuZGVzdHJveWVkKXJldHVybjtjb25zdCBzPXRoaXMudmlld3BvcnRUcmFuc2Zvcm0saT10aGlzLmNsaXBQYXRoO3RoaXMuY2FsY1ZpZXdwb3J0Qm91bmRhcmllcygpLHRoaXMuY2xlYXJDb250ZXh0KHQpLHQuaW1hZ2VTbW9vdGhpbmdFbmFibGVkPXRoaXMuaW1hZ2VTbW9vdGhpbmdFbmFibGVkLHQucGF0dGVyblF1YWxpdHk9XCJiZXN0XCIsdGhpcy5maXJlKFwiYmVmb3JlOnJlbmRlclwiLHtjdHg6dH0pLHRoaXMuX3JlbmRlckJhY2tncm91bmQodCksdC5zYXZlKCksdC50cmFuc2Zvcm0oc1swXSxzWzFdLHNbMl0sc1szXSxzWzRdLHNbNV0pLHRoaXMuX3JlbmRlck9iamVjdHModCxlKSx0LnJlc3RvcmUoKSx0aGlzLmNvbnRyb2xzQWJvdmVPdmVybGF5fHx0aGlzLnNraXBDb250cm9sc0RyYXdpbmd8fHRoaXMuZHJhd0NvbnRyb2xzKHQpLGkmJihpLl9zZXQoXCJjYW52YXNcIix0aGlzKSxpLnNob3VsZENhY2hlKCksaS5fdHJhbnNmb3JtRG9uZT0hMCxpLnJlbmRlckNhY2hlKHtmb3JDbGlwcGluZzohMH0pLHRoaXMuZHJhd0NsaXBQYXRoT25DYW52YXModCxpKSksdGhpcy5fcmVuZGVyT3ZlcmxheSh0KSx0aGlzLmNvbnRyb2xzQWJvdmVPdmVybGF5JiYhdGhpcy5za2lwQ29udHJvbHNEcmF3aW5nJiZ0aGlzLmRyYXdDb250cm9scyh0KSx0aGlzLmZpcmUoXCJhZnRlcjpyZW5kZXJcIix7Y3R4OnR9KSx0aGlzLl9fY2xlYW51cFRhc2smJih0aGlzLl9fY2xlYW51cFRhc2soKSx0aGlzLl9fY2xlYW51cFRhc2s9dm9pZCAwKX1kcmF3Q2xpcFBhdGhPbkNhbnZhcyh0LGUpe2NvbnN0IHM9dGhpcy52aWV3cG9ydFRyYW5zZm9ybTt0LnNhdmUoKSx0LnRyYW5zZm9ybSguLi5zKSx0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj1cImRlc3RpbmF0aW9uLWluXCIsZS50cmFuc2Zvcm0odCksdC5zY2FsZSgxL2Uuem9vbVgsMS9lLnpvb21ZKSx0LmRyYXdJbWFnZShlLl9jYWNoZUNhbnZhcywtZS5jYWNoZVRyYW5zbGF0aW9uWCwtZS5jYWNoZVRyYW5zbGF0aW9uWSksdC5yZXN0b3JlKCl9X3JlbmRlck9iamVjdHModCxlKXtmb3IobGV0IHM9MCxpPWUubGVuZ3RoO3M8aTsrK3MpZVtzXSYmZVtzXS5yZW5kZXIodCl9X3JlbmRlckJhY2tncm91bmRPck92ZXJsYXkodCxlKXtjb25zdCBzPXRoaXNbXCJcIi5jb25jYXQoZSxcIkNvbG9yXCIpXSxpPXRoaXNbXCJcIi5jb25jYXQoZSxcIkltYWdlXCIpXSxyPXRoaXMudmlld3BvcnRUcmFuc2Zvcm0sbj10aGlzW1wiXCIuY29uY2F0KGUsXCJWcHRcIildO2lmKCFzJiYhaSlyZXR1cm47Y29uc3Qgbz1HdChzKTtpZihzKXtpZih0LnNhdmUoKSx0LmJlZ2luUGF0aCgpLHQubW92ZVRvKDAsMCksdC5saW5lVG8odGhpcy53aWR0aCwwKSx0LmxpbmVUbyh0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSx0LmxpbmVUbygwLHRoaXMuaGVpZ2h0KSx0LmNsb3NlUGF0aCgpLHQuZmlsbFN0eWxlPW8/cy50b0xpdmUodCk6cyxuJiZ0LnRyYW5zZm9ybSguLi5yKSxvKXt0LnRyYW5zZm9ybSgxLDAsMCwxLHMub2Zmc2V0WHx8MCxzLm9mZnNldFl8fDApO2NvbnN0IGU9cy5ncmFkaWVudFRyYW5zZm9ybXx8cy5wYXR0ZXJuVHJhbnNmb3JtO2UmJnQudHJhbnNmb3JtKC4uLmUpfXQuZmlsbCgpLHQucmVzdG9yZSgpfWlmKGkpe3Quc2F2ZSgpO2NvbnN0e3NraXBPZmZzY3JlZW46ZX09dGhpczt0aGlzLnNraXBPZmZzY3JlZW49bixuJiZ0LnRyYW5zZm9ybSguLi5yKSxpLnJlbmRlcih0KSx0aGlzLnNraXBPZmZzY3JlZW49ZSx0LnJlc3RvcmUoKX19X3JlbmRlckJhY2tncm91bmQodCl7dGhpcy5fcmVuZGVyQmFja2dyb3VuZE9yT3ZlcmxheSh0LFwiYmFja2dyb3VuZFwiKX1fcmVuZGVyT3ZlcmxheSh0KXt0aGlzLl9yZW5kZXJCYWNrZ3JvdW5kT3JPdmVybGF5KHQsXCJvdmVybGF5XCIpfWdldENlbnRlcigpe3JldHVybnt0b3A6dGhpcy5oZWlnaHQvMixsZWZ0OnRoaXMud2lkdGgvMn19Z2V0Q2VudGVyUG9pbnQoKXtyZXR1cm4gbmV3IG90KHRoaXMud2lkdGgvMix0aGlzLmhlaWdodC8yKX1jZW50ZXJPYmplY3RIKHQpe3JldHVybiB0aGlzLl9jZW50ZXJPYmplY3QodCxuZXcgb3QodGhpcy5nZXRDZW50ZXJQb2ludCgpLngsdC5nZXRDZW50ZXJQb2ludCgpLnkpKX1jZW50ZXJPYmplY3RWKHQpe3JldHVybiB0aGlzLl9jZW50ZXJPYmplY3QodCxuZXcgb3QodC5nZXRDZW50ZXJQb2ludCgpLngsdGhpcy5nZXRDZW50ZXJQb2ludCgpLnkpKX1jZW50ZXJPYmplY3QodCl7cmV0dXJuIHRoaXMuX2NlbnRlck9iamVjdCh0LHRoaXMuZ2V0Q2VudGVyUG9pbnQoKSl9dmlld3BvcnRDZW50ZXJPYmplY3QodCl7cmV0dXJuIHRoaXMuX2NlbnRlck9iamVjdCh0LHRoaXMuZ2V0VnBDZW50ZXIoKSl9dmlld3BvcnRDZW50ZXJPYmplY3RIKHQpe3JldHVybiB0aGlzLl9jZW50ZXJPYmplY3QodCxuZXcgb3QodGhpcy5nZXRWcENlbnRlcigpLngsdC5nZXRDZW50ZXJQb2ludCgpLnkpKX12aWV3cG9ydENlbnRlck9iamVjdFYodCl7cmV0dXJuIHRoaXMuX2NlbnRlck9iamVjdCh0LG5ldyBvdCh0LmdldENlbnRlclBvaW50KCkueCx0aGlzLmdldFZwQ2VudGVyKCkueSkpfWdldFZwQ2VudGVyKCl7cmV0dXJuIFN0KHRoaXMuZ2V0Q2VudGVyUG9pbnQoKSx3dCh0aGlzLnZpZXdwb3J0VHJhbnNmb3JtKSl9X2NlbnRlck9iamVjdCh0LGUpe3Quc2V0WFkoZSxELEQpLHQuc2V0Q29vcmRzKCksdGhpcy5yZW5kZXJPbkFkZFJlbW92ZSYmdGhpcy5yZXF1ZXN0UmVuZGVyQWxsKCl9dG9EYXRhbGVzc0pTT04odCl7cmV0dXJuIHRoaXMudG9EYXRhbGVzc09iamVjdCh0KX10b09iamVjdCh0KXtyZXR1cm4gdGhpcy5fdG9PYmplY3RNZXRob2QoXCJ0b09iamVjdFwiLHQpfXRvSlNPTigpe3JldHVybiB0aGlzLnRvT2JqZWN0KCl9dG9EYXRhbGVzc09iamVjdCh0KXtyZXR1cm4gdGhpcy5fdG9PYmplY3RNZXRob2QoXCJ0b0RhdGFsZXNzT2JqZWN0XCIsdCl9X3RvT2JqZWN0TWV0aG9kKHQsZSl7Y29uc3QgaT10aGlzLmNsaXBQYXRoLHI9aSYmIWkuZXhjbHVkZUZyb21FeHBvcnQ/dGhpcy5fdG9PYmplY3QoaSx0LGUpOm51bGw7cmV0dXJuIHMocyhzKHt2ZXJzaW9uOnh9LFl0KHRoaXMsZSkpLHt9LHtvYmplY3RzOnRoaXMuX29iamVjdHMuZmlsdGVyKCh0PT4hdC5leGNsdWRlRnJvbUV4cG9ydCkpLm1hcCgocz0+dGhpcy5fdG9PYmplY3Qocyx0LGUpKSl9LHRoaXMuX19zZXJpYWxpemVCZ092ZXJsYXkodCxlKSkscj97Y2xpcFBhdGg6cn06bnVsbCl9X3RvT2JqZWN0KHQsZSxzKXtsZXQgaTt0aGlzLmluY2x1ZGVEZWZhdWx0VmFsdWVzfHwoaT10LmluY2x1ZGVEZWZhdWx0VmFsdWVzLHQuaW5jbHVkZURlZmF1bHRWYWx1ZXM9ITEpO2NvbnN0IHI9dFtlXShzKTtyZXR1cm4gdGhpcy5pbmNsdWRlRGVmYXVsdFZhbHVlc3x8KHQuaW5jbHVkZURlZmF1bHRWYWx1ZXM9ISFpKSxyfV9fc2VyaWFsaXplQmdPdmVybGF5KHQsZSl7Y29uc3Qgcz17fSxpPXRoaXMuYmFja2dyb3VuZEltYWdlLHI9dGhpcy5vdmVybGF5SW1hZ2Usbj10aGlzLmJhY2tncm91bmRDb2xvcixvPXRoaXMub3ZlcmxheUNvbG9yO3JldHVybiBHdChuKT9uLmV4Y2x1ZGVGcm9tRXhwb3J0fHwocy5iYWNrZ3JvdW5kPW4udG9PYmplY3QoZSkpOm4mJihzLmJhY2tncm91bmQ9biksR3Qobyk/by5leGNsdWRlRnJvbUV4cG9ydHx8KHMub3ZlcmxheT1vLnRvT2JqZWN0KGUpKTpvJiYocy5vdmVybGF5PW8pLGkmJiFpLmV4Y2x1ZGVGcm9tRXhwb3J0JiYocy5iYWNrZ3JvdW5kSW1hZ2U9dGhpcy5fdG9PYmplY3QoaSx0LGUpKSxyJiYhci5leGNsdWRlRnJvbUV4cG9ydCYmKHMub3ZlcmxheUltYWdlPXRoaXMuX3RvT2JqZWN0KHIsdCxlKSksc310b1NWRygpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxlPWFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwO3QucmV2aXZlcj1lO2NvbnN0IHM9W107cmV0dXJuIHRoaXMuX3NldFNWR1ByZWFtYmxlKHMsdCksdGhpcy5fc2V0U1ZHSGVhZGVyKHMsdCksdGhpcy5jbGlwUGF0aCYmcy5wdXNoKCc8ZyBjbGlwLXBhdGg9XCJ1cmwoIycuY29uY2F0KHRoaXMuY2xpcFBhdGguY2xpcFBhdGhJZCwnKVwiID5cXG4nKSksdGhpcy5fc2V0U1ZHQmdPdmVybGF5Q29sb3IocyxcImJhY2tncm91bmRcIiksdGhpcy5fc2V0U1ZHQmdPdmVybGF5SW1hZ2UocyxcImJhY2tncm91bmRJbWFnZVwiLGUpLHRoaXMuX3NldFNWR09iamVjdHMocyxlKSx0aGlzLmNsaXBQYXRoJiZzLnB1c2goXCI8L2c+XFxuXCIpLHRoaXMuX3NldFNWR0JnT3ZlcmxheUNvbG9yKHMsXCJvdmVybGF5XCIpLHRoaXMuX3NldFNWR0JnT3ZlcmxheUltYWdlKHMsXCJvdmVybGF5SW1hZ2VcIixlKSxzLnB1c2goXCI8L3N2Zz5cIikscy5qb2luKFwiXCIpfV9zZXRTVkdQcmVhbWJsZSh0LGUpe2Uuc3VwcHJlc3NQcmVhbWJsZXx8dC5wdXNoKCc8P3htbCB2ZXJzaW9uPVwiMS4wXCIgZW5jb2Rpbmc9XCInLGUuZW5jb2Rpbmd8fFwiVVRGLThcIiwnXCIgc3RhbmRhbG9uZT1cIm5vXCIgPz5cXG4nLCc8IURPQ1RZUEUgc3ZnIFBVQkxJQyBcIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOXCIgJywnXCJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGRcIj5cXG4nKX1fc2V0U1ZHSGVhZGVyKHQsZSl7Y29uc3Qgcz1lLndpZHRofHxcIlwiLmNvbmNhdCh0aGlzLndpZHRoKSxpPWUuaGVpZ2h0fHxcIlwiLmNvbmNhdCh0aGlzLmhlaWdodCkscj1vLk5VTV9GUkFDVElPTl9ESUdJVFMsbj1lLnZpZXdCb3g7bGV0IGE7aWYobilhPSd2aWV3Qm94PVwiJy5jb25jYXQobi54LFwiIFwiKS5jb25jYXQobi55LFwiIFwiKS5jb25jYXQobi53aWR0aCxcIiBcIikuY29uY2F0KG4uaGVpZ2h0LCdcIiAnKTtlbHNlIGlmKHRoaXMuc3ZnVmlld3BvcnRUcmFuc2Zvcm1hdGlvbil7Y29uc3QgdD10aGlzLnZpZXdwb3J0VHJhbnNmb3JtO2E9J3ZpZXdCb3g9XCInLmNvbmNhdChWdCgtdFs0XS90WzBdLHIpLFwiIFwiKS5jb25jYXQoVnQoLXRbNV0vdFszXSxyKSxcIiBcIikuY29uY2F0KFZ0KHRoaXMud2lkdGgvdFswXSxyKSxcIiBcIikuY29uY2F0KFZ0KHRoaXMuaGVpZ2h0L3RbM10sciksJ1wiICcpfWVsc2UgYT0ndmlld0JveD1cIjAgMCAnLmNvbmNhdCh0aGlzLndpZHRoLFwiIFwiKS5jb25jYXQodGhpcy5oZWlnaHQsJ1wiICcpO3QucHVzaChcIjxzdmcgXCIsJ3htbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiAnLCd4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiAnLCd2ZXJzaW9uPVwiMS4xXCIgJywnd2lkdGg9XCInLHMsJ1wiICcsJ2hlaWdodD1cIicsaSwnXCIgJyxhLCd4bWw6c3BhY2U9XCJwcmVzZXJ2ZVwiPlxcbicsXCI8ZGVzYz5DcmVhdGVkIHdpdGggRmFicmljLmpzIFwiLHgsXCI8L2Rlc2M+XFxuXCIsXCI8ZGVmcz5cXG5cIix0aGlzLmNyZWF0ZVNWR0ZvbnRGYWNlc01hcmt1cCgpLHRoaXMuY3JlYXRlU1ZHUmVmRWxlbWVudHNNYXJrdXAoKSx0aGlzLmNyZWF0ZVNWR0NsaXBQYXRoTWFya3VwKGUpLFwiPC9kZWZzPlxcblwiKX1jcmVhdGVTVkdDbGlwUGF0aE1hcmt1cCh0KXtjb25zdCBlPXRoaXMuY2xpcFBhdGg7cmV0dXJuIGU/KGUuY2xpcFBhdGhJZD1cIkNMSVBQQVRIX1wiLmNvbmNhdChmdCgpKSwnPGNsaXBQYXRoIGlkPVwiJy5jb25jYXQoZS5jbGlwUGF0aElkLCdcIiA+XFxuJykuY29uY2F0KGUudG9DbGlwUGF0aFNWRyh0LnJldml2ZXIpLFwiPC9jbGlwUGF0aD5cXG5cIikpOlwiXCJ9Y3JlYXRlU1ZHUmVmRWxlbWVudHNNYXJrdXAoKXtyZXR1cm5bXCJiYWNrZ3JvdW5kXCIsXCJvdmVybGF5XCJdLm1hcCgodD0+e2NvbnN0IGU9dGhpc1tcIlwiLmNvbmNhdCh0LFwiQ29sb3JcIildO2lmKEd0KGUpKXtjb25zdCBzPXRoaXNbXCJcIi5jb25jYXQodCxcIlZwdFwiKV0saT10aGlzLnZpZXdwb3J0VHJhbnNmb3JtLHI9e2lzVHlwZTooKT0+ITEsd2lkdGg6dGhpcy53aWR0aC8ocz9pWzBdOjEpLGhlaWdodDp0aGlzLmhlaWdodC8ocz9pWzNdOjEpfTtyZXR1cm4gZS50b1NWRyhyLHthZGRpdGlvbmFsVHJhbnNmb3JtOnM/enQoaSk6XCJcIn0pfX0pKS5qb2luKFwiXCIpfWNyZWF0ZVNWR0ZvbnRGYWNlc01hcmt1cCgpe2NvbnN0IHQ9W10sZT17fSxzPW8uZm9udFBhdGhzO3RoaXMuX29iamVjdHMuZm9yRWFjaCgoZnVuY3Rpb24gZShzKXt0LnB1c2gocyksaHQocykmJnMuX29iamVjdHMuZm9yRWFjaChlKX0pKSx0LmZvckVhY2goKHQ9PntpZighKGk9dCl8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIGkuX3JlbmRlclRleHQpcmV0dXJuO3ZhciBpO2NvbnN0e3N0eWxlczpyLGZvbnRGYW1pbHk6bn09dDshZVtuXSYmc1tuXSYmKGVbbl09ITAsciYmT2JqZWN0LnZhbHVlcyhyKS5mb3JFYWNoKCh0PT57T2JqZWN0LnZhbHVlcyh0KS5mb3JFYWNoKCh0PT57bGV0e2ZvbnRGYW1pbHk6aT1cIlwifT10OyFlW2ldJiZzW2ldJiYoZVtpXT0hMCl9KSl9KSkpfSkpO2NvbnN0IGk9T2JqZWN0LmtleXMoZSkubWFwKCh0PT5cIlxcdFxcdEBmb250LWZhY2Uge1xcblxcdFxcdFxcdGZvbnQtZmFtaWx5OiAnXCIuY29uY2F0KHQsXCInO1xcblxcdFxcdFxcdHNyYzogdXJsKCdcIikuY29uY2F0KHNbdF0sXCInKTtcXG5cXHRcXHR9XFxuXCIpKSkuam9pbihcIlwiKTtyZXR1cm4gaT8nXFx0PHN0eWxlIHR5cGU9XCJ0ZXh0L2Nzc1wiPjwhW0NEQVRBW1xcbicuY29uY2F0KGksXCJdXT48L3N0eWxlPlxcblwiKTpcIlwifV9zZXRTVkdPYmplY3RzKHQsZSl7dGhpcy5mb3JFYWNoT2JqZWN0KChzPT57cy5leGNsdWRlRnJvbUV4cG9ydHx8dGhpcy5fc2V0U1ZHT2JqZWN0KHQscyxlKX0pKX1fc2V0U1ZHT2JqZWN0KHQsZSxzKXt0LnB1c2goZS50b1NWRyhzKSl9X3NldFNWR0JnT3ZlcmxheUltYWdlKHQsZSxzKXtjb25zdCBpPXRoaXNbZV07aSYmIWkuZXhjbHVkZUZyb21FeHBvcnQmJmkudG9TVkcmJnQucHVzaChpLnRvU1ZHKHMpKX1fc2V0U1ZHQmdPdmVybGF5Q29sb3IodCxlKXtjb25zdCBzPXRoaXNbXCJcIi5jb25jYXQoZSxcIkNvbG9yXCIpXTtpZihzKWlmKEd0KHMpKXtjb25zdCBpPXMucmVwZWF0fHxcIlwiLHI9dGhpcy53aWR0aCxuPXRoaXMuaGVpZ2h0LG89dGhpc1tcIlwiLmNvbmNhdChlLFwiVnB0XCIpXT96dCh3dCh0aGlzLnZpZXdwb3J0VHJhbnNmb3JtKSk6XCJcIjt0LnB1c2goJzxyZWN0IHRyYW5zZm9ybT1cIicuY29uY2F0KG8sXCIgdHJhbnNsYXRlKFwiKS5jb25jYXQoci8yLFwiLFwiKS5jb25jYXQobi8yLCcpXCIgeD1cIicpLmNvbmNhdChzLm9mZnNldFgtci8yLCdcIiB5PVwiJykuY29uY2F0KHMub2Zmc2V0WS1uLzIsJ1wiIHdpZHRoPVwiJykuY29uY2F0KFwicmVwZWF0LXlcIiE9PWkmJlwibm8tcmVwZWF0XCIhPT1pfHwhTnQocyk/cjpzLnNvdXJjZS53aWR0aCwnXCIgaGVpZ2h0PVwiJykuY29uY2F0KFwicmVwZWF0LXhcIiE9PWkmJlwibm8tcmVwZWF0XCIhPT1pfHwhTnQocyk/bjpzLnNvdXJjZS5oZWlnaHQsJ1wiIGZpbGw9XCJ1cmwoI1NWR0lEXycpLmNvbmNhdChzLmlkLCcpXCI+PC9yZWN0PlxcbicpKX1lbHNlIHQucHVzaCgnPHJlY3QgeD1cIjBcIiB5PVwiMFwiIHdpZHRoPVwiMTAwJVwiIGhlaWdodD1cIjEwMCVcIiAnLCdmaWxsPVwiJyxzLCdcIicsXCI+PC9yZWN0PlxcblwiKX1sb2FkRnJvbUpTT04odCxlKXtsZXR7c2lnbmFsOnN9PWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fTtpZighdClyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IGgoXCJganNvbmAgaXMgdW5kZWZpbmVkXCIpKTtjb25zdCByPVwic3RyaW5nXCI9PXR5cGVvZiB0P0pTT04ucGFyc2UodCk6dCx7b2JqZWN0czpuPVtdfT1yLG89aShyLHNlKSx7YmFja2dyb3VuZEltYWdlOmEsYmFja2dyb3VuZDpjLG92ZXJsYXlJbWFnZTpsLG92ZXJsYXk6dSxjbGlwUGF0aDpkfT1vLGc9dGhpcy5yZW5kZXJPbkFkZFJlbW92ZTtyZXR1cm4gdGhpcy5yZW5kZXJPbkFkZFJlbW92ZT0hMSxQcm9taXNlLmFsbChbQnQobix7cmV2aXZlcjplLHNpZ25hbDpzfSksWHQoe2JhY2tncm91bmRJbWFnZTphLGJhY2tncm91bmRDb2xvcjpjLG92ZXJsYXlJbWFnZTpsLG92ZXJsYXlDb2xvcjp1LGNsaXBQYXRoOmR9LHtzaWduYWw6c30pXSkudGhlbigodD0+e2xldFtlLHNdPXQ7cmV0dXJuIHRoaXMuY2xlYXIoKSx0aGlzLmFkZCguLi5lKSx0aGlzLnNldChvKSx0aGlzLnNldChzKSx0aGlzLnJlbmRlck9uQWRkUmVtb3ZlPWcsdGhpc30pKX1jbG9uZSh0KXtjb25zdCBlPXRoaXMudG9PYmplY3QodCk7cmV0dXJuIHRoaXMuY2xvbmVXaXRob3V0RGF0YSgpLmxvYWRGcm9tSlNPTihlKX1jbG9uZVdpdGhvdXREYXRhKCl7Y29uc3QgdD12dCh0aGlzKTtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodCl9dG9EYXRhVVJMKCl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O2NvbnN0e2Zvcm1hdDplPVwicG5nXCIscXVhbGl0eTpzPTEsbXVsdGlwbGllcjppPTEsZW5hYmxlUmV0aW5hU2NhbGluZzpyPSExfT10LG49aSoocj90aGlzLmdldFJldGluYVNjYWxpbmcoKToxKTtyZXR1cm4geXQodGhpcy50b0NhbnZhc0VsZW1lbnQobix0KSxlLHMpfXRvQmxvYigpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtjb25zdHtmb3JtYXQ6ZT1cInBuZ1wiLHF1YWxpdHk6cz0xLG11bHRpcGxpZXI6aT0xLGVuYWJsZVJldGluYVNjYWxpbmc6cj0hMX09dCxuPWkqKHI/dGhpcy5nZXRSZXRpbmFTY2FsaW5nKCk6MSk7cmV0dXJuIF90KHRoaXMudG9DYW52YXNFbGVtZW50KG4sdCksZSxzKX10b0NhbnZhc0VsZW1lbnQoKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MSx7d2lkdGg6ZSxoZWlnaHQ6cyxsZWZ0OmksdG9wOnIsZmlsdGVyOm59PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtjb25zdCBvPShlfHx0aGlzLndpZHRoKSp0LGE9KHN8fHRoaXMuaGVpZ2h0KSp0LGg9dGhpcy5nZXRab29tKCksYz10aGlzLndpZHRoLGw9dGhpcy5oZWlnaHQsdT10aGlzLnNraXBDb250cm9sc0RyYXdpbmcsZD1oKnQsZz10aGlzLnZpZXdwb3J0VHJhbnNmb3JtLGY9W2QsMCwwLGQsKGdbNF0tKGl8fDApKSp0LChnWzVdLShyfHwwKSkqdF0scD10aGlzLmVuYWJsZVJldGluYVNjYWxpbmcsbT12dCh7d2lkdGg6byxoZWlnaHQ6YX0pLHY9bj90aGlzLl9vYmplY3RzLmZpbHRlcigodD0+bih0KSkpOnRoaXMuX29iamVjdHM7cmV0dXJuIHRoaXMuZW5hYmxlUmV0aW5hU2NhbGluZz0hMSx0aGlzLnZpZXdwb3J0VHJhbnNmb3JtPWYsdGhpcy53aWR0aD1vLHRoaXMuaGVpZ2h0PWEsdGhpcy5za2lwQ29udHJvbHNEcmF3aW5nPSEwLHRoaXMuY2FsY1ZpZXdwb3J0Qm91bmRhcmllcygpLHRoaXMucmVuZGVyQ2FudmFzKG0uZ2V0Q29udGV4dChcIjJkXCIpLHYpLHRoaXMudmlld3BvcnRUcmFuc2Zvcm09Zyx0aGlzLndpZHRoPWMsdGhpcy5oZWlnaHQ9bCx0aGlzLmNhbGNWaWV3cG9ydEJvdW5kYXJpZXMoKSx0aGlzLmVuYWJsZVJldGluYVNjYWxpbmc9cCx0aGlzLnNraXBDb250cm9sc0RyYXdpbmc9dSxtfWRpc3Bvc2UoKXtyZXR1cm4hdGhpcy5kaXNwb3NlZCYmdGhpcy5lbGVtZW50cy5jbGVhbnVwRE9NKHt3aWR0aDp0aGlzLndpZHRoLGhlaWdodDp0aGlzLmhlaWdodH0pLGV0LmNhbmNlbEJ5Q2FudmFzKHRoaXMpLHRoaXMuZGlzcG9zZWQ9ITAsbmV3IFByb21pc2UoKCh0LGUpPT57Y29uc3Qgcz0oKT0+e3RoaXMuZGVzdHJveSgpLHQoITApfTtzLmtpbGw9ZSx0aGlzLl9fY2xlYW51cFRhc2smJnRoaXMuX19jbGVhbnVwVGFzay5raWxsKFwiYWJvcnRlZFwiKSx0aGlzLmRlc3Ryb3llZD90KCExKTp0aGlzLm5leHRSZW5kZXJIYW5kbGU/dGhpcy5fX2NsZWFudXBUYXNrPXM6cygpfSkpfWRlc3Ryb3koKXt0aGlzLmRlc3Ryb3llZD0hMCx0aGlzLmNhbmNlbFJlcXVlc3RlZFJlbmRlcigpLHRoaXMuZm9yRWFjaE9iamVjdCgodD0+dC5kaXNwb3NlKCkpKSx0aGlzLl9vYmplY3RzPVtdLHRoaXMuYmFja2dyb3VuZEltYWdlJiZ0aGlzLmJhY2tncm91bmRJbWFnZS5kaXNwb3NlKCksdGhpcy5iYWNrZ3JvdW5kSW1hZ2U9dm9pZCAwLHRoaXMub3ZlcmxheUltYWdlJiZ0aGlzLm92ZXJsYXlJbWFnZS5kaXNwb3NlKCksdGhpcy5vdmVybGF5SW1hZ2U9dm9pZCAwLHRoaXMuZWxlbWVudHMuZGlzcG9zZSgpfXRvU3RyaW5nKCl7cmV0dXJuXCIjPENhbnZhcyAoXCIuY29uY2F0KHRoaXMuY29tcGxleGl0eSgpLFwiKTogeyBvYmplY3RzOiBcIikuY29uY2F0KHRoaXMuX29iamVjdHMubGVuZ3RoLFwiIH0+XCIpfX10KGllLFwib3duRGVmYXVsdHNcIixlZSk7Y29uc3QgcmU9W1widG91Y2hzdGFydFwiLFwidG91Y2htb3ZlXCIsXCJ0b3VjaGVuZFwiXTtjb25zdCBuZT10PT57Y29uc3QgZT1xdCh0LnRhcmdldCkscz1mdW5jdGlvbih0KXtjb25zdCBlPXQuY2hhbmdlZFRvdWNoZXM7cmV0dXJuIGUmJmVbMF0/ZVswXTp0fSh0KTtyZXR1cm4gbmV3IG90KHMuY2xpZW50WCtlLmxlZnQscy5jbGllbnRZK2UudG9wKX0sb2U9dD0+cmUuaW5jbHVkZXModC50eXBlKXx8XCJ0b3VjaFwiPT09dC5wb2ludGVyVHlwZSxhZT10PT57dC5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcFByb3BhZ2F0aW9uKCl9LGhlPXQ9PntsZXQgZT0wLHM9MCxpPTAscj0wO2ZvcihsZXQgbj0wLG89dC5sZW5ndGg7bjxvO24rKyl7Y29uc3R7eDpvLHk6YX09dFtuXTsobz5pfHwhbikmJihpPW8pLChvPGV8fCFuKSYmKGU9byksKGE+cnx8IW4pJiYocj1hKSwoYTxzfHwhbikmJihzPWEpfXJldHVybntsZWZ0OmUsdG9wOnMsd2lkdGg6aS1lLGhlaWdodDpyLXN9fSxjZT1bXCJ0cmFuc2xhdGVYXCIsXCJ0cmFuc2xhdGVZXCIsXCJzY2FsZVhcIixcInNjYWxlWVwiXSxsZT0odCxlKT0+dWUodCxUdChlLHQuY2FsY093bk1hdHJpeCgpKSksdWU9KHQsZSk9Pntjb25zdCBzPUR0KGUpLHt0cmFuc2xhdGVYOnIsdHJhbnNsYXRlWTpuLHNjYWxlWDpvLHNjYWxlWTphfT1zLGg9aShzLGNlKSxjPW5ldyBvdChyLG4pO3QuZmxpcFg9ITEsdC5mbGlwWT0hMSxPYmplY3QuYXNzaWduKHQsaCksdC5zZXQoe3NjYWxlWDpvLHNjYWxlWTphfSksdC5zZXRQb3NpdGlvbkJ5T3JpZ2luKGMsRCxEKX0sZGU9dD0+e3Quc2NhbGVYPTEsdC5zY2FsZVk9MSx0LnNrZXdYPTAsdC5za2V3WT0wLHQuZmxpcFg9ITEsdC5mbGlwWT0hMSx0LnJvdGF0ZSgwKX0sZ2U9dD0+KHtzY2FsZVg6dC5zY2FsZVgsc2NhbGVZOnQuc2NhbGVZLHNrZXdYOnQuc2tld1gsc2tld1k6dC5za2V3WSxhbmdsZTp0LmFuZ2xlLGxlZnQ6dC5sZWZ0LGZsaXBYOnQuZmxpcFgsZmxpcFk6dC5mbGlwWSx0b3A6dC50b3B9KSxmZT0odCxlLHMpPT57Y29uc3QgaT10LzIscj1lLzIsbj1bbmV3IG90KC1pLC1yKSxuZXcgb3QoaSwtciksbmV3IG90KC1pLHIpLG5ldyBvdChpLHIpXS5tYXAoKHQ9PnQudHJhbnNmb3JtKHMpKSksbz1oZShuKTtyZXR1cm4gbmV3IG90KG8ud2lkdGgsby5oZWlnaHQpfSxwZT1mdW5jdGlvbigpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpUO3JldHVybiBUdCh3dChhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06VCksdCl9LG1lPWZ1bmN0aW9uKHQpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpULHM9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOlQ7cmV0dXJuIHQudHJhbnNmb3JtKHBlKGUscykpfSx2ZT1mdW5jdGlvbih0KXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06VCxzPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpUO3JldHVybiB0LnRyYW5zZm9ybShwZShlLHMpLCEwKX0seWU9KHQsZSxzKT0+e2NvbnN0IGk9cGUoZSxzKTtyZXR1cm4gdWUodCxUdChpLHQuY2FsY093bk1hdHJpeCgpKSksaX0sX2U9KHQsZSk9Pnt2YXIgaTtjb25zdHt0cmFuc2Zvcm06e3RhcmdldDpyfX09ZTtudWxsPT09KGk9ci5jYW52YXMpfHx2b2lkIDA9PT1pfHxpLmZpcmUoXCJvYmplY3Q6XCIuY29uY2F0KHQpLHMocyh7fSxlKSx7fSx7dGFyZ2V0OnJ9KSksci5maXJlKHQsZSl9LHhlPXtsZWZ0Oi0uNSx0b3A6LS41LGNlbnRlcjowLGJvdHRvbTouNSxyaWdodDouNX0sQ2U9dD0+XCJzdHJpbmdcIj09dHlwZW9mIHQ/eGVbdF06dC0uNSxiZT1cIm5vdC1hbGxvd2VkXCI7ZnVuY3Rpb24gU2UodCl7cmV0dXJuIENlKHQub3JpZ2luWCk9PT1DZShEKSYmQ2UodC5vcmlnaW5ZKT09PUNlKEQpfWZ1bmN0aW9uIHdlKHQpe3JldHVybi41LUNlKHQpfWNvbnN0IFRlPSh0LGUpPT50W2VdLE9lPSh0LGUscyxpKT0+KHtlOnQsdHJhbnNmb3JtOmUscG9pbnRlcjpuZXcgb3QocyxpKX0pO2Z1bmN0aW9uIGtlKHQsZSl7Y29uc3Qgcz10LmdldFRvdGFsQW5nbGUoKStDdChNYXRoLmF0YW4yKGUueSxlLngpKSszNjA7cmV0dXJuIE1hdGgucm91bmQocyUzNjAvNDUpfWZ1bmN0aW9uIERlKHQsZSxzLGkscil7dmFyIG47bGV0e3RhcmdldDpvLGNvcm5lcjphfT10O2NvbnN0IGg9by5jb250cm9sc1thXSxjPShudWxsPT09KG49by5jYW52YXMpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmdldFpvb20oKSl8fDEsbD1vLnBhZGRpbmcvYyx1PWZ1bmN0aW9uKHQsZSxzLGkpe2NvbnN0IHI9dC5nZXRSZWxhdGl2ZUNlbnRlclBvaW50KCksbj12b2lkIDAhPT1zJiZ2b2lkIDAhPT1pP3QudHJhbnNsYXRlVG9HaXZlbk9yaWdpbihyLEQsRCxzLGkpOm5ldyBvdCh0LmxlZnQsdC50b3ApO3JldHVybih0LmFuZ2xlP2Uucm90YXRlKC14dCh0LmFuZ2xlKSxyKTplKS5zdWJ0cmFjdChuKX0obyxuZXcgb3QoaSxyKSxlLHMpO3JldHVybiB1Lng+PWwmJih1LngtPWwpLHUueDw9LWwmJih1LngrPWwpLHUueT49bCYmKHUueS09bCksdS55PD1sJiYodS55Kz1sKSx1LngtPWgub2Zmc2V0WCx1LnktPWgub2Zmc2V0WSx1fWNvbnN0IE1lPSh0LGUscyxpKT0+e2NvbnN0e3RhcmdldDpyLG9mZnNldFg6bixvZmZzZXRZOm99PWUsYT1zLW4saD1pLW8sYz0hVGUocixcImxvY2tNb3ZlbWVudFhcIikmJnIubGVmdCE9PWEsbD0hVGUocixcImxvY2tNb3ZlbWVudFlcIikmJnIudG9wIT09aDtyZXR1cm4gYyYmci5zZXQoTSxhKSxsJiZyLnNldChQLGgpLChjfHxsKSYmX2UoTCxPZSh0LGUscyxpKSksY3x8bH0sUGU9dD0+dC5yZXBsYWNlKC9cXHMrL2csXCIgXCIpLEVlPXthbGljZWJsdWU6XCIjRjBGOEZGXCIsYW50aXF1ZXdoaXRlOlwiI0ZBRUJEN1wiLGFxdWE6XCIjMEZGXCIsYXF1YW1hcmluZTpcIiM3RkZGRDRcIixhenVyZTpcIiNGMEZGRkZcIixiZWlnZTpcIiNGNUY1RENcIixiaXNxdWU6XCIjRkZFNEM0XCIsYmxhY2s6XCIjMDAwXCIsYmxhbmNoZWRhbG1vbmQ6XCIjRkZFQkNEXCIsYmx1ZTpcIiMwMEZcIixibHVldmlvbGV0OlwiIzhBMkJFMlwiLGJyb3duOlwiI0E1MkEyQVwiLGJ1cmx5d29vZDpcIiNERUI4ODdcIixjYWRldGJsdWU6XCIjNUY5RUEwXCIsY2hhcnRyZXVzZTpcIiM3RkZGMDBcIixjaG9jb2xhdGU6XCIjRDI2OTFFXCIsY29yYWw6XCIjRkY3RjUwXCIsY29ybmZsb3dlcmJsdWU6XCIjNjQ5NUVEXCIsY29ybnNpbGs6XCIjRkZGOERDXCIsY3JpbXNvbjpcIiNEQzE0M0NcIixjeWFuOlwiIzBGRlwiLGRhcmtibHVlOlwiIzAwMDA4QlwiLGRhcmtjeWFuOlwiIzAwOEI4QlwiLGRhcmtnb2xkZW5yb2Q6XCIjQjg4NjBCXCIsZGFya2dyYXk6XCIjQTlBOUE5XCIsZGFya2dyZXk6XCIjQTlBOUE5XCIsZGFya2dyZWVuOlwiIzAwNjQwMFwiLGRhcmtraGFraTpcIiNCREI3NkJcIixkYXJrbWFnZW50YTpcIiM4QjAwOEJcIixkYXJrb2xpdmVncmVlbjpcIiM1NTZCMkZcIixkYXJrb3JhbmdlOlwiI0ZGOEMwMFwiLGRhcmtvcmNoaWQ6XCIjOTkzMkNDXCIsZGFya3JlZDpcIiM4QjAwMDBcIixkYXJrc2FsbW9uOlwiI0U5OTY3QVwiLGRhcmtzZWFncmVlbjpcIiM4RkJDOEZcIixkYXJrc2xhdGVibHVlOlwiIzQ4M0Q4QlwiLGRhcmtzbGF0ZWdyYXk6XCIjMkY0RjRGXCIsZGFya3NsYXRlZ3JleTpcIiMyRjRGNEZcIixkYXJrdHVycXVvaXNlOlwiIzAwQ0VEMVwiLGRhcmt2aW9sZXQ6XCIjOTQwMEQzXCIsZGVlcHBpbms6XCIjRkYxNDkzXCIsZGVlcHNreWJsdWU6XCIjMDBCRkZGXCIsZGltZ3JheTpcIiM2OTY5NjlcIixkaW1ncmV5OlwiIzY5Njk2OVwiLGRvZGdlcmJsdWU6XCIjMUU5MEZGXCIsZmlyZWJyaWNrOlwiI0IyMjIyMlwiLGZsb3JhbHdoaXRlOlwiI0ZGRkFGMFwiLGZvcmVzdGdyZWVuOlwiIzIyOEIyMlwiLGZ1Y2hzaWE6XCIjRjBGXCIsZ2FpbnNib3JvOlwiI0RDRENEQ1wiLGdob3N0d2hpdGU6XCIjRjhGOEZGXCIsZ29sZDpcIiNGRkQ3MDBcIixnb2xkZW5yb2Q6XCIjREFBNTIwXCIsZ3JheTpcIiM4MDgwODBcIixncmV5OlwiIzgwODA4MFwiLGdyZWVuOlwiIzAwODAwMFwiLGdyZWVueWVsbG93OlwiI0FERkYyRlwiLGhvbmV5ZGV3OlwiI0YwRkZGMFwiLGhvdHBpbms6XCIjRkY2OUI0XCIsaW5kaWFucmVkOlwiI0NENUM1Q1wiLGluZGlnbzpcIiM0QjAwODJcIixpdm9yeTpcIiNGRkZGRjBcIixraGFraTpcIiNGMEU2OENcIixsYXZlbmRlcjpcIiNFNkU2RkFcIixsYXZlbmRlcmJsdXNoOlwiI0ZGRjBGNVwiLGxhd25ncmVlbjpcIiM3Q0ZDMDBcIixsZW1vbmNoaWZmb246XCIjRkZGQUNEXCIsbGlnaHRibHVlOlwiI0FERDhFNlwiLGxpZ2h0Y29yYWw6XCIjRjA4MDgwXCIsbGlnaHRjeWFuOlwiI0UwRkZGRlwiLGxpZ2h0Z29sZGVucm9keWVsbG93OlwiI0ZBRkFEMlwiLGxpZ2h0Z3JheTpcIiNEM0QzRDNcIixsaWdodGdyZXk6XCIjRDNEM0QzXCIsbGlnaHRncmVlbjpcIiM5MEVFOTBcIixsaWdodHBpbms6XCIjRkZCNkMxXCIsbGlnaHRzYWxtb246XCIjRkZBMDdBXCIsbGlnaHRzZWFncmVlbjpcIiMyMEIyQUFcIixsaWdodHNreWJsdWU6XCIjODdDRUZBXCIsbGlnaHRzbGF0ZWdyYXk6XCIjNzg5XCIsbGlnaHRzbGF0ZWdyZXk6XCIjNzg5XCIsbGlnaHRzdGVlbGJsdWU6XCIjQjBDNERFXCIsbGlnaHR5ZWxsb3c6XCIjRkZGRkUwXCIsbGltZTpcIiMwRjBcIixsaW1lZ3JlZW46XCIjMzJDRDMyXCIsbGluZW46XCIjRkFGMEU2XCIsbWFnZW50YTpcIiNGMEZcIixtYXJvb246XCIjODAwMDAwXCIsbWVkaXVtYXF1YW1hcmluZTpcIiM2NkNEQUFcIixtZWRpdW1ibHVlOlwiIzAwMDBDRFwiLG1lZGl1bW9yY2hpZDpcIiNCQTU1RDNcIixtZWRpdW1wdXJwbGU6XCIjOTM3MERCXCIsbWVkaXVtc2VhZ3JlZW46XCIjM0NCMzcxXCIsbWVkaXVtc2xhdGVibHVlOlwiIzdCNjhFRVwiLG1lZGl1bXNwcmluZ2dyZWVuOlwiIzAwRkE5QVwiLG1lZGl1bXR1cnF1b2lzZTpcIiM0OEQxQ0NcIixtZWRpdW12aW9sZXRyZWQ6XCIjQzcxNTg1XCIsbWlkbmlnaHRibHVlOlwiIzE5MTk3MFwiLG1pbnRjcmVhbTpcIiNGNUZGRkFcIixtaXN0eXJvc2U6XCIjRkZFNEUxXCIsbW9jY2FzaW46XCIjRkZFNEI1XCIsbmF2YWpvd2hpdGU6XCIjRkZERUFEXCIsbmF2eTpcIiMwMDAwODBcIixvbGRsYWNlOlwiI0ZERjVFNlwiLG9saXZlOlwiIzgwODAwMFwiLG9saXZlZHJhYjpcIiM2QjhFMjNcIixvcmFuZ2U6XCIjRkZBNTAwXCIsb3JhbmdlcmVkOlwiI0ZGNDUwMFwiLG9yY2hpZDpcIiNEQTcwRDZcIixwYWxlZ29sZGVucm9kOlwiI0VFRThBQVwiLHBhbGVncmVlbjpcIiM5OEZCOThcIixwYWxldHVycXVvaXNlOlwiI0FGRUVFRVwiLHBhbGV2aW9sZXRyZWQ6XCIjREI3MDkzXCIscGFwYXlhd2hpcDpcIiNGRkVGRDVcIixwZWFjaHB1ZmY6XCIjRkZEQUI5XCIscGVydTpcIiNDRDg1M0ZcIixwaW5rOlwiI0ZGQzBDQlwiLHBsdW06XCIjRERBMEREXCIscG93ZGVyYmx1ZTpcIiNCMEUwRTZcIixwdXJwbGU6XCIjODAwMDgwXCIscmViZWNjYXB1cnBsZTpcIiM2MzlcIixyZWQ6XCIjRjAwXCIscm9zeWJyb3duOlwiI0JDOEY4RlwiLHJveWFsYmx1ZTpcIiM0MTY5RTFcIixzYWRkbGVicm93bjpcIiM4QjQ1MTNcIixzYWxtb246XCIjRkE4MDcyXCIsc2FuZHlicm93bjpcIiNGNEE0NjBcIixzZWFncmVlbjpcIiMyRThCNTdcIixzZWFzaGVsbDpcIiNGRkY1RUVcIixzaWVubmE6XCIjQTA1MjJEXCIsc2lsdmVyOlwiI0MwQzBDMFwiLHNreWJsdWU6XCIjODdDRUVCXCIsc2xhdGVibHVlOlwiIzZBNUFDRFwiLHNsYXRlZ3JheTpcIiM3MDgwOTBcIixzbGF0ZWdyZXk6XCIjNzA4MDkwXCIsc25vdzpcIiNGRkZBRkFcIixzcHJpbmdncmVlbjpcIiMwMEZGN0ZcIixzdGVlbGJsdWU6XCIjNDY4MkI0XCIsdGFuOlwiI0QyQjQ4Q1wiLHRlYWw6XCIjMDA4MDgwXCIsdGhpc3RsZTpcIiNEOEJGRDhcIix0b21hdG86XCIjRkY2MzQ3XCIsdHVycXVvaXNlOlwiIzQwRTBEMFwiLHZpb2xldDpcIiNFRTgyRUVcIix3aGVhdDpcIiNGNURFQjNcIix3aGl0ZTpcIiNGRkZcIix3aGl0ZXNtb2tlOlwiI0Y1RjVGNVwiLHllbGxvdzpcIiNGRjBcIix5ZWxsb3dncmVlbjpcIiM5QUNEMzJcIn0sQWU9KHQsZSxzKT0+KHM8MCYmKHMrPTEpLHM+MSYmKHMtPTEpLHM8MS82P3QrNiooZS10KSpzOnM8LjU/ZTpzPDIvMz90KyhlLXQpKigyLzMtcykqNjp0KSxqZT0odCxlLHMsaSk9Pnt0Lz0yNTUsZS89MjU1LHMvPTI1NTtjb25zdCByPU1hdGgubWF4KHQsZSxzKSxuPU1hdGgubWluKHQsZSxzKTtsZXQgbyxhO2NvbnN0IGg9KHIrbikvMjtpZihyPT09bilvPWE9MDtlbHNle2NvbnN0IGk9ci1uO3N3aXRjaChhPWg+LjU/aS8oMi1yLW4pOmkvKHIrbikscil7Y2FzZSB0Om89KGUtcykvaSsoZTxzPzY6MCk7YnJlYWs7Y2FzZSBlOm89KHMtdCkvaSsyO2JyZWFrO2Nhc2UgczpvPSh0LWUpL2krNH1vLz02fXJldHVybltNYXRoLnJvdW5kKDM2MCpvKSxNYXRoLnJvdW5kKDEwMCphKSxNYXRoLnJvdW5kKDEwMCpoKSxpXX0sRmU9ZnVuY3Rpb24oKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06XCIxXCI7cmV0dXJuIHBhcnNlRmxvYXQodCkvKHQuZW5kc1dpdGgoXCIlXCIpPzEwMDoxKX0sTGU9dD0+TWF0aC5taW4oTWF0aC5yb3VuZCh0KSwyNTUpLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpLnBhZFN0YXJ0KDIsXCIwXCIpLFJlPXQ9PntsZXRbZSxzLGkscj0xXT10O2NvbnN0IG49TWF0aC5yb3VuZCguMyplKy41OSpzKy4xMSppKTtyZXR1cm5bbixuLG4scl19O2NsYXNzIElle2NvbnN0cnVjdG9yKGUpe2lmKHQodGhpcyxcImlzVW5yZWNvZ25pc2VkXCIsITEpLGUpaWYoZSBpbnN0YW5jZW9mIEllKXRoaXMuc2V0U291cmNlKFsuLi5lLl9zb3VyY2VdKTtlbHNlIGlmKEFycmF5LmlzQXJyYXkoZSkpe2NvbnN0W3QscyxpLHI9MV09ZTt0aGlzLnNldFNvdXJjZShbdCxzLGkscl0pfWVsc2UgdGhpcy5zZXRTb3VyY2UodGhpcy5fdHJ5UGFyc2luZ0NvbG9yKGUpKTtlbHNlIHRoaXMuc2V0U291cmNlKFswLDAsMCwxXSl9X3RyeVBhcnNpbmdDb2xvcih0KXtyZXR1cm4odD10LnRvTG93ZXJDYXNlKCkpaW4gRWUmJih0PUVlW3RdKSxcInRyYW5zcGFyZW50XCI9PT10P1syNTUsMjU1LDI1NSwwXTpJZS5zb3VyY2VGcm9tSGV4KHQpfHxJZS5zb3VyY2VGcm9tUmdiKHQpfHxJZS5zb3VyY2VGcm9tSHNsKHQpfHwodGhpcy5pc1VucmVjb2duaXNlZD0hMCkmJlswLDAsMCwxXX1nZXRTb3VyY2UoKXtyZXR1cm4gdGhpcy5fc291cmNlfXNldFNvdXJjZSh0KXt0aGlzLl9zb3VyY2U9dH10b1JnYigpe2NvbnN0W3QsZSxzXT10aGlzLmdldFNvdXJjZSgpO3JldHVyblwicmdiKFwiLmNvbmNhdCh0LFwiLFwiKS5jb25jYXQoZSxcIixcIikuY29uY2F0KHMsXCIpXCIpfXRvUmdiYSgpe3JldHVyblwicmdiYShcIi5jb25jYXQodGhpcy5nZXRTb3VyY2UoKS5qb2luKFwiLFwiKSxcIilcIil9dG9Ic2woKXtjb25zdFt0LGUsc109amUoLi4udGhpcy5nZXRTb3VyY2UoKSk7cmV0dXJuXCJoc2woXCIuY29uY2F0KHQsXCIsXCIpLmNvbmNhdChlLFwiJSxcIikuY29uY2F0KHMsXCIlKVwiKX10b0hzbGEoKXtjb25zdFt0LGUscyxpXT1qZSguLi50aGlzLmdldFNvdXJjZSgpKTtyZXR1cm5cImhzbGEoXCIuY29uY2F0KHQsXCIsXCIpLmNvbmNhdChlLFwiJSxcIikuY29uY2F0KHMsXCIlLFwiKS5jb25jYXQoaSxcIilcIil9dG9IZXgoKXtyZXR1cm4gdGhpcy50b0hleGEoKS5zbGljZSgwLDYpfXRvSGV4YSgpe2NvbnN0W3QsZSxzLGldPXRoaXMuZ2V0U291cmNlKCk7cmV0dXJuXCJcIi5jb25jYXQoTGUodCkpLmNvbmNhdChMZShlKSkuY29uY2F0KExlKHMpKS5jb25jYXQoTGUoTWF0aC5yb3VuZCgyNTUqaSkpKX1nZXRBbHBoYSgpe3JldHVybiB0aGlzLmdldFNvdXJjZSgpWzNdfXNldEFscGhhKHQpe3JldHVybiB0aGlzLl9zb3VyY2VbM109dCx0aGlzfXRvR3JheXNjYWxlKCl7cmV0dXJuIHRoaXMuc2V0U291cmNlKFJlKHRoaXMuZ2V0U291cmNlKCkpKSx0aGlzfXRvQmxhY2tXaGl0ZSh0KXtjb25zdFtlLCwsc109UmUodGhpcy5nZXRTb3VyY2UoKSksaT1lPCh0fHwxMjcpPzA6MjU1O3JldHVybiB0aGlzLnNldFNvdXJjZShbaSxpLGksc10pLHRoaXN9b3ZlcmxheVdpdGgodCl7dCBpbnN0YW5jZW9mIEllfHwodD1uZXcgSWUodCkpO2NvbnN0IGU9dGhpcy5nZXRTb3VyY2UoKSxzPXQuZ2V0U291cmNlKCksW2kscixuXT1lLm1hcCgoKHQsZSk9Pk1hdGgucm91bmQoLjUqdCsuNSpzW2VdKSkpO3JldHVybiB0aGlzLnNldFNvdXJjZShbaSxyLG4sZVszXV0pLHRoaXN9c3RhdGljIGZyb21SZ2IodCl7cmV0dXJuIEllLmZyb21SZ2JhKHQpfXN0YXRpYyBmcm9tUmdiYSh0KXtyZXR1cm4gbmV3IEllKEllLnNvdXJjZUZyb21SZ2IodCkpfXN0YXRpYyBzb3VyY2VGcm9tUmdiKHQpe2NvbnN0IGU9UGUodCkubWF0Y2goL15yZ2JhP1xcKFxccz8oXFxkezAsM30oPzpcXC5cXGQrKT8lPylcXHM/W1xcc3wsXVxccz8oXFxkezAsM30oPzpcXC5cXGQrKT8lPylcXHM/W1xcc3wsXVxccz8oXFxkezAsM30oPzpcXC5cXGQrKT8lPylcXHM/KD86XFxzP1ssL11cXHM/KFxcZHswLDN9KD86XFwuXFxkKyk/JT8pXFxzPyk/XFwpJC9pKTtpZihlKXtjb25zdFt0LHMsaV09ZS5zbGljZSgxLDQpLm1hcCgodD0+e2NvbnN0IGU9cGFyc2VGbG9hdCh0KTtyZXR1cm4gdC5lbmRzV2l0aChcIiVcIik/TWF0aC5yb3VuZCgyLjU1KmUpOmV9KSk7cmV0dXJuW3QscyxpLEZlKGVbNF0pXX19c3RhdGljIGZyb21Ic2wodCl7cmV0dXJuIEllLmZyb21Ic2xhKHQpfXN0YXRpYyBmcm9tSHNsYSh0KXtyZXR1cm4gbmV3IEllKEllLnNvdXJjZUZyb21Ic2wodCkpfXN0YXRpYyBzb3VyY2VGcm9tSHNsKHQpe2NvbnN0IGU9UGUodCkubWF0Y2goL15oc2xhP1xcKFxccz8oWystXT9cXGR7MCwzfSg/OlxcLlxcZCspPyg/OmRlZ3x0dXJufHJhZCk/KVxccz9bXFxzfCxdXFxzPyhcXGR7MCwzfSg/OlxcLlxcZCspPyU/KVxccz9bXFxzfCxdXFxzPyhcXGR7MCwzfSg/OlxcLlxcZCspPyU/KVxccz8oPzpcXHM/WywvXVxccz8oXFxkKig/OlxcLlxcZCspPyU/KVxccz8pP1xcKSQvaSk7aWYoIWUpcmV0dXJuO2NvbnN0IHM9KEllLnBhcnNlQW5nbGV0b0RlZ3JlZXMoZVsxXSklMzYwKzM2MCklMzYwLzM2MCxpPXBhcnNlRmxvYXQoZVsyXSkvMTAwLHI9cGFyc2VGbG9hdChlWzNdKS8xMDA7bGV0IG4sbyxhO2lmKDA9PT1pKW49bz1hPXI7ZWxzZXtjb25zdCB0PXI8PS41P3IqKGkrMSk6citpLXIqaSxlPTIqci10O249QWUoZSx0LHMrMS8zKSxvPUFlKGUsdCxzKSxhPUFlKGUsdCxzLTEvMyl9cmV0dXJuW01hdGgucm91bmQoMjU1Km4pLE1hdGgucm91bmQoMjU1Km8pLE1hdGgucm91bmQoMjU1KmEpLEZlKGVbNF0pXX1zdGF0aWMgZnJvbUhleCh0KXtyZXR1cm4gbmV3IEllKEllLnNvdXJjZUZyb21IZXgodCkpfXN0YXRpYyBzb3VyY2VGcm9tSGV4KHQpe2lmKHQubWF0Y2goL14jPygoWzAtOWEtZl0pezMsNH18KFswLTlhLWZdezJ9KXszLDR9KSQvaSkpe2NvbnN0IGU9dC5zbGljZSh0LmluZGV4T2YoXCIjXCIpKzEpO2xldCBzO3M9ZS5sZW5ndGg8PTQ/ZS5zcGxpdChcIlwiKS5tYXAoKHQ9PnQrdCkpOmUubWF0Y2goLy57Mn0vZyk7Y29uc3RbaSxyLG4sbz0yNTVdPXMubWFwKCh0PT5wYXJzZUludCh0LDE2KSkpO3JldHVybltpLHIsbixvLzI1NV19fXN0YXRpYyBwYXJzZUFuZ2xldG9EZWdyZWVzKHQpe2NvbnN0IGU9dC50b0xvd2VyQ2FzZSgpLHM9cGFyc2VGbG9hdChlKTtyZXR1cm4gZS5pbmNsdWRlcyhcInJhZFwiKT9DdChzKTplLmluY2x1ZGVzKFwidHVyblwiKT8zNjAqczpzfX1jb25zdCBCZT1mdW5jdGlvbih0KXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06Tztjb25zdCBzPS9cXER7MCwyfSQvLmV4ZWModCksaT1wYXJzZUZsb2F0KHQpLHI9by5EUEk7c3dpdGNoKG51bGw9PXM/dm9pZCAwOnNbMF0pe2Nhc2VcIm1tXCI6cmV0dXJuIGkqci8yNS40O2Nhc2VcImNtXCI6cmV0dXJuIGkqci8yLjU0O2Nhc2VcImluXCI6cmV0dXJuIGkqcjtjYXNlXCJwdFwiOnJldHVybiBpKnIvNzI7Y2FzZVwicGNcIjpyZXR1cm4gaSpyLzcyKjEyO2Nhc2VcImVtXCI6cmV0dXJuIGkqZTtkZWZhdWx0OnJldHVybiBpfX0sWGU9dD0+e2NvbnN0W2Usc109dC50cmltKCkuc3BsaXQoXCIgXCIpLFtpLHJdPShuPWUpJiZuIT09aj9bbi5zbGljZSgxLDQpLG4uc2xpY2UoNSw4KV06bj09PWo/W24sbl06W1wiTWlkXCIsXCJNaWRcIl07dmFyIG47cmV0dXJue21lZXRPclNsaWNlOnN8fFwibWVldFwiLGFsaWduWDppLGFsaWduWTpyfX0sWWU9ZnVuY3Rpb24odCxlKXtsZXQgcyxpLHI9IShhcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSl8fGFyZ3VtZW50c1syXTtpZihlKWlmKGUudG9MaXZlKXM9XCJ1cmwoI1NWR0lEX1wiLmNvbmNhdChlLmlkLFwiKVwiKTtlbHNle2NvbnN0IHQ9bmV3IEllKGUpLHI9dC5nZXRBbHBoYSgpO3M9dC50b1JnYigpLDEhPT1yJiYoaT1yLnRvU3RyaW5nKCkpfWVsc2Ugcz1cIm5vbmVcIjtyZXR1cm4gcj9cIlwiLmNvbmNhdCh0LFwiOiBcIikuY29uY2F0KHMsXCI7IFwiKS5jb25jYXQoaT9cIlwiLmNvbmNhdCh0LFwiLW9wYWNpdHk6IFwiKS5jb25jYXQoaSxcIjsgXCIpOlwiXCIpOlwiXCIuY29uY2F0KHQsJz1cIicpLmNvbmNhdChzLCdcIiAnKS5jb25jYXQoaT9cIlwiLmNvbmNhdCh0LCctb3BhY2l0eT1cIicpLmNvbmNhdChpLCdcIiAnKTpcIlwiKX07Y2xhc3MgV2V7Z2V0U3ZnU3R5bGVzKHQpe2NvbnN0IGU9dGhpcy5maWxsUnVsZT90aGlzLmZpbGxSdWxlOlwibm9uemVyb1wiLHM9dGhpcy5zdHJva2VXaWR0aD90aGlzLnN0cm9rZVdpZHRoOlwiMFwiLGk9dGhpcy5zdHJva2VEYXNoQXJyYXk/dGhpcy5zdHJva2VEYXNoQXJyYXkuam9pbihcIiBcIik6aixyPXRoaXMuc3Ryb2tlRGFzaE9mZnNldD90aGlzLnN0cm9rZURhc2hPZmZzZXQ6XCIwXCIsbj10aGlzLnN0cm9rZUxpbmVDYXA/dGhpcy5zdHJva2VMaW5lQ2FwOlwiYnV0dFwiLG89dGhpcy5zdHJva2VMaW5lSm9pbj90aGlzLnN0cm9rZUxpbmVKb2luOlwibWl0ZXJcIixhPXRoaXMuc3Ryb2tlTWl0ZXJMaW1pdD90aGlzLnN0cm9rZU1pdGVyTGltaXQ6XCI0XCIsaD12b2lkIDAhPT10aGlzLm9wYWNpdHk/dGhpcy5vcGFjaXR5OlwiMVwiLGM9dGhpcy52aXNpYmxlP1wiXCI6XCIgdmlzaWJpbGl0eTogaGlkZGVuO1wiLGw9dD9cIlwiOnRoaXMuZ2V0U3ZnRmlsdGVyKCksdT1ZZShLLHRoaXMuZmlsbCk7cmV0dXJuW1llKEosdGhpcy5zdHJva2UpLFwic3Ryb2tlLXdpZHRoOiBcIixzLFwiOyBcIixcInN0cm9rZS1kYXNoYXJyYXk6IFwiLGksXCI7IFwiLFwic3Ryb2tlLWxpbmVjYXA6IFwiLG4sXCI7IFwiLFwic3Ryb2tlLWRhc2hvZmZzZXQ6IFwiLHIsXCI7IFwiLFwic3Ryb2tlLWxpbmVqb2luOiBcIixvLFwiOyBcIixcInN0cm9rZS1taXRlcmxpbWl0OiBcIixhLFwiOyBcIix1LFwiZmlsbC1ydWxlOiBcIixlLFwiOyBcIixcIm9wYWNpdHk6IFwiLGgsXCI7XCIsbCxjXS5qb2luKFwiXCIpfWdldFN2Z0ZpbHRlcigpe3JldHVybiB0aGlzLnNoYWRvdz9cImZpbHRlcjogdXJsKCNTVkdJRF9cIi5jb25jYXQodGhpcy5zaGFkb3cuaWQsXCIpO1wiKTpcIlwifWdldFN2Z0NvbW1vbnMoKXtyZXR1cm5bdGhpcy5pZD8naWQ9XCInLmNvbmNhdCh0aGlzLmlkLCdcIiAnKTpcIlwiLHRoaXMuY2xpcFBhdGg/J2NsaXAtcGF0aD1cInVybCgjJy5jb25jYXQodGhpcy5jbGlwUGF0aC5jbGlwUGF0aElkLCcpXCIgJyk6XCJcIl0uam9pbihcIlwiKX1nZXRTdmdUcmFuc2Zvcm0odCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlwiXCI7Y29uc3Qgcz10P3RoaXMuY2FsY1RyYW5zZm9ybU1hdHJpeCgpOnRoaXMuY2FsY093bk1hdHJpeCgpLGk9J3RyYW5zZm9ybT1cIicuY29uY2F0KHp0KHMpKTtyZXR1cm5cIlwiLmNvbmNhdChpKS5jb25jYXQoZSwnXCIgJyl9X3RvU1ZHKHQpe3JldHVybltcIlwiXX10b1NWRyh0KXtyZXR1cm4gdGhpcy5fY3JlYXRlQmFzZVNWR01hcmt1cCh0aGlzLl90b1NWRyh0KSx7cmV2aXZlcjp0fSl9dG9DbGlwUGF0aFNWRyh0KXtyZXR1cm5cIlxcdFwiK3RoaXMuX2NyZWF0ZUJhc2VDbGlwUGF0aFNWR01hcmt1cCh0aGlzLl90b1NWRyh0KSx7cmV2aXZlcjp0fSl9X2NyZWF0ZUJhc2VDbGlwUGF0aFNWR01hcmt1cCh0KXtsZXR7cmV2aXZlcjplLGFkZGl0aW9uYWxUcmFuc2Zvcm06cz1cIlwifT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307Y29uc3QgaT1bdGhpcy5nZXRTdmdUcmFuc2Zvcm0oITAscyksdGhpcy5nZXRTdmdDb21tb25zKCldLmpvaW4oXCJcIikscj10LmluZGV4T2YoXCJDT01NT05fUEFSVFNcIik7cmV0dXJuIHRbcl09aSxlP2UodC5qb2luKFwiXCIpKTp0LmpvaW4oXCJcIil9X2NyZWF0ZUJhc2VTVkdNYXJrdXAodCl7bGV0e25vU3R5bGU6ZSxyZXZpdmVyOnMsd2l0aFNoYWRvdzppLGFkZGl0aW9uYWxUcmFuc2Zvcm06cn09YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O2NvbnN0IG49ZT9cIlwiOidzdHlsZT1cIicuY29uY2F0KHRoaXMuZ2V0U3ZnU3R5bGVzKCksJ1wiICcpLG89aT8nc3R5bGU9XCInLmNvbmNhdCh0aGlzLmdldFN2Z0ZpbHRlcigpLCdcIiAnKTpcIlwiLGE9dGhpcy5jbGlwUGF0aCxoPXRoaXMuc3Ryb2tlVW5pZm9ybT8ndmVjdG9yLWVmZmVjdD1cIm5vbi1zY2FsaW5nLXN0cm9rZVwiICc6XCJcIixjPWEmJmEuYWJzb2x1dGVQb3NpdGlvbmVkLGw9dGhpcy5zdHJva2UsdT10aGlzLmZpbGwsZD10aGlzLnNoYWRvdyxnPVtdLGY9dC5pbmRleE9mKFwiQ09NTU9OX1BBUlRTXCIpO2xldCBwO2EmJihhLmNsaXBQYXRoSWQ9XCJDTElQUEFUSF9cIi5jb25jYXQoZnQoKSkscD0nPGNsaXBQYXRoIGlkPVwiJy5jb25jYXQoYS5jbGlwUGF0aElkLCdcIiA+XFxuJykuY29uY2F0KGEudG9DbGlwUGF0aFNWRyhzKSxcIjwvY2xpcFBhdGg+XFxuXCIpKSxjJiZnLnB1c2goXCI8ZyBcIixvLHRoaXMuZ2V0U3ZnQ29tbW9ucygpLFwiID5cXG5cIiksZy5wdXNoKFwiPGcgXCIsdGhpcy5nZXRTdmdUcmFuc2Zvcm0oITEpLGM/XCJcIjpvK3RoaXMuZ2V0U3ZnQ29tbW9ucygpLFwiID5cXG5cIik7Y29uc3QgbT1bbixoLGU/XCJcIjp0aGlzLmFkZFBhaW50T3JkZXIoKSxcIiBcIixyPyd0cmFuc2Zvcm09XCInLmNvbmNhdChyLCdcIiAnKTpcIlwiXS5qb2luKFwiXCIpO3JldHVybiB0W2ZdPW0sR3QodSkmJmcucHVzaCh1LnRvU1ZHKHRoaXMpKSxHdChsKSYmZy5wdXNoKGwudG9TVkcodGhpcykpLGQmJmcucHVzaChkLnRvU1ZHKHRoaXMpKSxhJiZnLnB1c2gocCksZy5wdXNoKHQuam9pbihcIlwiKSksZy5wdXNoKFwiPC9nPlxcblwiKSxjJiZnLnB1c2goXCI8L2c+XFxuXCIpLHM/cyhnLmpvaW4oXCJcIikpOmcuam9pbihcIlwiKX1hZGRQYWludE9yZGVyKCl7cmV0dXJuIHRoaXMucGFpbnRGaXJzdCE9PUs/JyBwYWludC1vcmRlcj1cIicuY29uY2F0KHRoaXMucGFpbnRGaXJzdCwnXCIgJyk6XCJcIn19ZnVuY3Rpb24gVmUodCl7cmV0dXJuIG5ldyBSZWdFeHAoXCJeKFwiK3Quam9pbihcInxcIikrXCIpXFxcXGJcIixcImlcIil9Y29uc3QgemU9XCJ0ZXh0RGVjb3JhdGlvblRoaWNrbmVzc1wiLEdlPVtcImZvbnRTaXplXCIsXCJmb250V2VpZ2h0XCIsXCJmb250RmFtaWx5XCIsXCJmb250U3R5bGVcIl0sSGU9W1widW5kZXJsaW5lXCIsXCJvdmVybGluZVwiLFwibGluZXRocm91Z2hcIl0sTmU9Wy4uLkdlLFwibGluZUhlaWdodFwiLFwidGV4dFwiLFwiY2hhclNwYWNpbmdcIixcInRleHRBbGlnblwiLFwic3R5bGVzXCIsXCJwYXRoXCIsXCJwYXRoU3RhcnRPZmZzZXRcIixcInBhdGhTaWRlXCIsXCJwYXRoQWxpZ25cIl0sVWU9Wy4uLk5lLC4uLkhlLFwidGV4dEJhY2tncm91bmRDb2xvclwiLFwiZGlyZWN0aW9uXCIsemVdLHFlPVsuLi5HZSwuLi5IZSxKLFwic3Ryb2tlV2lkdGhcIixLLFwiZGVsdGFZXCIsXCJ0ZXh0QmFja2dyb3VuZENvbG9yXCIsemVdLEtlPXtfcmVOZXdsaW5lOkYsX3JlU3BhY2VzQW5kVGFiczovWyBcXHRcXHJdL2csX3JlU3BhY2VBbmRUYWI6L1sgXFx0XFxyXS8sX3JlV29yZHM6L1xcUysvZyxmb250U2l6ZTo0MCxmb250V2VpZ2h0Olwibm9ybWFsXCIsZm9udEZhbWlseTpcIlRpbWVzIE5ldyBSb21hblwiLHVuZGVybGluZTohMSxvdmVybGluZTohMSxsaW5ldGhyb3VnaDohMSx0ZXh0QWxpZ246TSxmb250U3R5bGU6XCJub3JtYWxcIixsaW5lSGVpZ2h0OjEuMTYsdGV4dEJhY2tncm91bmRDb2xvcjpcIlwiLHN0cm9rZTpudWxsLHNoYWRvdzpudWxsLHBhdGg6dm9pZCAwLHBhdGhTdGFydE9mZnNldDowLHBhdGhTaWRlOk0scGF0aEFsaWduOlwiYmFzZWxpbmVcIixjaGFyU3BhY2luZzowLGRlbHRhWTowLGRpcmVjdGlvbjpcImx0clwiLENBQ0hFX0ZPTlRfU0laRTo0MDAsTUlOX1RFWFRfV0lEVEg6MixzdXBlcnNjcmlwdDp7c2l6ZTouNixiYXNlbGluZTotLjM1fSxzdWJzY3JpcHQ6e3NpemU6LjYsYmFzZWxpbmU6LjExfSxfZm9udFNpemVGcmFjdGlvbjouMjIyLG9mZnNldHM6e3VuZGVybGluZTouMSxsaW5ldGhyb3VnaDotLjI4MTY3LG92ZXJsaW5lOi0uODEzMzN9LF9mb250U2l6ZU11bHQ6MS4xMyxbemVdOjY2LjY2N30sSmU9XCJqdXN0aWZ5XCIsUWU9XCJqdXN0aWZ5LWxlZnRcIixaZT1cImp1c3RpZnktcmlnaHRcIiwkZT1cImp1c3RpZnktY2VudGVyXCI7dmFyIHRzLGVzLHNzO2NvbnN0IGlzPVN0cmluZy5yYXcodHN8fCh0cz1yKFtcIlstK10/KD86ZCouZCt8ZCsuPykoPzpbZUVdWy0rXT9kKyk/XCJdLFtcIlstK10/KD86XFxcXGQqXFxcXC5cXFxcZCt8XFxcXGQrXFxcXC4/KSg/OltlRV1bLStdP1xcXFxkKyk/XCJdKSkpLHJzPVN0cmluZy5yYXcoZXN8fChlcz1yKFtcIig/OnMqLD9zK3xzKixzKilcIl0sW1wiKD86XFxcXHMqLD9cXFxccyt8XFxcXHMqLFxcXFxzKilcIl0pKSksbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLG9zPW5ldyBSZWdFeHAoXCIobm9ybWFsfGl0YWxpYyk/XFxcXHMqKG5vcm1hbHxzbWFsbC1jYXBzKT9cXFxccyoobm9ybWFsfGJvbGR8Ym9sZGVyfGxpZ2h0ZXJ8MTAwfDIwMHwzMDB8NDAwfDUwMHw2MDB8NzAwfDgwMHw5MDApP1xcXFxzKihcIitpcytcIig/OnB4fGNtfG1tfGVtfHB0fHBjfGluKSopKD86XFxcXC8obm9ybWFsfFwiK2lzK1wiKSk/XFxcXHMrKC4qKVwiKSxhcz17Y3g6TSx4Ok0scjpcInJhZGl1c1wiLGN5OlAseTpQLGRpc3BsYXk6XCJ2aXNpYmxlXCIsdmlzaWJpbGl0eTpcInZpc2libGVcIix0cmFuc2Zvcm06XCJ0cmFuc2Zvcm1NYXRyaXhcIixcImZpbGwtb3BhY2l0eVwiOlwiZmlsbE9wYWNpdHlcIixcImZpbGwtcnVsZVwiOlwiZmlsbFJ1bGVcIixcImZvbnQtZmFtaWx5XCI6XCJmb250RmFtaWx5XCIsXCJmb250LXNpemVcIjpcImZvbnRTaXplXCIsXCJmb250LXN0eWxlXCI6XCJmb250U3R5bGVcIixcImZvbnQtd2VpZ2h0XCI6XCJmb250V2VpZ2h0XCIsXCJsZXR0ZXItc3BhY2luZ1wiOlwiY2hhclNwYWNpbmdcIixcInBhaW50LW9yZGVyXCI6XCJwYWludEZpcnN0XCIsXCJzdHJva2UtZGFzaGFycmF5XCI6XCJzdHJva2VEYXNoQXJyYXlcIixcInN0cm9rZS1kYXNob2Zmc2V0XCI6XCJzdHJva2VEYXNoT2Zmc2V0XCIsXCJzdHJva2UtbGluZWNhcFwiOlwic3Ryb2tlTGluZUNhcFwiLFwic3Ryb2tlLWxpbmVqb2luXCI6XCJzdHJva2VMaW5lSm9pblwiLFwic3Ryb2tlLW1pdGVybGltaXRcIjpcInN0cm9rZU1pdGVyTGltaXRcIixcInN0cm9rZS1vcGFjaXR5XCI6XCJzdHJva2VPcGFjaXR5XCIsXCJzdHJva2Utd2lkdGhcIjpcInN0cm9rZVdpZHRoXCIsXCJ0ZXh0LWRlY29yYXRpb25cIjpcInRleHREZWNvcmF0aW9uXCIsXCJ0ZXh0LWFuY2hvclwiOlwidGV4dEFuY2hvclwiLG9wYWNpdHk6XCJvcGFjaXR5XCIsXCJjbGlwLXBhdGhcIjpcImNsaXBQYXRoXCIsXCJjbGlwLXJ1bGVcIjpcImNsaXBSdWxlXCIsXCJ2ZWN0b3ItZWZmZWN0XCI6XCJzdHJva2VVbmlmb3JtXCIsXCJpbWFnZS1yZW5kZXJpbmdcIjpcImltYWdlU21vb3RoaW5nXCIsXCJ0ZXh0LWRlY29yYXRpb24tdGhpY2tuZXNzXCI6emV9LGhzPVwiZm9udC1zaXplXCIsY3M9XCJjbGlwLXBhdGhcIixscz1WZShbXCJwYXRoXCIsXCJjaXJjbGVcIixcInBvbHlnb25cIixcInBvbHlsaW5lXCIsXCJlbGxpcHNlXCIsXCJyZWN0XCIsXCJsaW5lXCIsXCJpbWFnZVwiLFwidGV4dFwiXSksdXM9VmUoW1wic3ltYm9sXCIsXCJpbWFnZVwiLFwibWFya2VyXCIsXCJwYXR0ZXJuXCIsXCJ2aWV3XCIsXCJzdmdcIl0pLGRzPVZlKFtcInN5bWJvbFwiLFwiZ1wiLFwiYVwiLFwic3ZnXCIsXCJjbGlwUGF0aFwiLFwiZGVmc1wiXSksZ3M9bmV3IFJlZ0V4cChTdHJpbmcucmF3KHNzfHwoc3M9cihbXCJecyooXCIsXCIpXCIsXCIoXCIsXCIpXCIsXCIoXCIsXCIpXCIsXCIoXCIsXCIpcyokXCJdLFtcIl5cXFxccyooXCIsXCIpXCIsXCIoXCIsXCIpXCIsXCIoXCIsXCIpXCIsXCIoXCIsXCIpXFxcXHMqJFwiXSkpLGlzLHJzLGlzLHJzLGlzLHJzLGlzKSksZnM9bmV3IG90KDEsMCkscHM9bmV3IG90LG1zPSh0LGUpPT50LnJvdGF0ZShlKSx2cz0odCxlKT0+bmV3IG90KGUpLnN1YnRyYWN0KHQpLHlzPXQ9PnQuZGlzdGFuY2VGcm9tKHBzKSxfcz0odCxlKT0+TWF0aC5hdGFuMihTcyh0LGUpLHdzKHQsZSkpLHhzPXQ9Pl9zKGZzLHQpLENzPXQ9PnQuZXEocHMpP3Q6dC5zY2FsYXJEaXZpZGUoeXModCkpLGJzPWZ1bmN0aW9uKHQpe2xldCBlPSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV07cmV0dXJuIENzKG5ldyBvdCgtdC55LHQueCkuc2NhbGFyTXVsdGlwbHkoZT8xOi0xKSl9LFNzPSh0LGUpPT50LngqZS55LXQueSplLngsd3M9KHQsZSk9PnQueCplLngrdC55KmUueSxUcz0odCxlLHMpPT57aWYodC5lcShlKXx8dC5lcShzKSlyZXR1cm4hMDtjb25zdCBpPVNzKGUscykscj1TcyhlLHQpLG49U3Mocyx0KTtyZXR1cm4gaT49MD9yPj0wJiZuPD0wOiEocjw9MCYmbj49MCl9LE9zPVwiKC0/XFxcXGQrKD86XFxcXC5cXFxcZCopPyg/OnB4KT8oPzpcXFxccz98JCkpP1wiLGtzPW5ldyBSZWdFeHAoXCIoPzpcXFxcc3xeKVwiK09zK09zK1wiKFwiK2lzK1wiPyg/OnB4KT8pPyg/OlxcXFxzP3wkKSg/OiR8XFxcXHMpXCIpO2NsYXNzIERze2NvbnN0cnVjdG9yKHQpe2NvbnN0IGU9XCJzdHJpbmdcIj09dHlwZW9mIHQ/RHMucGFyc2VTaGFkb3codCk6dDtPYmplY3QuYXNzaWduKHRoaXMsRHMub3duRGVmYXVsdHMsZSksdGhpcy5pZD1mdCgpfXN0YXRpYyBwYXJzZVNoYWRvdyh0KXtjb25zdCBlPXQudHJpbSgpLFsscz0wLGk9MCxyPTBdPShrcy5leGVjKGUpfHxbXSkubWFwKCh0PT5wYXJzZUZsb2F0KHQpfHwwKSk7cmV0dXJue2NvbG9yOihlLnJlcGxhY2Uoa3MsXCJcIil8fFwicmdiKDAsMCwwKVwiKS50cmltKCksb2Zmc2V0WDpzLG9mZnNldFk6aSxibHVyOnJ9fXRvU3RyaW5nKCl7cmV0dXJuW3RoaXMub2Zmc2V0WCx0aGlzLm9mZnNldFksdGhpcy5ibHVyLHRoaXMuY29sb3JdLmpvaW4oXCJweCBcIil9dG9TVkcodCl7Y29uc3QgZT1tcyhuZXcgb3QodGhpcy5vZmZzZXRYLHRoaXMub2Zmc2V0WSkseHQoLXQuYW5nbGUpKSxzPW5ldyBJZSh0aGlzLmNvbG9yKTtsZXQgaT00MCxyPTQwO3JldHVybiB0LndpZHRoJiZ0LmhlaWdodCYmKGk9MTAwKlZ0KChNYXRoLmFicyhlLngpK3RoaXMuYmx1cikvdC53aWR0aCxvLk5VTV9GUkFDVElPTl9ESUdJVFMpKzIwLHI9MTAwKlZ0KChNYXRoLmFicyhlLnkpK3RoaXMuYmx1cikvdC5oZWlnaHQsby5OVU1fRlJBQ1RJT05fRElHSVRTKSsyMCksdC5mbGlwWCYmKGUueCo9LTEpLHQuZmxpcFkmJihlLnkqPS0xKSwnPGZpbHRlciBpZD1cIlNWR0lEXycuY29uY2F0KHRoaXMuaWQsJ1wiIHk9XCItJykuY29uY2F0KHIsJyVcIiBoZWlnaHQ9XCInKS5jb25jYXQoMTAwKzIqciwnJVwiIHg9XCItJykuY29uY2F0KGksJyVcIiB3aWR0aD1cIicpLmNvbmNhdCgxMDArMippLCclXCIgPlxcblxcdDxmZUdhdXNzaWFuQmx1ciBpbj1cIlNvdXJjZUFscGhhXCIgc3RkRGV2aWF0aW9uPVwiJykuY29uY2F0KFZ0KHRoaXMuYmx1cj90aGlzLmJsdXIvMjowLG8uTlVNX0ZSQUNUSU9OX0RJR0lUUyksJ1wiPjwvZmVHYXVzc2lhbkJsdXI+XFxuXFx0PGZlT2Zmc2V0IGR4PVwiJykuY29uY2F0KFZ0KGUueCxvLk5VTV9GUkFDVElPTl9ESUdJVFMpLCdcIiBkeT1cIicpLmNvbmNhdChWdChlLnksby5OVU1fRlJBQ1RJT05fRElHSVRTKSwnXCIgcmVzdWx0PVwib0JsdXJcIiA+PC9mZU9mZnNldD5cXG5cXHQ8ZmVGbG9vZCBmbG9vZC1jb2xvcj1cIicpLmNvbmNhdChzLnRvUmdiKCksJ1wiIGZsb29kLW9wYWNpdHk9XCInKS5jb25jYXQocy5nZXRBbHBoYSgpLCdcIi8+XFxuXFx0PGZlQ29tcG9zaXRlIGluMj1cIm9CbHVyXCIgb3BlcmF0b3I9XCJpblwiIC8+XFxuXFx0PGZlTWVyZ2U+XFxuXFx0XFx0PGZlTWVyZ2VOb2RlPjwvZmVNZXJnZU5vZGU+XFxuXFx0XFx0PGZlTWVyZ2VOb2RlIGluPVwiU291cmNlR3JhcGhpY1wiPjwvZmVNZXJnZU5vZGU+XFxuXFx0PC9mZU1lcmdlPlxcbjwvZmlsdGVyPlxcbicpfXRvT2JqZWN0KCl7Y29uc3QgdD17Y29sb3I6dGhpcy5jb2xvcixibHVyOnRoaXMuYmx1cixvZmZzZXRYOnRoaXMub2Zmc2V0WCxvZmZzZXRZOnRoaXMub2Zmc2V0WSxhZmZlY3RTdHJva2U6dGhpcy5hZmZlY3RTdHJva2Usbm9uU2NhbGluZzp0aGlzLm5vblNjYWxpbmcsdHlwZTp0aGlzLmNvbnN0cnVjdG9yLnR5cGV9LGU9RHMub3duRGVmYXVsdHM7cmV0dXJuIHRoaXMuaW5jbHVkZURlZmF1bHRWYWx1ZXM/dDpXdCh0LCgodCxzKT0+dCE9PWVbc10pKX1zdGF0aWMgYXN5bmMgZnJvbU9iamVjdCh0KXtyZXR1cm4gbmV3IHRoaXModCl9fXQoRHMsXCJvd25EZWZhdWx0c1wiLHtjb2xvcjpcInJnYigwLDAsMClcIixibHVyOjAsb2Zmc2V0WDowLG9mZnNldFk6MCxhZmZlY3RTdHJva2U6ITEsaW5jbHVkZURlZmF1bHRWYWx1ZXM6ITAsbm9uU2NhbGluZzohMX0pLHQoRHMsXCJ0eXBlXCIsXCJzaGFkb3dcIiksdHQuc2V0Q2xhc3MoRHMsXCJzaGFkb3dcIik7Y29uc3QgTXM9KHQsZSxzKT0+TWF0aC5tYXgodCxNYXRoLm1pbihlLHMpKSxQcz1bUCxNLEgsTixcImZsaXBYXCIsXCJmbGlwWVwiLFwib3JpZ2luWFwiLFwib3JpZ2luWVwiLFwiYW5nbGVcIixcIm9wYWNpdHlcIixcImdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvblwiLFwic2hhZG93XCIsXCJ2aXNpYmxlXCIsVSxxXSxFcz1bSyxKLFwic3Ryb2tlV2lkdGhcIixcInN0cm9rZURhc2hBcnJheVwiLFwid2lkdGhcIixcImhlaWdodFwiLFwicGFpbnRGaXJzdFwiLFwic3Ryb2tlVW5pZm9ybVwiLFwic3Ryb2tlTGluZUNhcFwiLFwic3Ryb2tlRGFzaE9mZnNldFwiLFwic3Ryb2tlTGluZUpvaW5cIixcInN0cm9rZU1pdGVyTGltaXRcIixcImJhY2tncm91bmRDb2xvclwiLFwiY2xpcFBhdGhcIl0sQXM9e3RvcDowLGxlZnQ6MCx3aWR0aDowLGhlaWdodDowLGFuZ2xlOjAsZmxpcFg6ITEsZmxpcFk6ITEsc2NhbGVYOjEsc2NhbGVZOjEsbWluU2NhbGVMaW1pdDowLHNrZXdYOjAsc2tld1k6MCxvcmlnaW5YOk0sb3JpZ2luWTpQLHN0cm9rZVdpZHRoOjEsc3Ryb2tlVW5pZm9ybTohMSxwYWRkaW5nOjAsb3BhY2l0eToxLHBhaW50Rmlyc3Q6SyxmaWxsOlwicmdiKDAsMCwwKVwiLGZpbGxSdWxlOlwibm9uemVyb1wiLHN0cm9rZTpudWxsLHN0cm9rZURhc2hBcnJheTpudWxsLHN0cm9rZURhc2hPZmZzZXQ6MCxzdHJva2VMaW5lQ2FwOlwiYnV0dFwiLHN0cm9rZUxpbmVKb2luOlwibWl0ZXJcIixzdHJva2VNaXRlckxpbWl0OjQsZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uOlwic291cmNlLW92ZXJcIixiYWNrZ3JvdW5kQ29sb3I6XCJcIixzaGFkb3c6bnVsbCx2aXNpYmxlOiEwLGluY2x1ZGVEZWZhdWx0VmFsdWVzOiEwLGV4Y2x1ZGVGcm9tRXhwb3J0OiExLG9iamVjdENhY2hpbmc6ITAsY2xpcFBhdGg6dm9pZCAwLGludmVydGVkOiExLGFic29sdXRlUG9zaXRpb25lZDohMSxjZW50ZXJlZFJvdGF0aW9uOiEwLGNlbnRlcmVkU2NhbGluZzohMSxkaXJ0eTohMH0sanM9KHQsZSxzLGkpPT4odDxNYXRoLmFicyhlKT8odD1lLGk9cy80KTppPTA9PT1lJiYwPT09dD9zL1MqTWF0aC5hc2luKDEpOnMvUypNYXRoLmFzaW4oZS90KSx7YTp0LGM6ZSxwOnMsczppfSksRnM9KHQsZSxzLGkscik9PnQqTWF0aC5wb3coMiwxMCooaS09MSkpKk1hdGguc2luKChpKnItZSkqUy9zKSxMcz0odCxlLHMsaSk9Pi1zKk1hdGguY29zKHQvaSpiKStzK2UsUnM9KHQsZSxzLGkpPT4odC89aSk8MS8yLjc1P3MqKDcuNTYyNSp0KnQpK2U6dDwyLzIuNzU/cyooNy41NjI1Kih0LT0xLjUvMi43NSkqdCsuNzUpK2U6dDwyLjUvMi43NT9zKig3LjU2MjUqKHQtPTIuMjUvMi43NSkqdCsuOTM3NSkrZTpzKig3LjU2MjUqKHQtPTIuNjI1LzIuNzUpKnQrLjk4NDM3NSkrZSxJcz0odCxlLHMsaSk9PnMtUnMoaS10LDAscyxpKStlO3ZhciBCcz1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxkZWZhdWx0RWFzaW5nOkxzLGVhc2VJbkJhY2s6ZnVuY3Rpb24odCxlLHMsaSl7bGV0IHI9YXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0/YXJndW1lbnRzWzRdOjEuNzAxNTg7cmV0dXJuIHMqKHQvPWkpKnQqKChyKzEpKnQtcikrZX0sZWFzZUluQm91bmNlOklzLGVhc2VJbkNpcmM6KHQsZSxzLGkpPT4tcyooTWF0aC5zcXJ0KDEtKHQvPWkpKnQpLTEpK2UsZWFzZUluQ3ViaWM6KHQsZSxzLGkpPT5zKih0L2kpKiozK2UsZWFzZUluRWxhc3RpYzoodCxlLHMsaSk9Pntjb25zdCByPXM7bGV0IG49MDtpZigwPT09dClyZXR1cm4gZTtpZigxPT09KHQvPWkpKXJldHVybiBlK3M7bnx8KG49LjMqaSk7Y29uc3R7YTpvLHM6YSxwOmh9PWpzKHIscyxuLDEuNzAxNTgpO3JldHVybi1GcyhvLGEsaCx0LGkpK2V9LGVhc2VJbkV4cG86KHQsZSxzLGkpPT4wPT09dD9lOnMqMioqKDEwKih0L2ktMSkpK2UsZWFzZUluT3V0QmFjazpmdW5jdGlvbih0LGUscyxpKXtsZXQgcj1hcmd1bWVudHMubGVuZ3RoPjQmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XT9hcmd1bWVudHNbNF06MS43MDE1ODtyZXR1cm4odC89aS8yKTwxP3MvMioodCp0KigoMSsocio9MS41MjUpKSp0LXIpKStlOnMvMiooKHQtPTIpKnQqKCgxKyhyKj0xLjUyNSkpKnQrcikrMikrZX0sZWFzZUluT3V0Qm91bmNlOih0LGUscyxpKT0+dDxpLzI/LjUqSXMoMip0LDAscyxpKStlOi41KlJzKDIqdC1pLDAscyxpKSsuNSpzK2UsZWFzZUluT3V0Q2lyYzoodCxlLHMsaSk9Pih0Lz1pLzIpPDE/LXMvMiooTWF0aC5zcXJ0KDEtdCoqMiktMSkrZTpzLzIqKE1hdGguc3FydCgxLSh0LT0yKSp0KSsxKStlLGVhc2VJbk91dEN1YmljOih0LGUscyxpKT0+KHQvPWkvMik8MT9zLzIqdCoqMytlOnMvMiooKHQtMikqKjMrMikrZSxlYXNlSW5PdXRFbGFzdGljOih0LGUscyxpKT0+e2NvbnN0IHI9cztsZXQgbj0wO2lmKDA9PT10KXJldHVybiBlO2lmKDI9PT0odC89aS8yKSlyZXR1cm4gZStzO258fChuPWkqKC4zKjEuNSkpO2NvbnN0e2E6byxzOmEscDpoLGM6Y309anMocixzLG4sMS43MDE1OCk7cmV0dXJuIHQ8MT8tLjUqRnMobyxhLGgsdCxpKStlOm8qTWF0aC5wb3coMiwtMTAqKHQtPTEpKSpNYXRoLnNpbigodCppLWEpKlMvaCkqLjUrYytlfSxlYXNlSW5PdXRFeHBvOih0LGUscyxpKT0+MD09PXQ/ZTp0PT09aT9lK3M6KHQvPWkvMik8MT9zLzIqMioqKDEwKih0LTEpKStlOnMvMiotKDIqKigtMTAqLS10KSsyKStlLGVhc2VJbk91dFF1YWQ6KHQsZSxzLGkpPT4odC89aS8yKTwxP3MvMip0KioyK2U6LXMvMiooLS10Kih0LTIpLTEpK2UsZWFzZUluT3V0UXVhcnQ6KHQsZSxzLGkpPT4odC89aS8yKTwxP3MvMip0Kio0K2U6LXMvMiooKHQtPTIpKnQqKjMtMikrZSxlYXNlSW5PdXRRdWludDoodCxlLHMsaSk9Pih0Lz1pLzIpPDE/cy8yKnQqKjUrZTpzLzIqKCh0LTIpKio1KzIpK2UsZWFzZUluT3V0U2luZToodCxlLHMsaSk9Pi1zLzIqKE1hdGguY29zKE1hdGguUEkqdC9pKS0xKStlLGVhc2VJblF1YWQ6KHQsZSxzLGkpPT5zKih0Lz1pKSp0K2UsZWFzZUluUXVhcnQ6KHQsZSxzLGkpPT5zKih0Lz1pKSp0KiozK2UsZWFzZUluUXVpbnQ6KHQsZSxzLGkpPT5zKih0L2kpKio1K2UsZWFzZUluU2luZToodCxlLHMsaSk9Pi1zKk1hdGguY29zKHQvaSpiKStzK2UsZWFzZU91dEJhY2s6ZnVuY3Rpb24odCxlLHMsaSl7bGV0IHI9YXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0/YXJndW1lbnRzWzRdOjEuNzAxNTg7cmV0dXJuIHMqKCh0PXQvaS0xKSp0KigocisxKSp0K3IpKzEpK2V9LGVhc2VPdXRCb3VuY2U6UnMsZWFzZU91dENpcmM6KHQsZSxzLGkpPT5zKk1hdGguc3FydCgxLSh0PXQvaS0xKSp0KStlLGVhc2VPdXRDdWJpYzoodCxlLHMsaSk9PnMqKCh0L2ktMSkqKjMrMSkrZSxlYXNlT3V0RWxhc3RpYzoodCxlLHMsaSk9Pntjb25zdCByPXM7bGV0IG49MDtpZigwPT09dClyZXR1cm4gZTtpZigxPT09KHQvPWkpKXJldHVybiBlK3M7bnx8KG49LjMqaSk7Y29uc3R7YTpvLHM6YSxwOmgsYzpjfT1qcyhyLHMsbiwxLjcwMTU4KTtyZXR1cm4gbyoyKiooLTEwKnQpKk1hdGguc2luKCh0KmktYSkqUy9oKStjK2V9LGVhc2VPdXRFeHBvOih0LGUscyxpKT0+dD09PWk/ZStzOnMqLSgyKiooLTEwKnQvaSkrMSkrZSxlYXNlT3V0UXVhZDoodCxlLHMsaSk9Pi1zKih0Lz1pKSoodC0yKStlLGVhc2VPdXRRdWFydDoodCxlLHMsaSk9Pi1zKigodD10L2ktMSkqdCoqMy0xKStlLGVhc2VPdXRRdWludDoodCxlLHMsaSk9PnMqKCh0L2ktMSkqKjUrMSkrZSxlYXNlT3V0U2luZToodCxlLHMsaSk9PnMqTWF0aC5zaW4odC9pKmIpK2V9KTtjb25zdCBYcz0oKT0+ITE7Y2xhc3MgWXN7Y29uc3RydWN0b3IoZSl7bGV0e3N0YXJ0VmFsdWU6cyxieVZhbHVlOmksZHVyYXRpb246cj01MDAsZGVsYXk6bj0wLGVhc2luZzpvPUxzLG9uU3RhcnQ6YT1DLG9uQ2hhbmdlOmg9QyxvbkNvbXBsZXRlOmM9QyxhYm9ydDpsPVhzLHRhcmdldDp1fT1lO3QodGhpcyxcIl9zdGF0ZVwiLFwicGVuZGluZ1wiKSx0KHRoaXMsXCJkdXJhdGlvblByb2dyZXNzXCIsMCksdCh0aGlzLFwidmFsdWVQcm9ncmVzc1wiLDApLHRoaXMudGljaz10aGlzLnRpY2suYmluZCh0aGlzKSx0aGlzLmR1cmF0aW9uPXIsdGhpcy5kZWxheT1uLHRoaXMuZWFzaW5nPW8sdGhpcy5fb25TdGFydD1hLHRoaXMuX29uQ2hhbmdlPWgsdGhpcy5fb25Db21wbGV0ZT1jLHRoaXMuX2Fib3J0PWwsdGhpcy50YXJnZXQ9dSx0aGlzLnN0YXJ0VmFsdWU9cyx0aGlzLmJ5VmFsdWU9aSx0aGlzLnZhbHVlPXRoaXMuc3RhcnRWYWx1ZSx0aGlzLmVuZFZhbHVlPU9iamVjdC5mcmVlemUodGhpcy5jYWxjdWxhdGUodGhpcy5kdXJhdGlvbikudmFsdWUpfWdldCBzdGF0ZSgpe3JldHVybiB0aGlzLl9zdGF0ZX1pc0RvbmUoKXtyZXR1cm5cImFib3J0ZWRcIj09PXRoaXMuX3N0YXRlfHxcImNvbXBsZXRlZFwiPT09dGhpcy5fc3RhdGV9c3RhcnQoKXtjb25zdCB0PXQ9PntcInBlbmRpbmdcIj09PXRoaXMuX3N0YXRlJiYodGhpcy5zdGFydFRpbWU9dHx8K25ldyBEYXRlLHRoaXMuX3N0YXRlPVwicnVubmluZ1wiLHRoaXMuX29uU3RhcnQoKSx0aGlzLnRpY2sodGhpcy5zdGFydFRpbWUpKX07dGhpcy5yZWdpc3RlcigpLHRoaXMuZGVsYXk+MD9zZXRUaW1lb3V0KCgoKT0+dXQodCkpLHRoaXMuZGVsYXkpOnV0KHQpfXRpY2sodCl7Y29uc3QgZT0odHx8K25ldyBEYXRlKS10aGlzLnN0YXJ0VGltZSxzPU1hdGgubWluKGUsdGhpcy5kdXJhdGlvbik7dGhpcy5kdXJhdGlvblByb2dyZXNzPXMvdGhpcy5kdXJhdGlvbjtjb25zdHt2YWx1ZTppLHZhbHVlUHJvZ3Jlc3M6cn09dGhpcy5jYWxjdWxhdGUocyk7dGhpcy52YWx1ZT1PYmplY3QuZnJlZXplKGkpLHRoaXMudmFsdWVQcm9ncmVzcz1yLFwiYWJvcnRlZFwiIT09dGhpcy5fc3RhdGUmJih0aGlzLl9hYm9ydCh0aGlzLnZhbHVlLHRoaXMudmFsdWVQcm9ncmVzcyx0aGlzLmR1cmF0aW9uUHJvZ3Jlc3MpPyh0aGlzLl9zdGF0ZT1cImFib3J0ZWRcIix0aGlzLnVucmVnaXN0ZXIoKSk6ZT49dGhpcy5kdXJhdGlvbj8odGhpcy5kdXJhdGlvblByb2dyZXNzPXRoaXMudmFsdWVQcm9ncmVzcz0xLHRoaXMuX29uQ2hhbmdlKHRoaXMuZW5kVmFsdWUsdGhpcy52YWx1ZVByb2dyZXNzLHRoaXMuZHVyYXRpb25Qcm9ncmVzcyksdGhpcy5fc3RhdGU9XCJjb21wbGV0ZWRcIix0aGlzLl9vbkNvbXBsZXRlKHRoaXMuZW5kVmFsdWUsdGhpcy52YWx1ZVByb2dyZXNzLHRoaXMuZHVyYXRpb25Qcm9ncmVzcyksdGhpcy51bnJlZ2lzdGVyKCkpOih0aGlzLl9vbkNoYW5nZSh0aGlzLnZhbHVlLHRoaXMudmFsdWVQcm9ncmVzcyx0aGlzLmR1cmF0aW9uUHJvZ3Jlc3MpLHV0KHRoaXMudGljaykpKX1yZWdpc3Rlcigpe2V0LnB1c2godGhpcyl9dW5yZWdpc3Rlcigpe2V0LnJlbW92ZSh0aGlzKX1hYm9ydCgpe3RoaXMuX3N0YXRlPVwiYWJvcnRlZFwiLHRoaXMudW5yZWdpc3RlcigpfX1jb25zdCBXcz1bXCJzdGFydFZhbHVlXCIsXCJlbmRWYWx1ZVwiXTtjbGFzcyBWcyBleHRlbmRzIFlze2NvbnN0cnVjdG9yKHQpe2xldHtzdGFydFZhbHVlOmU9MCxlbmRWYWx1ZTpyPTEwMH09dDtzdXBlcihzKHMoe30saSh0LFdzKSkse30se3N0YXJ0VmFsdWU6ZSxieVZhbHVlOnItZX0pKX1jYWxjdWxhdGUodCl7Y29uc3QgZT10aGlzLmVhc2luZyh0LHRoaXMuc3RhcnRWYWx1ZSx0aGlzLmJ5VmFsdWUsdGhpcy5kdXJhdGlvbik7cmV0dXJue3ZhbHVlOmUsdmFsdWVQcm9ncmVzczpNYXRoLmFicygoZS10aGlzLnN0YXJ0VmFsdWUpL3RoaXMuYnlWYWx1ZSl9fX1jb25zdCB6cz1bXCJzdGFydFZhbHVlXCIsXCJlbmRWYWx1ZVwiXTtjbGFzcyBHcyBleHRlbmRzIFlze2NvbnN0cnVjdG9yKHQpe2xldHtzdGFydFZhbHVlOmU9WzBdLGVuZFZhbHVlOnI9WzEwMF19PXQ7c3VwZXIocyhzKHt9LGkodCx6cykpLHt9LHtzdGFydFZhbHVlOmUsYnlWYWx1ZTpyLm1hcCgoKHQscyk9PnQtZVtzXSkpfSkpfWNhbGN1bGF0ZSh0KXtjb25zdCBlPXRoaXMuc3RhcnRWYWx1ZS5tYXAoKChlLHMpPT50aGlzLmVhc2luZyh0LGUsdGhpcy5ieVZhbHVlW3NdLHRoaXMuZHVyYXRpb24scykpKTtyZXR1cm57dmFsdWU6ZSx2YWx1ZVByb2dyZXNzOk1hdGguYWJzKChlWzBdLXRoaXMuc3RhcnRWYWx1ZVswXSkvdGhpcy5ieVZhbHVlWzBdKX19fWNvbnN0IEhzPVtcInN0YXJ0VmFsdWVcIixcImVuZFZhbHVlXCIsXCJlYXNpbmdcIixcIm9uQ2hhbmdlXCIsXCJvbkNvbXBsZXRlXCIsXCJhYm9ydFwiXSxOcz0odCxlLHMsaSk9PmUrcyooMS1NYXRoLmNvcyh0L2kqYikpLFVzPXQ9PnQmJigoZSxzLGkpPT50KG5ldyBJZShlKS50b1JnYmEoKSxzLGkpKTtjbGFzcyBxcyBleHRlbmRzIFlze2NvbnN0cnVjdG9yKHQpe2xldHtzdGFydFZhbHVlOmUsZW5kVmFsdWU6cixlYXNpbmc6bj1OcyxvbkNoYW5nZTpvLG9uQ29tcGxldGU6YSxhYm9ydDpofT10LGM9aSh0LEhzKTtjb25zdCBsPW5ldyBJZShlKS5nZXRTb3VyY2UoKSx1PW5ldyBJZShyKS5nZXRTb3VyY2UoKTtzdXBlcihzKHMoe30sYykse30se3N0YXJ0VmFsdWU6bCxieVZhbHVlOnUubWFwKCgodCxlKT0+dC1sW2VdKSksZWFzaW5nOm4sb25DaGFuZ2U6VXMobyksb25Db21wbGV0ZTpVcyhhKSxhYm9ydDpVcyhoKX0pKX1jYWxjdWxhdGUodCl7Y29uc3RbZSxzLGkscl09dGhpcy5zdGFydFZhbHVlLm1hcCgoKGUscyk9PnRoaXMuZWFzaW5nKHQsZSx0aGlzLmJ5VmFsdWVbc10sdGhpcy5kdXJhdGlvbixzKSkpLG49Wy4uLltlLHMsaV0ubWFwKE1hdGgucm91bmQpLE1zKDAsciwxKV07cmV0dXJue3ZhbHVlOm4sdmFsdWVQcm9ncmVzczpuLm1hcCgoKHQsZSk9PjAhPT10aGlzLmJ5VmFsdWVbZV0/TWF0aC5hYnMoKHQtdGhpcy5zdGFydFZhbHVlW2VdKS90aGlzLmJ5VmFsdWVbZV0pOjApKS5maW5kKCh0PT4wIT09dCkpfHwwfX19ZnVuY3Rpb24gS3ModCl7Y29uc3QgZT0odD0+QXJyYXkuaXNBcnJheSh0LnN0YXJ0VmFsdWUpfHxBcnJheS5pc0FycmF5KHQuZW5kVmFsdWUpKSh0KT9uZXcgR3ModCk6bmV3IFZzKHQpO3JldHVybiBlLnN0YXJ0KCksZX1mdW5jdGlvbiBKcyh0KXtjb25zdCBlPW5ldyBxcyh0KTtyZXR1cm4gZS5zdGFydCgpLGV9Y2xhc3MgUXN7Y29uc3RydWN0b3IodCl7dGhpcy5zdGF0dXM9dCx0aGlzLnBvaW50cz1bXX1pbmNsdWRlcyh0KXtyZXR1cm4gdGhpcy5wb2ludHMuc29tZSgoZT0+ZS5lcSh0KSkpfWFwcGVuZCgpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGU9bmV3IEFycmF5KHQpLHM9MDtzPHQ7cysrKWVbc109YXJndW1lbnRzW3NdO3JldHVybiB0aGlzLnBvaW50cz10aGlzLnBvaW50cy5jb25jYXQoZS5maWx0ZXIoKHQ9PiF0aGlzLmluY2x1ZGVzKHQpKSkpLHRoaXN9c3RhdGljIGlzUG9pbnRDb250YWluZWQodCxlLHMpe2xldCBpPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdJiZhcmd1bWVudHNbM107aWYoZS5lcShzKSlyZXR1cm4gdC5lcShlKTtpZihlLng9PT1zLngpcmV0dXJuIHQueD09PWUueCYmKGl8fHQueT49TWF0aC5taW4oZS55LHMueSkmJnQueTw9TWF0aC5tYXgoZS55LHMueSkpO2lmKGUueT09PXMueSlyZXR1cm4gdC55PT09ZS55JiYoaXx8dC54Pj1NYXRoLm1pbihlLngscy54KSYmdC54PD1NYXRoLm1heChlLngscy54KSk7e2NvbnN0IHI9dnMoZSxzKSxuPXZzKGUsdCkuZGl2aWRlKHIpO3JldHVybiBpP01hdGguYWJzKG4ueCk9PT1NYXRoLmFicyhuLnkpOm4ueD09PW4ueSYmbi54Pj0wJiZuLng8PTF9fXN0YXRpYyBpc1BvaW50SW5Qb2x5Z29uKHQsZSl7Y29uc3Qgcz1uZXcgb3QodCkuc2V0WChNYXRoLm1pbih0LngtMSwuLi5lLm1hcCgodD0+dC54KSkpKTtsZXQgaT0wO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKXtjb25zdCBuPXRoaXMuaW50ZXJzZWN0U2VnbWVudFNlZ21lbnQoZVtyXSxlWyhyKzEpJWUubGVuZ3RoXSx0LHMpO2lmKG4uaW5jbHVkZXModCkpcmV0dXJuITA7aSs9TnVtYmVyKFwiSW50ZXJzZWN0aW9uXCI9PT1uLnN0YXR1cyl9cmV0dXJuIGklMj09MX1zdGF0aWMgaW50ZXJzZWN0TGluZUxpbmUodCxlLHMsaSl7bGV0IHI9IShhcmd1bWVudHMubGVuZ3RoPjQmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XSl8fGFyZ3VtZW50c1s0XSxuPSEoYXJndW1lbnRzLmxlbmd0aD41JiZ2b2lkIDAhPT1hcmd1bWVudHNbNV0pfHxhcmd1bWVudHNbNV07Y29uc3Qgbz1lLngtdC54LGE9ZS55LXQueSxoPWkueC1zLngsYz1pLnktcy55LGw9dC54LXMueCx1PXQueS1zLnksZD1oKnUtYypsLGc9byp1LWEqbCxmPWMqby1oKmE7aWYoMCE9PWYpe2NvbnN0IGU9ZC9mLHM9Zy9mO3JldHVybihyfHwwPD1lJiZlPD0xKSYmKG58fDA8PXMmJnM8PTEpP25ldyBRcyhcIkludGVyc2VjdGlvblwiKS5hcHBlbmQobmV3IG90KHQueCtlKm8sdC55K2UqYSkpOm5ldyBRc31pZigwPT09ZHx8MD09PWcpe2NvbnN0IG89cnx8bnx8UXMuaXNQb2ludENvbnRhaW5lZCh0LHMsaSl8fFFzLmlzUG9pbnRDb250YWluZWQoZSxzLGkpfHxRcy5pc1BvaW50Q29udGFpbmVkKHMsdCxlKXx8UXMuaXNQb2ludENvbnRhaW5lZChpLHQsZSk7cmV0dXJuIG5ldyBRcyhvP1wiQ29pbmNpZGVudFwiOnZvaWQgMCl9cmV0dXJuIG5ldyBRcyhcIlBhcmFsbGVsXCIpfXN0YXRpYyBpbnRlcnNlY3RTZWdtZW50TGluZSh0LGUscyxpKXtyZXR1cm4gUXMuaW50ZXJzZWN0TGluZUxpbmUodCxlLHMsaSwhMSwhMCl9c3RhdGljIGludGVyc2VjdFNlZ21lbnRTZWdtZW50KHQsZSxzLGkpe3JldHVybiBRcy5pbnRlcnNlY3RMaW5lTGluZSh0LGUscyxpLCExLCExKX1zdGF0aWMgaW50ZXJzZWN0TGluZVBvbHlnb24odCxlLHMpe2xldCBpPSEoYXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10pfHxhcmd1bWVudHNbM107Y29uc3Qgcj1uZXcgUXMsbj1zLmxlbmd0aDtmb3IobGV0IG8sYSxoLGM9MDtjPG47YysrKXtpZihvPXNbY10sYT1zWyhjKzEpJW5dLGg9UXMuaW50ZXJzZWN0TGluZUxpbmUodCxlLG8sYSxpLCExKSxcIkNvaW5jaWRlbnRcIj09PWguc3RhdHVzKXJldHVybiBoO3IuYXBwZW5kKC4uLmgucG9pbnRzKX1yZXR1cm4gci5wb2ludHMubGVuZ3RoPjAmJihyLnN0YXR1cz1cIkludGVyc2VjdGlvblwiKSxyfXN0YXRpYyBpbnRlcnNlY3RTZWdtZW50UG9seWdvbih0LGUscyl7cmV0dXJuIFFzLmludGVyc2VjdExpbmVQb2x5Z29uKHQsZSxzLCExKX1zdGF0aWMgaW50ZXJzZWN0UG9seWdvblBvbHlnb24odCxlKXtjb25zdCBzPW5ldyBRcyxpPXQubGVuZ3RoLHI9W107Zm9yKGxldCBuPTA7bjxpO24rKyl7Y29uc3Qgbz10W25dLGE9dFsobisxKSVpXSxoPVFzLmludGVyc2VjdFNlZ21lbnRQb2x5Z29uKG8sYSxlKTtcIkNvaW5jaWRlbnRcIj09PWguc3RhdHVzPyhyLnB1c2goaCkscy5hcHBlbmQobyxhKSk6cy5hcHBlbmQoLi4uaC5wb2ludHMpfXJldHVybiByLmxlbmd0aD4wJiZyLmxlbmd0aD09PXQubGVuZ3RoP25ldyBRcyhcIkNvaW5jaWRlbnRcIik6KHMucG9pbnRzLmxlbmd0aD4wJiYocy5zdGF0dXM9XCJJbnRlcnNlY3Rpb25cIikscyl9c3RhdGljIGludGVyc2VjdFBvbHlnb25SZWN0YW5nbGUodCxlLHMpe2NvbnN0IGk9ZS5taW4ocykscj1lLm1heChzKSxuPW5ldyBvdChyLngsaS55KSxvPW5ldyBvdChpLngsci55KTtyZXR1cm4gUXMuaW50ZXJzZWN0UG9seWdvblBvbHlnb24odCxbaSxuLHIsb10pfX1jbGFzcyBacyBleHRlbmRzIGx0e2dldFgoKXtyZXR1cm4gdGhpcy5nZXRYWSgpLnh9c2V0WCh0KXt0aGlzLnNldFhZKHRoaXMuZ2V0WFkoKS5zZXRYKHQpKX1nZXRZKCl7cmV0dXJuIHRoaXMuZ2V0WFkoKS55fXNldFkodCl7dGhpcy5zZXRYWSh0aGlzLmdldFhZKCkuc2V0WSh0KSl9Z2V0UmVsYXRpdmVYKCl7cmV0dXJuIHRoaXMubGVmdH1zZXRSZWxhdGl2ZVgodCl7dGhpcy5sZWZ0PXR9Z2V0UmVsYXRpdmVZKCl7cmV0dXJuIHRoaXMudG9wfXNldFJlbGF0aXZlWSh0KXt0aGlzLnRvcD10fWdldFhZKCl7Y29uc3QgdD10aGlzLmdldFJlbGF0aXZlWFkoKTtyZXR1cm4gdGhpcy5ncm91cD9TdCh0LHRoaXMuZ3JvdXAuY2FsY1RyYW5zZm9ybU1hdHJpeCgpKTp0fXNldFhZKHQsZSxzKXt0aGlzLmdyb3VwJiYodD1TdCh0LHd0KHRoaXMuZ3JvdXAuY2FsY1RyYW5zZm9ybU1hdHJpeCgpKSkpLHRoaXMuc2V0UmVsYXRpdmVYWSh0LGUscyl9Z2V0UmVsYXRpdmVYWSgpe3JldHVybiBuZXcgb3QodGhpcy5sZWZ0LHRoaXMudG9wKX1zZXRSZWxhdGl2ZVhZKHQpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp0aGlzLm9yaWdpblgscz1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06dGhpcy5vcmlnaW5ZO3RoaXMuc2V0UG9zaXRpb25CeU9yaWdpbih0LGUscyl9aXNTdHJva2VBY2NvdW50ZWRGb3JJbkRpbWVuc2lvbnMoKXtyZXR1cm4hMX1nZXRDb29yZHMoKXtjb25zdHt0bDp0LHRyOmUsYnI6cyxibDppfT10aGlzLmFDb29yZHN8fCh0aGlzLmFDb29yZHM9dGhpcy5jYWxjQUNvb3JkcygpKSxyPVt0LGUscyxpXTtpZih0aGlzLmdyb3VwKXtjb25zdCB0PXRoaXMuZ3JvdXAuY2FsY1RyYW5zZm9ybU1hdHJpeCgpO3JldHVybiByLm1hcCgoZT0+U3QoZSx0KSkpfXJldHVybiByfWludGVyc2VjdHNXaXRoUmVjdCh0LGUpe3JldHVyblwiSW50ZXJzZWN0aW9uXCI9PT1Rcy5pbnRlcnNlY3RQb2x5Z29uUmVjdGFuZ2xlKHRoaXMuZ2V0Q29vcmRzKCksdCxlKS5zdGF0dXN9aW50ZXJzZWN0c1dpdGhPYmplY3QodCl7Y29uc3QgZT1Rcy5pbnRlcnNlY3RQb2x5Z29uUG9seWdvbih0aGlzLmdldENvb3JkcygpLHQuZ2V0Q29vcmRzKCkpO3JldHVyblwiSW50ZXJzZWN0aW9uXCI9PT1lLnN0YXR1c3x8XCJDb2luY2lkZW50XCI9PT1lLnN0YXR1c3x8dC5pc0NvbnRhaW5lZFdpdGhpbk9iamVjdCh0aGlzKXx8dGhpcy5pc0NvbnRhaW5lZFdpdGhpbk9iamVjdCh0KX1pc0NvbnRhaW5lZFdpdGhpbk9iamVjdCh0KXtyZXR1cm4gdGhpcy5nZXRDb29yZHMoKS5ldmVyeSgoZT0+dC5jb250YWluc1BvaW50KGUpKSl9aXNDb250YWluZWRXaXRoaW5SZWN0KHQsZSl7Y29uc3R7bGVmdDpzLHRvcDppLHdpZHRoOnIsaGVpZ2h0Om59PXRoaXMuZ2V0Qm91bmRpbmdSZWN0KCk7cmV0dXJuIHM+PXQueCYmcytyPD1lLngmJmk+PXQueSYmaStuPD1lLnl9aXNPdmVybGFwcGluZyh0KXtyZXR1cm4gdGhpcy5pbnRlcnNlY3RzV2l0aE9iamVjdCh0KXx8dGhpcy5pc0NvbnRhaW5lZFdpdGhpbk9iamVjdCh0KXx8dC5pc0NvbnRhaW5lZFdpdGhpbk9iamVjdCh0aGlzKX1jb250YWluc1BvaW50KHQpe3JldHVybiBRcy5pc1BvaW50SW5Qb2x5Z29uKHQsdGhpcy5nZXRDb29yZHMoKSl9aXNPblNjcmVlbigpe2lmKCF0aGlzLmNhbnZhcylyZXR1cm4hMTtjb25zdHt0bDp0LGJyOmV9PXRoaXMuY2FudmFzLnZwdENvb3JkcztyZXR1cm4hIXRoaXMuZ2V0Q29vcmRzKCkuc29tZSgocz0+cy54PD1lLngmJnMueD49dC54JiZzLnk8PWUueSYmcy55Pj10LnkpKXx8KCEhdGhpcy5pbnRlcnNlY3RzV2l0aFJlY3QodCxlKXx8dGhpcy5jb250YWluc1BvaW50KHQubWlkUG9pbnRGcm9tKGUpKSl9aXNQYXJ0aWFsbHlPblNjcmVlbigpe2lmKCF0aGlzLmNhbnZhcylyZXR1cm4hMTtjb25zdHt0bDp0LGJyOmV9PXRoaXMuY2FudmFzLnZwdENvb3JkcztpZih0aGlzLmludGVyc2VjdHNXaXRoUmVjdCh0LGUpKXJldHVybiEwO3JldHVybiB0aGlzLmdldENvb3JkcygpLmV2ZXJ5KChzPT4ocy54Pj1lLnh8fHMueDw9dC54KSYmKHMueT49ZS55fHxzLnk8PXQueSkpKSYmdGhpcy5jb250YWluc1BvaW50KHQubWlkUG9pbnRGcm9tKGUpKX1nZXRCb3VuZGluZ1JlY3QoKXtyZXR1cm4gaGUodGhpcy5nZXRDb29yZHMoKSl9Z2V0U2NhbGVkV2lkdGgoKXtyZXR1cm4gdGhpcy5fZ2V0VHJhbnNmb3JtZWREaW1lbnNpb25zKCkueH1nZXRTY2FsZWRIZWlnaHQoKXtyZXR1cm4gdGhpcy5fZ2V0VHJhbnNmb3JtZWREaW1lbnNpb25zKCkueX1zY2FsZSh0KXt0aGlzLl9zZXQoSCx0KSx0aGlzLl9zZXQoTix0KSx0aGlzLnNldENvb3JkcygpfXNjYWxlVG9XaWR0aCh0KXtjb25zdCBlPXRoaXMuZ2V0Qm91bmRpbmdSZWN0KCkud2lkdGgvdGhpcy5nZXRTY2FsZWRXaWR0aCgpO3JldHVybiB0aGlzLnNjYWxlKHQvdGhpcy53aWR0aC9lKX1zY2FsZVRvSGVpZ2h0KHQpe2NvbnN0IGU9dGhpcy5nZXRCb3VuZGluZ1JlY3QoKS5oZWlnaHQvdGhpcy5nZXRTY2FsZWRIZWlnaHQoKTtyZXR1cm4gdGhpcy5zY2FsZSh0L3RoaXMuaGVpZ2h0L2UpfWdldENhbnZhc1JldGluYVNjYWxpbmcoKXt2YXIgdDtyZXR1cm4obnVsbD09PSh0PXRoaXMuY2FudmFzKXx8dm9pZCAwPT09dD92b2lkIDA6dC5nZXRSZXRpbmFTY2FsaW5nKCkpfHwxfWdldFRvdGFsQW5nbGUoKXtyZXR1cm4gdGhpcy5ncm91cD9DdChrdCh0aGlzLmNhbGNUcmFuc2Zvcm1NYXRyaXgoKSkpOnRoaXMuYW5nbGV9Z2V0Vmlld3BvcnRUcmFuc2Zvcm0oKXt2YXIgdDtyZXR1cm4obnVsbD09PSh0PXRoaXMuY2FudmFzKXx8dm9pZCAwPT09dD92b2lkIDA6dC52aWV3cG9ydFRyYW5zZm9ybSl8fFQuY29uY2F0KCl9Y2FsY0FDb29yZHMoKXtjb25zdCB0PVB0KHthbmdsZTp0aGlzLmFuZ2xlfSkse3g6ZSx5OnN9PXRoaXMuZ2V0UmVsYXRpdmVDZW50ZXJQb2ludCgpLGk9TXQoZSxzKSxyPVR0KGksdCksbj10aGlzLl9nZXRUcmFuc2Zvcm1lZERpbWVuc2lvbnMoKSxvPW4ueC8yLGE9bi55LzI7cmV0dXJue3RsOlN0KHt4Oi1vLHk6LWF9LHIpLHRyOlN0KHt4Om8seTotYX0sciksYmw6U3Qoe3g6LW8seTphfSxyKSxicjpTdCh7eDpvLHk6YX0scil9fXNldENvb3Jkcygpe3RoaXMuYUNvb3Jkcz10aGlzLmNhbGNBQ29vcmRzKCl9dHJhbnNmb3JtTWF0cml4S2V5KCl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0mJmFyZ3VtZW50c1swXSxlPVtdO3JldHVybiF0JiZ0aGlzLmdyb3VwJiYoZT10aGlzLmdyb3VwLnRyYW5zZm9ybU1hdHJpeEtleSh0KSksZS5wdXNoKHRoaXMudG9wLHRoaXMubGVmdCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0LHRoaXMuc2NhbGVYLHRoaXMuc2NhbGVZLHRoaXMuYW5nbGUsdGhpcy5zdHJva2VXaWR0aCx0aGlzLnNrZXdYLHRoaXMuc2tld1ksK3RoaXMuZmxpcFgsK3RoaXMuZmxpcFksQ2UodGhpcy5vcmlnaW5YKSxDZSh0aGlzLm9yaWdpblkpKSxlfWNhbGNUcmFuc2Zvcm1NYXRyaXgoKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdLGU9dGhpcy5jYWxjT3duTWF0cml4KCk7aWYodHx8IXRoaXMuZ3JvdXApcmV0dXJuIGU7Y29uc3Qgcz10aGlzLnRyYW5zZm9ybU1hdHJpeEtleSh0KSxpPXRoaXMubWF0cml4Q2FjaGU7cmV0dXJuIGkmJmkua2V5LmV2ZXJ5KCgodCxlKT0+dD09PXNbZV0pKT9pLnZhbHVlOih0aGlzLmdyb3VwJiYoZT1UdCh0aGlzLmdyb3VwLmNhbGNUcmFuc2Zvcm1NYXRyaXgoITEpLGUpKSx0aGlzLm1hdHJpeENhY2hlPXtrZXk6cyx2YWx1ZTplfSxlKX1jYWxjT3duTWF0cml4KCl7Y29uc3QgdD10aGlzLnRyYW5zZm9ybU1hdHJpeEtleSghMCksZT10aGlzLm93bk1hdHJpeENhY2hlO2lmKGUmJmUua2V5PT09dClyZXR1cm4gZS52YWx1ZTtjb25zdCBzPXRoaXMuZ2V0UmVsYXRpdmVDZW50ZXJQb2ludCgpLGk9e2FuZ2xlOnRoaXMuYW5nbGUsdHJhbnNsYXRlWDpzLngsdHJhbnNsYXRlWTpzLnksc2NhbGVYOnRoaXMuc2NhbGVYLHNjYWxlWTp0aGlzLnNjYWxlWSxza2V3WDp0aGlzLnNrZXdYLHNrZXdZOnRoaXMuc2tld1ksZmxpcFg6dGhpcy5mbGlwWCxmbGlwWTp0aGlzLmZsaXBZfSxyPVJ0KGkpO3JldHVybiB0aGlzLm93bk1hdHJpeENhY2hlPXtrZXk6dCx2YWx1ZTpyfSxyfV9nZXROb25UcmFuc2Zvcm1lZERpbWVuc2lvbnMoKXtyZXR1cm4gbmV3IG90KHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLnNjYWxhckFkZCh0aGlzLnN0cm9rZVdpZHRoKX1fY2FsY3VsYXRlQ3VycmVudERpbWVuc2lvbnModCl7cmV0dXJuIHRoaXMuX2dldFRyYW5zZm9ybWVkRGltZW5zaW9ucyh0KS50cmFuc2Zvcm0odGhpcy5nZXRWaWV3cG9ydFRyYW5zZm9ybSgpLCEwKS5zY2FsYXJBZGQoMip0aGlzLnBhZGRpbmcpfV9nZXRUcmFuc2Zvcm1lZERpbWVuc2lvbnMoKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307Y29uc3QgZT1zKHtzY2FsZVg6dGhpcy5zY2FsZVgsc2NhbGVZOnRoaXMuc2NhbGVZLHNrZXdYOnRoaXMuc2tld1gsc2tld1k6dGhpcy5za2V3WSx3aWR0aDp0aGlzLndpZHRoLGhlaWdodDp0aGlzLmhlaWdodCxzdHJva2VXaWR0aDp0aGlzLnN0cm9rZVdpZHRofSx0KSxpPWUuc3Ryb2tlV2lkdGg7bGV0IHI9aSxuPTA7dGhpcy5zdHJva2VVbmlmb3JtJiYocj0wLG49aSk7Y29uc3Qgbz1lLndpZHRoK3IsYT1lLmhlaWdodCtyO2xldCBoO3JldHVybiBoPTA9PT1lLnNrZXdYJiYwPT09ZS5za2V3WT9uZXcgb3QobyplLnNjYWxlWCxhKmUuc2NhbGVZKTpmZShvLGEsTHQoZSkpLGguc2NhbGFyQWRkKG4pfXRyYW5zbGF0ZVRvR2l2ZW5PcmlnaW4odCxlLHMsaSxyKXtsZXQgbj10Lngsbz10Lnk7Y29uc3QgYT1DZShpKS1DZShlKSxoPUNlKHIpLUNlKHMpO2lmKGF8fGgpe2NvbnN0IHQ9dGhpcy5fZ2V0VHJhbnNmb3JtZWREaW1lbnNpb25zKCk7bis9YSp0Lngsbys9aCp0Lnl9cmV0dXJuIG5ldyBvdChuLG8pfXRyYW5zbGF0ZVRvQ2VudGVyUG9pbnQodCxlLHMpe2lmKGU9PT1EJiZzPT09RClyZXR1cm4gdDtjb25zdCBpPXRoaXMudHJhbnNsYXRlVG9HaXZlbk9yaWdpbih0LGUscyxELEQpO3JldHVybiB0aGlzLmFuZ2xlP2kucm90YXRlKHh0KHRoaXMuYW5nbGUpLHQpOml9dHJhbnNsYXRlVG9PcmlnaW5Qb2ludCh0LGUscyl7Y29uc3QgaT10aGlzLnRyYW5zbGF0ZVRvR2l2ZW5PcmlnaW4odCxELEQsZSxzKTtyZXR1cm4gdGhpcy5hbmdsZT9pLnJvdGF0ZSh4dCh0aGlzLmFuZ2xlKSx0KTppfWdldENlbnRlclBvaW50KCl7Y29uc3QgdD10aGlzLmdldFJlbGF0aXZlQ2VudGVyUG9pbnQoKTtyZXR1cm4gdGhpcy5ncm91cD9TdCh0LHRoaXMuZ3JvdXAuY2FsY1RyYW5zZm9ybU1hdHJpeCgpKTp0fWdldFJlbGF0aXZlQ2VudGVyUG9pbnQoKXtyZXR1cm4gdGhpcy50cmFuc2xhdGVUb0NlbnRlclBvaW50KG5ldyBvdCh0aGlzLmxlZnQsdGhpcy50b3ApLHRoaXMub3JpZ2luWCx0aGlzLm9yaWdpblkpfWdldFBvaW50QnlPcmlnaW4odCxlKXtyZXR1cm4gdGhpcy50cmFuc2xhdGVUb09yaWdpblBvaW50KHRoaXMuZ2V0UmVsYXRpdmVDZW50ZXJQb2ludCgpLHQsZSl9c2V0UG9zaXRpb25CeU9yaWdpbih0LGUscyl7Y29uc3QgaT10aGlzLnRyYW5zbGF0ZVRvQ2VudGVyUG9pbnQodCxlLHMpLHI9dGhpcy50cmFuc2xhdGVUb09yaWdpblBvaW50KGksdGhpcy5vcmlnaW5YLHRoaXMub3JpZ2luWSk7dGhpcy5zZXQoe2xlZnQ6ci54LHRvcDpyLnl9KX1fZ2V0TGVmdFRvcENvb3Jkcygpe3JldHVybiB0aGlzLnRyYW5zbGF0ZVRvT3JpZ2luUG9pbnQodGhpcy5nZXRSZWxhdGl2ZUNlbnRlclBvaW50KCksTSxQKX19Y29uc3QgJHM9W1widHlwZVwiXSx0aT1bXCJleHRyYVBhcmFtXCJdO2xldCBlaT1jbGFzcyBlIGV4dGVuZHMgWnN7c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIGUub3duRGVmYXVsdHN9Z2V0IHR5cGUoKXtjb25zdCB0PXRoaXMuY29uc3RydWN0b3IudHlwZTtyZXR1cm5cIkZhYnJpY09iamVjdFwiPT09dD9cIm9iamVjdFwiOnQudG9Mb3dlckNhc2UoKX1zZXQgdHlwZSh0KXthKFwid2FyblwiLFwiU2V0dGluZyB0eXBlIGhhcyBubyBlZmZlY3RcIix0KX1jb25zdHJ1Y3RvcihzKXtzdXBlcigpLHQodGhpcyxcIl9jYWNoZUNvbnRleHRcIixudWxsKSxPYmplY3QuYXNzaWduKHRoaXMsZS5vd25EZWZhdWx0cyksdGhpcy5zZXRPcHRpb25zKHMpfV9jcmVhdGVDYWNoZUNhbnZhcygpe3RoaXMuX2NhY2hlQ2FudmFzPXB0KCksdGhpcy5fY2FjaGVDb250ZXh0PXRoaXMuX2NhY2hlQ2FudmFzLmdldENvbnRleHQoXCIyZFwiKSx0aGlzLl91cGRhdGVDYWNoZUNhbnZhcygpLHRoaXMuZGlydHk9ITB9X2xpbWl0Q2FjaGVTaXplKHQpe2NvbnN0IGU9dC53aWR0aCxzPXQuaGVpZ2h0LGk9by5tYXhDYWNoZVNpZGVMaW1pdCxyPW8ubWluQ2FjaGVTaWRlTGltaXQ7aWYoZTw9aSYmczw9aSYmZSpzPD1vLnBlcmZMaW1pdFNpemVUb3RhbClyZXR1cm4gZTxyJiYodC53aWR0aD1yKSxzPHImJih0LmhlaWdodD1yKSx0O2NvbnN0IG49ZS9zLFthLGhdPV8ubGltaXREaW1zQnlBcmVhKG4pLGM9TXMocixhLGkpLGw9TXMocixoLGkpO3JldHVybiBlPmMmJih0Lnpvb21YLz1lL2MsdC53aWR0aD1jLHQuY2FwcGVkPSEwKSxzPmwmJih0Lnpvb21ZLz1zL2wsdC5oZWlnaHQ9bCx0LmNhcHBlZD0hMCksdH1fZ2V0Q2FjaGVDYW52YXNEaW1lbnNpb25zKCl7Y29uc3QgdD10aGlzLmdldFRvdGFsT2JqZWN0U2NhbGluZygpLGU9dGhpcy5fZ2V0VHJhbnNmb3JtZWREaW1lbnNpb25zKHtza2V3WDowLHNrZXdZOjB9KSxzPWUueCp0LngvdGhpcy5zY2FsZVgsaT1lLnkqdC55L3RoaXMuc2NhbGVZO3JldHVybnt3aWR0aDpNYXRoLmNlaWwocysyKSxoZWlnaHQ6TWF0aC5jZWlsKGkrMiksem9vbVg6dC54LHpvb21ZOnQueSx4OnMseTppfX1fdXBkYXRlQ2FjaGVDYW52YXMoKXtjb25zdCB0PXRoaXMuX2NhY2hlQ2FudmFzLGU9dGhpcy5fY2FjaGVDb250ZXh0LHt3aWR0aDpzLGhlaWdodDppLHpvb21YOnIsem9vbVk6bix4Om8seTphfT10aGlzLl9saW1pdENhY2hlU2l6ZSh0aGlzLl9nZXRDYWNoZUNhbnZhc0RpbWVuc2lvbnMoKSksaD1zIT09dC53aWR0aHx8aSE9PXQuaGVpZ2h0LGM9dGhpcy56b29tWCE9PXJ8fHRoaXMuem9vbVkhPT1uO2lmKCF0fHwhZSlyZXR1cm4hMTtpZihofHxjKXtzIT09dC53aWR0aHx8aSE9PXQuaGVpZ2h0Pyh0LndpZHRoPXMsdC5oZWlnaHQ9aSk6KGUuc2V0VHJhbnNmb3JtKDEsMCwwLDEsMCwwKSxlLmNsZWFyUmVjdCgwLDAsdC53aWR0aCx0LmhlaWdodCkpO2NvbnN0IGg9by8yLGM9YS8yO3JldHVybiB0aGlzLmNhY2hlVHJhbnNsYXRpb25YPU1hdGgucm91bmQodC53aWR0aC8yLWgpK2gsdGhpcy5jYWNoZVRyYW5zbGF0aW9uWT1NYXRoLnJvdW5kKHQuaGVpZ2h0LzItYykrYyxlLnRyYW5zbGF0ZSh0aGlzLmNhY2hlVHJhbnNsYXRpb25YLHRoaXMuY2FjaGVUcmFuc2xhdGlvblkpLGUuc2NhbGUocixuKSx0aGlzLnpvb21YPXIsdGhpcy56b29tWT1uLCEwfXJldHVybiExfXNldE9wdGlvbnMoKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307dGhpcy5fc2V0T3B0aW9ucyh0KX10cmFuc2Zvcm0odCl7Y29uc3QgZT10aGlzLmdyb3VwJiYhdGhpcy5ncm91cC5fdHJhbnNmb3JtRG9uZXx8dGhpcy5ncm91cCYmdGhpcy5jYW52YXMmJnQ9PT10aGlzLmNhbnZhcy5jb250ZXh0VG9wLHM9dGhpcy5jYWxjVHJhbnNmb3JtTWF0cml4KCFlKTt0LnRyYW5zZm9ybShzWzBdLHNbMV0sc1syXSxzWzNdLHNbNF0sc1s1XSl9Z2V0T2JqZWN0U2NhbGluZygpe2lmKCF0aGlzLmdyb3VwKXJldHVybiBuZXcgb3QoTWF0aC5hYnModGhpcy5zY2FsZVgpLE1hdGguYWJzKHRoaXMuc2NhbGVZKSk7Y29uc3QgdD1EdCh0aGlzLmNhbGNUcmFuc2Zvcm1NYXRyaXgoKSk7cmV0dXJuIG5ldyBvdChNYXRoLmFicyh0LnNjYWxlWCksTWF0aC5hYnModC5zY2FsZVkpKX1nZXRUb3RhbE9iamVjdFNjYWxpbmcoKXtjb25zdCB0PXRoaXMuZ2V0T2JqZWN0U2NhbGluZygpO2lmKHRoaXMuY2FudmFzKXtjb25zdCBlPXRoaXMuY2FudmFzLmdldFpvb20oKSxzPXRoaXMuZ2V0Q2FudmFzUmV0aW5hU2NhbGluZygpO3JldHVybiB0LnNjYWxhck11bHRpcGx5KGUqcyl9cmV0dXJuIHR9Z2V0T2JqZWN0T3BhY2l0eSgpe2xldCB0PXRoaXMub3BhY2l0eTtyZXR1cm4gdGhpcy5ncm91cCYmKHQqPXRoaXMuZ3JvdXAuZ2V0T2JqZWN0T3BhY2l0eSgpKSx0fV9jb25zdHJhaW5TY2FsZSh0KXtyZXR1cm4gTWF0aC5hYnModCk8dGhpcy5taW5TY2FsZUxpbWl0P3Q8MD8tdGhpcy5taW5TY2FsZUxpbWl0OnRoaXMubWluU2NhbGVMaW1pdDowPT09dD8xZS00OnR9X3NldCh0LGUpe3QhPT1IJiZ0IT09Tnx8KGU9dGhpcy5fY29uc3RyYWluU2NhbGUoZSkpLHQ9PT1IJiZlPDA/KHRoaXMuZmxpcFg9IXRoaXMuZmxpcFgsZSo9LTEpOlwic2NhbGVZXCI9PT10JiZlPDA/KHRoaXMuZmxpcFk9IXRoaXMuZmxpcFksZSo9LTEpOlwic2hhZG93XCIhPT10fHwhZXx8ZSBpbnN0YW5jZW9mIERzfHwoZT1uZXcgRHMoZSkpO2NvbnN0IHM9dGhpc1t0XSE9PWU7cmV0dXJuIHRoaXNbdF09ZSxzJiZ0aGlzLmNvbnN0cnVjdG9yLmNhY2hlUHJvcGVydGllcy5pbmNsdWRlcyh0KSYmKHRoaXMuZGlydHk9ITApLHRoaXMucGFyZW50JiYodGhpcy5kaXJ0eXx8cyYmdGhpcy5jb25zdHJ1Y3Rvci5zdGF0ZVByb3BlcnRpZXMuaW5jbHVkZXModCkpJiZ0aGlzLnBhcmVudC5fc2V0KFwiZGlydHlcIiwhMCksdGhpc31pc05vdFZpc2libGUoKXtyZXR1cm4gMD09PXRoaXMub3BhY2l0eXx8IXRoaXMud2lkdGgmJiF0aGlzLmhlaWdodCYmMD09PXRoaXMuc3Ryb2tlV2lkdGh8fCF0aGlzLnZpc2libGV9cmVuZGVyKHQpe3RoaXMuaXNOb3RWaXNpYmxlKCl8fHRoaXMuY2FudmFzJiZ0aGlzLmNhbnZhcy5za2lwT2Zmc2NyZWVuJiYhdGhpcy5ncm91cCYmIXRoaXMuaXNPblNjcmVlbigpfHwodC5zYXZlKCksdGhpcy5fc2V0dXBDb21wb3NpdGVPcGVyYXRpb24odCksdGhpcy5kcmF3U2VsZWN0aW9uQmFja2dyb3VuZCh0KSx0aGlzLnRyYW5zZm9ybSh0KSx0aGlzLl9zZXRPcGFjaXR5KHQpLHRoaXMuX3NldFNoYWRvdyh0KSx0aGlzLnNob3VsZENhY2hlKCk/KHRoaXMucmVuZGVyQ2FjaGUoKSx0aGlzLmRyYXdDYWNoZU9uQ2FudmFzKHQpKToodGhpcy5fcmVtb3ZlQ2FjaGVDYW52YXMoKSx0aGlzLmRyYXdPYmplY3QodCwhMSx7fSksdGhpcy5kaXJ0eT0hMSksdC5yZXN0b3JlKCkpfWRyYXdTZWxlY3Rpb25CYWNrZ3JvdW5kKHQpe31yZW5kZXJDYWNoZSh0KXtpZih0PXR8fHt9LHRoaXMuX2NhY2hlQ2FudmFzJiZ0aGlzLl9jYWNoZUNvbnRleHR8fHRoaXMuX2NyZWF0ZUNhY2hlQ2FudmFzKCksdGhpcy5pc0NhY2hlRGlydHkoKSYmdGhpcy5fY2FjaGVDb250ZXh0KXtjb25zdHt6b29tWDplLHpvb21ZOnMsY2FjaGVUcmFuc2xhdGlvblg6aSxjYWNoZVRyYW5zbGF0aW9uWTpyfT10aGlzLHt3aWR0aDpuLGhlaWdodDpvfT10aGlzLl9jYWNoZUNhbnZhczt0aGlzLmRyYXdPYmplY3QodGhpcy5fY2FjaGVDb250ZXh0LHQuZm9yQ2xpcHBpbmcse3pvb21YOmUsem9vbVk6cyxjYWNoZVRyYW5zbGF0aW9uWDppLGNhY2hlVHJhbnNsYXRpb25ZOnIsd2lkdGg6bixoZWlnaHQ6byxwYXJlbnRDbGlwUGF0aHM6W119KSx0aGlzLmRpcnR5PSExfX1fcmVtb3ZlQ2FjaGVDYW52YXMoKXt0aGlzLl9jYWNoZUNhbnZhcz12b2lkIDAsdGhpcy5fY2FjaGVDb250ZXh0PW51bGx9aGFzU3Ryb2tlKCl7cmV0dXJuIHRoaXMuc3Ryb2tlJiZcInRyYW5zcGFyZW50XCIhPT10aGlzLnN0cm9rZSYmMCE9PXRoaXMuc3Ryb2tlV2lkdGh9aGFzRmlsbCgpe3JldHVybiB0aGlzLmZpbGwmJlwidHJhbnNwYXJlbnRcIiE9PXRoaXMuZmlsbH1uZWVkc0l0c093bkNhY2hlKCl7cmV0dXJuISEodGhpcy5wYWludEZpcnN0PT09SiYmdGhpcy5oYXNGaWxsKCkmJnRoaXMuaGFzU3Ryb2tlKCkmJnRoaXMuc2hhZG93KXx8ISF0aGlzLmNsaXBQYXRofXNob3VsZENhY2hlKCl7cmV0dXJuIHRoaXMub3duQ2FjaGluZz10aGlzLm9iamVjdENhY2hpbmcmJighdGhpcy5wYXJlbnR8fCF0aGlzLnBhcmVudC5pc09uQUNhY2hlKCkpfHx0aGlzLm5lZWRzSXRzT3duQ2FjaGUoKSx0aGlzLm93bkNhY2hpbmd9d2lsbERyYXdTaGFkb3coKXtyZXR1cm4hIXRoaXMuc2hhZG93JiYoMCE9PXRoaXMuc2hhZG93Lm9mZnNldFh8fDAhPT10aGlzLnNoYWRvdy5vZmZzZXRZKX1kcmF3Q2xpcFBhdGhPbkNhY2hlKHQsZSxzKXt0LnNhdmUoKSxlLmludmVydGVkP3QuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPVwiZGVzdGluYXRpb24tb3V0XCI6dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249XCJkZXN0aW5hdGlvbi1pblwiLHQuc2V0VHJhbnNmb3JtKDEsMCwwLDEsMCwwKSx0LmRyYXdJbWFnZShzLDAsMCksdC5yZXN0b3JlKCl9ZHJhd09iamVjdCh0LGUscyl7Y29uc3QgaT10aGlzLmZpbGwscj10aGlzLnN0cm9rZTtlPyh0aGlzLmZpbGw9XCJibGFja1wiLHRoaXMuc3Ryb2tlPVwiXCIsdGhpcy5fc2V0Q2xpcHBpbmdQcm9wZXJ0aWVzKHQpKTp0aGlzLl9yZW5kZXJCYWNrZ3JvdW5kKHQpLHRoaXMuX3JlbmRlcih0KSx0aGlzLl9kcmF3Q2xpcFBhdGgodCx0aGlzLmNsaXBQYXRoLHMpLHRoaXMuZmlsbD1pLHRoaXMuc3Ryb2tlPXJ9Y3JlYXRlQ2xpcFBhdGhMYXllcih0LGUpe2NvbnN0IHM9dnQoZSksaT1zLmdldENvbnRleHQoXCIyZFwiKTtpZihpLnRyYW5zbGF0ZShlLmNhY2hlVHJhbnNsYXRpb25YLGUuY2FjaGVUcmFuc2xhdGlvblkpLGkuc2NhbGUoZS56b29tWCxlLnpvb21ZKSx0Ll9jYWNoZUNhbnZhcz1zLGUucGFyZW50Q2xpcFBhdGhzLmZvckVhY2goKHQ9Pnt0LnRyYW5zZm9ybShpKX0pKSxlLnBhcmVudENsaXBQYXRocy5wdXNoKHQpLHQuYWJzb2x1dGVQb3NpdGlvbmVkKXtjb25zdCB0PXd0KHRoaXMuY2FsY1RyYW5zZm9ybU1hdHJpeCgpKTtpLnRyYW5zZm9ybSh0WzBdLHRbMV0sdFsyXSx0WzNdLHRbNF0sdFs1XSl9cmV0dXJuIHQudHJhbnNmb3JtKGkpLHQuZHJhd09iamVjdChpLCEwLGUpLHN9X2RyYXdDbGlwUGF0aCh0LGUscyl7aWYoIWUpcmV0dXJuO2UuX3RyYW5zZm9ybURvbmU9ITA7Y29uc3QgaT10aGlzLmNyZWF0ZUNsaXBQYXRoTGF5ZXIoZSxzKTt0aGlzLmRyYXdDbGlwUGF0aE9uQ2FjaGUodCxlLGkpfWRyYXdDYWNoZU9uQ2FudmFzKHQpe3Quc2NhbGUoMS90aGlzLnpvb21YLDEvdGhpcy56b29tWSksdC5kcmF3SW1hZ2UodGhpcy5fY2FjaGVDYW52YXMsLXRoaXMuY2FjaGVUcmFuc2xhdGlvblgsLXRoaXMuY2FjaGVUcmFuc2xhdGlvblkpfWlzQ2FjaGVEaXJ0eSgpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF07aWYodGhpcy5pc05vdFZpc2libGUoKSlyZXR1cm4hMTtjb25zdCBlPXRoaXMuX2NhY2hlQ2FudmFzLHM9dGhpcy5fY2FjaGVDb250ZXh0O3JldHVybiEoIWV8fCFzfHx0fHwhdGhpcy5fdXBkYXRlQ2FjaGVDYW52YXMoKSl8fCEhKHRoaXMuZGlydHl8fHRoaXMuY2xpcFBhdGgmJnRoaXMuY2xpcFBhdGguYWJzb2x1dGVQb3NpdGlvbmVkKSYmKGUmJnMmJiF0JiYocy5zYXZlKCkscy5zZXRUcmFuc2Zvcm0oMSwwLDAsMSwwLDApLHMuY2xlYXJSZWN0KDAsMCxlLndpZHRoLGUuaGVpZ2h0KSxzLnJlc3RvcmUoKSksITApfV9yZW5kZXJCYWNrZ3JvdW5kKHQpe2lmKCF0aGlzLmJhY2tncm91bmRDb2xvcilyZXR1cm47Y29uc3QgZT10aGlzLl9nZXROb25UcmFuc2Zvcm1lZERpbWVuc2lvbnMoKTt0LmZpbGxTdHlsZT10aGlzLmJhY2tncm91bmRDb2xvcix0LmZpbGxSZWN0KC1lLngvMiwtZS55LzIsZS54LGUueSksdGhpcy5fcmVtb3ZlU2hhZG93KHQpfV9zZXRPcGFjaXR5KHQpe3RoaXMuZ3JvdXAmJiF0aGlzLmdyb3VwLl90cmFuc2Zvcm1Eb25lP3QuZ2xvYmFsQWxwaGE9dGhpcy5nZXRPYmplY3RPcGFjaXR5KCk6dC5nbG9iYWxBbHBoYSo9dGhpcy5vcGFjaXR5fV9zZXRTdHJva2VTdHlsZXModCxlKXtjb25zdCBzPWUuc3Ryb2tlO3MmJih0LmxpbmVXaWR0aD1lLnN0cm9rZVdpZHRoLHQubGluZUNhcD1lLnN0cm9rZUxpbmVDYXAsdC5saW5lRGFzaE9mZnNldD1lLnN0cm9rZURhc2hPZmZzZXQsdC5saW5lSm9pbj1lLnN0cm9rZUxpbmVKb2luLHQubWl0ZXJMaW1pdD1lLnN0cm9rZU1pdGVyTGltaXQsR3Qocyk/XCJwZXJjZW50YWdlXCI9PT1zLmdyYWRpZW50VW5pdHN8fHMuZ3JhZGllbnRUcmFuc2Zvcm18fHMucGF0dGVyblRyYW5zZm9ybT90aGlzLl9hcHBseVBhdHRlcm5Gb3JUcmFuc2Zvcm1lZEdyYWRpZW50KHQscyk6KHQuc3Ryb2tlU3R5bGU9cy50b0xpdmUodCksdGhpcy5fYXBwbHlQYXR0ZXJuR3JhZGllbnRUcmFuc2Zvcm0odCxzKSk6dC5zdHJva2VTdHlsZT1lLnN0cm9rZSl9X3NldEZpbGxTdHlsZXModCxlKXtsZXR7ZmlsbDpzfT1lO3MmJihHdChzKT8odC5maWxsU3R5bGU9cy50b0xpdmUodCksdGhpcy5fYXBwbHlQYXR0ZXJuR3JhZGllbnRUcmFuc2Zvcm0odCxzKSk6dC5maWxsU3R5bGU9cyl9X3NldENsaXBwaW5nUHJvcGVydGllcyh0KXt0Lmdsb2JhbEFscGhhPTEsdC5zdHJva2VTdHlsZT1cInRyYW5zcGFyZW50XCIsdC5maWxsU3R5bGU9XCIjMDAwMDAwXCJ9X3NldExpbmVEYXNoKHQsZSl7ZSYmMCE9PWUubGVuZ3RoJiZ0LnNldExpbmVEYXNoKGUpfV9zZXRTaGFkb3codCl7aWYoIXRoaXMuc2hhZG93KXJldHVybjtjb25zdCBlPXRoaXMuc2hhZG93LHM9dGhpcy5jYW52YXMsaT10aGlzLmdldENhbnZhc1JldGluYVNjYWxpbmcoKSxbciwsLG5dPShudWxsPT1zP3ZvaWQgMDpzLnZpZXdwb3J0VHJhbnNmb3JtKXx8VCxhPXIqaSxoPW4qaSxjPWUubm9uU2NhbGluZz9uZXcgb3QoMSwxKTp0aGlzLmdldE9iamVjdFNjYWxpbmcoKTt0LnNoYWRvd0NvbG9yPWUuY29sb3IsdC5zaGFkb3dCbHVyPWUuYmx1cipvLmJyb3dzZXJTaGFkb3dCbHVyQ29uc3RhbnQqKGEraCkqKGMueCtjLnkpLzQsdC5zaGFkb3dPZmZzZXRYPWUub2Zmc2V0WCphKmMueCx0LnNoYWRvd09mZnNldFk9ZS5vZmZzZXRZKmgqYy55fV9yZW1vdmVTaGFkb3codCl7dGhpcy5zaGFkb3cmJih0LnNoYWRvd0NvbG9yPVwiXCIsdC5zaGFkb3dCbHVyPXQuc2hhZG93T2Zmc2V0WD10LnNoYWRvd09mZnNldFk9MCl9X2FwcGx5UGF0dGVybkdyYWRpZW50VHJhbnNmb3JtKHQsZSl7aWYoIUd0KGUpKXJldHVybntvZmZzZXRYOjAsb2Zmc2V0WTowfTtjb25zdCBzPWUuZ3JhZGllbnRUcmFuc2Zvcm18fGUucGF0dGVyblRyYW5zZm9ybSxpPS10aGlzLndpZHRoLzIrZS5vZmZzZXRYfHwwLHI9LXRoaXMuaGVpZ2h0LzIrZS5vZmZzZXRZfHwwO3JldHVyblwicGVyY2VudGFnZVwiPT09ZS5ncmFkaWVudFVuaXRzP3QudHJhbnNmb3JtKHRoaXMud2lkdGgsMCwwLHRoaXMuaGVpZ2h0LGkscik6dC50cmFuc2Zvcm0oMSwwLDAsMSxpLHIpLHMmJnQudHJhbnNmb3JtKHNbMF0sc1sxXSxzWzJdLHNbM10sc1s0XSxzWzVdKSx7b2Zmc2V0WDppLG9mZnNldFk6cn19X3JlbmRlclBhaW50SW5PcmRlcih0KXt0aGlzLnBhaW50Rmlyc3Q9PT1KPyh0aGlzLl9yZW5kZXJTdHJva2UodCksdGhpcy5fcmVuZGVyRmlsbCh0KSk6KHRoaXMuX3JlbmRlckZpbGwodCksdGhpcy5fcmVuZGVyU3Ryb2tlKHQpKX1fcmVuZGVyKHQpe31fcmVuZGVyRmlsbCh0KXt0aGlzLmZpbGwmJih0LnNhdmUoKSx0aGlzLl9zZXRGaWxsU3R5bGVzKHQsdGhpcyksXCJldmVub2RkXCI9PT10aGlzLmZpbGxSdWxlP3QuZmlsbChcImV2ZW5vZGRcIik6dC5maWxsKCksdC5yZXN0b3JlKCkpfV9yZW5kZXJTdHJva2UodCl7aWYodGhpcy5zdHJva2UmJjAhPT10aGlzLnN0cm9rZVdpZHRoKXtpZih0aGlzLnNoYWRvdyYmIXRoaXMuc2hhZG93LmFmZmVjdFN0cm9rZSYmdGhpcy5fcmVtb3ZlU2hhZG93KHQpLHQuc2F2ZSgpLHRoaXMuc3Ryb2tlVW5pZm9ybSl7Y29uc3QgZT10aGlzLmdldE9iamVjdFNjYWxpbmcoKTt0LnNjYWxlKDEvZS54LDEvZS55KX10aGlzLl9zZXRMaW5lRGFzaCh0LHRoaXMuc3Ryb2tlRGFzaEFycmF5KSx0aGlzLl9zZXRTdHJva2VTdHlsZXModCx0aGlzKSx0LnN0cm9rZSgpLHQucmVzdG9yZSgpfX1fYXBwbHlQYXR0ZXJuRm9yVHJhbnNmb3JtZWRHcmFkaWVudCh0LGUpe3ZhciBzO2NvbnN0IGk9dGhpcy5fbGltaXRDYWNoZVNpemUodGhpcy5fZ2V0Q2FjaGVDYW52YXNEaW1lbnNpb25zKCkpLHI9dGhpcy5nZXRDYW52YXNSZXRpbmFTY2FsaW5nKCksbj1pLngvdGhpcy5zY2FsZVgvcixvPWkueS90aGlzLnNjYWxlWS9yLGE9dnQoe3dpZHRoOk1hdGguY2VpbChuKSxoZWlnaHQ6TWF0aC5jZWlsKG8pfSksaD1hLmdldENvbnRleHQoXCIyZFwiKTtoJiYoaC5iZWdpblBhdGgoKSxoLm1vdmVUbygwLDApLGgubGluZVRvKG4sMCksaC5saW5lVG8obixvKSxoLmxpbmVUbygwLG8pLGguY2xvc2VQYXRoKCksaC50cmFuc2xhdGUobi8yLG8vMiksaC5zY2FsZShpLnpvb21YL3RoaXMuc2NhbGVYL3IsaS56b29tWS90aGlzLnNjYWxlWS9yKSx0aGlzLl9hcHBseVBhdHRlcm5HcmFkaWVudFRyYW5zZm9ybShoLGUpLGguZmlsbFN0eWxlPWUudG9MaXZlKHQpLGguZmlsbCgpLHQudHJhbnNsYXRlKC10aGlzLndpZHRoLzItdGhpcy5zdHJva2VXaWR0aC8yLC10aGlzLmhlaWdodC8yLXRoaXMuc3Ryb2tlV2lkdGgvMiksdC5zY2FsZShyKnRoaXMuc2NhbGVYL2kuem9vbVgscip0aGlzLnNjYWxlWS9pLnpvb21ZKSx0LnN0cm9rZVN0eWxlPW51bGwhPT0ocz1oLmNyZWF0ZVBhdHRlcm4oYSxcIm5vLXJlcGVhdFwiKSkmJnZvaWQgMCE9PXM/czpcIlwiKX1fZmluZENlbnRlckZyb21FbGVtZW50KCl7cmV0dXJuIG5ldyBvdCh0aGlzLmxlZnQrdGhpcy53aWR0aC8yLHRoaXMudG9wK3RoaXMuaGVpZ2h0LzIpfWNsb25lKHQpe2NvbnN0IGU9dGhpcy50b09iamVjdCh0KTtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5mcm9tT2JqZWN0KGUpfWNsb25lQXNJbWFnZSh0KXtjb25zdCBlPXRoaXMudG9DYW52YXNFbGVtZW50KHQpO3JldHVybiBuZXcodHQuZ2V0Q2xhc3MoXCJpbWFnZVwiKSkoZSl9dG9DYW52YXNFbGVtZW50KCl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O2NvbnN0IGU9Z2UodGhpcykscz10aGlzLmdyb3VwLGk9dGhpcy5zaGFkb3cscj1NYXRoLmFicyxuPXQuZW5hYmxlUmV0aW5hU2NhbGluZz95KCk6MSxvPSh0Lm11bHRpcGxpZXJ8fDEpKm4sYT10LmNhbnZhc1Byb3ZpZGVyfHwodD0+bmV3IGllKHQse2VuYWJsZVJldGluYVNjYWxpbmc6ITEscmVuZGVyT25BZGRSZW1vdmU6ITEsc2tpcE9mZnNjcmVlbjohMX0pKTtkZWxldGUgdGhpcy5ncm91cCx0LndpdGhvdXRUcmFuc2Zvcm0mJmRlKHRoaXMpLHQud2l0aG91dFNoYWRvdyYmKHRoaXMuc2hhZG93PW51bGwpLHQudmlld3BvcnRUcmFuc2Zvcm0mJnllKHRoaXMsdGhpcy5nZXRWaWV3cG9ydFRyYW5zZm9ybSgpKSx0aGlzLnNldENvb3JkcygpO2NvbnN0IGg9cHQoKSxjPXRoaXMuZ2V0Qm91bmRpbmdSZWN0KCksbD10aGlzLnNoYWRvdyx1PW5ldyBvdDtpZihsKXtjb25zdCB0PWwuYmx1cixlPWwubm9uU2NhbGluZz9uZXcgb3QoMSwxKTp0aGlzLmdldE9iamVjdFNjYWxpbmcoKTt1Lng9MipNYXRoLnJvdW5kKHIobC5vZmZzZXRYKSt0KSpyKGUueCksdS55PTIqTWF0aC5yb3VuZChyKGwub2Zmc2V0WSkrdCkqcihlLnkpfWNvbnN0IGQ9Yy53aWR0aCt1LngsZz1jLmhlaWdodCt1Lnk7aC53aWR0aD1NYXRoLmNlaWwoZCksaC5oZWlnaHQ9TWF0aC5jZWlsKGcpO2NvbnN0IGY9YShoKTtcImpwZWdcIj09PXQuZm9ybWF0JiYoZi5iYWNrZ3JvdW5kQ29sb3I9XCIjZmZmXCIpLHRoaXMuc2V0UG9zaXRpb25CeU9yaWdpbihuZXcgb3QoZi53aWR0aC8yLGYuaGVpZ2h0LzIpLEQsRCk7Y29uc3QgcD10aGlzLmNhbnZhcztmLl9vYmplY3RzPVt0aGlzXSx0aGlzLnNldChcImNhbnZhc1wiLGYpLHRoaXMuc2V0Q29vcmRzKCk7Y29uc3QgbT1mLnRvQ2FudmFzRWxlbWVudChvfHwxLHQpO3JldHVybiB0aGlzLnNldChcImNhbnZhc1wiLHApLHRoaXMuc2hhZG93PWkscyYmKHRoaXMuZ3JvdXA9cyksdGhpcy5zZXQoZSksdGhpcy5zZXRDb29yZHMoKSxmLl9vYmplY3RzPVtdLGYuZGVzdHJveSgpLG19dG9EYXRhVVJMKCl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3JldHVybiB5dCh0aGlzLnRvQ2FudmFzRWxlbWVudCh0KSx0LmZvcm1hdHx8XCJwbmdcIix0LnF1YWxpdHl8fDEpfXRvQmxvYigpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtyZXR1cm4gX3QodGhpcy50b0NhbnZhc0VsZW1lbnQodCksdC5mb3JtYXR8fFwicG5nXCIsdC5xdWFsaXR5fHwxKX1pc1R5cGUoKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheSh0KSxzPTA7czx0O3MrKyllW3NdPWFyZ3VtZW50c1tzXTtyZXR1cm4gZS5pbmNsdWRlcyh0aGlzLmNvbnN0cnVjdG9yLnR5cGUpfHxlLmluY2x1ZGVzKHRoaXMudHlwZSl9Y29tcGxleGl0eSgpe3JldHVybiAxfXRvSlNPTigpe3JldHVybiB0aGlzLnRvT2JqZWN0KCl9cm90YXRlKHQpe2NvbnN0e2NlbnRlcmVkUm90YXRpb246ZSxvcmlnaW5YOnMsb3JpZ2luWTppfT10aGlzO2lmKGUpe2NvbnN0e3g6dCx5OmV9PXRoaXMuZ2V0UmVsYXRpdmVDZW50ZXJQb2ludCgpO3RoaXMub3JpZ2luWD1ELHRoaXMub3JpZ2luWT1ELHRoaXMubGVmdD10LHRoaXMudG9wPWV9aWYodGhpcy5zZXQoXCJhbmdsZVwiLHQpLGUpe2NvbnN0e3g6dCx5OmV9PXRoaXMudHJhbnNsYXRlVG9PcmlnaW5Qb2ludCh0aGlzLmdldFJlbGF0aXZlQ2VudGVyUG9pbnQoKSxzLGkpO3RoaXMubGVmdD10LHRoaXMudG9wPWUsdGhpcy5vcmlnaW5YPXMsdGhpcy5vcmlnaW5ZPWl9fXNldE9uR3JvdXAoKXt9X3NldHVwQ29tcG9zaXRlT3BlcmF0aW9uKHQpe3RoaXMuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uJiYodC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249dGhpcy5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24pfWRpc3Bvc2UoKXtldC5jYW5jZWxCeVRhcmdldCh0aGlzKSx0aGlzLm9mZigpLHRoaXMuX3NldChcImNhbnZhc1wiLHZvaWQgMCksdGhpcy5fY2FjaGVDYW52YXMmJnAoKS5kaXNwb3NlKHRoaXMuX2NhY2hlQ2FudmFzKSx0aGlzLl9jYWNoZUNhbnZhcz12b2lkIDAsdGhpcy5fY2FjaGVDb250ZXh0PW51bGx9YW5pbWF0ZSh0LGUpe3JldHVybiBPYmplY3QuZW50cmllcyh0KS5yZWR1Y2UoKCh0LHMpPT57bGV0W2kscl09cztyZXR1cm4gdFtpXT10aGlzLl9hbmltYXRlKGkscixlKSx0fSkse30pfV9hbmltYXRlKHQsZSl7bGV0IGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9O2NvbnN0IHI9dC5zcGxpdChcIi5cIiksbj10aGlzLmNvbnN0cnVjdG9yLmNvbG9yUHJvcGVydGllcy5pbmNsdWRlcyhyW3IubGVuZ3RoLTFdKSx7YWJvcnQ6byxzdGFydFZhbHVlOmEsb25DaGFuZ2U6aCxvbkNvbXBsZXRlOmN9PWksbD1zKHMoe30saSkse30se3RhcmdldDp0aGlzLHN0YXJ0VmFsdWU6bnVsbCE9YT9hOnIucmVkdWNlKCgodCxlKT0+dFtlXSksdGhpcyksZW5kVmFsdWU6ZSxhYm9ydDpudWxsPT1vP3ZvaWQgMDpvLmJpbmQodGhpcyksb25DaGFuZ2U6KHQsZSxzKT0+e3IucmVkdWNlKCgoZSxzLGkpPT4oaT09PXIubGVuZ3RoLTEmJihlW3NdPXQpLGVbc10pKSx0aGlzKSxoJiZoKHQsZSxzKX0sb25Db21wbGV0ZToodCxlLHMpPT57dGhpcy5zZXRDb29yZHMoKSxjJiZjKHQsZSxzKX19KTtyZXR1cm4gbj9KcyhsKTpLcyhsKX1pc0Rlc2NlbmRhbnRPZih0KXtjb25zdHtwYXJlbnQ6ZSxncm91cDpzfT10aGlzO3JldHVybiBlPT09dHx8cz09PXR8fCEhZSYmZS5pc0Rlc2NlbmRhbnRPZih0KXx8ISFzJiZzIT09ZSYmcy5pc0Rlc2NlbmRhbnRPZih0KX1nZXRBbmNlc3RvcnMoKXtjb25zdCB0PVtdO2xldCBlPXRoaXM7ZG97ZT1lLnBhcmVudCxlJiZ0LnB1c2goZSl9d2hpbGUoZSk7cmV0dXJuIHR9ZmluZENvbW1vbkFuY2VzdG9ycyh0KXtpZih0aGlzPT09dClyZXR1cm57Zm9yazpbXSxvdGhlckZvcms6W10sY29tbW9uOlt0aGlzLC4uLnRoaXMuZ2V0QW5jZXN0b3JzKCldfTtjb25zdCBlPXRoaXMuZ2V0QW5jZXN0b3JzKCkscz10LmdldEFuY2VzdG9ycygpO2lmKDA9PT1lLmxlbmd0aCYmcy5sZW5ndGg+MCYmdGhpcz09PXNbcy5sZW5ndGgtMV0pcmV0dXJue2Zvcms6W10sb3RoZXJGb3JrOlt0LC4uLnMuc2xpY2UoMCxzLmxlbmd0aC0xKV0sY29tbW9uOlt0aGlzXX07Zm9yKGxldCBpLHI9MDtyPGUubGVuZ3RoO3IrKyl7aWYoaT1lW3JdLGk9PT10KXJldHVybntmb3JrOlt0aGlzLC4uLmUuc2xpY2UoMCxyKV0sb3RoZXJGb3JrOltdLGNvbW1vbjplLnNsaWNlKHIpfTtmb3IobGV0IG49MDtuPHMubGVuZ3RoO24rKyl7aWYodGhpcz09PXNbbl0pcmV0dXJue2Zvcms6W10sb3RoZXJGb3JrOlt0LC4uLnMuc2xpY2UoMCxuKV0sY29tbW9uOlt0aGlzLC4uLmVdfTtpZihpPT09c1tuXSlyZXR1cm57Zm9yazpbdGhpcywuLi5lLnNsaWNlKDAscildLG90aGVyRm9yazpbdCwuLi5zLnNsaWNlKDAsbildLGNvbW1vbjplLnNsaWNlKHIpfX19cmV0dXJue2Zvcms6W3RoaXMsLi4uZV0sb3RoZXJGb3JrOlt0LC4uLnNdLGNvbW1vbjpbXX19aGFzQ29tbW9uQW5jZXN0b3JzKHQpe2NvbnN0IGU9dGhpcy5maW5kQ29tbW9uQW5jZXN0b3JzKHQpO3JldHVybiBlJiYhIWUuY29tbW9uLmxlbmd0aH1pc0luRnJvbnRPZih0KXtpZih0aGlzPT09dClyZXR1cm47Y29uc3QgZT10aGlzLmZpbmRDb21tb25BbmNlc3RvcnModCk7aWYoZS5mb3JrLmluY2x1ZGVzKHQpKXJldHVybiEwO2lmKGUub3RoZXJGb3JrLmluY2x1ZGVzKHRoaXMpKXJldHVybiExO2NvbnN0IHM9ZS5jb21tb25bMF18fHRoaXMuY2FudmFzO2lmKCFzKXJldHVybjtjb25zdCBpPWUuZm9yay5wb3AoKSxyPWUub3RoZXJGb3JrLnBvcCgpLG49cy5fb2JqZWN0cy5pbmRleE9mKGkpLG89cy5fb2JqZWN0cy5pbmRleE9mKHIpO3JldHVybiBuPi0xJiZuPm99dG9PYmplY3QoKXtjb25zdCB0PShhcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06W10pLmNvbmNhdChlLmN1c3RvbVByb3BlcnRpZXMsdGhpcy5jb25zdHJ1Y3Rvci5jdXN0b21Qcm9wZXJ0aWVzfHxbXSk7bGV0IGk7Y29uc3Qgcj1vLk5VTV9GUkFDVElPTl9ESUdJVFMse2NsaXBQYXRoOm4sZmlsbDphLHN0cm9rZTpoLHNoYWRvdzpjLHN0cm9rZURhc2hBcnJheTpsLGxlZnQ6dSx0b3A6ZCxvcmlnaW5YOmcsb3JpZ2luWTpmLHdpZHRoOnAsaGVpZ2h0Om0sc3Ryb2tlV2lkdGg6dixzdHJva2VMaW5lQ2FwOnksc3Ryb2tlRGFzaE9mZnNldDpfLHN0cm9rZUxpbmVKb2luOkMsc3Ryb2tlVW5pZm9ybTpiLHN0cm9rZU1pdGVyTGltaXQ6UyxzY2FsZVg6dyxzY2FsZVk6VCxhbmdsZTpPLGZsaXBYOmssZmxpcFk6RCxvcGFjaXR5Ok0sdmlzaWJsZTpQLGJhY2tncm91bmRDb2xvcjpFLGZpbGxSdWxlOkEscGFpbnRGaXJzdDpqLGdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbjpGLHNrZXdYOkwsc2tld1k6Un09dGhpcztuJiYhbi5leGNsdWRlRnJvbUV4cG9ydCYmKGk9bi50b09iamVjdCh0LmNvbmNhdChcImludmVydGVkXCIsXCJhYnNvbHV0ZVBvc2l0aW9uZWRcIikpKTtjb25zdCBJPXQ9PlZ0KHQsciksQj1zKHMoe30sWXQodGhpcyx0KSkse30se3R5cGU6dGhpcy5jb25zdHJ1Y3Rvci50eXBlLHZlcnNpb246eCxvcmlnaW5YOmcsb3JpZ2luWTpmLGxlZnQ6SSh1KSx0b3A6SShkKSx3aWR0aDpJKHApLGhlaWdodDpJKG0pLGZpbGw6SHQoYSk/YS50b09iamVjdCgpOmEsc3Ryb2tlOkh0KGgpP2gudG9PYmplY3QoKTpoLHN0cm9rZVdpZHRoOkkodiksc3Ryb2tlRGFzaEFycmF5Omw/bC5jb25jYXQoKTpsLHN0cm9rZUxpbmVDYXA6eSxzdHJva2VEYXNoT2Zmc2V0Ol8sc3Ryb2tlTGluZUpvaW46QyxzdHJva2VVbmlmb3JtOmIsc3Ryb2tlTWl0ZXJMaW1pdDpJKFMpLHNjYWxlWDpJKHcpLHNjYWxlWTpJKFQpLGFuZ2xlOkkoTyksZmxpcFg6ayxmbGlwWTpELG9wYWNpdHk6SShNKSxzaGFkb3c6Yz9jLnRvT2JqZWN0KCk6Yyx2aXNpYmxlOlAsYmFja2dyb3VuZENvbG9yOkUsZmlsbFJ1bGU6QSxwYWludEZpcnN0OmosZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uOkYsc2tld1g6SShMKSxza2V3WTpJKFIpfSxpP3tjbGlwUGF0aDppfTpudWxsKTtyZXR1cm4gdGhpcy5pbmNsdWRlRGVmYXVsdFZhbHVlcz9COnRoaXMuX3JlbW92ZURlZmF1bHRWYWx1ZXMoQil9dG9EYXRhbGVzc09iamVjdCh0KXtyZXR1cm4gdGhpcy50b09iamVjdCh0KX1fcmVtb3ZlRGVmYXVsdFZhbHVlcyh0KXtjb25zdCBlPXRoaXMuY29uc3RydWN0b3IuZ2V0RGVmYXVsdHMoKSxzPU9iamVjdC5rZXlzKGUpLmxlbmd0aD4wP2U6T2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpO3JldHVybiBXdCh0LCgodCxlKT0+e2lmKGU9PT1NfHxlPT09UHx8XCJ0eXBlXCI9PT1lKXJldHVybiEwO2NvbnN0IGk9c1tlXTtyZXR1cm4gdCE9PWkmJiEoQXJyYXkuaXNBcnJheSh0KSYmQXJyYXkuaXNBcnJheShpKSYmMD09PXQubGVuZ3RoJiYwPT09aS5sZW5ndGgpfSkpfXRvU3RyaW5nKCl7cmV0dXJuXCIjPFwiLmNvbmNhdCh0aGlzLmNvbnN0cnVjdG9yLnR5cGUsXCI+XCIpfXN0YXRpYyBfZnJvbU9iamVjdCh0KXtsZXQgZT1pKHQsJHMpLHM9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LHtleHRyYVBhcmFtOnJ9PXMsbj1pKHMsdGkpO3JldHVybiBYdChlLG4pLnRoZW4oKHQ9PnI/KGRlbGV0ZSB0W3JdLG5ldyB0aGlzKGVbcl0sdCkpOm5ldyB0aGlzKHQpKSl9c3RhdGljIGZyb21PYmplY3QodCxlKXtyZXR1cm4gdGhpcy5fZnJvbU9iamVjdCh0LGUpfX07dChlaSxcInN0YXRlUHJvcGVydGllc1wiLFBzKSx0KGVpLFwiY2FjaGVQcm9wZXJ0aWVzXCIsRXMpLHQoZWksXCJvd25EZWZhdWx0c1wiLEFzKSx0KGVpLFwidHlwZVwiLFwiRmFicmljT2JqZWN0XCIpLHQoZWksXCJjb2xvclByb3BlcnRpZXNcIixbSyxKLFwiYmFja2dyb3VuZENvbG9yXCJdKSx0KGVpLFwiY3VzdG9tUHJvcGVydGllc1wiLFtdKSx0dC5zZXRDbGFzcyhlaSksdHQuc2V0Q2xhc3MoZWksXCJvYmplY3RcIik7Y29uc3Qgc2k9KHQsZSxpKT0+KHIsbixvLGEpPT57Y29uc3QgaD1lKHIsbixvLGEpO3JldHVybiBoJiZfZSh0LHMocyh7fSxPZShyLG4sbyxhKSksaSkpLGh9O2Z1bmN0aW9uIGlpKHQpe3JldHVybihlLHMsaSxyKT0+e2NvbnN0e3RhcmdldDpuLG9yaWdpblg6byxvcmlnaW5ZOmF9PXMsaD1uLmdldFJlbGF0aXZlQ2VudGVyUG9pbnQoKSxjPW4udHJhbnNsYXRlVG9PcmlnaW5Qb2ludChoLG8sYSksbD10KGUscyxpLHIpO3JldHVybiBuLnNldFBvc2l0aW9uQnlPcmlnaW4oYyxzLm9yaWdpblgscy5vcmlnaW5ZKSxsfX1jb25zdCByaT1zaShZLGlpKCgodCxlLHMsaSk9Pntjb25zdCByPURlKGUsZS5vcmlnaW5YLGUub3JpZ2luWSxzLGkpO2lmKENlKGUub3JpZ2luWCk9PT1DZShEKXx8Q2UoZS5vcmlnaW5YKT09PUNlKEEpJiZyLng8MHx8Q2UoZS5vcmlnaW5YKT09PUNlKE0pJiZyLng+MCl7Y29uc3R7dGFyZ2V0OnR9PWUscz10LnN0cm9rZVdpZHRoLyh0LnN0cm9rZVVuaWZvcm0/dC5zY2FsZVg6MSksaT1TZShlKT8yOjEsbj10LndpZHRoLG89TWF0aC5hYnMoci54KmkvdC5zY2FsZVgpLXM7cmV0dXJuIHQuc2V0KFwid2lkdGhcIixNYXRoLm1heChvLDEpKSxuIT09dC53aWR0aH1yZXR1cm4hMX0pKSk7ZnVuY3Rpb24gbmkodCxlLHMsaSxyKXtpPWl8fHt9O2NvbnN0IG49dGhpcy5zaXplWHx8aS5jb3JuZXJTaXplfHxyLmNvcm5lclNpemUsbz10aGlzLnNpemVZfHxpLmNvcm5lclNpemV8fHIuY29ybmVyU2l6ZSxhPXZvaWQgMCE9PWkudHJhbnNwYXJlbnRDb3JuZXJzP2kudHJhbnNwYXJlbnRDb3JuZXJzOnIudHJhbnNwYXJlbnRDb3JuZXJzLGg9YT9KOkssYz0hYSYmKGkuY29ybmVyU3Ryb2tlQ29sb3J8fHIuY29ybmVyU3Ryb2tlQ29sb3IpO2xldCBsLHU9ZSxkPXM7dC5zYXZlKCksdC5maWxsU3R5bGU9aS5jb3JuZXJDb2xvcnx8ci5jb3JuZXJDb2xvcnx8XCJcIix0LnN0cm9rZVN0eWxlPWkuY29ybmVyU3Ryb2tlQ29sb3J8fHIuY29ybmVyU3Ryb2tlQ29sb3J8fFwiXCIsbj5vPyhsPW4sdC5zY2FsZSgxLG8vbiksZD1zKm4vbyk6bz5uPyhsPW8sdC5zY2FsZShuL28sMSksdT1lKm8vbik6bD1uLHQuYmVnaW5QYXRoKCksdC5hcmModSxkLGwvMiwwLFMsITEpLHRbaF0oKSxjJiZ0LnN0cm9rZSgpLHQucmVzdG9yZSgpfWZ1bmN0aW9uIG9pKHQsZSxzLGkscil7aT1pfHx7fTtjb25zdCBuPXRoaXMuc2l6ZVh8fGkuY29ybmVyU2l6ZXx8ci5jb3JuZXJTaXplLG89dGhpcy5zaXplWXx8aS5jb3JuZXJTaXplfHxyLmNvcm5lclNpemUsYT12b2lkIDAhPT1pLnRyYW5zcGFyZW50Q29ybmVycz9pLnRyYW5zcGFyZW50Q29ybmVyczpyLnRyYW5zcGFyZW50Q29ybmVycyxoPWE/SjpLLGM9IWEmJihpLmNvcm5lclN0cm9rZUNvbG9yfHxyLmNvcm5lclN0cm9rZUNvbG9yKSxsPW4vMix1PW8vMjt0LnNhdmUoKSx0LmZpbGxTdHlsZT1pLmNvcm5lckNvbG9yfHxyLmNvcm5lckNvbG9yfHxcIlwiLHQuc3Ryb2tlU3R5bGU9aS5jb3JuZXJTdHJva2VDb2xvcnx8ci5jb3JuZXJTdHJva2VDb2xvcnx8XCJcIix0LnRyYW5zbGF0ZShlLHMpO2NvbnN0IGQ9ci5nZXRUb3RhbEFuZ2xlKCk7dC5yb3RhdGUoeHQoZCkpLHRbXCJcIi5jb25jYXQoaCxcIlJlY3RcIildKC1sLC11LG4sbyksYyYmdC5zdHJva2VSZWN0KC1sLC11LG4sbyksdC5yZXN0b3JlKCl9Y2xhc3MgYWl7Y29uc3RydWN0b3IoZSl7dCh0aGlzLFwidmlzaWJsZVwiLCEwKSx0KHRoaXMsXCJhY3Rpb25OYW1lXCIsRyksdCh0aGlzLFwiYW5nbGVcIiwwKSx0KHRoaXMsXCJ4XCIsMCksdCh0aGlzLFwieVwiLDApLHQodGhpcyxcIm9mZnNldFhcIiwwKSx0KHRoaXMsXCJvZmZzZXRZXCIsMCksdCh0aGlzLFwic2l6ZVhcIiwwKSx0KHRoaXMsXCJzaXplWVwiLDApLHQodGhpcyxcInRvdWNoU2l6ZVhcIiwwKSx0KHRoaXMsXCJ0b3VjaFNpemVZXCIsMCksdCh0aGlzLFwiY3Vyc29yU3R5bGVcIixcImNyb3NzaGFpclwiKSx0KHRoaXMsXCJ3aXRoQ29ubmVjdGlvblwiLCExKSxPYmplY3QuYXNzaWduKHRoaXMsZSl9c2hvdWxkQWN0aXZhdGUodCxlLHMsaSl7dmFyIHI7bGV0e3RsOm4sdHI6byxicjphLGJsOmh9PWk7cmV0dXJuKG51bGw9PT0ocj1lLmNhbnZhcyl8fHZvaWQgMD09PXI/dm9pZCAwOnIuZ2V0QWN0aXZlT2JqZWN0KCkpPT09ZSYmZS5pc0NvbnRyb2xWaXNpYmxlKHQpJiZRcy5pc1BvaW50SW5Qb2x5Z29uKHMsW24sbyxhLGhdKX1nZXRBY3Rpb25IYW5kbGVyKHQsZSxzKXtyZXR1cm4gdGhpcy5hY3Rpb25IYW5kbGVyfWdldE1vdXNlRG93bkhhbmRsZXIodCxlLHMpe3JldHVybiB0aGlzLm1vdXNlRG93bkhhbmRsZXJ9Z2V0TW91c2VVcEhhbmRsZXIodCxlLHMpe3JldHVybiB0aGlzLm1vdXNlVXBIYW5kbGVyfWN1cnNvclN0eWxlSGFuZGxlcih0LGUscyl7cmV0dXJuIGUuY3Vyc29yU3R5bGV9Z2V0QWN0aW9uTmFtZSh0LGUscyl7cmV0dXJuIGUuYWN0aW9uTmFtZX1nZXRWaXNpYmlsaXR5KHQsZSl7dmFyIHMsaTtyZXR1cm4gbnVsbCE9PShzPW51bGw9PT0oaT10Ll9jb250cm9sc1Zpc2liaWxpdHkpfHx2b2lkIDA9PT1pP3ZvaWQgMDppW2VdKSYmdm9pZCAwIT09cz9zOnRoaXMudmlzaWJsZX1zZXRWaXNpYmlsaXR5KHQsZSxzKXt0aGlzLnZpc2libGU9dH1wb3NpdGlvbkhhbmRsZXIodCxlLHMsaSl7cmV0dXJuIG5ldyBvdCh0aGlzLngqdC54K3RoaXMub2Zmc2V0WCx0aGlzLnkqdC55K3RoaXMub2Zmc2V0WSkudHJhbnNmb3JtKGUpfWNhbGNDb3JuZXJDb29yZHModCxlLHMsaSxyLG4pe2NvbnN0IG89T3QoW010KHMsaSksUHQoe2FuZ2xlOnR9KSxFdCgocj90aGlzLnRvdWNoU2l6ZVg6dGhpcy5zaXplWCl8fGUsKHI/dGhpcy50b3VjaFNpemVZOnRoaXMuc2l6ZVkpfHxlKV0pO3JldHVybnt0bDpuZXcgb3QoLS41LC0uNSkudHJhbnNmb3JtKG8pLHRyOm5ldyBvdCguNSwtLjUpLnRyYW5zZm9ybShvKSxicjpuZXcgb3QoLjUsLjUpLnRyYW5zZm9ybShvKSxibDpuZXcgb3QoLS41LC41KS50cmFuc2Zvcm0obyl9fXJlbmRlcih0LGUscyxpLHIpe2lmKFwiY2lyY2xlXCI9PT0oKGk9aXx8e30pLmNvcm5lclN0eWxlfHxyLmNvcm5lclN0eWxlKSluaS5jYWxsKHRoaXMsdCxlLHMsaSxyKTtlbHNlIG9pLmNhbGwodGhpcyx0LGUscyxpLHIpfX1jb25zdCBoaT0odCxlLHMpPT5zLmxvY2tSb3RhdGlvbj9iZTplLmN1cnNvclN0eWxlLGNpPXNpKEksaWkoKCh0LGUscyxpKT0+e2xldHt0YXJnZXQ6cixleDpuLGV5Om8sdGhldGE6YSxvcmlnaW5YOmgsb3JpZ2luWTpjfT1lO2NvbnN0IGw9ci50cmFuc2xhdGVUb09yaWdpblBvaW50KHIuZ2V0UmVsYXRpdmVDZW50ZXJQb2ludCgpLGgsYyk7aWYoVGUocixcImxvY2tSb3RhdGlvblwiKSlyZXR1cm4hMTtjb25zdCB1PU1hdGguYXRhbjIoby1sLnksbi1sLngpLGQ9TWF0aC5hdGFuMihpLWwueSxzLWwueCk7bGV0IGc9Q3QoZC11K2EpO2lmKHIuc25hcEFuZ2xlJiZyLnNuYXBBbmdsZT4wKXtjb25zdCB0PXIuc25hcEFuZ2xlLGU9ci5zbmFwVGhyZXNob2xkfHx0LHM9TWF0aC5jZWlsKGcvdCkqdCxpPU1hdGguZmxvb3IoZy90KSp0O01hdGguYWJzKGctaSk8ZT9nPWk6TWF0aC5hYnMoZy1zKTxlJiYoZz1zKX1nPDAmJihnPTM2MCtnKSxnJT0zNjA7Y29uc3QgZj1yLmFuZ2xlIT09ZztyZXR1cm4gci5hbmdsZT1nLGZ9KSkpO2Z1bmN0aW9uIGxpKHQsZSl7Y29uc3Qgcz1lLmNhbnZhcyxpPXRbcy51bmlTY2FsZUtleV07cmV0dXJuIHMudW5pZm9ybVNjYWxpbmcmJiFpfHwhcy51bmlmb3JtU2NhbGluZyYmaX1mdW5jdGlvbiB1aSh0LGUscyl7Y29uc3QgaT1UZSh0LFwibG9ja1NjYWxpbmdYXCIpLHI9VGUodCxcImxvY2tTY2FsaW5nWVwiKTtpZihpJiZyKXJldHVybiEwO2lmKCFlJiYoaXx8cikmJnMpcmV0dXJuITA7aWYoaSYmXCJ4XCI9PT1lKXJldHVybiEwO2lmKHImJlwieVwiPT09ZSlyZXR1cm4hMDtjb25zdHt3aWR0aDpuLGhlaWdodDpvLHN0cm9rZVdpZHRoOmF9PXQ7cmV0dXJuIDA9PT1uJiYwPT09YSYmXCJ5XCIhPT1lfHwwPT09byYmMD09PWEmJlwieFwiIT09ZX1jb25zdCBkaT1bXCJlXCIsXCJzZVwiLFwic1wiLFwic3dcIixcIndcIixcIm53XCIsXCJuXCIsXCJuZVwiLFwiZVwiXSxnaT0odCxlLHMpPT57Y29uc3QgaT1saSh0LHMpO2lmKHVpKHMsMCE9PWUueCYmMD09PWUueT9cInhcIjowPT09ZS54JiYwIT09ZS55P1wieVwiOlwiXCIsaSkpcmV0dXJuIGJlO2NvbnN0IHI9a2UocyxlKTtyZXR1cm5cIlwiLmNvbmNhdChkaVtyXSxcIi1yZXNpemVcIil9O2Z1bmN0aW9uIGZpKHQsZSxzLGkpe2xldCByPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdP2FyZ3VtZW50c1s0XTp7fTtjb25zdCBuPWUudGFyZ2V0LG89ci5ieSxhPWxpKHQsbik7bGV0IGgsYyxsLHUsZCxnO2lmKHVpKG4sbyxhKSlyZXR1cm4hMTtpZihlLmdlc3R1cmVTY2FsZSljPWUuc2NhbGVYKmUuZ2VzdHVyZVNjYWxlLGw9ZS5zY2FsZVkqZS5nZXN0dXJlU2NhbGU7ZWxzZXtpZihoPURlKGUsZS5vcmlnaW5YLGUub3JpZ2luWSxzLGkpLGQ9XCJ5XCIhPT1vP01hdGguc2lnbihoLnh8fGUuc2lnblh8fDEpOjEsZz1cInhcIiE9PW8/TWF0aC5zaWduKGgueXx8ZS5zaWduWXx8MSk6MSxlLnNpZ25YfHwoZS5zaWduWD1kKSxlLnNpZ25ZfHwoZS5zaWduWT1nKSxUZShuLFwibG9ja1NjYWxpbmdGbGlwXCIpJiYoZS5zaWduWCE9PWR8fGUuc2lnblkhPT1nKSlyZXR1cm4hMTtpZih1PW4uX2dldFRyYW5zZm9ybWVkRGltZW5zaW9ucygpLGEmJiFvKXtjb25zdCB0PU1hdGguYWJzKGgueCkrTWF0aC5hYnMoaC55KSx7b3JpZ2luYWw6c309ZSxpPXQvKE1hdGguYWJzKHUueCpzLnNjYWxlWC9uLnNjYWxlWCkrTWF0aC5hYnModS55KnMuc2NhbGVZL24uc2NhbGVZKSk7Yz1zLnNjYWxlWCppLGw9cy5zY2FsZVkqaX1lbHNlIGM9TWF0aC5hYnMoaC54Km4uc2NhbGVYL3UueCksbD1NYXRoLmFicyhoLnkqbi5zY2FsZVkvdS55KTtTZShlKSYmKGMqPTIsbCo9MiksZS5zaWduWCE9PWQmJlwieVwiIT09byYmKGUub3JpZ2luWD13ZShlLm9yaWdpblgpLGMqPS0xLGUuc2lnblg9ZCksZS5zaWduWSE9PWcmJlwieFwiIT09byYmKGUub3JpZ2luWT13ZShlLm9yaWdpblkpLGwqPS0xLGUuc2lnblk9Zyl9Y29uc3QgZj1uLnNjYWxlWCxwPW4uc2NhbGVZO3JldHVybiBvPyhcInhcIj09PW8mJm4uc2V0KEgsYyksXCJ5XCI9PT1vJiZuLnNldChOLGwpKTooIVRlKG4sXCJsb2NrU2NhbGluZ1hcIikmJm4uc2V0KEgsYyksIVRlKG4sXCJsb2NrU2NhbGluZ1lcIikmJm4uc2V0KE4sbCkpLGYhPT1uLnNjYWxlWHx8cCE9PW4uc2NhbGVZfWNvbnN0IHBpPXNpKFIsaWkoKCh0LGUscyxpKT0+ZmkodCxlLHMsaSkpKSksbWk9c2koUixpaSgoKHQsZSxzLGkpPT5maSh0LGUscyxpLHtieTpcInhcIn0pKSkpLHZpPXNpKFIsaWkoKCh0LGUscyxpKT0+ZmkodCxlLHMsaSx7Ynk6XCJ5XCJ9KSkpKSx5aT1bXCJ0YXJnZXRcIixcImV4XCIsXCJleVwiLFwic2tld2luZ1NpZGVcIl0sX2k9e3g6e2NvdW50ZXJBeGlzOlwieVwiLHNjYWxlOkgsc2tldzpVLGxvY2tTa2V3aW5nOlwibG9ja1NrZXdpbmdYXCIsb3JpZ2luOlwib3JpZ2luWFwiLGZsaXA6XCJmbGlwWFwifSx5Ontjb3VudGVyQXhpczpcInhcIixzY2FsZTpOLHNrZXc6cSxsb2NrU2tld2luZzpcImxvY2tTa2V3aW5nWVwiLG9yaWdpbjpcIm9yaWdpbllcIixmbGlwOlwiZmxpcFlcIn19LHhpPVtcIm5zXCIsXCJuZXN3XCIsXCJld1wiLFwibndzZVwiXSxDaT0odCxlLHMpPT57aWYoMCE9PWUueCYmVGUocyxcImxvY2tTa2V3aW5nWVwiKSlyZXR1cm4gYmU7aWYoMCE9PWUueSYmVGUocyxcImxvY2tTa2V3aW5nWFwiKSlyZXR1cm4gYmU7Y29uc3QgaT1rZShzLGUpJTQ7cmV0dXJuXCJcIi5jb25jYXQoeGlbaV0sXCItcmVzaXplXCIpfTtmdW5jdGlvbiBiaSh0LGUscixuLG8pe2NvbnN0e3RhcmdldDphfT1yLHtjb3VudGVyQXhpczpoLG9yaWdpbjpjLGxvY2tTa2V3aW5nOmwsc2tldzp1LGZsaXA6ZH09X2lbdF07aWYoVGUoYSxsKSlyZXR1cm4hMTtjb25zdHtvcmlnaW46ZyxmbGlwOmZ9PV9pW2hdLHA9Q2UocltnXSkqKGFbZl0/LTE6MSksbT0tTWF0aC5zaWduKHApKihhW2RdPy0xOjEpLHY9LjUqLSgoMD09PWFbdV0mJkRlKHIsRCxELG4sbylbdF0+MHx8YVt1XT4wPzE6LTEpKm0pKy41LHk9c2koWCxpaSgoKGUscyxyLG4pPT5mdW5jdGlvbih0LGUscyl7bGV0e3RhcmdldDpyLGV4Om4sZXk6byxza2V3aW5nU2lkZTphfT1lLGg9aShlLHlpKTtjb25zdHtza2V3OmN9PV9pW3RdLGw9cy5zdWJ0cmFjdChuZXcgb3QobixvKSkuZGl2aWRlKG5ldyBvdChyLnNjYWxlWCxyLnNjYWxlWSkpW3RdLHU9cltjXSxkPWhbY10sZz1NYXRoLnRhbih4dChkKSksZj1cInlcIj09PXQ/ci5fZ2V0VHJhbnNmb3JtZWREaW1lbnNpb25zKHtzY2FsZVg6MSxzY2FsZVk6MSxza2V3WDowfSkueDpyLl9nZXRUcmFuc2Zvcm1lZERpbWVuc2lvbnMoe3NjYWxlWDoxLHNjYWxlWToxfSkueSxwPTIqbCphL01hdGgubWF4KGYsMSkrZyxtPUN0KE1hdGguYXRhbihwKSk7ci5zZXQoYyxtKTtjb25zdCB2PXUhPT1yW2NdO2lmKHYmJlwieVwiPT09dCl7Y29uc3R7c2tld1g6dCxzY2FsZVg6ZX09cixzPXIuX2dldFRyYW5zZm9ybWVkRGltZW5zaW9ucyh7c2tld1k6dX0pLGk9ci5fZ2V0VHJhbnNmb3JtZWREaW1lbnNpb25zKCksbj0wIT09dD9zLngvaS54OjE7MSE9PW4mJnIuc2V0KEgsbiplKX1yZXR1cm4gdn0odCxzLG5ldyBvdChyLG4pKSkpKTtyZXR1cm4geShlLHMocyh7fSxyKSx7fSx7W2NdOnYsc2tld2luZ1NpZGU6bX0pLG4sbyl9Y29uc3QgU2k9KHQsZSxzLGkpPT5iaShcInhcIix0LGUscyxpKSx3aT0odCxlLHMsaSk9PmJpKFwieVwiLHQsZSxzLGkpO2Z1bmN0aW9uIFRpKHQsZSl7cmV0dXJuIHRbZS5jYW52YXMuYWx0QWN0aW9uS2V5XX1jb25zdCBPaT0odCxlLHMpPT57Y29uc3QgaT1UaSh0LHMpO3JldHVybiAwPT09ZS54P2k/VTpOOjA9PT1lLnk/aT9xOkg6XCJcIn0sa2k9KHQsZSxzKT0+VGkodCxzKT9DaSgwLGUscyk6Z2kodCxlLHMpLERpPSh0LGUscyxpKT0+VGkodCxlLnRhcmdldCk/d2kodCxlLHMsaSk6bWkodCxlLHMsaSksTWk9KHQsZSxzLGkpPT5UaSh0LGUudGFyZ2V0KT9TaSh0LGUscyxpKTp2aSh0LGUscyxpKSxQaT0oKT0+KHttbDpuZXcgYWkoe3g6LS41LHk6MCxjdXJzb3JTdHlsZUhhbmRsZXI6a2ksYWN0aW9uSGFuZGxlcjpEaSxnZXRBY3Rpb25OYW1lOk9pfSksbXI6bmV3IGFpKHt4Oi41LHk6MCxjdXJzb3JTdHlsZUhhbmRsZXI6a2ksYWN0aW9uSGFuZGxlcjpEaSxnZXRBY3Rpb25OYW1lOk9pfSksbWI6bmV3IGFpKHt4OjAseTouNSxjdXJzb3JTdHlsZUhhbmRsZXI6a2ksYWN0aW9uSGFuZGxlcjpNaSxnZXRBY3Rpb25OYW1lOk9pfSksbXQ6bmV3IGFpKHt4OjAseTotLjUsY3Vyc29yU3R5bGVIYW5kbGVyOmtpLGFjdGlvbkhhbmRsZXI6TWksZ2V0QWN0aW9uTmFtZTpPaX0pLHRsOm5ldyBhaSh7eDotLjUseTotLjUsY3Vyc29yU3R5bGVIYW5kbGVyOmdpLGFjdGlvbkhhbmRsZXI6cGl9KSx0cjpuZXcgYWkoe3g6LjUseTotLjUsY3Vyc29yU3R5bGVIYW5kbGVyOmdpLGFjdGlvbkhhbmRsZXI6cGl9KSxibDpuZXcgYWkoe3g6LS41LHk6LjUsY3Vyc29yU3R5bGVIYW5kbGVyOmdpLGFjdGlvbkhhbmRsZXI6cGl9KSxicjpuZXcgYWkoe3g6LjUseTouNSxjdXJzb3JTdHlsZUhhbmRsZXI6Z2ksYWN0aW9uSGFuZGxlcjpwaX0pLG10cjpuZXcgYWkoe3g6MCx5Oi0uNSxhY3Rpb25IYW5kbGVyOmNpLGN1cnNvclN0eWxlSGFuZGxlcjpoaSxvZmZzZXRZOi00MCx3aXRoQ29ubmVjdGlvbjohMCxhY3Rpb25OYW1lOkJ9KX0pLEVpPSgpPT4oe21yOm5ldyBhaSh7eDouNSx5OjAsYWN0aW9uSGFuZGxlcjpyaSxjdXJzb3JTdHlsZUhhbmRsZXI6a2ksYWN0aW9uTmFtZTpZfSksbWw6bmV3IGFpKHt4Oi0uNSx5OjAsYWN0aW9uSGFuZGxlcjpyaSxjdXJzb3JTdHlsZUhhbmRsZXI6a2ksYWN0aW9uTmFtZTpZfSl9KSxBaT0oKT0+cyhzKHt9LFBpKCkpLEVpKCkpO2NsYXNzIGppIGV4dGVuZHMgZWl7c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIHMocyh7fSxzdXBlci5nZXREZWZhdWx0cygpKSxqaS5vd25EZWZhdWx0cyl9Y29uc3RydWN0b3IodCl7c3VwZXIoKSxPYmplY3QuYXNzaWduKHRoaXMsdGhpcy5jb25zdHJ1Y3Rvci5jcmVhdGVDb250cm9scygpLGppLm93bkRlZmF1bHRzKSx0aGlzLnNldE9wdGlvbnModCl9c3RhdGljIGNyZWF0ZUNvbnRyb2xzKCl7cmV0dXJue2NvbnRyb2xzOlBpKCl9fV91cGRhdGVDYWNoZUNhbnZhcygpe2NvbnN0IHQ9dGhpcy5jYW52YXM7aWYodGhpcy5ub1NjYWxlQ2FjaGUmJnQmJnQuX2N1cnJlbnRUcmFuc2Zvcm0pe2NvbnN0IGU9dC5fY3VycmVudFRyYW5zZm9ybSxzPWUudGFyZ2V0LGk9ZS5hY3Rpb247aWYodGhpcz09PXMmJmkmJmkuc3RhcnRzV2l0aChHKSlyZXR1cm4hMX1yZXR1cm4gc3VwZXIuX3VwZGF0ZUNhY2hlQ2FudmFzKCl9Z2V0QWN0aXZlQ29udHJvbCgpe2NvbnN0IHQ9dGhpcy5fX2Nvcm5lcjtyZXR1cm4gdD97a2V5OnQsY29udHJvbDp0aGlzLmNvbnRyb2xzW3RdLGNvb3JkOnRoaXMub0Nvb3Jkc1t0XX06dm9pZCAwfWZpbmRDb250cm9sKHQpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV07aWYoIXRoaXMuaGFzQ29udHJvbHN8fCF0aGlzLmNhbnZhcylyZXR1cm47dGhpcy5fX2Nvcm5lcj12b2lkIDA7Y29uc3Qgcz1PYmplY3QuZW50cmllcyh0aGlzLm9Db29yZHMpO2ZvcihsZXQgaT1zLmxlbmd0aC0xO2k+PTA7aS0tKXtjb25zdFtyLG5dPXNbaV0sbz10aGlzLmNvbnRyb2xzW3JdO2lmKG8uc2hvdWxkQWN0aXZhdGUocix0aGlzLHQsZT9uLnRvdWNoQ29ybmVyOm4uY29ybmVyKSlyZXR1cm4gdGhpcy5fX2Nvcm5lcj1yLHtrZXk6cixjb250cm9sOm8sY29vcmQ6dGhpcy5vQ29vcmRzW3JdfX19Y2FsY09Db29yZHMoKXtjb25zdCB0PXRoaXMuZ2V0Vmlld3BvcnRUcmFuc2Zvcm0oKSxlPXRoaXMuZ2V0Q2VudGVyUG9pbnQoKSxzPU10KGUueCxlLnkpLGk9UHQoe2FuZ2xlOnRoaXMuZ2V0VG90YWxBbmdsZSgpLSh0aGlzLmdyb3VwJiZ0aGlzLmZsaXBYPzE4MDowKX0pLHI9VHQocyxpKSxuPVR0KHQsciksbz1UdChuLFsxL3RbMF0sMCwwLDEvdFszXSwwLDBdKSxhPXRoaXMuZ3JvdXA/RHQodGhpcy5jYWxjVHJhbnNmb3JtTWF0cml4KCkpOnZvaWQgMDthJiYoYS5zY2FsZVg9TWF0aC5hYnMoYS5zY2FsZVgpLGEuc2NhbGVZPU1hdGguYWJzKGEuc2NhbGVZKSk7Y29uc3QgaD10aGlzLl9jYWxjdWxhdGVDdXJyZW50RGltZW5zaW9ucyhhKSxjPXt9O3JldHVybiB0aGlzLmZvckVhY2hDb250cm9sKCgodCxlKT0+e2NvbnN0IHM9dC5wb3NpdGlvbkhhbmRsZXIoaCxvLHRoaXMsdCk7Y1tlXT1PYmplY3QuYXNzaWduKHMsdGhpcy5fY2FsY0Nvcm5lckNvb3Jkcyh0LHMpKX0pKSxjfV9jYWxjQ29ybmVyQ29vcmRzKHQsZSl7Y29uc3Qgcz10aGlzLmdldFRvdGFsQW5nbGUoKTtyZXR1cm57Y29ybmVyOnQuY2FsY0Nvcm5lckNvb3JkcyhzLHRoaXMuY29ybmVyU2l6ZSxlLngsZS55LCExLHRoaXMpLHRvdWNoQ29ybmVyOnQuY2FsY0Nvcm5lckNvb3JkcyhzLHRoaXMudG91Y2hDb3JuZXJTaXplLGUueCxlLnksITAsdGhpcyl9fXNldENvb3Jkcygpe3N1cGVyLnNldENvb3JkcygpLHRoaXMuY2FudmFzJiYodGhpcy5vQ29vcmRzPXRoaXMuY2FsY09Db29yZHMoKSl9Zm9yRWFjaENvbnRyb2wodCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5jb250cm9scyl0KHRoaXMuY29udHJvbHNbZV0sZSx0aGlzKX1kcmF3U2VsZWN0aW9uQmFja2dyb3VuZCh0KXtpZighdGhpcy5zZWxlY3Rpb25CYWNrZ3JvdW5kQ29sb3J8fHRoaXMuY2FudmFzJiZ0aGlzLmNhbnZhcy5fYWN0aXZlT2JqZWN0IT09dGhpcylyZXR1cm47dC5zYXZlKCk7Y29uc3QgZT10aGlzLmdldFJlbGF0aXZlQ2VudGVyUG9pbnQoKSxzPXRoaXMuX2NhbGN1bGF0ZUN1cnJlbnREaW1lbnNpb25zKCksaT10aGlzLmdldFZpZXdwb3J0VHJhbnNmb3JtKCk7dC50cmFuc2xhdGUoZS54LGUueSksdC5zY2FsZSgxL2lbMF0sMS9pWzNdKSx0LnJvdGF0ZSh4dCh0aGlzLmFuZ2xlKSksdC5maWxsU3R5bGU9dGhpcy5zZWxlY3Rpb25CYWNrZ3JvdW5kQ29sb3IsdC5maWxsUmVjdCgtcy54LzIsLXMueS8yLHMueCxzLnkpLHQucmVzdG9yZSgpfXN0cm9rZUJvcmRlcnModCxlKXt0LnN0cm9rZVJlY3QoLWUueC8yLC1lLnkvMixlLngsZS55KX1fZHJhd0JvcmRlcnModCxlKXtsZXQgaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e307Y29uc3Qgcj1zKHtoYXNDb250cm9sczp0aGlzLmhhc0NvbnRyb2xzLGJvcmRlckNvbG9yOnRoaXMuYm9yZGVyQ29sb3IsYm9yZGVyRGFzaEFycmF5OnRoaXMuYm9yZGVyRGFzaEFycmF5fSxpKTt0LnNhdmUoKSx0LnN0cm9rZVN0eWxlPXIuYm9yZGVyQ29sb3IsdGhpcy5fc2V0TGluZURhc2godCxyLmJvcmRlckRhc2hBcnJheSksdGhpcy5zdHJva2VCb3JkZXJzKHQsZSksci5oYXNDb250cm9scyYmdGhpcy5kcmF3Q29udHJvbHNDb25uZWN0aW5nTGluZXModCxlKSx0LnJlc3RvcmUoKX1fcmVuZGVyQ29udHJvbHModCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O2NvbnN0e2hhc0JvcmRlcnM6aSxoYXNDb250cm9sczpyfT10aGlzLG49cyh7aGFzQm9yZGVyczppLGhhc0NvbnRyb2xzOnJ9LGUpLG89dGhpcy5nZXRWaWV3cG9ydFRyYW5zZm9ybSgpLGE9bi5oYXNCb3JkZXJzLGg9bi5oYXNDb250cm9scyxjPVR0KG8sdGhpcy5jYWxjVHJhbnNmb3JtTWF0cml4KCkpLGw9RHQoYyk7dC5zYXZlKCksdC50cmFuc2xhdGUobC50cmFuc2xhdGVYLGwudHJhbnNsYXRlWSksdC5saW5lV2lkdGg9dGhpcy5ib3JkZXJTY2FsZUZhY3Rvcix0aGlzLmdyb3VwPT09dGhpcy5wYXJlbnQmJih0Lmdsb2JhbEFscGhhPXRoaXMuaXNNb3Zpbmc/dGhpcy5ib3JkZXJPcGFjaXR5V2hlbk1vdmluZzoxKSx0aGlzLmZsaXBYJiYobC5hbmdsZS09MTgwKSx0LnJvdGF0ZSh4dCh0aGlzLmdyb3VwP2wuYW5nbGU6dGhpcy5hbmdsZSkpLGEmJnRoaXMuZHJhd0JvcmRlcnModCxsLGUpLGgmJnRoaXMuZHJhd0NvbnRyb2xzKHQsZSksdC5yZXN0b3JlKCl9ZHJhd0JvcmRlcnModCxlLHMpe2xldCBpO2lmKHMmJnMuZm9yQWN0aXZlU2VsZWN0aW9ufHx0aGlzLmdyb3VwKXtjb25zdCB0PWZlKHRoaXMud2lkdGgsdGhpcy5oZWlnaHQsTHQoZSkpLHM9dGhpcy5pc1N0cm9rZUFjY291bnRlZEZvckluRGltZW5zaW9ucygpP2F0Oih0aGlzLnN0cm9rZVVuaWZvcm0/KG5ldyBvdCkuc2NhbGFyQWRkKHRoaXMuY2FudmFzP3RoaXMuY2FudmFzLmdldFpvb20oKToxKTpuZXcgb3QoZS5zY2FsZVgsZS5zY2FsZVkpKS5zY2FsYXJNdWx0aXBseSh0aGlzLnN0cm9rZVdpZHRoKTtpPXQuYWRkKHMpLnNjYWxhckFkZCh0aGlzLmJvcmRlclNjYWxlRmFjdG9yKS5zY2FsYXJBZGQoMip0aGlzLnBhZGRpbmcpfWVsc2UgaT10aGlzLl9jYWxjdWxhdGVDdXJyZW50RGltZW5zaW9ucygpLnNjYWxhckFkZCh0aGlzLmJvcmRlclNjYWxlRmFjdG9yKTt0aGlzLl9kcmF3Qm9yZGVycyh0LGkscyl9ZHJhd0NvbnRyb2xzQ29ubmVjdGluZ0xpbmVzKHQsZSl7bGV0IHM9ITE7dC5iZWdpblBhdGgoKSx0aGlzLmZvckVhY2hDb250cm9sKCgoaSxyKT0+e2kud2l0aENvbm5lY3Rpb24mJmkuZ2V0VmlzaWJpbGl0eSh0aGlzLHIpJiYocz0hMCx0Lm1vdmVUbyhpLngqZS54LGkueSplLnkpLHQubGluZVRvKGkueCplLngraS5vZmZzZXRYLGkueSplLnkraS5vZmZzZXRZKSl9KSkscyYmdC5zdHJva2UoKX1kcmF3Q29udHJvbHModCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3Quc2F2ZSgpO2NvbnN0IGk9dGhpcy5nZXRDYW52YXNSZXRpbmFTY2FsaW5nKCkse2Nvcm5lclN0cm9rZUNvbG9yOnIsY29ybmVyRGFzaEFycmF5Om4sY29ybmVyQ29sb3I6b309dGhpcyxhPXMoe2Nvcm5lclN0cm9rZUNvbG9yOnIsY29ybmVyRGFzaEFycmF5Om4sY29ybmVyQ29sb3I6b30sZSk7dC5zZXRUcmFuc2Zvcm0oaSwwLDAsaSwwLDApLHQuc3Ryb2tlU3R5bGU9dC5maWxsU3R5bGU9YS5jb3JuZXJDb2xvcix0aGlzLnRyYW5zcGFyZW50Q29ybmVyc3x8KHQuc3Ryb2tlU3R5bGU9YS5jb3JuZXJTdHJva2VDb2xvciksdGhpcy5fc2V0TGluZURhc2godCxhLmNvcm5lckRhc2hBcnJheSksdGhpcy5mb3JFYWNoQ29udHJvbCgoKGUscyk9PntpZihlLmdldFZpc2liaWxpdHkodGhpcyxzKSl7Y29uc3QgaT10aGlzLm9Db29yZHNbc107ZS5yZW5kZXIodCxpLngsaS55LGEsdGhpcyl9fSkpLHQucmVzdG9yZSgpfWlzQ29udHJvbFZpc2libGUodCl7cmV0dXJuIHRoaXMuY29udHJvbHNbdF0mJnRoaXMuY29udHJvbHNbdF0uZ2V0VmlzaWJpbGl0eSh0aGlzLHQpfXNldENvbnRyb2xWaXNpYmxlKHQsZSl7dGhpcy5fY29udHJvbHNWaXNpYmlsaXR5fHwodGhpcy5fY29udHJvbHNWaXNpYmlsaXR5PXt9KSx0aGlzLl9jb250cm9sc1Zpc2liaWxpdHlbdF09ZX1zZXRDb250cm9sc1Zpc2liaWxpdHkoKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307T2JqZWN0LmVudHJpZXModCkuZm9yRWFjaCgodD0+e2xldFtlLHNdPXQ7cmV0dXJuIHRoaXMuc2V0Q29udHJvbFZpc2libGUoZSxzKX0pKX1jbGVhckNvbnRleHRUb3AodCl7aWYoIXRoaXMuY2FudmFzKXJldHVybjtjb25zdCBlPXRoaXMuY2FudmFzLmNvbnRleHRUb3A7aWYoIWUpcmV0dXJuO2NvbnN0IHM9dGhpcy5jYW52YXMudmlld3BvcnRUcmFuc2Zvcm07ZS5zYXZlKCksZS50cmFuc2Zvcm0oc1swXSxzWzFdLHNbMl0sc1szXSxzWzRdLHNbNV0pLHRoaXMudHJhbnNmb3JtKGUpO2NvbnN0IGk9dGhpcy53aWR0aCs0LHI9dGhpcy5oZWlnaHQrNDtyZXR1cm4gZS5jbGVhclJlY3QoLWkvMiwtci8yLGksciksdHx8ZS5yZXN0b3JlKCksZX1vbkRlc2VsZWN0KHQpe3JldHVybiExfW9uU2VsZWN0KHQpe3JldHVybiExfXNob3VsZFN0YXJ0RHJhZ2dpbmcodCl7cmV0dXJuITF9b25EcmFnU3RhcnQodCl7cmV0dXJuITF9Y2FuRHJvcCh0KXtyZXR1cm4hMX1yZW5kZXJEcmFnU291cmNlRWZmZWN0KHQpe31yZW5kZXJEcm9wVGFyZ2V0RWZmZWN0KHQpe319ZnVuY3Rpb24gRmkodCxlKXtyZXR1cm4gZS5mb3JFYWNoKChlPT57T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZS5wcm90b3R5cGUpLmZvckVhY2goKHM9PntcImNvbnN0cnVjdG9yXCIhPT1zJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUscyxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUucHJvdG90eXBlLHMpfHxPYmplY3QuY3JlYXRlKG51bGwpKX0pKX0pKSx0fXQoamksXCJvd25EZWZhdWx0c1wiLHtub1NjYWxlQ2FjaGU6ITAsbG9ja01vdmVtZW50WDohMSxsb2NrTW92ZW1lbnRZOiExLGxvY2tSb3RhdGlvbjohMSxsb2NrU2NhbGluZ1g6ITEsbG9ja1NjYWxpbmdZOiExLGxvY2tTa2V3aW5nWDohMSxsb2NrU2tld2luZ1k6ITEsbG9ja1NjYWxpbmdGbGlwOiExLGNvcm5lclNpemU6MTMsdG91Y2hDb3JuZXJTaXplOjI0LHRyYW5zcGFyZW50Q29ybmVyczohMCxjb3JuZXJDb2xvcjpcInJnYigxNzgsMjA0LDI1NSlcIixjb3JuZXJTdHJva2VDb2xvcjpcIlwiLGNvcm5lclN0eWxlOlwicmVjdFwiLGNvcm5lckRhc2hBcnJheTpudWxsLGhhc0NvbnRyb2xzOiEwLGJvcmRlckNvbG9yOlwicmdiKDE3OCwyMDQsMjU1KVwiLGJvcmRlckRhc2hBcnJheTpudWxsLGJvcmRlck9wYWNpdHlXaGVuTW92aW5nOi40LGJvcmRlclNjYWxlRmFjdG9yOjEsaGFzQm9yZGVyczohMCxzZWxlY3Rpb25CYWNrZ3JvdW5kQ29sb3I6XCJcIixzZWxlY3RhYmxlOiEwLGV2ZW50ZWQ6ITAscGVyUGl4ZWxUYXJnZXRGaW5kOiExLGFjdGl2ZU9uOlwiZG93blwiLGhvdmVyQ3Vyc29yOm51bGwsbW92ZUN1cnNvcjpudWxsfSk7Y2xhc3MgTGkgZXh0ZW5kcyBqaXt9RmkoTGksW1dlXSksdHQuc2V0Q2xhc3MoTGkpLHR0LnNldENsYXNzKExpLFwib2JqZWN0XCIpO2NvbnN0IFJpPSh0LGUscyxpKT0+e2NvbnN0IHI9MiooaT1NYXRoLnJvdW5kKGkpKSsxLHtkYXRhOm59PXQuZ2V0SW1hZ2VEYXRhKGUtaSxzLWkscixyKTtmb3IobGV0IHQ9Mzt0PG4ubGVuZ3RoO3QrPTQpe2lmKG5bdF0+MClyZXR1cm4hMX1yZXR1cm4hMH07Y2xhc3MgSWl7Y29uc3RydWN0b3IodCl7dGhpcy5vcHRpb25zPXQsdGhpcy5zdHJva2VQcm9qZWN0aW9uTWFnbml0dWRlPXRoaXMub3B0aW9ucy5zdHJva2VXaWR0aC8yLHRoaXMuc2NhbGU9bmV3IG90KHRoaXMub3B0aW9ucy5zY2FsZVgsdGhpcy5vcHRpb25zLnNjYWxlWSksdGhpcy5zdHJva2VVbmlmb3JtU2NhbGFyPXRoaXMub3B0aW9ucy5zdHJva2VVbmlmb3JtP25ldyBvdCgxL3RoaXMub3B0aW9ucy5zY2FsZVgsMS90aGlzLm9wdGlvbnMuc2NhbGVZKTpuZXcgb3QoMSwxKX1jcmVhdGVTaWRlVmVjdG9yKHQsZSl7Y29uc3Qgcz12cyh0LGUpO3JldHVybiB0aGlzLm9wdGlvbnMuc3Ryb2tlVW5pZm9ybT9zLm11bHRpcGx5KHRoaXMuc2NhbGUpOnN9cHJvamVjdE9ydGhvZ29uYWxseSh0LGUscyl7cmV0dXJuIHRoaXMuYXBwbHlTa2V3KHQuYWRkKHRoaXMuY2FsY09ydGhvZ29uYWxQcm9qZWN0aW9uKHQsZSxzKSkpfWlzU2tld2VkKCl7cmV0dXJuIDAhPT10aGlzLm9wdGlvbnMuc2tld1h8fDAhPT10aGlzLm9wdGlvbnMuc2tld1l9YXBwbHlTa2V3KHQpe2NvbnN0IGU9bmV3IG90KHQpO3JldHVybiBlLnkrPWUueCpNYXRoLnRhbih4dCh0aGlzLm9wdGlvbnMuc2tld1kpKSxlLngrPWUueSpNYXRoLnRhbih4dCh0aGlzLm9wdGlvbnMuc2tld1gpKSxlfXNjYWxlVW5pdFZlY3Rvcih0LGUpe3JldHVybiB0Lm11bHRpcGx5KHRoaXMuc3Ryb2tlVW5pZm9ybVNjYWxhcikuc2NhbGFyTXVsdGlwbHkoZSl9fWNvbnN0IEJpPW5ldyBvdDtjbGFzcyBYaSBleHRlbmRzIElpe3N0YXRpYyBnZXRPcnRob2dvbmFsUm90YXRpb25GYWN0b3IodCxlKXtjb25zdCBzPWU/X3ModCxlKTp4cyh0KTtyZXR1cm4gTWF0aC5hYnMocyk8Yj8tMToxfWNvbnN0cnVjdG9yKGUscyxpLHIpe3N1cGVyKHIpLHQodGhpcyxcIkFCXCIsdm9pZCAwKSx0KHRoaXMsXCJBQ1wiLHZvaWQgMCksdCh0aGlzLFwiYWxwaGFcIix2b2lkIDApLHQodGhpcyxcImJpc2VjdG9yXCIsdm9pZCAwKSx0aGlzLkE9bmV3IG90KGUpLHRoaXMuQj1uZXcgb3QocyksdGhpcy5DPW5ldyBvdChpKSx0aGlzLkFCPXRoaXMuY3JlYXRlU2lkZVZlY3Rvcih0aGlzLkEsdGhpcy5CKSx0aGlzLkFDPXRoaXMuY3JlYXRlU2lkZVZlY3Rvcih0aGlzLkEsdGhpcy5DKSx0aGlzLmFscGhhPV9zKHRoaXMuQUIsdGhpcy5BQyksdGhpcy5iaXNlY3Rvcj1Dcyhtcyh0aGlzLkFCLmVxKEJpKT90aGlzLkFDOnRoaXMuQUIsdGhpcy5hbHBoYS8yKSl9Y2FsY09ydGhvZ29uYWxQcm9qZWN0aW9uKHQsZSl7bGV0IHM9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnRoaXMuc3Ryb2tlUHJvamVjdGlvbk1hZ25pdHVkZTtjb25zdCBpPXRoaXMuY3JlYXRlU2lkZVZlY3Rvcih0LGUpLHI9YnMoaSksbj1YaS5nZXRPcnRob2dvbmFsUm90YXRpb25GYWN0b3Iocix0aGlzLmJpc2VjdG9yKTtyZXR1cm4gdGhpcy5zY2FsZVVuaXRWZWN0b3IocixzKm4pfXByb2plY3RCZXZlbCgpe2NvbnN0IHQ9W107cmV0dXJuKHRoaXMuYWxwaGElUz09MD9bdGhpcy5CXTpbdGhpcy5CLHRoaXMuQ10pLmZvckVhY2goKGU9Pnt0LnB1c2godGhpcy5wcm9qZWN0T3J0aG9nb25hbGx5KHRoaXMuQSxlKSksdC5wdXNoKHRoaXMucHJvamVjdE9ydGhvZ29uYWxseSh0aGlzLkEsZSwtdGhpcy5zdHJva2VQcm9qZWN0aW9uTWFnbml0dWRlKSl9KSksdH1wcm9qZWN0TWl0ZXIoKXtjb25zdCB0PVtdLGU9TWF0aC5hYnModGhpcy5hbHBoYSkscz0xL01hdGguc2luKGUvMiksaT10aGlzLnNjYWxlVW5pdFZlY3Rvcih0aGlzLmJpc2VjdG9yLC10aGlzLnN0cm9rZVByb2plY3Rpb25NYWduaXR1ZGUqcykscj10aGlzLm9wdGlvbnMuc3Ryb2tlVW5pZm9ybT95cyh0aGlzLnNjYWxlVW5pdFZlY3Rvcih0aGlzLmJpc2VjdG9yLHRoaXMub3B0aW9ucy5zdHJva2VNaXRlckxpbWl0KSk6dGhpcy5vcHRpb25zLnN0cm9rZU1pdGVyTGltaXQ7cmV0dXJuIHlzKGkpL3RoaXMuc3Ryb2tlUHJvamVjdGlvbk1hZ25pdHVkZTw9ciYmdC5wdXNoKHRoaXMuYXBwbHlTa2V3KHRoaXMuQS5hZGQoaSkpKSx0LnB1c2goLi4udGhpcy5wcm9qZWN0QmV2ZWwoKSksdH1wcm9qZWN0Um91bmROb1NrZXcodCxlKXtjb25zdCBzPVtdLGk9bmV3IG90KFhpLmdldE9ydGhvZ29uYWxSb3RhdGlvbkZhY3Rvcih0aGlzLmJpc2VjdG9yKSxYaS5nZXRPcnRob2dvbmFsUm90YXRpb25GYWN0b3IobmV3IG90KHRoaXMuYmlzZWN0b3IueSx0aGlzLmJpc2VjdG9yLngpKSk7cmV0dXJuW25ldyBvdCgxLDApLnNjYWxhck11bHRpcGx5KHRoaXMuc3Ryb2tlUHJvamVjdGlvbk1hZ25pdHVkZSkubXVsdGlwbHkodGhpcy5zdHJva2VVbmlmb3JtU2NhbGFyKS5tdWx0aXBseShpKSxuZXcgb3QoMCwxKS5zY2FsYXJNdWx0aXBseSh0aGlzLnN0cm9rZVByb2plY3Rpb25NYWduaXR1ZGUpLm11bHRpcGx5KHRoaXMuc3Ryb2tlVW5pZm9ybVNjYWxhcikubXVsdGlwbHkoaSldLmZvckVhY2goKGk9PntUcyhpLHQsZSkmJnMucHVzaCh0aGlzLkEuYWRkKGkpKX0pKSxzfXByb2plY3RSb3VuZFdpdGhTa2V3KHQsZSl7Y29uc3Qgcz1bXSx7c2tld1g6aSxza2V3WTpyLHNjYWxlWDpuLHNjYWxlWTpvLHN0cm9rZVVuaWZvcm06YX09dGhpcy5vcHRpb25zLGg9bmV3IG90KE1hdGgudGFuKHh0KGkpKSxNYXRoLnRhbih4dChyKSkpLGM9dGhpcy5zdHJva2VQcm9qZWN0aW9uTWFnbml0dWRlLGw9YT9jL28vTWF0aC5zcXJ0KDEvbyoqMisxL24qKjIqaC55KioyKTpjL01hdGguc3FydCgxK2gueSoqMiksdT1uZXcgb3QoTWF0aC5zcXJ0KE1hdGgubWF4KGMqKjItbCoqMiwwKSksbCksZD1hP2MvTWF0aC5zcXJ0KDEraC54KioyKigxL28pKioyLygxL24rMS9uKmgueCpoLnkpKioyKTpjL01hdGguc3FydCgxK2gueCoqMi8oMStoLngqaC55KSoqMiksZz1uZXcgb3QoZCxNYXRoLnNxcnQoTWF0aC5tYXgoYyoqMi1kKioyLDApKSk7cmV0dXJuW2csZy5zY2FsYXJNdWx0aXBseSgtMSksdSx1LnNjYWxhck11bHRpcGx5KC0xKV0ubWFwKCh0PT50aGlzLmFwcGx5U2tldyhhP3QubXVsdGlwbHkodGhpcy5zdHJva2VVbmlmb3JtU2NhbGFyKTp0KSkpLmZvckVhY2goKGk9PntUcyhpLHQsZSkmJnMucHVzaCh0aGlzLmFwcGx5U2tldyh0aGlzLkEpLmFkZChpKSl9KSksc31wcm9qZWN0Um91bmQoKXtjb25zdCB0PVtdO3QucHVzaCguLi50aGlzLnByb2plY3RCZXZlbCgpKTtjb25zdCBlPXRoaXMuYWxwaGElUz09MCxzPXRoaXMuYXBwbHlTa2V3KHRoaXMuQSksaT10W2U/MDoyXS5zdWJ0cmFjdChzKSxyPXRbZT8xOjBdLnN1YnRyYWN0KHMpLG49ZT90aGlzLmFwcGx5U2tldyh0aGlzLkFCLnNjYWxhck11bHRpcGx5KC0xKSk6dGhpcy5hcHBseVNrZXcodGhpcy5iaXNlY3Rvci5tdWx0aXBseSh0aGlzLnN0cm9rZVVuaWZvcm1TY2FsYXIpLnNjYWxhck11bHRpcGx5KC0xKSksbz1TcyhpLG4pPjAsYT1vP2k6cixoPW8/cjppO3JldHVybiB0aGlzLmlzU2tld2VkKCk/dC5wdXNoKC4uLnRoaXMucHJvamVjdFJvdW5kV2l0aFNrZXcoYSxoKSk6dC5wdXNoKC4uLnRoaXMucHJvamVjdFJvdW5kTm9Ta2V3KGEsaCkpLHR9cHJvamVjdFBvaW50cygpe3N3aXRjaCh0aGlzLm9wdGlvbnMuc3Ryb2tlTGluZUpvaW4pe2Nhc2VcIm1pdGVyXCI6cmV0dXJuIHRoaXMucHJvamVjdE1pdGVyKCk7Y2FzZVwicm91bmRcIjpyZXR1cm4gdGhpcy5wcm9qZWN0Um91bmQoKTtkZWZhdWx0OnJldHVybiB0aGlzLnByb2plY3RCZXZlbCgpfX1wcm9qZWN0KCl7cmV0dXJuIHRoaXMucHJvamVjdFBvaW50cygpLm1hcCgodD0+KHtvcmlnaW5Qb2ludDp0aGlzLkEscHJvamVjdGVkUG9pbnQ6dCxhbmdsZTp0aGlzLmFscGhhLGJpc2VjdG9yOnRoaXMuYmlzZWN0b3J9KSkpfX1jbGFzcyBZaSBleHRlbmRzIElpe2NvbnN0cnVjdG9yKHQsZSxzKXtzdXBlcihzKSx0aGlzLkE9bmV3IG90KHQpLHRoaXMuVD1uZXcgb3QoZSl9Y2FsY09ydGhvZ29uYWxQcm9qZWN0aW9uKHQsZSl7bGV0IHM9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnRoaXMuc3Ryb2tlUHJvamVjdGlvbk1hZ25pdHVkZTtjb25zdCBpPXRoaXMuY3JlYXRlU2lkZVZlY3Rvcih0LGUpO3JldHVybiB0aGlzLnNjYWxlVW5pdFZlY3RvcihicyhpKSxzKX1wcm9qZWN0QnV0dCgpe3JldHVyblt0aGlzLnByb2plY3RPcnRob2dvbmFsbHkodGhpcy5BLHRoaXMuVCx0aGlzLnN0cm9rZVByb2plY3Rpb25NYWduaXR1ZGUpLHRoaXMucHJvamVjdE9ydGhvZ29uYWxseSh0aGlzLkEsdGhpcy5ULC10aGlzLnN0cm9rZVByb2plY3Rpb25NYWduaXR1ZGUpXX1wcm9qZWN0Um91bmQoKXtjb25zdCB0PVtdO2lmKCF0aGlzLmlzU2tld2VkKCkmJnRoaXMuQS5lcSh0aGlzLlQpKXtjb25zdCBlPW5ldyBvdCgxLDEpLnNjYWxhck11bHRpcGx5KHRoaXMuc3Ryb2tlUHJvamVjdGlvbk1hZ25pdHVkZSkubXVsdGlwbHkodGhpcy5zdHJva2VVbmlmb3JtU2NhbGFyKTt0LnB1c2godGhpcy5hcHBseVNrZXcodGhpcy5BLmFkZChlKSksdGhpcy5hcHBseVNrZXcodGhpcy5BLnN1YnRyYWN0KGUpKSl9ZWxzZSB0LnB1c2goLi4ubmV3IFhpKHRoaXMuQSx0aGlzLlQsdGhpcy5ULHRoaXMub3B0aW9ucykucHJvamVjdFJvdW5kKCkpO3JldHVybiB0fXByb2plY3RTcXVhcmUoKXtjb25zdCB0PVtdO2lmKHRoaXMuQS5lcSh0aGlzLlQpKXtjb25zdCBlPW5ldyBvdCgxLDEpLnNjYWxhck11bHRpcGx5KHRoaXMuc3Ryb2tlUHJvamVjdGlvbk1hZ25pdHVkZSkubXVsdGlwbHkodGhpcy5zdHJva2VVbmlmb3JtU2NhbGFyKTt0LnB1c2godGhpcy5BLmFkZChlKSx0aGlzLkEuc3VidHJhY3QoZSkpfWVsc2V7Y29uc3QgZT10aGlzLmNhbGNPcnRob2dvbmFsUHJvamVjdGlvbih0aGlzLkEsdGhpcy5ULHRoaXMuc3Ryb2tlUHJvamVjdGlvbk1hZ25pdHVkZSkscz10aGlzLnNjYWxlVW5pdFZlY3RvcihDcyh0aGlzLmNyZWF0ZVNpZGVWZWN0b3IodGhpcy5BLHRoaXMuVCkpLC10aGlzLnN0cm9rZVByb2plY3Rpb25NYWduaXR1ZGUpLGk9dGhpcy5BLmFkZChzKTt0LnB1c2goaS5hZGQoZSksaS5zdWJ0cmFjdChlKSl9cmV0dXJuIHQubWFwKCh0PT50aGlzLmFwcGx5U2tldyh0KSkpfXByb2plY3RQb2ludHMoKXtzd2l0Y2godGhpcy5vcHRpb25zLnN0cm9rZUxpbmVDYXApe2Nhc2VcInJvdW5kXCI6cmV0dXJuIHRoaXMucHJvamVjdFJvdW5kKCk7Y2FzZVwic3F1YXJlXCI6cmV0dXJuIHRoaXMucHJvamVjdFNxdWFyZSgpO2RlZmF1bHQ6cmV0dXJuIHRoaXMucHJvamVjdEJ1dHQoKX19cHJvamVjdCgpe3JldHVybiB0aGlzLnByb2plY3RQb2ludHMoKS5tYXAoKHQ9Pih7b3JpZ2luUG9pbnQ6dGhpcy5BLHByb2plY3RlZFBvaW50OnR9KSkpfX1jb25zdCBXaT1mdW5jdGlvbih0LGUpe2xldCBzPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl07Y29uc3QgaT1bXTtpZigwPT09dC5sZW5ndGgpcmV0dXJuIGk7Y29uc3Qgcj10LnJlZHVjZSgoKHQsZSk9Pih0W3QubGVuZ3RoLTFdLmVxKGUpfHx0LnB1c2gobmV3IG90KGUpKSx0KSksW25ldyBvdCh0WzBdKV0pO2lmKDE9PT1yLmxlbmd0aClzPSEwO2Vsc2UgaWYoIXMpe2NvbnN0IHQ9clswXSxlPSgodCxlKT0+e2ZvcihsZXQgcz10Lmxlbmd0aC0xO3M+PTA7cy0tKWlmKGUodFtzXSxzLHQpKXJldHVybiBzO3JldHVybi0xfSkociwoZT0+IWUuZXEodCkpKTtyLnNwbGljZShlKzEpfXJldHVybiByLmZvckVhY2goKCh0LHIsbik9PntsZXQgbyxhOzA9PT1yPyhhPW5bMV0sbz1zP3Q6bltuLmxlbmd0aC0xXSk6cj09PW4ubGVuZ3RoLTE/KG89bltyLTFdLGE9cz90Om5bMF0pOihvPW5bci0xXSxhPW5bcisxXSkscyYmMT09PW4ubGVuZ3RoP2kucHVzaCguLi5uZXcgWWkodCx0LGUpLnByb2plY3QoKSk6IXN8fDAhPT1yJiZyIT09bi5sZW5ndGgtMT9pLnB1c2goLi4ubmV3IFhpKHQsbyxhLGUpLnByb2plY3QoKSk6aS5wdXNoKC4uLm5ldyBZaSh0LDA9PT1yP2E6byxlKS5wcm9qZWN0KCkpfSkpLGl9LFZpPXQ9Pntjb25zdCBlPXt9O3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChpPT57ZVtpXT17fSxPYmplY3Qua2V5cyh0W2ldKS5mb3JFYWNoKChyPT57ZVtpXVtyXT1zKHt9LHRbaV1bcl0pfSkpfSkpLGV9LHppPXQ9PnQucmVwbGFjZSgvJi9nLFwiJmFtcDtcIikucmVwbGFjZSgvXCIvZyxcIiZxdW90O1wiKS5yZXBsYWNlKC8nL2csXCImYXBvcztcIikucmVwbGFjZSgvPC9nLFwiJmx0O1wiKS5yZXBsYWNlKC8+L2csXCImZ3Q7XCIpO2xldCBHaTtjb25zdCBIaT10PT57aWYoR2l8fEdpfHwoR2k9XCJJbnRsXCJpbiB2KCkmJlwiU2VnbWVudGVyXCJpbiBJbnRsJiZuZXcgSW50bC5TZWdtZW50ZXIodm9pZCAwLHtncmFudWxhcml0eTpcImdyYXBoZW1lXCJ9KSksR2kpe2NvbnN0IGU9R2kuc2VnbWVudCh0KTtyZXR1cm4gQXJyYXkuZnJvbShlKS5tYXAoKHQ9PntsZXR7c2VnbWVudDplfT10O3JldHVybiBlfSkpfXJldHVybiBOaSh0KX0sTmk9dD0+e2NvbnN0IGU9W107Zm9yKGxldCBzLGk9MDtpPHQubGVuZ3RoO2krKykhMSE9PShzPVVpKHQsaSkpJiZlLnB1c2gocyk7cmV0dXJuIGV9LFVpPSh0LGUpPT57Y29uc3Qgcz10LmNoYXJDb2RlQXQoZSk7aWYoaXNOYU4ocykpcmV0dXJuXCJcIjtpZihzPDU1Mjk2fHxzPjU3MzQzKXJldHVybiB0LmNoYXJBdChlKTtpZig1NTI5Njw9cyYmczw9NTYzMTkpe2lmKHQubGVuZ3RoPD1lKzEpdGhyb3dcIkhpZ2ggc3Vycm9nYXRlIHdpdGhvdXQgZm9sbG93aW5nIGxvdyBzdXJyb2dhdGVcIjtjb25zdCBzPXQuY2hhckNvZGVBdChlKzEpO2lmKDU2MzIwPnN8fHM+NTczNDMpdGhyb3dcIkhpZ2ggc3Vycm9nYXRlIHdpdGhvdXQgZm9sbG93aW5nIGxvdyBzdXJyb2dhdGVcIjtyZXR1cm4gdC5jaGFyQXQoZSkrdC5jaGFyQXQoZSsxKX1pZigwPT09ZSl0aHJvd1wiTG93IHN1cnJvZ2F0ZSB3aXRob3V0IHByZWNlZGluZyBoaWdoIHN1cnJvZ2F0ZVwiO2NvbnN0IGk9dC5jaGFyQ29kZUF0KGUtMSk7aWYoNTUyOTY+aXx8aT41NjMxOSl0aHJvd1wiTG93IHN1cnJvZ2F0ZSB3aXRob3V0IHByZWNlZGluZyBoaWdoIHN1cnJvZ2F0ZVwiO3JldHVybiExfTt2YXIgcWk9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsY2FwaXRhbGl6ZTpmdW5jdGlvbih0KXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdO3JldHVyblwiXCIuY29uY2F0KHQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkpLmNvbmNhdChlP3Quc2xpY2UoMSk6dC5zbGljZSgxKS50b0xvd2VyQ2FzZSgpKX0sZXNjYXBlWG1sOnppLGdyYXBoZW1lU3BsaXQ6SGl9KTtjb25zdCBLaT1mdW5jdGlvbih0LGUpe2xldCBzPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl07cmV0dXJuIHQuZmlsbCE9PWUuZmlsbHx8dC5zdHJva2UhPT1lLnN0cm9rZXx8dC5zdHJva2VXaWR0aCE9PWUuc3Ryb2tlV2lkdGh8fHQuZm9udFNpemUhPT1lLmZvbnRTaXplfHx0LmZvbnRGYW1pbHkhPT1lLmZvbnRGYW1pbHl8fHQuZm9udFdlaWdodCE9PWUuZm9udFdlaWdodHx8dC5mb250U3R5bGUhPT1lLmZvbnRTdHlsZXx8dC50ZXh0RGVjb3JhdGlvblRoaWNrbmVzcyE9PWUudGV4dERlY29yYXRpb25UaGlja25lc3N8fHQudGV4dEJhY2tncm91bmRDb2xvciE9PWUudGV4dEJhY2tncm91bmRDb2xvcnx8dC5kZWx0YVkhPT1lLmRlbHRhWXx8cyYmKHQub3ZlcmxpbmUhPT1lLm92ZXJsaW5lfHx0LnVuZGVybGluZSE9PWUudW5kZXJsaW5lfHx0LmxpbmV0aHJvdWdoIT09ZS5saW5ldGhyb3VnaCl9LEppPSh0LGUpPT57Y29uc3Qgcz1lLnNwbGl0KFwiXFxuXCIpLGk9W107bGV0IHI9LTEsbj17fTt0PVZpKHQpO2ZvcihsZXQgZT0wO2U8cy5sZW5ndGg7ZSsrKXtjb25zdCBvPUhpKHNbZV0pO2lmKHRbZV0pZm9yKGxldCBzPTA7czxvLmxlbmd0aDtzKyspe3IrKztjb25zdCBvPXRbZV1bc107byYmT2JqZWN0LmtleXMobykubGVuZ3RoPjAmJihLaShuLG8sITApP2kucHVzaCh7c3RhcnQ6cixlbmQ6cisxLHN0eWxlOm99KTppW2kubGVuZ3RoLTFdLmVuZCsrKSxuPW98fHt9fWVsc2Ugcis9by5sZW5ndGgsbj17fX1yZXR1cm4gaX0sUWk9KHQsZSk9PntpZighQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gVmkodCk7Y29uc3QgaT1lLnNwbGl0KEYpLHI9e307bGV0IG49LTEsbz0wO2ZvcihsZXQgZT0wO2U8aS5sZW5ndGg7ZSsrKXtjb25zdCBhPUhpKGlbZV0pO2ZvcihsZXQgaT0wO2k8YS5sZW5ndGg7aSsrKW4rKyx0W29dJiZ0W29dLnN0YXJ0PD1uJiZuPHRbb10uZW5kJiYocltlXT1yW2VdfHx7fSxyW2VdW2ldPXMoe30sdFtvXS5zdHlsZSksbj09PXRbb10uZW5kLTEmJm8rKyl9cmV0dXJuIHJ9LFppPVtcImRpc3BsYXlcIixcInRyYW5zZm9ybVwiLEssXCJmaWxsLW9wYWNpdHlcIixcImZpbGwtcnVsZVwiLFwib3BhY2l0eVwiLEosXCJzdHJva2UtZGFzaGFycmF5XCIsXCJzdHJva2UtbGluZWNhcFwiLFwic3Ryb2tlLWRhc2hvZmZzZXRcIixcInN0cm9rZS1saW5lam9pblwiLFwic3Ryb2tlLW1pdGVybGltaXRcIixcInN0cm9rZS1vcGFjaXR5XCIsXCJzdHJva2Utd2lkdGhcIixcImlkXCIsXCJwYWludC1vcmRlclwiLFwidmVjdG9yLWVmZmVjdFwiLFwiaW5zdGFudGlhdGVkX2J5X3VzZVwiLFwiY2xpcC1wYXRoXCJdO2Z1bmN0aW9uICRpKHQsZSl7Y29uc3Qgcz10Lm5vZGVOYW1lLGk9dC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSxyPXQuZ2V0QXR0cmlidXRlKFwiaWRcIiksbj1cIig/IVthLXpBLVpcXFxcLV0rKVwiO2xldCBvO2lmKG89bmV3IFJlZ0V4cChcIl5cIitzLFwiaVwiKSxlPWUucmVwbGFjZShvLFwiXCIpLHImJmUubGVuZ3RoJiYobz1uZXcgUmVnRXhwKFwiI1wiK3IrbixcImlcIiksZT1lLnJlcGxhY2UobyxcIlwiKSksaSYmZS5sZW5ndGgpe2NvbnN0IHQ9aS5zcGxpdChcIiBcIik7Zm9yKGxldCBzPXQubGVuZ3RoO3MtLTspbz1uZXcgUmVnRXhwKFwiXFxcXC5cIit0W3NdK24sXCJpXCIpLGU9ZS5yZXBsYWNlKG8sXCJcIil9cmV0dXJuIDA9PT1lLmxlbmd0aH1mdW5jdGlvbiB0cih0LGUpe2xldCBzPSEwO2NvbnN0IGk9JGkodCxlLnBvcCgpKTtyZXR1cm4gaSYmZS5sZW5ndGgmJihzPWZ1bmN0aW9uKHQsZSl7bGV0IHMsaT0hMDtmb3IoO3QucGFyZW50RWxlbWVudCYmMT09PXQucGFyZW50RWxlbWVudC5ub2RlVHlwZSYmZS5sZW5ndGg7KWkmJihzPWUucG9wKCkpLGk9JGkodD10LnBhcmVudEVsZW1lbnQscyk7cmV0dXJuIDA9PT1lLmxlbmd0aH0odCxlKSksaSYmcyYmMD09PWUubGVuZ3RofWNvbnN0IGVyPXQ9Pnt2YXIgZTtyZXR1cm4gbnVsbCE9PShlPWFzW3RdKSYmdm9pZCAwIT09ZT9lOnR9LHNyPW5ldyBSZWdFeHAoXCIoXCIuY29uY2F0KGlzLFwiKVwiKSxcImdpXCIpLGlyPXQ9PlBlKHQucmVwbGFjZShzcixcIiAkMSBcIikucmVwbGFjZSgvLC9naSxcIiBcIikpO3ZhciBycixucixvcixhcixocixjcixscjtjb25zdCB1cj1cIihcIi5jb25jYXQoaXMsXCIpXCIpLGRyPVN0cmluZy5yYXcocnJ8fChycj1yKFtcIihza2V3WCkoXCIsXCIpXCJdLFtcIihza2V3WClcXFxcKFwiLFwiXFxcXClcIl0pKSx1ciksZ3I9U3RyaW5nLnJhdyhucnx8KG5yPXIoW1wiKHNrZXdZKShcIixcIilcIl0sW1wiKHNrZXdZKVxcXFwoXCIsXCJcXFxcKVwiXSkpLHVyKSxmcj1TdHJpbmcucmF3KG9yfHwob3I9cihbXCIocm90YXRlKShcIixcIig/OiBcIixcIiBcIixcIik/KVwiXSxbXCIocm90YXRlKVxcXFwoXCIsXCIoPzogXCIsXCIgXCIsXCIpP1xcXFwpXCJdKSksdXIsdXIsdXIpLHByPVN0cmluZy5yYXcoYXJ8fChhcj1yKFtcIihzY2FsZSkoXCIsXCIoPzogXCIsXCIpPylcIl0sW1wiKHNjYWxlKVxcXFwoXCIsXCIoPzogXCIsXCIpP1xcXFwpXCJdKSksdXIsdXIpLG1yPVN0cmluZy5yYXcoaHJ8fChocj1yKFtcIih0cmFuc2xhdGUpKFwiLFwiKD86IFwiLFwiKT8pXCJdLFtcIih0cmFuc2xhdGUpXFxcXChcIixcIig/OiBcIixcIik/XFxcXClcIl0pKSx1cix1ciksdnI9U3RyaW5nLnJhdyhjcnx8KGNyPXIoW1wiKG1hdHJpeCkoXCIsXCIgXCIsXCIgXCIsXCIgXCIsXCIgXCIsXCIgXCIsXCIpXCJdLFtcIihtYXRyaXgpXFxcXChcIixcIiBcIixcIiBcIixcIiBcIixcIiBcIixcIiBcIixcIlxcXFwpXCJdKSksdXIsdXIsdXIsdXIsdXIsdXIpLHlyPVwiKD86XCIuY29uY2F0KHZyLFwifFwiKS5jb25jYXQobXIsXCJ8XCIpLmNvbmNhdChmcixcInxcIikuY29uY2F0KHByLFwifFwiKS5jb25jYXQoZHIsXCJ8XCIpLmNvbmNhdChncixcIilcIiksX3I9XCIoPzpcIi5jb25jYXQoeXIsXCIqKVwiKSx4cj1TdHJpbmcucmF3KGxyfHwobHI9cihbXCJecyooPzpcIixcIj8pcyokXCJdLFtcIl5cXFxccyooPzpcIixcIj8pXFxcXHMqJFwiXSkpLF9yKSxDcj1uZXcgUmVnRXhwKHhyKSxicj1uZXcgUmVnRXhwKHlyKSxTcj1uZXcgUmVnRXhwKHlyLFwiZ1wiKTtmdW5jdGlvbiB3cih0KXtjb25zdCBlPVtdO2lmKCEodD1pcih0KS5yZXBsYWNlKC9cXHMqKFsoKV0pXFxzKi9naSxcIiQxXCIpKXx8dCYmIUNyLnRlc3QodCkpcmV0dXJuWy4uLlRdO2Zvcihjb25zdCBzIG9mIHQubWF0Y2hBbGwoU3IpKXtjb25zdCB0PWJyLmV4ZWMoc1swXSk7aWYoIXQpY29udGludWU7bGV0IGk9VDtjb25zdCByPXQuZmlsdGVyKCh0PT4hIXQpKSxbLG4sLi4ub109cixbYSxoLGMsbCx1LGRdPW8ubWFwKCh0PT5wYXJzZUZsb2F0KHQpKSk7c3dpdGNoKG4pe2Nhc2VcInRyYW5zbGF0ZVwiOmk9TXQoYSxoKTticmVhaztjYXNlIEI6aT1QdCh7YW5nbGU6YX0se3g6aCx5OmN9KTticmVhaztjYXNlIEc6aT1FdChhLGgpO2JyZWFrO2Nhc2UgVTppPWp0KGEpO2JyZWFrO2Nhc2UgcTppPUZ0KGEpO2JyZWFrO2Nhc2VcIm1hdHJpeFwiOmk9W2EsaCxjLGwsdSxkXX1lLnB1c2goaSl9cmV0dXJuIE90KGUpfWZ1bmN0aW9uIFRyKHQsZSxzLGkpe2NvbnN0IHI9QXJyYXkuaXNBcnJheShlKTtsZXQgbixvPWU7aWYodCE9PUsmJnQhPT1KfHxlIT09ail7aWYoXCJzdHJva2VVbmlmb3JtXCI9PT10KXJldHVyblwibm9uLXNjYWxpbmctc3Ryb2tlXCI9PT1lO2lmKFwic3Ryb2tlRGFzaEFycmF5XCI9PT10KW89ZT09PWo/bnVsbDplLnJlcGxhY2UoLywvZyxcIiBcIikuc3BsaXQoL1xccysvKS5tYXAocGFyc2VGbG9hdCk7ZWxzZSBpZihcInRyYW5zZm9ybU1hdHJpeFwiPT09dClvPXMmJnMudHJhbnNmb3JtTWF0cml4P1R0KHMudHJhbnNmb3JtTWF0cml4LHdyKGUpKTp3cihlKTtlbHNlIGlmKFwidmlzaWJsZVwiPT09dClvPWUhPT1qJiZcImhpZGRlblwiIT09ZSxzJiYhMT09PXMudmlzaWJsZSYmKG89ITEpO2Vsc2UgaWYoXCJvcGFjaXR5XCI9PT10KW89cGFyc2VGbG9hdChlKSxzJiZ2b2lkIDAhPT1zLm9wYWNpdHkmJihvKj1zLm9wYWNpdHkpO2Vsc2UgaWYoXCJ0ZXh0QW5jaG9yXCI9PT10KW89XCJzdGFydFwiPT09ZT9NOlwiZW5kXCI9PT1lP0E6RDtlbHNlIGlmKFwiY2hhclNwYWNpbmdcIj09PXR8fHQ9PT16ZSluPUJlKGUsaSkvaSoxZTM7ZWxzZSBpZihcInBhaW50Rmlyc3RcIj09PXQpe2NvbnN0IHQ9ZS5pbmRleE9mKEspLHM9ZS5pbmRleE9mKEopO289SywodD4tMSYmcz4tMSYmczx0fHwtMT09PXQmJnM+LTEpJiYobz1KKX1lbHNle2lmKFwiaHJlZlwiPT09dHx8XCJ4bGluazpocmVmXCI9PT10fHxcImZvbnRcIj09PXR8fFwiaWRcIj09PXQpcmV0dXJuIGU7aWYoXCJpbWFnZVNtb290aGluZ1wiPT09dClyZXR1cm5cIm9wdGltaXplUXVhbGl0eVwiPT09ZTtuPXI/ZS5tYXAoQmUpOkJlKGUsaSl9fWVsc2Ugbz1cIlwiO3JldHVybiFyJiZpc05hTihuKT9vOm59ZnVuY3Rpb24gT3IodCxlKXtjb25zdCBzPXQubWF0Y2gob3MpO2lmKCFzKXJldHVybjtjb25zdCBpPXNbMV0scj1zWzNdLG49c1s0XSxvPXNbNV0sYT1zWzZdO2kmJihlLmZvbnRTdHlsZT1pKSxyJiYoZS5mb250V2VpZ2h0PWlzTmFOKHBhcnNlRmxvYXQocikpP3I6cGFyc2VGbG9hdChyKSksbiYmKGUuZm9udFNpemU9QmUobikpLGEmJihlLmZvbnRGYW1pbHk9YSksbyYmKGUubGluZUhlaWdodD1cIm5vcm1hbFwiPT09bz8xOm8pfWZ1bmN0aW9uIGtyKHQsZSl7dC5yZXBsYWNlKC87XFxzKiQvLFwiXCIpLnNwbGl0KFwiO1wiKS5mb3JFYWNoKCh0PT57aWYoIXQpcmV0dXJuO2NvbnN0W3MsaV09dC5zcGxpdChcIjpcIik7ZVtzLnRyaW0oKS50b0xvd2VyQ2FzZSgpXT1pLnRyaW0oKX0pKX1mdW5jdGlvbiBEcih0KXtjb25zdCBlPXt9LHM9dC5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKTtyZXR1cm4gcz8oXCJzdHJpbmdcIj09dHlwZW9mIHM/a3IocyxlKTpmdW5jdGlvbih0LGUpe09iamVjdC5lbnRyaWVzKHQpLmZvckVhY2goKHQ9PntsZXRbcyxpXT10O3ZvaWQgMCE9PWkmJihlW3MudG9Mb3dlckNhc2UoKV09aSl9KSl9KHMsZSksZSk6ZX1jb25zdCBNcj17c3Ryb2tlOlwic3Ryb2tlT3BhY2l0eVwiLGZpbGw6XCJmaWxsT3BhY2l0eVwifTtmdW5jdGlvbiBQcih0LGUsaSl7aWYoIXQpcmV0dXJue307bGV0IHIsbj17fSxvPU87dC5wYXJlbnROb2RlJiZkcy50ZXN0KHQucGFyZW50Tm9kZS5ub2RlTmFtZSkmJihuPVByKHQucGFyZW50RWxlbWVudCxlLGkpLG4uZm9udFNpemUmJihyPW89QmUobi5mb250U2l6ZSkpKTtjb25zdCBhPXMocyhzKHt9LGUucmVkdWNlKCgoZSxzKT0+e2NvbnN0IGk9dC5nZXRBdHRyaWJ1dGUocyk7cmV0dXJuIGkmJihlW3NdPWkpLGV9KSx7fSkpLGZ1bmN0aW9uKHQpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxpPXt9O2Zvcihjb25zdCByIGluIGUpdHIodCxyLnNwbGl0KFwiIFwiKSkmJihpPXMocyh7fSxpKSxlW3JdKSk7cmV0dXJuIGl9KHQsaSkpLERyKHQpKTthW2NzXSYmdC5zZXRBdHRyaWJ1dGUoY3MsYVtjc10pLGFbaHNdJiYocj1CZShhW2hzXSxvKSxhW2hzXT1cIlwiLmNvbmNhdChyKSk7Y29uc3QgaD17fTtmb3IoY29uc3QgdCBpbiBhKXtjb25zdCBlPWVyKHQpLHM9VHIoZSxhW3RdLG4scik7aFtlXT1zfWgmJmguZm9udCYmT3IoaC5mb250LGgpO2NvbnN0IGM9cyhzKHt9LG4pLGgpO3JldHVybiBkcy50ZXN0KHQubm9kZU5hbWUpP2M6ZnVuY3Rpb24odCl7Y29uc3QgZT1MaS5nZXREZWZhdWx0cygpO3JldHVybiBPYmplY3QuZW50cmllcyhNcikuZm9yRWFjaCgocz0+e2xldFtpLHJdPXM7aWYodm9pZCAwPT09dFtyXXx8XCJcIj09PXRbaV0pcmV0dXJuO2lmKHZvaWQgMD09PXRbaV0pe2lmKCFlW2ldKXJldHVybjt0W2ldPWVbaV19aWYoMD09PXRbaV0uaW5kZXhPZihcInVybChcIikpcmV0dXJuO2NvbnN0IG49bmV3IEllKHRbaV0pO3RbaV09bi5zZXRBbHBoYShWdChuLmdldEFscGhhKCkqdFtyXSwyKSkudG9SZ2JhKCl9KSksdH0oYyl9Y29uc3QgRXI9W1wibGVmdFwiLFwidG9wXCIsXCJ3aWR0aFwiLFwiaGVpZ2h0XCIsXCJ2aXNpYmxlXCJdLEFyPVtcInJ4XCIsXCJyeVwiXTtjbGFzcyBqciBleHRlbmRzIExpe3N0YXRpYyBnZXREZWZhdWx0cygpe3JldHVybiBzKHMoe30sc3VwZXIuZ2V0RGVmYXVsdHMoKSksanIub3duRGVmYXVsdHMpfWNvbnN0cnVjdG9yKHQpe3N1cGVyKCksT2JqZWN0LmFzc2lnbih0aGlzLGpyLm93bkRlZmF1bHRzKSx0aGlzLnNldE9wdGlvbnModCksdGhpcy5faW5pdFJ4UnkoKX1faW5pdFJ4UnkoKXtjb25zdHtyeDp0LHJ5OmV9PXRoaXM7dCYmIWU/dGhpcy5yeT10OmUmJiF0JiYodGhpcy5yeD1lKX1fcmVuZGVyKHQpe2NvbnN0e3dpZHRoOmUsaGVpZ2h0OnN9PXRoaXMsaT0tZS8yLHI9LXMvMixuPXRoaXMucng/TWF0aC5taW4odGhpcy5yeCxlLzIpOjAsbz10aGlzLnJ5P01hdGgubWluKHRoaXMucnkscy8yKTowLGE9MCE9PW58fDAhPT1vO3QuYmVnaW5QYXRoKCksdC5tb3ZlVG8oaStuLHIpLHQubGluZVRvKGkrZS1uLHIpLGEmJnQuYmV6aWVyQ3VydmVUbyhpK2UtaypuLHIsaStlLHIraypvLGkrZSxyK28pLHQubGluZVRvKGkrZSxyK3MtbyksYSYmdC5iZXppZXJDdXJ2ZVRvKGkrZSxyK3MtaypvLGkrZS1rKm4scitzLGkrZS1uLHIrcyksdC5saW5lVG8oaStuLHIrcyksYSYmdC5iZXppZXJDdXJ2ZVRvKGkraypuLHIrcyxpLHIrcy1rKm8saSxyK3MtbyksdC5saW5lVG8oaSxyK28pLGEmJnQuYmV6aWVyQ3VydmVUbyhpLHIraypvLGkraypuLHIsaStuLHIpLHQuY2xvc2VQYXRoKCksdGhpcy5fcmVuZGVyUGFpbnRJbk9yZGVyKHQpfXRvT2JqZWN0KCl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOltdO3JldHVybiBzdXBlci50b09iamVjdChbLi4uQXIsLi4udF0pfV90b1NWRygpe2NvbnN0e3dpZHRoOnQsaGVpZ2h0OmUscng6cyxyeTppfT10aGlzO3JldHVybltcIjxyZWN0IFwiLFwiQ09NTU9OX1BBUlRTXCIsJ3g9XCInLmNvbmNhdCgtdC8yLCdcIiB5PVwiJykuY29uY2F0KC1lLzIsJ1wiIHJ4PVwiJykuY29uY2F0KHMsJ1wiIHJ5PVwiJykuY29uY2F0KGksJ1wiIHdpZHRoPVwiJykuY29uY2F0KHQsJ1wiIGhlaWdodD1cIicpLmNvbmNhdChlLCdcIiAvPlxcbicpXX1zdGF0aWMgYXN5bmMgZnJvbUVsZW1lbnQodCxlLHIpe2NvbnN0IG49UHIodCx0aGlzLkFUVFJJQlVURV9OQU1FUyxyKSx7bGVmdDpvPTAsdG9wOmE9MCx3aWR0aDpoPTAsaGVpZ2h0OmM9MCx2aXNpYmxlOmw9ITB9PW4sdT1pKG4sRXIpO3JldHVybiBuZXcgdGhpcyhzKHMocyh7fSxlKSx1KSx7fSx7bGVmdDpvLHRvcDphLHdpZHRoOmgsaGVpZ2h0OmMsdmlzaWJsZTpCb29sZWFuKGwmJmgmJmMpfSkpfX10KGpyLFwidHlwZVwiLFwiUmVjdFwiKSx0KGpyLFwiY2FjaGVQcm9wZXJ0aWVzXCIsWy4uLkVzLC4uLkFyXSksdChqcixcIm93bkRlZmF1bHRzXCIse3J4OjAscnk6MH0pLHQoanIsXCJBVFRSSUJVVEVfTkFNRVNcIixbLi4uWmksXCJ4XCIsXCJ5XCIsXCJyeFwiLFwicnlcIixcIndpZHRoXCIsXCJoZWlnaHRcIl0pLHR0LnNldENsYXNzKGpyKSx0dC5zZXRTVkdDbGFzcyhqcik7Y29uc3QgRnI9XCJpbml0aWFsaXphdGlvblwiLExyPVwiYWRkZWRcIixScj1cInJlbW92ZWRcIixJcj1cImltcGVyYXRpdmVcIixCcj0odCxlKT0+e2NvbnN0e3N0cm9rZVVuaWZvcm06cyxzdHJva2VXaWR0aDppLHdpZHRoOnIsaGVpZ2h0Om4sZ3JvdXA6b309ZSxhPW8mJm8hPT10P3BlKG8uY2FsY1RyYW5zZm9ybU1hdHJpeCgpLHQuY2FsY1RyYW5zZm9ybU1hdHJpeCgpKTpudWxsLGg9YT9lLmdldFJlbGF0aXZlQ2VudGVyUG9pbnQoKS50cmFuc2Zvcm0oYSk6ZS5nZXRSZWxhdGl2ZUNlbnRlclBvaW50KCksYz0hZS5pc1N0cm9rZUFjY291bnRlZEZvckluRGltZW5zaW9ucygpLGw9cyYmYz92ZShuZXcgb3QoaSxpKSx2b2lkIDAsdC5jYWxjVHJhbnNmb3JtTWF0cml4KCkpOmF0LHU9IXMmJmM/aTowLGQ9ZmUocit1LG4rdSxPdChbYSxlLmNhbGNPd25NYXRyaXgoKV0sITApKS5hZGQobCkuc2NhbGFyRGl2aWRlKDIpO3JldHVybltoLnN1YnRyYWN0KGQpLGguYWRkKGQpXX07Y2xhc3MgWHJ7Y2FsY0xheW91dFJlc3VsdCh0LGUpe2lmKHRoaXMuc2hvdWxkUGVyZm9ybUxheW91dCh0KSlyZXR1cm4gdGhpcy5jYWxjQm91bmRpbmdCb3goZSx0KX1zaG91bGRQZXJmb3JtTGF5b3V0KHQpe2xldHt0eXBlOmUscHJldlN0cmF0ZWd5OnMsc3RyYXRlZ3k6aX09dDtyZXR1cm4gZT09PUZyfHxlPT09SXJ8fCEhcyYmaSE9PXN9c2hvdWxkTGF5b3V0Q2xpcFBhdGgodCl7bGV0e3R5cGU6ZSx0YXJnZXQ6e2NsaXBQYXRoOnN9fT10O3JldHVybiBlIT09RnImJnMmJiFzLmFic29sdXRlUG9zaXRpb25lZH1nZXRJbml0aWFsU2l6ZSh0LGUpe3JldHVybiBlLnNpemV9Y2FsY0JvdW5kaW5nQm94KHQsZSl7Y29uc3R7dHlwZTpzLHRhcmdldDppfT1lO2lmKHM9PT1JciYmZS5vdmVycmlkZXMpcmV0dXJuIGUub3ZlcnJpZGVzO2lmKDA9PT10Lmxlbmd0aClyZXR1cm47Y29uc3R7bGVmdDpyLHRvcDpuLHdpZHRoOm8saGVpZ2h0OmF9PWhlKHQubWFwKCh0PT5CcihpLHQpKSkucmVkdWNlKCgodCxlKT0+dC5jb25jYXQoZSkpLFtdKSksaD1uZXcgb3QobyxhKSxjPW5ldyBvdChyLG4pLmFkZChoLnNjYWxhckRpdmlkZSgyKSk7aWYocz09PUZyKXtjb25zdCB0PXRoaXMuZ2V0SW5pdGlhbFNpemUoZSx7c2l6ZTpoLGNlbnRlcjpjfSk7cmV0dXJue2NlbnRlcjpjLHJlbGF0aXZlQ29ycmVjdGlvbjpuZXcgb3QoMCwwKSxzaXplOnR9fXJldHVybntjZW50ZXI6Yy50cmFuc2Zvcm0oaS5jYWxjT3duTWF0cml4KCkpLHNpemU6aH19fXQoWHIsXCJ0eXBlXCIsXCJzdHJhdGVneVwiKTtjbGFzcyBZciBleHRlbmRzIFhye3Nob3VsZFBlcmZvcm1MYXlvdXQodCl7cmV0dXJuITB9fXQoWXIsXCJ0eXBlXCIsXCJmaXQtY29udGVudFwiKSx0dC5zZXRDbGFzcyhZcik7Y29uc3QgV3I9W1wic3RyYXRlZ3lcIl0sVnI9W1widGFyZ2V0XCIsXCJzdHJhdGVneVwiLFwiYnViYmxlc1wiLFwicHJldlN0cmF0ZWd5XCJdLHpyPVwibGF5b3V0TWFuYWdlclwiO2NsYXNzIEdye2NvbnN0cnVjdG9yKCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOm5ldyBZcjt0KHRoaXMsXCJzdHJhdGVneVwiLHZvaWQgMCksdGhpcy5zdHJhdGVneT1lLHRoaXMuX3N1YnNjcmlwdGlvbnM9bmV3IE1hcH1wZXJmb3JtTGF5b3V0KHQpe2NvbnN0IGU9cyhzKHtidWJibGVzOiEwLHN0cmF0ZWd5OnRoaXMuc3RyYXRlZ3l9LHQpLHt9LHtwcmV2U3RyYXRlZ3k6dGhpcy5fcHJldkxheW91dFN0cmF0ZWd5LHN0b3BQcm9wYWdhdGlvbigpe3RoaXMuYnViYmxlcz0hMX19KTt0aGlzLm9uQmVmb3JlTGF5b3V0KGUpO2NvbnN0IGk9dGhpcy5nZXRMYXlvdXRSZXN1bHQoZSk7aSYmdGhpcy5jb21taXRMYXlvdXQoZSxpKSx0aGlzLm9uQWZ0ZXJMYXlvdXQoZSxpKSx0aGlzLl9wcmV2TGF5b3V0U3RyYXRlZ3k9ZS5zdHJhdGVneX1hdHRhY2hIYW5kbGVycyh0LGUpe2NvbnN0e3RhcmdldDpzfT1lO3JldHVybltRLEwsWSxJLFIsWCx6LFcsVl0ubWFwKChlPT50Lm9uKGUsKHQ9PnRoaXMucGVyZm9ybUxheW91dChlPT09UT97dHlwZTpcIm9iamVjdF9tb2RpZmllZFwiLHRyaWdnZXI6ZSxlOnQsdGFyZ2V0OnN9Ont0eXBlOlwib2JqZWN0X21vZGlmeWluZ1wiLHRyaWdnZXI6ZSxlOnQsdGFyZ2V0OnN9KSkpKSl9c3Vic2NyaWJlKHQsZSl7dGhpcy51bnN1YnNjcmliZSh0LGUpO2NvbnN0IHM9dGhpcy5hdHRhY2hIYW5kbGVycyh0LGUpO3RoaXMuX3N1YnNjcmlwdGlvbnMuc2V0KHQscyl9dW5zdWJzY3JpYmUodCxlKXsodGhpcy5fc3Vic2NyaXB0aW9ucy5nZXQodCl8fFtdKS5mb3JFYWNoKCh0PT50KCkpKSx0aGlzLl9zdWJzY3JpcHRpb25zLmRlbGV0ZSh0KX11bnN1YnNjcmliZVRhcmdldHModCl7dC50YXJnZXRzLmZvckVhY2goKGU9PnRoaXMudW5zdWJzY3JpYmUoZSx0KSkpfXN1YnNjcmliZVRhcmdldHModCl7dC50YXJnZXRzLmZvckVhY2goKGU9PnRoaXMuc3Vic2NyaWJlKGUsdCkpKX1vbkJlZm9yZUxheW91dCh0KXtjb25zdHt0YXJnZXQ6ZSx0eXBlOnJ9PXQse2NhbnZhczpufT1lO2lmKHI9PT1Gcnx8cj09PUxyP3RoaXMuc3Vic2NyaWJlVGFyZ2V0cyh0KTpyPT09UnImJnRoaXMudW5zdWJzY3JpYmVUYXJnZXRzKHQpLGUuZmlyZShcImxheW91dDpiZWZvcmVcIix7Y29udGV4dDp0fSksbiYmbi5maXJlKFwib2JqZWN0OmxheW91dDpiZWZvcmVcIix7dGFyZ2V0OmUsY29udGV4dDp0fSkscj09PUlyJiZ0LmRlZXApe2NvbnN0IHI9aSh0LFdyKTtlLmZvckVhY2hPYmplY3QoKHQ9PnQubGF5b3V0TWFuYWdlciYmdC5sYXlvdXRNYW5hZ2VyLnBlcmZvcm1MYXlvdXQocyhzKHt9LHIpLHt9LHtidWJibGVzOiExLHRhcmdldDp0fSkpKSl9fWdldExheW91dFJlc3VsdCh0KXtjb25zdHt0YXJnZXQ6ZSxzdHJhdGVneTpzLHR5cGU6aX09dCxyPXMuY2FsY0xheW91dFJlc3VsdCh0LGUuZ2V0T2JqZWN0cygpKTtpZighcilyZXR1cm47Y29uc3Qgbj1pPT09RnI/bmV3IG90OmUuZ2V0UmVsYXRpdmVDZW50ZXJQb2ludCgpLHtjZW50ZXI6byxjb3JyZWN0aW9uOmE9bmV3IG90LHJlbGF0aXZlQ29ycmVjdGlvbjpoPW5ldyBvdH09cixjPW4uc3VidHJhY3QobykuYWRkKGEpLnRyYW5zZm9ybShpPT09RnI/VDp3dChlLmNhbGNPd25NYXRyaXgoKSksITApLmFkZChoKTtyZXR1cm57cmVzdWx0OnIscHJldkNlbnRlcjpuLG5leHRDZW50ZXI6byxvZmZzZXQ6Y319Y29tbWl0TGF5b3V0KHQsZSl7Y29uc3R7dGFyZ2V0OnN9PXQse3Jlc3VsdDp7c2l6ZTppfSxuZXh0Q2VudGVyOnJ9PWU7dmFyIG4sbzsocy5zZXQoe3dpZHRoOmkueCxoZWlnaHQ6aS55fSksdGhpcy5sYXlvdXRPYmplY3RzKHQsZSksdC50eXBlPT09RnIpP3Muc2V0KHtsZWZ0Om51bGwhPT0obj10LngpJiZ2b2lkIDAhPT1uP246ci54K2kueCpDZShzLm9yaWdpblgpLHRvcDpudWxsIT09KG89dC55KSYmdm9pZCAwIT09bz9vOnIueStpLnkqQ2Uocy5vcmlnaW5ZKX0pOihzLnNldFBvc2l0aW9uQnlPcmlnaW4ocixELEQpLHMuc2V0Q29vcmRzKCkscy5zZXQoXCJkaXJ0eVwiLCEwKSl9bGF5b3V0T2JqZWN0cyh0LGUpe2NvbnN0e3RhcmdldDpzfT10O3MuZm9yRWFjaE9iamVjdCgoaT0+e2kuZ3JvdXA9PT1zJiZ0aGlzLmxheW91dE9iamVjdCh0LGUsaSl9KSksdC5zdHJhdGVneS5zaG91bGRMYXlvdXRDbGlwUGF0aCh0KSYmdGhpcy5sYXlvdXRPYmplY3QodCxlLHMuY2xpcFBhdGgpfWxheW91dE9iamVjdCh0LGUscyl7bGV0e29mZnNldDppfT1lO3Muc2V0KHtsZWZ0OnMubGVmdCtpLngsdG9wOnMudG9wK2kueX0pfW9uQWZ0ZXJMYXlvdXQodCxlKXtjb25zdHt0YXJnZXQ6cixzdHJhdGVneTpuLGJ1YmJsZXM6byxwcmV2U3RyYXRlZ3k6YX09dCxoPWkodCxWcikse2NhbnZhczpjfT1yO3IuZmlyZShcImxheW91dDphZnRlclwiLHtjb250ZXh0OnQscmVzdWx0OmV9KSxjJiZjLmZpcmUoXCJvYmplY3Q6bGF5b3V0OmFmdGVyXCIse2NvbnRleHQ6dCxyZXN1bHQ6ZSx0YXJnZXQ6cn0pO2NvbnN0IGw9ci5wYXJlbnQ7byYmbnVsbCE9bCYmbC5sYXlvdXRNYW5hZ2VyJiYoKGgucGF0aHx8KGgucGF0aD1bXSkpLnB1c2gociksbC5sYXlvdXRNYW5hZ2VyLnBlcmZvcm1MYXlvdXQocyhzKHt9LGgpLHt9LHt0YXJnZXQ6bH0pKSksci5zZXQoXCJkaXJ0eVwiLCEwKX1kaXNwb3NlKCl7Y29uc3R7X3N1YnNjcmlwdGlvbnM6dH09dGhpczt0LmZvckVhY2goKHQ9PnQuZm9yRWFjaCgodD0+dCgpKSkpKSx0LmNsZWFyKCl9dG9PYmplY3QoKXtyZXR1cm57dHlwZTp6cixzdHJhdGVneTp0aGlzLnN0cmF0ZWd5LmNvbnN0cnVjdG9yLnR5cGV9fXRvSlNPTigpe3JldHVybiB0aGlzLnRvT2JqZWN0KCl9fXR0LnNldENsYXNzKEdyLHpyKTtjb25zdCBIcj1bXCJ0eXBlXCIsXCJvYmplY3RzXCIsXCJsYXlvdXRNYW5hZ2VyXCJdO2NsYXNzIE5yIGV4dGVuZHMgR3J7cGVyZm9ybUxheW91dCgpe319Y2xhc3MgVXIgZXh0ZW5kcyhjdChMaSkpe3N0YXRpYyBnZXREZWZhdWx0cygpe3JldHVybiBzKHMoe30sc3VwZXIuZ2V0RGVmYXVsdHMoKSksVXIub3duRGVmYXVsdHMpfWNvbnN0cnVjdG9yKCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOltdLHM9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3N1cGVyKCksdCh0aGlzLFwiX2FjdGl2ZU9iamVjdHNcIixbXSksdCh0aGlzLFwiX19vYmplY3RTZWxlY3Rpb25UcmFja2VyXCIsdm9pZCAwKSx0KHRoaXMsXCJfX29iamVjdFNlbGVjdGlvbkRpc3Bvc2VyXCIsdm9pZCAwKSxPYmplY3QuYXNzaWduKHRoaXMsVXIub3duRGVmYXVsdHMpLHRoaXMuc2V0T3B0aW9ucyhzKSx0aGlzLmdyb3VwSW5pdChlLHMpfWdyb3VwSW5pdCh0LGUpe3ZhciBzO3RoaXMuX29iamVjdHM9Wy4uLnRdLHRoaXMuX19vYmplY3RTZWxlY3Rpb25UcmFja2VyPXRoaXMuX19vYmplY3RTZWxlY3Rpb25Nb25pdG9yLmJpbmQodGhpcywhMCksdGhpcy5fX29iamVjdFNlbGVjdGlvbkRpc3Bvc2VyPXRoaXMuX19vYmplY3RTZWxlY3Rpb25Nb25pdG9yLmJpbmQodGhpcywhMSksdGhpcy5mb3JFYWNoT2JqZWN0KCh0PT57dGhpcy5lbnRlckdyb3VwKHQsITEpfSkpLHRoaXMubGF5b3V0TWFuYWdlcj1udWxsIT09KHM9ZS5sYXlvdXRNYW5hZ2VyKSYmdm9pZCAwIT09cz9zOm5ldyBHcix0aGlzLmxheW91dE1hbmFnZXIucGVyZm9ybUxheW91dCh7dHlwZTpGcix0YXJnZXQ6dGhpcyx0YXJnZXRzOlsuLi50XSx4OmUubGVmdCx5OmUudG9wfSl9Y2FuRW50ZXJHcm91cCh0KXtyZXR1cm4gdD09PXRoaXN8fHRoaXMuaXNEZXNjZW5kYW50T2YodCk/KGEoXCJlcnJvclwiLFwiR3JvdXA6IGNpcmN1bGFyIG9iamVjdCB0cmVlcyBhcmUgbm90IHN1cHBvcnRlZCwgdGhpcyBjYWxsIGhhcyBubyBlZmZlY3RcIiksITEpOi0xPT09dGhpcy5fb2JqZWN0cy5pbmRleE9mKHQpfHwoYShcImVycm9yXCIsXCJHcm91cDogZHVwbGljYXRlIG9iamVjdHMgYXJlIG5vdCBzdXBwb3J0ZWQgaW5zaWRlIGdyb3VwLCB0aGlzIGNhbGwgaGFzIG5vIGVmZmVjdFwiKSwhMSl9X2ZpbHRlck9iamVjdHNCZWZvcmVFbnRlcmluZ0dyb3VwKHQpe3JldHVybiB0LmZpbHRlcigoKHQsZSxzKT0+dGhpcy5jYW5FbnRlckdyb3VwKHQpJiZzLmluZGV4T2YodCk9PT1lKSl9YWRkKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsZT1uZXcgQXJyYXkodCkscz0wO3M8dDtzKyspZVtzXT1hcmd1bWVudHNbc107Y29uc3QgaT10aGlzLl9maWx0ZXJPYmplY3RzQmVmb3JlRW50ZXJpbmdHcm91cChlKSxyPXN1cGVyLmFkZCguLi5pKTtyZXR1cm4gdGhpcy5fb25BZnRlck9iamVjdHNDaGFuZ2UoTHIsaSkscn1pbnNlcnRBdCh0KXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCxzPW5ldyBBcnJheShlPjE/ZS0xOjApLGk9MTtpPGU7aSsrKXNbaS0xXT1hcmd1bWVudHNbaV07Y29uc3Qgcj10aGlzLl9maWx0ZXJPYmplY3RzQmVmb3JlRW50ZXJpbmdHcm91cChzKSxuPXN1cGVyLmluc2VydEF0KHQsLi4ucik7cmV0dXJuIHRoaXMuX29uQWZ0ZXJPYmplY3RzQ2hhbmdlKExyLHIpLG59cmVtb3ZlKCl7Y29uc3QgdD1zdXBlci5yZW1vdmUoLi4uYXJndW1lbnRzKTtyZXR1cm4gdGhpcy5fb25BZnRlck9iamVjdHNDaGFuZ2UoUnIsdCksdH1fb25PYmplY3RBZGRlZCh0KXt0aGlzLmVudGVyR3JvdXAodCwhMCksdGhpcy5maXJlKFwib2JqZWN0OmFkZGVkXCIse3RhcmdldDp0fSksdC5maXJlKFwiYWRkZWRcIix7dGFyZ2V0OnRoaXN9KX1fb25PYmplY3RSZW1vdmVkKHQsZSl7dGhpcy5leGl0R3JvdXAodCxlKSx0aGlzLmZpcmUoXCJvYmplY3Q6cmVtb3ZlZFwiLHt0YXJnZXQ6dH0pLHQuZmlyZShcInJlbW92ZWRcIix7dGFyZ2V0OnRoaXN9KX1fb25BZnRlck9iamVjdHNDaGFuZ2UodCxlKXt0aGlzLmxheW91dE1hbmFnZXIucGVyZm9ybUxheW91dCh7dHlwZTp0LHRhcmdldHM6ZSx0YXJnZXQ6dGhpc30pfV9vblN0YWNrT3JkZXJDaGFuZ2VkKCl7dGhpcy5fc2V0KFwiZGlydHlcIiwhMCl9X3NldCh0LGUpe2NvbnN0IHM9dGhpc1t0XTtyZXR1cm4gc3VwZXIuX3NldCh0LGUpLFwiY2FudmFzXCI9PT10JiZzIT09ZSYmKHRoaXMuX29iamVjdHN8fFtdKS5mb3JFYWNoKChzPT57cy5fc2V0KHQsZSl9KSksdGhpc31fc2hvdWxkU2V0TmVzdGVkQ29vcmRzKCl7cmV0dXJuIHRoaXMuc3ViVGFyZ2V0Q2hlY2t9cmVtb3ZlQWxsKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZU9iamVjdHM9W10sdGhpcy5yZW1vdmUoLi4udGhpcy5fb2JqZWN0cyl9X19vYmplY3RTZWxlY3Rpb25Nb25pdG9yKHQsZSl7bGV0e3RhcmdldDpzfT1lO2NvbnN0IGk9dGhpcy5fYWN0aXZlT2JqZWN0cztpZih0KWkucHVzaChzKSx0aGlzLl9zZXQoXCJkaXJ0eVwiLCEwKTtlbHNlIGlmKGkubGVuZ3RoPjApe2NvbnN0IHQ9aS5pbmRleE9mKHMpO3Q+LTEmJihpLnNwbGljZSh0LDEpLHRoaXMuX3NldChcImRpcnR5XCIsITApKX19X3dhdGNoT2JqZWN0KHQsZSl7dCYmdGhpcy5fd2F0Y2hPYmplY3QoITEsZSksdD8oZS5vbihcInNlbGVjdGVkXCIsdGhpcy5fX29iamVjdFNlbGVjdGlvblRyYWNrZXIpLGUub24oXCJkZXNlbGVjdGVkXCIsdGhpcy5fX29iamVjdFNlbGVjdGlvbkRpc3Bvc2VyKSk6KGUub2ZmKFwic2VsZWN0ZWRcIix0aGlzLl9fb2JqZWN0U2VsZWN0aW9uVHJhY2tlciksZS5vZmYoXCJkZXNlbGVjdGVkXCIsdGhpcy5fX29iamVjdFNlbGVjdGlvbkRpc3Bvc2VyKSl9ZW50ZXJHcm91cCh0LGUpe3QuZ3JvdXAmJnQuZ3JvdXAucmVtb3ZlKHQpLHQuX3NldChcInBhcmVudFwiLHRoaXMpLHRoaXMuX2VudGVyR3JvdXAodCxlKX1fZW50ZXJHcm91cCh0LGUpe2UmJnVlKHQsVHQod3QodGhpcy5jYWxjVHJhbnNmb3JtTWF0cml4KCkpLHQuY2FsY1RyYW5zZm9ybU1hdHJpeCgpKSksdGhpcy5fc2hvdWxkU2V0TmVzdGVkQ29vcmRzKCkmJnQuc2V0Q29vcmRzKCksdC5fc2V0KFwiZ3JvdXBcIix0aGlzKSx0Ll9zZXQoXCJjYW52YXNcIix0aGlzLmNhbnZhcyksdGhpcy5fd2F0Y2hPYmplY3QoITAsdCk7Y29uc3Qgcz10aGlzLmNhbnZhcyYmdGhpcy5jYW52YXMuZ2V0QWN0aXZlT2JqZWN0JiZ0aGlzLmNhbnZhcy5nZXRBY3RpdmVPYmplY3QoKTtzJiYocz09PXR8fHQuaXNEZXNjZW5kYW50T2YocykpJiZ0aGlzLl9hY3RpdmVPYmplY3RzLnB1c2godCl9ZXhpdEdyb3VwKHQsZSl7dGhpcy5fZXhpdEdyb3VwKHQsZSksdC5fc2V0KFwicGFyZW50XCIsdm9pZCAwKSx0Ll9zZXQoXCJjYW52YXNcIix2b2lkIDApfV9leGl0R3JvdXAodCxlKXt0Ll9zZXQoXCJncm91cFwiLHZvaWQgMCksZXx8KHVlKHQsVHQodGhpcy5jYWxjVHJhbnNmb3JtTWF0cml4KCksdC5jYWxjVHJhbnNmb3JtTWF0cml4KCkpKSx0LnNldENvb3JkcygpKSx0aGlzLl93YXRjaE9iamVjdCghMSx0KTtjb25zdCBzPXRoaXMuX2FjdGl2ZU9iamVjdHMubGVuZ3RoPjA/dGhpcy5fYWN0aXZlT2JqZWN0cy5pbmRleE9mKHQpOi0xO3M+LTEmJnRoaXMuX2FjdGl2ZU9iamVjdHMuc3BsaWNlKHMsMSl9c2hvdWxkQ2FjaGUoKXtjb25zdCB0PUxpLnByb3RvdHlwZS5zaG91bGRDYWNoZS5jYWxsKHRoaXMpO2lmKHQpZm9yKGxldCB0PTA7dDx0aGlzLl9vYmplY3RzLmxlbmd0aDt0KyspaWYodGhpcy5fb2JqZWN0c1t0XS53aWxsRHJhd1NoYWRvdygpKXJldHVybiB0aGlzLm93bkNhY2hpbmc9ITEsITE7cmV0dXJuIHR9d2lsbERyYXdTaGFkb3coKXtpZihzdXBlci53aWxsRHJhd1NoYWRvdygpKXJldHVybiEwO2ZvcihsZXQgdD0wO3Q8dGhpcy5fb2JqZWN0cy5sZW5ndGg7dCsrKWlmKHRoaXMuX29iamVjdHNbdF0ud2lsbERyYXdTaGFkb3coKSlyZXR1cm4hMDtyZXR1cm4hMX1pc09uQUNhY2hlKCl7cmV0dXJuIHRoaXMub3duQ2FjaGluZ3x8ISF0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQuaXNPbkFDYWNoZSgpfWRyYXdPYmplY3QodCxlLHMpe3RoaXMuX3JlbmRlckJhY2tncm91bmQodCk7Zm9yKGxldCBlPTA7ZTx0aGlzLl9vYmplY3RzLmxlbmd0aDtlKyspe3ZhciBpO2NvbnN0IHM9dGhpcy5fb2JqZWN0c1tlXTtudWxsIT09KGk9dGhpcy5jYW52YXMpJiZ2b2lkIDAhPT1pJiZpLnByZXNlcnZlT2JqZWN0U3RhY2tpbmcmJnMuZ3JvdXAhPT10aGlzPyh0LnNhdmUoKSx0LnRyYW5zZm9ybSguLi53dCh0aGlzLmNhbGNUcmFuc2Zvcm1NYXRyaXgoKSkpLHMucmVuZGVyKHQpLHQucmVzdG9yZSgpKTpzLmdyb3VwPT09dGhpcyYmcy5yZW5kZXIodCl9dGhpcy5fZHJhd0NsaXBQYXRoKHQsdGhpcy5jbGlwUGF0aCxzKX1zZXRDb29yZHMoKXtzdXBlci5zZXRDb29yZHMoKSx0aGlzLl9zaG91bGRTZXROZXN0ZWRDb29yZHMoKSYmdGhpcy5mb3JFYWNoT2JqZWN0KCh0PT50LnNldENvb3JkcygpKSl9dHJpZ2dlckxheW91dCgpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTt0aGlzLmxheW91dE1hbmFnZXIucGVyZm9ybUxheW91dChzKHt0YXJnZXQ6dGhpcyx0eXBlOklyfSx0KSl9cmVuZGVyKHQpe3RoaXMuX3RyYW5zZm9ybURvbmU9ITAsc3VwZXIucmVuZGVyKHQpLHRoaXMuX3RyYW5zZm9ybURvbmU9ITF9X19zZXJpYWxpemVPYmplY3RzKHQsZSl7Y29uc3Qgcz10aGlzLmluY2x1ZGVEZWZhdWx0VmFsdWVzO3JldHVybiB0aGlzLl9vYmplY3RzLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIXQuZXhjbHVkZUZyb21FeHBvcnR9KSkubWFwKChmdW5jdGlvbihpKXtjb25zdCByPWkuaW5jbHVkZURlZmF1bHRWYWx1ZXM7aS5pbmNsdWRlRGVmYXVsdFZhbHVlcz1zO2NvbnN0IG49aVt0fHxcInRvT2JqZWN0XCJdKGUpO3JldHVybiBpLmluY2x1ZGVEZWZhdWx0VmFsdWVzPXIsbn0pKX10b09iamVjdCgpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbXTtjb25zdCBlPXRoaXMubGF5b3V0TWFuYWdlci50b09iamVjdCgpO3JldHVybiBzKHMocyh7fSxzdXBlci50b09iamVjdChbXCJzdWJUYXJnZXRDaGVja1wiLFwiaW50ZXJhY3RpdmVcIiwuLi50XSkpLFwiZml0LWNvbnRlbnRcIiE9PWUuc3RyYXRlZ3l8fHRoaXMuaW5jbHVkZURlZmF1bHRWYWx1ZXM/e2xheW91dE1hbmFnZXI6ZX06e30pLHt9LHtvYmplY3RzOnRoaXMuX19zZXJpYWxpemVPYmplY3RzKFwidG9PYmplY3RcIix0KX0pfXRvU3RyaW5nKCl7cmV0dXJuXCIjPEdyb3VwOiAoXCIuY29uY2F0KHRoaXMuY29tcGxleGl0eSgpLFwiKT5cIil9ZGlzcG9zZSgpe3RoaXMubGF5b3V0TWFuYWdlci51bnN1YnNjcmliZVRhcmdldHMoe3RhcmdldHM6dGhpcy5nZXRPYmplY3RzKCksdGFyZ2V0OnRoaXN9KSx0aGlzLl9hY3RpdmVPYmplY3RzPVtdLHRoaXMuZm9yRWFjaE9iamVjdCgodD0+e3RoaXMuX3dhdGNoT2JqZWN0KCExLHQpLHQuZGlzcG9zZSgpfSkpLHN1cGVyLmRpc3Bvc2UoKX1fY3JlYXRlU1ZHQmdSZWN0KHQpe2lmKCF0aGlzLmJhY2tncm91bmRDb2xvcilyZXR1cm5cIlwiO2NvbnN0IGU9anIucHJvdG90eXBlLl90b1NWRy5jYWxsKHRoaXMpLHM9ZS5pbmRleE9mKFwiQ09NTU9OX1BBUlRTXCIpO2Vbc109J2Zvcj1cImdyb3VwXCIgJztjb25zdCBpPWUuam9pbihcIlwiKTtyZXR1cm4gdD90KGkpOml9X3RvU1ZHKHQpe2NvbnN0IGU9W1wiPGcgXCIsXCJDT01NT05fUEFSVFNcIixcIiA+XFxuXCJdLHM9dGhpcy5fY3JlYXRlU1ZHQmdSZWN0KHQpO3MmJmUucHVzaChcIlxcdFxcdFwiLHMpO2ZvcihsZXQgcz0wO3M8dGhpcy5fb2JqZWN0cy5sZW5ndGg7cysrKWUucHVzaChcIlxcdFxcdFwiLHRoaXMuX29iamVjdHNbc10udG9TVkcodCkpO3JldHVybiBlLnB1c2goXCI8L2c+XFxuXCIpLGV9Z2V0U3ZnU3R5bGVzKCl7Y29uc3QgdD12b2lkIDAhPT10aGlzLm9wYWNpdHkmJjEhPT10aGlzLm9wYWNpdHk/XCJvcGFjaXR5OiBcIi5jb25jYXQodGhpcy5vcGFjaXR5LFwiO1wiKTpcIlwiLGU9dGhpcy52aXNpYmxlP1wiXCI6XCIgdmlzaWJpbGl0eTogaGlkZGVuO1wiO3JldHVyblt0LHRoaXMuZ2V0U3ZnRmlsdGVyKCksZV0uam9pbihcIlwiKX10b0NsaXBQYXRoU1ZHKHQpe2NvbnN0IGU9W10scz10aGlzLl9jcmVhdGVTVkdCZ1JlY3QodCk7cyYmZS5wdXNoKFwiXFx0XCIscyk7Zm9yKGxldCBzPTA7czx0aGlzLl9vYmplY3RzLmxlbmd0aDtzKyspZS5wdXNoKFwiXFx0XCIsdGhpcy5fb2JqZWN0c1tzXS50b0NsaXBQYXRoU1ZHKHQpKTtyZXR1cm4gdGhpcy5fY3JlYXRlQmFzZUNsaXBQYXRoU1ZHTWFya3VwKGUse3Jldml2ZXI6dH0pfXN0YXRpYyBmcm9tT2JqZWN0KHQsZSl7bGV0e3R5cGU6cixvYmplY3RzOm49W10sbGF5b3V0TWFuYWdlcjpvfT10LGE9aSh0LEhyKTtyZXR1cm4gUHJvbWlzZS5hbGwoW0J0KG4sZSksWHQoYSxlKV0pLnRoZW4oKHQ9PntsZXRbZSxpXT10O2NvbnN0IHI9bmV3IHRoaXMoZSxzKHMocyh7fSxhKSxpKSx7fSx7bGF5b3V0TWFuYWdlcjpuZXcgTnJ9KSk7aWYobyl7Y29uc3QgdD10dC5nZXRDbGFzcyhvLnR5cGUpLGU9dHQuZ2V0Q2xhc3Moby5zdHJhdGVneSk7ci5sYXlvdXRNYW5hZ2VyPW5ldyB0KG5ldyBlKX1lbHNlIHIubGF5b3V0TWFuYWdlcj1uZXcgR3I7cmV0dXJuIHIubGF5b3V0TWFuYWdlci5zdWJzY3JpYmVUYXJnZXRzKHt0eXBlOkZyLHRhcmdldDpyLHRhcmdldHM6ci5nZXRPYmplY3RzKCl9KSxyLnNldENvb3JkcygpLHJ9KSl9fXQoVXIsXCJ0eXBlXCIsXCJHcm91cFwiKSx0KFVyLFwib3duRGVmYXVsdHNcIix7c3Ryb2tlV2lkdGg6MCxzdWJUYXJnZXRDaGVjazohMSxpbnRlcmFjdGl2ZTohMX0pLHR0LnNldENsYXNzKFVyKTtjb25zdCBxcj0odCxlKT0+TWF0aC5taW4oZS53aWR0aC90LndpZHRoLGUuaGVpZ2h0L3QuaGVpZ2h0KSxLcj0odCxlKT0+TWF0aC5tYXgoZS53aWR0aC90LndpZHRoLGUuaGVpZ2h0L3QuaGVpZ2h0KSxKcj1cIlxcXFxzKiw/XFxcXHMqXCIsUXI9XCJcIi5jb25jYXQoSnIsXCIoXCIpLmNvbmNhdChpcyxcIilcIiksWnI9XCJcIi5jb25jYXQoUXIpLmNvbmNhdChRcikuY29uY2F0KFFyKS5jb25jYXQoSnIsXCIoWzAxXSlcIikuY29uY2F0KEpyLFwiKFswMV0pXCIpLmNvbmNhdChRcikuY29uY2F0KFFyKSwkcj17bTpcImxcIixNOlwiTFwifSx0bj0odCxlLHMsaSxyLG4sbyxhLGgsYyxsKT0+e2NvbnN0IHU9cnQodCksZD1udCh0KSxnPXJ0KGUpLGY9bnQoZSkscD1zKnIqZy1pKm4qZitvLG09aSpyKmcrcypuKmYrYTtyZXR1cm5bXCJDXCIsYytoKigtcypyKmQtaSpuKnUpLGwraCooLWkqcipkK3Mqbip1KSxwK2gqKHMqcipmK2kqbipnKSxtK2gqKGkqcipmLXMqbipnKSxwLG1dfSxlbj0odCxlLHMsaSk9Pntjb25zdCByPU1hdGguYXRhbjIoZSx0KSxuPU1hdGguYXRhbjIoaSxzKTtyZXR1cm4gbj49cj9uLXI6MipNYXRoLlBJLShyLW4pfTtmdW5jdGlvbiBzbih0LGUscyxpLHIsbixhLGgpe2xldCBjO2lmKG8uY2FjaGVzQm91bmRzT2ZDdXJ2ZSYmKGM9Wy4uLmFyZ3VtZW50c10uam9pbigpLF8uYm91bmRzT2ZDdXJ2ZUNhY2hlW2NdKSlyZXR1cm4gXy5ib3VuZHNPZkN1cnZlQ2FjaGVbY107Y29uc3QgbD1NYXRoLnNxcnQsdT1NYXRoLmFicyxkPVtdLGc9W1swLDBdLFswLDBdXTtsZXQgZj02KnQtMTIqcys2KnIscD0tMyp0Kzkqcy05KnIrMyphLG09MypzLTMqdDtmb3IobGV0IHQ9MDt0PDI7Kyt0KXtpZih0PjAmJihmPTYqZS0xMippKzYqbixwPS0zKmUrOSppLTkqbiszKmgsbT0zKmktMyplKSx1KHApPDFlLTEyKXtpZih1KGYpPDFlLTEyKWNvbnRpbnVlO2NvbnN0IHQ9LW0vZjswPHQmJnQ8MSYmZC5wdXNoKHQpO2NvbnRpbnVlfWNvbnN0IHM9ZipmLTQqbSpwO2lmKHM8MCljb250aW51ZTtjb25zdCByPWwocyksbz0oLWYrcikvKDIqcCk7MDxvJiZvPDEmJmQucHVzaChvKTtjb25zdCBhPSgtZi1yKS8oMipwKTswPGEmJmE8MSYmZC5wdXNoKGEpfWxldCB2PWQubGVuZ3RoO2NvbnN0IHk9dix4PWFuKHQsZSxzLGkscixuLGEsaCk7Zm9yKDt2LS07KXtjb25zdHt4OnQseTplfT14KGRbdl0pO2dbMF1bdl09dCxnWzFdW3ZdPWV9Z1swXVt5XT10LGdbMV1beV09ZSxnWzBdW3krMV09YSxnWzFdW3krMV09aDtjb25zdCBDPVtuZXcgb3QoTWF0aC5taW4oLi4uZ1swXSksTWF0aC5taW4oLi4uZ1sxXSkpLG5ldyBvdChNYXRoLm1heCguLi5nWzBdKSxNYXRoLm1heCguLi5nWzFdKSldO3JldHVybiBvLmNhY2hlc0JvdW5kc09mQ3VydmUmJihfLmJvdW5kc09mQ3VydmVDYWNoZVtjXT1DKSxDfWNvbnN0IHJuPSh0LGUscyk9PntsZXRbaSxyLG4sbyxhLGgsYyxsXT1zO2NvbnN0IHU9KCh0LGUscyxpLHIsbixvKT0+e2lmKDA9PT1zfHwwPT09aSlyZXR1cm5bXTtsZXQgYT0wLGg9MCxjPTA7Y29uc3QgbD1NYXRoLlBJLHU9byp3LGQ9bnQodSksZz1ydCh1KSxmPS41KigtZyp0LWQqZSkscD0uNSooLWcqZStkKnQpLG09cyoqMix2PWkqKjIseT1wKioyLF89ZioqMix4PW0qdi1tKnktdipfO2xldCBDPU1hdGguYWJzKHMpLGI9TWF0aC5hYnMoaSk7aWYoeDwwKXtjb25zdCB0PU1hdGguc3FydCgxLXgvKG0qdikpO0MqPXQsYio9dH1lbHNlIGM9KHI9PT1uPy0xOjEpKk1hdGguc3FydCh4LyhtKnkrdipfKSk7Y29uc3QgUz1jKkMqcC9iLFQ9LWMqYipmL0MsTz1nKlMtZCpUKy41KnQsaz1kKlMrZypUKy41KmU7bGV0IEQ9ZW4oMSwwLChmLVMpL0MsKHAtVCkvYiksTT1lbigoZi1TKS9DLChwLVQpL2IsKC1mLVMpL0MsKC1wLVQpL2IpOzA9PT1uJiZNPjA/TS09MipsOjE9PT1uJiZNPDAmJihNKz0yKmwpO2NvbnN0IFA9TWF0aC5jZWlsKE1hdGguYWJzKE0vbCoyKSksRT1bXSxBPU0vUCxqPTgvMypNYXRoLnNpbihBLzQpKk1hdGguc2luKEEvNCkvTWF0aC5zaW4oQS8yKTtsZXQgRj1EK0E7Zm9yKGxldCB0PTA7dDxQO3QrKylFW3RdPXRuKEQsRixnLGQsQyxiLE8sayxqLGEsaCksYT1FW3RdWzVdLGg9RVt0XVs2XSxEPUYsRis9QTtyZXR1cm4gRX0pKGMtdCxsLWUscixuLGEsaCxvKTtmb3IobGV0IHM9MCxpPXUubGVuZ3RoO3M8aTtzKyspdVtzXVsxXSs9dCx1W3NdWzJdKz1lLHVbc11bM10rPXQsdVtzXVs0XSs9ZSx1W3NdWzVdKz10LHVbc11bNl0rPWU7cmV0dXJuIHV9LG5uPXQ9PntsZXQgZT0wLHM9MCxpPTAscj0wO2NvbnN0IG49W107bGV0IG8sYT0wLGg9MDtmb3IoY29uc3QgYyBvZiB0KXtjb25zdCB0PVsuLi5jXTtsZXQgbDtzd2l0Y2godFswXSl7Y2FzZVwibFwiOnRbMV0rPWUsdFsyXSs9cztjYXNlXCJMXCI6ZT10WzFdLHM9dFsyXSxsPVtcIkxcIixlLHNdO2JyZWFrO2Nhc2VcImhcIjp0WzFdKz1lO2Nhc2VcIkhcIjplPXRbMV0sbD1bXCJMXCIsZSxzXTticmVhaztjYXNlXCJ2XCI6dFsxXSs9cztjYXNlXCJWXCI6cz10WzFdLGw9W1wiTFwiLGUsc107YnJlYWs7Y2FzZVwibVwiOnRbMV0rPWUsdFsyXSs9cztjYXNlXCJNXCI6ZT10WzFdLHM9dFsyXSxpPXRbMV0scj10WzJdLGw9W1wiTVwiLGUsc107YnJlYWs7Y2FzZVwiY1wiOnRbMV0rPWUsdFsyXSs9cyx0WzNdKz1lLHRbNF0rPXMsdFs1XSs9ZSx0WzZdKz1zO2Nhc2VcIkNcIjphPXRbM10saD10WzRdLGU9dFs1XSxzPXRbNl0sbD1bXCJDXCIsdFsxXSx0WzJdLGEsaCxlLHNdO2JyZWFrO2Nhc2VcInNcIjp0WzFdKz1lLHRbMl0rPXMsdFszXSs9ZSx0WzRdKz1zO2Nhc2VcIlNcIjpcIkNcIj09PW8/KGE9MiplLWEsaD0yKnMtaCk6KGE9ZSxoPXMpLGU9dFszXSxzPXRbNF0sbD1bXCJDXCIsYSxoLHRbMV0sdFsyXSxlLHNdLGE9bFszXSxoPWxbNF07YnJlYWs7Y2FzZVwicVwiOnRbMV0rPWUsdFsyXSs9cyx0WzNdKz1lLHRbNF0rPXM7Y2FzZVwiUVwiOmE9dFsxXSxoPXRbMl0sZT10WzNdLHM9dFs0XSxsPVtcIlFcIixhLGgsZSxzXTticmVhaztjYXNlXCJ0XCI6dFsxXSs9ZSx0WzJdKz1zO2Nhc2VcIlRcIjpcIlFcIj09PW8/KGE9MiplLWEsaD0yKnMtaCk6KGE9ZSxoPXMpLGU9dFsxXSxzPXRbMl0sbD1bXCJRXCIsYSxoLGUsc107YnJlYWs7Y2FzZVwiYVwiOnRbNl0rPWUsdFs3XSs9cztjYXNlXCJBXCI6cm4oZSxzLHQpLmZvckVhY2goKHQ9Pm4ucHVzaCh0KSkpLGU9dFs2XSxzPXRbN107YnJlYWs7Y2FzZVwielwiOmNhc2VcIlpcIjplPWkscz1yLGw9W1wiWlwiXX1sPyhuLnB1c2gobCksbz1sWzBdKTpvPVwiXCJ9cmV0dXJuIG59LG9uPSh0LGUscyxpKT0+TWF0aC5zcXJ0KChzLXQpKioyKyhpLWUpKioyKSxhbj0odCxlLHMsaSxyLG4sbyxhKT0+aD0+e2NvbnN0IGM9aCoqMyxsPSh0PT4zKnQqKjIqKDEtdCkpKGgpLHU9KHQ9PjMqdCooMS10KSoqMikoaCksZD0odD0+KDEtdCkqKjMpKGgpO3JldHVybiBuZXcgb3QobypjK3IqbCtzKnUrdCpkLGEqYytuKmwraSp1K2UqZCl9LGhuPXQ9PnQqKjIsY249dD0+Mip0KigxLXQpLGxuPXQ9PigxLXQpKioyLHVuPSh0LGUscyxpLHIsbixvLGEpPT5oPT57Y29uc3QgYz1obihoKSxsPWNuKGgpLHU9bG4oaCksZD0zKih1KihzLXQpK2wqKHItcykrYyooby1yKSksZz0zKih1KihpLWUpK2wqKG4taSkrYyooYS1uKSk7cmV0dXJuIE1hdGguYXRhbjIoZyxkKX0sZG49KHQsZSxzLGkscixuKT0+bz0+e2NvbnN0IGE9aG4obyksaD1jbihvKSxjPWxuKG8pO3JldHVybiBuZXcgb3QociphK3MqaCt0KmMsbiphK2kqaCtlKmMpfSxnbj0odCxlLHMsaSxyLG4pPT5vPT57Y29uc3QgYT0xLW8saD0yKihhKihzLXQpK28qKHItcykpLGM9MiooYSooaS1lKStvKihuLWkpKTtyZXR1cm4gTWF0aC5hdGFuMihjLGgpfSxmbj0odCxlLHMpPT57bGV0IGk9bmV3IG90KGUscykscj0wO2ZvcihsZXQgZT0xO2U8PTEwMDtlKz0xKXtjb25zdCBzPXQoZS8xMDApO3IrPW9uKGkueCxpLnkscy54LHMueSksaT1zfXJldHVybiByfSxwbj0odCxlKT0+e2xldCBpLHI9MCxuPTAsbz17eDp0LngseTp0Lnl9LGE9cyh7fSxvKSxoPS4wMSxjPTA7Y29uc3QgbD10Lml0ZXJhdG9yLHU9dC5hbmdsZUZpbmRlcjtmb3IoO248ZSYmaD4xZS00OylhPWwociksYz1yLGk9b24oby54LG8ueSxhLngsYS55KSxpK24+ZT8oci09aCxoLz0yKToobz1hLHIrPWgsbis9aSk7cmV0dXJuIHMocyh7fSxhKSx7fSx7YW5nbGU6dShjKX0pfSxtbj10PT57bGV0IGUscyxpPTAscj0wLG49MCxvPTAsYT0wO2NvbnN0IGg9W107Zm9yKGNvbnN0IGMgb2YgdCl7Y29uc3QgdD17eDpyLHk6bixjb21tYW5kOmNbMF0sbGVuZ3RoOjB9O3N3aXRjaChjWzBdKXtjYXNlXCJNXCI6cz10LHMueD1vPXI9Y1sxXSxzLnk9YT1uPWNbMl07YnJlYWs7Y2FzZVwiTFwiOnM9dCxzLmxlbmd0aD1vbihyLG4sY1sxXSxjWzJdKSxyPWNbMV0sbj1jWzJdO2JyZWFrO2Nhc2VcIkNcIjplPWFuKHIsbixjWzFdLGNbMl0sY1szXSxjWzRdLGNbNV0sY1s2XSkscz10LHMuaXRlcmF0b3I9ZSxzLmFuZ2xlRmluZGVyPXVuKHIsbixjWzFdLGNbMl0sY1szXSxjWzRdLGNbNV0sY1s2XSkscy5sZW5ndGg9Zm4oZSxyLG4pLHI9Y1s1XSxuPWNbNl07YnJlYWs7Y2FzZVwiUVwiOmU9ZG4ocixuLGNbMV0sY1syXSxjWzNdLGNbNF0pLHM9dCxzLml0ZXJhdG9yPWUscy5hbmdsZUZpbmRlcj1nbihyLG4sY1sxXSxjWzJdLGNbM10sY1s0XSkscy5sZW5ndGg9Zm4oZSxyLG4pLHI9Y1szXSxuPWNbNF07YnJlYWs7Y2FzZVwiWlwiOnM9dCxzLmRlc3RYPW8scy5kZXN0WT1hLHMubGVuZ3RoPW9uKHIsbixvLGEpLHI9byxuPWF9aSs9cy5sZW5ndGgsaC5wdXNoKHMpfXJldHVybiBoLnB1c2goe2xlbmd0aDppLHg6cix5Om59KSxofSx2bj1mdW5jdGlvbih0LGUpe2xldCBpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTptbih0KSxyPTA7Zm9yKDtlLWlbcl0ubGVuZ3RoPjAmJnI8aS5sZW5ndGgtMjspZS09aVtyXS5sZW5ndGgscisrO2NvbnN0IG49aVtyXSxvPWUvbi5sZW5ndGgsYT10W3JdO3N3aXRjaChuLmNvbW1hbmQpe2Nhc2VcIk1cIjpyZXR1cm57eDpuLngseTpuLnksYW5nbGU6MH07Y2FzZVwiWlwiOnJldHVybiBzKHMoe30sbmV3IG90KG4ueCxuLnkpLmxlcnAobmV3IG90KG4uZGVzdFgsbi5kZXN0WSksbykpLHt9LHthbmdsZTpNYXRoLmF0YW4yKG4uZGVzdFktbi55LG4uZGVzdFgtbi54KX0pO2Nhc2VcIkxcIjpyZXR1cm4gcyhzKHt9LG5ldyBvdChuLngsbi55KS5sZXJwKG5ldyBvdChhWzFdLGFbMl0pLG8pKSx7fSx7YW5nbGU6TWF0aC5hdGFuMihhWzJdLW4ueSxhWzFdLW4ueCl9KTtjYXNlXCJDXCI6Y2FzZVwiUVwiOnJldHVybiBwbihuLGUpfX0seW49bmV3IFJlZ0V4cChcIlttemxodmNzcXRhXVtebXpsaHZjc3F0YV0qXCIsXCJnaVwiKSxfbj1uZXcgUmVnRXhwKFpyLFwiZ1wiKSx4bj1uZXcgUmVnRXhwKGlzLFwiZ2lcIiksQ249e206MixsOjIsaDoxLHY6MSxjOjYsczo0LHE6NCx0OjIsYTo3fSxibj10PT57dmFyIGU7Y29uc3Qgcz1bXSxpPW51bGwhPT0oZT10Lm1hdGNoKHluKSkmJnZvaWQgMCE9PWU/ZTpbXTtmb3IoY29uc3QgdCBvZiBpKXtjb25zdCBlPXRbMF07aWYoXCJ6XCI9PT1lfHxcIlpcIj09PWUpe3MucHVzaChbZV0pO2NvbnRpbnVlfWNvbnN0IGk9Q25bZS50b0xvd2VyQ2FzZSgpXTtsZXQgcj1bXTtpZihcImFcIj09PWV8fFwiQVwiPT09ZSl7X24ubGFzdEluZGV4PTA7Zm9yKGxldCBlPW51bGw7ZT1fbi5leGVjKHQpOylyLnB1c2goLi4uZS5zbGljZSgxKSl9ZWxzZSByPXQubWF0Y2goeG4pfHxbXTtmb3IobGV0IHQ9MDt0PHIubGVuZ3RoO3QrPWkpe2NvbnN0IG49bmV3IEFycmF5KGkpLG89JHJbZV07blswXT10PjAmJm8/bzplO2ZvcihsZXQgZT0wO2U8aTtlKyspbltlKzFdPXBhcnNlRmxvYXQoclt0K2VdKTtzLnB1c2gobil9fXJldHVybiBzfSxTbj1mdW5jdGlvbih0KXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MCxzPW5ldyBvdCh0WzBdKSxpPW5ldyBvdCh0WzFdKSxyPTEsbj0wO2NvbnN0IG89W10sYT10Lmxlbmd0aCxoPWE+MjtsZXQgYztmb3IoaCYmKHI9dFsyXS54PGkueD8tMTp0WzJdLng9PT1pLng/MDoxLG49dFsyXS55PGkueT8tMTp0WzJdLnk9PT1pLnk/MDoxKSxvLnB1c2goW1wiTVwiLHMueC1yKmUscy55LW4qZV0pLGM9MTtjPGE7YysrKXtpZighcy5lcShpKSl7Y29uc3QgdD1zLm1pZFBvaW50RnJvbShpKTtvLnB1c2goW1wiUVwiLHMueCxzLnksdC54LHQueV0pfXM9dFtjXSxjKzE8dC5sZW5ndGgmJihpPXRbYysxXSl9cmV0dXJuIGgmJihyPXMueD50W2MtMl0ueD8xOnMueD09PXRbYy0yXS54PzA6LTEsbj1zLnk+dFtjLTJdLnk/MTpzLnk9PT10W2MtMl0ueT8wOi0xKSxvLnB1c2goW1wiTFwiLHMueCtyKmUscy55K24qZV0pLG99LHduPSh0LGUpPT50Lm1hcCgodD0+dC5tYXAoKCh0LHMpPT4wPT09c3x8dm9pZCAwPT09ZT90OlZ0KHQsZSkpKS5qb2luKFwiIFwiKSkpLmpvaW4oXCIgXCIpO2Z1bmN0aW9uIFRuKHQsZSl7Y29uc3Qgcz10LnN0eWxlO3MmJmUmJihcInN0cmluZ1wiPT10eXBlb2YgZT9zLmNzc1RleHQrPVwiO1wiK2U6T2JqZWN0LmVudHJpZXMoZSkuZm9yRWFjaCgodD0+e2xldFtlLGldPXQ7cmV0dXJuIHMuc2V0UHJvcGVydHkoZSxpKX0pKSl9Y29uc3QgT249KHQsZSk9Pk1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSooZS10KzEpKSt0O2Z1bmN0aW9uIGtuKHQpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtjb25zdCBzPWUub25Db21wbGV0ZXx8QyxpPW5ldyh2KCkuWE1MSHR0cFJlcXVlc3QpLHI9ZS5zaWduYWwsbj1mdW5jdGlvbigpe2kuYWJvcnQoKX0sbz1mdW5jdGlvbigpe3ImJnIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsbiksaS5vbmVycm9yPWkub250aW1lb3V0PUN9O2lmKHImJnIuYWJvcnRlZCl0aHJvdyBuZXcgYyhcInJlcXVlc3RcIik7cmV0dXJuIHImJnIuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsbix7b25jZTohMH0pLGkub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09PWkucmVhZHlTdGF0ZSYmKG8oKSxzKGkpLGkub25yZWFkeXN0YXRlY2hhbmdlPUMpfSxpLm9uZXJyb3I9aS5vbnRpbWVvdXQ9byxpLm9wZW4oXCJnZXRcIix0LCEwKSxpLnNlbmQoKSxpfWNvbnN0IERuPSh0LGUpPT57bGV0IHM9dC5fZmluZENlbnRlckZyb21FbGVtZW50KCk7dC50cmFuc2Zvcm1NYXRyaXgmJigodD0+e2lmKHQudHJhbnNmb3JtTWF0cml4KXtjb25zdHtzY2FsZVg6ZSxzY2FsZVk6cyxhbmdsZTppLHNrZXdYOnJ9PUR0KHQudHJhbnNmb3JtTWF0cml4KTt0LmZsaXBYPSExLHQuZmxpcFk9ITEsdC5zZXQoSCxlKSx0LnNldChOLHMpLHQuYW5nbGU9aSx0LnNrZXdYPXIsdC5za2V3WT0wfX0pKHQpLHM9cy50cmFuc2Zvcm0odC50cmFuc2Zvcm1NYXRyaXgpKSxkZWxldGUgdC50cmFuc2Zvcm1NYXRyaXgsZSYmKHQuc2NhbGVYKj1lLnNjYWxlWCx0LnNjYWxlWSo9ZS5zY2FsZVksdC5jcm9wWD1lLmNyb3BYLHQuY3JvcFk9ZS5jcm9wWSxzLngrPWUub2Zmc2V0TGVmdCxzLnkrPWUub2Zmc2V0VG9wLHQud2lkdGg9ZS53aWR0aCx0LmhlaWdodD1lLmhlaWdodCksdC5zZXRQb3NpdGlvbkJ5T3JpZ2luKHMsRCxEKX07dmFyIE1uPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGFkZFRyYW5zZm9ybVRvT2JqZWN0OmxlLGFuaW1hdGU6S3MsYW5pbWF0ZUNvbG9yOkpzLGFwcGx5VHJhbnNmb3JtVG9PYmplY3Q6dWUsY2FsY0FuZ2xlQmV0d2VlblZlY3RvcnM6X3MsY2FsY0RpbWVuc2lvbnNNYXRyaXg6THQsY2FsY1BsYW5lQ2hhbmdlTWF0cml4OnBlLGNhbGNWZWN0b3JSb3RhdGlvbjp4cyxjYW5jZWxBbmltRnJhbWU6ZHQsY2FwVmFsdWU6TXMsY29tcG9zZU1hdHJpeDpSdCxjb3B5Q2FudmFzRWxlbWVudDp0PT57dmFyIGU7Y29uc3Qgcz12dCh0KTtyZXR1cm4gbnVsbD09PShlPXMuZ2V0Q29udGV4dChcIjJkXCIpKXx8dm9pZCAwPT09ZXx8ZS5kcmF3SW1hZ2UodCwwLDApLHN9LGNvczpydCxjcmVhdGVDYW52YXNFbGVtZW50OnB0LGNyZWF0ZUltYWdlOm10LGNyZWF0ZVJvdGF0ZU1hdHJpeDpQdCxjcmVhdGVTY2FsZU1hdHJpeDpFdCxjcmVhdGVTa2V3WE1hdHJpeDpqdCxjcmVhdGVTa2V3WU1hdHJpeDpGdCxjcmVhdGVUcmFuc2xhdGVNYXRyaXg6TXQsY3JlYXRlVmVjdG9yOnZzLGNyb3NzUHJvZHVjdDpTcyxkZWdyZWVzVG9SYWRpYW5zOnh0LGRvdFByb2R1Y3Q6d3MsZWFzZTpCcyxlbmxpdmVuT2JqZWN0RW5saXZhYmxlczpYdCxlbmxpdmVuT2JqZWN0czpCdCxmaW5kU2NhbGVUb0NvdmVyOktyLGZpbmRTY2FsZVRvRml0OnFyLGdldEJvdW5kc09mQ3VydmU6c24sZ2V0T3J0aG9ub3JtYWxWZWN0b3I6YnMsZ2V0UGF0aFNlZ21lbnRzSW5mbzptbixnZXRQb2ludE9uUGF0aDp2bixnZXRQb2ludGVyOm5lLGdldFJhbmRvbUludDpPbixnZXRSZWd1bGFyUG9seWdvblBhdGg6KHQsZSk9Pntjb25zdCBzPTIqTWF0aC5QSS90O2xldCBpPS1iO3QlMj09MCYmKGkrPXMvMik7Y29uc3Qgcj1uZXcgQXJyYXkodCsxKTtmb3IobGV0IG49MDtuPHQ7bisrKXtjb25zdCB0PW4qcytpLHt4Om8seTphfT1uZXcgb3QocnQodCksbnQodCkpLnNjYWxhck11bHRpcGx5KGUpO3Jbbl09WzA9PT1uP1wiTVwiOlwiTFwiLG8sYV19cmV0dXJuIHJbdF09W1wiWlwiXSxyfSxnZXRTbW9vdGhQYXRoRnJvbVBvaW50czpTbixnZXRTdmdBdHRyaWJ1dGVzOnQ9Pntjb25zdCBlPVtcImluc3RhbnRpYXRlZF9ieV91c2VcIixcInN0eWxlXCIsXCJpZFwiLFwiY2xhc3NcIl07c3dpdGNoKHQpe2Nhc2VcImxpbmVhckdyYWRpZW50XCI6cmV0dXJuIGUuY29uY2F0KFtcIngxXCIsXCJ5MVwiLFwieDJcIixcInkyXCIsXCJncmFkaWVudFVuaXRzXCIsXCJncmFkaWVudFRyYW5zZm9ybVwiXSk7Y2FzZVwicmFkaWFsR3JhZGllbnRcIjpyZXR1cm4gZS5jb25jYXQoW1wiZ3JhZGllbnRVbml0c1wiLFwiZ3JhZGllbnRUcmFuc2Zvcm1cIixcImN4XCIsXCJjeVwiLFwiclwiLFwiZnhcIixcImZ5XCIsXCJmclwiXSk7Y2FzZVwic3RvcFwiOnJldHVybiBlLmNvbmNhdChbXCJvZmZzZXRcIixcInN0b3AtY29sb3JcIixcInN0b3Atb3BhY2l0eVwiXSl9cmV0dXJuIGV9LGdldFVuaXRWZWN0b3I6Q3MsZ3JvdXBTVkdFbGVtZW50czoodCxlKT0+dCYmMT09PXQubGVuZ3RoP3RbMF06bmV3IFVyKHQsZSksaGFzU3R5bGVDaGFuZ2VkOktpLGludmVydFRyYW5zZm9ybTp3dCxpc0JldHdlZW5WZWN0b3JzOlRzLGlzSWRlbnRpdHlNYXRyaXg6YnQsaXNUb3VjaEV2ZW50Om9lLGlzVHJhbnNwYXJlbnQ6Umksam9pblBhdGg6d24sbG9hZEltYWdlOkl0LG1hZ25pdHVkZTp5cyxtYWtlQm91bmRpbmdCb3hGcm9tUG9pbnRzOmhlLG1ha2VQYXRoU2ltcGxlcjpubixtYXRyaXhUb1NWRzp6dCxtZXJnZUNsaXBQYXRoczoodCxlKT0+e3ZhciBzO2xldCBpPXQscj1lO2kuaW52ZXJ0ZWQmJiFyLmludmVydGVkJiYoaT1lLHI9dCkseWUocixudWxsPT09KHM9ci5ncm91cCl8fHZvaWQgMD09PXM/dm9pZCAwOnMuY2FsY1RyYW5zZm9ybU1hdHJpeCgpLGkuY2FsY1RyYW5zZm9ybU1hdHJpeCgpKTtjb25zdCBuPWkuaW52ZXJ0ZWQmJnIuaW52ZXJ0ZWQ7cmV0dXJuIG4mJihpLmludmVydGVkPXIuaW52ZXJ0ZWQ9ITEpLG5ldyBVcihbaV0se2NsaXBQYXRoOnIsaW52ZXJ0ZWQ6bn0pfSxtdWx0aXBseVRyYW5zZm9ybU1hdHJpY2VzOlR0LG11bHRpcGx5VHJhbnNmb3JtTWF0cml4QXJyYXk6T3QscGFyc2VQYXRoOmJuLHBhcnNlUHJlc2VydmVBc3BlY3RSYXRpb0F0dHJpYnV0ZTpYZSxwYXJzZVVuaXQ6QmUscGljazpZdCxwcm9qZWN0U3Ryb2tlT25Qb2ludHM6V2kscXJEZWNvbXBvc2U6RHQscmFkaWFuc1RvRGVncmVlczpDdCxyZW1vdmVGcm9tQXJyYXk6aXQscmVtb3ZlVHJhbnNmb3JtRnJvbU9iamVjdDoodCxlKT0+e2NvbnN0IHM9d3QoZSksaT1UdChzLHQuY2FsY093bk1hdHJpeCgpKTt1ZSh0LGkpfSxyZW1vdmVUcmFuc2Zvcm1NYXRyaXhGb3JTdmdQYXJzaW5nOkRuLHJlcXVlc3Q6a24scmVxdWVzdEFuaW1GcmFtZTp1dCxyZXNldE9iamVjdFRyYW5zZm9ybTpkZSxyb3RhdGVQb2ludDoodCxlLHMpPT50LnJvdGF0ZShzLGUpLHJvdGF0ZVZlY3RvcjptcyxzYXZlT2JqZWN0VHJhbnNmb3JtOmdlLHNlbmRPYmplY3RUb1BsYW5lOnllLHNlbmRQb2ludFRvUGxhbmU6bWUsc2VuZFZlY3RvclRvUGxhbmU6dmUsc2V0U3R5bGU6VG4sc2luOm50LHNpemVBZnRlclRyYW5zZm9ybTpmZSxzdHJpbmc6cWksc3R5bGVzRnJvbUFycmF5OlFpLHN0eWxlc1RvQXJyYXk6SmksdG9CbG9iOl90LHRvRGF0YVVSTDp5dCx0b0ZpeGVkOlZ0LHRyYW5zZm9ybVBhdGg6KHQsZSxzKT0+KHMmJihlPVR0KGUsWzEsMCwwLDEsLXMueCwtcy55XSkpLHQubWFwKCh0PT57Y29uc3Qgcz1bLi4udF07Zm9yKGxldCBpPTE7aTx0Lmxlbmd0aC0xO2krPTIpe2NvbnN0e3g6cix5Om59PVN0KHt4OnRbaV0seTp0W2krMV19LGUpO3NbaV09cixzW2krMV09bn1yZXR1cm4gc30pKSksdHJhbnNmb3JtUG9pbnQ6U3R9KTtjbGFzcyBQbiBleHRlbmRzIHRle2NvbnN0cnVjdG9yKGUpe2xldHthbGxvd1RvdWNoU2Nyb2xsaW5nOnM9ITEsY29udGFpbmVyQ2xhc3M6aT1cIlwifT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307c3VwZXIoZSksdCh0aGlzLFwidXBwZXJcIix2b2lkIDApLHQodGhpcyxcImNvbnRhaW5lclwiLHZvaWQgMCk7Y29uc3R7ZWw6cn09dGhpcy5sb3dlcixuPXRoaXMuY3JlYXRlVXBwZXJDYW52YXMoKTt0aGlzLnVwcGVyPXtlbDpuLGN0eDpuLmdldENvbnRleHQoXCIyZFwiKX0sdGhpcy5hcHBseUNhbnZhc1N0eWxlKHIse2FsbG93VG91Y2hTY3JvbGxpbmc6c30pLHRoaXMuYXBwbHlDYW52YXNTdHlsZShuLHthbGxvd1RvdWNoU2Nyb2xsaW5nOnMsc3R5bGVzOntwb3NpdGlvbjpcImFic29sdXRlXCIsbGVmdDpcIjBcIix0b3A6XCIwXCJ9fSk7Y29uc3Qgbz10aGlzLmNyZWF0ZUNvbnRhaW5lckVsZW1lbnQoKTtvLmNsYXNzTGlzdC5hZGQoaSksci5wYXJlbnROb2RlJiZyLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKG8sciksby5hcHBlbmQocixuKSx0aGlzLmNvbnRhaW5lcj1vfWNyZWF0ZVVwcGVyQ2FudmFzKCl7Y29uc3R7ZWw6dH09dGhpcy5sb3dlcixlPXB0KCk7cmV0dXJuIGUuY2xhc3NOYW1lPXQuY2xhc3NOYW1lLGUuY2xhc3NMaXN0LnJlbW92ZShcImxvd2VyLWNhbnZhc1wiKSxlLmNsYXNzTGlzdC5hZGQoXCJ1cHBlci1jYW52YXNcIiksZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWZhYnJpY1wiLFwidG9wXCIpLGUuc3R5bGUuY3NzVGV4dD10LnN0eWxlLmNzc1RleHQsZS5zZXRBdHRyaWJ1dGUoXCJkcmFnZ2FibGVcIixcInRydWVcIiksZX1jcmVhdGVDb250YWluZXJFbGVtZW50KCl7Y29uc3QgdD1tKCkuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyZXR1cm4gdC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWZhYnJpY1wiLFwid3JhcHBlclwiKSxUbih0LHtwb3NpdGlvbjpcInJlbGF0aXZlXCJ9KSwkdCh0KSx0fWFwcGx5Q2FudmFzU3R5bGUodCxlKXtjb25zdHtzdHlsZXM6aSxhbGxvd1RvdWNoU2Nyb2xsaW5nOnJ9PWU7VG4odCxzKHMoe30saSkse30se1widG91Y2gtYWN0aW9uXCI6cj9cIm1hbmlwdWxhdGlvblwiOmp9KSksJHQodCl9c2V0RGltZW5zaW9ucyh0LGUpe3N1cGVyLnNldERpbWVuc2lvbnModCxlKTtjb25zdHtlbDpzLGN0eDppfT10aGlzLnVwcGVyO1F0KHMsaSx0LGUpfXNldENTU0RpbWVuc2lvbnModCl7c3VwZXIuc2V0Q1NTRGltZW5zaW9ucyh0KSxadCh0aGlzLnVwcGVyLmVsLHQpLFp0KHRoaXMuY29udGFpbmVyLHQpfWNsZWFudXBET00odCl7Y29uc3QgZT10aGlzLmNvbnRhaW5lcix7ZWw6c309dGhpcy5sb3dlcix7ZWw6aX09dGhpcy51cHBlcjtzdXBlci5jbGVhbnVwRE9NKHQpLGUucmVtb3ZlQ2hpbGQoaSksZS5yZW1vdmVDaGlsZChzKSxlLnBhcmVudE5vZGUmJmUucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQocyxlKX1kaXNwb3NlKCl7c3VwZXIuZGlzcG9zZSgpLHAoKS5kaXNwb3NlKHRoaXMudXBwZXIuZWwpLGRlbGV0ZSB0aGlzLnVwcGVyLGRlbGV0ZSB0aGlzLmNvbnRhaW5lcn19Y2xhc3MgRW4gZXh0ZW5kcyBpZXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdCh0aGlzLFwidGFyZ2V0c1wiLFtdKSx0KHRoaXMsXCJfaG92ZXJlZFRhcmdldHNcIixbXSksdCh0aGlzLFwiX2N1cnJlbnRUcmFuc2Zvcm1cIixudWxsKSx0KHRoaXMsXCJfZ3JvdXBTZWxlY3RvclwiLG51bGwpLHQodGhpcyxcImNvbnRleHRUb3BEaXJ0eVwiLCExKX1zdGF0aWMgZ2V0RGVmYXVsdHMoKXtyZXR1cm4gcyhzKHt9LHN1cGVyLmdldERlZmF1bHRzKCkpLEVuLm93bkRlZmF1bHRzKX1nZXQgdXBwZXJDYW52YXNFbCgpe3ZhciB0O3JldHVybiBudWxsPT09KHQ9dGhpcy5lbGVtZW50cy51cHBlcil8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZWx9Z2V0IGNvbnRleHRUb3AoKXt2YXIgdDtyZXR1cm4gbnVsbD09PSh0PXRoaXMuZWxlbWVudHMudXBwZXIpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmN0eH1nZXQgd3JhcHBlckVsKCl7cmV0dXJuIHRoaXMuZWxlbWVudHMuY29udGFpbmVyfWluaXRFbGVtZW50cyh0KXt0aGlzLmVsZW1lbnRzPW5ldyBQbih0LHthbGxvd1RvdWNoU2Nyb2xsaW5nOnRoaXMuYWxsb3dUb3VjaFNjcm9sbGluZyxjb250YWluZXJDbGFzczp0aGlzLmNvbnRhaW5lckNsYXNzfSksdGhpcy5fY3JlYXRlQ2FjaGVDYW52YXMoKX1fb25PYmplY3RBZGRlZCh0KXt0aGlzLl9vYmplY3RzVG9SZW5kZXI9dm9pZCAwLHN1cGVyLl9vbk9iamVjdEFkZGVkKHQpfV9vbk9iamVjdFJlbW92ZWQodCl7dGhpcy5fb2JqZWN0c1RvUmVuZGVyPXZvaWQgMCx0PT09dGhpcy5fYWN0aXZlT2JqZWN0JiYodGhpcy5maXJlKFwiYmVmb3JlOnNlbGVjdGlvbjpjbGVhcmVkXCIse2Rlc2VsZWN0ZWQ6W3RdfSksdGhpcy5fZGlzY2FyZEFjdGl2ZU9iamVjdCgpLHRoaXMuZmlyZShcInNlbGVjdGlvbjpjbGVhcmVkXCIse2Rlc2VsZWN0ZWQ6W3RdfSksdC5maXJlKFwiZGVzZWxlY3RlZFwiLHt0YXJnZXQ6dH0pKSx0PT09dGhpcy5faG92ZXJlZFRhcmdldCYmKHRoaXMuX2hvdmVyZWRUYXJnZXQ9dm9pZCAwLHRoaXMuX2hvdmVyZWRUYXJnZXRzPVtdKSxzdXBlci5fb25PYmplY3RSZW1vdmVkKHQpfV9vblN0YWNrT3JkZXJDaGFuZ2VkKCl7dGhpcy5fb2JqZWN0c1RvUmVuZGVyPXZvaWQgMCxzdXBlci5fb25TdGFja09yZGVyQ2hhbmdlZCgpfV9jaG9vc2VPYmplY3RzVG9SZW5kZXIoKXtjb25zdCB0PXRoaXMuX2FjdGl2ZU9iamVjdDtyZXR1cm4hdGhpcy5wcmVzZXJ2ZU9iamVjdFN0YWNraW5nJiZ0P3RoaXMuX29iamVjdHMuZmlsdGVyKChlPT4hZS5ncm91cCYmZSE9PXQpKS5jb25jYXQodCk6dGhpcy5fb2JqZWN0c31yZW5kZXJBbGwoKXt0aGlzLmNhbmNlbFJlcXVlc3RlZFJlbmRlcigpLHRoaXMuZGVzdHJveWVkfHwoIXRoaXMuY29udGV4dFRvcERpcnR5fHx0aGlzLl9ncm91cFNlbGVjdG9yfHx0aGlzLmlzRHJhd2luZ01vZGV8fCh0aGlzLmNsZWFyQ29udGV4dCh0aGlzLmNvbnRleHRUb3ApLHRoaXMuY29udGV4dFRvcERpcnR5PSExKSx0aGlzLmhhc0xvc3RDb250ZXh0JiYodGhpcy5yZW5kZXJUb3BMYXllcih0aGlzLmNvbnRleHRUb3ApLHRoaXMuaGFzTG9zdENvbnRleHQ9ITEpLCF0aGlzLl9vYmplY3RzVG9SZW5kZXImJih0aGlzLl9vYmplY3RzVG9SZW5kZXI9dGhpcy5fY2hvb3NlT2JqZWN0c1RvUmVuZGVyKCkpLHRoaXMucmVuZGVyQ2FudmFzKHRoaXMuZ2V0Q29udGV4dCgpLHRoaXMuX29iamVjdHNUb1JlbmRlcikpfXJlbmRlclRvcExheWVyKHQpe3Quc2F2ZSgpLHRoaXMuaXNEcmF3aW5nTW9kZSYmdGhpcy5faXNDdXJyZW50bHlEcmF3aW5nJiYodGhpcy5mcmVlRHJhd2luZ0JydXNoJiZ0aGlzLmZyZWVEcmF3aW5nQnJ1c2guX3JlbmRlcigpLHRoaXMuY29udGV4dFRvcERpcnR5PSEwKSx0aGlzLnNlbGVjdGlvbiYmdGhpcy5fZ3JvdXBTZWxlY3RvciYmKHRoaXMuX2RyYXdTZWxlY3Rpb24odCksdGhpcy5jb250ZXh0VG9wRGlydHk9ITApLHQucmVzdG9yZSgpfXJlbmRlclRvcCgpe2NvbnN0IHQ9dGhpcy5jb250ZXh0VG9wO3RoaXMuY2xlYXJDb250ZXh0KHQpLHRoaXMucmVuZGVyVG9wTGF5ZXIodCksdGhpcy5maXJlKFwiYWZ0ZXI6cmVuZGVyXCIse2N0eDp0fSl9c2V0VGFyZ2V0RmluZFRvbGVyYW5jZSh0KXt0PU1hdGgucm91bmQodCksdGhpcy50YXJnZXRGaW5kVG9sZXJhbmNlPXQ7Y29uc3QgZT10aGlzLmdldFJldGluYVNjYWxpbmcoKSxzPU1hdGguY2VpbCgoMip0KzEpKmUpO3RoaXMucGl4ZWxGaW5kQ2FudmFzRWwud2lkdGg9dGhpcy5waXhlbEZpbmRDYW52YXNFbC5oZWlnaHQ9cyx0aGlzLnBpeGVsRmluZENvbnRleHQuc2NhbGUoZSxlKX1pc1RhcmdldFRyYW5zcGFyZW50KHQsZSxzKXtjb25zdCBpPXRoaXMudGFyZ2V0RmluZFRvbGVyYW5jZSxyPXRoaXMucGl4ZWxGaW5kQ29udGV4dDt0aGlzLmNsZWFyQ29udGV4dChyKSxyLnNhdmUoKSxyLnRyYW5zbGF0ZSgtZStpLC1zK2kpLHIudHJhbnNmb3JtKC4uLnRoaXMudmlld3BvcnRUcmFuc2Zvcm0pO2NvbnN0IG49dC5zZWxlY3Rpb25CYWNrZ3JvdW5kQ29sb3I7dC5zZWxlY3Rpb25CYWNrZ3JvdW5kQ29sb3I9XCJcIix0LnJlbmRlcihyKSx0LnNlbGVjdGlvbkJhY2tncm91bmRDb2xvcj1uLHIucmVzdG9yZSgpO2NvbnN0IG89TWF0aC5yb3VuZChpKnRoaXMuZ2V0UmV0aW5hU2NhbGluZygpKTtyZXR1cm4gUmkocixvLG8sbyl9X2lzU2VsZWN0aW9uS2V5UHJlc3NlZCh0KXtjb25zdCBlPXRoaXMuc2VsZWN0aW9uS2V5O3JldHVybiEhZSYmKEFycmF5LmlzQXJyYXkoZSk/ISFlLmZpbmQoKGU9PiEhZSYmITA9PT10W2VdKSk6dFtlXSl9X3Nob3VsZENsZWFyU2VsZWN0aW9uKHQsZSl7Y29uc3Qgcz10aGlzLmdldEFjdGl2ZU9iamVjdHMoKSxpPXRoaXMuX2FjdGl2ZU9iamVjdDtyZXR1cm4hISghZXx8ZSYmaSYmcy5sZW5ndGg+MSYmLTE9PT1zLmluZGV4T2YoZSkmJmkhPT1lJiYhdGhpcy5faXNTZWxlY3Rpb25LZXlQcmVzc2VkKHQpfHxlJiYhZS5ldmVudGVkfHxlJiYhZS5zZWxlY3RhYmxlJiZpJiZpIT09ZSl9X3Nob3VsZENlbnRlclRyYW5zZm9ybSh0LGUscyl7aWYoIXQpcmV0dXJuO2xldCBpO3JldHVybiBlPT09R3x8ZT09PUh8fGU9PT1OfHxlPT09WT9pPXRoaXMuY2VudGVyZWRTY2FsaW5nfHx0LmNlbnRlcmVkU2NhbGluZzplPT09QiYmKGk9dGhpcy5jZW50ZXJlZFJvdGF0aW9ufHx0LmNlbnRlcmVkUm90YXRpb24pLGk/IXM6c31fZ2V0T3JpZ2luRnJvbUNvcm5lcih0LGUpe2NvbnN0IHM9e3g6dC5vcmlnaW5YLHk6dC5vcmlnaW5ZfTtyZXR1cm4gZT8oW1wibWxcIixcInRsXCIsXCJibFwiXS5pbmNsdWRlcyhlKT9zLng9QTpbXCJtclwiLFwidHJcIixcImJyXCJdLmluY2x1ZGVzKGUpJiYocy54PU0pLFtcInRsXCIsXCJtdFwiLFwidHJcIl0uaW5jbHVkZXMoZSk/cy55PUU6W1wiYmxcIixcIm1iXCIsXCJiclwiXS5pbmNsdWRlcyhlKSYmKHMueT1QKSxzKTpzfV9zZXR1cEN1cnJlbnRUcmFuc2Zvcm0odCxlLGkpe3ZhciByO2NvbnN0IG49ZS5ncm91cD9tZSh0aGlzLmdldFNjZW5lUG9pbnQodCksdm9pZCAwLGUuZ3JvdXAuY2FsY1RyYW5zZm9ybU1hdHJpeCgpKTp0aGlzLmdldFNjZW5lUG9pbnQodCkse2tleTpvPVwiXCIsY29udHJvbDphfT1lLmdldEFjdGl2ZUNvbnRyb2woKXx8e30saD1pJiZhP251bGw9PT0ocj1hLmdldEFjdGlvbkhhbmRsZXIodCxlLGEpKXx8dm9pZCAwPT09cj92b2lkIDA6ci5iaW5kKGEpOk1lLGM9KCh0LGUscyxpKT0+e2lmKCFlfHwhdClyZXR1cm5cImRyYWdcIjtjb25zdCByPWkuY29udHJvbHNbZV07cmV0dXJuIHIuZ2V0QWN0aW9uTmFtZShzLHIsaSl9KShpLG8sdCxlKSxsPXRbdGhpcy5jZW50ZXJlZEtleV0sdT10aGlzLl9zaG91bGRDZW50ZXJUcmFuc2Zvcm0oZSxjLGwpP3t4OkQseTpEfTp0aGlzLl9nZXRPcmlnaW5Gcm9tQ29ybmVyKGUsbyksZD17dGFyZ2V0OmUsYWN0aW9uOmMsYWN0aW9uSGFuZGxlcjpoLGFjdGlvblBlcmZvcm1lZDohMSxjb3JuZXI6byxzY2FsZVg6ZS5zY2FsZVgsc2NhbGVZOmUuc2NhbGVZLHNrZXdYOmUuc2tld1gsc2tld1k6ZS5za2V3WSxvZmZzZXRYOm4ueC1lLmxlZnQsb2Zmc2V0WTpuLnktZS50b3Asb3JpZ2luWDp1Lngsb3JpZ2luWTp1LnksZXg6bi54LGV5Om4ueSxsYXN0WDpuLngsbGFzdFk6bi55LHRoZXRhOnh0KGUuYW5nbGUpLHdpZHRoOmUud2lkdGgsaGVpZ2h0OmUuaGVpZ2h0LHNoaWZ0S2V5OnQuc2hpZnRLZXksYWx0S2V5Omwsb3JpZ2luYWw6cyhzKHt9LGdlKGUpKSx7fSx7b3JpZ2luWDp1Lngsb3JpZ2luWTp1Lnl9KX07dGhpcy5fY3VycmVudFRyYW5zZm9ybT1kLHRoaXMuZmlyZShcImJlZm9yZTp0cmFuc2Zvcm1cIix7ZTp0LHRyYW5zZm9ybTpkfSl9c2V0Q3Vyc29yKHQpe3RoaXMudXBwZXJDYW52YXNFbC5zdHlsZS5jdXJzb3I9dH1fZHJhd1NlbGVjdGlvbih0KXtjb25zdHt4OmUseTpzLGRlbHRhWDppLGRlbHRhWTpyfT10aGlzLl9ncm91cFNlbGVjdG9yLG49bmV3IG90KGUscykudHJhbnNmb3JtKHRoaXMudmlld3BvcnRUcmFuc2Zvcm0pLG89bmV3IG90KGUraSxzK3IpLnRyYW5zZm9ybSh0aGlzLnZpZXdwb3J0VHJhbnNmb3JtKSxhPXRoaXMuc2VsZWN0aW9uTGluZVdpZHRoLzI7bGV0IGg9TWF0aC5taW4obi54LG8ueCksYz1NYXRoLm1pbihuLnksby55KSxsPU1hdGgubWF4KG4ueCxvLngpLHU9TWF0aC5tYXgobi55LG8ueSk7dGhpcy5zZWxlY3Rpb25Db2xvciYmKHQuZmlsbFN0eWxlPXRoaXMuc2VsZWN0aW9uQ29sb3IsdC5maWxsUmVjdChoLGMsbC1oLHUtYykpLHRoaXMuc2VsZWN0aW9uTGluZVdpZHRoJiZ0aGlzLnNlbGVjdGlvbkJvcmRlckNvbG9yJiYodC5saW5lV2lkdGg9dGhpcy5zZWxlY3Rpb25MaW5lV2lkdGgsdC5zdHJva2VTdHlsZT10aGlzLnNlbGVjdGlvbkJvcmRlckNvbG9yLGgrPWEsYys9YSxsLT1hLHUtPWEsTGkucHJvdG90eXBlLl9zZXRMaW5lRGFzaC5jYWxsKHRoaXMsdCx0aGlzLnNlbGVjdGlvbkRhc2hBcnJheSksdC5zdHJva2VSZWN0KGgsYyxsLWgsdS1jKSl9ZmluZFRhcmdldCh0KXtpZih0aGlzLnNraXBUYXJnZXRGaW5kKXJldHVybjtjb25zdCBlPXRoaXMuZ2V0Vmlld3BvcnRQb2ludCh0KSxzPXRoaXMuX2FjdGl2ZU9iamVjdCxpPXRoaXMuZ2V0QWN0aXZlT2JqZWN0cygpO2lmKHRoaXMudGFyZ2V0cz1bXSxzJiZpLmxlbmd0aD49MSl7aWYocy5maW5kQ29udHJvbChlLG9lKHQpKSlyZXR1cm4gcztpZihpLmxlbmd0aD4xJiZ0aGlzLnNlYXJjaFBvc3NpYmxlVGFyZ2V0cyhbc10sZSkpcmV0dXJuIHM7aWYocz09PXRoaXMuc2VhcmNoUG9zc2libGVUYXJnZXRzKFtzXSxlKSl7aWYodGhpcy5wcmVzZXJ2ZU9iamVjdFN0YWNraW5nKXtjb25zdCBpPXRoaXMudGFyZ2V0czt0aGlzLnRhcmdldHM9W107Y29uc3Qgcj10aGlzLnNlYXJjaFBvc3NpYmxlVGFyZ2V0cyh0aGlzLl9vYmplY3RzLGUpO3JldHVybiB0W3RoaXMuYWx0U2VsZWN0aW9uS2V5XSYmciYmciE9PXM/KHRoaXMudGFyZ2V0cz1pLHMpOnJ9cmV0dXJuIHN9fXJldHVybiB0aGlzLnNlYXJjaFBvc3NpYmxlVGFyZ2V0cyh0aGlzLl9vYmplY3RzLGUpfV9wb2ludElzSW5PYmplY3RTZWxlY3Rpb25BcmVhKHQsZSl7bGV0IHM9dC5nZXRDb29yZHMoKTtjb25zdCBpPXRoaXMuZ2V0Wm9vbSgpLHI9dC5wYWRkaW5nL2k7aWYocil7Y29uc3RbdCxlLGksbl09cyxvPU1hdGguYXRhbjIoZS55LXQueSxlLngtdC54KSxhPXJ0KG8pKnIsaD1udChvKSpyLGM9YStoLGw9YS1oO3M9W25ldyBvdCh0LngtbCx0LnktYyksbmV3IG90KGUueCtjLGUueS1sKSxuZXcgb3QoaS54K2wsaS55K2MpLG5ldyBvdChuLngtYyxuLnkrbCldfXJldHVybiBRcy5pc1BvaW50SW5Qb2x5Z29uKGUscyl9X2NoZWNrVGFyZ2V0KHQsZSl7aWYodCYmdC52aXNpYmxlJiZ0LmV2ZW50ZWQmJnRoaXMuX3BvaW50SXNJbk9iamVjdFNlbGVjdGlvbkFyZWEodCxtZShlLHZvaWQgMCx0aGlzLnZpZXdwb3J0VHJhbnNmb3JtKSkpe2lmKCF0aGlzLnBlclBpeGVsVGFyZ2V0RmluZCYmIXQucGVyUGl4ZWxUYXJnZXRGaW5kfHx0LmlzRWRpdGluZylyZXR1cm4hMDtpZighdGhpcy5pc1RhcmdldFRyYW5zcGFyZW50KHQsZS54LGUueSkpcmV0dXJuITB9cmV0dXJuITF9X3NlYXJjaFBvc3NpYmxlVGFyZ2V0cyh0LGUpe2xldCBzPXQubGVuZ3RoO2Zvcig7cy0tOyl7Y29uc3QgaT10W3NdO2lmKHRoaXMuX2NoZWNrVGFyZ2V0KGksZSkpe2lmKGh0KGkpJiZpLnN1YlRhcmdldENoZWNrKXtjb25zdCB0PXRoaXMuX3NlYXJjaFBvc3NpYmxlVGFyZ2V0cyhpLl9vYmplY3RzLGUpO3QmJnRoaXMudGFyZ2V0cy5wdXNoKHQpfXJldHVybiBpfX19c2VhcmNoUG9zc2libGVUYXJnZXRzKHQsZSl7Y29uc3Qgcz10aGlzLl9zZWFyY2hQb3NzaWJsZVRhcmdldHModCxlKTtpZihzJiZodChzKSYmcy5pbnRlcmFjdGl2ZSYmdGhpcy50YXJnZXRzWzBdKXtjb25zdCB0PXRoaXMudGFyZ2V0cztmb3IobGV0IGU9dC5sZW5ndGgtMTtlPjA7ZS0tKXtjb25zdCBzPXRbZV07aWYoIWh0KHMpfHwhcy5pbnRlcmFjdGl2ZSlyZXR1cm4gc31yZXR1cm4gdFswXX1yZXR1cm4gc31nZXRWaWV3cG9ydFBvaW50KHQpe3JldHVybiB0aGlzLl9wb2ludGVyP3RoaXMuX3BvaW50ZXI6dGhpcy5nZXRQb2ludGVyKHQsITApfWdldFNjZW5lUG9pbnQodCl7cmV0dXJuIHRoaXMuX2Fic29sdXRlUG9pbnRlcj90aGlzLl9hYnNvbHV0ZVBvaW50ZXI6dGhpcy5nZXRQb2ludGVyKHQpfWdldFBvaW50ZXIodCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXTtjb25zdCBzPXRoaXMudXBwZXJDYW52YXNFbCxpPXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7bGV0IHI9bmUodCksbj1pLndpZHRofHwwLG89aS5oZWlnaHR8fDA7biYmb3x8KFAgaW4gaSYmRSBpbiBpJiYobz1NYXRoLmFicyhpLnRvcC1pLmJvdHRvbSkpLEEgaW4gaSYmTSBpbiBpJiYobj1NYXRoLmFicyhpLnJpZ2h0LWkubGVmdCkpKSx0aGlzLmNhbGNPZmZzZXQoKSxyLng9ci54LXRoaXMuX29mZnNldC5sZWZ0LHIueT1yLnktdGhpcy5fb2Zmc2V0LnRvcCxlfHwocj1tZShyLHZvaWQgMCx0aGlzLnZpZXdwb3J0VHJhbnNmb3JtKSk7Y29uc3QgYT10aGlzLmdldFJldGluYVNjYWxpbmcoKTsxIT09YSYmKHIueC89YSxyLnkvPWEpO2NvbnN0IGg9MD09PW58fDA9PT1vP25ldyBvdCgxLDEpOm5ldyBvdChzLndpZHRoL24scy5oZWlnaHQvbyk7cmV0dXJuIHIubXVsdGlwbHkoaCl9X3NldERpbWVuc2lvbnNJbXBsKHQsZSl7dGhpcy5fcmVzZXRUcmFuc2Zvcm1FdmVudERhdGEoKSxzdXBlci5fc2V0RGltZW5zaW9uc0ltcGwodCxlKSx0aGlzLl9pc0N1cnJlbnRseURyYXdpbmcmJnRoaXMuZnJlZURyYXdpbmdCcnVzaCYmdGhpcy5mcmVlRHJhd2luZ0JydXNoLl9zZXRCcnVzaFN0eWxlcyh0aGlzLmNvbnRleHRUb3ApfV9jcmVhdGVDYWNoZUNhbnZhcygpe3RoaXMucGl4ZWxGaW5kQ2FudmFzRWw9cHQoKSx0aGlzLnBpeGVsRmluZENvbnRleHQ9dGhpcy5waXhlbEZpbmRDYW52YXNFbC5nZXRDb250ZXh0KFwiMmRcIix7d2lsbFJlYWRGcmVxdWVudGx5OiEwfSksdGhpcy5zZXRUYXJnZXRGaW5kVG9sZXJhbmNlKHRoaXMudGFyZ2V0RmluZFRvbGVyYW5jZSl9Z2V0VG9wQ29udGV4dCgpe3JldHVybiB0aGlzLmVsZW1lbnRzLnVwcGVyLmN0eH1nZXRTZWxlY3Rpb25Db250ZXh0KCl7cmV0dXJuIHRoaXMuZWxlbWVudHMudXBwZXIuY3R4fWdldFNlbGVjdGlvbkVsZW1lbnQoKXtyZXR1cm4gdGhpcy5lbGVtZW50cy51cHBlci5lbH1nZXRBY3RpdmVPYmplY3QoKXtyZXR1cm4gdGhpcy5fYWN0aXZlT2JqZWN0fWdldEFjdGl2ZU9iamVjdHMoKXtjb25zdCB0PXRoaXMuX2FjdGl2ZU9iamVjdDtyZXR1cm4gVXQodCk/dC5nZXRPYmplY3RzKCk6dD9bdF06W119X2ZpcmVTZWxlY3Rpb25FdmVudHModCxlKXtsZXQgcz0hMSxpPSExO2NvbnN0IHI9dGhpcy5nZXRBY3RpdmVPYmplY3RzKCksbj1bXSxvPVtdO3QuZm9yRWFjaCgodD0+e3IuaW5jbHVkZXModCl8fChzPSEwLHQuZmlyZShcImRlc2VsZWN0ZWRcIix7ZTplLHRhcmdldDp0fSksby5wdXNoKHQpKX0pKSxyLmZvckVhY2goKGk9Pnt0LmluY2x1ZGVzKGkpfHwocz0hMCxpLmZpcmUoXCJzZWxlY3RlZFwiLHtlOmUsdGFyZ2V0Oml9KSxuLnB1c2goaSkpfSkpLHQubGVuZ3RoPjAmJnIubGVuZ3RoPjA/KGk9ITAscyYmdGhpcy5maXJlKFwic2VsZWN0aW9uOnVwZGF0ZWRcIix7ZTplLHNlbGVjdGVkOm4sZGVzZWxlY3RlZDpvfSkpOnIubGVuZ3RoPjA/KGk9ITAsdGhpcy5maXJlKFwic2VsZWN0aW9uOmNyZWF0ZWRcIix7ZTplLHNlbGVjdGVkOm59KSk6dC5sZW5ndGg+MCYmKGk9ITAsdGhpcy5maXJlKFwic2VsZWN0aW9uOmNsZWFyZWRcIix7ZTplLGRlc2VsZWN0ZWQ6b30pKSxpJiYodGhpcy5fb2JqZWN0c1RvUmVuZGVyPXZvaWQgMCl9c2V0QWN0aXZlT2JqZWN0KHQsZSl7Y29uc3Qgcz10aGlzLmdldEFjdGl2ZU9iamVjdHMoKSxpPXRoaXMuX3NldEFjdGl2ZU9iamVjdCh0LGUpO3JldHVybiB0aGlzLl9maXJlU2VsZWN0aW9uRXZlbnRzKHMsZSksaX1fc2V0QWN0aXZlT2JqZWN0KHQsZSl7Y29uc3Qgcz10aGlzLl9hY3RpdmVPYmplY3Q7cmV0dXJuIHMhPT10JiYoISghdGhpcy5fZGlzY2FyZEFjdGl2ZU9iamVjdChlLHQpJiZ0aGlzLl9hY3RpdmVPYmplY3QpJiYoIXQub25TZWxlY3Qoe2U6ZX0pJiYodGhpcy5fYWN0aXZlT2JqZWN0PXQsVXQodCkmJnMhPT10JiZ0LnNldChcImNhbnZhc1wiLHRoaXMpLHQuc2V0Q29vcmRzKCksITApKSl9X2Rpc2NhcmRBY3RpdmVPYmplY3QodCxlKXtjb25zdCBzPXRoaXMuX2FjdGl2ZU9iamVjdDtyZXR1cm4hIXMmJighcy5vbkRlc2VsZWN0KHtlOnQsb2JqZWN0OmV9KSYmKHRoaXMuX2N1cnJlbnRUcmFuc2Zvcm0mJnRoaXMuX2N1cnJlbnRUcmFuc2Zvcm0udGFyZ2V0PT09cyYmdGhpcy5lbmRDdXJyZW50VHJhbnNmb3JtKHQpLFV0KHMpJiZzPT09dGhpcy5faG92ZXJlZFRhcmdldCYmKHRoaXMuX2hvdmVyZWRUYXJnZXQ9dm9pZCAwKSx0aGlzLl9hY3RpdmVPYmplY3Q9dm9pZCAwLCEwKSl9ZGlzY2FyZEFjdGl2ZU9iamVjdCh0KXtjb25zdCBlPXRoaXMuZ2V0QWN0aXZlT2JqZWN0cygpLHM9dGhpcy5nZXRBY3RpdmVPYmplY3QoKTtlLmxlbmd0aCYmdGhpcy5maXJlKFwiYmVmb3JlOnNlbGVjdGlvbjpjbGVhcmVkXCIse2U6dCxkZXNlbGVjdGVkOltzXX0pO2NvbnN0IGk9dGhpcy5fZGlzY2FyZEFjdGl2ZU9iamVjdCh0KTtyZXR1cm4gdGhpcy5fZmlyZVNlbGVjdGlvbkV2ZW50cyhlLHQpLGl9ZW5kQ3VycmVudFRyYW5zZm9ybSh0KXtjb25zdCBlPXRoaXMuX2N1cnJlbnRUcmFuc2Zvcm07dGhpcy5fZmluYWxpemVDdXJyZW50VHJhbnNmb3JtKHQpLGUmJmUudGFyZ2V0JiYoZS50YXJnZXQuaXNNb3Zpbmc9ITEpLHRoaXMuX2N1cnJlbnRUcmFuc2Zvcm09bnVsbH1fZmluYWxpemVDdXJyZW50VHJhbnNmb3JtKHQpe2NvbnN0IGU9dGhpcy5fY3VycmVudFRyYW5zZm9ybSxzPWUudGFyZ2V0LGk9e2U6dCx0YXJnZXQ6cyx0cmFuc2Zvcm06ZSxhY3Rpb246ZS5hY3Rpb259O3MuX3NjYWxpbmcmJihzLl9zY2FsaW5nPSExKSxzLnNldENvb3JkcygpLGUuYWN0aW9uUGVyZm9ybWVkJiYodGhpcy5maXJlKFwib2JqZWN0Om1vZGlmaWVkXCIsaSkscy5maXJlKFEsaSkpfXNldFZpZXdwb3J0VHJhbnNmb3JtKHQpe3N1cGVyLnNldFZpZXdwb3J0VHJhbnNmb3JtKHQpO2NvbnN0IGU9dGhpcy5fYWN0aXZlT2JqZWN0O2UmJmUuc2V0Q29vcmRzKCl9ZGVzdHJveSgpe2NvbnN0IHQ9dGhpcy5fYWN0aXZlT2JqZWN0O1V0KHQpJiYodC5yZW1vdmVBbGwoKSx0LmRpc3Bvc2UoKSksZGVsZXRlIHRoaXMuX2FjdGl2ZU9iamVjdCxzdXBlci5kZXN0cm95KCksdGhpcy5waXhlbEZpbmRDb250ZXh0PW51bGwsdGhpcy5waXhlbEZpbmRDYW52YXNFbD12b2lkIDB9Y2xlYXIoKXt0aGlzLmRpc2NhcmRBY3RpdmVPYmplY3QoKSx0aGlzLl9hY3RpdmVPYmplY3Q9dm9pZCAwLHRoaXMuY2xlYXJDb250ZXh0KHRoaXMuY29udGV4dFRvcCksc3VwZXIuY2xlYXIoKX1kcmF3Q29udHJvbHModCl7Y29uc3QgZT10aGlzLl9hY3RpdmVPYmplY3Q7ZSYmZS5fcmVuZGVyQ29udHJvbHModCl9X3RvT2JqZWN0KHQsZSxzKXtjb25zdCBpPXRoaXMuX3JlYWxpemVHcm91cFRyYW5zZm9ybU9uT2JqZWN0KHQpLHI9c3VwZXIuX3RvT2JqZWN0KHQsZSxzKTtyZXR1cm4gdC5zZXQoaSkscn1fcmVhbGl6ZUdyb3VwVHJhbnNmb3JtT25PYmplY3QodCl7Y29uc3R7Z3JvdXA6ZX09dDtpZihlJiZVdChlKSYmdGhpcy5fYWN0aXZlT2JqZWN0PT09ZSl7Y29uc3Qgcz1ZdCh0LFtcImFuZ2xlXCIsXCJmbGlwWFwiLFwiZmxpcFlcIixNLEgsTixVLHEsUF0pO3JldHVybiBsZSh0LGUuY2FsY093bk1hdHJpeCgpKSxzfXJldHVybnt9fV9zZXRTVkdPYmplY3QodCxlLHMpe2NvbnN0IGk9dGhpcy5fcmVhbGl6ZUdyb3VwVHJhbnNmb3JtT25PYmplY3QoZSk7c3VwZXIuX3NldFNWR09iamVjdCh0LGUscyksZS5zZXQoaSl9fXQoRW4sXCJvd25EZWZhdWx0c1wiLHt1bmlmb3JtU2NhbGluZzohMCx1bmlTY2FsZUtleTpcInNoaWZ0S2V5XCIsY2VudGVyZWRTY2FsaW5nOiExLGNlbnRlcmVkUm90YXRpb246ITEsY2VudGVyZWRLZXk6XCJhbHRLZXlcIixhbHRBY3Rpb25LZXk6XCJzaGlmdEtleVwiLHNlbGVjdGlvbjohMCxzZWxlY3Rpb25LZXk6XCJzaGlmdEtleVwiLHNlbGVjdGlvbkNvbG9yOlwicmdiYSgxMDAsIDEwMCwgMjU1LCAwLjMpXCIsc2VsZWN0aW9uRGFzaEFycmF5OltdLHNlbGVjdGlvbkJvcmRlckNvbG9yOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjMpXCIsc2VsZWN0aW9uTGluZVdpZHRoOjEsc2VsZWN0aW9uRnVsbHlDb250YWluZWQ6ITEsaG92ZXJDdXJzb3I6XCJtb3ZlXCIsbW92ZUN1cnNvcjpcIm1vdmVcIixkZWZhdWx0Q3Vyc29yOlwiZGVmYXVsdFwiLGZyZWVEcmF3aW5nQ3Vyc29yOlwiY3Jvc3NoYWlyXCIsbm90QWxsb3dlZEN1cnNvcjpcIm5vdC1hbGxvd2VkXCIscGVyUGl4ZWxUYXJnZXRGaW5kOiExLHRhcmdldEZpbmRUb2xlcmFuY2U6MCxza2lwVGFyZ2V0RmluZDohMSxzdG9wQ29udGV4dE1lbnU6ITEsZmlyZVJpZ2h0Q2xpY2s6ITEsZmlyZU1pZGRsZUNsaWNrOiExLGVuYWJsZVBvaW50ZXJFdmVudHM6ITEsY29udGFpbmVyQ2xhc3M6XCJjYW52YXMtY29udGFpbmVyXCIscHJlc2VydmVPYmplY3RTdGFja2luZzohMX0pO2NsYXNzIEFue2NvbnN0cnVjdG9yKGUpe3QodGhpcyxcInRhcmdldHNcIixbXSksdCh0aGlzLFwiX19kaXNwb3NlclwiLHZvaWQgMCk7Y29uc3Qgcz0oKT0+e2NvbnN0e2hpZGRlblRleHRhcmVhOnR9PWUuZ2V0QWN0aXZlT2JqZWN0KCl8fHt9O3QmJnQuZm9jdXMoKX0saT1lLnVwcGVyQ2FudmFzRWw7aS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixzKSx0aGlzLl9fZGlzcG9zZXI9KCk9PmkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIscyl9ZXhpdFRleHRFZGl0aW5nKCl7dGhpcy50YXJnZXQ9dm9pZCAwLHRoaXMudGFyZ2V0cy5mb3JFYWNoKCh0PT57dC5pc0VkaXRpbmcmJnQuZXhpdEVkaXRpbmcoKX0pKX1hZGQodCl7dGhpcy50YXJnZXRzLnB1c2godCl9cmVtb3ZlKHQpe3RoaXMudW5yZWdpc3Rlcih0KSxpdCh0aGlzLnRhcmdldHMsdCl9cmVnaXN0ZXIodCl7dGhpcy50YXJnZXQ9dH11bnJlZ2lzdGVyKHQpe3Q9PT10aGlzLnRhcmdldCYmKHRoaXMudGFyZ2V0PXZvaWQgMCl9b25Nb3VzZU1vdmUodCl7dmFyIGU7KG51bGw9PT0oZT10aGlzLnRhcmdldCl8fHZvaWQgMD09PWU/dm9pZCAwOmUuaXNFZGl0aW5nKSYmdGhpcy50YXJnZXQudXBkYXRlU2VsZWN0aW9uT25Nb3VzZU1vdmUodCl9Y2xlYXIoKXt0aGlzLnRhcmdldHM9W10sdGhpcy50YXJnZXQ9dm9pZCAwfWRpc3Bvc2UoKXt0aGlzLmNsZWFyKCksdGhpcy5fX2Rpc3Bvc2VyKCksZGVsZXRlIHRoaXMuX19kaXNwb3Nlcn19Y29uc3Qgam49W1widGFyZ2V0XCIsXCJvbGRUYXJnZXRcIixcImZpcmVDYW52YXNcIixcImVcIl0sRm49e3Bhc3NpdmU6ITF9LExuPSh0LGUpPT57Y29uc3Qgcz10LmdldFZpZXdwb3J0UG9pbnQoZSksaT10LmdldFNjZW5lUG9pbnQoZSk7cmV0dXJue3ZpZXdwb3J0UG9pbnQ6cyxzY2VuZVBvaW50OmkscG9pbnRlcjpzLGFic29sdXRlUG9pbnRlcjppfX0sUm49ZnVuY3Rpb24odCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgscz1uZXcgQXJyYXkoZT4xP2UtMTowKSxpPTE7aTxlO2krKylzW2ktMV09YXJndW1lbnRzW2ldO3JldHVybiB0LmFkZEV2ZW50TGlzdGVuZXIoLi4ucyl9LEluPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHM9bmV3IEFycmF5KGU+MT9lLTE6MCksaT0xO2k8ZTtpKyspc1tpLTFdPWFyZ3VtZW50c1tpXTtyZXR1cm4gdC5yZW1vdmVFdmVudExpc3RlbmVyKC4uLnMpfSxCbj17bW91c2U6e2luOlwib3ZlclwiLG91dDpcIm91dFwiLHRhcmdldEluOlwibW91c2VvdmVyXCIsdGFyZ2V0T3V0OlwibW91c2VvdXRcIixjYW52YXNJbjpcIm1vdXNlOm92ZXJcIixjYW52YXNPdXQ6XCJtb3VzZTpvdXRcIn0sZHJhZzp7aW46XCJlbnRlclwiLG91dDpcImxlYXZlXCIsdGFyZ2V0SW46XCJkcmFnZW50ZXJcIix0YXJnZXRPdXQ6XCJkcmFnbGVhdmVcIixjYW52YXNJbjpcImRyYWc6ZW50ZXJcIixjYW52YXNPdXQ6XCJkcmFnOmxlYXZlXCJ9fTtjbGFzcyBYbiBleHRlbmRzIEVue2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUsYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9KSx0KHRoaXMsXCJfaXNDbGlja1wiLHZvaWQgMCksdCh0aGlzLFwidGV4dEVkaXRpbmdNYW5hZ2VyXCIsbmV3IEFuKHRoaXMpKSxbXCJfb25Nb3VzZURvd25cIixcIl9vblRvdWNoU3RhcnRcIixcIl9vbk1vdXNlTW92ZVwiLFwiX29uTW91c2VVcFwiLFwiX29uVG91Y2hFbmRcIixcIl9vblJlc2l6ZVwiLFwiX29uTW91c2VXaGVlbFwiLFwiX29uTW91c2VPdXRcIixcIl9vbk1vdXNlRW50ZXJcIixcIl9vbkNvbnRleHRNZW51XCIsXCJfb25DbGlja1wiLFwiX29uRHJhZ1N0YXJ0XCIsXCJfb25EcmFnRW5kXCIsXCJfb25EcmFnUHJvZ3Jlc3NcIixcIl9vbkRyYWdPdmVyXCIsXCJfb25EcmFnRW50ZXJcIixcIl9vbkRyYWdMZWF2ZVwiLFwiX29uRHJvcFwiXS5mb3JFYWNoKCh0PT57dGhpc1t0XT10aGlzW3RdLmJpbmQodGhpcyl9KSksdGhpcy5hZGRPclJlbW92ZShSbixcImFkZFwiKX1fZ2V0RXZlbnRQcmVmaXgoKXtyZXR1cm4gdGhpcy5lbmFibGVQb2ludGVyRXZlbnRzP1wicG9pbnRlclwiOlwibW91c2VcIn1hZGRPclJlbW92ZSh0LGUpe2NvbnN0IHM9dGhpcy51cHBlckNhbnZhc0VsLGk9dGhpcy5fZ2V0RXZlbnRQcmVmaXgoKTt0KEp0KHMpLFwicmVzaXplXCIsdGhpcy5fb25SZXNpemUpLHQocyxpK1wiZG93blwiLHRoaXMuX29uTW91c2VEb3duKSx0KHMsXCJcIi5jb25jYXQoaSxcIm1vdmVcIiksdGhpcy5fb25Nb3VzZU1vdmUsRm4pLHQocyxcIlwiLmNvbmNhdChpLFwib3V0XCIpLHRoaXMuX29uTW91c2VPdXQpLHQocyxcIlwiLmNvbmNhdChpLFwiZW50ZXJcIiksdGhpcy5fb25Nb3VzZUVudGVyKSx0KHMsXCJ3aGVlbFwiLHRoaXMuX29uTW91c2VXaGVlbCx7cGFzc2l2ZTohMX0pLHQocyxcImNvbnRleHRtZW51XCIsdGhpcy5fb25Db250ZXh0TWVudSksdChzLFwiY2xpY2tcIix0aGlzLl9vbkNsaWNrKSx0KHMsXCJkYmxjbGlja1wiLHRoaXMuX29uQ2xpY2spLHQocyxcImRyYWdzdGFydFwiLHRoaXMuX29uRHJhZ1N0YXJ0KSx0KHMsXCJkcmFnZW5kXCIsdGhpcy5fb25EcmFnRW5kKSx0KHMsXCJkcmFnb3ZlclwiLHRoaXMuX29uRHJhZ092ZXIpLHQocyxcImRyYWdlbnRlclwiLHRoaXMuX29uRHJhZ0VudGVyKSx0KHMsXCJkcmFnbGVhdmVcIix0aGlzLl9vbkRyYWdMZWF2ZSksdChzLFwiZHJvcFwiLHRoaXMuX29uRHJvcCksdGhpcy5lbmFibGVQb2ludGVyRXZlbnRzfHx0KHMsXCJ0b3VjaHN0YXJ0XCIsdGhpcy5fb25Ub3VjaFN0YXJ0LEZuKX1yZW1vdmVMaXN0ZW5lcnMoKXt0aGlzLmFkZE9yUmVtb3ZlKEluLFwicmVtb3ZlXCIpO2NvbnN0IHQ9dGhpcy5fZ2V0RXZlbnRQcmVmaXgoKSxlPUt0KHRoaXMudXBwZXJDYW52YXNFbCk7SW4oZSxcIlwiLmNvbmNhdCh0LFwidXBcIiksdGhpcy5fb25Nb3VzZVVwKSxJbihlLFwidG91Y2hlbmRcIix0aGlzLl9vblRvdWNoRW5kLEZuKSxJbihlLFwiXCIuY29uY2F0KHQsXCJtb3ZlXCIpLHRoaXMuX29uTW91c2VNb3ZlLEZuKSxJbihlLFwidG91Y2htb3ZlXCIsdGhpcy5fb25Nb3VzZU1vdmUsRm4pLGNsZWFyVGltZW91dCh0aGlzLl93aWxsQWRkTW91c2VEb3duKX1fb25Nb3VzZVdoZWVsKHQpe3RoaXMuX19vbk1vdXNlV2hlZWwodCl9X29uTW91c2VPdXQodCl7Y29uc3QgZT10aGlzLl9ob3ZlcmVkVGFyZ2V0LGk9cyh7ZTp0fSxMbih0aGlzLHQpKTt0aGlzLmZpcmUoXCJtb3VzZTpvdXRcIixzKHMoe30saSkse30se3RhcmdldDplfSkpLHRoaXMuX2hvdmVyZWRUYXJnZXQ9dm9pZCAwLGUmJmUuZmlyZShcIm1vdXNlb3V0XCIscyh7fSxpKSksdGhpcy5faG92ZXJlZFRhcmdldHMuZm9yRWFjaCgodD0+e3RoaXMuZmlyZShcIm1vdXNlOm91dFwiLHMocyh7fSxpKSx7fSx7dGFyZ2V0OnR9KSksdCYmdC5maXJlKFwibW91c2VvdXRcIixzKHt9LGkpKX0pKSx0aGlzLl9ob3ZlcmVkVGFyZ2V0cz1bXX1fb25Nb3VzZUVudGVyKHQpe3RoaXMuX2N1cnJlbnRUcmFuc2Zvcm18fHRoaXMuZmluZFRhcmdldCh0KXx8KHRoaXMuZmlyZShcIm1vdXNlOm92ZXJcIixzKHtlOnR9LExuKHRoaXMsdCkpKSx0aGlzLl9ob3ZlcmVkVGFyZ2V0PXZvaWQgMCx0aGlzLl9ob3ZlcmVkVGFyZ2V0cz1bXSl9X29uRHJhZ1N0YXJ0KHQpe3RoaXMuX2lzQ2xpY2s9ITE7Y29uc3QgZT10aGlzLmdldEFjdGl2ZU9iamVjdCgpO2lmKGUmJmUub25EcmFnU3RhcnQodCkpe3RoaXMuX2RyYWdTb3VyY2U9ZTtjb25zdCBzPXtlOnQsdGFyZ2V0OmV9O3JldHVybiB0aGlzLmZpcmUoXCJkcmFnc3RhcnRcIixzKSxlLmZpcmUoXCJkcmFnc3RhcnRcIixzKSx2b2lkIFJuKHRoaXMudXBwZXJDYW52YXNFbCxcImRyYWdcIix0aGlzLl9vbkRyYWdQcm9ncmVzcyl9YWUodCl9X3JlbmRlckRyYWdFZmZlY3RzKHQsZSxzKXtsZXQgaT0hMTtjb25zdCByPXRoaXMuX2Ryb3BUYXJnZXQ7ciYmciE9PWUmJnIhPT1zJiYoci5jbGVhckNvbnRleHRUb3AoKSxpPSEwKSxudWxsPT1lfHxlLmNsZWFyQ29udGV4dFRvcCgpLHMhPT1lJiYobnVsbD09c3x8cy5jbGVhckNvbnRleHRUb3AoKSk7Y29uc3Qgbj10aGlzLmNvbnRleHRUb3A7bi5zYXZlKCksbi50cmFuc2Zvcm0oLi4udGhpcy52aWV3cG9ydFRyYW5zZm9ybSksZSYmKG4uc2F2ZSgpLGUudHJhbnNmb3JtKG4pLGUucmVuZGVyRHJhZ1NvdXJjZUVmZmVjdCh0KSxuLnJlc3RvcmUoKSxpPSEwKSxzJiYobi5zYXZlKCkscy50cmFuc2Zvcm0obikscy5yZW5kZXJEcm9wVGFyZ2V0RWZmZWN0KHQpLG4ucmVzdG9yZSgpLGk9ITApLG4ucmVzdG9yZSgpLGkmJih0aGlzLmNvbnRleHRUb3BEaXJ0eT0hMCl9X29uRHJhZ0VuZCh0KXtjb25zdCBlPSEhdC5kYXRhVHJhbnNmZXImJnQuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QhPT1qLHM9ZT90aGlzLl9hY3RpdmVPYmplY3Q6dm9pZCAwLGk9e2U6dCx0YXJnZXQ6dGhpcy5fZHJhZ1NvdXJjZSxzdWJUYXJnZXRzOnRoaXMudGFyZ2V0cyxkcmFnU291cmNlOnRoaXMuX2RyYWdTb3VyY2UsZGlkRHJvcDplLGRyb3BUYXJnZXQ6c307SW4odGhpcy51cHBlckNhbnZhc0VsLFwiZHJhZ1wiLHRoaXMuX29uRHJhZ1Byb2dyZXNzKSx0aGlzLmZpcmUoXCJkcmFnZW5kXCIsaSksdGhpcy5fZHJhZ1NvdXJjZSYmdGhpcy5fZHJhZ1NvdXJjZS5maXJlKFwiZHJhZ2VuZFwiLGkpLGRlbGV0ZSB0aGlzLl9kcmFnU291cmNlLHRoaXMuX29uTW91c2VVcCh0KX1fb25EcmFnUHJvZ3Jlc3ModCl7Y29uc3QgZT17ZTp0LHRhcmdldDp0aGlzLl9kcmFnU291cmNlLGRyYWdTb3VyY2U6dGhpcy5fZHJhZ1NvdXJjZSxkcm9wVGFyZ2V0OnRoaXMuX2RyYWdnZWRvdmVyVGFyZ2V0fTt0aGlzLmZpcmUoXCJkcmFnXCIsZSksdGhpcy5fZHJhZ1NvdXJjZSYmdGhpcy5fZHJhZ1NvdXJjZS5maXJlKFwiZHJhZ1wiLGUpfWZpbmREcmFnVGFyZ2V0cyh0KXt0aGlzLnRhcmdldHM9W107cmV0dXJue3RhcmdldDp0aGlzLl9zZWFyY2hQb3NzaWJsZVRhcmdldHModGhpcy5fb2JqZWN0cyx0aGlzLmdldFZpZXdwb3J0UG9pbnQodCkpLHRhcmdldHM6Wy4uLnRoaXMudGFyZ2V0c119fV9vbkRyYWdPdmVyKHQpe2NvbnN0IGU9XCJkcmFnb3ZlclwiLHt0YXJnZXQ6cyx0YXJnZXRzOml9PXRoaXMuZmluZERyYWdUYXJnZXRzKHQpLHI9dGhpcy5fZHJhZ1NvdXJjZSxuPXtlOnQsdGFyZ2V0OnMsc3ViVGFyZ2V0czppLGRyYWdTb3VyY2U6cixjYW5Ecm9wOiExLGRyb3BUYXJnZXQ6dm9pZCAwfTtsZXQgbzt0aGlzLmZpcmUoZSxuKSx0aGlzLl9maXJlRW50ZXJMZWF2ZUV2ZW50cyhzLG4pLHMmJihzLmNhbkRyb3AodCkmJihvPXMpLHMuZmlyZShlLG4pKTtmb3IobGV0IHM9MDtzPGkubGVuZ3RoO3MrKyl7Y29uc3Qgcj1pW3NdO3IuY2FuRHJvcCh0KSYmKG89ciksci5maXJlKGUsbil9dGhpcy5fcmVuZGVyRHJhZ0VmZmVjdHModCxyLG8pLHRoaXMuX2Ryb3BUYXJnZXQ9b31fb25EcmFnRW50ZXIodCl7Y29uc3R7dGFyZ2V0OmUsdGFyZ2V0czpzfT10aGlzLmZpbmREcmFnVGFyZ2V0cyh0KSxpPXtlOnQsdGFyZ2V0OmUsc3ViVGFyZ2V0czpzLGRyYWdTb3VyY2U6dGhpcy5fZHJhZ1NvdXJjZX07dGhpcy5maXJlKFwiZHJhZ2VudGVyXCIsaSksdGhpcy5fZmlyZUVudGVyTGVhdmVFdmVudHMoZSxpKX1fb25EcmFnTGVhdmUodCl7Y29uc3QgZT17ZTp0LHRhcmdldDp0aGlzLl9kcmFnZ2Vkb3ZlclRhcmdldCxzdWJUYXJnZXRzOnRoaXMudGFyZ2V0cyxkcmFnU291cmNlOnRoaXMuX2RyYWdTb3VyY2V9O3RoaXMuZmlyZShcImRyYWdsZWF2ZVwiLGUpLHRoaXMuX2ZpcmVFbnRlckxlYXZlRXZlbnRzKHZvaWQgMCxlKSx0aGlzLl9yZW5kZXJEcmFnRWZmZWN0cyh0LHRoaXMuX2RyYWdTb3VyY2UpLHRoaXMuX2Ryb3BUYXJnZXQ9dm9pZCAwLHRoaXMudGFyZ2V0cz1bXSx0aGlzLl9ob3ZlcmVkVGFyZ2V0cz1bXX1fb25Ecm9wKHQpe2NvbnN0e3RhcmdldDplLHRhcmdldHM6aX09dGhpcy5maW5kRHJhZ1RhcmdldHModCkscj10aGlzLl9iYXNpY0V2ZW50SGFuZGxlcihcImRyb3A6YmVmb3JlXCIscyh7ZTp0LHRhcmdldDplLHN1YlRhcmdldHM6aSxkcmFnU291cmNlOnRoaXMuX2RyYWdTb3VyY2V9LExuKHRoaXMsdCkpKTtyLmRpZERyb3A9ITEsci5kcm9wVGFyZ2V0PXZvaWQgMCx0aGlzLl9iYXNpY0V2ZW50SGFuZGxlcihcImRyb3BcIixyKSx0aGlzLmZpcmUoXCJkcm9wOmFmdGVyXCIscil9X29uQ29udGV4dE1lbnUodCl7Y29uc3QgZT10aGlzLmZpbmRUYXJnZXQodCkscz10aGlzLnRhcmdldHN8fFtdLGk9dGhpcy5fYmFzaWNFdmVudEhhbmRsZXIoXCJjb250ZXh0bWVudTpiZWZvcmVcIix7ZTp0LHRhcmdldDplLHN1YlRhcmdldHM6c30pO3JldHVybiB0aGlzLnN0b3BDb250ZXh0TWVudSYmYWUodCksdGhpcy5fYmFzaWNFdmVudEhhbmRsZXIoXCJjb250ZXh0bWVudVwiLGkpLCExfV9vbkNsaWNrKHQpe2NvbnN0IGU9dC5kZXRhaWw7ZT4zfHxlPDJ8fCh0aGlzLl9jYWNoZVRyYW5zZm9ybUV2ZW50RGF0YSh0KSwyPT1lJiZcImRibGNsaWNrXCI9PT10LnR5cGUmJnRoaXMuX2hhbmRsZUV2ZW50KHQsXCJkYmxjbGlja1wiKSwzPT1lJiZ0aGlzLl9oYW5kbGVFdmVudCh0LFwidHJpcGxlY2xpY2tcIiksdGhpcy5fcmVzZXRUcmFuc2Zvcm1FdmVudERhdGEoKSl9Z2V0UG9pbnRlcklkKHQpe2NvbnN0IGU9dC5jaGFuZ2VkVG91Y2hlcztyZXR1cm4gZT9lWzBdJiZlWzBdLmlkZW50aWZpZXI6dGhpcy5lbmFibGVQb2ludGVyRXZlbnRzP3QucG9pbnRlcklkOi0xfV9pc01haW5FdmVudCh0KXtyZXR1cm4hMD09PXQuaXNQcmltYXJ5fHwhMSE9PXQuaXNQcmltYXJ5JiYoXCJ0b3VjaGVuZFwiPT09dC50eXBlJiYwPT09dC50b3VjaGVzLmxlbmd0aHx8KCF0LmNoYW5nZWRUb3VjaGVzfHx0LmNoYW5nZWRUb3VjaGVzWzBdLmlkZW50aWZpZXI9PT10aGlzLm1haW5Ub3VjaElkKSl9X29uVG91Y2hTdGFydCh0KXtsZXQgZT0hdGhpcy5hbGxvd1RvdWNoU2Nyb2xsaW5nO2NvbnN0IHM9dGhpcy5fYWN0aXZlT2JqZWN0O3ZvaWQgMD09PXRoaXMubWFpblRvdWNoSWQmJih0aGlzLm1haW5Ub3VjaElkPXRoaXMuZ2V0UG9pbnRlcklkKHQpKSx0aGlzLl9fb25Nb3VzZURvd24odCksKHRoaXMuaXNEcmF3aW5nTW9kZXx8cyYmdGhpcy5fdGFyZ2V0PT09cykmJihlPSEwKSxlJiZ0LnByZXZlbnREZWZhdWx0KCksdGhpcy5fcmVzZXRUcmFuc2Zvcm1FdmVudERhdGEoKTtjb25zdCBpPXRoaXMudXBwZXJDYW52YXNFbCxyPXRoaXMuX2dldEV2ZW50UHJlZml4KCksbj1LdChpKTtSbihuLFwidG91Y2hlbmRcIix0aGlzLl9vblRvdWNoRW5kLEZuKSxlJiZSbihuLFwidG91Y2htb3ZlXCIsdGhpcy5fb25Nb3VzZU1vdmUsRm4pLEluKGksXCJcIi5jb25jYXQocixcImRvd25cIiksdGhpcy5fb25Nb3VzZURvd24pfV9vbk1vdXNlRG93bih0KXt0aGlzLl9fb25Nb3VzZURvd24odCksdGhpcy5fcmVzZXRUcmFuc2Zvcm1FdmVudERhdGEoKTtjb25zdCBlPXRoaXMudXBwZXJDYW52YXNFbCxzPXRoaXMuX2dldEV2ZW50UHJlZml4KCk7SW4oZSxcIlwiLmNvbmNhdChzLFwibW92ZVwiKSx0aGlzLl9vbk1vdXNlTW92ZSxGbik7Y29uc3QgaT1LdChlKTtSbihpLFwiXCIuY29uY2F0KHMsXCJ1cFwiKSx0aGlzLl9vbk1vdXNlVXApLFJuKGksXCJcIi5jb25jYXQocyxcIm1vdmVcIiksdGhpcy5fb25Nb3VzZU1vdmUsRm4pfV9vblRvdWNoRW5kKHQpe2lmKHQudG91Y2hlcy5sZW5ndGg+MClyZXR1cm47dGhpcy5fX29uTW91c2VVcCh0KSx0aGlzLl9yZXNldFRyYW5zZm9ybUV2ZW50RGF0YSgpLGRlbGV0ZSB0aGlzLm1haW5Ub3VjaElkO2NvbnN0IGU9dGhpcy5fZ2V0RXZlbnRQcmVmaXgoKSxzPUt0KHRoaXMudXBwZXJDYW52YXNFbCk7SW4ocyxcInRvdWNoZW5kXCIsdGhpcy5fb25Ub3VjaEVuZCxGbiksSW4ocyxcInRvdWNobW92ZVwiLHRoaXMuX29uTW91c2VNb3ZlLEZuKSx0aGlzLl93aWxsQWRkTW91c2VEb3duJiZjbGVhclRpbWVvdXQodGhpcy5fd2lsbEFkZE1vdXNlRG93biksdGhpcy5fd2lsbEFkZE1vdXNlRG93bj1zZXRUaW1lb3V0KCgoKT0+e1JuKHRoaXMudXBwZXJDYW52YXNFbCxcIlwiLmNvbmNhdChlLFwiZG93blwiKSx0aGlzLl9vbk1vdXNlRG93biksdGhpcy5fd2lsbEFkZE1vdXNlRG93bj0wfSksNDAwKX1fb25Nb3VzZVVwKHQpe3RoaXMuX19vbk1vdXNlVXAodCksdGhpcy5fcmVzZXRUcmFuc2Zvcm1FdmVudERhdGEoKTtjb25zdCBlPXRoaXMudXBwZXJDYW52YXNFbCxzPXRoaXMuX2dldEV2ZW50UHJlZml4KCk7aWYodGhpcy5faXNNYWluRXZlbnQodCkpe2NvbnN0IHQ9S3QodGhpcy51cHBlckNhbnZhc0VsKTtJbih0LFwiXCIuY29uY2F0KHMsXCJ1cFwiKSx0aGlzLl9vbk1vdXNlVXApLEluKHQsXCJcIi5jb25jYXQocyxcIm1vdmVcIiksdGhpcy5fb25Nb3VzZU1vdmUsRm4pLFJuKGUsXCJcIi5jb25jYXQocyxcIm1vdmVcIiksdGhpcy5fb25Nb3VzZU1vdmUsRm4pfX1fb25Nb3VzZU1vdmUodCl7Y29uc3QgZT10aGlzLmdldEFjdGl2ZU9iamVjdCgpOyF0aGlzLmFsbG93VG91Y2hTY3JvbGxpbmcmJighZXx8IWUuc2hvdWxkU3RhcnREcmFnZ2luZyh0KSkmJnQucHJldmVudERlZmF1bHQmJnQucHJldmVudERlZmF1bHQoKSx0aGlzLl9fb25Nb3VzZU1vdmUodCl9X29uUmVzaXplKCl7dGhpcy5jYWxjT2Zmc2V0KCksdGhpcy5fcmVzZXRUcmFuc2Zvcm1FdmVudERhdGEoKX1fc2hvdWxkUmVuZGVyKHQpe2NvbnN0IGU9dGhpcy5nZXRBY3RpdmVPYmplY3QoKTtyZXR1cm4hIWUhPSEhdHx8ZSYmdCYmZSE9PXR9X19vbk1vdXNlVXAodCl7dmFyIGU7dGhpcy5fY2FjaGVUcmFuc2Zvcm1FdmVudERhdGEodCksdGhpcy5faGFuZGxlRXZlbnQodCxcInVwOmJlZm9yZVwiKTtjb25zdCBzPXRoaXMuX2N1cnJlbnRUcmFuc2Zvcm0saT10aGlzLl9pc0NsaWNrLHI9dGhpcy5fdGFyZ2V0LHtidXR0b246bn09dDtpZihuKXJldHVybih0aGlzLmZpcmVNaWRkbGVDbGljayYmMT09PW58fHRoaXMuZmlyZVJpZ2h0Q2xpY2smJjI9PT1uKSYmdGhpcy5faGFuZGxlRXZlbnQodCxcInVwXCIpLHZvaWQgdGhpcy5fcmVzZXRUcmFuc2Zvcm1FdmVudERhdGEoKTtpZih0aGlzLmlzRHJhd2luZ01vZGUmJnRoaXMuX2lzQ3VycmVudGx5RHJhd2luZylyZXR1cm4gdm9pZCB0aGlzLl9vbk1vdXNlVXBJbkRyYXdpbmdNb2RlKHQpO2lmKCF0aGlzLl9pc01haW5FdmVudCh0KSlyZXR1cm47bGV0IG8sYSxoPSExO2lmKHMmJih0aGlzLl9maW5hbGl6ZUN1cnJlbnRUcmFuc2Zvcm0odCksaD1zLmFjdGlvblBlcmZvcm1lZCksIWkpe2NvbnN0IGU9cj09PXRoaXMuX2FjdGl2ZU9iamVjdDt0aGlzLmhhbmRsZVNlbGVjdGlvbih0KSxofHwoaD10aGlzLl9zaG91bGRSZW5kZXIocil8fCFlJiZyPT09dGhpcy5fYWN0aXZlT2JqZWN0KX1pZihyKXtjb25zdCBlPXIuZmluZENvbnRyb2wodGhpcy5nZXRWaWV3cG9ydFBvaW50KHQpLG9lKHQpKSx7a2V5OmksY29udHJvbDpufT1lfHx7fTtpZihhPWksci5zZWxlY3RhYmxlJiZyIT09dGhpcy5fYWN0aXZlT2JqZWN0JiZcInVwXCI9PT1yLmFjdGl2ZU9uKXRoaXMuc2V0QWN0aXZlT2JqZWN0KHIsdCksaD0hMDtlbHNlIGlmKG4pe2NvbnN0IGU9bi5nZXRNb3VzZVVwSGFuZGxlcih0LHIsbik7ZSYmKG89dGhpcy5nZXRTY2VuZVBvaW50KHQpLGUuY2FsbChuLHQscyxvLngsby55KSl9ci5pc01vdmluZz0hMX1pZihzJiYocy50YXJnZXQhPT1yfHxzLmNvcm5lciE9PWEpKXtjb25zdCBlPXMudGFyZ2V0JiZzLnRhcmdldC5jb250cm9sc1tzLmNvcm5lcl0saT1lJiZlLmdldE1vdXNlVXBIYW5kbGVyKHQscy50YXJnZXQsZSk7bz1vfHx0aGlzLmdldFNjZW5lUG9pbnQodCksaSYmaS5jYWxsKGUsdCxzLG8ueCxvLnkpfXRoaXMuX3NldEN1cnNvckZyb21FdmVudCh0LHIpLHRoaXMuX2hhbmRsZUV2ZW50KHQsXCJ1cFwiKSx0aGlzLl9ncm91cFNlbGVjdG9yPW51bGwsdGhpcy5fY3VycmVudFRyYW5zZm9ybT1udWxsLHImJihyLl9fY29ybmVyPXZvaWQgMCksaD90aGlzLnJlcXVlc3RSZW5kZXJBbGwoKTppfHxudWxsIT09KGU9dGhpcy5fYWN0aXZlT2JqZWN0KSYmdm9pZCAwIT09ZSYmZS5pc0VkaXRpbmd8fHRoaXMucmVuZGVyVG9wKCl9X2Jhc2ljRXZlbnRIYW5kbGVyKHQsZSl7Y29uc3R7dGFyZ2V0OnMsc3ViVGFyZ2V0czppPVtdfT1lO3RoaXMuZmlyZSh0LGUpLHMmJnMuZmlyZSh0LGUpO2ZvcihsZXQgcj0wO3I8aS5sZW5ndGg7cisrKWlbcl0hPT1zJiZpW3JdLmZpcmUodCxlKTtyZXR1cm4gZX1faGFuZGxlRXZlbnQodCxlLGkpe2NvbnN0IHI9dGhpcy5fdGFyZ2V0LG49dGhpcy50YXJnZXRzfHxbXSxvPXMocyhzKHtlOnQsdGFyZ2V0OnIsc3ViVGFyZ2V0czpufSxMbih0aGlzLHQpKSx7fSx7dHJhbnNmb3JtOnRoaXMuX2N1cnJlbnRUcmFuc2Zvcm19LFwidXA6YmVmb3JlXCI9PT1lfHxcInVwXCI9PT1lP3tpc0NsaWNrOnRoaXMuX2lzQ2xpY2ssY3VycmVudFRhcmdldDp0aGlzLmZpbmRUYXJnZXQodCksY3VycmVudFN1YlRhcmdldHM6dGhpcy50YXJnZXRzfTp7fSksXCJkb3duOmJlZm9yZVwiPT09ZXx8XCJkb3duXCI9PT1lP2k6e30pO3RoaXMuZmlyZShcIm1vdXNlOlwiLmNvbmNhdChlKSxvKSxyJiZyLmZpcmUoXCJtb3VzZVwiLmNvbmNhdChlKSxvKTtmb3IobGV0IHQ9MDt0PG4ubGVuZ3RoO3QrKyluW3RdIT09ciYmblt0XS5maXJlKFwibW91c2VcIi5jb25jYXQoZSksbyl9X29uTW91c2VEb3duSW5EcmF3aW5nTW9kZSh0KXt0aGlzLl9pc0N1cnJlbnRseURyYXdpbmc9ITAsdGhpcy5nZXRBY3RpdmVPYmplY3QoKSYmKHRoaXMuZGlzY2FyZEFjdGl2ZU9iamVjdCh0KSx0aGlzLnJlcXVlc3RSZW5kZXJBbGwoKSk7Y29uc3QgZT10aGlzLmdldFNjZW5lUG9pbnQodCk7dGhpcy5mcmVlRHJhd2luZ0JydXNoJiZ0aGlzLmZyZWVEcmF3aW5nQnJ1c2gub25Nb3VzZURvd24oZSx7ZTp0LHBvaW50ZXI6ZX0pLHRoaXMuX2hhbmRsZUV2ZW50KHQsXCJkb3duXCIse2FscmVhZHlTZWxlY3RlZDohMX0pfV9vbk1vdXNlTW92ZUluRHJhd2luZ01vZGUodCl7aWYodGhpcy5faXNDdXJyZW50bHlEcmF3aW5nKXtjb25zdCBlPXRoaXMuZ2V0U2NlbmVQb2ludCh0KTt0aGlzLmZyZWVEcmF3aW5nQnJ1c2gmJnRoaXMuZnJlZURyYXdpbmdCcnVzaC5vbk1vdXNlTW92ZShlLHtlOnQscG9pbnRlcjplfSl9dGhpcy5zZXRDdXJzb3IodGhpcy5mcmVlRHJhd2luZ0N1cnNvciksdGhpcy5faGFuZGxlRXZlbnQodCxcIm1vdmVcIil9X29uTW91c2VVcEluRHJhd2luZ01vZGUodCl7Y29uc3QgZT10aGlzLmdldFNjZW5lUG9pbnQodCk7dGhpcy5mcmVlRHJhd2luZ0JydXNoP3RoaXMuX2lzQ3VycmVudGx5RHJhd2luZz0hIXRoaXMuZnJlZURyYXdpbmdCcnVzaC5vbk1vdXNlVXAoe2U6dCxwb2ludGVyOmV9KTp0aGlzLl9pc0N1cnJlbnRseURyYXdpbmc9ITEsdGhpcy5faGFuZGxlRXZlbnQodCxcInVwXCIpfV9fb25Nb3VzZURvd24odCl7dGhpcy5faXNDbGljaz0hMCx0aGlzLl9jYWNoZVRyYW5zZm9ybUV2ZW50RGF0YSh0KSx0aGlzLl9oYW5kbGVFdmVudCh0LFwiZG93bjpiZWZvcmVcIik7bGV0IGU9dGhpcy5fdGFyZ2V0LHM9ISFlJiZlPT09dGhpcy5fYWN0aXZlT2JqZWN0O2NvbnN0e2J1dHRvbjppfT10O2lmKGkpcmV0dXJuKHRoaXMuZmlyZU1pZGRsZUNsaWNrJiYxPT09aXx8dGhpcy5maXJlUmlnaHRDbGljayYmMj09PWkpJiZ0aGlzLl9oYW5kbGVFdmVudCh0LFwiZG93blwiLHthbHJlYWR5U2VsZWN0ZWQ6c30pLHZvaWQgdGhpcy5fcmVzZXRUcmFuc2Zvcm1FdmVudERhdGEoKTtpZih0aGlzLmlzRHJhd2luZ01vZGUpcmV0dXJuIHZvaWQgdGhpcy5fb25Nb3VzZURvd25JbkRyYXdpbmdNb2RlKHQpO2lmKCF0aGlzLl9pc01haW5FdmVudCh0KSlyZXR1cm47aWYodGhpcy5fY3VycmVudFRyYW5zZm9ybSlyZXR1cm47bGV0IHI9dGhpcy5fc2hvdWxkUmVuZGVyKGUpLG49ITE7aWYodGhpcy5oYW5kbGVNdWx0aVNlbGVjdGlvbih0LGUpPyhlPXRoaXMuX2FjdGl2ZU9iamVjdCxuPSEwLHI9ITApOnRoaXMuX3Nob3VsZENsZWFyU2VsZWN0aW9uKHQsZSkmJnRoaXMuZGlzY2FyZEFjdGl2ZU9iamVjdCh0KSx0aGlzLnNlbGVjdGlvbiYmKCFlfHwhZS5zZWxlY3RhYmxlJiYhZS5pc0VkaXRpbmcmJmUhPT10aGlzLl9hY3RpdmVPYmplY3QpKXtjb25zdCBlPXRoaXMuZ2V0U2NlbmVQb2ludCh0KTt0aGlzLl9ncm91cFNlbGVjdG9yPXt4OmUueCx5OmUueSxkZWx0YVk6MCxkZWx0YVg6MH19aWYocz0hIWUmJmU9PT10aGlzLl9hY3RpdmVPYmplY3QsZSl7ZS5zZWxlY3RhYmxlJiZcImRvd25cIj09PWUuYWN0aXZlT24mJnRoaXMuc2V0QWN0aXZlT2JqZWN0KGUsdCk7Y29uc3QgaT1lLmZpbmRDb250cm9sKHRoaXMuZ2V0Vmlld3BvcnRQb2ludCh0KSxvZSh0KSk7aWYoZT09PXRoaXMuX2FjdGl2ZU9iamVjdCYmKGl8fCFuKSl7dGhpcy5fc2V0dXBDdXJyZW50VHJhbnNmb3JtKHQsZSxzKTtjb25zdCByPWk/aS5jb250cm9sOnZvaWQgMCxuPXRoaXMuZ2V0U2NlbmVQb2ludCh0KSxvPXImJnIuZ2V0TW91c2VEb3duSGFuZGxlcih0LGUscik7byYmby5jYWxsKHIsdCx0aGlzLl9jdXJyZW50VHJhbnNmb3JtLG4ueCxuLnkpfX1yJiYodGhpcy5fb2JqZWN0c1RvUmVuZGVyPXZvaWQgMCksdGhpcy5faGFuZGxlRXZlbnQodCxcImRvd25cIix7YWxyZWFkeVNlbGVjdGVkOnN9KSxyJiZ0aGlzLnJlcXVlc3RSZW5kZXJBbGwoKX1fcmVzZXRUcmFuc2Zvcm1FdmVudERhdGEoKXt0aGlzLl90YXJnZXQ9dGhpcy5fcG9pbnRlcj10aGlzLl9hYnNvbHV0ZVBvaW50ZXI9dm9pZCAwfV9jYWNoZVRyYW5zZm9ybUV2ZW50RGF0YSh0KXt0aGlzLl9yZXNldFRyYW5zZm9ybUV2ZW50RGF0YSgpLHRoaXMuX3BvaW50ZXI9dGhpcy5nZXRWaWV3cG9ydFBvaW50KHQpLHRoaXMuX2Fic29sdXRlUG9pbnRlcj1tZSh0aGlzLl9wb2ludGVyLHZvaWQgMCx0aGlzLnZpZXdwb3J0VHJhbnNmb3JtKSx0aGlzLl90YXJnZXQ9dGhpcy5fY3VycmVudFRyYW5zZm9ybT90aGlzLl9jdXJyZW50VHJhbnNmb3JtLnRhcmdldDp0aGlzLmZpbmRUYXJnZXQodCl9X19vbk1vdXNlTW92ZSh0KXtpZih0aGlzLl9pc0NsaWNrPSExLHRoaXMuX2NhY2hlVHJhbnNmb3JtRXZlbnREYXRhKHQpLHRoaXMuX2hhbmRsZUV2ZW50KHQsXCJtb3ZlOmJlZm9yZVwiKSx0aGlzLmlzRHJhd2luZ01vZGUpcmV0dXJuIHZvaWQgdGhpcy5fb25Nb3VzZU1vdmVJbkRyYXdpbmdNb2RlKHQpO2lmKCF0aGlzLl9pc01haW5FdmVudCh0KSlyZXR1cm47Y29uc3QgZT10aGlzLl9ncm91cFNlbGVjdG9yO2lmKGUpe2NvbnN0IHM9dGhpcy5nZXRTY2VuZVBvaW50KHQpO2UuZGVsdGFYPXMueC1lLngsZS5kZWx0YVk9cy55LWUueSx0aGlzLnJlbmRlclRvcCgpfWVsc2UgaWYodGhpcy5fY3VycmVudFRyYW5zZm9ybSl0aGlzLl90cmFuc2Zvcm1PYmplY3QodCk7ZWxzZXtjb25zdCBlPXRoaXMuZmluZFRhcmdldCh0KTt0aGlzLl9zZXRDdXJzb3JGcm9tRXZlbnQodCxlKSx0aGlzLl9maXJlT3Zlck91dEV2ZW50cyh0LGUpfXRoaXMudGV4dEVkaXRpbmdNYW5hZ2VyLm9uTW91c2VNb3ZlKHQpLHRoaXMuX2hhbmRsZUV2ZW50KHQsXCJtb3ZlXCIpLHRoaXMuX3Jlc2V0VHJhbnNmb3JtRXZlbnREYXRhKCl9X2ZpcmVPdmVyT3V0RXZlbnRzKHQsZSl7Y29uc3Qgcz10aGlzLl9ob3ZlcmVkVGFyZ2V0LGk9dGhpcy5faG92ZXJlZFRhcmdldHMscj10aGlzLnRhcmdldHMsbj1NYXRoLm1heChpLmxlbmd0aCxyLmxlbmd0aCk7dGhpcy5maXJlU3ludGhldGljSW5PdXRFdmVudHMoXCJtb3VzZVwiLHtlOnQsdGFyZ2V0OmUsb2xkVGFyZ2V0OnMsZmlyZUNhbnZhczohMH0pO2ZvcihsZXQgbz0wO288bjtvKyspcltvXT09PWV8fGlbb10mJmlbb109PT1zfHx0aGlzLmZpcmVTeW50aGV0aWNJbk91dEV2ZW50cyhcIm1vdXNlXCIse2U6dCx0YXJnZXQ6cltvXSxvbGRUYXJnZXQ6aVtvXX0pO3RoaXMuX2hvdmVyZWRUYXJnZXQ9ZSx0aGlzLl9ob3ZlcmVkVGFyZ2V0cz10aGlzLnRhcmdldHMuY29uY2F0KCl9X2ZpcmVFbnRlckxlYXZlRXZlbnRzKHQsZSl7Y29uc3QgaT10aGlzLl9kcmFnZ2Vkb3ZlclRhcmdldCxyPXRoaXMuX2hvdmVyZWRUYXJnZXRzLG49dGhpcy50YXJnZXRzLG89TWF0aC5tYXgoci5sZW5ndGgsbi5sZW5ndGgpO3RoaXMuZmlyZVN5bnRoZXRpY0luT3V0RXZlbnRzKFwiZHJhZ1wiLHMocyh7fSxlKSx7fSx7dGFyZ2V0OnQsb2xkVGFyZ2V0OmksZmlyZUNhbnZhczohMH0pKTtmb3IobGV0IHQ9MDt0PG87dCsrKXRoaXMuZmlyZVN5bnRoZXRpY0luT3V0RXZlbnRzKFwiZHJhZ1wiLHMocyh7fSxlKSx7fSx7dGFyZ2V0Om5bdF0sb2xkVGFyZ2V0OnJbdF19KSk7dGhpcy5fZHJhZ2dlZG92ZXJUYXJnZXQ9dH1maXJlU3ludGhldGljSW5PdXRFdmVudHModCxlKXtsZXR7dGFyZ2V0OnIsb2xkVGFyZ2V0Om4sZmlyZUNhbnZhczpvLGU6YX09ZSxoPWkoZSxqbik7Y29uc3R7dGFyZ2V0SW46Yyx0YXJnZXRPdXQ6bCxjYW52YXNJbjp1LGNhbnZhc091dDpkfT1Cblt0XSxnPW4hPT1yO2lmKG4mJmcpe2NvbnN0IHQ9cyhzKHt9LGgpLHt9LHtlOmEsdGFyZ2V0Om4sbmV4dFRhcmdldDpyfSxMbih0aGlzLGEpKTtvJiZ0aGlzLmZpcmUoZCx0KSxuLmZpcmUobCx0KX1pZihyJiZnKXtjb25zdCB0PXMocyh7fSxoKSx7fSx7ZTphLHRhcmdldDpyLHByZXZpb3VzVGFyZ2V0Om59LExuKHRoaXMsYSkpO28mJnRoaXMuZmlyZSh1LHQpLHIuZmlyZShjLHQpfX1fX29uTW91c2VXaGVlbCh0KXt0aGlzLl9jYWNoZVRyYW5zZm9ybUV2ZW50RGF0YSh0KSx0aGlzLl9oYW5kbGVFdmVudCh0LFwid2hlZWxcIiksdGhpcy5fcmVzZXRUcmFuc2Zvcm1FdmVudERhdGEoKX1fdHJhbnNmb3JtT2JqZWN0KHQpe2NvbnN0IGU9dGhpcy5nZXRTY2VuZVBvaW50KHQpLHM9dGhpcy5fY3VycmVudFRyYW5zZm9ybSxpPXMudGFyZ2V0LHI9aS5ncm91cD9tZShlLHZvaWQgMCxpLmdyb3VwLmNhbGNUcmFuc2Zvcm1NYXRyaXgoKSk6ZTtzLnNoaWZ0S2V5PXQuc2hpZnRLZXkscy5hbHRLZXk9ISF0aGlzLmNlbnRlcmVkS2V5JiZ0W3RoaXMuY2VudGVyZWRLZXldLHRoaXMuX3BlcmZvcm1UcmFuc2Zvcm1BY3Rpb24odCxzLHIpLHMuYWN0aW9uUGVyZm9ybWVkJiZ0aGlzLnJlcXVlc3RSZW5kZXJBbGwoKX1fcGVyZm9ybVRyYW5zZm9ybUFjdGlvbih0LGUscyl7Y29uc3R7YWN0aW9uOmksYWN0aW9uSGFuZGxlcjpyLHRhcmdldDpufT1lLG89ISFyJiZyKHQsZSxzLngscy55KTtvJiZuLnNldENvb3JkcygpLFwiZHJhZ1wiPT09aSYmbyYmKGUudGFyZ2V0LmlzTW92aW5nPSEwLHRoaXMuc2V0Q3Vyc29yKGUudGFyZ2V0Lm1vdmVDdXJzb3J8fHRoaXMubW92ZUN1cnNvcikpLGUuYWN0aW9uUGVyZm9ybWVkPWUuYWN0aW9uUGVyZm9ybWVkfHxvfV9zZXRDdXJzb3JGcm9tRXZlbnQodCxlKXtpZighZSlyZXR1cm4gdm9pZCB0aGlzLnNldEN1cnNvcih0aGlzLmRlZmF1bHRDdXJzb3IpO2xldCBzPWUuaG92ZXJDdXJzb3J8fHRoaXMuaG92ZXJDdXJzb3I7Y29uc3QgaT1VdCh0aGlzLl9hY3RpdmVPYmplY3QpP3RoaXMuX2FjdGl2ZU9iamVjdDpudWxsLHI9KCFpfHxlLmdyb3VwIT09aSkmJmUuZmluZENvbnRyb2wodGhpcy5nZXRWaWV3cG9ydFBvaW50KHQpKTtpZihyKXtjb25zdCBzPXIuY29udHJvbDt0aGlzLnNldEN1cnNvcihzLmN1cnNvclN0eWxlSGFuZGxlcih0LHMsZSkpfWVsc2UgZS5zdWJUYXJnZXRDaGVjayYmdGhpcy50YXJnZXRzLmNvbmNhdCgpLnJldmVyc2UoKS5tYXAoKHQ9PntzPXQuaG92ZXJDdXJzb3J8fHN9KSksdGhpcy5zZXRDdXJzb3Iocyl9aGFuZGxlTXVsdGlTZWxlY3Rpb24odCxlKXtjb25zdCBzPXRoaXMuX2FjdGl2ZU9iamVjdCxpPVV0KHMpO2lmKHMmJnRoaXMuX2lzU2VsZWN0aW9uS2V5UHJlc3NlZCh0KSYmdGhpcy5zZWxlY3Rpb24mJmUmJmUuc2VsZWN0YWJsZSYmKHMhPT1lfHxpKSYmKGl8fCFlLmlzRGVzY2VuZGFudE9mKHMpJiYhcy5pc0Rlc2NlbmRhbnRPZihlKSkmJiFlLm9uU2VsZWN0KHtlOnR9KSYmIXMuZ2V0QWN0aXZlQ29udHJvbCgpKXtpZihpKXtjb25zdCBpPXMuZ2V0T2JqZWN0cygpO2lmKGU9PT1zKXtjb25zdCBzPXRoaXMuZ2V0Vmlld3BvcnRQb2ludCh0KTtpZighKGU9dGhpcy5zZWFyY2hQb3NzaWJsZVRhcmdldHMoaSxzKXx8dGhpcy5zZWFyY2hQb3NzaWJsZVRhcmdldHModGhpcy5fb2JqZWN0cyxzKSl8fCFlLnNlbGVjdGFibGUpcmV0dXJuITF9ZS5ncm91cD09PXM/KHMucmVtb3ZlKGUpLHRoaXMuX2hvdmVyZWRUYXJnZXQ9ZSx0aGlzLl9ob3ZlcmVkVGFyZ2V0cz1bLi4udGhpcy50YXJnZXRzXSwxPT09cy5zaXplKCkmJnRoaXMuX3NldEFjdGl2ZU9iamVjdChzLml0ZW0oMCksdCkpOihzLm11bHRpU2VsZWN0QWRkKGUpLHRoaXMuX2hvdmVyZWRUYXJnZXQ9cyx0aGlzLl9ob3ZlcmVkVGFyZ2V0cz1bLi4udGhpcy50YXJnZXRzXSksdGhpcy5fZmlyZVNlbGVjdGlvbkV2ZW50cyhpLHQpfWVsc2V7cy5pc0VkaXRpbmcmJnMuZXhpdEVkaXRpbmcoKTtjb25zdCBpPW5ldyh0dC5nZXRDbGFzcyhcIkFjdGl2ZVNlbGVjdGlvblwiKSkoW10se2NhbnZhczp0aGlzfSk7aS5tdWx0aVNlbGVjdEFkZChzLGUpLHRoaXMuX2hvdmVyZWRUYXJnZXQ9aSx0aGlzLl9zZXRBY3RpdmVPYmplY3QoaSx0KSx0aGlzLl9maXJlU2VsZWN0aW9uRXZlbnRzKFtzXSx0KX1yZXR1cm4hMH1yZXR1cm4hMX1oYW5kbGVTZWxlY3Rpb24odCl7aWYoIXRoaXMuc2VsZWN0aW9ufHwhdGhpcy5fZ3JvdXBTZWxlY3RvcilyZXR1cm4hMTtjb25zdHt4OmUseTpzLGRlbHRhWDppLGRlbHRhWTpyfT10aGlzLl9ncm91cFNlbGVjdG9yLG49bmV3IG90KGUscyksbz1uLmFkZChuZXcgb3QoaSxyKSksYT1uLm1pbihvKSxoPW4ubWF4KG8pLnN1YnRyYWN0KGEpLGM9dGhpcy5jb2xsZWN0T2JqZWN0cyh7bGVmdDphLngsdG9wOmEueSx3aWR0aDpoLngsaGVpZ2h0OmgueX0se2luY2x1ZGVJbnRlcnNlY3Rpbmc6IXRoaXMuc2VsZWN0aW9uRnVsbHlDb250YWluZWR9KSxsPW4uZXEobyk/Y1swXT9bY1swXV06W106Yy5sZW5ndGg+MT9jLmZpbHRlcigoZT0+IWUub25TZWxlY3Qoe2U6dH0pKSkucmV2ZXJzZSgpOmM7aWYoMT09PWwubGVuZ3RoKXRoaXMuc2V0QWN0aXZlT2JqZWN0KGxbMF0sdCk7ZWxzZSBpZihsLmxlbmd0aD4xKXtjb25zdCBlPXR0LmdldENsYXNzKFwiQWN0aXZlU2VsZWN0aW9uXCIpO3RoaXMuc2V0QWN0aXZlT2JqZWN0KG5ldyBlKGwse2NhbnZhczp0aGlzfSksdCl9cmV0dXJuIHRoaXMuX2dyb3VwU2VsZWN0b3I9bnVsbCwhMH1jbGVhcigpe3RoaXMudGV4dEVkaXRpbmdNYW5hZ2VyLmNsZWFyKCksc3VwZXIuY2xlYXIoKX1kZXN0cm95KCl7dGhpcy5yZW1vdmVMaXN0ZW5lcnMoKSx0aGlzLnRleHRFZGl0aW5nTWFuYWdlci5kaXNwb3NlKCksc3VwZXIuZGVzdHJveSgpfX1jb25zdCBZbj17eDE6MCx5MTowLHgyOjAseTI6MH0sV249cyhzKHt9LFluKSx7fSx7cjE6MCxyMjowfSksVm49KHQsZSk9PmlzTmFOKHQpJiZcIm51bWJlclwiPT10eXBlb2YgZT9lOnQ7ZnVuY3Rpb24gem4odCl7cmV0dXJuIHQmJi8lJC8udGVzdCh0KSYmTnVtYmVyLmlzRmluaXRlKHBhcnNlRmxvYXQodCkpfWZ1bmN0aW9uIEduKHQsZSl7Y29uc3Qgcz1cIm51bWJlclwiPT10eXBlb2YgdD90Olwic3RyaW5nXCI9PXR5cGVvZiB0P3BhcnNlRmxvYXQodCkvKHpuKHQpPzEwMDoxKTpOYU47cmV0dXJuIE1zKDAsVm4ocyxlKSwxKX1jb25zdCBIbj0vXFxzKjtcXHMqLyxObj0vXFxzKjpcXHMqLztmdW5jdGlvbiBVbih0LGUpe2xldCBzLGk7Y29uc3Qgcj10LmdldEF0dHJpYnV0ZShcInN0eWxlXCIpO2lmKHIpe2NvbnN0IHQ9ci5zcGxpdChIbik7XCJcIj09PXRbdC5sZW5ndGgtMV0mJnQucG9wKCk7Zm9yKGxldCBlPXQubGVuZ3RoO2UtLTspe2NvbnN0W3Isbl09dFtlXS5zcGxpdChObikubWFwKCh0PT50LnRyaW0oKSkpO1wic3RvcC1jb2xvclwiPT09cj9zPW46XCJzdG9wLW9wYWNpdHlcIj09PXImJihpPW4pfX1jb25zdCBuPW5ldyBJZShzfHx0LmdldEF0dHJpYnV0ZShcInN0b3AtY29sb3JcIil8fFwicmdiKDAsMCwwKVwiKTtyZXR1cm57b2Zmc2V0OkduKHQuZ2V0QXR0cmlidXRlKFwib2Zmc2V0XCIpLDApLGNvbG9yOm4udG9SZ2IoKSxvcGFjaXR5OlZuKHBhcnNlRmxvYXQoaXx8dC5nZXRBdHRyaWJ1dGUoXCJzdG9wLW9wYWNpdHlcIil8fFwiXCIpLDEpKm4uZ2V0QWxwaGEoKSplfX1mdW5jdGlvbiBxbih0LGUpe2NvbnN0IHM9W10saT10LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic3RvcFwiKSxyPUduKGUsMSk7Zm9yKGxldCB0PWkubGVuZ3RoO3QtLTspcy5wdXNoKFVuKGlbdF0scikpO3JldHVybiBzfWZ1bmN0aW9uIEtuKHQpe3JldHVyblwibGluZWFyR3JhZGllbnRcIj09PXQubm9kZU5hbWV8fFwiTElORUFSR1JBRElFTlRcIj09PXQubm9kZU5hbWU/XCJsaW5lYXJcIjpcInJhZGlhbFwifWZ1bmN0aW9uIEpuKHQpe3JldHVyblwidXNlclNwYWNlT25Vc2VcIj09PXQuZ2V0QXR0cmlidXRlKFwiZ3JhZGllbnRVbml0c1wiKT9cInBpeGVsc1wiOlwicGVyY2VudGFnZVwifWZ1bmN0aW9uIFFuKHQsZSl7cmV0dXJuIHQuZ2V0QXR0cmlidXRlKGUpfWZ1bmN0aW9uIFpuKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7bGV0IHMse3dpZHRoOmksaGVpZ2h0OnIsZ3JhZGllbnRVbml0czpufT1lO3JldHVybiBPYmplY3QuZW50cmllcyh0KS5yZWR1Y2UoKCh0LGUpPT57bGV0W28sYV09ZTtpZihcIkluZmluaXR5XCI9PT1hKXM9MTtlbHNlIGlmKFwiLUluZmluaXR5XCI9PT1hKXM9MDtlbHNle2NvbnN0IHQ9XCJzdHJpbmdcIj09dHlwZW9mIGE7cz10P3BhcnNlRmxvYXQoYSk6YSx0JiZ6bihhKSYmKHMqPS4wMSxcInBpeGVsc1wiPT09biYmKFwieDFcIiE9PW8mJlwieDJcIiE9PW8mJlwicjJcIiE9PW98fChzKj1pKSxcInkxXCIhPT1vJiZcInkyXCIhPT1vfHwocyo9cikpKX1yZXR1cm4gdFtvXT1zLHR9KSx7fSl9KFwibGluZWFyXCI9PT1Lbih0KT9mdW5jdGlvbih0KXtyZXR1cm57eDE6UW4odCxcIngxXCIpfHwwLHkxOlFuKHQsXCJ5MVwiKXx8MCx4MjpRbih0LFwieDJcIil8fFwiMTAwJVwiLHkyOlFuKHQsXCJ5MlwiKXx8MH19KHQpOmZ1bmN0aW9uKHQpe3JldHVybnt4MTpRbih0LFwiZnhcIil8fFFuKHQsXCJjeFwiKXx8XCI1MCVcIix5MTpRbih0LFwiZnlcIil8fFFuKHQsXCJjeVwiKXx8XCI1MCVcIixyMTowLHgyOlFuKHQsXCJjeFwiKXx8XCI1MCVcIix5MjpRbih0LFwiY3lcIil8fFwiNTAlXCIscjI6UW4odCxcInJcIil8fFwiNTAlXCJ9fSh0KSxzKHMoe30sZSkse30se2dyYWRpZW50VW5pdHM6Sm4odCl9KSl9Y2xhc3MgJG57Y29uc3RydWN0b3IodCl7Y29uc3R7dHlwZTplPVwibGluZWFyXCIsZ3JhZGllbnRVbml0czppPVwicGl4ZWxzXCIsY29vcmRzOnI9e30sY29sb3JTdG9wczpuPVtdLG9mZnNldFg6bz0wLG9mZnNldFk6YT0wLGdyYWRpZW50VHJhbnNmb3JtOmgsaWQ6Y309dHx8e307T2JqZWN0LmFzc2lnbih0aGlzLHt0eXBlOmUsZ3JhZGllbnRVbml0czppLGNvb3JkczpzKHMoe30sXCJyYWRpYWxcIj09PWU/V246WW4pLHIpLGNvbG9yU3RvcHM6bixvZmZzZXRYOm8sb2Zmc2V0WTphLGdyYWRpZW50VHJhbnNmb3JtOmgsaWQ6Yz9cIlwiLmNvbmNhdChjLFwiX1wiKS5jb25jYXQoZnQoKSk6ZnQoKX0pfWFkZENvbG9yU3RvcCh0KXtmb3IoY29uc3QgZSBpbiB0KXtjb25zdCBzPW5ldyBJZSh0W2VdKTt0aGlzLmNvbG9yU3RvcHMucHVzaCh7b2Zmc2V0OnBhcnNlRmxvYXQoZSksY29sb3I6cy50b1JnYigpLG9wYWNpdHk6cy5nZXRBbHBoYSgpfSl9cmV0dXJuIHRoaXN9dG9PYmplY3QodCl7cmV0dXJuIHMocyh7fSxZdCh0aGlzLHQpKSx7fSx7dHlwZTp0aGlzLnR5cGUsY29vcmRzOnMoe30sdGhpcy5jb29yZHMpLGNvbG9yU3RvcHM6dGhpcy5jb2xvclN0b3BzLm1hcCgodD0+cyh7fSx0KSkpLG9mZnNldFg6dGhpcy5vZmZzZXRYLG9mZnNldFk6dGhpcy5vZmZzZXRZLGdyYWRpZW50VW5pdHM6dGhpcy5ncmFkaWVudFVuaXRzLGdyYWRpZW50VHJhbnNmb3JtOnRoaXMuZ3JhZGllbnRUcmFuc2Zvcm0/Wy4uLnRoaXMuZ3JhZGllbnRUcmFuc2Zvcm1dOnZvaWQgMH0pfXRvU1ZHKHQpe2xldHthZGRpdGlvbmFsVHJhbnNmb3JtOmV9PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtjb25zdCBpPVtdLHI9dGhpcy5ncmFkaWVudFRyYW5zZm9ybT90aGlzLmdyYWRpZW50VHJhbnNmb3JtLmNvbmNhdCgpOlQuY29uY2F0KCksbj1cInBpeGVsc1wiPT09dGhpcy5ncmFkaWVudFVuaXRzP1widXNlclNwYWNlT25Vc2VcIjpcIm9iamVjdEJvdW5kaW5nQm94XCIsbz10aGlzLmNvbG9yU3RvcHMubWFwKCh0PT5zKHt9LHQpKSkuc29ydCgoKHQsZSk9PnQub2Zmc2V0LWUub2Zmc2V0KSk7bGV0IGE9LXRoaXMub2Zmc2V0WCxoPS10aGlzLm9mZnNldFk7dmFyIGM7XCJvYmplY3RCb3VuZGluZ0JveFwiPT09bj8oYS89dC53aWR0aCxoLz10LmhlaWdodCk6KGErPXQud2lkdGgvMixoKz10LmhlaWdodC8yKSwoYz10KSYmXCJmdW5jdGlvblwiPT10eXBlb2YgYy5fcmVuZGVyUGF0aENvbW1hbmRzJiZcInBlcmNlbnRhZ2VcIiE9PXRoaXMuZ3JhZGllbnRVbml0cyYmKGEtPXQucGF0aE9mZnNldC54LGgtPXQucGF0aE9mZnNldC55KSxyWzRdLT1hLHJbNV0tPWg7Y29uc3QgbD1bJ2lkPVwiU1ZHSURfJy5jb25jYXQodGhpcy5pZCwnXCInKSwnZ3JhZGllbnRVbml0cz1cIicuY29uY2F0KG4sJ1wiJyksJ2dyYWRpZW50VHJhbnNmb3JtPVwiJy5jb25jYXQoZT9lK1wiIFwiOlwiXCIpLmNvbmNhdCh6dChyKSwnXCInKSxcIlwiXS5qb2luKFwiIFwiKTtpZihcImxpbmVhclwiPT09dGhpcy50eXBlKXtjb25zdHt4MTp0LHkxOmUseDI6cyx5MjpyfT10aGlzLmNvb3JkcztpLnB1c2goXCI8bGluZWFyR3JhZGllbnQgXCIsbCwnIHgxPVwiJyx0LCdcIiB5MT1cIicsZSwnXCIgeDI9XCInLHMsJ1wiIHkyPVwiJyxyLCdcIj5cXG4nKX1lbHNlIGlmKFwicmFkaWFsXCI9PT10aGlzLnR5cGUpe2NvbnN0e3gxOnQseTE6ZSx4MjpzLHkyOnIscjE6bixyMjphfT10aGlzLmNvb3JkcyxoPW4+YTtpLnB1c2goXCI8cmFkaWFsR3JhZGllbnQgXCIsbCwnIGN4PVwiJyxoP3Q6cywnXCIgY3k9XCInLGg/ZTpyLCdcIiByPVwiJyxoP246YSwnXCIgZng9XCInLGg/czp0LCdcIiBmeT1cIicsaD9yOmUsJ1wiPlxcbicpLGgmJihvLnJldmVyc2UoKSxvLmZvckVhY2goKHQ9Pnt0Lm9mZnNldD0xLXQub2Zmc2V0fSkpKTtjb25zdCBjPU1hdGgubWluKG4sYSk7aWYoYz4wKXtjb25zdCB0PWMvTWF0aC5tYXgobixhKTtvLmZvckVhY2goKGU9PntlLm9mZnNldCs9dCooMS1lLm9mZnNldCl9KSl9fXJldHVybiBvLmZvckVhY2goKHQ9PntsZXR7Y29sb3I6ZSxvZmZzZXQ6cyxvcGFjaXR5OnJ9PXQ7aS5wdXNoKFwiPHN0b3AgXCIsJ29mZnNldD1cIicsMTAwKnMrXCIlXCIsJ1wiIHN0eWxlPVwic3RvcC1jb2xvcjonLGUsdm9pZCAwIT09cj9cIjtzdG9wLW9wYWNpdHk6IFwiK3I6XCI7XCIsJ1wiLz5cXG4nKX0pKSxpLnB1c2goXCJsaW5lYXJcIj09PXRoaXMudHlwZT9cIjwvbGluZWFyR3JhZGllbnQ+XCI6XCI8L3JhZGlhbEdyYWRpZW50PlwiLFwiXFxuXCIpLGkuam9pbihcIlwiKX10b0xpdmUodCl7Y29uc3R7eDE6ZSx5MTpzLHgyOmkseTI6cixyMTpuLHIyOm99PXRoaXMuY29vcmRzLGE9XCJsaW5lYXJcIj09PXRoaXMudHlwZT90LmNyZWF0ZUxpbmVhckdyYWRpZW50KGUscyxpLHIpOnQuY3JlYXRlUmFkaWFsR3JhZGllbnQoZSxzLG4saSxyLG8pO3JldHVybiB0aGlzLmNvbG9yU3RvcHMuZm9yRWFjaCgodD0+e2xldHtjb2xvcjplLG9wYWNpdHk6cyxvZmZzZXQ6aX09dDthLmFkZENvbG9yU3RvcChpLHZvaWQgMCE9PXM/bmV3IEllKGUpLnNldEFscGhhKHMpLnRvUmdiYSgpOmUpfSkpLGF9c3RhdGljIGFzeW5jIGZyb21PYmplY3QodCl7Y29uc3R7Y29sb3JTdG9wczplLGdyYWRpZW50VHJhbnNmb3JtOml9PXQ7cmV0dXJuIG5ldyB0aGlzKHMocyh7fSx0KSx7fSx7Y29sb3JTdG9wczplP2UubWFwKCh0PT5zKHt9LHQpKSk6dm9pZCAwLGdyYWRpZW50VHJhbnNmb3JtOmk/Wy4uLmldOnZvaWQgMH0pKX1zdGF0aWMgZnJvbUVsZW1lbnQodCxlLGkpe2NvbnN0IHI9Sm4odCksbj1lLl9maW5kQ2VudGVyRnJvbUVsZW1lbnQoKTtyZXR1cm4gbmV3IHRoaXMocyh7aWQ6dC5nZXRBdHRyaWJ1dGUoXCJpZFwiKXx8dm9pZCAwLHR5cGU6S24odCksY29vcmRzOlpuKHQse3dpZHRoOmkudmlld0JveFdpZHRofHxpLndpZHRoLGhlaWdodDppLnZpZXdCb3hIZWlnaHR8fGkuaGVpZ2h0fSksY29sb3JTdG9wczpxbih0LGkub3BhY2l0eSksZ3JhZGllbnRVbml0czpyLGdyYWRpZW50VHJhbnNmb3JtOndyKHQuZ2V0QXR0cmlidXRlKFwiZ3JhZGllbnRUcmFuc2Zvcm1cIil8fFwiXCIpfSxcInBpeGVsc1wiPT09cj97b2Zmc2V0WDplLndpZHRoLzItbi54LG9mZnNldFk6ZS5oZWlnaHQvMi1uLnl9OntvZmZzZXRYOjAsb2Zmc2V0WTowfSkpfX10KCRuLFwidHlwZVwiLFwiR3JhZGllbnRcIiksdHQuc2V0Q2xhc3MoJG4sXCJncmFkaWVudFwiKSx0dC5zZXRDbGFzcygkbixcImxpbmVhclwiKSx0dC5zZXRDbGFzcygkbixcInJhZGlhbFwiKTtjb25zdCB0bz1bXCJ0eXBlXCIsXCJzb3VyY2VcIixcInBhdHRlcm5UcmFuc2Zvcm1cIl07Y2xhc3MgZW97Z2V0IHR5cGUoKXtyZXR1cm5cInBhdHRlcm5cIn1zZXQgdHlwZSh0KXthKFwid2FyblwiLFwiU2V0dGluZyB0eXBlIGhhcyBubyBlZmZlY3RcIix0KX1jb25zdHJ1Y3RvcihlKXt0KHRoaXMsXCJyZXBlYXRcIixcInJlcGVhdFwiKSx0KHRoaXMsXCJvZmZzZXRYXCIsMCksdCh0aGlzLFwib2Zmc2V0WVwiLDApLHQodGhpcyxcImNyb3NzT3JpZ2luXCIsXCJcIiksdGhpcy5pZD1mdCgpLE9iamVjdC5hc3NpZ24odGhpcyxlKX1pc0ltYWdlU291cmNlKCl7cmV0dXJuISF0aGlzLnNvdXJjZSYmXCJzdHJpbmdcIj09dHlwZW9mIHRoaXMuc291cmNlLnNyY31pc0NhbnZhc1NvdXJjZSgpe3JldHVybiEhdGhpcy5zb3VyY2UmJiEhdGhpcy5zb3VyY2UudG9EYXRhVVJMfXNvdXJjZVRvU3RyaW5nKCl7cmV0dXJuIHRoaXMuaXNJbWFnZVNvdXJjZSgpP3RoaXMuc291cmNlLnNyYzp0aGlzLmlzQ2FudmFzU291cmNlKCk/dGhpcy5zb3VyY2UudG9EYXRhVVJMKCk6XCJcIn10b0xpdmUodCl7cmV0dXJuIHRoaXMuc291cmNlJiYoIXRoaXMuaXNJbWFnZVNvdXJjZSgpfHx0aGlzLnNvdXJjZS5jb21wbGV0ZSYmMCE9PXRoaXMuc291cmNlLm5hdHVyYWxXaWR0aCYmMCE9PXRoaXMuc291cmNlLm5hdHVyYWxIZWlnaHQpP3QuY3JlYXRlUGF0dGVybih0aGlzLnNvdXJjZSx0aGlzLnJlcGVhdCk6bnVsbH10b09iamVjdCgpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbXTtjb25zdHtyZXBlYXQ6ZSxjcm9zc09yaWdpbjppfT10aGlzO3JldHVybiBzKHMoe30sWXQodGhpcyx0KSkse30se3R5cGU6XCJwYXR0ZXJuXCIsc291cmNlOnRoaXMuc291cmNlVG9TdHJpbmcoKSxyZXBlYXQ6ZSxjcm9zc09yaWdpbjppLG9mZnNldFg6VnQodGhpcy5vZmZzZXRYLG8uTlVNX0ZSQUNUSU9OX0RJR0lUUyksb2Zmc2V0WTpWdCh0aGlzLm9mZnNldFksby5OVU1fRlJBQ1RJT05fRElHSVRTKSxwYXR0ZXJuVHJhbnNmb3JtOnRoaXMucGF0dGVyblRyYW5zZm9ybT9bLi4udGhpcy5wYXR0ZXJuVHJhbnNmb3JtXTpudWxsfSl9dG9TVkcodCl7bGV0e3dpZHRoOmUsaGVpZ2h0OnN9PXQ7Y29uc3R7c291cmNlOmkscmVwZWF0OnIsaWQ6bn09dGhpcyxvPVZuKHRoaXMub2Zmc2V0WC9lLDApLGE9Vm4odGhpcy5vZmZzZXRZL3MsMCksaD1cInJlcGVhdC15XCI9PT1yfHxcIm5vLXJlcGVhdFwiPT09cj8xK01hdGguYWJzKG98fDApOlZuKGkud2lkdGgvZSwwKSxjPVwicmVwZWF0LXhcIj09PXJ8fFwibm8tcmVwZWF0XCI9PT1yPzErTWF0aC5hYnMoYXx8MCk6Vm4oaS5oZWlnaHQvcywwKTtyZXR1cm5bJzxwYXR0ZXJuIGlkPVwiU1ZHSURfJy5jb25jYXQobiwnXCIgeD1cIicpLmNvbmNhdChvLCdcIiB5PVwiJykuY29uY2F0KGEsJ1wiIHdpZHRoPVwiJykuY29uY2F0KGgsJ1wiIGhlaWdodD1cIicpLmNvbmNhdChjLCdcIj4nKSwnPGltYWdlIHg9XCIwXCIgeT1cIjBcIiB3aWR0aD1cIicuY29uY2F0KGkud2lkdGgsJ1wiIGhlaWdodD1cIicpLmNvbmNhdChpLmhlaWdodCwnXCIgeGxpbms6aHJlZj1cIicpLmNvbmNhdCh0aGlzLnNvdXJjZVRvU3RyaW5nKCksJ1wiPjwvaW1hZ2U+JyksXCI8L3BhdHRlcm4+XCIsXCJcIl0uam9pbihcIlxcblwiKX1zdGF0aWMgYXN5bmMgZnJvbU9iamVjdCh0LGUpe2xldHt0eXBlOnIsc291cmNlOm4scGF0dGVyblRyYW5zZm9ybTpvfT10LGE9aSh0LHRvKTtjb25zdCBoPWF3YWl0IEl0KG4scyhzKHt9LGUpLHt9LHtjcm9zc09yaWdpbjphLmNyb3NzT3JpZ2lufSkpO3JldHVybiBuZXcgdGhpcyhzKHMoe30sYSkse30se3BhdHRlcm5UcmFuc2Zvcm06byYmby5zbGljZSgwKSxzb3VyY2U6aH0pKX19dChlbyxcInR5cGVcIixcIlBhdHRlcm5cIiksdHQuc2V0Q2xhc3MoZW8pLHR0LnNldENsYXNzKGVvLFwicGF0dGVyblwiKTtjbGFzcyBzb3tjb25zdHJ1Y3RvcihlKXt0KHRoaXMsXCJjb2xvclwiLFwicmdiKDAsIDAsIDApXCIpLHQodGhpcyxcIndpZHRoXCIsMSksdCh0aGlzLFwic2hhZG93XCIsbnVsbCksdCh0aGlzLFwic3Ryb2tlTGluZUNhcFwiLFwicm91bmRcIiksdCh0aGlzLFwic3Ryb2tlTGluZUpvaW5cIixcInJvdW5kXCIpLHQodGhpcyxcInN0cm9rZU1pdGVyTGltaXRcIiwxMCksdCh0aGlzLFwic3Ryb2tlRGFzaEFycmF5XCIsbnVsbCksdCh0aGlzLFwibGltaXRlZFRvQ2FudmFzU2l6ZVwiLCExKSx0aGlzLmNhbnZhcz1lfV9zZXRCcnVzaFN0eWxlcyh0KXt0LnN0cm9rZVN0eWxlPXRoaXMuY29sb3IsdC5saW5lV2lkdGg9dGhpcy53aWR0aCx0LmxpbmVDYXA9dGhpcy5zdHJva2VMaW5lQ2FwLHQubWl0ZXJMaW1pdD10aGlzLnN0cm9rZU1pdGVyTGltaXQsdC5saW5lSm9pbj10aGlzLnN0cm9rZUxpbmVKb2luLHQuc2V0TGluZURhc2godGhpcy5zdHJva2VEYXNoQXJyYXl8fFtdKX1fc2F2ZUFuZFRyYW5zZm9ybSh0KXtjb25zdCBlPXRoaXMuY2FudmFzLnZpZXdwb3J0VHJhbnNmb3JtO3Quc2F2ZSgpLHQudHJhbnNmb3JtKGVbMF0sZVsxXSxlWzJdLGVbM10sZVs0XSxlWzVdKX1uZWVkc0Z1bGxSZW5kZXIoKXtyZXR1cm4gbmV3IEllKHRoaXMuY29sb3IpLmdldEFscGhhKCk8MXx8ISF0aGlzLnNoYWRvd31fc2V0U2hhZG93KCl7aWYoIXRoaXMuc2hhZG93fHwhdGhpcy5jYW52YXMpcmV0dXJuO2NvbnN0IHQ9dGhpcy5jYW52YXMsZT10aGlzLnNoYWRvdyxzPXQuY29udGV4dFRvcCxpPXQuZ2V0Wm9vbSgpKnQuZ2V0UmV0aW5hU2NhbGluZygpO3Muc2hhZG93Q29sb3I9ZS5jb2xvcixzLnNoYWRvd0JsdXI9ZS5ibHVyKmkscy5zaGFkb3dPZmZzZXRYPWUub2Zmc2V0WCppLHMuc2hhZG93T2Zmc2V0WT1lLm9mZnNldFkqaX1fcmVzZXRTaGFkb3coKXtjb25zdCB0PXRoaXMuY2FudmFzLmNvbnRleHRUb3A7dC5zaGFkb3dDb2xvcj1cIlwiLHQuc2hhZG93Qmx1cj10LnNoYWRvd09mZnNldFg9dC5zaGFkb3dPZmZzZXRZPTB9X2lzT3V0U2lkZUNhbnZhcyh0KXtyZXR1cm4gdC54PDB8fHQueD50aGlzLmNhbnZhcy5nZXRXaWR0aCgpfHx0Lnk8MHx8dC55PnRoaXMuY2FudmFzLmdldEhlaWdodCgpfX1jb25zdCBpbz1bXCJwYXRoXCIsXCJsZWZ0XCIsXCJ0b3BcIl0scm89W1wiZFwiXTtjbGFzcyBubyBleHRlbmRzIExpe2NvbnN0cnVjdG9yKHQpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSx7cGF0aDpzLGxlZnQ6cix0b3A6bn09ZSxvPWkoZSxpbyk7c3VwZXIoKSxPYmplY3QuYXNzaWduKHRoaXMsbm8ub3duRGVmYXVsdHMpLHRoaXMuc2V0T3B0aW9ucyhvKSx0aGlzLl9zZXRQYXRoKHR8fFtdLCEwKSxcIm51bWJlclwiPT10eXBlb2YgciYmdGhpcy5zZXQoTSxyKSxcIm51bWJlclwiPT10eXBlb2YgbiYmdGhpcy5zZXQoUCxuKX1fc2V0UGF0aCh0LGUpe3RoaXMucGF0aD1ubihBcnJheS5pc0FycmF5KHQpP3Q6Ym4odCkpLHRoaXMuc2V0Qm91bmRpbmdCb3goZSl9X2ZpbmRDZW50ZXJGcm9tRWxlbWVudCgpe2NvbnN0IHQ9dGhpcy5fY2FsY0JvdW5kc0Zyb21QYXRoKCk7cmV0dXJuIG5ldyBvdCh0LmxlZnQrdC53aWR0aC8yLHQudG9wK3QuaGVpZ2h0LzIpfV9yZW5kZXJQYXRoQ29tbWFuZHModCl7Y29uc3QgZT0tdGhpcy5wYXRoT2Zmc2V0Lngscz0tdGhpcy5wYXRoT2Zmc2V0Lnk7dC5iZWdpblBhdGgoKTtmb3IoY29uc3QgaSBvZiB0aGlzLnBhdGgpc3dpdGNoKGlbMF0pe2Nhc2VcIkxcIjp0LmxpbmVUbyhpWzFdK2UsaVsyXStzKTticmVhaztjYXNlXCJNXCI6dC5tb3ZlVG8oaVsxXStlLGlbMl0rcyk7YnJlYWs7Y2FzZVwiQ1wiOnQuYmV6aWVyQ3VydmVUbyhpWzFdK2UsaVsyXStzLGlbM10rZSxpWzRdK3MsaVs1XStlLGlbNl0rcyk7YnJlYWs7Y2FzZVwiUVwiOnQucXVhZHJhdGljQ3VydmVUbyhpWzFdK2UsaVsyXStzLGlbM10rZSxpWzRdK3MpO2JyZWFrO2Nhc2VcIlpcIjp0LmNsb3NlUGF0aCgpfX1fcmVuZGVyKHQpe3RoaXMuX3JlbmRlclBhdGhDb21tYW5kcyh0KSx0aGlzLl9yZW5kZXJQYWludEluT3JkZXIodCl9dG9TdHJpbmcoKXtyZXR1cm5cIiM8UGF0aCAoXCIuY29uY2F0KHRoaXMuY29tcGxleGl0eSgpLCcpOiB7IFwidG9wXCI6ICcpLmNvbmNhdCh0aGlzLnRvcCwnLCBcImxlZnRcIjogJykuY29uY2F0KHRoaXMubGVmdCxcIiB9PlwiKX10b09iamVjdCgpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbXTtyZXR1cm4gcyhzKHt9LHN1cGVyLnRvT2JqZWN0KHQpKSx7fSx7cGF0aDp0aGlzLnBhdGgubWFwKCh0PT50LnNsaWNlKCkpKX0pfXRvRGF0YWxlc3NPYmplY3QoKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06W107Y29uc3QgZT10aGlzLnRvT2JqZWN0KHQpO3JldHVybiB0aGlzLnNvdXJjZVBhdGgmJihkZWxldGUgZS5wYXRoLGUuc291cmNlUGF0aD10aGlzLnNvdXJjZVBhdGgpLGV9X3RvU1ZHKCl7Y29uc3QgdD13bih0aGlzLnBhdGgsby5OVU1fRlJBQ1RJT05fRElHSVRTKTtyZXR1cm5bXCI8cGF0aCBcIixcIkNPTU1PTl9QQVJUU1wiLCdkPVwiJy5jb25jYXQodCwnXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIC8+XFxuJyldfV9nZXRPZmZzZXRUcmFuc2Zvcm0oKXtjb25zdCB0PW8uTlVNX0ZSQUNUSU9OX0RJR0lUUztyZXR1cm5cIiB0cmFuc2xhdGUoXCIuY29uY2F0KFZ0KC10aGlzLnBhdGhPZmZzZXQueCx0KSxcIiwgXCIpLmNvbmNhdChWdCgtdGhpcy5wYXRoT2Zmc2V0LnksdCksXCIpXCIpfXRvQ2xpcFBhdGhTVkcodCl7Y29uc3QgZT10aGlzLl9nZXRPZmZzZXRUcmFuc2Zvcm0oKTtyZXR1cm5cIlxcdFwiK3RoaXMuX2NyZWF0ZUJhc2VDbGlwUGF0aFNWR01hcmt1cCh0aGlzLl90b1NWRygpLHtyZXZpdmVyOnQsYWRkaXRpb25hbFRyYW5zZm9ybTplfSl9dG9TVkcodCl7Y29uc3QgZT10aGlzLl9nZXRPZmZzZXRUcmFuc2Zvcm0oKTtyZXR1cm4gdGhpcy5fY3JlYXRlQmFzZVNWR01hcmt1cCh0aGlzLl90b1NWRygpLHtyZXZpdmVyOnQsYWRkaXRpb25hbFRyYW5zZm9ybTplfSl9Y29tcGxleGl0eSgpe3JldHVybiB0aGlzLnBhdGgubGVuZ3RofXNldERpbWVuc2lvbnMoKXt0aGlzLnNldEJvdW5kaW5nQm94KCl9c2V0Qm91bmRpbmdCb3godCl7Y29uc3R7d2lkdGg6ZSxoZWlnaHQ6cyxwYXRoT2Zmc2V0Oml9PXRoaXMuX2NhbGNEaW1lbnNpb25zKCk7dGhpcy5zZXQoe3dpZHRoOmUsaGVpZ2h0OnMscGF0aE9mZnNldDppfSksdCYmdGhpcy5zZXRQb3NpdGlvbkJ5T3JpZ2luKGksRCxEKX1fY2FsY0JvdW5kc0Zyb21QYXRoKCl7Y29uc3QgdD1bXTtsZXQgZT0wLHM9MCxpPTAscj0wO2Zvcihjb25zdCBuIG9mIHRoaXMucGF0aClzd2l0Y2goblswXSl7Y2FzZVwiTFwiOmk9blsxXSxyPW5bMl0sdC5wdXNoKHt4OmUseTpzfSx7eDppLHk6cn0pO2JyZWFrO2Nhc2VcIk1cIjppPW5bMV0scj1uWzJdLGU9aSxzPXI7YnJlYWs7Y2FzZVwiQ1wiOnQucHVzaCguLi5zbihpLHIsblsxXSxuWzJdLG5bM10sbls0XSxuWzVdLG5bNl0pKSxpPW5bNV0scj1uWzZdO2JyZWFrO2Nhc2VcIlFcIjp0LnB1c2goLi4uc24oaSxyLG5bMV0sblsyXSxuWzFdLG5bMl0sblszXSxuWzRdKSksaT1uWzNdLHI9bls0XTticmVhaztjYXNlXCJaXCI6aT1lLHI9c31yZXR1cm4gaGUodCl9X2NhbGNEaW1lbnNpb25zKCl7Y29uc3QgdD10aGlzLl9jYWxjQm91bmRzRnJvbVBhdGgoKTtyZXR1cm4gcyhzKHt9LHQpLHt9LHtwYXRoT2Zmc2V0Om5ldyBvdCh0LmxlZnQrdC53aWR0aC8yLHQudG9wK3QuaGVpZ2h0LzIpfSl9c3RhdGljIGZyb21PYmplY3QodCl7cmV0dXJuIHRoaXMuX2Zyb21PYmplY3QodCx7ZXh0cmFQYXJhbTpcInBhdGhcIn0pfXN0YXRpYyBhc3luYyBmcm9tRWxlbWVudCh0LGUscil7Y29uc3Qgbj1Qcih0LHRoaXMuQVRUUklCVVRFX05BTUVTLHIpLHtkOm99PW47cmV0dXJuIG5ldyB0aGlzKG8scyhzKHMoe30saShuLHJvKSksZSkse30se2xlZnQ6dm9pZCAwLHRvcDp2b2lkIDB9KSl9fXQobm8sXCJ0eXBlXCIsXCJQYXRoXCIpLHQobm8sXCJjYWNoZVByb3BlcnRpZXNcIixbLi4uRXMsXCJwYXRoXCIsXCJmaWxsUnVsZVwiXSksdChubyxcIkFUVFJJQlVURV9OQU1FU1wiLFsuLi5aaSxcImRcIl0pLHR0LnNldENsYXNzKG5vKSx0dC5zZXRTVkdDbGFzcyhubyk7Y2xhc3Mgb28gZXh0ZW5kcyBzb3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0KHRoaXMsXCJkZWNpbWF0ZVwiLC40KSx0KHRoaXMsXCJkcmF3U3RyYWlnaHRMaW5lXCIsITEpLHQodGhpcyxcInN0cmFpZ2h0TGluZUtleVwiLFwic2hpZnRLZXlcIiksdGhpcy5fcG9pbnRzPVtdLHRoaXMuX2hhc1N0cmFpZ2h0TGluZT0hMX1uZWVkc0Z1bGxSZW5kZXIoKXtyZXR1cm4gc3VwZXIubmVlZHNGdWxsUmVuZGVyKCl8fHRoaXMuX2hhc1N0cmFpZ2h0TGluZX1zdGF0aWMgZHJhd1NlZ21lbnQodCxlLHMpe2NvbnN0IGk9ZS5taWRQb2ludEZyb20ocyk7cmV0dXJuIHQucXVhZHJhdGljQ3VydmVUbyhlLngsZS55LGkueCxpLnkpLGl9b25Nb3VzZURvd24odCxlKXtsZXR7ZTpzfT1lO3RoaXMuY2FudmFzLl9pc01haW5FdmVudChzKSYmKHRoaXMuZHJhd1N0cmFpZ2h0TGluZT0hIXRoaXMuc3RyYWlnaHRMaW5lS2V5JiZzW3RoaXMuc3RyYWlnaHRMaW5lS2V5XSx0aGlzLl9wcmVwYXJlRm9yRHJhd2luZyh0KSx0aGlzLl9hZGRQb2ludCh0KSx0aGlzLl9yZW5kZXIoKSl9b25Nb3VzZU1vdmUodCxlKXtsZXR7ZTpzfT1lO2lmKHRoaXMuY2FudmFzLl9pc01haW5FdmVudChzKSYmKHRoaXMuZHJhd1N0cmFpZ2h0TGluZT0hIXRoaXMuc3RyYWlnaHRMaW5lS2V5JiZzW3RoaXMuc3RyYWlnaHRMaW5lS2V5XSwoITAhPT10aGlzLmxpbWl0ZWRUb0NhbnZhc1NpemV8fCF0aGlzLl9pc091dFNpZGVDYW52YXModCkpJiZ0aGlzLl9hZGRQb2ludCh0KSYmdGhpcy5fcG9pbnRzLmxlbmd0aD4xKSlpZih0aGlzLm5lZWRzRnVsbFJlbmRlcigpKXRoaXMuY2FudmFzLmNsZWFyQ29udGV4dCh0aGlzLmNhbnZhcy5jb250ZXh0VG9wKSx0aGlzLl9yZW5kZXIoKTtlbHNle2NvbnN0IHQ9dGhpcy5fcG9pbnRzLGU9dC5sZW5ndGgscz10aGlzLmNhbnZhcy5jb250ZXh0VG9wO3RoaXMuX3NhdmVBbmRUcmFuc2Zvcm0ocyksdGhpcy5vbGRFbmQmJihzLmJlZ2luUGF0aCgpLHMubW92ZVRvKHRoaXMub2xkRW5kLngsdGhpcy5vbGRFbmQueSkpLHRoaXMub2xkRW5kPW9vLmRyYXdTZWdtZW50KHMsdFtlLTJdLHRbZS0xXSkscy5zdHJva2UoKSxzLnJlc3RvcmUoKX19b25Nb3VzZVVwKHQpe2xldHtlOmV9PXQ7cmV0dXJuIXRoaXMuY2FudmFzLl9pc01haW5FdmVudChlKXx8KHRoaXMuZHJhd1N0cmFpZ2h0TGluZT0hMSx0aGlzLm9sZEVuZD12b2lkIDAsdGhpcy5fZmluYWxpemVBbmRBZGRQYXRoKCksITEpfV9wcmVwYXJlRm9yRHJhd2luZyh0KXt0aGlzLl9yZXNldCgpLHRoaXMuX2FkZFBvaW50KHQpLHRoaXMuY2FudmFzLmNvbnRleHRUb3AubW92ZVRvKHQueCx0LnkpfV9hZGRQb2ludCh0KXtyZXR1cm4hKHRoaXMuX3BvaW50cy5sZW5ndGg+MSYmdC5lcSh0aGlzLl9wb2ludHNbdGhpcy5fcG9pbnRzLmxlbmd0aC0xXSkpJiYodGhpcy5kcmF3U3RyYWlnaHRMaW5lJiZ0aGlzLl9wb2ludHMubGVuZ3RoPjEmJih0aGlzLl9oYXNTdHJhaWdodExpbmU9ITAsdGhpcy5fcG9pbnRzLnBvcCgpKSx0aGlzLl9wb2ludHMucHVzaCh0KSwhMCl9X3Jlc2V0KCl7dGhpcy5fcG9pbnRzPVtdLHRoaXMuX3NldEJydXNoU3R5bGVzKHRoaXMuY2FudmFzLmNvbnRleHRUb3ApLHRoaXMuX3NldFNoYWRvdygpLHRoaXMuX2hhc1N0cmFpZ2h0TGluZT0hMX1fcmVuZGVyKCl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnRoaXMuY2FudmFzLmNvbnRleHRUb3AsZT10aGlzLl9wb2ludHNbMF0scz10aGlzLl9wb2ludHNbMV07aWYodGhpcy5fc2F2ZUFuZFRyYW5zZm9ybSh0KSx0LmJlZ2luUGF0aCgpLDI9PT10aGlzLl9wb2ludHMubGVuZ3RoJiZlLng9PT1zLngmJmUueT09PXMueSl7Y29uc3QgdD10aGlzLndpZHRoLzFlMztlLngtPXQscy54Kz10fXQubW92ZVRvKGUueCxlLnkpO2ZvcihsZXQgaT0xO2k8dGhpcy5fcG9pbnRzLmxlbmd0aDtpKyspb28uZHJhd1NlZ21lbnQodCxlLHMpLGU9dGhpcy5fcG9pbnRzW2ldLHM9dGhpcy5fcG9pbnRzW2krMV07dC5saW5lVG8oZS54LGUueSksdC5zdHJva2UoKSx0LnJlc3RvcmUoKX1jb252ZXJ0UG9pbnRzVG9TVkdQYXRoKHQpe2NvbnN0IGU9dGhpcy53aWR0aC8xZTM7cmV0dXJuIFNuKHQsZSl9Y3JlYXRlUGF0aCh0KXtjb25zdCBlPW5ldyBubyh0LHtmaWxsOm51bGwsc3Ryb2tlOnRoaXMuY29sb3Isc3Ryb2tlV2lkdGg6dGhpcy53aWR0aCxzdHJva2VMaW5lQ2FwOnRoaXMuc3Ryb2tlTGluZUNhcCxzdHJva2VNaXRlckxpbWl0OnRoaXMuc3Ryb2tlTWl0ZXJMaW1pdCxzdHJva2VMaW5lSm9pbjp0aGlzLnN0cm9rZUxpbmVKb2luLHN0cm9rZURhc2hBcnJheTp0aGlzLnN0cm9rZURhc2hBcnJheX0pO3JldHVybiB0aGlzLnNoYWRvdyYmKHRoaXMuc2hhZG93LmFmZmVjdFN0cm9rZT0hMCxlLnNoYWRvdz1uZXcgRHModGhpcy5zaGFkb3cpKSxlfWRlY2ltYXRlUG9pbnRzKHQsZSl7aWYodC5sZW5ndGg8PTIpcmV0dXJuIHQ7bGV0IHMsaT10WzBdO2NvbnN0IHI9dGhpcy5jYW52YXMuZ2V0Wm9vbSgpLG49TWF0aC5wb3coZS9yLDIpLG89dC5sZW5ndGgtMSxhPVtpXTtmb3IobGV0IGU9MTtlPG8tMTtlKyspcz1NYXRoLnBvdyhpLngtdFtlXS54LDIpK01hdGgucG93KGkueS10W2VdLnksMikscz49biYmKGk9dFtlXSxhLnB1c2goaSkpO3JldHVybiBhLnB1c2godFtvXSksYX1fZmluYWxpemVBbmRBZGRQYXRoKCl7dGhpcy5jYW52YXMuY29udGV4dFRvcC5jbG9zZVBhdGgoKSx0aGlzLmRlY2ltYXRlJiYodGhpcy5fcG9pbnRzPXRoaXMuZGVjaW1hdGVQb2ludHModGhpcy5fcG9pbnRzLHRoaXMuZGVjaW1hdGUpKTtjb25zdCB0PXRoaXMuY29udmVydFBvaW50c1RvU1ZHUGF0aCh0aGlzLl9wb2ludHMpO2lmKGZ1bmN0aW9uKHQpe3JldHVyblwiTSAwIDAgUSAwIDAgMCAwIEwgMCAwXCI9PT13bih0KX0odCkpcmV0dXJuIHZvaWQgdGhpcy5jYW52YXMucmVxdWVzdFJlbmRlckFsbCgpO2NvbnN0IGU9dGhpcy5jcmVhdGVQYXRoKHQpO3RoaXMuY2FudmFzLmNsZWFyQ29udGV4dCh0aGlzLmNhbnZhcy5jb250ZXh0VG9wKSx0aGlzLmNhbnZhcy5maXJlKFwiYmVmb3JlOnBhdGg6Y3JlYXRlZFwiLHtwYXRoOmV9KSx0aGlzLmNhbnZhcy5hZGQoZSksdGhpcy5jYW52YXMucmVxdWVzdFJlbmRlckFsbCgpLGUuc2V0Q29vcmRzKCksdGhpcy5fcmVzZXRTaGFkb3coKSx0aGlzLmNhbnZhcy5maXJlKFwicGF0aDpjcmVhdGVkXCIse3BhdGg6ZX0pfX1jb25zdCBhbz1bXCJsZWZ0XCIsXCJ0b3BcIixcInJhZGl1c1wiXSxobz1bXCJyYWRpdXNcIixcInN0YXJ0QW5nbGVcIixcImVuZEFuZ2xlXCIsXCJjb3VudGVyQ2xvY2t3aXNlXCJdO2NsYXNzIGNvIGV4dGVuZHMgTGl7c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIHMocyh7fSxzdXBlci5nZXREZWZhdWx0cygpKSxjby5vd25EZWZhdWx0cyl9Y29uc3RydWN0b3IodCl7c3VwZXIoKSxPYmplY3QuYXNzaWduKHRoaXMsY28ub3duRGVmYXVsdHMpLHRoaXMuc2V0T3B0aW9ucyh0KX1fc2V0KHQsZSl7cmV0dXJuIHN1cGVyLl9zZXQodCxlKSxcInJhZGl1c1wiPT09dCYmdGhpcy5zZXRSYWRpdXMoZSksdGhpc31fcmVuZGVyKHQpe3QuYmVnaW5QYXRoKCksdC5hcmMoMCwwLHRoaXMucmFkaXVzLHh0KHRoaXMuc3RhcnRBbmdsZSkseHQodGhpcy5lbmRBbmdsZSksdGhpcy5jb3VudGVyQ2xvY2t3aXNlKSx0aGlzLl9yZW5kZXJQYWludEluT3JkZXIodCl9Z2V0UmFkaXVzWCgpe3JldHVybiB0aGlzLmdldChcInJhZGl1c1wiKSp0aGlzLmdldChIKX1nZXRSYWRpdXNZKCl7cmV0dXJuIHRoaXMuZ2V0KFwicmFkaXVzXCIpKnRoaXMuZ2V0KE4pfXNldFJhZGl1cyh0KXt0aGlzLnJhZGl1cz10LHRoaXMuc2V0KHt3aWR0aDoyKnQsaGVpZ2h0OjIqdH0pfXRvT2JqZWN0KCl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOltdO3JldHVybiBzdXBlci50b09iamVjdChbLi4uaG8sLi4udF0pfV90b1NWRygpe2NvbnN0IHQ9KHRoaXMuZW5kQW5nbGUtdGhpcy5zdGFydEFuZ2xlKSUzNjA7aWYoMD09PXQpcmV0dXJuW1wiPGNpcmNsZSBcIixcIkNPTU1PTl9QQVJUU1wiLCdjeD1cIjBcIiBjeT1cIjBcIiAnLCdyPVwiJyxcIlwiLmNvbmNhdCh0aGlzLnJhZGl1cyksJ1wiIC8+XFxuJ107e2NvbnN0e3JhZGl1czplfT10aGlzLHM9eHQodGhpcy5zdGFydEFuZ2xlKSxpPXh0KHRoaXMuZW5kQW5nbGUpLHI9cnQocykqZSxuPW50KHMpKmUsbz1ydChpKSplLGE9bnQoaSkqZSxoPXQ+MTgwPzE6MCxjPXRoaXMuY291bnRlckNsb2Nrd2lzZT8wOjE7cmV0dXJuWyc8cGF0aCBkPVwiTSAnLmNvbmNhdChyLFwiIFwiKS5jb25jYXQobixcIiBBIFwiKS5jb25jYXQoZSxcIiBcIikuY29uY2F0KGUsXCIgMCBcIikuY29uY2F0KGgsXCIgXCIpLmNvbmNhdChjLFwiIFwiKS5jb25jYXQobyxcIiBcIikuY29uY2F0KGEsJ1wiICcpLFwiQ09NTU9OX1BBUlRTXCIsXCIgLz5cXG5cIl19fXN0YXRpYyBhc3luYyBmcm9tRWxlbWVudCh0LGUscil7Y29uc3Qgbj1Qcih0LHRoaXMuQVRUUklCVVRFX05BTUVTLHIpLHtsZWZ0Om89MCx0b3A6YT0wLHJhZGl1czpoPTB9PW47cmV0dXJuIG5ldyB0aGlzKHMocyh7fSxpKG4sYW8pKSx7fSx7cmFkaXVzOmgsbGVmdDpvLWgsdG9wOmEtaH0pKX1zdGF0aWMgZnJvbU9iamVjdCh0KXtyZXR1cm4gc3VwZXIuX2Zyb21PYmplY3QodCl9fXQoY28sXCJ0eXBlXCIsXCJDaXJjbGVcIiksdChjbyxcImNhY2hlUHJvcGVydGllc1wiLFsuLi5FcywuLi5ob10pLHQoY28sXCJvd25EZWZhdWx0c1wiLHtyYWRpdXM6MCxzdGFydEFuZ2xlOjAsZW5kQW5nbGU6MzYwLGNvdW50ZXJDbG9ja3dpc2U6ITF9KSx0KGNvLFwiQVRUUklCVVRFX05BTUVTXCIsW1wiY3hcIixcImN5XCIsXCJyXCIsLi4uWmldKSx0dC5zZXRDbGFzcyhjbyksdHQuc2V0U1ZHQ2xhc3MoY28pO2NsYXNzIGxvIGV4dGVuZHMgc297Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdCh0aGlzLFwid2lkdGhcIiwxMCksdGhpcy5wb2ludHM9W119ZHJhd0RvdCh0KXtjb25zdCBlPXRoaXMuYWRkUG9pbnQodCkscz10aGlzLmNhbnZhcy5jb250ZXh0VG9wO3RoaXMuX3NhdmVBbmRUcmFuc2Zvcm0ocyksdGhpcy5kb3QocyxlKSxzLnJlc3RvcmUoKX1kb3QodCxlKXt0LmZpbGxTdHlsZT1lLmZpbGwsdC5iZWdpblBhdGgoKSx0LmFyYyhlLngsZS55LGUucmFkaXVzLDAsMipNYXRoLlBJLCExKSx0LmNsb3NlUGF0aCgpLHQuZmlsbCgpfW9uTW91c2VEb3duKHQpe3RoaXMucG9pbnRzPVtdLHRoaXMuY2FudmFzLmNsZWFyQ29udGV4dCh0aGlzLmNhbnZhcy5jb250ZXh0VG9wKSx0aGlzLl9zZXRTaGFkb3coKSx0aGlzLmRyYXdEb3QodCl9X3JlbmRlcigpe2NvbnN0IHQ9dGhpcy5jYW52YXMuY29udGV4dFRvcCxlPXRoaXMucG9pbnRzO3RoaXMuX3NhdmVBbmRUcmFuc2Zvcm0odCk7Zm9yKGxldCBzPTA7czxlLmxlbmd0aDtzKyspdGhpcy5kb3QodCxlW3NdKTt0LnJlc3RvcmUoKX1vbk1vdXNlTW92ZSh0KXshMD09PXRoaXMubGltaXRlZFRvQ2FudmFzU2l6ZSYmdGhpcy5faXNPdXRTaWRlQ2FudmFzKHQpfHwodGhpcy5uZWVkc0Z1bGxSZW5kZXIoKT8odGhpcy5jYW52YXMuY2xlYXJDb250ZXh0KHRoaXMuY2FudmFzLmNvbnRleHRUb3ApLHRoaXMuYWRkUG9pbnQodCksdGhpcy5fcmVuZGVyKCkpOnRoaXMuZHJhd0RvdCh0KSl9b25Nb3VzZVVwKCl7Y29uc3QgdD10aGlzLmNhbnZhcy5yZW5kZXJPbkFkZFJlbW92ZTt0aGlzLmNhbnZhcy5yZW5kZXJPbkFkZFJlbW92ZT0hMTtjb25zdCBlPVtdO2ZvcihsZXQgdD0wO3Q8dGhpcy5wb2ludHMubGVuZ3RoO3QrKyl7Y29uc3Qgcz10aGlzLnBvaW50c1t0XSxpPW5ldyBjbyh7cmFkaXVzOnMucmFkaXVzLGxlZnQ6cy54LHRvcDpzLnksb3JpZ2luWDpELG9yaWdpblk6RCxmaWxsOnMuZmlsbH0pO3RoaXMuc2hhZG93JiYoaS5zaGFkb3c9bmV3IERzKHRoaXMuc2hhZG93KSksZS5wdXNoKGkpfWNvbnN0IHM9bmV3IFVyKGUse2NhbnZhczp0aGlzLmNhbnZhc30pO3RoaXMuY2FudmFzLmZpcmUoXCJiZWZvcmU6cGF0aDpjcmVhdGVkXCIse3BhdGg6c30pLHRoaXMuY2FudmFzLmFkZChzKSx0aGlzLmNhbnZhcy5maXJlKFwicGF0aDpjcmVhdGVkXCIse3BhdGg6c30pLHRoaXMuY2FudmFzLmNsZWFyQ29udGV4dCh0aGlzLmNhbnZhcy5jb250ZXh0VG9wKSx0aGlzLl9yZXNldFNoYWRvdygpLHRoaXMuY2FudmFzLnJlbmRlck9uQWRkUmVtb3ZlPXQsdGhpcy5jYW52YXMucmVxdWVzdFJlbmRlckFsbCgpfWFkZFBvaW50KHQpe2xldHt4OmUseTpzfT10O2NvbnN0IGk9e3g6ZSx5OnMscmFkaXVzOk9uKE1hdGgubWF4KDAsdGhpcy53aWR0aC0yMCksdGhpcy53aWR0aCsyMCkvMixmaWxsOm5ldyBJZSh0aGlzLmNvbG9yKS5zZXRBbHBoYShPbigwLDEwMCkvMTAwKS50b1JnYmEoKX07cmV0dXJuIHRoaXMucG9pbnRzLnB1c2goaSksaX19Y2xhc3MgdW8gZXh0ZW5kcyBzb3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0KHRoaXMsXCJ3aWR0aFwiLDEwKSx0KHRoaXMsXCJkZW5zaXR5XCIsMjApLHQodGhpcyxcImRvdFdpZHRoXCIsMSksdCh0aGlzLFwiZG90V2lkdGhWYXJpYW5jZVwiLDEpLHQodGhpcyxcInJhbmRvbU9wYWNpdHlcIiwhMSksdCh0aGlzLFwib3B0aW1pemVPdmVybGFwcGluZ1wiLCEwKSx0aGlzLnNwcmF5Q2h1bmtzPVtdLHRoaXMuc3ByYXlDaHVuaz1bXX1vbk1vdXNlRG93bih0KXt0aGlzLnNwcmF5Q2h1bmtzPVtdLHRoaXMuY2FudmFzLmNsZWFyQ29udGV4dCh0aGlzLmNhbnZhcy5jb250ZXh0VG9wKSx0aGlzLl9zZXRTaGFkb3coKSx0aGlzLmFkZFNwcmF5Q2h1bmsodCksdGhpcy5yZW5kZXJDaHVuY2sodGhpcy5zcHJheUNodW5rKX1vbk1vdXNlTW92ZSh0KXshMD09PXRoaXMubGltaXRlZFRvQ2FudmFzU2l6ZSYmdGhpcy5faXNPdXRTaWRlQ2FudmFzKHQpfHwodGhpcy5hZGRTcHJheUNodW5rKHQpLHRoaXMucmVuZGVyQ2h1bmNrKHRoaXMuc3ByYXlDaHVuaykpfW9uTW91c2VVcCgpe2NvbnN0IHQ9dGhpcy5jYW52YXMucmVuZGVyT25BZGRSZW1vdmU7dGhpcy5jYW52YXMucmVuZGVyT25BZGRSZW1vdmU9ITE7Y29uc3QgZT1bXTtmb3IobGV0IHQ9MDt0PHRoaXMuc3ByYXlDaHVua3MubGVuZ3RoO3QrKyl7Y29uc3Qgcz10aGlzLnNwcmF5Q2h1bmtzW3RdO2ZvcihsZXQgdD0wO3Q8cy5sZW5ndGg7dCsrKXtjb25zdCBpPXNbdF0scj1uZXcganIoe3dpZHRoOmkud2lkdGgsaGVpZ2h0Omkud2lkdGgsbGVmdDppLngrMSx0b3A6aS55KzEsb3JpZ2luWDpELG9yaWdpblk6RCxmaWxsOnRoaXMuY29sb3J9KTtlLnB1c2gocil9fWNvbnN0IHM9bmV3IFVyKHRoaXMub3B0aW1pemVPdmVybGFwcGluZz9mdW5jdGlvbih0KXtjb25zdCBlPXt9LHM9W107Zm9yKGxldCBpLHI9MDtyPHQubGVuZ3RoO3IrKylpPVwiXCIuY29uY2F0KHRbcl0ubGVmdCkuY29uY2F0KHRbcl0udG9wKSxlW2ldfHwoZVtpXT0hMCxzLnB1c2godFtyXSkpO3JldHVybiBzfShlKTplLHtvYmplY3RDYWNoaW5nOiEwLHN1YlRhcmdldENoZWNrOiExLGludGVyYWN0aXZlOiExfSk7dGhpcy5zaGFkb3cmJnMuc2V0KFwic2hhZG93XCIsbmV3IERzKHRoaXMuc2hhZG93KSksdGhpcy5jYW52YXMuZmlyZShcImJlZm9yZTpwYXRoOmNyZWF0ZWRcIix7cGF0aDpzfSksdGhpcy5jYW52YXMuYWRkKHMpLHRoaXMuY2FudmFzLmZpcmUoXCJwYXRoOmNyZWF0ZWRcIix7cGF0aDpzfSksdGhpcy5jYW52YXMuY2xlYXJDb250ZXh0KHRoaXMuY2FudmFzLmNvbnRleHRUb3ApLHRoaXMuX3Jlc2V0U2hhZG93KCksdGhpcy5jYW52YXMucmVuZGVyT25BZGRSZW1vdmU9dCx0aGlzLmNhbnZhcy5yZXF1ZXN0UmVuZGVyQWxsKCl9cmVuZGVyQ2h1bmNrKHQpe2NvbnN0IGU9dGhpcy5jYW52YXMuY29udGV4dFRvcDtlLmZpbGxTdHlsZT10aGlzLmNvbG9yLHRoaXMuX3NhdmVBbmRUcmFuc2Zvcm0oZSk7Zm9yKGxldCBzPTA7czx0Lmxlbmd0aDtzKyspe2NvbnN0IGk9dFtzXTtlLmdsb2JhbEFscGhhPWkub3BhY2l0eSxlLmZpbGxSZWN0KGkueCxpLnksaS53aWR0aCxpLndpZHRoKX1lLnJlc3RvcmUoKX1fcmVuZGVyKCl7Y29uc3QgdD10aGlzLmNhbnZhcy5jb250ZXh0VG9wO3QuZmlsbFN0eWxlPXRoaXMuY29sb3IsdGhpcy5fc2F2ZUFuZFRyYW5zZm9ybSh0KTtmb3IobGV0IHQ9MDt0PHRoaXMuc3ByYXlDaHVua3MubGVuZ3RoO3QrKyl0aGlzLnJlbmRlckNodW5jayh0aGlzLnNwcmF5Q2h1bmtzW3RdKTt0LnJlc3RvcmUoKX1hZGRTcHJheUNodW5rKHQpe3RoaXMuc3ByYXlDaHVuaz1bXTtjb25zdCBlPXRoaXMud2lkdGgvMjtmb3IobGV0IHM9MDtzPHRoaXMuZGVuc2l0eTtzKyspdGhpcy5zcHJheUNodW5rLnB1c2goe3g6T24odC54LWUsdC54K2UpLHk6T24odC55LWUsdC55K2UpLHdpZHRoOnRoaXMuZG90V2lkdGhWYXJpYW5jZT9PbihNYXRoLm1heCgxLHRoaXMuZG90V2lkdGgtdGhpcy5kb3RXaWR0aFZhcmlhbmNlKSx0aGlzLmRvdFdpZHRoK3RoaXMuZG90V2lkdGhWYXJpYW5jZSk6dGhpcy5kb3RXaWR0aCxvcGFjaXR5OnRoaXMucmFuZG9tT3BhY2l0eT9PbigwLDEwMCkvMTAwOjF9KTt0aGlzLnNwcmF5Q2h1bmtzLnB1c2godGhpcy5zcHJheUNodW5rKX19Y2xhc3MgZ28gZXh0ZW5kcyBvb3tjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KX1nZXRQYXR0ZXJuU3JjKCl7Y29uc3QgdD1wdCgpLGU9dC5nZXRDb250ZXh0KFwiMmRcIik7cmV0dXJuIHQud2lkdGg9dC5oZWlnaHQ9MjUsZSYmKGUuZmlsbFN0eWxlPXRoaXMuY29sb3IsZS5iZWdpblBhdGgoKSxlLmFyYygxMCwxMCwxMCwwLDIqTWF0aC5QSSwhMSksZS5jbG9zZVBhdGgoKSxlLmZpbGwoKSksdH1nZXRQYXR0ZXJuKHQpe3JldHVybiB0LmNyZWF0ZVBhdHRlcm4odGhpcy5zb3VyY2V8fHRoaXMuZ2V0UGF0dGVyblNyYygpLFwicmVwZWF0XCIpfV9zZXRCcnVzaFN0eWxlcyh0KXtzdXBlci5fc2V0QnJ1c2hTdHlsZXModCk7Y29uc3QgZT10aGlzLmdldFBhdHRlcm4odCk7ZSYmKHQuc3Ryb2tlU3R5bGU9ZSl9Y3JlYXRlUGF0aCh0KXtjb25zdCBlPXN1cGVyLmNyZWF0ZVBhdGgodCkscz1lLl9nZXRMZWZ0VG9wQ29vcmRzKCkuc2NhbGFyQWRkKGUuc3Ryb2tlV2lkdGgvMik7cmV0dXJuIGUuc3Ryb2tlPW5ldyBlbyh7c291cmNlOnRoaXMuc291cmNlfHx0aGlzLmdldFBhdHRlcm5TcmMoKSxvZmZzZXRYOi1zLngsb2Zmc2V0WTotcy55fSksZX19Y29uc3QgZm89W1wieDFcIixcInkxXCIsXCJ4MlwiLFwieTJcIl0scG89W1wieDFcIixcInkxXCIsXCJ4MlwiLFwieTJcIl0sbW89W1wieDFcIixcIngyXCIsXCJ5MVwiLFwieTJcIl07Y2xhc3Mgdm8gZXh0ZW5kcyBMaXtjb25zdHJ1Y3Rvcigpe2xldFt0LGUscyxpXT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06WzAsMCwwLDBdLHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3N1cGVyKCksT2JqZWN0LmFzc2lnbih0aGlzLHZvLm93bkRlZmF1bHRzKSx0aGlzLnNldE9wdGlvbnMociksdGhpcy54MT10LHRoaXMueDI9cyx0aGlzLnkxPWUsdGhpcy55Mj1pLHRoaXMuX3NldFdpZHRoSGVpZ2h0KCk7Y29uc3R7bGVmdDpuLHRvcDpvfT1yO1wibnVtYmVyXCI9PXR5cGVvZiBuJiZ0aGlzLnNldChNLG4pLFwibnVtYmVyXCI9PXR5cGVvZiBvJiZ0aGlzLnNldChQLG8pfV9zZXRXaWR0aEhlaWdodCgpe2NvbnN0e3gxOnQseTE6ZSx4MjpzLHkyOml9PXRoaXM7dGhpcy53aWR0aD1NYXRoLmFicyhzLXQpLHRoaXMuaGVpZ2h0PU1hdGguYWJzKGktZSk7Y29uc3R7bGVmdDpyLHRvcDpuLHdpZHRoOm8saGVpZ2h0OmF9PWhlKFt7eDp0LHk6ZX0se3g6cyx5Oml9XSksaD1uZXcgb3QocitvLzIsbithLzIpO3RoaXMuc2V0UG9zaXRpb25CeU9yaWdpbihoLEQsRCl9X3NldCh0LGUpe3JldHVybiBzdXBlci5fc2V0KHQsZSksbW8uaW5jbHVkZXModCkmJnRoaXMuX3NldFdpZHRoSGVpZ2h0KCksdGhpc31fcmVuZGVyKHQpe3QuYmVnaW5QYXRoKCk7Y29uc3QgZT10aGlzLmNhbGNMaW5lUG9pbnRzKCk7dC5tb3ZlVG8oZS54MSxlLnkxKSx0LmxpbmVUbyhlLngyLGUueTIpLHQubGluZVdpZHRoPXRoaXMuc3Ryb2tlV2lkdGg7Y29uc3Qgcz10LnN0cm9rZVN0eWxlO3ZhciBpO0d0KHRoaXMuc3Ryb2tlKT90LnN0cm9rZVN0eWxlPXRoaXMuc3Ryb2tlLnRvTGl2ZSh0KTp0LnN0cm9rZVN0eWxlPW51bGwhPT0oaT10aGlzLnN0cm9rZSkmJnZvaWQgMCE9PWk/aTp0LmZpbGxTdHlsZTt0aGlzLnN0cm9rZSYmdGhpcy5fcmVuZGVyU3Ryb2tlKHQpLHQuc3Ryb2tlU3R5bGU9c31fZmluZENlbnRlckZyb21FbGVtZW50KCl7cmV0dXJuIG5ldyBvdCgodGhpcy54MSt0aGlzLngyKS8yLCh0aGlzLnkxK3RoaXMueTIpLzIpfXRvT2JqZWN0KCl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOltdO3JldHVybiBzKHMoe30sc3VwZXIudG9PYmplY3QodCkpLHRoaXMuY2FsY0xpbmVQb2ludHMoKSl9X2dldE5vblRyYW5zZm9ybWVkRGltZW5zaW9ucygpe2NvbnN0IHQ9c3VwZXIuX2dldE5vblRyYW5zZm9ybWVkRGltZW5zaW9ucygpO3JldHVyblwiYnV0dFwiPT09dGhpcy5zdHJva2VMaW5lQ2FwJiYoMD09PXRoaXMud2lkdGgmJih0LnktPXRoaXMuc3Ryb2tlV2lkdGgpLDA9PT10aGlzLmhlaWdodCYmKHQueC09dGhpcy5zdHJva2VXaWR0aCkpLHR9Y2FsY0xpbmVQb2ludHMoKXtjb25zdHt4MTp0LHgyOmUseTE6cyx5MjppLHdpZHRoOnIsaGVpZ2h0Om59PXRoaXMsbz10PD1lPy0xOjEsYT1zPD1pPy0xOjE7cmV0dXJue3gxOm8qci8yLHgyOm8qLXIvMix5MTphKm4vMix5MjphKi1uLzJ9fV90b1NWRygpe2NvbnN0e3gxOnQseDI6ZSx5MTpzLHkyOml9PXRoaXMuY2FsY0xpbmVQb2ludHMoKTtyZXR1cm5bXCI8bGluZSBcIixcIkNPTU1PTl9QQVJUU1wiLCd4MT1cIicuY29uY2F0KHQsJ1wiIHkxPVwiJykuY29uY2F0KHMsJ1wiIHgyPVwiJykuY29uY2F0KGUsJ1wiIHkyPVwiJykuY29uY2F0KGksJ1wiIC8+XFxuJyldfXN0YXRpYyBhc3luYyBmcm9tRWxlbWVudCh0LGUscyl7Y29uc3Qgcj1Qcih0LHRoaXMuQVRUUklCVVRFX05BTUVTLHMpLHt4MTpuPTAseTE6bz0wLHgyOmE9MCx5MjpoPTB9PXI7cmV0dXJuIG5ldyB0aGlzKFtuLG8sYSxoXSxpKHIsZm8pKX1zdGF0aWMgZnJvbU9iamVjdCh0KXtsZXR7eDE6ZSx5MTpyLHgyOm4seTI6b309dCxhPWkodCxwbyk7cmV0dXJuIHRoaXMuX2Zyb21PYmplY3QocyhzKHt9LGEpLHt9LHtwb2ludHM6W2UscixuLG9dfSkse2V4dHJhUGFyYW06XCJwb2ludHNcIn0pfX10KHZvLFwidHlwZVwiLFwiTGluZVwiKSx0KHZvLFwiY2FjaGVQcm9wZXJ0aWVzXCIsWy4uLkVzLC4uLm1vXSksdCh2byxcIkFUVFJJQlVURV9OQU1FU1wiLFppLmNvbmNhdChtbykpLHR0LnNldENsYXNzKHZvKSx0dC5zZXRTVkdDbGFzcyh2byk7Y2xhc3MgeW8gZXh0ZW5kcyBMaXtzdGF0aWMgZ2V0RGVmYXVsdHMoKXtyZXR1cm4gcyhzKHt9LHN1cGVyLmdldERlZmF1bHRzKCkpLHlvLm93bkRlZmF1bHRzKX1jb25zdHJ1Y3Rvcih0KXtzdXBlcigpLE9iamVjdC5hc3NpZ24odGhpcyx5by5vd25EZWZhdWx0cyksdGhpcy5zZXRPcHRpb25zKHQpfV9yZW5kZXIodCl7Y29uc3QgZT10aGlzLndpZHRoLzIscz10aGlzLmhlaWdodC8yO3QuYmVnaW5QYXRoKCksdC5tb3ZlVG8oLWUscyksdC5saW5lVG8oMCwtcyksdC5saW5lVG8oZSxzKSx0LmNsb3NlUGF0aCgpLHRoaXMuX3JlbmRlclBhaW50SW5PcmRlcih0KX1fdG9TVkcoKXtjb25zdCB0PXRoaXMud2lkdGgvMixlPXRoaXMuaGVpZ2h0LzI7cmV0dXJuW1wiPHBvbHlnb24gXCIsXCJDT01NT05fUEFSVFNcIiwncG9pbnRzPVwiJyxcIlwiLmNvbmNhdCgtdCxcIiBcIikuY29uY2F0KGUsXCIsMCBcIikuY29uY2F0KC1lLFwiLFwiKS5jb25jYXQodCxcIiBcIikuY29uY2F0KGUpLCdcIiAvPiddfX10KHlvLFwidHlwZVwiLFwiVHJpYW5nbGVcIiksdCh5byxcIm93bkRlZmF1bHRzXCIse3dpZHRoOjEwMCxoZWlnaHQ6MTAwfSksdHQuc2V0Q2xhc3MoeW8pLHR0LnNldFNWR0NsYXNzKHlvKTtjb25zdCBfbz1bXCJyeFwiLFwicnlcIl07Y2xhc3MgeG8gZXh0ZW5kcyBMaXtzdGF0aWMgZ2V0RGVmYXVsdHMoKXtyZXR1cm4gcyhzKHt9LHN1cGVyLmdldERlZmF1bHRzKCkpLHhvLm93bkRlZmF1bHRzKX1jb25zdHJ1Y3Rvcih0KXtzdXBlcigpLE9iamVjdC5hc3NpZ24odGhpcyx4by5vd25EZWZhdWx0cyksdGhpcy5zZXRPcHRpb25zKHQpfV9zZXQodCxlKXtzd2l0Y2goc3VwZXIuX3NldCh0LGUpLHQpe2Nhc2VcInJ4XCI6dGhpcy5yeD1lLHRoaXMuc2V0KFwid2lkdGhcIiwyKmUpO2JyZWFrO2Nhc2VcInJ5XCI6dGhpcy5yeT1lLHRoaXMuc2V0KFwiaGVpZ2h0XCIsMiplKX1yZXR1cm4gdGhpc31nZXRSeCgpe3JldHVybiB0aGlzLmdldChcInJ4XCIpKnRoaXMuZ2V0KEgpfWdldFJ5KCl7cmV0dXJuIHRoaXMuZ2V0KFwicnlcIikqdGhpcy5nZXQoTil9dG9PYmplY3QoKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06W107cmV0dXJuIHN1cGVyLnRvT2JqZWN0KFsuLi5fbywuLi50XSl9X3RvU1ZHKCl7cmV0dXJuW1wiPGVsbGlwc2UgXCIsXCJDT01NT05fUEFSVFNcIiwnY3g9XCIwXCIgY3k9XCIwXCIgcng9XCInLmNvbmNhdCh0aGlzLnJ4LCdcIiByeT1cIicpLmNvbmNhdCh0aGlzLnJ5LCdcIiAvPlxcbicpXX1fcmVuZGVyKHQpe3QuYmVnaW5QYXRoKCksdC5zYXZlKCksdC50cmFuc2Zvcm0oMSwwLDAsdGhpcy5yeS90aGlzLnJ4LDAsMCksdC5hcmMoMCwwLHRoaXMucngsMCxTLCExKSx0LnJlc3RvcmUoKSx0aGlzLl9yZW5kZXJQYWludEluT3JkZXIodCl9c3RhdGljIGFzeW5jIGZyb21FbGVtZW50KHQsZSxzKXtjb25zdCBpPVByKHQsdGhpcy5BVFRSSUJVVEVfTkFNRVMscyk7cmV0dXJuIGkubGVmdD0oaS5sZWZ0fHwwKS1pLnJ4LGkudG9wPShpLnRvcHx8MCktaS5yeSxuZXcgdGhpcyhpKX19ZnVuY3Rpb24gQ28odCl7aWYoIXQpcmV0dXJuW107Y29uc3QgZT10LnJlcGxhY2UoLywvZyxcIiBcIikudHJpbSgpLnNwbGl0KC9cXHMrLykscz1bXTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrPTIpcy5wdXNoKHt4OnBhcnNlRmxvYXQoZVt0XSkseTpwYXJzZUZsb2F0KGVbdCsxXSl9KTtyZXR1cm4gc310KHhvLFwidHlwZVwiLFwiRWxsaXBzZVwiKSx0KHhvLFwiY2FjaGVQcm9wZXJ0aWVzXCIsWy4uLkVzLC4uLl9vXSksdCh4byxcIm93bkRlZmF1bHRzXCIse3J4OjAscnk6MH0pLHQoeG8sXCJBVFRSSUJVVEVfTkFNRVNcIixbLi4uWmksXCJjeFwiLFwiY3lcIixcInJ4XCIsXCJyeVwiXSksdHQuc2V0Q2xhc3MoeG8pLHR0LnNldFNWR0NsYXNzKHhvKTtjb25zdCBibz1bXCJsZWZ0XCIsXCJ0b3BcIl0sU289e2V4YWN0Qm91bmRpbmdCb3g6ITF9O2NsYXNzIHdvIGV4dGVuZHMgTGl7c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIHMocyh7fSxzdXBlci5nZXREZWZhdWx0cygpKSx3by5vd25EZWZhdWx0cyl9Y29uc3RydWN0b3IoKXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06W10scz1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307c3VwZXIoKSx0KHRoaXMsXCJzdHJva2VEaWZmXCIsdm9pZCAwKSxPYmplY3QuYXNzaWduKHRoaXMsd28ub3duRGVmYXVsdHMpLHRoaXMuc2V0T3B0aW9ucyhzKSx0aGlzLnBvaW50cz1lO2NvbnN0e2xlZnQ6aSx0b3A6cn09czt0aGlzLmluaXRpYWxpemVkPSEwLHRoaXMuc2V0Qm91bmRpbmdCb3goITApLFwibnVtYmVyXCI9PXR5cGVvZiBpJiZ0aGlzLnNldChNLGkpLFwibnVtYmVyXCI9PXR5cGVvZiByJiZ0aGlzLnNldChQLHIpfWlzT3Blbigpe3JldHVybiEwfV9wcm9qZWN0U3Ryb2tlT25Qb2ludHModCl7cmV0dXJuIFdpKHRoaXMucG9pbnRzLHQsdGhpcy5pc09wZW4oKSl9X2NhbGNEaW1lbnNpb25zKHQpe3Q9cyh7c2NhbGVYOnRoaXMuc2NhbGVYLHNjYWxlWTp0aGlzLnNjYWxlWSxza2V3WDp0aGlzLnNrZXdYLHNrZXdZOnRoaXMuc2tld1ksc3Ryb2tlTGluZUNhcDp0aGlzLnN0cm9rZUxpbmVDYXAsc3Ryb2tlTGluZUpvaW46dGhpcy5zdHJva2VMaW5lSm9pbixzdHJva2VNaXRlckxpbWl0OnRoaXMuc3Ryb2tlTWl0ZXJMaW1pdCxzdHJva2VVbmlmb3JtOnRoaXMuc3Ryb2tlVW5pZm9ybSxzdHJva2VXaWR0aDp0aGlzLnN0cm9rZVdpZHRofSx0fHx7fSk7Y29uc3QgZT10aGlzLmV4YWN0Qm91bmRpbmdCb3g/dGhpcy5fcHJvamVjdFN0cm9rZU9uUG9pbnRzKHQpLm1hcCgodD0+dC5wcm9qZWN0ZWRQb2ludCkpOnRoaXMucG9pbnRzO2lmKDA9PT1lLmxlbmd0aClyZXR1cm57bGVmdDowLHRvcDowLHdpZHRoOjAsaGVpZ2h0OjAscGF0aE9mZnNldDpuZXcgb3Qsc3Ryb2tlT2Zmc2V0Om5ldyBvdCxzdHJva2VEaWZmOm5ldyBvdH07Y29uc3QgaT1oZShlKSxyPUx0KHMocyh7fSx0KSx7fSx7c2NhbGVYOjEsc2NhbGVZOjF9KSksbj1oZSh0aGlzLnBvaW50cy5tYXAoKHQ9PlN0KHQsciwhMCkpKSksbz1uZXcgb3QodGhpcy5zY2FsZVgsdGhpcy5zY2FsZVkpO2xldCBhPWkubGVmdCtpLndpZHRoLzIsaD1pLnRvcCtpLmhlaWdodC8yO3JldHVybiB0aGlzLmV4YWN0Qm91bmRpbmdCb3gmJihhLT1oKk1hdGgudGFuKHh0KHRoaXMuc2tld1gpKSxoLT1hKk1hdGgudGFuKHh0KHRoaXMuc2tld1kpKSkscyhzKHt9LGkpLHt9LHtwYXRoT2Zmc2V0Om5ldyBvdChhLGgpLHN0cm9rZU9mZnNldDpuZXcgb3Qobi5sZWZ0LG4udG9wKS5zdWJ0cmFjdChuZXcgb3QoaS5sZWZ0LGkudG9wKSkubXVsdGlwbHkobyksc3Ryb2tlRGlmZjpuZXcgb3QoaS53aWR0aCxpLmhlaWdodCkuc3VidHJhY3QobmV3IG90KG4ud2lkdGgsbi5oZWlnaHQpKS5tdWx0aXBseShvKX0pfV9maW5kQ2VudGVyRnJvbUVsZW1lbnQoKXtjb25zdCB0PWhlKHRoaXMucG9pbnRzKTtyZXR1cm4gbmV3IG90KHQubGVmdCt0LndpZHRoLzIsdC50b3ArdC5oZWlnaHQvMil9c2V0RGltZW5zaW9ucygpe3RoaXMuc2V0Qm91bmRpbmdCb3goKX1zZXRCb3VuZGluZ0JveCh0KXtjb25zdHtsZWZ0OmUsdG9wOnMsd2lkdGg6aSxoZWlnaHQ6cixwYXRoT2Zmc2V0Om4sc3Ryb2tlT2Zmc2V0Om8sc3Ryb2tlRGlmZjphfT10aGlzLl9jYWxjRGltZW5zaW9ucygpO3RoaXMuc2V0KHt3aWR0aDppLGhlaWdodDpyLHBhdGhPZmZzZXQ6bixzdHJva2VPZmZzZXQ6byxzdHJva2VEaWZmOmF9KSx0JiZ0aGlzLnNldFBvc2l0aW9uQnlPcmlnaW4obmV3IG90KGUraS8yLHMrci8yKSxELEQpfWlzU3Ryb2tlQWNjb3VudGVkRm9ySW5EaW1lbnNpb25zKCl7cmV0dXJuIHRoaXMuZXhhY3RCb3VuZGluZ0JveH1fZ2V0Tm9uVHJhbnNmb3JtZWREaW1lbnNpb25zKCl7cmV0dXJuIHRoaXMuZXhhY3RCb3VuZGluZ0JveD9uZXcgb3QodGhpcy53aWR0aCx0aGlzLmhlaWdodCk6c3VwZXIuX2dldE5vblRyYW5zZm9ybWVkRGltZW5zaW9ucygpfV9nZXRUcmFuc2Zvcm1lZERpbWVuc2lvbnMoKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307aWYodGhpcy5leGFjdEJvdW5kaW5nQm94KXtsZXQgbjtpZihPYmplY3Qua2V5cyh0KS5zb21lKCh0PT50aGlzLnN0cm9rZVVuaWZvcm18fHRoaXMuY29uc3RydWN0b3IubGF5b3V0UHJvcGVydGllcy5pbmNsdWRlcyh0KSkpKXt2YXIgZSxzO2NvbnN0e3dpZHRoOmksaGVpZ2h0OnJ9PXRoaXMuX2NhbGNEaW1lbnNpb25zKHQpO249bmV3IG90KG51bGwhPT0oZT10LndpZHRoKSYmdm9pZCAwIT09ZT9lOmksbnVsbCE9PShzPXQuaGVpZ2h0KSYmdm9pZCAwIT09cz9zOnIpfWVsc2V7dmFyIGkscjtuPW5ldyBvdChudWxsIT09KGk9dC53aWR0aCkmJnZvaWQgMCE9PWk/aTp0aGlzLndpZHRoLG51bGwhPT0ocj10LmhlaWdodCkmJnZvaWQgMCE9PXI/cjp0aGlzLmhlaWdodCl9cmV0dXJuIG4ubXVsdGlwbHkobmV3IG90KHQuc2NhbGVYfHx0aGlzLnNjYWxlWCx0LnNjYWxlWXx8dGhpcy5zY2FsZVkpKX1yZXR1cm4gc3VwZXIuX2dldFRyYW5zZm9ybWVkRGltZW5zaW9ucyh0KX1fc2V0KHQsZSl7Y29uc3Qgcz10aGlzLmluaXRpYWxpemVkJiZ0aGlzW3RdIT09ZSxpPXN1cGVyLl9zZXQodCxlKTtyZXR1cm4gdGhpcy5leGFjdEJvdW5kaW5nQm94JiZzJiYoKHQ9PT1IfHx0PT09TikmJnRoaXMuc3Ryb2tlVW5pZm9ybSYmdGhpcy5jb25zdHJ1Y3Rvci5sYXlvdXRQcm9wZXJ0aWVzLmluY2x1ZGVzKFwic3Ryb2tlVW5pZm9ybVwiKXx8dGhpcy5jb25zdHJ1Y3Rvci5sYXlvdXRQcm9wZXJ0aWVzLmluY2x1ZGVzKHQpKSYmdGhpcy5zZXREaW1lbnNpb25zKCksaX10b09iamVjdCgpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbXTtyZXR1cm4gcyhzKHt9LHN1cGVyLnRvT2JqZWN0KHQpKSx7fSx7cG9pbnRzOnRoaXMucG9pbnRzLm1hcCgodD0+e2xldHt4OmUseTpzfT10O3JldHVybnt4OmUseTpzfX0pKX0pfV90b1NWRygpe2NvbnN0IHQ9W10sZT10aGlzLnBhdGhPZmZzZXQueCxzPXRoaXMucGF0aE9mZnNldC55LGk9by5OVU1fRlJBQ1RJT05fRElHSVRTO2ZvcihsZXQgcj0wLG49dGhpcy5wb2ludHMubGVuZ3RoO3I8bjtyKyspdC5wdXNoKFZ0KHRoaXMucG9pbnRzW3JdLngtZSxpKSxcIixcIixWdCh0aGlzLnBvaW50c1tyXS55LXMsaSksXCIgXCIpO3JldHVybltcIjxcIi5jb25jYXQodGhpcy5jb25zdHJ1Y3Rvci50eXBlLnRvTG93ZXJDYXNlKCksXCIgXCIpLFwiQ09NTU9OX1BBUlRTXCIsJ3BvaW50cz1cIicuY29uY2F0KHQuam9pbihcIlwiKSwnXCIgLz5cXG4nKV19X3JlbmRlcih0KXtjb25zdCBlPXRoaXMucG9pbnRzLmxlbmd0aCxzPXRoaXMucGF0aE9mZnNldC54LGk9dGhpcy5wYXRoT2Zmc2V0Lnk7aWYoZSYmIWlzTmFOKHRoaXMucG9pbnRzW2UtMV0ueSkpe3QuYmVnaW5QYXRoKCksdC5tb3ZlVG8odGhpcy5wb2ludHNbMF0ueC1zLHRoaXMucG9pbnRzWzBdLnktaSk7Zm9yKGxldCByPTA7cjxlO3IrKyl7Y29uc3QgZT10aGlzLnBvaW50c1tyXTt0LmxpbmVUbyhlLngtcyxlLnktaSl9IXRoaXMuaXNPcGVuKCkmJnQuY2xvc2VQYXRoKCksdGhpcy5fcmVuZGVyUGFpbnRJbk9yZGVyKHQpfX1jb21wbGV4aXR5KCl7cmV0dXJuIHRoaXMucG9pbnRzLmxlbmd0aH1zdGF0aWMgYXN5bmMgZnJvbUVsZW1lbnQodCxlLHIpe3JldHVybiBuZXcgdGhpcyhDbyh0LmdldEF0dHJpYnV0ZShcInBvaW50c1wiKSkscyhzKHt9LGkoUHIodCx0aGlzLkFUVFJJQlVURV9OQU1FUyxyKSxibykpLGUpKX1zdGF0aWMgZnJvbU9iamVjdCh0KXtyZXR1cm4gdGhpcy5fZnJvbU9iamVjdCh0LHtleHRyYVBhcmFtOlwicG9pbnRzXCJ9KX19dCh3byxcIm93bkRlZmF1bHRzXCIsU28pLHQod28sXCJ0eXBlXCIsXCJQb2x5bGluZVwiKSx0KHdvLFwibGF5b3V0UHJvcGVydGllc1wiLFtVLHEsXCJzdHJva2VMaW5lQ2FwXCIsXCJzdHJva2VMaW5lSm9pblwiLFwic3Ryb2tlTWl0ZXJMaW1pdFwiLFwic3Ryb2tlV2lkdGhcIixcInN0cm9rZVVuaWZvcm1cIixcInBvaW50c1wiXSksdCh3byxcImNhY2hlUHJvcGVydGllc1wiLFsuLi5FcyxcInBvaW50c1wiXSksdCh3byxcIkFUVFJJQlVURV9OQU1FU1wiLFsuLi5aaV0pLHR0LnNldENsYXNzKHdvKSx0dC5zZXRTVkdDbGFzcyh3byk7Y2xhc3MgVG8gZXh0ZW5kcyB3b3tpc09wZW4oKXtyZXR1cm4hMX19dChUbyxcIm93bkRlZmF1bHRzXCIsU28pLHQoVG8sXCJ0eXBlXCIsXCJQb2x5Z29uXCIpLHR0LnNldENsYXNzKFRvKSx0dC5zZXRTVkdDbGFzcyhUbyk7Y2xhc3MgT28gZXh0ZW5kcyBMaXtpc0VtcHR5U3R5bGVzKHQpe2lmKCF0aGlzLnN0eWxlcylyZXR1cm4hMDtpZih2b2lkIDAhPT10JiYhdGhpcy5zdHlsZXNbdF0pcmV0dXJuITA7Y29uc3QgZT12b2lkIDA9PT10P3RoaXMuc3R5bGVzOntsaW5lOnRoaXMuc3R5bGVzW3RdfTtmb3IoY29uc3QgdCBpbiBlKWZvcihjb25zdCBzIGluIGVbdF0pZm9yKGNvbnN0IGkgaW4gZVt0XVtzXSlyZXR1cm4hMTtyZXR1cm4hMH1zdHlsZUhhcyh0LGUpe2lmKCF0aGlzLnN0eWxlcylyZXR1cm4hMTtpZih2b2lkIDAhPT1lJiYhdGhpcy5zdHlsZXNbZV0pcmV0dXJuITE7Y29uc3Qgcz12b2lkIDA9PT1lP3RoaXMuc3R5bGVzOnswOnRoaXMuc3R5bGVzW2VdfTtmb3IoY29uc3QgZSBpbiBzKWZvcihjb25zdCBpIGluIHNbZV0paWYodm9pZCAwIT09c1tlXVtpXVt0XSlyZXR1cm4hMDtyZXR1cm4hMX1jbGVhblN0eWxlKHQpe2lmKCF0aGlzLnN0eWxlcylyZXR1cm4hMTtjb25zdCBlPXRoaXMuc3R5bGVzO2xldCBzLGkscj0wLG49ITAsbz0wO2Zvcihjb25zdCBvIGluIGUpe3M9MDtmb3IoY29uc3QgYSBpbiBlW29dKXtjb25zdCBoPWVbb11bYV18fHt9O3IrKyx2b2lkIDAhPT1oW3RdPyhpP2hbdF0hPT1pJiYobj0hMSk6aT1oW3RdLGhbdF09PT10aGlzW3RdJiZkZWxldGUgaFt0XSk6bj0hMSwwIT09T2JqZWN0LmtleXMoaCkubGVuZ3RoP3MrKzpkZWxldGUgZVtvXVthXX0wPT09cyYmZGVsZXRlIGVbb119Zm9yKGxldCB0PTA7dDx0aGlzLl90ZXh0TGluZXMubGVuZ3RoO3QrKylvKz10aGlzLl90ZXh0TGluZXNbdF0ubGVuZ3RoO24mJnI9PT1vJiYodGhpc1t0XT1pLHRoaXMucmVtb3ZlU3R5bGUodCkpfXJlbW92ZVN0eWxlKHQpe2lmKCF0aGlzLnN0eWxlcylyZXR1cm47Y29uc3QgZT10aGlzLnN0eWxlcztsZXQgcyxpLHI7Zm9yKGkgaW4gZSl7Zm9yKHIgaW4gcz1lW2ldLHMpZGVsZXRlIHNbcl1bdF0sMD09PU9iamVjdC5rZXlzKHNbcl0pLmxlbmd0aCYmZGVsZXRlIHNbcl07MD09PU9iamVjdC5rZXlzKHMpLmxlbmd0aCYmZGVsZXRlIGVbaV19fV9leHRlbmRTdHlsZXModCxlKXtjb25zdHtsaW5lSW5kZXg6aSxjaGFySW5kZXg6cn09dGhpcy5nZXQyREN1cnNvckxvY2F0aW9uKHQpO3RoaXMuX2dldExpbmVTdHlsZShpKXx8dGhpcy5fc2V0TGluZVN0eWxlKGkpO2NvbnN0IG49V3QocyhzKHt9LHRoaXMuX2dldFN0eWxlRGVjbGFyYXRpb24oaSxyKSksZSksKHQ9PnZvaWQgMCE9PXQpKTt0aGlzLl9zZXRTdHlsZURlY2xhcmF0aW9uKGkscixuKX1nZXRTZWxlY3Rpb25TdHlsZXModCxlLHMpe2NvbnN0IGk9W107Zm9yKGxldCByPXQ7cjwoZXx8dCk7cisrKWkucHVzaCh0aGlzLmdldFN0eWxlQXRQb3NpdGlvbihyLHMpKTtyZXR1cm4gaX1nZXRTdHlsZUF0UG9zaXRpb24odCxlKXtjb25zdHtsaW5lSW5kZXg6cyxjaGFySW5kZXg6aX09dGhpcy5nZXQyREN1cnNvckxvY2F0aW9uKHQpO3JldHVybiBlP3RoaXMuZ2V0Q29tcGxldGVTdHlsZURlY2xhcmF0aW9uKHMsaSk6dGhpcy5fZ2V0U3R5bGVEZWNsYXJhdGlvbihzLGkpfXNldFNlbGVjdGlvblN0eWxlcyh0LGUscyl7Zm9yKGxldCBpPWU7aTwoc3x8ZSk7aSsrKXRoaXMuX2V4dGVuZFN0eWxlcyhpLHQpO3RoaXMuX2ZvcmNlQ2xlYXJDYWNoZT0hMH1fZ2V0U3R5bGVEZWNsYXJhdGlvbih0LGUpe3ZhciBzO2NvbnN0IGk9dGhpcy5zdHlsZXMmJnRoaXMuc3R5bGVzW3RdO3JldHVybiBpJiZudWxsIT09KHM9aVtlXSkmJnZvaWQgMCE9PXM/czp7fX1nZXRDb21wbGV0ZVN0eWxlRGVjbGFyYXRpb24odCxlKXtyZXR1cm4gcyhzKHt9LFl0KHRoaXMsdGhpcy5jb25zdHJ1Y3Rvci5fc3R5bGVQcm9wZXJ0aWVzKSksdGhpcy5fZ2V0U3R5bGVEZWNsYXJhdGlvbih0LGUpKX1fc2V0U3R5bGVEZWNsYXJhdGlvbih0LGUscyl7dGhpcy5zdHlsZXNbdF1bZV09c31fZGVsZXRlU3R5bGVEZWNsYXJhdGlvbih0LGUpe2RlbGV0ZSB0aGlzLnN0eWxlc1t0XVtlXX1fZ2V0TGluZVN0eWxlKHQpe3JldHVybiEhdGhpcy5zdHlsZXNbdF19X3NldExpbmVTdHlsZSh0KXt0aGlzLnN0eWxlc1t0XT17fX1fZGVsZXRlTGluZVN0eWxlKHQpe2RlbGV0ZSB0aGlzLnN0eWxlc1t0XX19dChPbyxcIl9zdHlsZVByb3BlcnRpZXNcIixxZSk7Y29uc3Qga289LyAgKy9nLERvPS9cIi9nO2Z1bmN0aW9uIE1vKHQsZSxzLGkscil7cmV0dXJuXCJcXHRcXHRcIi5jb25jYXQoZnVuY3Rpb24odCxlKXtsZXR7bGVmdDpzLHRvcDppLHdpZHRoOnIsaGVpZ2h0Om59PWUsYT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06by5OVU1fRlJBQ1RJT05fRElHSVRTO2NvbnN0IGg9WWUoSyx0LCExKSxbYyxsLHUsZF09W3MsaSxyLG5dLm1hcCgodD0+VnQodCxhKSkpO3JldHVyblwiPHJlY3QgXCIuY29uY2F0KGgsJyB4PVwiJykuY29uY2F0KGMsJ1wiIHk9XCInKS5jb25jYXQobCwnXCIgd2lkdGg9XCInKS5jb25jYXQodSwnXCIgaGVpZ2h0PVwiJykuY29uY2F0KGQsJ1wiPjwvcmVjdD4nKX0odCx7bGVmdDplLHRvcDpzLHdpZHRoOmksaGVpZ2h0OnJ9KSxcIlxcblwiKX1jb25zdCBQbz1bXCJ0ZXh0QW5jaG9yXCIsXCJ0ZXh0RGVjb3JhdGlvblwiLFwiZHhcIixcImR5XCIsXCJ0b3BcIixcImxlZnRcIixcImZvbnRTaXplXCIsXCJzdHJva2VXaWR0aFwiXTtsZXQgRW87Y2xhc3MgQW8gZXh0ZW5kcyBPb3tzdGF0aWMgZ2V0RGVmYXVsdHMoKXtyZXR1cm4gcyhzKHt9LHN1cGVyLmdldERlZmF1bHRzKCkpLEFvLm93bkRlZmF1bHRzKX1jb25zdHJ1Y3RvcihlLHMpe3N1cGVyKCksdCh0aGlzLFwiX19jaGFyQm91bmRzXCIsW10pLE9iamVjdC5hc3NpZ24odGhpcyxBby5vd25EZWZhdWx0cyksdGhpcy5zZXRPcHRpb25zKHMpLHRoaXMuc3R5bGVzfHwodGhpcy5zdHlsZXM9e30pLHRoaXMudGV4dD1lLHRoaXMuaW5pdGlhbGl6ZWQ9ITAsdGhpcy5wYXRoJiZ0aGlzLnNldFBhdGhJbmZvKCksdGhpcy5pbml0RGltZW5zaW9ucygpLHRoaXMuc2V0Q29vcmRzKCl9c2V0UGF0aEluZm8oKXtjb25zdCB0PXRoaXMucGF0aDt0JiYodC5zZWdtZW50c0luZm89bW4odC5wYXRoKSl9X3NwbGl0VGV4dCgpe2NvbnN0IHQ9dGhpcy5fc3BsaXRUZXh0SW50b0xpbmVzKHRoaXMudGV4dCk7cmV0dXJuIHRoaXMudGV4dExpbmVzPXQubGluZXMsdGhpcy5fdGV4dExpbmVzPXQuZ3JhcGhlbWVMaW5lcyx0aGlzLl91bndyYXBwZWRUZXh0TGluZXM9dC5fdW53cmFwcGVkTGluZXMsdGhpcy5fdGV4dD10LmdyYXBoZW1lVGV4dCx0fWluaXREaW1lbnNpb25zKCl7dGhpcy5fc3BsaXRUZXh0KCksdGhpcy5fY2xlYXJDYWNoZSgpLHRoaXMuZGlydHk9ITAsdGhpcy5wYXRoPyh0aGlzLndpZHRoPXRoaXMucGF0aC53aWR0aCx0aGlzLmhlaWdodD10aGlzLnBhdGguaGVpZ2h0KToodGhpcy53aWR0aD10aGlzLmNhbGNUZXh0V2lkdGgoKXx8dGhpcy5jdXJzb3JXaWR0aHx8dGhpcy5NSU5fVEVYVF9XSURUSCx0aGlzLmhlaWdodD10aGlzLmNhbGNUZXh0SGVpZ2h0KCkpLHRoaXMudGV4dEFsaWduLmluY2x1ZGVzKEplKSYmdGhpcy5lbmxhcmdlU3BhY2VzKCl9ZW5sYXJnZVNwYWNlcygpe2xldCB0LGUscyxpLHIsbixvO2ZvcihsZXQgYT0wLGg9dGhpcy5fdGV4dExpbmVzLmxlbmd0aDthPGg7YSsrKWlmKCh0aGlzLnRleHRBbGlnbj09PUplfHxhIT09aC0xJiYhdGhpcy5pc0VuZE9mV3JhcHBpbmcoYSkpJiYoaT0wLHI9dGhpcy5fdGV4dExpbmVzW2FdLGU9dGhpcy5nZXRMaW5lV2lkdGgoYSksZTx0aGlzLndpZHRoJiYobz10aGlzLnRleHRMaW5lc1thXS5tYXRjaCh0aGlzLl9yZVNwYWNlc0FuZFRhYnMpKSkpe3M9by5sZW5ndGgsdD0odGhpcy53aWR0aC1lKS9zO2ZvcihsZXQgZT0wO2U8PXIubGVuZ3RoO2UrKyluPXRoaXMuX19jaGFyQm91bmRzW2FdW2VdLHRoaXMuX3JlU3BhY2VBbmRUYWIudGVzdChyW2VdKT8obi53aWR0aCs9dCxuLmtlcm5lZFdpZHRoKz10LG4ubGVmdCs9aSxpKz10KTpuLmxlZnQrPWl9fWlzRW5kT2ZXcmFwcGluZyh0KXtyZXR1cm4gdD09PXRoaXMuX3RleHRMaW5lcy5sZW5ndGgtMX1taXNzaW5nTmV3bGluZU9mZnNldCh0KXtyZXR1cm4gMX1nZXQyREN1cnNvckxvY2F0aW9uKHQsZSl7Y29uc3Qgcz1lP3RoaXMuX3Vud3JhcHBlZFRleHRMaW5lczp0aGlzLl90ZXh0TGluZXM7bGV0IGk7Zm9yKGk9MDtpPHMubGVuZ3RoO2krKyl7aWYodDw9c1tpXS5sZW5ndGgpcmV0dXJue2xpbmVJbmRleDppLGNoYXJJbmRleDp0fTt0LT1zW2ldLmxlbmd0aCt0aGlzLm1pc3NpbmdOZXdsaW5lT2Zmc2V0KGksZSl9cmV0dXJue2xpbmVJbmRleDppLTEsY2hhckluZGV4OnNbaS0xXS5sZW5ndGg8dD9zW2ktMV0ubGVuZ3RoOnR9fXRvU3RyaW5nKCl7cmV0dXJuXCIjPFRleHQgKFwiLmNvbmNhdCh0aGlzLmNvbXBsZXhpdHkoKSwnKTogeyBcInRleHRcIjogXCInKS5jb25jYXQodGhpcy50ZXh0LCdcIiwgXCJmb250RmFtaWx5XCI6IFwiJykuY29uY2F0KHRoaXMuZm9udEZhbWlseSwnXCIgfT4nKX1fZ2V0Q2FjaGVDYW52YXNEaW1lbnNpb25zKCl7Y29uc3QgdD1zdXBlci5fZ2V0Q2FjaGVDYW52YXNEaW1lbnNpb25zKCksZT10aGlzLmZvbnRTaXplO3JldHVybiB0LndpZHRoKz1lKnQuem9vbVgsdC5oZWlnaHQrPWUqdC56b29tWSx0fV9yZW5kZXIodCl7Y29uc3QgZT10aGlzLnBhdGg7ZSYmIWUuaXNOb3RWaXNpYmxlKCkmJmUuX3JlbmRlcih0KSx0aGlzLl9zZXRUZXh0U3R5bGVzKHQpLHRoaXMuX3JlbmRlclRleHRMaW5lc0JhY2tncm91bmQodCksdGhpcy5fcmVuZGVyVGV4dERlY29yYXRpb24odCxcInVuZGVybGluZVwiKSx0aGlzLl9yZW5kZXJUZXh0KHQpLHRoaXMuX3JlbmRlclRleHREZWNvcmF0aW9uKHQsXCJvdmVybGluZVwiKSx0aGlzLl9yZW5kZXJUZXh0RGVjb3JhdGlvbih0LFwibGluZXRocm91Z2hcIil9X3JlbmRlclRleHQodCl7dGhpcy5wYWludEZpcnN0PT09Sj8odGhpcy5fcmVuZGVyVGV4dFN0cm9rZSh0KSx0aGlzLl9yZW5kZXJUZXh0RmlsbCh0KSk6KHRoaXMuX3JlbmRlclRleHRGaWxsKHQpLHRoaXMuX3JlbmRlclRleHRTdHJva2UodCkpfV9zZXRUZXh0U3R5bGVzKHQsZSxzKXtpZih0LnRleHRCYXNlbGluZT1cImFscGhhYmV0aWNcIix0aGlzLnBhdGgpc3dpdGNoKHRoaXMucGF0aEFsaWduKXtjYXNlIEQ6dC50ZXh0QmFzZWxpbmU9XCJtaWRkbGVcIjticmVhaztjYXNlXCJhc2NlbmRlclwiOnQudGV4dEJhc2VsaW5lPVA7YnJlYWs7Y2FzZVwiZGVzY2VuZGVyXCI6dC50ZXh0QmFzZWxpbmU9RX10LmZvbnQ9dGhpcy5fZ2V0Rm9udERlY2xhcmF0aW9uKGUscyl9Y2FsY1RleHRXaWR0aCgpe2xldCB0PXRoaXMuZ2V0TGluZVdpZHRoKDApO2ZvcihsZXQgZT0xLHM9dGhpcy5fdGV4dExpbmVzLmxlbmd0aDtlPHM7ZSsrKXtjb25zdCBzPXRoaXMuZ2V0TGluZVdpZHRoKGUpO3M+dCYmKHQ9cyl9cmV0dXJuIHR9X3JlbmRlclRleHRMaW5lKHQsZSxzLGkscixuKXt0aGlzLl9yZW5kZXJDaGFycyh0LGUscyxpLHIsbil9X3JlbmRlclRleHRMaW5lc0JhY2tncm91bmQodCl7aWYoIXRoaXMudGV4dEJhY2tncm91bmRDb2xvciYmIXRoaXMuc3R5bGVIYXMoXCJ0ZXh0QmFja2dyb3VuZENvbG9yXCIpKXJldHVybjtjb25zdCBlPXQuZmlsbFN0eWxlLHM9dGhpcy5fZ2V0TGVmdE9mZnNldCgpO2xldCBpPXRoaXMuX2dldFRvcE9mZnNldCgpO2ZvcihsZXQgZT0wLHI9dGhpcy5fdGV4dExpbmVzLmxlbmd0aDtlPHI7ZSsrKXtjb25zdCByPXRoaXMuZ2V0SGVpZ2h0T2ZMaW5lKGUpO2lmKCF0aGlzLnRleHRCYWNrZ3JvdW5kQ29sb3ImJiF0aGlzLnN0eWxlSGFzKFwidGV4dEJhY2tncm91bmRDb2xvclwiLGUpKXtpKz1yO2NvbnRpbnVlfWNvbnN0IG49dGhpcy5fdGV4dExpbmVzW2VdLmxlbmd0aCxvPXRoaXMuX2dldExpbmVMZWZ0T2Zmc2V0KGUpO2xldCBhLGgsYz0wLGw9MCx1PXRoaXMuZ2V0VmFsdWVPZlByb3BlcnR5QXQoZSwwLFwidGV4dEJhY2tncm91bmRDb2xvclwiKTtjb25zdCBkPXRoaXMuZ2V0SGVpZ2h0T2ZMaW5lSW1wbChlKTtmb3IobGV0IHI9MDtyPG47cisrKXtjb25zdCBuPXRoaXMuX19jaGFyQm91bmRzW2VdW3JdO2g9dGhpcy5nZXRWYWx1ZU9mUHJvcGVydHlBdChlLHIsXCJ0ZXh0QmFja2dyb3VuZENvbG9yXCIpLHRoaXMucGF0aD8odC5zYXZlKCksdC50cmFuc2xhdGUobi5yZW5kZXJMZWZ0LG4ucmVuZGVyVG9wKSx0LnJvdGF0ZShuLmFuZ2xlKSx0LmZpbGxTdHlsZT1oLGgmJnQuZmlsbFJlY3QoLW4ud2lkdGgvMiwtZCooMS10aGlzLl9mb250U2l6ZUZyYWN0aW9uKSxuLndpZHRoLGQpLHQucmVzdG9yZSgpKTpoIT09dT8oYT1zK28rbCxcInJ0bFwiPT09dGhpcy5kaXJlY3Rpb24mJihhPXRoaXMud2lkdGgtYS1jKSx0LmZpbGxTdHlsZT11LHUmJnQuZmlsbFJlY3QoYSxpLGMsZCksbD1uLmxlZnQsYz1uLndpZHRoLHU9aCk6Yys9bi5rZXJuZWRXaWR0aH1oJiYhdGhpcy5wYXRoJiYoYT1zK28rbCxcInJ0bFwiPT09dGhpcy5kaXJlY3Rpb24mJihhPXRoaXMud2lkdGgtYS1jKSx0LmZpbGxTdHlsZT1oLHQuZmlsbFJlY3QoYSxpLGMsZCkpLGkrPXJ9dC5maWxsU3R5bGU9ZSx0aGlzLl9yZW1vdmVTaGFkb3codCl9X21lYXN1cmVDaGFyKHQsZSxzLGkpe2NvbnN0IHI9Xy5nZXRGb250Q2FjaGUoZSksbj10aGlzLl9nZXRGb250RGVjbGFyYXRpb24oZSksbz1zK3QsYT1zJiZuPT09dGhpcy5fZ2V0Rm9udERlY2xhcmF0aW9uKGkpLGg9ZS5mb250U2l6ZS90aGlzLkNBQ0hFX0ZPTlRfU0laRTtsZXQgYyxsLHUsZDtpZihzJiZyLmhhcyhzKSYmKHU9ci5nZXQocykpLHIuaGFzKHQpJiYoZD1jPXIuZ2V0KHQpKSxhJiZyLmhhcyhvKSYmKGw9ci5nZXQobyksZD1sLXUpLHZvaWQgMD09PWN8fHZvaWQgMD09PXV8fHZvaWQgMD09PWwpe2NvbnN0IGk9ZnVuY3Rpb24oKXtpZighRW8pe2NvbnN0IHQ9dnQoe3dpZHRoOjAsaGVpZ2h0OjB9KTtFbz10LmdldENvbnRleHQoXCIyZFwiKX1yZXR1cm4gRW99KCk7dGhpcy5fc2V0VGV4dFN0eWxlcyhpLGUsITApLHZvaWQgMD09PWMmJihkPWM9aS5tZWFzdXJlVGV4dCh0KS53aWR0aCxyLnNldCh0LGMpKSx2b2lkIDA9PT11JiZhJiZzJiYodT1pLm1lYXN1cmVUZXh0KHMpLndpZHRoLHIuc2V0KHMsdSkpLGEmJnZvaWQgMD09PWwmJihsPWkubWVhc3VyZVRleHQobykud2lkdGgsci5zZXQobyxsKSxkPWwtdSl9cmV0dXJue3dpZHRoOmMqaCxrZXJuZWRXaWR0aDpkKmh9fWdldEhlaWdodE9mQ2hhcih0LGUpe3JldHVybiB0aGlzLmdldFZhbHVlT2ZQcm9wZXJ0eUF0KHQsZSxcImZvbnRTaXplXCIpfW1lYXN1cmVMaW5lKHQpe2NvbnN0IGU9dGhpcy5fbWVhc3VyZUxpbmUodCk7cmV0dXJuIDAhPT10aGlzLmNoYXJTcGFjaW5nJiYoZS53aWR0aC09dGhpcy5fZ2V0V2lkdGhPZkNoYXJTcGFjaW5nKCkpLGUud2lkdGg8MCYmKGUud2lkdGg9MCksZX1fbWVhc3VyZUxpbmUodCl7bGV0IGUscyxpPTA7Y29uc3Qgcj10aGlzLnBhdGhTaWRlPT09QSxuPXRoaXMucGF0aCxvPXRoaXMuX3RleHRMaW5lc1t0XSxhPW8ubGVuZ3RoLGg9bmV3IEFycmF5KGEpO3RoaXMuX19jaGFyQm91bmRzW3RdPWg7Zm9yKGxldCByPTA7cjxhO3IrKyl7Y29uc3Qgbj1vW3JdO3M9dGhpcy5fZ2V0R3JhcGhlbWVCb3gobix0LHIsZSksaFtyXT1zLGkrPXMua2VybmVkV2lkdGgsZT1ufWlmKGhbYV09e2xlZnQ6cz9zLmxlZnQrcy53aWR0aDowLHdpZHRoOjAsa2VybmVkV2lkdGg6MCxoZWlnaHQ6dGhpcy5mb250U2l6ZSxkZWx0YVk6MH0sbiYmbi5zZWdtZW50c0luZm8pe2xldCB0PTA7Y29uc3QgZT1uLnNlZ21lbnRzSW5mb1tuLnNlZ21lbnRzSW5mby5sZW5ndGgtMV0ubGVuZ3RoO3N3aXRjaCh0aGlzLnRleHRBbGlnbil7Y2FzZSBNOnQ9cj9lLWk6MDticmVhaztjYXNlIEQ6dD0oZS1pKS8yO2JyZWFrO2Nhc2UgQTp0PXI/MDplLWl9dCs9dGhpcy5wYXRoU3RhcnRPZmZzZXQqKHI/LTE6MSk7Zm9yKGxldCBpPXI/YS0xOjA7cj9pPj0wOmk8YTtyP2ktLTppKyspcz1oW2ldLHQ+ZT90JT1lOnQ8MCYmKHQrPWUpLHRoaXMuX3NldEdyYXBoZW1lT25QYXRoKHQscyksdCs9cy5rZXJuZWRXaWR0aH1yZXR1cm57d2lkdGg6aSxudW1PZlNwYWNlczowfX1fc2V0R3JhcGhlbWVPblBhdGgodCxlKXtjb25zdCBzPXQrZS5rZXJuZWRXaWR0aC8yLGk9dGhpcy5wYXRoLHI9dm4oaS5wYXRoLHMsaS5zZWdtZW50c0luZm8pO2UucmVuZGVyTGVmdD1yLngtaS5wYXRoT2Zmc2V0LngsZS5yZW5kZXJUb3A9ci55LWkucGF0aE9mZnNldC55LGUuYW5nbGU9ci5hbmdsZSsodGhpcy5wYXRoU2lkZT09PUE/TWF0aC5QSTowKX1fZ2V0R3JhcGhlbWVCb3godCxlLHMsaSxyKXtjb25zdCBuPXRoaXMuZ2V0Q29tcGxldGVTdHlsZURlY2xhcmF0aW9uKGUscyksbz1pP3RoaXMuZ2V0Q29tcGxldGVTdHlsZURlY2xhcmF0aW9uKGUscy0xKTp7fSxhPXRoaXMuX21lYXN1cmVDaGFyKHQsbixpLG8pO2xldCBoLGM9YS5rZXJuZWRXaWR0aCxsPWEud2lkdGg7MCE9PXRoaXMuY2hhclNwYWNpbmcmJihoPXRoaXMuX2dldFdpZHRoT2ZDaGFyU3BhY2luZygpLGwrPWgsYys9aCk7Y29uc3QgdT17d2lkdGg6bCxsZWZ0OjAsaGVpZ2h0Om4uZm9udFNpemUsa2VybmVkV2lkdGg6YyxkZWx0YVk6bi5kZWx0YVl9O2lmKHM+MCYmIXIpe2NvbnN0IHQ9dGhpcy5fX2NoYXJCb3VuZHNbZV1bcy0xXTt1LmxlZnQ9dC5sZWZ0K3Qud2lkdGgrYS5rZXJuZWRXaWR0aC1hLndpZHRofXJldHVybiB1fWdldEhlaWdodE9mTGluZUltcGwodCl7Y29uc3QgZT10aGlzLl9fbGluZUhlaWdodHM7aWYoZVt0XSlyZXR1cm4gZVt0XTtsZXQgcz10aGlzLmdldEhlaWdodE9mQ2hhcih0LDApO2ZvcihsZXQgZT0xLGk9dGhpcy5fdGV4dExpbmVzW3RdLmxlbmd0aDtlPGk7ZSsrKXM9TWF0aC5tYXgodGhpcy5nZXRIZWlnaHRPZkNoYXIodCxlKSxzKTtyZXR1cm4gZVt0XT1zKnRoaXMuX2ZvbnRTaXplTXVsdH1nZXRIZWlnaHRPZkxpbmUodCl7cmV0dXJuIHRoaXMuZ2V0SGVpZ2h0T2ZMaW5lSW1wbCh0KSp0aGlzLmxpbmVIZWlnaHR9Y2FsY1RleHRIZWlnaHQoKXtsZXQgdD0wO2ZvcihsZXQgZT0wLHM9dGhpcy5fdGV4dExpbmVzLmxlbmd0aDtlPHM7ZSsrKXQrPWU9PT1zLTE/dGhpcy5nZXRIZWlnaHRPZkxpbmVJbXBsKGUpOnRoaXMuZ2V0SGVpZ2h0T2ZMaW5lKGUpO3JldHVybiB0fV9nZXRMZWZ0T2Zmc2V0KCl7cmV0dXJuXCJsdHJcIj09PXRoaXMuZGlyZWN0aW9uPy10aGlzLndpZHRoLzI6dGhpcy53aWR0aC8yfV9nZXRUb3BPZmZzZXQoKXtyZXR1cm4tdGhpcy5oZWlnaHQvMn1fcmVuZGVyVGV4dENvbW1vbih0LGUpe3Quc2F2ZSgpO2xldCBzPTA7Y29uc3QgaT10aGlzLl9nZXRMZWZ0T2Zmc2V0KCkscj10aGlzLl9nZXRUb3BPZmZzZXQoKTtmb3IobGV0IG49MCxvPXRoaXMuX3RleHRMaW5lcy5sZW5ndGg7bjxvO24rKyl0aGlzLl9yZW5kZXJUZXh0TGluZShlLHQsdGhpcy5fdGV4dExpbmVzW25dLGkrdGhpcy5fZ2V0TGluZUxlZnRPZmZzZXQobikscitzK3RoaXMuZ2V0SGVpZ2h0T2ZMaW5lSW1wbChuKSxuKSxzKz10aGlzLmdldEhlaWdodE9mTGluZShuKTt0LnJlc3RvcmUoKX1fcmVuZGVyVGV4dEZpbGwodCl7KHRoaXMuZmlsbHx8dGhpcy5zdHlsZUhhcyhLKSkmJnRoaXMuX3JlbmRlclRleHRDb21tb24odCxcImZpbGxUZXh0XCIpfV9yZW5kZXJUZXh0U3Ryb2tlKHQpeyh0aGlzLnN0cm9rZSYmMCE9PXRoaXMuc3Ryb2tlV2lkdGh8fCF0aGlzLmlzRW1wdHlTdHlsZXMoKSkmJih0aGlzLnNoYWRvdyYmIXRoaXMuc2hhZG93LmFmZmVjdFN0cm9rZSYmdGhpcy5fcmVtb3ZlU2hhZG93KHQpLHQuc2F2ZSgpLHRoaXMuX3NldExpbmVEYXNoKHQsdGhpcy5zdHJva2VEYXNoQXJyYXkpLHQuYmVnaW5QYXRoKCksdGhpcy5fcmVuZGVyVGV4dENvbW1vbih0LFwic3Ryb2tlVGV4dFwiKSx0LmNsb3NlUGF0aCgpLHQucmVzdG9yZSgpKX1fcmVuZGVyQ2hhcnModCxlLHMsaSxyLG4pe2NvbnN0IG89dGhpcy50ZXh0QWxpZ24uaW5jbHVkZXMoSmUpLGE9dGhpcy5wYXRoLGg9IW8mJjA9PT10aGlzLmNoYXJTcGFjaW5nJiZ0aGlzLmlzRW1wdHlTdHlsZXMobikmJiFhLGM9XCJsdHJcIj09PXRoaXMuZGlyZWN0aW9uLGw9XCJsdHJcIj09PXRoaXMuZGlyZWN0aW9uPzE6LTEsdT1lLmRpcmVjdGlvbjtsZXQgZCxnLGYscCxtLHY9XCJcIix5PTA7aWYoZS5zYXZlKCksdSE9PXRoaXMuZGlyZWN0aW9uJiYoZS5jYW52YXMuc2V0QXR0cmlidXRlKFwiZGlyXCIsYz9cImx0clwiOlwicnRsXCIpLGUuZGlyZWN0aW9uPWM/XCJsdHJcIjpcInJ0bFwiLGUudGV4dEFsaWduPWM/TTpBKSxyLT10aGlzLmdldEhlaWdodE9mTGluZUltcGwobikqdGhpcy5fZm9udFNpemVGcmFjdGlvbixoKXJldHVybiB0aGlzLl9yZW5kZXJDaGFyKHQsZSxuLDAscy5qb2luKFwiXCIpLGksciksdm9pZCBlLnJlc3RvcmUoKTtmb3IobGV0IGg9MCxjPXMubGVuZ3RoLTE7aDw9YztoKyspcD1oPT09Y3x8dGhpcy5jaGFyU3BhY2luZ3x8YSx2Kz1zW2hdLGY9dGhpcy5fX2NoYXJCb3VuZHNbbl1baF0sMD09PXk/KGkrPWwqKGYua2VybmVkV2lkdGgtZi53aWR0aCkseSs9Zi53aWR0aCk6eSs9Zi5rZXJuZWRXaWR0aCxvJiYhcCYmdGhpcy5fcmVTcGFjZUFuZFRhYi50ZXN0KHNbaF0pJiYocD0hMCkscHx8KGQ9ZHx8dGhpcy5nZXRDb21wbGV0ZVN0eWxlRGVjbGFyYXRpb24obixoKSxnPXRoaXMuZ2V0Q29tcGxldGVTdHlsZURlY2xhcmF0aW9uKG4saCsxKSxwPUtpKGQsZywhMSkpLHAmJihhPyhlLnNhdmUoKSxlLnRyYW5zbGF0ZShmLnJlbmRlckxlZnQsZi5yZW5kZXJUb3ApLGUucm90YXRlKGYuYW5nbGUpLHRoaXMuX3JlbmRlckNoYXIodCxlLG4saCx2LC15LzIsMCksZS5yZXN0b3JlKCkpOihtPWksdGhpcy5fcmVuZGVyQ2hhcih0LGUsbixoLHYsbSxyKSksdj1cIlwiLGQ9ZyxpKz1sKnkseT0wKTtlLnJlc3RvcmUoKX1fYXBwbHlQYXR0ZXJuR3JhZGllbnRUcmFuc2Zvcm1UZXh0KHQpe2NvbnN0IGU9dGhpcy53aWR0aCt0aGlzLnN0cm9rZVdpZHRoLHM9dGhpcy5oZWlnaHQrdGhpcy5zdHJva2VXaWR0aCxpPXZ0KHt3aWR0aDplLGhlaWdodDpzfSkscj1pLmdldENvbnRleHQoXCIyZFwiKTtyZXR1cm4gaS53aWR0aD1lLGkuaGVpZ2h0PXMsci5iZWdpblBhdGgoKSxyLm1vdmVUbygwLDApLHIubGluZVRvKGUsMCksci5saW5lVG8oZSxzKSxyLmxpbmVUbygwLHMpLHIuY2xvc2VQYXRoKCksci50cmFuc2xhdGUoZS8yLHMvMiksci5maWxsU3R5bGU9dC50b0xpdmUociksdGhpcy5fYXBwbHlQYXR0ZXJuR3JhZGllbnRUcmFuc2Zvcm0ocix0KSxyLmZpbGwoKSxyLmNyZWF0ZVBhdHRlcm4oaSxcIm5vLXJlcGVhdFwiKX1oYW5kbGVGaWxsZXIodCxlLHMpe2xldCBpLHI7cmV0dXJuIEd0KHMpP1wicGVyY2VudGFnZVwiPT09cy5ncmFkaWVudFVuaXRzfHxzLmdyYWRpZW50VHJhbnNmb3JtfHxzLnBhdHRlcm5UcmFuc2Zvcm0/KGk9LXRoaXMud2lkdGgvMixyPS10aGlzLmhlaWdodC8yLHQudHJhbnNsYXRlKGksciksdFtlXT10aGlzLl9hcHBseVBhdHRlcm5HcmFkaWVudFRyYW5zZm9ybVRleHQocykse29mZnNldFg6aSxvZmZzZXRZOnJ9KToodFtlXT1zLnRvTGl2ZSh0KSx0aGlzLl9hcHBseVBhdHRlcm5HcmFkaWVudFRyYW5zZm9ybSh0LHMpKToodFtlXT1zLHtvZmZzZXRYOjAsb2Zmc2V0WTowfSl9X3NldFN0cm9rZVN0eWxlcyh0LGUpe2xldHtzdHJva2U6cyxzdHJva2VXaWR0aDppfT1lO3JldHVybiB0LmxpbmVXaWR0aD1pLHQubGluZUNhcD10aGlzLnN0cm9rZUxpbmVDYXAsdC5saW5lRGFzaE9mZnNldD10aGlzLnN0cm9rZURhc2hPZmZzZXQsdC5saW5lSm9pbj10aGlzLnN0cm9rZUxpbmVKb2luLHQubWl0ZXJMaW1pdD10aGlzLnN0cm9rZU1pdGVyTGltaXQsdGhpcy5oYW5kbGVGaWxsZXIodCxcInN0cm9rZVN0eWxlXCIscyl9X3NldEZpbGxTdHlsZXModCxlKXtsZXR7ZmlsbDpzfT1lO3JldHVybiB0aGlzLmhhbmRsZUZpbGxlcih0LFwiZmlsbFN0eWxlXCIscyl9X3JlbmRlckNoYXIodCxlLHMsaSxyLG4sbyl7Y29uc3QgYT10aGlzLl9nZXRTdHlsZURlY2xhcmF0aW9uKHMsaSksaD10aGlzLmdldENvbXBsZXRlU3R5bGVEZWNsYXJhdGlvbihzLGkpLGM9XCJmaWxsVGV4dFwiPT09dCYmaC5maWxsLGw9XCJzdHJva2VUZXh0XCI9PT10JiZoLnN0cm9rZSYmaC5zdHJva2VXaWR0aDtpZihsfHxjKXtpZihlLnNhdmUoKSxlLmZvbnQ9dGhpcy5fZ2V0Rm9udERlY2xhcmF0aW9uKGgpLGEudGV4dEJhY2tncm91bmRDb2xvciYmdGhpcy5fcmVtb3ZlU2hhZG93KGUpLGEuZGVsdGFZJiYobys9YS5kZWx0YVkpLGMpe2NvbnN0IHQ9dGhpcy5fc2V0RmlsbFN0eWxlcyhlLGgpO2UuZmlsbFRleHQocixuLXQub2Zmc2V0WCxvLXQub2Zmc2V0WSl9aWYobCl7Y29uc3QgdD10aGlzLl9zZXRTdHJva2VTdHlsZXMoZSxoKTtlLnN0cm9rZVRleHQocixuLXQub2Zmc2V0WCxvLXQub2Zmc2V0WSl9ZS5yZXN0b3JlKCl9fXNldFN1cGVyc2NyaXB0KHQsZSl7dGhpcy5fc2V0U2NyaXB0KHQsZSx0aGlzLnN1cGVyc2NyaXB0KX1zZXRTdWJzY3JpcHQodCxlKXt0aGlzLl9zZXRTY3JpcHQodCxlLHRoaXMuc3Vic2NyaXB0KX1fc2V0U2NyaXB0KHQsZSxzKXtjb25zdCBpPXRoaXMuZ2V0MkRDdXJzb3JMb2NhdGlvbih0LCEwKSxyPXRoaXMuZ2V0VmFsdWVPZlByb3BlcnR5QXQoaS5saW5lSW5kZXgsaS5jaGFySW5kZXgsXCJmb250U2l6ZVwiKSxuPXRoaXMuZ2V0VmFsdWVPZlByb3BlcnR5QXQoaS5saW5lSW5kZXgsaS5jaGFySW5kZXgsXCJkZWx0YVlcIiksbz17Zm9udFNpemU6cipzLnNpemUsZGVsdGFZOm4rcipzLmJhc2VsaW5lfTt0aGlzLnNldFNlbGVjdGlvblN0eWxlcyhvLHQsZSl9X2dldExpbmVMZWZ0T2Zmc2V0KHQpe2NvbnN0IGU9dGhpcy5nZXRMaW5lV2lkdGgodCkscz10aGlzLndpZHRoLWUsaT10aGlzLnRleHRBbGlnbixyPXRoaXMuZGlyZWN0aW9uLG49dGhpcy5pc0VuZE9mV3JhcHBpbmcodCk7bGV0IG89MDtyZXR1cm4gaT09PUplfHxpPT09JGUmJiFufHxpPT09WmUmJiFufHxpPT09UWUmJiFuPzA6KGk9PT1EJiYobz1zLzIpLGk9PT1BJiYobz1zKSxpPT09JGUmJihvPXMvMiksaT09PVplJiYobz1zKSxcInJ0bFwiPT09ciYmKGk9PT1BfHxpPT09SmV8fGk9PT1aZT9vPTA6aT09PU18fGk9PT1RZT9vPS1zOmkhPT1EJiZpIT09JGV8fChvPS1zLzIpKSxvKX1fY2xlYXJDYWNoZSgpe3RoaXMuX2ZvcmNlQ2xlYXJDYWNoZT0hMSx0aGlzLl9fbGluZVdpZHRocz1bXSx0aGlzLl9fbGluZUhlaWdodHM9W10sdGhpcy5fX2NoYXJCb3VuZHM9W119Z2V0TGluZVdpZHRoKHQpe2lmKHZvaWQgMCE9PXRoaXMuX19saW5lV2lkdGhzW3RdKXJldHVybiB0aGlzLl9fbGluZVdpZHRoc1t0XTtjb25zdHt3aWR0aDplfT10aGlzLm1lYXN1cmVMaW5lKHQpO3JldHVybiB0aGlzLl9fbGluZVdpZHRoc1t0XT1lLGV9X2dldFdpZHRoT2ZDaGFyU3BhY2luZygpe3JldHVybiAwIT09dGhpcy5jaGFyU3BhY2luZz90aGlzLmZvbnRTaXplKnRoaXMuY2hhclNwYWNpbmcvMWUzOjB9Z2V0VmFsdWVPZlByb3BlcnR5QXQodCxlLHMpe3ZhciBpO3JldHVybiBudWxsIT09KGk9dGhpcy5fZ2V0U3R5bGVEZWNsYXJhdGlvbih0LGUpW3NdKSYmdm9pZCAwIT09aT9pOnRoaXNbc119X3JlbmRlclRleHREZWNvcmF0aW9uKHQsZSl7aWYoIXRoaXNbZV0mJiF0aGlzLnN0eWxlSGFzKGUpKXJldHVybjtsZXQgcz10aGlzLl9nZXRUb3BPZmZzZXQoKTtjb25zdCBpPXRoaXMuX2dldExlZnRPZmZzZXQoKSxyPXRoaXMucGF0aCxuPXRoaXMuX2dldFdpZHRoT2ZDaGFyU3BhY2luZygpLG89XCJsaW5ldGhyb3VnaFwiPT09ZT8uNTpcIm92ZXJsaW5lXCI9PT1lPzE6MCxhPXRoaXMub2Zmc2V0c1tlXTtmb3IobGV0IGg9MCxjPXRoaXMuX3RleHRMaW5lcy5sZW5ndGg7aDxjO2grKyl7Y29uc3QgYz10aGlzLmdldEhlaWdodE9mTGluZShoKTtpZighdGhpc1tlXSYmIXRoaXMuc3R5bGVIYXMoZSxoKSl7cys9Yztjb250aW51ZX1jb25zdCBsPXRoaXMuX3RleHRMaW5lc1toXSx1PWMvdGhpcy5saW5lSGVpZ2h0LGQ9dGhpcy5fZ2V0TGluZUxlZnRPZmZzZXQoaCk7bGV0IGc9MCxmPTAscD10aGlzLmdldFZhbHVlT2ZQcm9wZXJ0eUF0KGgsMCxlKSxtPXRoaXMuZ2V0VmFsdWVPZlByb3BlcnR5QXQoaCwwLEspLHY9dGhpcy5nZXRWYWx1ZU9mUHJvcGVydHlBdChoLDAsemUpLHk9cCxfPW0seD12O2NvbnN0IEM9cyt1KigxLXRoaXMuX2ZvbnRTaXplRnJhY3Rpb24pO2xldCBiPXRoaXMuZ2V0SGVpZ2h0T2ZDaGFyKGgsMCksUz10aGlzLmdldFZhbHVlT2ZQcm9wZXJ0eUF0KGgsMCxcImRlbHRhWVwiKTtmb3IobGV0IHM9MCxuPWwubGVuZ3RoO3M8bjtzKyspe2NvbnN0IG49dGhpcy5fX2NoYXJCb3VuZHNbaF1bc107eT10aGlzLmdldFZhbHVlT2ZQcm9wZXJ0eUF0KGgscyxlKSxfPXRoaXMuZ2V0VmFsdWVPZlByb3BlcnR5QXQoaCxzLEspLHg9dGhpcy5nZXRWYWx1ZU9mUHJvcGVydHlBdChoLHMsemUpO2NvbnN0IGM9dGhpcy5nZXRIZWlnaHRPZkNoYXIoaCxzKSxsPXRoaXMuZ2V0VmFsdWVPZlByb3BlcnR5QXQoaCxzLFwiZGVsdGFZXCIpO2lmKHImJnkmJl8pe2NvbnN0IGU9dGhpcy5mb250U2l6ZSp4LzFlMzt0LnNhdmUoKSx0LmZpbGxTdHlsZT1tLHQudHJhbnNsYXRlKG4ucmVuZGVyTGVmdCxuLnJlbmRlclRvcCksdC5yb3RhdGUobi5hbmdsZSksdC5maWxsUmVjdCgtbi5rZXJuZWRXaWR0aC8yLGEqYytsLW8qZSxuLmtlcm5lZFdpZHRoLGUpLHQucmVzdG9yZSgpfWVsc2UgaWYoKHkhPT1wfHxfIT09bXx8YyE9PWJ8fHghPT12fHxsIT09UykmJmY+MCl7Y29uc3QgZT10aGlzLmZvbnRTaXplKnYvMWUzO2xldCBzPWkrZCtnO1wicnRsXCI9PT10aGlzLmRpcmVjdGlvbiYmKHM9dGhpcy53aWR0aC1zLWYpLHAmJm0mJnYmJih0LmZpbGxTdHlsZT1tLHQuZmlsbFJlY3QocyxDK2EqYitTLW8qZSxmLGUpKSxnPW4ubGVmdCxmPW4ud2lkdGgscD15LHY9eCxtPV8sYj1jLFM9bH1lbHNlIGYrPW4ua2VybmVkV2lkdGh9bGV0IHc9aStkK2c7XCJydGxcIj09PXRoaXMuZGlyZWN0aW9uJiYodz10aGlzLndpZHRoLXctZiksdC5maWxsU3R5bGU9Xztjb25zdCBUPXRoaXMuZm9udFNpemUqeC8xZTM7eSYmXyYmeCYmdC5maWxsUmVjdCh3LEMrYSpiK1MtbypULGYtbixUKSxzKz1jfXRoaXMuX3JlbW92ZVNoYWRvdyh0KX1fZ2V0Rm9udERlY2xhcmF0aW9uKCl7bGV0e2ZvbnRGYW1pbHk6dD10aGlzLmZvbnRGYW1pbHksZm9udFN0eWxlOmU9dGhpcy5mb250U3R5bGUsZm9udFdlaWdodDpzPXRoaXMuZm9udFdlaWdodCxmb250U2l6ZTppPXRoaXMuZm9udFNpemV9PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxyPWFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwO2NvbnN0IG49dC5pbmNsdWRlcyhcIidcIil8fHQuaW5jbHVkZXMoJ1wiJyl8fHQuaW5jbHVkZXMoXCIsXCIpfHxBby5nZW5lcmljRm9udHMuaW5jbHVkZXModC50b0xvd2VyQ2FzZSgpKT90OidcIicuY29uY2F0KHQsJ1wiJyk7cmV0dXJuW2UscyxcIlwiLmNvbmNhdChyP3RoaXMuQ0FDSEVfRk9OVF9TSVpFOmksXCJweFwiKSxuXS5qb2luKFwiIFwiKX1yZW5kZXIodCl7dGhpcy52aXNpYmxlJiYodGhpcy5jYW52YXMmJnRoaXMuY2FudmFzLnNraXBPZmZzY3JlZW4mJiF0aGlzLmdyb3VwJiYhdGhpcy5pc09uU2NyZWVuKCl8fCh0aGlzLl9mb3JjZUNsZWFyQ2FjaGUmJnRoaXMuaW5pdERpbWVuc2lvbnMoKSxzdXBlci5yZW5kZXIodCkpKX1ncmFwaGVtZVNwbGl0KHQpe3JldHVybiBIaSh0KX1fc3BsaXRUZXh0SW50b0xpbmVzKHQpe2NvbnN0IGU9dC5zcGxpdCh0aGlzLl9yZU5ld2xpbmUpLHM9bmV3IEFycmF5KGUubGVuZ3RoKSxpPVtcIlxcblwiXTtsZXQgcj1bXTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKylzW3RdPXRoaXMuZ3JhcGhlbWVTcGxpdChlW3RdKSxyPXIuY29uY2F0KHNbdF0saSk7cmV0dXJuIHIucG9wKCkse191bndyYXBwZWRMaW5lczpzLGxpbmVzOmUsZ3JhcGhlbWVUZXh0OnIsZ3JhcGhlbWVMaW5lczpzfX10b09iamVjdCgpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbXTtyZXR1cm4gcyhzKHt9LHN1cGVyLnRvT2JqZWN0KFsuLi5VZSwuLi50XSkpLHt9LHtzdHlsZXM6SmkodGhpcy5zdHlsZXMsdGhpcy50ZXh0KX0sdGhpcy5wYXRoP3twYXRoOnRoaXMucGF0aC50b09iamVjdCgpfTp7fSl9c2V0KHQsZSl7Y29uc3R7dGV4dExheW91dFByb3BlcnRpZXM6c309dGhpcy5jb25zdHJ1Y3RvcjtzdXBlci5zZXQodCxlKTtsZXQgaT0hMSxyPSExO2lmKFwib2JqZWN0XCI9PXR5cGVvZiB0KWZvcihjb25zdCBlIGluIHQpXCJwYXRoXCI9PT1lJiZ0aGlzLnNldFBhdGhJbmZvKCksaT1pfHxzLmluY2x1ZGVzKGUpLHI9cnx8XCJwYXRoXCI9PT1lO2Vsc2UgaT1zLmluY2x1ZGVzKHQpLHI9XCJwYXRoXCI9PT10O3JldHVybiByJiZ0aGlzLnNldFBhdGhJbmZvKCksaSYmdGhpcy5pbml0aWFsaXplZCYmKHRoaXMuaW5pdERpbWVuc2lvbnMoKSx0aGlzLnNldENvb3JkcygpKSx0aGlzfWNvbXBsZXhpdHkoKXtyZXR1cm4gMX1zdGF0aWMgYXN5bmMgZnJvbUVsZW1lbnQodCxlLHIpe2NvbnN0IG49UHIodCxBby5BVFRSSUJVVEVfTkFNRVMsciksbz1zKHMoe30sZSksbikse3RleHRBbmNob3I6YT1NLHRleHREZWNvcmF0aW9uOmg9XCJcIixkeDpjPTAsZHk6bD0wLHRvcDp1PTAsbGVmdDpkPTAsZm9udFNpemU6Zz1PLHN0cm9rZVdpZHRoOmY9MX09byxwPWkobyxQbyksbT1uZXcgdGhpcyhQZSh0LnRleHRDb250ZW50fHxcIlwiKS50cmltKCkscyh7bGVmdDpkK2MsdG9wOnUrbCx1bmRlcmxpbmU6aC5pbmNsdWRlcyhcInVuZGVybGluZVwiKSxvdmVybGluZTpoLmluY2x1ZGVzKFwib3ZlcmxpbmVcIiksbGluZXRocm91Z2g6aC5pbmNsdWRlcyhcImxpbmUtdGhyb3VnaFwiKSxzdHJva2VXaWR0aDowLGZvbnRTaXplOmd9LHApKSx2PW0uZ2V0U2NhbGVkSGVpZ2h0KCkvbS5oZWlnaHQseT0oKG0uaGVpZ2h0K20uc3Ryb2tlV2lkdGgpKm0ubGluZUhlaWdodC1tLmhlaWdodCkqdixfPW0uZ2V0U2NhbGVkSGVpZ2h0KCkreTtsZXQgeD0wO3JldHVybiBhPT09RCYmKHg9bS5nZXRTY2FsZWRXaWR0aCgpLzIpLGE9PT1BJiYoeD1tLmdldFNjYWxlZFdpZHRoKCkpLG0uc2V0KHtsZWZ0Om0ubGVmdC14LHRvcDptLnRvcC0oXy1tLmZvbnRTaXplKiguMDcrbS5fZm9udFNpemVGcmFjdGlvbikpL20ubGluZUhlaWdodCxzdHJva2VXaWR0aDpmfSksbX1zdGF0aWMgZnJvbU9iamVjdCh0KXtyZXR1cm4gdGhpcy5fZnJvbU9iamVjdChzKHMoe30sdCkse30se3N0eWxlczpRaSh0LnN0eWxlc3x8e30sdC50ZXh0KX0pLHtleHRyYVBhcmFtOlwidGV4dFwifSl9fXQoQW8sXCJ0ZXh0TGF5b3V0UHJvcGVydGllc1wiLE5lKSx0KEFvLFwiY2FjaGVQcm9wZXJ0aWVzXCIsWy4uLkVzLC4uLlVlXSksdChBbyxcIm93bkRlZmF1bHRzXCIsS2UpLHQoQW8sXCJ0eXBlXCIsXCJUZXh0XCIpLHQoQW8sXCJnZW5lcmljRm9udHNcIixbXCJzZXJpZlwiLFwic2Fucy1zZXJpZlwiLFwibW9ub3NwYWNlXCIsXCJjdXJzaXZlXCIsXCJmYW50YXN5XCIsXCJzeXN0ZW0tdWlcIixcInVpLXNlcmlmXCIsXCJ1aS1zYW5zLXNlcmlmXCIsXCJ1aS1tb25vc3BhY2VcIixcInVpLXJvdW5kZWRcIixcIm1hdGhcIixcImVtb2ppXCIsXCJmYW5nc29uZ1wiXSksdChBbyxcIkFUVFJJQlVURV9OQU1FU1wiLFppLmNvbmNhdChcInhcIixcInlcIixcImR4XCIsXCJkeVwiLFwiZm9udC1mYW1pbHlcIixcImZvbnQtc3R5bGVcIixcImZvbnQtd2VpZ2h0XCIsXCJmb250LXNpemVcIixcImxldHRlci1zcGFjaW5nXCIsXCJ0ZXh0LWRlY29yYXRpb25cIixcInRleHQtYW5jaG9yXCIpKSxGaShBbyxbY2xhc3MgZXh0ZW5kcyBXZXtfdG9TVkcoKXtjb25zdCB0PXRoaXMuX2dldFNWR0xlZnRUb3BPZmZzZXRzKCksZT10aGlzLl9nZXRTVkdUZXh0QW5kQmcodC50ZXh0VG9wLHQudGV4dExlZnQpO3JldHVybiB0aGlzLl93cmFwU1ZHVGV4dEFuZEJnKGUpfXRvU1ZHKHQpe2NvbnN0IGU9dGhpcy5fY3JlYXRlQmFzZVNWR01hcmt1cCh0aGlzLl90b1NWRygpLHtyZXZpdmVyOnQsbm9TdHlsZTohMCx3aXRoU2hhZG93OiEwfSkscz10aGlzLnBhdGg7cmV0dXJuIHM/ZStzLl9jcmVhdGVCYXNlU1ZHTWFya3VwKHMuX3RvU1ZHKCkse3Jldml2ZXI6dCx3aXRoU2hhZG93OiEwLGFkZGl0aW9uYWxUcmFuc2Zvcm06enQodGhpcy5jYWxjT3duTWF0cml4KCkpfSk6ZX1fZ2V0U1ZHTGVmdFRvcE9mZnNldHMoKXtyZXR1cm57dGV4dExlZnQ6LXRoaXMud2lkdGgvMix0ZXh0VG9wOi10aGlzLmhlaWdodC8yLGxpbmVUb3A6dGhpcy5nZXRIZWlnaHRPZkxpbmUoMCl9fV93cmFwU1ZHVGV4dEFuZEJnKHQpe2xldHt0ZXh0QmdSZWN0czplLHRleHRTcGFuczpzfT10O2NvbnN0IGk9dGhpcy5nZXRTdmdUZXh0RGVjb3JhdGlvbih0aGlzKTtyZXR1cm5bZS5qb2luKFwiXCIpLCdcXHRcXHQ8dGV4dCB4bWw6c3BhY2U9XCJwcmVzZXJ2ZVwiICcsJ2ZvbnQtZmFtaWx5PVwiJy5jb25jYXQodGhpcy5mb250RmFtaWx5LnJlcGxhY2UoRG8sXCInXCIpLCdcIiAnKSwnZm9udC1zaXplPVwiJy5jb25jYXQodGhpcy5mb250U2l6ZSwnXCIgJyksdGhpcy5mb250U3R5bGU/J2ZvbnQtc3R5bGU9XCInLmNvbmNhdCh0aGlzLmZvbnRTdHlsZSwnXCIgJyk6XCJcIix0aGlzLmZvbnRXZWlnaHQ/J2ZvbnQtd2VpZ2h0PVwiJy5jb25jYXQodGhpcy5mb250V2VpZ2h0LCdcIiAnKTpcIlwiLGk/J3RleHQtZGVjb3JhdGlvbj1cIicuY29uY2F0KGksJ1wiICcpOlwiXCIsXCJydGxcIj09PXRoaXMuZGlyZWN0aW9uPydkaXJlY3Rpb249XCInLmNvbmNhdCh0aGlzLmRpcmVjdGlvbiwnXCIgJyk6XCJcIiwnc3R5bGU9XCInLHRoaXMuZ2V0U3ZnU3R5bGVzKCEwKSwnXCInLHRoaXMuYWRkUGFpbnRPcmRlcigpLFwiID5cIixzLmpvaW4oXCJcIiksXCI8L3RleHQ+XFxuXCJdfV9nZXRTVkdUZXh0QW5kQmcodCxlKXtjb25zdCBzPVtdLGk9W107bGV0IHIsbj10O3RoaXMuYmFja2dyb3VuZENvbG9yJiZpLnB1c2goLi4uTW8odGhpcy5iYWNrZ3JvdW5kQ29sb3IsLXRoaXMud2lkdGgvMiwtdGhpcy5oZWlnaHQvMix0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSk7Zm9yKGxldCB0PTAsbz10aGlzLl90ZXh0TGluZXMubGVuZ3RoO3Q8bzt0Kyspcj10aGlzLl9nZXRMaW5lTGVmdE9mZnNldCh0KSxcInJ0bFwiPT09dGhpcy5kaXJlY3Rpb24mJihyKz10aGlzLndpZHRoKSwodGhpcy50ZXh0QmFja2dyb3VuZENvbG9yfHx0aGlzLnN0eWxlSGFzKFwidGV4dEJhY2tncm91bmRDb2xvclwiLHQpKSYmdGhpcy5fc2V0U1ZHVGV4dExpbmVCZyhpLHQsZStyLG4pLHRoaXMuX3NldFNWR1RleHRMaW5lVGV4dChzLHQsZStyLG4pLG4rPXRoaXMuZ2V0SGVpZ2h0T2ZMaW5lKHQpO3JldHVybnt0ZXh0U3BhbnM6cyx0ZXh0QmdSZWN0czppfX1fY3JlYXRlVGV4dENoYXJTcGFuKHQsZSxzLGkscil7Y29uc3Qgbj1vLk5VTV9GUkFDVElPTl9ESUdJVFMsYT10aGlzLmdldFN2Z1NwYW5TdHlsZXMoZSx0IT09dC50cmltKCl8fCEhdC5tYXRjaChrbykpLGg9YT8nc3R5bGU9XCInLmNvbmNhdChhLCdcIicpOlwiXCIsYz1lLmRlbHRhWSxsPWM/JyBkeT1cIicuY29uY2F0KFZ0KGMsbiksJ1wiICcpOlwiXCIse2FuZ2xlOnUscmVuZGVyTGVmdDpkLHJlbmRlclRvcDpnLHdpZHRoOmZ9PXI7bGV0IHA9XCJcIjtpZih2b2lkIDAhPT1kKXtjb25zdCB0PWYvMjt1JiYocD0nIHJvdGF0ZT1cIicuY29uY2F0KFZ0KEN0KHUpLG4pLCdcIicpKTtjb25zdCBlPVB0KHthbmdsZTpDdCh1KX0pO2VbNF09ZCxlWzVdPWc7Y29uc3Qgcj1uZXcgb3QoLXQsMCkudHJhbnNmb3JtKGUpO3M9ci54LGk9ci55fXJldHVybic8dHNwYW4geD1cIicuY29uY2F0KFZ0KHMsbiksJ1wiIHk9XCInKS5jb25jYXQoVnQoaSxuKSwnXCIgJykuY29uY2F0KGwpLmNvbmNhdChwKS5jb25jYXQoaCxcIj5cIikuY29uY2F0KHppKHQpLFwiPC90c3Bhbj5cIil9X3NldFNWR1RleHRMaW5lVGV4dCh0LGUscyxpKXtjb25zdCByPXRoaXMuZ2V0SGVpZ2h0T2ZMaW5lKGUpLG49dGhpcy50ZXh0QWxpZ24uaW5jbHVkZXMoSmUpLG89dGhpcy5fdGV4dExpbmVzW2VdO2xldCBhLGgsYyxsLHUsZD1cIlwiLGc9MDtpKz1yKigxLXRoaXMuX2ZvbnRTaXplRnJhY3Rpb24pL3RoaXMubGluZUhlaWdodDtmb3IobGV0IHI9MCxmPW8ubGVuZ3RoLTE7cjw9ZjtyKyspdT1yPT09Znx8dGhpcy5jaGFyU3BhY2luZ3x8dGhpcy5wYXRoLGQrPW9bcl0sYz10aGlzLl9fY2hhckJvdW5kc1tlXVtyXSwwPT09Zz8ocys9Yy5rZXJuZWRXaWR0aC1jLndpZHRoLGcrPWMud2lkdGgpOmcrPWMua2VybmVkV2lkdGgsbiYmIXUmJnRoaXMuX3JlU3BhY2VBbmRUYWIudGVzdChvW3JdKSYmKHU9ITApLHV8fChhPWF8fHRoaXMuZ2V0Q29tcGxldGVTdHlsZURlY2xhcmF0aW9uKGUsciksaD10aGlzLmdldENvbXBsZXRlU3R5bGVEZWNsYXJhdGlvbihlLHIrMSksdT1LaShhLGgsITApKSx1JiYobD10aGlzLl9nZXRTdHlsZURlY2xhcmF0aW9uKGUsciksdC5wdXNoKHRoaXMuX2NyZWF0ZVRleHRDaGFyU3BhbihkLGwscyxpLGMpKSxkPVwiXCIsYT1oLFwicnRsXCI9PT10aGlzLmRpcmVjdGlvbj9zLT1nOnMrPWcsZz0wKX1fc2V0U1ZHVGV4dExpbmVCZyh0LGUscyxpKXtjb25zdCByPXRoaXMuX3RleHRMaW5lc1tlXSxuPXRoaXMuZ2V0SGVpZ2h0T2ZMaW5lKGUpL3RoaXMubGluZUhlaWdodDtsZXQgbyxhPTAsaD0wLGM9dGhpcy5nZXRWYWx1ZU9mUHJvcGVydHlBdChlLDAsXCJ0ZXh0QmFja2dyb3VuZENvbG9yXCIpO2ZvcihsZXQgbD0wO2w8ci5sZW5ndGg7bCsrKXtjb25zdHtsZWZ0OnIsd2lkdGg6dSxrZXJuZWRXaWR0aDpkfT10aGlzLl9fY2hhckJvdW5kc1tlXVtsXTtvPXRoaXMuZ2V0VmFsdWVPZlByb3BlcnR5QXQoZSxsLFwidGV4dEJhY2tncm91bmRDb2xvclwiKSxvIT09Yz8oYyYmdC5wdXNoKC4uLk1vKGMscytoLGksYSxuKSksaD1yLGE9dSxjPW8pOmErPWR9byYmdC5wdXNoKC4uLk1vKGMscytoLGksYSxuKSl9X2dldFNWR0xpbmVUb3BPZmZzZXQodCl7bGV0IGUscz0wO2ZvcihlPTA7ZTx0O2UrKylzKz10aGlzLmdldEhlaWdodE9mTGluZShlKTtjb25zdCBpPXRoaXMuZ2V0SGVpZ2h0T2ZMaW5lKGUpO3JldHVybntsaW5lVG9wOnMsb2Zmc2V0Oih0aGlzLl9mb250U2l6ZU11bHQtdGhpcy5fZm9udFNpemVGcmFjdGlvbikqaS8odGhpcy5saW5lSGVpZ2h0KnRoaXMuX2ZvbnRTaXplTXVsdCl9fWdldFN2Z1N0eWxlcyh0KXtyZXR1cm5cIlwiLmNvbmNhdChzdXBlci5nZXRTdmdTdHlsZXModCksXCIgdGV4dC1kZWNvcmF0aW9uLXRoaWNrbmVzczogXCIpLmNvbmNhdChWdCh0aGlzLnRleHREZWNvcmF0aW9uVGhpY2tuZXNzKnRoaXMuZ2V0T2JqZWN0U2NhbGluZygpLnkvMTAsby5OVU1fRlJBQ1RJT05fRElHSVRTKSxcIiU7IHdoaXRlLXNwYWNlOiBwcmU7XCIpfWdldFN2Z1NwYW5TdHlsZXModCxlKXtjb25zdHtmb250RmFtaWx5OnMsc3Ryb2tlV2lkdGg6aSxzdHJva2U6cixmaWxsOm4sZm9udFNpemU6YSxmb250U3R5bGU6aCxmb250V2VpZ2h0OmMsZGVsdGFZOmwsdGV4dERlY29yYXRpb25UaGlja25lc3M6dSxsaW5ldGhyb3VnaDpkLG92ZXJsaW5lOmcsdW5kZXJsaW5lOmZ9PXQscD10aGlzLmdldFN2Z1RleHREZWNvcmF0aW9uKHt1bmRlcmxpbmU6bnVsbCE9Zj9mOnRoaXMudW5kZXJsaW5lLG92ZXJsaW5lOm51bGwhPWc/Zzp0aGlzLm92ZXJsaW5lLGxpbmV0aHJvdWdoOm51bGwhPWQ/ZDp0aGlzLmxpbmV0aHJvdWdofSksbT11fHx0aGlzLnRleHREZWNvcmF0aW9uVGhpY2tuZXNzO3JldHVybltyP1llKEoscik6XCJcIixpP1wic3Ryb2tlLXdpZHRoOiBcIi5jb25jYXQoaSxcIjsgXCIpOlwiXCIscz9cImZvbnQtZmFtaWx5OiBcIi5jb25jYXQocy5pbmNsdWRlcyhcIidcIil8fHMuaW5jbHVkZXMoJ1wiJyk/czpcIidcIi5jb25jYXQocyxcIidcIiksXCI7IFwiKTpcIlwiLGE/XCJmb250LXNpemU6IFwiLmNvbmNhdChhLFwicHg7IFwiKTpcIlwiLGg/XCJmb250LXN0eWxlOiBcIi5jb25jYXQoaCxcIjsgXCIpOlwiXCIsYz9cImZvbnQtd2VpZ2h0OiBcIi5jb25jYXQoYyxcIjsgXCIpOlwiXCIscD9cInRleHQtZGVjb3JhdGlvbjogXCIuY29uY2F0KHAsXCI7IHRleHQtZGVjb3JhdGlvbi10aGlja25lc3M6IFwiKS5jb25jYXQoVnQobSp0aGlzLmdldE9iamVjdFNjYWxpbmcoKS55LzEwLG8uTlVNX0ZSQUNUSU9OX0RJR0lUUyksXCIlOyBcIik6XCJcIixuP1llKEssbik6XCJcIixsP1wiYmFzZWxpbmUtc2hpZnQ6IFwiLmNvbmNhdCgtbCxcIjsgXCIpOlwiXCIsZT9cIndoaXRlLXNwYWNlOiBwcmU7IFwiOlwiXCJdLmpvaW4oXCJcIil9Z2V0U3ZnVGV4dERlY29yYXRpb24odCl7cmV0dXJuW1wib3ZlcmxpbmVcIixcInVuZGVybGluZVwiLFwibGluZS10aHJvdWdoXCJdLmZpbHRlcigoZT0+dFtlLnJlcGxhY2UoXCItXCIsXCJcIildKSkuam9pbihcIiBcIil9fV0pLHR0LnNldENsYXNzKEFvKSx0dC5zZXRTVkdDbGFzcyhBbyk7Y2xhc3Mgam97Y29uc3RydWN0b3IoZSl7dCh0aGlzLFwidGFyZ2V0XCIsdm9pZCAwKSx0KHRoaXMsXCJfX21vdXNlRG93bkluUGxhY2VcIiwhMSksdCh0aGlzLFwiX19kcmFnU3RhcnRGaXJlZFwiLCExKSx0KHRoaXMsXCJfX2lzRHJhZ2dpbmdPdmVyXCIsITEpLHQodGhpcyxcIl9fZHJhZ1N0YXJ0U2VsZWN0aW9uXCIsdm9pZCAwKSx0KHRoaXMsXCJfX2RyYWdJbWFnZURpc3Bvc2VyXCIsdm9pZCAwKSx0KHRoaXMsXCJfZGlzcG9zZVwiLHZvaWQgMCksdGhpcy50YXJnZXQ9ZTtjb25zdCBzPVt0aGlzLnRhcmdldC5vbihcImRyYWdlbnRlclwiLHRoaXMuZHJhZ0VudGVySGFuZGxlci5iaW5kKHRoaXMpKSx0aGlzLnRhcmdldC5vbihcImRyYWdvdmVyXCIsdGhpcy5kcmFnT3ZlckhhbmRsZXIuYmluZCh0aGlzKSksdGhpcy50YXJnZXQub24oXCJkcmFnbGVhdmVcIix0aGlzLmRyYWdMZWF2ZUhhbmRsZXIuYmluZCh0aGlzKSksdGhpcy50YXJnZXQub24oXCJkcmFnZW5kXCIsdGhpcy5kcmFnRW5kSGFuZGxlci5iaW5kKHRoaXMpKSx0aGlzLnRhcmdldC5vbihcImRyb3BcIix0aGlzLmRyb3BIYW5kbGVyLmJpbmQodGhpcykpXTt0aGlzLl9kaXNwb3NlPSgpPT57cy5mb3JFYWNoKCh0PT50KCkpKSx0aGlzLl9kaXNwb3NlPXZvaWQgMH19aXNQb2ludGVyT3ZlclNlbGVjdGlvbih0KXtjb25zdCBlPXRoaXMudGFyZ2V0LHM9ZS5nZXRTZWxlY3Rpb25TdGFydEZyb21Qb2ludGVyKHQpO3JldHVybiBlLmlzRWRpdGluZyYmcz49ZS5zZWxlY3Rpb25TdGFydCYmczw9ZS5zZWxlY3Rpb25FbmQmJmUuc2VsZWN0aW9uU3RhcnQ8ZS5zZWxlY3Rpb25FbmR9c3RhcnQodCl7cmV0dXJuIHRoaXMuX19tb3VzZURvd25JblBsYWNlPXRoaXMuaXNQb2ludGVyT3ZlclNlbGVjdGlvbih0KX1pc0FjdGl2ZSgpe3JldHVybiB0aGlzLl9fbW91c2VEb3duSW5QbGFjZX1lbmQodCl7Y29uc3QgZT10aGlzLmlzQWN0aXZlKCk7cmV0dXJuIGUmJiF0aGlzLl9fZHJhZ1N0YXJ0RmlyZWQmJih0aGlzLnRhcmdldC5zZXRDdXJzb3JCeUNsaWNrKHQpLHRoaXMudGFyZ2V0LmluaXREZWxheWVkQ3Vyc29yKCEwKSksdGhpcy5fX21vdXNlRG93bkluUGxhY2U9ITEsdGhpcy5fX2RyYWdTdGFydEZpcmVkPSExLHRoaXMuX19pc0RyYWdnaW5nT3Zlcj0hMSxlfWdldERyYWdTdGFydFNlbGVjdGlvbigpe3JldHVybiB0aGlzLl9fZHJhZ1N0YXJ0U2VsZWN0aW9ufXNldERyYWdJbWFnZSh0LGUpe3ZhciBzO2xldHtzZWxlY3Rpb25TdGFydDppLHNlbGVjdGlvbkVuZDpyfT1lO2NvbnN0IG49dGhpcy50YXJnZXQsbz1uLmNhbnZhcyxhPW5ldyBvdChuLmZsaXBYPy0xOjEsbi5mbGlwWT8tMToxKSxoPW4uX2dldEN1cnNvckJvdW5kYXJpZXMoaSksYz1uZXcgb3QoaC5sZWZ0K2gubGVmdE9mZnNldCxoLnRvcCtoLnRvcE9mZnNldCkubXVsdGlwbHkoYSkudHJhbnNmb3JtKG4uY2FsY1RyYW5zZm9ybU1hdHJpeCgpKSxsPW8uZ2V0U2NlbmVQb2ludCh0KS5zdWJ0cmFjdChjKSx1PW4uZ2V0Q2FudmFzUmV0aW5hU2NhbGluZygpLGQ9bi5nZXRCb3VuZGluZ1JlY3QoKSxnPWMuc3VidHJhY3QobmV3IG90KGQubGVmdCxkLnRvcCkpLGY9by52aWV3cG9ydFRyYW5zZm9ybSxwPWcuYWRkKGwpLnRyYW5zZm9ybShmLCEwKSxtPW4uYmFja2dyb3VuZENvbG9yLHY9Vmkobi5zdHlsZXMpO24uYmFja2dyb3VuZENvbG9yPVwiXCI7Y29uc3QgeT17c3Ryb2tlOlwidHJhbnNwYXJlbnRcIixmaWxsOlwidHJhbnNwYXJlbnRcIix0ZXh0QmFja2dyb3VuZENvbG9yOlwidHJhbnNwYXJlbnRcIn07bi5zZXRTZWxlY3Rpb25TdHlsZXMoeSwwLGkpLG4uc2V0U2VsZWN0aW9uU3R5bGVzKHkscixuLnRleHQubGVuZ3RoKSxuLmRpcnR5PSEwO2NvbnN0IF89bi50b0NhbnZhc0VsZW1lbnQoe2VuYWJsZVJldGluYVNjYWxpbmc6by5lbmFibGVSZXRpbmFTY2FsaW5nLHZpZXdwb3J0VHJhbnNmb3JtOiEwfSk7bi5iYWNrZ3JvdW5kQ29sb3I9bSxuLnN0eWxlcz12LG4uZGlydHk9ITAsVG4oXyx7cG9zaXRpb246XCJmaXhlZFwiLGxlZnQ6XCJcIi5jb25jYXQoLV8ud2lkdGgsXCJweFwiKSxib3JkZXI6aix3aWR0aDpcIlwiLmNvbmNhdChfLndpZHRoL3UsXCJweFwiKSxoZWlnaHQ6XCJcIi5jb25jYXQoXy5oZWlnaHQvdSxcInB4XCIpfSksdGhpcy5fX2RyYWdJbWFnZURpc3Bvc2VyJiZ0aGlzLl9fZHJhZ0ltYWdlRGlzcG9zZXIoKSx0aGlzLl9fZHJhZ0ltYWdlRGlzcG9zZXI9KCk9PntfLnJlbW92ZSgpfSxLdCh0LnRhcmdldHx8dGhpcy50YXJnZXQuaGlkZGVuVGV4dGFyZWEpLmJvZHkuYXBwZW5kQ2hpbGQoXyksbnVsbD09PShzPXQuZGF0YVRyYW5zZmVyKXx8dm9pZCAwPT09c3x8cy5zZXREcmFnSW1hZ2UoXyxwLngscC55KX1vbkRyYWdTdGFydCh0KXt0aGlzLl9fZHJhZ1N0YXJ0RmlyZWQ9ITA7Y29uc3QgZT10aGlzLnRhcmdldCxpPXRoaXMuaXNBY3RpdmUoKTtpZihpJiZ0LmRhdGFUcmFuc2Zlcil7Y29uc3QgaT10aGlzLl9fZHJhZ1N0YXJ0U2VsZWN0aW9uPXtzZWxlY3Rpb25TdGFydDplLnNlbGVjdGlvblN0YXJ0LHNlbGVjdGlvbkVuZDplLnNlbGVjdGlvbkVuZH0scj1lLl90ZXh0LnNsaWNlKGkuc2VsZWN0aW9uU3RhcnQsaS5zZWxlY3Rpb25FbmQpLmpvaW4oXCJcIiksbj1zKHt0ZXh0OmUudGV4dCx2YWx1ZTpyfSxpKTt0LmRhdGFUcmFuc2Zlci5zZXREYXRhKFwidGV4dC9wbGFpblwiLHIpLHQuZGF0YVRyYW5zZmVyLnNldERhdGEoXCJhcHBsaWNhdGlvbi9mYWJyaWNcIixKU09OLnN0cmluZ2lmeSh7dmFsdWU6cixzdHlsZXM6ZS5nZXRTZWxlY3Rpb25TdHlsZXMoaS5zZWxlY3Rpb25TdGFydCxpLnNlbGVjdGlvbkVuZCwhMCl9KSksdC5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZD1cImNvcHlNb3ZlXCIsdGhpcy5zZXREcmFnSW1hZ2UodCxuKX1yZXR1cm4gZS5hYm9ydEN1cnNvckFuaW1hdGlvbigpLGl9Y2FuRHJvcCh0KXtpZih0aGlzLnRhcmdldC5lZGl0YWJsZSYmIXRoaXMudGFyZ2V0LmdldEFjdGl2ZUNvbnRyb2woKSYmIXQuZGVmYXVsdFByZXZlbnRlZCl7aWYodGhpcy5pc0FjdGl2ZSgpJiZ0aGlzLl9fZHJhZ1N0YXJ0U2VsZWN0aW9uKXtjb25zdCBlPXRoaXMudGFyZ2V0LmdldFNlbGVjdGlvblN0YXJ0RnJvbVBvaW50ZXIodCkscz10aGlzLl9fZHJhZ1N0YXJ0U2VsZWN0aW9uO3JldHVybiBlPHMuc2VsZWN0aW9uU3RhcnR8fGU+cy5zZWxlY3Rpb25FbmR9cmV0dXJuITB9cmV0dXJuITF9dGFyZ2V0Q2FuRHJvcCh0KXtyZXR1cm4gdGhpcy50YXJnZXQuY2FuRHJvcCh0KX1kcmFnRW50ZXJIYW5kbGVyKHQpe2xldHtlOmV9PXQ7Y29uc3Qgcz10aGlzLnRhcmdldENhbkRyb3AoZSk7IXRoaXMuX19pc0RyYWdnaW5nT3ZlciYmcyYmKHRoaXMuX19pc0RyYWdnaW5nT3Zlcj0hMCl9ZHJhZ092ZXJIYW5kbGVyKHQpe2NvbnN0e2U6ZX09dCxzPXRoaXMudGFyZ2V0Q2FuRHJvcChlKTshdGhpcy5fX2lzRHJhZ2dpbmdPdmVyJiZzP3RoaXMuX19pc0RyYWdnaW5nT3Zlcj0hMDp0aGlzLl9faXNEcmFnZ2luZ092ZXImJiFzJiYodGhpcy5fX2lzRHJhZ2dpbmdPdmVyPSExKSx0aGlzLl9faXNEcmFnZ2luZ092ZXImJihlLnByZXZlbnREZWZhdWx0KCksdC5jYW5Ecm9wPSEwLHQuZHJvcFRhcmdldD10aGlzLnRhcmdldCl9ZHJhZ0xlYXZlSGFuZGxlcigpeyh0aGlzLl9faXNEcmFnZ2luZ092ZXJ8fHRoaXMuaXNBY3RpdmUoKSkmJih0aGlzLl9faXNEcmFnZ2luZ092ZXI9ITEpfWRyb3BIYW5kbGVyKHQpe3ZhciBlO2NvbnN0e2U6c309dCxpPXMuZGVmYXVsdFByZXZlbnRlZDt0aGlzLl9faXNEcmFnZ2luZ092ZXI9ITEscy5wcmV2ZW50RGVmYXVsdCgpO2xldCByPW51bGw9PT0oZT1zLmRhdGFUcmFuc2Zlcil8fHZvaWQgMD09PWU/dm9pZCAwOmUuZ2V0RGF0YShcInRleHQvcGxhaW5cIik7aWYociYmIWkpe2NvbnN0IGU9dGhpcy50YXJnZXQsaT1lLmNhbnZhcztsZXQgbj1lLmdldFNlbGVjdGlvblN0YXJ0RnJvbVBvaW50ZXIocyk7Y29uc3R7c3R5bGVzOm99PXMuZGF0YVRyYW5zZmVyLnR5cGVzLmluY2x1ZGVzKFwiYXBwbGljYXRpb24vZmFicmljXCIpP0pTT04ucGFyc2Uocy5kYXRhVHJhbnNmZXIuZ2V0RGF0YShcImFwcGxpY2F0aW9uL2ZhYnJpY1wiKSk6e30sYT1yW01hdGgubWF4KDAsci5sZW5ndGgtMSldLGg9MDtpZih0aGlzLl9fZHJhZ1N0YXJ0U2VsZWN0aW9uKXtjb25zdCB0PXRoaXMuX19kcmFnU3RhcnRTZWxlY3Rpb24uc2VsZWN0aW9uU3RhcnQscz10aGlzLl9fZHJhZ1N0YXJ0U2VsZWN0aW9uLnNlbGVjdGlvbkVuZDtuPnQmJm48PXM/bj10Om4+cyYmKG4tPXMtdCksZS5yZW1vdmVDaGFycyh0LHMpLGRlbGV0ZSB0aGlzLl9fZHJhZ1N0YXJ0U2VsZWN0aW9ufWUuX3JlTmV3bGluZS50ZXN0KGEpJiYoZS5fcmVOZXdsaW5lLnRlc3QoZS5fdGV4dFtuXSl8fG49PT1lLl90ZXh0Lmxlbmd0aCkmJihyPXIudHJpbUVuZCgpKSx0LmRpZERyb3A9ITAsdC5kcm9wVGFyZ2V0PWUsZS5pbnNlcnRDaGFycyhyLG8sbiksaS5zZXRBY3RpdmVPYmplY3QoZSksZS5lbnRlckVkaXRpbmcocyksZS5zZWxlY3Rpb25TdGFydD1NYXRoLm1pbihuK2gsZS5fdGV4dC5sZW5ndGgpLGUuc2VsZWN0aW9uRW5kPU1hdGgubWluKGUuc2VsZWN0aW9uU3RhcnQrci5sZW5ndGgsZS5fdGV4dC5sZW5ndGgpLGUuaGlkZGVuVGV4dGFyZWEudmFsdWU9ZS50ZXh0LGUuX3VwZGF0ZVRleHRhcmVhKCksZS5oaWRkZW5UZXh0YXJlYS5mb2N1cygpLGUuZmlyZSh6LHtpbmRleDpuK2gsYWN0aW9uOlwiZHJvcFwifSksaS5maXJlKFwidGV4dDpjaGFuZ2VkXCIse3RhcmdldDplfSksaS5jb250ZXh0VG9wRGlydHk9ITAsaS5yZXF1ZXN0UmVuZGVyQWxsKCl9fWRyYWdFbmRIYW5kbGVyKHQpe2xldHtlOmV9PXQ7aWYodGhpcy5pc0FjdGl2ZSgpJiZ0aGlzLl9fZHJhZ1N0YXJ0RmlyZWQmJnRoaXMuX19kcmFnU3RhcnRTZWxlY3Rpb24pe3ZhciBzO2NvbnN0IHQ9dGhpcy50YXJnZXQsaT10aGlzLnRhcmdldC5jYW52YXMse3NlbGVjdGlvblN0YXJ0OnIsc2VsZWN0aW9uRW5kOm59PXRoaXMuX19kcmFnU3RhcnRTZWxlY3Rpb24sbz0obnVsbD09PShzPWUuZGF0YVRyYW5zZmVyKXx8dm9pZCAwPT09cz92b2lkIDA6cy5kcm9wRWZmZWN0KXx8ajtvPT09aj8odC5zZWxlY3Rpb25TdGFydD1yLHQuc2VsZWN0aW9uRW5kPW4sdC5fdXBkYXRlVGV4dGFyZWEoKSx0LmhpZGRlblRleHRhcmVhLmZvY3VzKCkpOih0LmNsZWFyQ29udGV4dFRvcCgpLFwibW92ZVwiPT09byYmKHQucmVtb3ZlQ2hhcnMocixuKSx0LnNlbGVjdGlvblN0YXJ0PXQuc2VsZWN0aW9uRW5kPXIsdC5oaWRkZW5UZXh0YXJlYSYmKHQuaGlkZGVuVGV4dGFyZWEudmFsdWU9dC50ZXh0KSx0Ll91cGRhdGVUZXh0YXJlYSgpLHQuZmlyZSh6LHtpbmRleDpyLGFjdGlvbjpcImRyYWdlbmRcIn0pLGkuZmlyZShcInRleHQ6Y2hhbmdlZFwiLHt0YXJnZXQ6dH0pLGkucmVxdWVzdFJlbmRlckFsbCgpKSx0LmV4aXRFZGl0aW5nKCkpfXRoaXMuX19kcmFnSW1hZ2VEaXNwb3NlciYmdGhpcy5fX2RyYWdJbWFnZURpc3Bvc2VyKCksZGVsZXRlIHRoaXMuX19kcmFnSW1hZ2VEaXNwb3NlcixkZWxldGUgdGhpcy5fX2RyYWdTdGFydFNlbGVjdGlvbix0aGlzLl9faXNEcmFnZ2luZ092ZXI9ITF9ZGlzcG9zZSgpe3RoaXMuX2Rpc3Bvc2UmJnRoaXMuX2Rpc3Bvc2UoKX19Y29uc3QgRm89L1sgXFxuXFwuLDshXFw/XFwtXS87Y2xhc3MgTG8gZXh0ZW5kcyBBb3tjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdCh0aGlzLFwiX2N1cnJlbnRDdXJzb3JPcGFjaXR5XCIsMSl9aW5pdEJlaGF2aW9yKCl7dGhpcy5fdGljaz10aGlzLl90aWNrLmJpbmQodGhpcyksdGhpcy5fb25UaWNrQ29tcGxldGU9dGhpcy5fb25UaWNrQ29tcGxldGUuYmluZCh0aGlzKSx0aGlzLnVwZGF0ZVNlbGVjdGlvbk9uTW91c2VNb3ZlPXRoaXMudXBkYXRlU2VsZWN0aW9uT25Nb3VzZU1vdmUuYmluZCh0aGlzKX1vbkRlc2VsZWN0KHQpe3JldHVybiB0aGlzLmlzRWRpdGluZyYmdGhpcy5leGl0RWRpdGluZygpLHRoaXMuc2VsZWN0ZWQ9ITEsc3VwZXIub25EZXNlbGVjdCh0KX1fYW5pbWF0ZUN1cnNvcih0KXtsZXR7dG9WYWx1ZTplLGR1cmF0aW9uOnMsZGVsYXk6aSxvbkNvbXBsZXRlOnJ9PXQ7cmV0dXJuIEtzKHtzdGFydFZhbHVlOnRoaXMuX2N1cnJlbnRDdXJzb3JPcGFjaXR5LGVuZFZhbHVlOmUsZHVyYXRpb246cyxkZWxheTppLG9uQ29tcGxldGU6cixhYm9ydDooKT0+IXRoaXMuY2FudmFzfHx0aGlzLnNlbGVjdGlvblN0YXJ0IT09dGhpcy5zZWxlY3Rpb25FbmQsb25DaGFuZ2U6dD0+e3RoaXMuX2N1cnJlbnRDdXJzb3JPcGFjaXR5PXQsdGhpcy5yZW5kZXJDdXJzb3JPclNlbGVjdGlvbigpfX0pfV90aWNrKHQpe3RoaXMuX2N1cnJlbnRUaWNrU3RhdGU9dGhpcy5fYW5pbWF0ZUN1cnNvcih7dG9WYWx1ZTowLGR1cmF0aW9uOnRoaXMuY3Vyc29yRHVyYXRpb24vMixkZWxheTpNYXRoLm1heCh0fHwwLDEwMCksb25Db21wbGV0ZTp0aGlzLl9vblRpY2tDb21wbGV0ZX0pfV9vblRpY2tDb21wbGV0ZSgpe3ZhciB0O251bGw9PT0odD10aGlzLl9jdXJyZW50VGlja0NvbXBsZXRlU3RhdGUpfHx2b2lkIDA9PT10fHx0LmFib3J0KCksdGhpcy5fY3VycmVudFRpY2tDb21wbGV0ZVN0YXRlPXRoaXMuX2FuaW1hdGVDdXJzb3Ioe3RvVmFsdWU6MSxkdXJhdGlvbjp0aGlzLmN1cnNvckR1cmF0aW9uLG9uQ29tcGxldGU6dGhpcy5fdGlja30pfWluaXREZWxheWVkQ3Vyc29yKHQpe3RoaXMuYWJvcnRDdXJzb3JBbmltYXRpb24oKSx0aGlzLl90aWNrKHQ/MDp0aGlzLmN1cnNvckRlbGF5KX1hYm9ydEN1cnNvckFuaW1hdGlvbigpe2xldCB0PSExO1t0aGlzLl9jdXJyZW50VGlja1N0YXRlLHRoaXMuX2N1cnJlbnRUaWNrQ29tcGxldGVTdGF0ZV0uZm9yRWFjaCgoZT0+e2UmJiFlLmlzRG9uZSgpJiYodD0hMCxlLmFib3J0KCkpfSkpLHRoaXMuX2N1cnJlbnRDdXJzb3JPcGFjaXR5PTEsdCYmdGhpcy5jbGVhckNvbnRleHRUb3AoKX1yZXN0YXJ0Q3Vyc29ySWZOZWVkZWQoKXtbdGhpcy5fY3VycmVudFRpY2tTdGF0ZSx0aGlzLl9jdXJyZW50VGlja0NvbXBsZXRlU3RhdGVdLnNvbWUoKHQ9PiF0fHx0LmlzRG9uZSgpKSkmJnRoaXMuaW5pdERlbGF5ZWRDdXJzb3IoKX1zZWxlY3RBbGwoKXtyZXR1cm4gdGhpcy5zZWxlY3Rpb25TdGFydD0wLHRoaXMuc2VsZWN0aW9uRW5kPXRoaXMuX3RleHQubGVuZ3RoLHRoaXMuX2ZpcmVTZWxlY3Rpb25DaGFuZ2VkKCksdGhpcy5fdXBkYXRlVGV4dGFyZWEoKSx0aGlzfWNtZEFsbCgpe3RoaXMuc2VsZWN0QWxsKCksdGhpcy5yZW5kZXJDdXJzb3JPclNlbGVjdGlvbigpfWdldFNlbGVjdGVkVGV4dCgpe3JldHVybiB0aGlzLl90ZXh0LnNsaWNlKHRoaXMuc2VsZWN0aW9uU3RhcnQsdGhpcy5zZWxlY3Rpb25FbmQpLmpvaW4oXCJcIil9ZmluZFdvcmRCb3VuZGFyeUxlZnQodCl7bGV0IGU9MCxzPXQtMTtpZih0aGlzLl9yZVNwYWNlLnRlc3QodGhpcy5fdGV4dFtzXSkpZm9yKDt0aGlzLl9yZVNwYWNlLnRlc3QodGhpcy5fdGV4dFtzXSk7KWUrKyxzLS07Zm9yKDsvXFxTLy50ZXN0KHRoaXMuX3RleHRbc10pJiZzPi0xOyllKysscy0tO3JldHVybiB0LWV9ZmluZFdvcmRCb3VuZGFyeVJpZ2h0KHQpe2xldCBlPTAscz10O2lmKHRoaXMuX3JlU3BhY2UudGVzdCh0aGlzLl90ZXh0W3NdKSlmb3IoO3RoaXMuX3JlU3BhY2UudGVzdCh0aGlzLl90ZXh0W3NdKTspZSsrLHMrKztmb3IoOy9cXFMvLnRlc3QodGhpcy5fdGV4dFtzXSkmJnM8dGhpcy5fdGV4dC5sZW5ndGg7KWUrKyxzKys7cmV0dXJuIHQrZX1maW5kTGluZUJvdW5kYXJ5TGVmdCh0KXtsZXQgZT0wLHM9dC0xO2Zvcig7IS9cXG4vLnRlc3QodGhpcy5fdGV4dFtzXSkmJnM+LTE7KWUrKyxzLS07cmV0dXJuIHQtZX1maW5kTGluZUJvdW5kYXJ5UmlnaHQodCl7bGV0IGU9MCxzPXQ7Zm9yKDshL1xcbi8udGVzdCh0aGlzLl90ZXh0W3NdKSYmczx0aGlzLl90ZXh0Lmxlbmd0aDspZSsrLHMrKztyZXR1cm4gdCtlfXNlYXJjaFdvcmRCb3VuZGFyeSh0LGUpe2NvbnN0IHM9dGhpcy5fdGV4dDtsZXQgaT10PjAmJnRoaXMuX3JlU3BhY2UudGVzdChzW3RdKSYmKC0xPT09ZXx8IUYudGVzdChzW3QtMV0pKT90LTE6dCxyPXNbaV07Zm9yKDtpPjAmJmk8cy5sZW5ndGgmJiFGby50ZXN0KHIpOylpKz1lLHI9c1tpXTtyZXR1cm4tMT09PWUmJkZvLnRlc3QocikmJmkrKyxpfXNlbGVjdFdvcmQodCl7dmFyIGU7dD1udWxsIT09KGU9dCkmJnZvaWQgMCE9PWU/ZTp0aGlzLnNlbGVjdGlvblN0YXJ0O2NvbnN0IHM9dGhpcy5zZWFyY2hXb3JkQm91bmRhcnkodCwtMSksaT1NYXRoLm1heChzLHRoaXMuc2VhcmNoV29yZEJvdW5kYXJ5KHQsMSkpO3RoaXMuc2VsZWN0aW9uU3RhcnQ9cyx0aGlzLnNlbGVjdGlvbkVuZD1pLHRoaXMuX2ZpcmVTZWxlY3Rpb25DaGFuZ2VkKCksdGhpcy5fdXBkYXRlVGV4dGFyZWEoKSx0aGlzLnJlbmRlckN1cnNvck9yU2VsZWN0aW9uKCl9c2VsZWN0TGluZSh0KXt2YXIgZTt0PW51bGwhPT0oZT10KSYmdm9pZCAwIT09ZT9lOnRoaXMuc2VsZWN0aW9uU3RhcnQ7Y29uc3Qgcz10aGlzLmZpbmRMaW5lQm91bmRhcnlMZWZ0KHQpLGk9dGhpcy5maW5kTGluZUJvdW5kYXJ5UmlnaHQodCk7dGhpcy5zZWxlY3Rpb25TdGFydD1zLHRoaXMuc2VsZWN0aW9uRW5kPWksdGhpcy5fZmlyZVNlbGVjdGlvbkNoYW5nZWQoKSx0aGlzLl91cGRhdGVUZXh0YXJlYSgpfWVudGVyRWRpdGluZyh0KXshdGhpcy5pc0VkaXRpbmcmJnRoaXMuZWRpdGFibGUmJih0aGlzLmVudGVyRWRpdGluZ0ltcGwoKSx0aGlzLmZpcmUoXCJlZGl0aW5nOmVudGVyZWRcIix0P3tlOnR9OnZvaWQgMCksdGhpcy5fZmlyZVNlbGVjdGlvbkNoYW5nZWQoKSx0aGlzLmNhbnZhcyYmKHRoaXMuY2FudmFzLmZpcmUoXCJ0ZXh0OmVkaXRpbmc6ZW50ZXJlZFwiLHt0YXJnZXQ6dGhpcyxlOnR9KSx0aGlzLmNhbnZhcy5yZXF1ZXN0UmVuZGVyQWxsKCkpKX1lbnRlckVkaXRpbmdJbXBsKCl7dGhpcy5jYW52YXMmJih0aGlzLmNhbnZhcy5jYWxjT2Zmc2V0KCksdGhpcy5jYW52YXMudGV4dEVkaXRpbmdNYW5hZ2VyLmV4aXRUZXh0RWRpdGluZygpKSx0aGlzLmlzRWRpdGluZz0hMCx0aGlzLmluaXRIaWRkZW5UZXh0YXJlYSgpLHRoaXMuaGlkZGVuVGV4dGFyZWEuZm9jdXMoKSx0aGlzLmhpZGRlblRleHRhcmVhLnZhbHVlPXRoaXMudGV4dCx0aGlzLl91cGRhdGVUZXh0YXJlYSgpLHRoaXMuX3NhdmVFZGl0aW5nUHJvcHMoKSx0aGlzLl9zZXRFZGl0aW5nUHJvcHMoKSx0aGlzLl90ZXh0QmVmb3JlRWRpdD10aGlzLnRleHQsdGhpcy5fdGljaygpfXVwZGF0ZVNlbGVjdGlvbk9uTW91c2VNb3ZlKHQpe2lmKHRoaXMuZ2V0QWN0aXZlQ29udHJvbCgpKXJldHVybjtjb25zdCBlPXRoaXMuaGlkZGVuVGV4dGFyZWE7S3QoZSkuYWN0aXZlRWxlbWVudCE9PWUmJmUuZm9jdXMoKTtjb25zdCBzPXRoaXMuZ2V0U2VsZWN0aW9uU3RhcnRGcm9tUG9pbnRlcih0KSxpPXRoaXMuc2VsZWN0aW9uU3RhcnQscj10aGlzLnNlbGVjdGlvbkVuZDsocz09PXRoaXMuX19zZWxlY3Rpb25TdGFydE9uTW91c2VEb3duJiZpIT09cnx8aSE9PXMmJnIhPT1zKSYmKHM+dGhpcy5fX3NlbGVjdGlvblN0YXJ0T25Nb3VzZURvd24/KHRoaXMuc2VsZWN0aW9uU3RhcnQ9dGhpcy5fX3NlbGVjdGlvblN0YXJ0T25Nb3VzZURvd24sdGhpcy5zZWxlY3Rpb25FbmQ9cyk6KHRoaXMuc2VsZWN0aW9uU3RhcnQ9cyx0aGlzLnNlbGVjdGlvbkVuZD10aGlzLl9fc2VsZWN0aW9uU3RhcnRPbk1vdXNlRG93biksdGhpcy5zZWxlY3Rpb25TdGFydD09PWkmJnRoaXMuc2VsZWN0aW9uRW5kPT09cnx8KHRoaXMuX2ZpcmVTZWxlY3Rpb25DaGFuZ2VkKCksdGhpcy5fdXBkYXRlVGV4dGFyZWEoKSx0aGlzLnJlbmRlckN1cnNvck9yU2VsZWN0aW9uKCkpKX1fc2V0RWRpdGluZ1Byb3BzKCl7dGhpcy5ob3ZlckN1cnNvcj1cInRleHRcIix0aGlzLmNhbnZhcyYmKHRoaXMuY2FudmFzLmRlZmF1bHRDdXJzb3I9dGhpcy5jYW52YXMubW92ZUN1cnNvcj1cInRleHRcIiksdGhpcy5ib3JkZXJDb2xvcj10aGlzLmVkaXRpbmdCb3JkZXJDb2xvcix0aGlzLmhhc0NvbnRyb2xzPXRoaXMuc2VsZWN0YWJsZT0hMSx0aGlzLmxvY2tNb3ZlbWVudFg9dGhpcy5sb2NrTW92ZW1lbnRZPSEwfWZyb21TdHJpbmdUb0dyYXBoZW1lU2VsZWN0aW9uKHQsZSxzKXtjb25zdCBpPXMuc2xpY2UoMCx0KSxyPXRoaXMuZ3JhcGhlbWVTcGxpdChpKS5sZW5ndGg7aWYodD09PWUpcmV0dXJue3NlbGVjdGlvblN0YXJ0OnIsc2VsZWN0aW9uRW5kOnJ9O2NvbnN0IG49cy5zbGljZSh0LGUpO3JldHVybntzZWxlY3Rpb25TdGFydDpyLHNlbGVjdGlvbkVuZDpyK3RoaXMuZ3JhcGhlbWVTcGxpdChuKS5sZW5ndGh9fWZyb21HcmFwaGVtZVRvU3RyaW5nU2VsZWN0aW9uKHQsZSxzKXtjb25zdCBpPXMuc2xpY2UoMCx0KS5qb2luKFwiXCIpLmxlbmd0aDtpZih0PT09ZSlyZXR1cm57c2VsZWN0aW9uU3RhcnQ6aSxzZWxlY3Rpb25FbmQ6aX07cmV0dXJue3NlbGVjdGlvblN0YXJ0Omksc2VsZWN0aW9uRW5kOmkrcy5zbGljZSh0LGUpLmpvaW4oXCJcIikubGVuZ3RofX1fdXBkYXRlVGV4dGFyZWEoKXtpZih0aGlzLmN1cnNvck9mZnNldENhY2hlPXt9LHRoaXMuaGlkZGVuVGV4dGFyZWEpe2lmKCF0aGlzLmluQ29tcG9zaXRpb25Nb2RlKXtjb25zdCB0PXRoaXMuZnJvbUdyYXBoZW1lVG9TdHJpbmdTZWxlY3Rpb24odGhpcy5zZWxlY3Rpb25TdGFydCx0aGlzLnNlbGVjdGlvbkVuZCx0aGlzLl90ZXh0KTt0aGlzLmhpZGRlblRleHRhcmVhLnNlbGVjdGlvblN0YXJ0PXQuc2VsZWN0aW9uU3RhcnQsdGhpcy5oaWRkZW5UZXh0YXJlYS5zZWxlY3Rpb25FbmQ9dC5zZWxlY3Rpb25FbmR9dGhpcy51cGRhdGVUZXh0YXJlYVBvc2l0aW9uKCl9fXVwZGF0ZUZyb21UZXh0QXJlYSgpe2lmKCF0aGlzLmhpZGRlblRleHRhcmVhKXJldHVybjt0aGlzLmN1cnNvck9mZnNldENhY2hlPXt9O2NvbnN0IHQ9dGhpcy5oaWRkZW5UZXh0YXJlYTt0aGlzLnRleHQ9dC52YWx1ZSx0aGlzLnNldChcImRpcnR5XCIsITApLHRoaXMuaW5pdERpbWVuc2lvbnMoKSx0aGlzLnNldENvb3JkcygpO2NvbnN0IGU9dGhpcy5mcm9tU3RyaW5nVG9HcmFwaGVtZVNlbGVjdGlvbih0LnNlbGVjdGlvblN0YXJ0LHQuc2VsZWN0aW9uRW5kLHQudmFsdWUpO3RoaXMuc2VsZWN0aW9uRW5kPXRoaXMuc2VsZWN0aW9uU3RhcnQ9ZS5zZWxlY3Rpb25FbmQsdGhpcy5pbkNvbXBvc2l0aW9uTW9kZXx8KHRoaXMuc2VsZWN0aW9uU3RhcnQ9ZS5zZWxlY3Rpb25TdGFydCksdGhpcy51cGRhdGVUZXh0YXJlYVBvc2l0aW9uKCl9dXBkYXRlVGV4dGFyZWFQb3NpdGlvbigpe2lmKHRoaXMuc2VsZWN0aW9uU3RhcnQ9PT10aGlzLnNlbGVjdGlvbkVuZCl7Y29uc3QgdD10aGlzLl9jYWxjVGV4dGFyZWFQb3NpdGlvbigpO3RoaXMuaGlkZGVuVGV4dGFyZWEuc3R5bGUubGVmdD10LmxlZnQsdGhpcy5oaWRkZW5UZXh0YXJlYS5zdHlsZS50b3A9dC50b3B9fV9jYWxjVGV4dGFyZWFQb3NpdGlvbigpe2lmKCF0aGlzLmNhbnZhcylyZXR1cm57bGVmdDpcIjFweFwiLHRvcDpcIjFweFwifTtjb25zdCB0PXRoaXMuaW5Db21wb3NpdGlvbk1vZGU/dGhpcy5jb21wb3NpdGlvblN0YXJ0OnRoaXMuc2VsZWN0aW9uU3RhcnQsZT10aGlzLl9nZXRDdXJzb3JCb3VuZGFyaWVzKHQpLHM9dGhpcy5nZXQyREN1cnNvckxvY2F0aW9uKHQpLGk9cy5saW5lSW5kZXgscj1zLmNoYXJJbmRleCxuPXRoaXMuZ2V0VmFsdWVPZlByb3BlcnR5QXQoaSxyLFwiZm9udFNpemVcIikqdGhpcy5saW5lSGVpZ2h0LG89ZS5sZWZ0T2Zmc2V0LGE9dGhpcy5nZXRDYW52YXNSZXRpbmFTY2FsaW5nKCksaD10aGlzLmNhbnZhcy51cHBlckNhbnZhc0VsLGM9aC53aWR0aC9hLGw9aC5oZWlnaHQvYSx1PWMtbixkPWwtbixnPW5ldyBvdChlLmxlZnQrbyxlLnRvcCtlLnRvcE9mZnNldCtuKS50cmFuc2Zvcm0odGhpcy5jYWxjVHJhbnNmb3JtTWF0cml4KCkpLnRyYW5zZm9ybSh0aGlzLmNhbnZhcy52aWV3cG9ydFRyYW5zZm9ybSkubXVsdGlwbHkobmV3IG90KGguY2xpZW50V2lkdGgvYyxoLmNsaWVudEhlaWdodC9sKSk7cmV0dXJuIGcueDwwJiYoZy54PTApLGcueD51JiYoZy54PXUpLGcueTwwJiYoZy55PTApLGcueT5kJiYoZy55PWQpLGcueCs9dGhpcy5jYW52YXMuX29mZnNldC5sZWZ0LGcueSs9dGhpcy5jYW52YXMuX29mZnNldC50b3Ase2xlZnQ6XCJcIi5jb25jYXQoZy54LFwicHhcIiksdG9wOlwiXCIuY29uY2F0KGcueSxcInB4XCIpLGZvbnRTaXplOlwiXCIuY29uY2F0KG4sXCJweFwiKSxjaGFySGVpZ2h0Om59fV9zYXZlRWRpdGluZ1Byb3BzKCl7dGhpcy5fc2F2ZWRQcm9wcz17aGFzQ29udHJvbHM6dGhpcy5oYXNDb250cm9scyxib3JkZXJDb2xvcjp0aGlzLmJvcmRlckNvbG9yLGxvY2tNb3ZlbWVudFg6dGhpcy5sb2NrTW92ZW1lbnRYLGxvY2tNb3ZlbWVudFk6dGhpcy5sb2NrTW92ZW1lbnRZLGhvdmVyQ3Vyc29yOnRoaXMuaG92ZXJDdXJzb3Isc2VsZWN0YWJsZTp0aGlzLnNlbGVjdGFibGUsZGVmYXVsdEN1cnNvcjp0aGlzLmNhbnZhcyYmdGhpcy5jYW52YXMuZGVmYXVsdEN1cnNvcixtb3ZlQ3Vyc29yOnRoaXMuY2FudmFzJiZ0aGlzLmNhbnZhcy5tb3ZlQ3Vyc29yfX1fcmVzdG9yZUVkaXRpbmdQcm9wcygpe3RoaXMuX3NhdmVkUHJvcHMmJih0aGlzLmhvdmVyQ3Vyc29yPXRoaXMuX3NhdmVkUHJvcHMuaG92ZXJDdXJzb3IsdGhpcy5oYXNDb250cm9scz10aGlzLl9zYXZlZFByb3BzLmhhc0NvbnRyb2xzLHRoaXMuYm9yZGVyQ29sb3I9dGhpcy5fc2F2ZWRQcm9wcy5ib3JkZXJDb2xvcix0aGlzLnNlbGVjdGFibGU9dGhpcy5fc2F2ZWRQcm9wcy5zZWxlY3RhYmxlLHRoaXMubG9ja01vdmVtZW50WD10aGlzLl9zYXZlZFByb3BzLmxvY2tNb3ZlbWVudFgsdGhpcy5sb2NrTW92ZW1lbnRZPXRoaXMuX3NhdmVkUHJvcHMubG9ja01vdmVtZW50WSx0aGlzLmNhbnZhcyYmKHRoaXMuY2FudmFzLmRlZmF1bHRDdXJzb3I9dGhpcy5fc2F2ZWRQcm9wcy5kZWZhdWx0Q3Vyc29yfHx0aGlzLmNhbnZhcy5kZWZhdWx0Q3Vyc29yLHRoaXMuY2FudmFzLm1vdmVDdXJzb3I9dGhpcy5fc2F2ZWRQcm9wcy5tb3ZlQ3Vyc29yfHx0aGlzLmNhbnZhcy5tb3ZlQ3Vyc29yKSxkZWxldGUgdGhpcy5fc2F2ZWRQcm9wcyl9X2V4aXRFZGl0aW5nKCl7Y29uc3QgdD10aGlzLmhpZGRlblRleHRhcmVhO3RoaXMuc2VsZWN0ZWQ9ITEsdGhpcy5pc0VkaXRpbmc9ITEsdCYmKHQuYmx1ciYmdC5ibHVyKCksdC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCkpLHRoaXMuaGlkZGVuVGV4dGFyZWE9bnVsbCx0aGlzLmFib3J0Q3Vyc29yQW5pbWF0aW9uKCksdGhpcy5zZWxlY3Rpb25TdGFydCE9PXRoaXMuc2VsZWN0aW9uRW5kJiZ0aGlzLmNsZWFyQ29udGV4dFRvcCgpfWV4aXRFZGl0aW5nSW1wbCgpe3RoaXMuX2V4aXRFZGl0aW5nKCksdGhpcy5zZWxlY3Rpb25FbmQ9dGhpcy5zZWxlY3Rpb25TdGFydCx0aGlzLl9yZXN0b3JlRWRpdGluZ1Byb3BzKCksdGhpcy5fZm9yY2VDbGVhckNhY2hlJiYodGhpcy5pbml0RGltZW5zaW9ucygpLHRoaXMuc2V0Q29vcmRzKCkpfWV4aXRFZGl0aW5nKCl7Y29uc3QgdD10aGlzLl90ZXh0QmVmb3JlRWRpdCE9PXRoaXMudGV4dDtyZXR1cm4gdGhpcy5leGl0RWRpdGluZ0ltcGwoKSx0aGlzLmZpcmUoXCJlZGl0aW5nOmV4aXRlZFwiKSx0JiZ0aGlzLmZpcmUoUSksdGhpcy5jYW52YXMmJih0aGlzLmNhbnZhcy5maXJlKFwidGV4dDplZGl0aW5nOmV4aXRlZFwiLHt0YXJnZXQ6dGhpc30pLHQmJnRoaXMuY2FudmFzLmZpcmUoXCJvYmplY3Q6bW9kaWZpZWRcIix7dGFyZ2V0OnRoaXN9KSksdGhpc31fcmVtb3ZlRXh0cmFuZW91c1N0eWxlcygpe2Zvcihjb25zdCB0IGluIHRoaXMuc3R5bGVzKXRoaXMuX3RleHRMaW5lc1t0XXx8ZGVsZXRlIHRoaXMuc3R5bGVzW3RdfXJlbW92ZVN0eWxlRnJvbVRvKHQsZSl7Y29uc3R7bGluZUluZGV4OnMsY2hhckluZGV4Oml9PXRoaXMuZ2V0MkRDdXJzb3JMb2NhdGlvbih0LCEwKSx7bGluZUluZGV4OnIsY2hhckluZGV4Om59PXRoaXMuZ2V0MkRDdXJzb3JMb2NhdGlvbihlLCEwKTtpZihzIT09cil7aWYodGhpcy5zdHlsZXNbc10pZm9yKGxldCB0PWk7dDx0aGlzLl91bndyYXBwZWRUZXh0TGluZXNbc10ubGVuZ3RoO3QrKylkZWxldGUgdGhpcy5zdHlsZXNbc11bdF07aWYodGhpcy5zdHlsZXNbcl0pZm9yKGxldCB0PW47dDx0aGlzLl91bndyYXBwZWRUZXh0TGluZXNbcl0ubGVuZ3RoO3QrKyl7Y29uc3QgZT10aGlzLnN0eWxlc1tyXVt0XTtlJiYodGhpcy5zdHlsZXNbc118fCh0aGlzLnN0eWxlc1tzXT17fSksdGhpcy5zdHlsZXNbc11baSt0LW5dPWUpfWZvcihsZXQgdD1zKzE7dDw9cjt0KyspZGVsZXRlIHRoaXMuc3R5bGVzW3RdO3RoaXMuc2hpZnRMaW5lU3R5bGVzKHIscy1yKX1lbHNlIGlmKHRoaXMuc3R5bGVzW3NdKXtjb25zdCB0PXRoaXMuc3R5bGVzW3NdLGU9bi1pO2ZvcihsZXQgZT1pO2U8bjtlKyspZGVsZXRlIHRbZV07Zm9yKGNvbnN0IGkgaW4gdGhpcy5zdHlsZXNbc10pe2NvbnN0IHM9cGFyc2VJbnQoaSwxMCk7cz49biYmKHRbcy1lXT10W2ldLGRlbGV0ZSB0W2ldKX19fXNoaWZ0TGluZVN0eWxlcyh0LGUpe2NvbnN0IHM9T2JqZWN0LmFzc2lnbih7fSx0aGlzLnN0eWxlcyk7Zm9yKGNvbnN0IGkgaW4gdGhpcy5zdHlsZXMpe2NvbnN0IHI9cGFyc2VJbnQoaSwxMCk7cj50JiYodGhpcy5zdHlsZXNbcitlXT1zW3JdLHNbci1lXXx8ZGVsZXRlIHRoaXMuc3R5bGVzW3JdKX19aW5zZXJ0TmV3bGluZVN0eWxlT2JqZWN0KHQsZSxpLHIpe2NvbnN0IG49e30sbz10aGlzLl91bndyYXBwZWRUZXh0TGluZXNbdF0ubGVuZ3RoLGE9bz09PWU7bGV0IGg9ITE7aXx8KGk9MSksdGhpcy5zaGlmdExpbmVTdHlsZXModCxpKTtjb25zdCBjPXRoaXMuc3R5bGVzW3RdP3RoaXMuc3R5bGVzW3RdWzA9PT1lP2U6ZS0xXTp2b2lkIDA7Zm9yKGNvbnN0IHMgaW4gdGhpcy5zdHlsZXNbdF0pe2NvbnN0IGk9cGFyc2VJbnQocywxMCk7aT49ZSYmKGg9ITAsbltpLWVdPXRoaXMuc3R5bGVzW3RdW3NdLGEmJjA9PT1lfHxkZWxldGUgdGhpcy5zdHlsZXNbdF1bc10pfWxldCBsPSExO2ZvcihoJiYhYSYmKHRoaXMuc3R5bGVzW3QraV09bixsPSEwKSwobHx8bz5lKSYmaS0tO2k+MDspciYmcltpLTFdP3RoaXMuc3R5bGVzW3QraV09ezA6cyh7fSxyW2ktMV0pfTpjP3RoaXMuc3R5bGVzW3QraV09ezA6cyh7fSxjKX06ZGVsZXRlIHRoaXMuc3R5bGVzW3QraV0saS0tO3RoaXMuX2ZvcmNlQ2xlYXJDYWNoZT0hMH1pbnNlcnRDaGFyU3R5bGVPYmplY3QodCxlLGkscil7dGhpcy5zdHlsZXN8fCh0aGlzLnN0eWxlcz17fSk7Y29uc3Qgbj10aGlzLnN0eWxlc1t0XSxvPW4/cyh7fSxuKTp7fTtpfHwoaT0xKTtmb3IoY29uc3QgdCBpbiBvKXtjb25zdCBzPXBhcnNlSW50KHQsMTApO3M+PWUmJihuW3MraV09b1tzXSxvW3MtaV18fGRlbGV0ZSBuW3NdKX1pZih0aGlzLl9mb3JjZUNsZWFyQ2FjaGU9ITAscil7Zm9yKDtpLS07KU9iamVjdC5rZXlzKHJbaV0pLmxlbmd0aCYmKHRoaXMuc3R5bGVzW3RdfHwodGhpcy5zdHlsZXNbdF09e30pLHRoaXMuc3R5bGVzW3RdW2UraV09cyh7fSxyW2ldKSk7cmV0dXJufWlmKCFuKXJldHVybjtjb25zdCBhPW5bZT9lLTE6MV07Zm9yKDthJiZpLS07KXRoaXMuc3R5bGVzW3RdW2UraV09cyh7fSxhKX1pbnNlcnROZXdTdHlsZUJsb2NrKHQsZSxzKXtjb25zdCBpPXRoaXMuZ2V0MkRDdXJzb3JMb2NhdGlvbihlLCEwKSxyPVswXTtsZXQgbixvPTA7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspXCJcXG5cIj09PXRbZV0/KG8rKyxyW29dPTApOnJbb10rKztmb3IoclswXT4wJiYodGhpcy5pbnNlcnRDaGFyU3R5bGVPYmplY3QoaS5saW5lSW5kZXgsaS5jaGFySW5kZXgsclswXSxzKSxzPXMmJnMuc2xpY2UoclswXSsxKSksbyYmdGhpcy5pbnNlcnROZXdsaW5lU3R5bGVPYmplY3QoaS5saW5lSW5kZXgsaS5jaGFySW5kZXgrclswXSxvKSxuPTE7bjxvO24rKylyW25dPjA/dGhpcy5pbnNlcnRDaGFyU3R5bGVPYmplY3QoaS5saW5lSW5kZXgrbiwwLHJbbl0scyk6cyYmdGhpcy5zdHlsZXNbaS5saW5lSW5kZXgrbl0mJnNbMF0mJih0aGlzLnN0eWxlc1tpLmxpbmVJbmRleCtuXVswXT1zWzBdKSxzPXMmJnMuc2xpY2UocltuXSsxKTtyW25dPjAmJnRoaXMuaW5zZXJ0Q2hhclN0eWxlT2JqZWN0KGkubGluZUluZGV4K24sMCxyW25dLHMpfXJlbW92ZUNoYXJzKHQpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp0KzE7dGhpcy5yZW1vdmVTdHlsZUZyb21Ubyh0LGUpLHRoaXMuX3RleHQuc3BsaWNlKHQsZS10KSx0aGlzLnRleHQ9dGhpcy5fdGV4dC5qb2luKFwiXCIpLHRoaXMuc2V0KFwiZGlydHlcIiwhMCksdGhpcy5pbml0RGltZW5zaW9ucygpLHRoaXMuc2V0Q29vcmRzKCksdGhpcy5fcmVtb3ZlRXh0cmFuZW91c1N0eWxlcygpfWluc2VydENoYXJzKHQsZSxzKXtsZXQgaT1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106cztpPnMmJnRoaXMucmVtb3ZlU3R5bGVGcm9tVG8ocyxpKTtjb25zdCByPXRoaXMuZ3JhcGhlbWVTcGxpdCh0KTt0aGlzLmluc2VydE5ld1N0eWxlQmxvY2socixzLGUpLHRoaXMuX3RleHQ9Wy4uLnRoaXMuX3RleHQuc2xpY2UoMCxzKSwuLi5yLC4uLnRoaXMuX3RleHQuc2xpY2UoaSldLHRoaXMudGV4dD10aGlzLl90ZXh0LmpvaW4oXCJcIiksdGhpcy5zZXQoXCJkaXJ0eVwiLCEwKSx0aGlzLmluaXREaW1lbnNpb25zKCksdGhpcy5zZXRDb29yZHMoKSx0aGlzLl9yZW1vdmVFeHRyYW5lb3VzU3R5bGVzKCl9c2V0U2VsZWN0aW9uU3RhcnRFbmRXaXRoU2hpZnQodCxlLHMpe3M8PXQ/KGU9PT10P3RoaXMuX3NlbGVjdGlvbkRpcmVjdGlvbj1NOnRoaXMuX3NlbGVjdGlvbkRpcmVjdGlvbj09PUEmJih0aGlzLl9zZWxlY3Rpb25EaXJlY3Rpb249TSx0aGlzLnNlbGVjdGlvbkVuZD10KSx0aGlzLnNlbGVjdGlvblN0YXJ0PXMpOnM+dCYmczxlP3RoaXMuX3NlbGVjdGlvbkRpcmVjdGlvbj09PUE/dGhpcy5zZWxlY3Rpb25FbmQ9czp0aGlzLnNlbGVjdGlvblN0YXJ0PXM6KGU9PT10P3RoaXMuX3NlbGVjdGlvbkRpcmVjdGlvbj1BOnRoaXMuX3NlbGVjdGlvbkRpcmVjdGlvbj09PU0mJih0aGlzLl9zZWxlY3Rpb25EaXJlY3Rpb249QSx0aGlzLnNlbGVjdGlvblN0YXJ0PWUpLHRoaXMuc2VsZWN0aW9uRW5kPXMpfX1jbGFzcyBSbyBleHRlbmRzIExve2luaXRIaWRkZW5UZXh0YXJlYSgpe2NvbnN0IHQ9dGhpcy5jYW52YXMmJkt0KHRoaXMuY2FudmFzLmdldEVsZW1lbnQoKSl8fG0oKSxlPXQuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpO09iamVjdC5lbnRyaWVzKHthdXRvY2FwaXRhbGl6ZTpcIm9mZlwiLGF1dG9jb3JyZWN0Olwib2ZmXCIsYXV0b2NvbXBsZXRlOlwib2ZmXCIsc3BlbGxjaGVjazpcImZhbHNlXCIsXCJkYXRhLWZhYnJpY1wiOlwidGV4dGFyZWFcIix3cmFwOlwib2ZmXCIsbmFtZTpcImZhYnJpY1RleHRhcmVhXCJ9KS5tYXAoKHQ9PntsZXRbcyxpXT10O3JldHVybiBlLnNldEF0dHJpYnV0ZShzLGkpfSkpO2NvbnN0e3RvcDpzLGxlZnQ6aSxmb250U2l6ZTpyfT10aGlzLl9jYWxjVGV4dGFyZWFQb3NpdGlvbigpO2Uuc3R5bGUuY3NzVGV4dD1cInBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiBcIi5jb25jYXQocyxcIjsgbGVmdDogXCIpLmNvbmNhdChpLFwiOyB6LWluZGV4OiAtOTk5OyBvcGFjaXR5OiAwOyB3aWR0aDogMXB4OyBoZWlnaHQ6IDFweDsgZm9udC1zaXplOiAxcHg7IHBhZGRpbmctdG9wOiBcIikuY29uY2F0KHIsXCI7XCIpLCh0aGlzLmhpZGRlblRleHRhcmVhQ29udGFpbmVyfHx0LmJvZHkpLmFwcGVuZENoaWxkKGUpLE9iamVjdC5lbnRyaWVzKHtibHVyOlwiYmx1clwiLGtleWRvd246XCJvbktleURvd25cIixrZXl1cDpcIm9uS2V5VXBcIixpbnB1dDpcIm9uSW5wdXRcIixjb3B5OlwiY29weVwiLGN1dDpcImNvcHlcIixwYXN0ZTpcInBhc3RlXCIsY29tcG9zaXRpb25zdGFydDpcIm9uQ29tcG9zaXRpb25TdGFydFwiLGNvbXBvc2l0aW9udXBkYXRlOlwib25Db21wb3NpdGlvblVwZGF0ZVwiLGNvbXBvc2l0aW9uZW5kOlwib25Db21wb3NpdGlvbkVuZFwifSkubWFwKCh0PT57bGV0W3MsaV09dDtyZXR1cm4gZS5hZGRFdmVudExpc3RlbmVyKHMsdGhpc1tpXS5iaW5kKHRoaXMpKX0pKSx0aGlzLmhpZGRlblRleHRhcmVhPWV9Ymx1cigpe3RoaXMuYWJvcnRDdXJzb3JBbmltYXRpb24oKX1vbktleURvd24odCl7aWYoIXRoaXMuaXNFZGl0aW5nKXJldHVybjtjb25zdCBlPVwicnRsXCI9PT10aGlzLmRpcmVjdGlvbj90aGlzLmtleXNNYXBSdGw6dGhpcy5rZXlzTWFwO2lmKHQua2V5Q29kZSBpbiBlKXRoaXNbZVt0LmtleUNvZGVdXSh0KTtlbHNle2lmKCEodC5rZXlDb2RlIGluIHRoaXMuY3RybEtleXNNYXBEb3duKXx8IXQuY3RybEtleSYmIXQubWV0YUtleSlyZXR1cm47dGhpc1t0aGlzLmN0cmxLZXlzTWFwRG93blt0LmtleUNvZGVdXSh0KX10LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLHQucHJldmVudERlZmF1bHQoKSx0LmtleUNvZGU+PTMzJiZ0LmtleUNvZGU8PTQwPyh0aGlzLmluQ29tcG9zaXRpb25Nb2RlPSExLHRoaXMuY2xlYXJDb250ZXh0VG9wKCksdGhpcy5yZW5kZXJDdXJzb3JPclNlbGVjdGlvbigpKTp0aGlzLmNhbnZhcyYmdGhpcy5jYW52YXMucmVxdWVzdFJlbmRlckFsbCgpfW9uS2V5VXAodCl7IXRoaXMuaXNFZGl0aW5nfHx0aGlzLl9jb3B5RG9uZXx8dGhpcy5pbkNvbXBvc2l0aW9uTW9kZT90aGlzLl9jb3B5RG9uZT0hMTp0LmtleUNvZGUgaW4gdGhpcy5jdHJsS2V5c01hcFVwJiYodC5jdHJsS2V5fHx0Lm1ldGFLZXkpJiYodGhpc1t0aGlzLmN0cmxLZXlzTWFwVXBbdC5rZXlDb2RlXV0odCksdC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0LnByZXZlbnREZWZhdWx0KCksdGhpcy5jYW52YXMmJnRoaXMuY2FudmFzLnJlcXVlc3RSZW5kZXJBbGwoKSl9b25JbnB1dCh0KXtjb25zdCBlPXRoaXMuZnJvbVBhc3RlLHt2YWx1ZTpzLHNlbGVjdGlvblN0YXJ0Omksc2VsZWN0aW9uRW5kOnJ9PXRoaXMuaGlkZGVuVGV4dGFyZWE7aWYodGhpcy5mcm9tUGFzdGU9ITEsdCYmdC5zdG9wUHJvcGFnYXRpb24oKSwhdGhpcy5pc0VkaXRpbmcpcmV0dXJuO2NvbnN0IG49KCk9Pnt0aGlzLnVwZGF0ZUZyb21UZXh0QXJlYSgpLHRoaXMuZmlyZSh6KSx0aGlzLmNhbnZhcyYmKHRoaXMuY2FudmFzLmZpcmUoXCJ0ZXh0OmNoYW5nZWRcIix7dGFyZ2V0OnRoaXN9KSx0aGlzLmNhbnZhcy5yZXF1ZXN0UmVuZGVyQWxsKCkpfTtpZihcIlwiPT09dGhpcy5oaWRkZW5UZXh0YXJlYS52YWx1ZSlyZXR1cm4gdGhpcy5zdHlsZXM9e30sdm9pZCBuKCk7Y29uc3QgYT10aGlzLl9zcGxpdFRleHRJbnRvTGluZXMocykuZ3JhcGhlbWVUZXh0LGg9dGhpcy5fdGV4dC5sZW5ndGgsYz1hLmxlbmd0aCxsPXRoaXMuc2VsZWN0aW9uU3RhcnQsdT10aGlzLnNlbGVjdGlvbkVuZCxkPWwhPT11O2xldCBnLGYsbSx2LHk9Yy1oO2NvbnN0IF89dGhpcy5mcm9tU3RyaW5nVG9HcmFwaGVtZVNlbGVjdGlvbihpLHIscykseD1sPl8uc2VsZWN0aW9uU3RhcnQ7ZD8oZj10aGlzLl90ZXh0LnNsaWNlKGwsdSkseSs9dS1sKTpjPGgmJihmPXg/dGhpcy5fdGV4dC5zbGljZSh1K3ksdSk6dGhpcy5fdGV4dC5zbGljZShsLGwteSkpO2NvbnN0IEM9YS5zbGljZShfLnNlbGVjdGlvbkVuZC15LF8uc2VsZWN0aW9uRW5kKTtpZihmJiZmLmxlbmd0aCYmKEMubGVuZ3RoJiYoZz10aGlzLmdldFNlbGVjdGlvblN0eWxlcyhsLGwrMSwhMSksZz1DLm1hcCgoKCk9PmdbMF0pKSksZD8obT1sLHY9dSk6eD8obT11LWYubGVuZ3RoLHY9dSk6KG09dSx2PXUrZi5sZW5ndGgpLHRoaXMucmVtb3ZlU3R5bGVGcm9tVG8obSx2KSksQy5sZW5ndGgpe2NvbnN0e2NvcHlQYXN0ZURhdGE6dH09cCgpO2UmJkMuam9pbihcIlwiKT09PXQuY29waWVkVGV4dCYmIW8uZGlzYWJsZVN0eWxlQ29weVBhc3RlJiYoZz10LmNvcGllZFRleHRTdHlsZSksdGhpcy5pbnNlcnROZXdTdHlsZUJsb2NrKEMsbCxnKX1uKCl9b25Db21wb3NpdGlvblN0YXJ0KCl7dGhpcy5pbkNvbXBvc2l0aW9uTW9kZT0hMH1vbkNvbXBvc2l0aW9uRW5kKCl7dGhpcy5pbkNvbXBvc2l0aW9uTW9kZT0hMX1vbkNvbXBvc2l0aW9uVXBkYXRlKHQpe2xldHt0YXJnZXQ6ZX09dDtjb25zdHtzZWxlY3Rpb25TdGFydDpzLHNlbGVjdGlvbkVuZDppfT1lO3RoaXMuY29tcG9zaXRpb25TdGFydD1zLHRoaXMuY29tcG9zaXRpb25FbmQ9aSx0aGlzLnVwZGF0ZVRleHRhcmVhUG9zaXRpb24oKX1jb3B5KCl7aWYodGhpcy5zZWxlY3Rpb25TdGFydD09PXRoaXMuc2VsZWN0aW9uRW5kKXJldHVybjtjb25zdHtjb3B5UGFzdGVEYXRhOnR9PXAoKTt0LmNvcGllZFRleHQ9dGhpcy5nZXRTZWxlY3RlZFRleHQoKSxvLmRpc2FibGVTdHlsZUNvcHlQYXN0ZT90LmNvcGllZFRleHRTdHlsZT12b2lkIDA6dC5jb3BpZWRUZXh0U3R5bGU9dGhpcy5nZXRTZWxlY3Rpb25TdHlsZXModGhpcy5zZWxlY3Rpb25TdGFydCx0aGlzLnNlbGVjdGlvbkVuZCwhMCksdGhpcy5fY29weURvbmU9ITB9cGFzdGUoKXt0aGlzLmZyb21QYXN0ZT0hMH1fZ2V0V2lkdGhCZWZvcmVDdXJzb3IodCxlKXtsZXQgcyxpPXRoaXMuX2dldExpbmVMZWZ0T2Zmc2V0KHQpO3JldHVybiBlPjAmJihzPXRoaXMuX19jaGFyQm91bmRzW3RdW2UtMV0saSs9cy5sZWZ0K3Mud2lkdGgpLGl9Z2V0RG93bkN1cnNvck9mZnNldCh0LGUpe2NvbnN0IHM9dGhpcy5fZ2V0U2VsZWN0aW9uRm9yT2Zmc2V0KHQsZSksaT10aGlzLmdldDJEQ3Vyc29yTG9jYXRpb24ocykscj1pLmxpbmVJbmRleDtpZihyPT09dGhpcy5fdGV4dExpbmVzLmxlbmd0aC0xfHx0Lm1ldGFLZXl8fDM0PT09dC5rZXlDb2RlKXJldHVybiB0aGlzLl90ZXh0Lmxlbmd0aC1zO2NvbnN0IG49aS5jaGFySW5kZXgsbz10aGlzLl9nZXRXaWR0aEJlZm9yZUN1cnNvcihyLG4pLGE9dGhpcy5fZ2V0SW5kZXhPbkxpbmUocisxLG8pO3JldHVybiB0aGlzLl90ZXh0TGluZXNbcl0uc2xpY2UobikubGVuZ3RoK2ErMSt0aGlzLm1pc3NpbmdOZXdsaW5lT2Zmc2V0KHIpfV9nZXRTZWxlY3Rpb25Gb3JPZmZzZXQodCxlKXtyZXR1cm4gdC5zaGlmdEtleSYmdGhpcy5zZWxlY3Rpb25TdGFydCE9PXRoaXMuc2VsZWN0aW9uRW5kJiZlP3RoaXMuc2VsZWN0aW9uRW5kOnRoaXMuc2VsZWN0aW9uU3RhcnR9Z2V0VXBDdXJzb3JPZmZzZXQodCxlKXtjb25zdCBzPXRoaXMuX2dldFNlbGVjdGlvbkZvck9mZnNldCh0LGUpLGk9dGhpcy5nZXQyREN1cnNvckxvY2F0aW9uKHMpLHI9aS5saW5lSW5kZXg7aWYoMD09PXJ8fHQubWV0YUtleXx8MzM9PT10LmtleUNvZGUpcmV0dXJuLXM7Y29uc3Qgbj1pLmNoYXJJbmRleCxvPXRoaXMuX2dldFdpZHRoQmVmb3JlQ3Vyc29yKHIsbiksYT10aGlzLl9nZXRJbmRleE9uTGluZShyLTEsbyksaD10aGlzLl90ZXh0TGluZXNbcl0uc2xpY2UoMCxuKSxjPXRoaXMubWlzc2luZ05ld2xpbmVPZmZzZXQoci0xKTtyZXR1cm4tdGhpcy5fdGV4dExpbmVzW3ItMV0ubGVuZ3RoK2EtaC5sZW5ndGgrKDEtYyl9X2dldEluZGV4T25MaW5lKHQsZSl7Y29uc3Qgcz10aGlzLl90ZXh0TGluZXNbdF07bGV0IGkscixuPXRoaXMuX2dldExpbmVMZWZ0T2Zmc2V0KHQpLG89MDtmb3IobGV0IGE9MCxoPXMubGVuZ3RoO2E8aDthKyspaWYoaT10aGlzLl9fY2hhckJvdW5kc1t0XVthXS53aWR0aCxuKz1pLG4+ZSl7cj0hMDtjb25zdCB0PW4taSxzPW4saD1NYXRoLmFicyh0LWUpO289TWF0aC5hYnMocy1lKTxoP2E6YS0xO2JyZWFrfXJldHVybiByfHwobz1zLmxlbmd0aC0xKSxvfW1vdmVDdXJzb3JEb3duKHQpe3RoaXMuc2VsZWN0aW9uU3RhcnQ+PXRoaXMuX3RleHQubGVuZ3RoJiZ0aGlzLnNlbGVjdGlvbkVuZD49dGhpcy5fdGV4dC5sZW5ndGh8fHRoaXMuX21vdmVDdXJzb3JVcE9yRG93bihcIkRvd25cIix0KX1tb3ZlQ3Vyc29yVXAodCl7MD09PXRoaXMuc2VsZWN0aW9uU3RhcnQmJjA9PT10aGlzLnNlbGVjdGlvbkVuZHx8dGhpcy5fbW92ZUN1cnNvclVwT3JEb3duKFwiVXBcIix0KX1fbW92ZUN1cnNvclVwT3JEb3duKHQsZSl7Y29uc3Qgcz10aGlzW1wiZ2V0XCIuY29uY2F0KHQsXCJDdXJzb3JPZmZzZXRcIildKGUsdGhpcy5fc2VsZWN0aW9uRGlyZWN0aW9uPT09QSk7aWYoZS5zaGlmdEtleT90aGlzLm1vdmVDdXJzb3JXaXRoU2hpZnQocyk6dGhpcy5tb3ZlQ3Vyc29yV2l0aG91dFNoaWZ0KHMpLDAhPT1zKXtjb25zdCB0PXRoaXMudGV4dC5sZW5ndGg7dGhpcy5zZWxlY3Rpb25TdGFydD1NcygwLHRoaXMuc2VsZWN0aW9uU3RhcnQsdCksdGhpcy5zZWxlY3Rpb25FbmQ9TXMoMCx0aGlzLnNlbGVjdGlvbkVuZCx0KSx0aGlzLmFib3J0Q3Vyc29yQW5pbWF0aW9uKCksdGhpcy5pbml0RGVsYXllZEN1cnNvcigpLHRoaXMuX2ZpcmVTZWxlY3Rpb25DaGFuZ2VkKCksdGhpcy5fdXBkYXRlVGV4dGFyZWEoKX19bW92ZUN1cnNvcldpdGhTaGlmdCh0KXtjb25zdCBlPXRoaXMuX3NlbGVjdGlvbkRpcmVjdGlvbj09PU0/dGhpcy5zZWxlY3Rpb25TdGFydCt0OnRoaXMuc2VsZWN0aW9uRW5kK3Q7cmV0dXJuIHRoaXMuc2V0U2VsZWN0aW9uU3RhcnRFbmRXaXRoU2hpZnQodGhpcy5zZWxlY3Rpb25TdGFydCx0aGlzLnNlbGVjdGlvbkVuZCxlKSwwIT09dH1tb3ZlQ3Vyc29yV2l0aG91dFNoaWZ0KHQpe3JldHVybiB0PDA/KHRoaXMuc2VsZWN0aW9uU3RhcnQrPXQsdGhpcy5zZWxlY3Rpb25FbmQ9dGhpcy5zZWxlY3Rpb25TdGFydCk6KHRoaXMuc2VsZWN0aW9uRW5kKz10LHRoaXMuc2VsZWN0aW9uU3RhcnQ9dGhpcy5zZWxlY3Rpb25FbmQpLDAhPT10fW1vdmVDdXJzb3JMZWZ0KHQpezA9PT10aGlzLnNlbGVjdGlvblN0YXJ0JiYwPT09dGhpcy5zZWxlY3Rpb25FbmR8fHRoaXMuX21vdmVDdXJzb3JMZWZ0T3JSaWdodChcIkxlZnRcIix0KX1fbW92ZSh0LGUscyl7bGV0IGk7aWYodC5hbHRLZXkpaT10aGlzW1wiZmluZFdvcmRCb3VuZGFyeVwiLmNvbmNhdChzKV0odGhpc1tlXSk7ZWxzZXtpZighdC5tZXRhS2V5JiYzNSE9PXQua2V5Q29kZSYmMzYhPT10LmtleUNvZGUpcmV0dXJuIHRoaXNbZV0rPVwiTGVmdFwiPT09cz8tMToxLCEwO2k9dGhpc1tcImZpbmRMaW5lQm91bmRhcnlcIi5jb25jYXQocyldKHRoaXNbZV0pfXJldHVybiB2b2lkIDAhPT1pJiZ0aGlzW2VdIT09aSYmKHRoaXNbZV09aSwhMCl9X21vdmVMZWZ0KHQsZSl7cmV0dXJuIHRoaXMuX21vdmUodCxlLFwiTGVmdFwiKX1fbW92ZVJpZ2h0KHQsZSl7cmV0dXJuIHRoaXMuX21vdmUodCxlLFwiUmlnaHRcIil9bW92ZUN1cnNvckxlZnRXaXRob3V0U2hpZnQodCl7bGV0IGU9ITA7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbkRpcmVjdGlvbj1NLHRoaXMuc2VsZWN0aW9uRW5kPT09dGhpcy5zZWxlY3Rpb25TdGFydCYmMCE9PXRoaXMuc2VsZWN0aW9uU3RhcnQmJihlPXRoaXMuX21vdmVMZWZ0KHQsXCJzZWxlY3Rpb25TdGFydFwiKSksdGhpcy5zZWxlY3Rpb25FbmQ9dGhpcy5zZWxlY3Rpb25TdGFydCxlfW1vdmVDdXJzb3JMZWZ0V2l0aFNoaWZ0KHQpe3JldHVybiB0aGlzLl9zZWxlY3Rpb25EaXJlY3Rpb249PT1BJiZ0aGlzLnNlbGVjdGlvblN0YXJ0IT09dGhpcy5zZWxlY3Rpb25FbmQ/dGhpcy5fbW92ZUxlZnQodCxcInNlbGVjdGlvbkVuZFwiKTowIT09dGhpcy5zZWxlY3Rpb25TdGFydD8odGhpcy5fc2VsZWN0aW9uRGlyZWN0aW9uPU0sdGhpcy5fbW92ZUxlZnQodCxcInNlbGVjdGlvblN0YXJ0XCIpKTp2b2lkIDB9bW92ZUN1cnNvclJpZ2h0KHQpe3RoaXMuc2VsZWN0aW9uU3RhcnQ+PXRoaXMuX3RleHQubGVuZ3RoJiZ0aGlzLnNlbGVjdGlvbkVuZD49dGhpcy5fdGV4dC5sZW5ndGh8fHRoaXMuX21vdmVDdXJzb3JMZWZ0T3JSaWdodChcIlJpZ2h0XCIsdCl9X21vdmVDdXJzb3JMZWZ0T3JSaWdodCh0LGUpe2NvbnN0IHM9XCJtb3ZlQ3Vyc29yXCIuY29uY2F0KHQpLmNvbmNhdChlLnNoaWZ0S2V5P1wiV2l0aFNoaWZ0XCI6XCJXaXRob3V0U2hpZnRcIik7dGhpcy5fY3VycmVudEN1cnNvck9wYWNpdHk9MSx0aGlzW3NdKGUpJiYodGhpcy5hYm9ydEN1cnNvckFuaW1hdGlvbigpLHRoaXMuaW5pdERlbGF5ZWRDdXJzb3IoKSx0aGlzLl9maXJlU2VsZWN0aW9uQ2hhbmdlZCgpLHRoaXMuX3VwZGF0ZVRleHRhcmVhKCkpfW1vdmVDdXJzb3JSaWdodFdpdGhTaGlmdCh0KXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uRGlyZWN0aW9uPT09TSYmdGhpcy5zZWxlY3Rpb25TdGFydCE9PXRoaXMuc2VsZWN0aW9uRW5kP3RoaXMuX21vdmVSaWdodCh0LFwic2VsZWN0aW9uU3RhcnRcIik6dGhpcy5zZWxlY3Rpb25FbmQhPT10aGlzLl90ZXh0Lmxlbmd0aD8odGhpcy5fc2VsZWN0aW9uRGlyZWN0aW9uPUEsdGhpcy5fbW92ZVJpZ2h0KHQsXCJzZWxlY3Rpb25FbmRcIikpOnZvaWQgMH1tb3ZlQ3Vyc29yUmlnaHRXaXRob3V0U2hpZnQodCl7bGV0IGU9ITA7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbkRpcmVjdGlvbj1BLHRoaXMuc2VsZWN0aW9uU3RhcnQ9PT10aGlzLnNlbGVjdGlvbkVuZD8oZT10aGlzLl9tb3ZlUmlnaHQodCxcInNlbGVjdGlvblN0YXJ0XCIpLHRoaXMuc2VsZWN0aW9uRW5kPXRoaXMuc2VsZWN0aW9uU3RhcnQpOnRoaXMuc2VsZWN0aW9uU3RhcnQ9dGhpcy5zZWxlY3Rpb25FbmQsZX19Y29uc3QgSW89dD0+ISF0LmJ1dHRvbjtjbGFzcyBCbyBleHRlbmRzIFJve2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0KHRoaXMsXCJkcmFnZ2FibGVUZXh0RGVsZWdhdGVcIix2b2lkIDApfWluaXRCZWhhdmlvcigpe3RoaXMub24oXCJtb3VzZWRvd25cIix0aGlzLl9tb3VzZURvd25IYW5kbGVyKSx0aGlzLm9uKFwibW91c2V1cFwiLHRoaXMubW91c2VVcEhhbmRsZXIpLHRoaXMub24oXCJtb3VzZWRibGNsaWNrXCIsdGhpcy5kb3VibGVDbGlja0hhbmRsZXIpLHRoaXMub24oXCJtb3VzZXRyaXBsZWNsaWNrXCIsdGhpcy50cmlwbGVDbGlja0hhbmRsZXIpLHRoaXMuZHJhZ2dhYmxlVGV4dERlbGVnYXRlPW5ldyBqbyh0aGlzKSxzdXBlci5pbml0QmVoYXZpb3IoKX1zaG91bGRTdGFydERyYWdnaW5nKCl7cmV0dXJuIHRoaXMuZHJhZ2dhYmxlVGV4dERlbGVnYXRlLmlzQWN0aXZlKCl9b25EcmFnU3RhcnQodCl7cmV0dXJuIHRoaXMuZHJhZ2dhYmxlVGV4dERlbGVnYXRlLm9uRHJhZ1N0YXJ0KHQpfWNhbkRyb3AodCl7cmV0dXJuIHRoaXMuZHJhZ2dhYmxlVGV4dERlbGVnYXRlLmNhbkRyb3AodCl9ZG91YmxlQ2xpY2tIYW5kbGVyKHQpe3RoaXMuaXNFZGl0aW5nJiYodGhpcy5zZWxlY3RXb3JkKHRoaXMuZ2V0U2VsZWN0aW9uU3RhcnRGcm9tUG9pbnRlcih0LmUpKSx0aGlzLnJlbmRlckN1cnNvck9yU2VsZWN0aW9uKCkpfXRyaXBsZUNsaWNrSGFuZGxlcih0KXt0aGlzLmlzRWRpdGluZyYmKHRoaXMuc2VsZWN0TGluZSh0aGlzLmdldFNlbGVjdGlvblN0YXJ0RnJvbVBvaW50ZXIodC5lKSksdGhpcy5yZW5kZXJDdXJzb3JPclNlbGVjdGlvbigpKX1fbW91c2VEb3duSGFuZGxlcih0KXtsZXR7ZTplLGFscmVhZHlTZWxlY3RlZDpzfT10O3RoaXMuY2FudmFzJiZ0aGlzLmVkaXRhYmxlJiYhSW8oZSkmJiF0aGlzLmdldEFjdGl2ZUNvbnRyb2woKSYmKHRoaXMuZHJhZ2dhYmxlVGV4dERlbGVnYXRlLnN0YXJ0KGUpfHwodGhpcy5jYW52YXMudGV4dEVkaXRpbmdNYW5hZ2VyLnJlZ2lzdGVyKHRoaXMpLHMmJih0aGlzLmluQ29tcG9zaXRpb25Nb2RlPSExLHRoaXMuc2V0Q3Vyc29yQnlDbGljayhlKSksdGhpcy5pc0VkaXRpbmcmJih0aGlzLl9fc2VsZWN0aW9uU3RhcnRPbk1vdXNlRG93bj10aGlzLnNlbGVjdGlvblN0YXJ0LHRoaXMuc2VsZWN0aW9uU3RhcnQ9PT10aGlzLnNlbGVjdGlvbkVuZCYmdGhpcy5hYm9ydEN1cnNvckFuaW1hdGlvbigpLHRoaXMucmVuZGVyQ3Vyc29yT3JTZWxlY3Rpb24oKSksdGhpcy5zZWxlY3RlZHx8KHRoaXMuc2VsZWN0ZWQ9c3x8dGhpcy5pc0VkaXRpbmcpKSl9bW91c2VVcEhhbmRsZXIodCl7bGV0e2U6ZSx0cmFuc2Zvcm06c309dDtjb25zdCBpPXRoaXMuZHJhZ2dhYmxlVGV4dERlbGVnYXRlLmVuZChlKTtpZih0aGlzLmNhbnZhcyl7dGhpcy5jYW52YXMudGV4dEVkaXRpbmdNYW5hZ2VyLnVucmVnaXN0ZXIodGhpcyk7Y29uc3QgdD10aGlzLmNhbnZhcy5fYWN0aXZlT2JqZWN0O2lmKHQmJnQhPT10aGlzKXJldHVybn0hdGhpcy5lZGl0YWJsZXx8dGhpcy5ncm91cCYmIXRoaXMuZ3JvdXAuaW50ZXJhY3RpdmV8fHMmJnMuYWN0aW9uUGVyZm9ybWVkfHxJbyhlKXx8aXx8dGhpcy5zZWxlY3RlZCYmIXRoaXMuZ2V0QWN0aXZlQ29udHJvbCgpJiYodGhpcy5lbnRlckVkaXRpbmcoZSksdGhpcy5zZWxlY3Rpb25TdGFydD09PXRoaXMuc2VsZWN0aW9uRW5kP3RoaXMuaW5pdERlbGF5ZWRDdXJzb3IoITApOnRoaXMucmVuZGVyQ3Vyc29yT3JTZWxlY3Rpb24oKSl9c2V0Q3Vyc29yQnlDbGljayh0KXtjb25zdCBlPXRoaXMuZ2V0U2VsZWN0aW9uU3RhcnRGcm9tUG9pbnRlcih0KSxzPXRoaXMuc2VsZWN0aW9uU3RhcnQsaT10aGlzLnNlbGVjdGlvbkVuZDt0LnNoaWZ0S2V5P3RoaXMuc2V0U2VsZWN0aW9uU3RhcnRFbmRXaXRoU2hpZnQocyxpLGUpOih0aGlzLnNlbGVjdGlvblN0YXJ0PWUsdGhpcy5zZWxlY3Rpb25FbmQ9ZSksdGhpcy5pc0VkaXRpbmcmJih0aGlzLl9maXJlU2VsZWN0aW9uQ2hhbmdlZCgpLHRoaXMuX3VwZGF0ZVRleHRhcmVhKCkpfWdldFNlbGVjdGlvblN0YXJ0RnJvbVBvaW50ZXIodCl7Y29uc3QgZT10aGlzLmNhbnZhcy5nZXRTY2VuZVBvaW50KHQpLnRyYW5zZm9ybSh3dCh0aGlzLmNhbGNUcmFuc2Zvcm1NYXRyaXgoKSkpLmFkZChuZXcgb3QoLXRoaXMuX2dldExlZnRPZmZzZXQoKSwtdGhpcy5fZ2V0VG9wT2Zmc2V0KCkpKTtsZXQgcz0wLGk9MCxyPTA7Zm9yKGxldCB0PTA7dDx0aGlzLl90ZXh0TGluZXMubGVuZ3RoJiZzPD1lLnk7dCsrKXMrPXRoaXMuZ2V0SGVpZ2h0T2ZMaW5lKHQpLHI9dCx0PjAmJihpKz10aGlzLl90ZXh0TGluZXNbdC0xXS5sZW5ndGgrdGhpcy5taXNzaW5nTmV3bGluZU9mZnNldCh0LTEpKTtsZXQgbj1NYXRoLmFicyh0aGlzLl9nZXRMaW5lTGVmdE9mZnNldChyKSk7Y29uc3Qgbz10aGlzLl90ZXh0TGluZXNbcl0ubGVuZ3RoLGE9dGhpcy5fX2NoYXJCb3VuZHNbcl07Zm9yKGxldCB0PTA7dDxvO3QrKyl7Y29uc3Qgcz1uK2FbdF0ua2VybmVkV2lkdGg7aWYoZS54PD1zKXtNYXRoLmFicyhlLngtcyk8PU1hdGguYWJzKGUueC1uKSYmaSsrO2JyZWFrfW49cyxpKyt9cmV0dXJuIE1hdGgubWluKHRoaXMuZmxpcFg/by1pOmksdGhpcy5fdGV4dC5sZW5ndGgpfX1jb25zdCBYbz1cIm1vdmVDdXJzb3JVcFwiLFlvPVwibW92ZUN1cnNvckRvd25cIixXbz1cIm1vdmVDdXJzb3JMZWZ0XCIsVm89XCJtb3ZlQ3Vyc29yUmlnaHRcIix6bz1cImV4aXRFZGl0aW5nXCIsR289KHQsZSk9Pntjb25zdCBzPWUuZ2V0UmV0aW5hU2NhbGluZygpO3Quc2V0VHJhbnNmb3JtKHMsMCwwLHMsMCwwKTtjb25zdCBpPWUudmlld3BvcnRUcmFuc2Zvcm07dC50cmFuc2Zvcm0oaVswXSxpWzFdLGlbMl0saVszXSxpWzRdLGlbNV0pfSxIbz1zKHtzZWxlY3Rpb25TdGFydDowLHNlbGVjdGlvbkVuZDowLHNlbGVjdGlvbkNvbG9yOlwicmdiYSgxNywxMTksMjU1LDAuMylcIixpc0VkaXRpbmc6ITEsZWRpdGFibGU6ITAsZWRpdGluZ0JvcmRlckNvbG9yOlwicmdiYSgxMDIsMTUzLDI1NSwwLjI1KVwiLGN1cnNvcldpZHRoOjIsY3Vyc29yQ29sb3I6XCJcIixjdXJzb3JEZWxheToxZTMsY3Vyc29yRHVyYXRpb246NjAwLGNhY2hpbmc6ITAsaGlkZGVuVGV4dGFyZWFDb250YWluZXI6bnVsbCxrZXlzTWFwOns5OnpvLDI3OnpvLDMzOlhvLDM0OllvLDM1OlZvLDM2OldvLDM3OldvLDM4OlhvLDM5OlZvLDQwOllvfSxrZXlzTWFwUnRsOns5OnpvLDI3OnpvLDMzOlhvLDM0OllvLDM1OldvLDM2OlZvLDM3OlZvLDM4OlhvLDM5OldvLDQwOllvfSxjdHJsS2V5c01hcERvd246ezY1OlwiY21kQWxsXCJ9LGN0cmxLZXlzTWFwVXA6ezY3OlwiY29weVwiLDg4OlwiY3V0XCJ9fSx7X3NlbGVjdGlvbkRpcmVjdGlvbjpudWxsLF9yZVNwYWNlOi9cXHN8XFxyP1xcbi8saW5Db21wb3NpdGlvbk1vZGU6ITF9KTtjbGFzcyBObyBleHRlbmRzIEJve3N0YXRpYyBnZXREZWZhdWx0cygpe3JldHVybiBzKHMoe30sc3VwZXIuZ2V0RGVmYXVsdHMoKSksTm8ub3duRGVmYXVsdHMpfWdldCB0eXBlKCl7Y29uc3QgdD1zdXBlci50eXBlO3JldHVyblwiaXRleHRcIj09PXQ/XCJpLXRleHRcIjp0fWNvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCxzKHMoe30sTm8ub3duRGVmYXVsdHMpLGUpKSx0aGlzLmluaXRCZWhhdmlvcigpfV9zZXQodCxlKXtyZXR1cm4gdGhpcy5pc0VkaXRpbmcmJnRoaXMuX3NhdmVkUHJvcHMmJnQgaW4gdGhpcy5fc2F2ZWRQcm9wcz8odGhpcy5fc2F2ZWRQcm9wc1t0XT1lLHRoaXMpOihcImNhbnZhc1wiPT09dCYmKHRoaXMuY2FudmFzIGluc3RhbmNlb2YgWG4mJnRoaXMuY2FudmFzLnRleHRFZGl0aW5nTWFuYWdlci5yZW1vdmUodGhpcyksZSBpbnN0YW5jZW9mIFhuJiZlLnRleHRFZGl0aW5nTWFuYWdlci5hZGQodGhpcykpLHN1cGVyLl9zZXQodCxlKSl9c2V0U2VsZWN0aW9uU3RhcnQodCl7dD1NYXRoLm1heCh0LDApLHRoaXMuX3VwZGF0ZUFuZEZpcmUoXCJzZWxlY3Rpb25TdGFydFwiLHQpfXNldFNlbGVjdGlvbkVuZCh0KXt0PU1hdGgubWluKHQsdGhpcy50ZXh0Lmxlbmd0aCksdGhpcy5fdXBkYXRlQW5kRmlyZShcInNlbGVjdGlvbkVuZFwiLHQpfV91cGRhdGVBbmRGaXJlKHQsZSl7dGhpc1t0XSE9PWUmJih0aGlzLl9maXJlU2VsZWN0aW9uQ2hhbmdlZCgpLHRoaXNbdF09ZSksdGhpcy5fdXBkYXRlVGV4dGFyZWEoKX1fZmlyZVNlbGVjdGlvbkNoYW5nZWQoKXt0aGlzLmZpcmUoXCJzZWxlY3Rpb246Y2hhbmdlZFwiKSx0aGlzLmNhbnZhcyYmdGhpcy5jYW52YXMuZmlyZShcInRleHQ6c2VsZWN0aW9uOmNoYW5nZWRcIix7dGFyZ2V0OnRoaXN9KX1pbml0RGltZW5zaW9ucygpe3RoaXMuaXNFZGl0aW5nJiZ0aGlzLmluaXREZWxheWVkQ3Vyc29yKCksc3VwZXIuaW5pdERpbWVuc2lvbnMoKX1nZXRTZWxlY3Rpb25TdHlsZXMoKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dGhpcy5zZWxlY3Rpb25TdGFydHx8MCxlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp0aGlzLnNlbGVjdGlvbkVuZCxzPWFyZ3VtZW50cy5sZW5ndGg+Mj9hcmd1bWVudHNbMl06dm9pZCAwO3JldHVybiBzdXBlci5nZXRTZWxlY3Rpb25TdHlsZXModCxlLHMpfXNldFNlbGVjdGlvblN0eWxlcyh0KXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dGhpcy5zZWxlY3Rpb25TdGFydHx8MCxzPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp0aGlzLnNlbGVjdGlvbkVuZDtyZXR1cm4gc3VwZXIuc2V0U2VsZWN0aW9uU3R5bGVzKHQsZSxzKX1nZXQyREN1cnNvckxvY2F0aW9uKCl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnRoaXMuc2VsZWN0aW9uU3RhcnQsZT1hcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMDtyZXR1cm4gc3VwZXIuZ2V0MkRDdXJzb3JMb2NhdGlvbih0LGUpfXJlbmRlcih0KXtzdXBlci5yZW5kZXIodCksdGhpcy5jdXJzb3JPZmZzZXRDYWNoZT17fSx0aGlzLnJlbmRlckN1cnNvck9yU2VsZWN0aW9uKCl9dG9DYW52YXNFbGVtZW50KHQpe2NvbnN0IGU9dGhpcy5pc0VkaXRpbmc7dGhpcy5pc0VkaXRpbmc9ITE7Y29uc3Qgcz1zdXBlci50b0NhbnZhc0VsZW1lbnQodCk7cmV0dXJuIHRoaXMuaXNFZGl0aW5nPWUsc31yZW5kZXJDdXJzb3JPclNlbGVjdGlvbigpe2lmKCF0aGlzLmlzRWRpdGluZ3x8IXRoaXMuY2FudmFzKXJldHVybjtjb25zdCB0PXRoaXMuY2xlYXJDb250ZXh0VG9wKCEwKTtpZighdClyZXR1cm47Y29uc3QgZT10aGlzLl9nZXRDdXJzb3JCb3VuZGFyaWVzKCkscz10aGlzLmZpbmRBbmNlc3RvcnNXaXRoQ2xpcFBhdGgoKSxpPXMubGVuZ3RoPjA7bGV0IHIsbj10O2lmKGkpe3I9dnQodC5jYW52YXMpLG49ci5nZXRDb250ZXh0KFwiMmRcIiksR28obix0aGlzLmNhbnZhcyk7Y29uc3QgZT10aGlzLmNhbGNUcmFuc2Zvcm1NYXRyaXgoKTtuLnRyYW5zZm9ybShlWzBdLGVbMV0sZVsyXSxlWzNdLGVbNF0sZVs1XSl9aWYodGhpcy5zZWxlY3Rpb25TdGFydCE9PXRoaXMuc2VsZWN0aW9uRW5kfHx0aGlzLmluQ29tcG9zaXRpb25Nb2RlP3RoaXMucmVuZGVyU2VsZWN0aW9uKG4sZSk6dGhpcy5yZW5kZXJDdXJzb3IobixlKSxpKWZvcihjb25zdCBlIG9mIHMpe2NvbnN0IHM9ZS5jbGlwUGF0aCxpPXZ0KHQuY2FudmFzKSxyPWkuZ2V0Q29udGV4dChcIjJkXCIpO2lmKEdvKHIsdGhpcy5jYW52YXMpLCFzLmFic29sdXRlUG9zaXRpb25lZCl7Y29uc3QgdD1lLmNhbGNUcmFuc2Zvcm1NYXRyaXgoKTtyLnRyYW5zZm9ybSh0WzBdLHRbMV0sdFsyXSx0WzNdLHRbNF0sdFs1XSl9cy50cmFuc2Zvcm0ocikscy5kcmF3T2JqZWN0KHIsITAse30pLHRoaXMuZHJhd0NsaXBQYXRoT25DYWNoZShuLHMsaSl9aSYmKHQuc2V0VHJhbnNmb3JtKDEsMCwwLDEsMCwwKSx0LmRyYXdJbWFnZShyLDAsMCkpLHRoaXMuY2FudmFzLmNvbnRleHRUb3BEaXJ0eT0hMCx0LnJlc3RvcmUoKX1maW5kQW5jZXN0b3JzV2l0aENsaXBQYXRoKCl7Y29uc3QgdD1bXTtsZXQgZT10aGlzO2Zvcig7ZTspZS5jbGlwUGF0aCYmdC5wdXNoKGUpLGU9ZS5wYXJlbnQ7cmV0dXJuIHR9X2dldEN1cnNvckJvdW5kYXJpZXMoKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dGhpcy5zZWxlY3Rpb25TdGFydCxlPWFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwO2NvbnN0IHM9dGhpcy5fZ2V0TGVmdE9mZnNldCgpLGk9dGhpcy5fZ2V0VG9wT2Zmc2V0KCkscj10aGlzLl9nZXRDdXJzb3JCb3VuZGFyaWVzT2Zmc2V0cyh0LGUpO3JldHVybntsZWZ0OnMsdG9wOmksbGVmdE9mZnNldDpyLmxlZnQsdG9wT2Zmc2V0OnIudG9wfX1fZ2V0Q3Vyc29yQm91bmRhcmllc09mZnNldHModCxlKXtyZXR1cm4gZT90aGlzLl9fZ2V0Q3Vyc29yQm91bmRhcmllc09mZnNldHModCk6dGhpcy5jdXJzb3JPZmZzZXRDYWNoZSYmXCJ0b3BcImluIHRoaXMuY3Vyc29yT2Zmc2V0Q2FjaGU/dGhpcy5jdXJzb3JPZmZzZXRDYWNoZTp0aGlzLmN1cnNvck9mZnNldENhY2hlPXRoaXMuX19nZXRDdXJzb3JCb3VuZGFyaWVzT2Zmc2V0cyh0KX1fX2dldEN1cnNvckJvdW5kYXJpZXNPZmZzZXRzKHQpe2xldCBlPTAscz0wO2NvbnN0e2NoYXJJbmRleDppLGxpbmVJbmRleDpyfT10aGlzLmdldDJEQ3Vyc29yTG9jYXRpb24odCk7Zm9yKGxldCB0PTA7dDxyO3QrKyllKz10aGlzLmdldEhlaWdodE9mTGluZSh0KTtjb25zdCBuPXRoaXMuX2dldExpbmVMZWZ0T2Zmc2V0KHIpLG89dGhpcy5fX2NoYXJCb3VuZHNbcl1baV07byYmKHM9by5sZWZ0KSwwIT09dGhpcy5jaGFyU3BhY2luZyYmaT09PXRoaXMuX3RleHRMaW5lc1tyXS5sZW5ndGgmJihzLT10aGlzLl9nZXRXaWR0aE9mQ2hhclNwYWNpbmcoKSk7Y29uc3QgYT17dG9wOmUsbGVmdDpuKyhzPjA/czowKX07cmV0dXJuXCJydGxcIj09PXRoaXMuZGlyZWN0aW9uJiYodGhpcy50ZXh0QWxpZ249PT1BfHx0aGlzLnRleHRBbGlnbj09PUplfHx0aGlzLnRleHRBbGlnbj09PVplP2EubGVmdCo9LTE6dGhpcy50ZXh0QWxpZ249PT1NfHx0aGlzLnRleHRBbGlnbj09PVFlP2EubGVmdD1uLShzPjA/czowKTp0aGlzLnRleHRBbGlnbiE9PUQmJnRoaXMudGV4dEFsaWduIT09JGV8fChhLmxlZnQ9bi0ocz4wP3M6MCkpKSxhfXJlbmRlckN1cnNvckF0KHQpe3RoaXMuX3JlbmRlckN1cnNvcih0aGlzLmNhbnZhcy5jb250ZXh0VG9wLHRoaXMuX2dldEN1cnNvckJvdW5kYXJpZXModCwhMCksdCl9cmVuZGVyQ3Vyc29yKHQsZSl7dGhpcy5fcmVuZGVyQ3Vyc29yKHQsZSx0aGlzLnNlbGVjdGlvblN0YXJ0KX1nZXRDdXJzb3JSZW5kZXJpbmdEYXRhKCl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnRoaXMuc2VsZWN0aW9uU3RhcnQsZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dGhpcy5fZ2V0Q3Vyc29yQm91bmRhcmllcyh0KTtjb25zdCBzPXRoaXMuZ2V0MkRDdXJzb3JMb2NhdGlvbih0KSxpPXMubGluZUluZGV4LHI9cy5jaGFySW5kZXg+MD9zLmNoYXJJbmRleC0xOjAsbj10aGlzLmdldFZhbHVlT2ZQcm9wZXJ0eUF0KGkscixcImZvbnRTaXplXCIpLG89dGhpcy5nZXRPYmplY3RTY2FsaW5nKCkueCp0aGlzLmNhbnZhcy5nZXRab29tKCksYT10aGlzLmN1cnNvcldpZHRoL28saD10aGlzLmdldFZhbHVlT2ZQcm9wZXJ0eUF0KGkscixcImRlbHRhWVwiKSxjPWUudG9wT2Zmc2V0KygxLXRoaXMuX2ZvbnRTaXplRnJhY3Rpb24pKnRoaXMuZ2V0SGVpZ2h0T2ZMaW5lKGkpL3RoaXMubGluZUhlaWdodC1uKigxLXRoaXMuX2ZvbnRTaXplRnJhY3Rpb24pO3JldHVybntjb2xvcjp0aGlzLmN1cnNvckNvbG9yfHx0aGlzLmdldFZhbHVlT2ZQcm9wZXJ0eUF0KGkscixcImZpbGxcIiksb3BhY2l0eTp0aGlzLl9jdXJyZW50Q3Vyc29yT3BhY2l0eSxsZWZ0OmUubGVmdCtlLmxlZnRPZmZzZXQtYS8yLHRvcDpjK2UudG9wK2gsd2lkdGg6YSxoZWlnaHQ6bn19X3JlbmRlckN1cnNvcih0LGUscyl7Y29uc3R7Y29sb3I6aSxvcGFjaXR5OnIsbGVmdDpuLHRvcDpvLHdpZHRoOmEsaGVpZ2h0Omh9PXRoaXMuZ2V0Q3Vyc29yUmVuZGVyaW5nRGF0YShzLGUpO3QuZmlsbFN0eWxlPWksdC5nbG9iYWxBbHBoYT1yLHQuZmlsbFJlY3QobixvLGEsaCl9cmVuZGVyU2VsZWN0aW9uKHQsZSl7Y29uc3Qgcz17c2VsZWN0aW9uU3RhcnQ6dGhpcy5pbkNvbXBvc2l0aW9uTW9kZT90aGlzLmhpZGRlblRleHRhcmVhLnNlbGVjdGlvblN0YXJ0OnRoaXMuc2VsZWN0aW9uU3RhcnQsc2VsZWN0aW9uRW5kOnRoaXMuaW5Db21wb3NpdGlvbk1vZGU/dGhpcy5oaWRkZW5UZXh0YXJlYS5zZWxlY3Rpb25FbmQ6dGhpcy5zZWxlY3Rpb25FbmR9O3RoaXMuX3JlbmRlclNlbGVjdGlvbih0LHMsZSl9cmVuZGVyRHJhZ1NvdXJjZUVmZmVjdCgpe2NvbnN0IHQ9dGhpcy5kcmFnZ2FibGVUZXh0RGVsZWdhdGUuZ2V0RHJhZ1N0YXJ0U2VsZWN0aW9uKCk7dGhpcy5fcmVuZGVyU2VsZWN0aW9uKHRoaXMuY2FudmFzLmNvbnRleHRUb3AsdCx0aGlzLl9nZXRDdXJzb3JCb3VuZGFyaWVzKHQuc2VsZWN0aW9uU3RhcnQsITApKX1yZW5kZXJEcm9wVGFyZ2V0RWZmZWN0KHQpe2NvbnN0IGU9dGhpcy5nZXRTZWxlY3Rpb25TdGFydEZyb21Qb2ludGVyKHQpO3RoaXMucmVuZGVyQ3Vyc29yQXQoZSl9X3JlbmRlclNlbGVjdGlvbih0LGUscyl7Y29uc3QgaT1lLnNlbGVjdGlvblN0YXJ0LHI9ZS5zZWxlY3Rpb25FbmQsbj10aGlzLnRleHRBbGlnbi5pbmNsdWRlcyhKZSksbz10aGlzLmdldDJEQ3Vyc29yTG9jYXRpb24oaSksYT10aGlzLmdldDJEQ3Vyc29yTG9jYXRpb24ociksaD1vLmxpbmVJbmRleCxjPWEubGluZUluZGV4LGw9by5jaGFySW5kZXg8MD8wOm8uY2hhckluZGV4LHU9YS5jaGFySW5kZXg8MD8wOmEuY2hhckluZGV4O2ZvcihsZXQgZT1oO2U8PWM7ZSsrKXtjb25zdCBpPXRoaXMuX2dldExpbmVMZWZ0T2Zmc2V0KGUpfHwwO2xldCByPXRoaXMuZ2V0SGVpZ2h0T2ZMaW5lKGUpLG89MCxhPTAsZD0wO2lmKGU9PT1oJiYoYT10aGlzLl9fY2hhckJvdW5kc1toXVtsXS5sZWZ0KSxlPj1oJiZlPGMpZD1uJiYhdGhpcy5pc0VuZE9mV3JhcHBpbmcoZSk/dGhpcy53aWR0aDp0aGlzLmdldExpbmVXaWR0aChlKXx8NTtlbHNlIGlmKGU9PT1jKWlmKDA9PT11KWQ9dGhpcy5fX2NoYXJCb3VuZHNbY11bdV0ubGVmdDtlbHNle2NvbnN0IHQ9dGhpcy5fZ2V0V2lkdGhPZkNoYXJTcGFjaW5nKCk7ZD10aGlzLl9fY2hhckJvdW5kc1tjXVt1LTFdLmxlZnQrdGhpcy5fX2NoYXJCb3VuZHNbY11bdS0xXS53aWR0aC10fW89ciwodGhpcy5saW5lSGVpZ2h0PDF8fGU9PT1jJiZ0aGlzLmxpbmVIZWlnaHQ+MSkmJihyLz10aGlzLmxpbmVIZWlnaHQpO2xldCBnPXMubGVmdCtpK2EsZj1yLHA9MDtjb25zdCBtPWQtYTt0aGlzLmluQ29tcG9zaXRpb25Nb2RlPyh0LmZpbGxTdHlsZT10aGlzLmNvbXBvc2l0aW9uQ29sb3J8fFwiYmxhY2tcIixmPTEscD1yKTp0LmZpbGxTdHlsZT10aGlzLnNlbGVjdGlvbkNvbG9yLFwicnRsXCI9PT10aGlzLmRpcmVjdGlvbiYmKHRoaXMudGV4dEFsaWduPT09QXx8dGhpcy50ZXh0QWxpZ249PT1KZXx8dGhpcy50ZXh0QWxpZ249PT1aZT9nPXRoaXMud2lkdGgtZy1tOnRoaXMudGV4dEFsaWduPT09TXx8dGhpcy50ZXh0QWxpZ249PT1RZT9nPXMubGVmdCtpLWQ6dGhpcy50ZXh0QWxpZ24hPT1EJiZ0aGlzLnRleHRBbGlnbiE9PSRlfHwoZz1zLmxlZnQraS1kKSksdC5maWxsUmVjdChnLHMudG9wK3MudG9wT2Zmc2V0K3AsbSxmKSxzLnRvcE9mZnNldCs9b319Z2V0Q3VycmVudENoYXJGb250U2l6ZSgpe2NvbnN0IHQ9dGhpcy5fZ2V0Q3VycmVudENoYXJJbmRleCgpO3JldHVybiB0aGlzLmdldFZhbHVlT2ZQcm9wZXJ0eUF0KHQubCx0LmMsXCJmb250U2l6ZVwiKX1nZXRDdXJyZW50Q2hhckNvbG9yKCl7Y29uc3QgdD10aGlzLl9nZXRDdXJyZW50Q2hhckluZGV4KCk7cmV0dXJuIHRoaXMuZ2V0VmFsdWVPZlByb3BlcnR5QXQodC5sLHQuYyxLKX1fZ2V0Q3VycmVudENoYXJJbmRleCgpe2NvbnN0IHQ9dGhpcy5nZXQyREN1cnNvckxvY2F0aW9uKHRoaXMuc2VsZWN0aW9uU3RhcnQsITApLGU9dC5jaGFySW5kZXg+MD90LmNoYXJJbmRleC0xOjA7cmV0dXJue2w6dC5saW5lSW5kZXgsYzplfX1kaXNwb3NlKCl7dGhpcy5leGl0RWRpdGluZ0ltcGwoKSx0aGlzLmRyYWdnYWJsZVRleHREZWxlZ2F0ZS5kaXNwb3NlKCksc3VwZXIuZGlzcG9zZSgpfX10KE5vLFwib3duRGVmYXVsdHNcIixIbyksdChObyxcInR5cGVcIixcIklUZXh0XCIpLHR0LnNldENsYXNzKE5vKSx0dC5zZXRDbGFzcyhObyxcImktdGV4dFwiKTtjbGFzcyBVbyBleHRlbmRzIE5ve3N0YXRpYyBnZXREZWZhdWx0cygpe3JldHVybiBzKHMoe30sc3VwZXIuZ2V0RGVmYXVsdHMoKSksVW8ub3duRGVmYXVsdHMpfWNvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCxzKHMoe30sVW8ub3duRGVmYXVsdHMpLGUpKX1zdGF0aWMgY3JlYXRlQ29udHJvbHMoKXtyZXR1cm57Y29udHJvbHM6QWkoKX19aW5pdERpbWVuc2lvbnMoKXt0aGlzLmluaXRpYWxpemVkJiYodGhpcy5pc0VkaXRpbmcmJnRoaXMuaW5pdERlbGF5ZWRDdXJzb3IoKSx0aGlzLl9jbGVhckNhY2hlKCksdGhpcy5keW5hbWljTWluV2lkdGg9MCx0aGlzLl9zdHlsZU1hcD10aGlzLl9nZW5lcmF0ZVN0eWxlTWFwKHRoaXMuX3NwbGl0VGV4dCgpKSx0aGlzLmR5bmFtaWNNaW5XaWR0aD50aGlzLndpZHRoJiZ0aGlzLl9zZXQoXCJ3aWR0aFwiLHRoaXMuZHluYW1pY01pbldpZHRoKSx0aGlzLnRleHRBbGlnbi5pbmNsdWRlcyhKZSkmJnRoaXMuZW5sYXJnZVNwYWNlcygpLHRoaXMuaGVpZ2h0PXRoaXMuY2FsY1RleHRIZWlnaHQoKSl9X2dlbmVyYXRlU3R5bGVNYXAodCl7bGV0IGU9MCxzPTAsaT0wO2NvbnN0IHI9e307Zm9yKGxldCBuPTA7bjx0LmdyYXBoZW1lTGluZXMubGVuZ3RoO24rKylcIlxcblwiPT09dC5ncmFwaGVtZVRleHRbaV0mJm4+MD8ocz0wLGkrKyxlKyspOiF0aGlzLnNwbGl0QnlHcmFwaGVtZSYmdGhpcy5fcmVTcGFjZUFuZFRhYi50ZXN0KHQuZ3JhcGhlbWVUZXh0W2ldKSYmbj4wJiYocysrLGkrKykscltuXT17bGluZTplLG9mZnNldDpzfSxpKz10LmdyYXBoZW1lTGluZXNbbl0ubGVuZ3RoLHMrPXQuZ3JhcGhlbWVMaW5lc1tuXS5sZW5ndGg7cmV0dXJuIHJ9c3R5bGVIYXModCxlKXtpZih0aGlzLl9zdHlsZU1hcCYmIXRoaXMuaXNXcmFwcGluZyl7Y29uc3QgdD10aGlzLl9zdHlsZU1hcFtlXTt0JiYoZT10LmxpbmUpfXJldHVybiBzdXBlci5zdHlsZUhhcyh0LGUpfWlzRW1wdHlTdHlsZXModCl7aWYoIXRoaXMuc3R5bGVzKXJldHVybiEwO2xldCBlLHM9MCxpPXQrMSxyPSExO2NvbnN0IG49dGhpcy5fc3R5bGVNYXBbdF0sbz10aGlzLl9zdHlsZU1hcFt0KzFdO24mJih0PW4ubGluZSxzPW4ub2Zmc2V0KSxvJiYoaT1vLmxpbmUscj1pPT09dCxlPW8ub2Zmc2V0KTtjb25zdCBhPXZvaWQgMD09PXQ/dGhpcy5zdHlsZXM6e2xpbmU6dGhpcy5zdHlsZXNbdF19O2Zvcihjb25zdCB0IGluIGEpZm9yKGNvbnN0IGkgaW4gYVt0XSl7Y29uc3Qgbj1wYXJzZUludChpLDEwKTtpZihuPj1zJiYoIXJ8fG48ZSkpZm9yKGNvbnN0IGUgaW4gYVt0XVtpXSlyZXR1cm4hMX1yZXR1cm4hMH1fZ2V0U3R5bGVEZWNsYXJhdGlvbih0LGUpe2lmKHRoaXMuX3N0eWxlTWFwJiYhdGhpcy5pc1dyYXBwaW5nKXtjb25zdCBzPXRoaXMuX3N0eWxlTWFwW3RdO2lmKCFzKXJldHVybnt9O3Q9cy5saW5lLGU9cy5vZmZzZXQrZX1yZXR1cm4gc3VwZXIuX2dldFN0eWxlRGVjbGFyYXRpb24odCxlKX1fc2V0U3R5bGVEZWNsYXJhdGlvbih0LGUscyl7Y29uc3QgaT10aGlzLl9zdHlsZU1hcFt0XTtzdXBlci5fc2V0U3R5bGVEZWNsYXJhdGlvbihpLmxpbmUsaS5vZmZzZXQrZSxzKX1fZGVsZXRlU3R5bGVEZWNsYXJhdGlvbih0LGUpe2NvbnN0IHM9dGhpcy5fc3R5bGVNYXBbdF07c3VwZXIuX2RlbGV0ZVN0eWxlRGVjbGFyYXRpb24ocy5saW5lLHMub2Zmc2V0K2UpfV9nZXRMaW5lU3R5bGUodCl7Y29uc3QgZT10aGlzLl9zdHlsZU1hcFt0XTtyZXR1cm4hIXRoaXMuc3R5bGVzW2UubGluZV19X3NldExpbmVTdHlsZSh0KXtjb25zdCBlPXRoaXMuX3N0eWxlTWFwW3RdO3N1cGVyLl9zZXRMaW5lU3R5bGUoZS5saW5lKX1fd3JhcFRleHQodCxlKXt0aGlzLmlzV3JhcHBpbmc9ITA7Y29uc3Qgcz10aGlzLmdldEdyYXBoZW1lRGF0YUZvclJlbmRlcih0KSxpPVtdO2ZvcihsZXQgdD0wO3Q8cy53b3Jkc0RhdGEubGVuZ3RoO3QrKylpLnB1c2goLi4udGhpcy5fd3JhcExpbmUodCxlLHMpKTtyZXR1cm4gdGhpcy5pc1dyYXBwaW5nPSExLGl9Z2V0R3JhcGhlbWVEYXRhRm9yUmVuZGVyKHQpe2NvbnN0IGU9dGhpcy5zcGxpdEJ5R3JhcGhlbWUscz1lP1wiXCI6XCIgXCI7bGV0IGk9MDtyZXR1cm57d29yZHNEYXRhOnQubWFwKCgodCxyKT0+e2xldCBuPTA7Y29uc3Qgbz1lP3RoaXMuZ3JhcGhlbWVTcGxpdCh0KTp0aGlzLndvcmRTcGxpdCh0KTtyZXR1cm4gMD09PW8ubGVuZ3RoP1t7d29yZDpbXSx3aWR0aDowfV06by5tYXAoKHQ9Pntjb25zdCBvPWU/W3RdOnRoaXMuZ3JhcGhlbWVTcGxpdCh0KSxhPXRoaXMuX21lYXN1cmVXb3JkKG8scixuKTtyZXR1cm4gaT1NYXRoLm1heChhLGkpLG4rPW8ubGVuZ3RoK3MubGVuZ3RoLHt3b3JkOm8sd2lkdGg6YX19KSl9KSksbGFyZ2VzdFdvcmRXaWR0aDppfX1fbWVhc3VyZVdvcmQodCxlKXtsZXQgcyxpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowLHI9MDtmb3IobGV0IG49MCxvPXQubGVuZ3RoO248bztuKyspe3IrPXRoaXMuX2dldEdyYXBoZW1lQm94KHRbbl0sZSxuK2kscyx0cnVlKS5rZXJuZWRXaWR0aCxzPXRbbl19cmV0dXJuIHJ9d29yZFNwbGl0KHQpe3JldHVybiB0LnNwbGl0KHRoaXMuX3dvcmRKb2luZXJzKX1fd3JhcExpbmUodCxlLHMpe2xldHtsYXJnZXN0V29yZFdpZHRoOmksd29yZHNEYXRhOnJ9PXMsbj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106MDtjb25zdCBvPXRoaXMuX2dldFdpZHRoT2ZDaGFyU3BhY2luZygpLGE9dGhpcy5zcGxpdEJ5R3JhcGhlbWUsaD1bXSxjPWE/XCJcIjpcIiBcIjtsZXQgbD0wLHU9W10sZD0wLGc9MCxmPSEwO2UtPW47Y29uc3QgcD1NYXRoLm1heChlLGksdGhpcy5keW5hbWljTWluV2lkdGgpLG09clt0XTtsZXQgdjtmb3IoZD0wLHY9MDt2PG0ubGVuZ3RoO3YrKyl7Y29uc3R7d29yZDplLHdpZHRoOnN9PW1bdl07ZCs9ZS5sZW5ndGgsbCs9ZytzLW8sbD5wJiYhZj8oaC5wdXNoKHUpLHU9W10sbD1zLGY9ITApOmwrPW8sZnx8YXx8dS5wdXNoKGMpLHU9dS5jb25jYXQoZSksZz1hPzA6dGhpcy5fbWVhc3VyZVdvcmQoW2NdLHQsZCksZCsrLGY9ITF9cmV0dXJuIHYmJmgucHVzaCh1KSxpK24+dGhpcy5keW5hbWljTWluV2lkdGgmJih0aGlzLmR5bmFtaWNNaW5XaWR0aD1pLW8rbiksaH1pc0VuZE9mV3JhcHBpbmcodCl7cmV0dXJuIXRoaXMuX3N0eWxlTWFwW3QrMV18fHRoaXMuX3N0eWxlTWFwW3QrMV0ubGluZSE9PXRoaXMuX3N0eWxlTWFwW3RdLmxpbmV9bWlzc2luZ05ld2xpbmVPZmZzZXQodCxlKXtyZXR1cm4gdGhpcy5zcGxpdEJ5R3JhcGhlbWUmJiFlP3RoaXMuaXNFbmRPZldyYXBwaW5nKHQpPzE6MDoxfV9zcGxpdFRleHRJbnRvTGluZXModCl7Y29uc3QgZT1zdXBlci5fc3BsaXRUZXh0SW50b0xpbmVzKHQpLHM9dGhpcy5fd3JhcFRleHQoZS5saW5lcyx0aGlzLndpZHRoKSxpPW5ldyBBcnJheShzLmxlbmd0aCk7Zm9yKGxldCB0PTA7dDxzLmxlbmd0aDt0KyspaVt0XT1zW3RdLmpvaW4oXCJcIik7cmV0dXJuIGUubGluZXM9aSxlLmdyYXBoZW1lTGluZXM9cyxlfWdldE1pbldpZHRoKCl7cmV0dXJuIE1hdGgubWF4KHRoaXMubWluV2lkdGgsdGhpcy5keW5hbWljTWluV2lkdGgpfV9yZW1vdmVFeHRyYW5lb3VzU3R5bGVzKCl7Y29uc3QgdD1uZXcgTWFwO2Zvcihjb25zdCBlIGluIHRoaXMuX3N0eWxlTWFwKXtjb25zdCBzPXBhcnNlSW50KGUsMTApO2lmKHRoaXMuX3RleHRMaW5lc1tzXSl7Y29uc3Qgcz10aGlzLl9zdHlsZU1hcFtlXS5saW5lO3Quc2V0KFwiXCIuY29uY2F0KHMpLCEwKX19Zm9yKGNvbnN0IGUgaW4gdGhpcy5zdHlsZXMpdC5oYXMoZSl8fGRlbGV0ZSB0aGlzLnN0eWxlc1tlXX10b09iamVjdCgpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbXTtyZXR1cm4gc3VwZXIudG9PYmplY3QoW1wibWluV2lkdGhcIixcInNwbGl0QnlHcmFwaGVtZVwiLC4uLnRdKX19dChVbyxcInR5cGVcIixcIlRleHRib3hcIiksdChVbyxcInRleHRMYXlvdXRQcm9wZXJ0aWVzXCIsWy4uLk5vLnRleHRMYXlvdXRQcm9wZXJ0aWVzLFwid2lkdGhcIl0pLHQoVW8sXCJvd25EZWZhdWx0c1wiLHttaW5XaWR0aDoyMCxkeW5hbWljTWluV2lkdGg6Mixsb2NrU2NhbGluZ0ZsaXA6ITAsbm9TY2FsZUNhY2hlOiExLF93b3JkSm9pbmVyczovWyBcXHRcXHJdLyxzcGxpdEJ5R3JhcGhlbWU6ITF9KSx0dC5zZXRDbGFzcyhVbyk7Y2xhc3MgcW8gZXh0ZW5kcyBYcntzaG91bGRQZXJmb3JtTGF5b3V0KHQpe3JldHVybiEhdC50YXJnZXQuY2xpcFBhdGgmJnN1cGVyLnNob3VsZFBlcmZvcm1MYXlvdXQodCl9c2hvdWxkTGF5b3V0Q2xpcFBhdGgoKXtyZXR1cm4hMX1jYWxjTGF5b3V0UmVzdWx0KHQsZSl7Y29uc3R7dGFyZ2V0OnN9PXQse2NsaXBQYXRoOmksZ3JvdXA6cn09cztpZighaXx8IXRoaXMuc2hvdWxkUGVyZm9ybUxheW91dCh0KSlyZXR1cm47Y29uc3R7d2lkdGg6bixoZWlnaHQ6b309aGUoQnIocyxpKSksYT1uZXcgb3QobixvKTtpZihpLmFic29sdXRlUG9zaXRpb25lZCl7cmV0dXJue2NlbnRlcjptZShpLmdldFJlbGF0aXZlQ2VudGVyUG9pbnQoKSx2b2lkIDAscj9yLmNhbGNUcmFuc2Zvcm1NYXRyaXgoKTp2b2lkIDApLHNpemU6YX19e2NvbnN0IHI9aS5nZXRSZWxhdGl2ZUNlbnRlclBvaW50KCkudHJhbnNmb3JtKHMuY2FsY093bk1hdHJpeCgpLCEwKTtpZih0aGlzLnNob3VsZFBlcmZvcm1MYXlvdXQodCkpe2NvbnN0e2NlbnRlcjpzPW5ldyBvdCxjb3JyZWN0aW9uOmk9bmV3IG90fT10aGlzLmNhbGNCb3VuZGluZ0JveChlLHQpfHx7fTtyZXR1cm57Y2VudGVyOnMuYWRkKHIpLGNvcnJlY3Rpb246aS5zdWJ0cmFjdChyKSxzaXplOmF9fXJldHVybntjZW50ZXI6cy5nZXRSZWxhdGl2ZUNlbnRlclBvaW50KCkuYWRkKHIpLHNpemU6YX19fX10KHFvLFwidHlwZVwiLFwiY2xpcC1wYXRoXCIpLHR0LnNldENsYXNzKHFvKTtjbGFzcyBLbyBleHRlbmRzIFhye2dldEluaXRpYWxTaXplKHQsZSl7bGV0e3RhcmdldDpzfT10LHtzaXplOml9PWU7cmV0dXJuIG5ldyBvdChzLndpZHRofHxpLngscy5oZWlnaHR8fGkueSl9fXQoS28sXCJ0eXBlXCIsXCJmaXhlZFwiKSx0dC5zZXRDbGFzcyhLbyk7Y2xhc3MgSm8gZXh0ZW5kcyBHcntzdWJzY3JpYmVUYXJnZXRzKHQpe2NvbnN0IGU9dC50YXJnZXQ7dC50YXJnZXRzLnJlZHVjZSgoKHQsZSk9PihlLnBhcmVudCYmdC5hZGQoZS5wYXJlbnQpLHQpKSxuZXcgU2V0KS5mb3JFYWNoKCh0PT57dC5sYXlvdXRNYW5hZ2VyLnN1YnNjcmliZVRhcmdldHMoe3RhcmdldDp0LHRhcmdldHM6W2VdfSl9KSl9dW5zdWJzY3JpYmVUYXJnZXRzKHQpe2NvbnN0IGU9dC50YXJnZXQscz1lLmdldE9iamVjdHMoKTt0LnRhcmdldHMucmVkdWNlKCgodCxlKT0+KGUucGFyZW50JiZ0LmFkZChlLnBhcmVudCksdCkpLG5ldyBTZXQpLmZvckVhY2goKHQ9Pnshcy5zb21lKChlPT5lLnBhcmVudD09PXQpKSYmdC5sYXlvdXRNYW5hZ2VyLnVuc3Vic2NyaWJlVGFyZ2V0cyh7dGFyZ2V0OnQsdGFyZ2V0czpbZV19KX0pKX19Y2xhc3MgUW8gZXh0ZW5kcyBVcntzdGF0aWMgZ2V0RGVmYXVsdHMoKXtyZXR1cm4gcyhzKHt9LHN1cGVyLmdldERlZmF1bHRzKCkpLFFvLm93bkRlZmF1bHRzKX1jb25zdHJ1Y3Rvcigpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbXSxlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtzdXBlcigpLE9iamVjdC5hc3NpZ24odGhpcyxRby5vd25EZWZhdWx0cyksdGhpcy5zZXRPcHRpb25zKGUpO2NvbnN0e2xlZnQ6cyx0b3A6aSxsYXlvdXRNYW5hZ2VyOnJ9PWU7dGhpcy5ncm91cEluaXQodCx7bGVmdDpzLHRvcDppLGxheW91dE1hbmFnZXI6bnVsbCE9cj9yOm5ldyBKb30pfV9zaG91bGRTZXROZXN0ZWRDb29yZHMoKXtyZXR1cm4hMH1fX29iamVjdFNlbGVjdGlvbk1vbml0b3IoKXt9bXVsdGlTZWxlY3RBZGQoKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheSh0KSxzPTA7czx0O3MrKyllW3NdPWFyZ3VtZW50c1tzXTtcInNlbGVjdGlvbi1vcmRlclwiPT09dGhpcy5tdWx0aVNlbGVjdGlvblN0YWNraW5nP3RoaXMuYWRkKC4uLmUpOmUuZm9yRWFjaCgodD0+e2NvbnN0IGU9dGhpcy5fb2JqZWN0cy5maW5kSW5kZXgoKGU9PmUuaXNJbkZyb250T2YodCkpKSxzPS0xPT09ZT90aGlzLnNpemUoKTplO3RoaXMuaW5zZXJ0QXQocyx0KX0pKX1jYW5FbnRlckdyb3VwKHQpe3JldHVybiB0aGlzLmdldE9iamVjdHMoKS5zb21lKChlPT5lLmlzRGVzY2VuZGFudE9mKHQpfHx0LmlzRGVzY2VuZGFudE9mKGUpKSk/KGEoXCJlcnJvclwiLFwiQWN0aXZlU2VsZWN0aW9uOiBjaXJjdWxhciBvYmplY3QgdHJlZXMgYXJlIG5vdCBzdXBwb3J0ZWQsIHRoaXMgY2FsbCBoYXMgbm8gZWZmZWN0XCIpLCExKTpzdXBlci5jYW5FbnRlckdyb3VwKHQpfWVudGVyR3JvdXAodCxlKXt0LnBhcmVudCYmdC5wYXJlbnQ9PT10Lmdyb3VwP3QucGFyZW50Ll9leGl0R3JvdXAodCk6dC5ncm91cCYmdC5wYXJlbnQhPT10Lmdyb3VwJiZ0Lmdyb3VwLnJlbW92ZSh0KSx0aGlzLl9lbnRlckdyb3VwKHQsZSl9ZXhpdEdyb3VwKHQsZSl7dGhpcy5fZXhpdEdyb3VwKHQsZSksdC5wYXJlbnQmJnQucGFyZW50Ll9lbnRlckdyb3VwKHQsITApfV9vbkFmdGVyT2JqZWN0c0NoYW5nZSh0LGUpe3N1cGVyLl9vbkFmdGVyT2JqZWN0c0NoYW5nZSh0LGUpO2NvbnN0IHM9bmV3IFNldDtlLmZvckVhY2goKHQ9Pntjb25zdHtwYXJlbnQ6ZX09dDtlJiZzLmFkZChlKX0pKSx0PT09UnI/cy5mb3JFYWNoKCh0PT57dC5fb25BZnRlck9iamVjdHNDaGFuZ2UoTHIsZSl9KSk6cy5mb3JFYWNoKCh0PT57dC5fc2V0KFwiZGlydHlcIiwhMCl9KSl9b25EZXNlbGVjdCgpe3JldHVybiB0aGlzLnJlbW92ZUFsbCgpLCExfXRvU3RyaW5nKCl7cmV0dXJuXCIjPEFjdGl2ZVNlbGVjdGlvbjogKFwiLmNvbmNhdCh0aGlzLmNvbXBsZXhpdHkoKSxcIik+XCIpfXNob3VsZENhY2hlKCl7cmV0dXJuITF9aXNPbkFDYWNoZSgpe3JldHVybiExfV9yZW5kZXJDb250cm9scyh0LGUsaSl7dC5zYXZlKCksdC5nbG9iYWxBbHBoYT10aGlzLmlzTW92aW5nP3RoaXMuYm9yZGVyT3BhY2l0eVdoZW5Nb3Zpbmc6MTtjb25zdCByPXMocyh7aGFzQ29udHJvbHM6ITF9LGkpLHt9LHtmb3JBY3RpdmVTZWxlY3Rpb246ITB9KTtmb3IobGV0IGU9MDtlPHRoaXMuX29iamVjdHMubGVuZ3RoO2UrKyl0aGlzLl9vYmplY3RzW2VdLl9yZW5kZXJDb250cm9scyh0LHIpO3N1cGVyLl9yZW5kZXJDb250cm9scyh0LGUpLHQucmVzdG9yZSgpfX10KFFvLFwidHlwZVwiLFwiQWN0aXZlU2VsZWN0aW9uXCIpLHQoUW8sXCJvd25EZWZhdWx0c1wiLHttdWx0aVNlbGVjdGlvblN0YWNraW5nOlwiY2FudmFzLXN0YWNraW5nXCJ9KSx0dC5zZXRDbGFzcyhRbyksdHQuc2V0Q2xhc3MoUW8sXCJhY3RpdmVTZWxlY3Rpb25cIik7Y2xhc3MgWm97Y29uc3RydWN0b3IoKXt0KHRoaXMsXCJyZXNvdXJjZXNcIix7fSl9YXBwbHlGaWx0ZXJzKHQsZSxzLGkscil7Y29uc3Qgbj1yLmdldENvbnRleHQoXCIyZFwiKTtpZighbilyZXR1cm47bi5kcmF3SW1hZ2UoZSwwLDAscyxpKTtjb25zdCBvPXtzb3VyY2VXaWR0aDpzLHNvdXJjZUhlaWdodDppLGltYWdlRGF0YTpuLmdldEltYWdlRGF0YSgwLDAscyxpKSxvcmlnaW5hbEVsOmUsb3JpZ2luYWxJbWFnZURhdGE6bi5nZXRJbWFnZURhdGEoMCwwLHMsaSksY2FudmFzRWw6cixjdHg6bixmaWx0ZXJCYWNrZW5kOnRoaXN9O3QuZm9yRWFjaCgodD0+e3QuYXBwbHlUbyhvKX0pKTtjb25zdHtpbWFnZURhdGE6YX09bztyZXR1cm4gYS53aWR0aD09PXMmJmEuaGVpZ2h0PT09aXx8KHIud2lkdGg9YS53aWR0aCxyLmhlaWdodD1hLmhlaWdodCksbi5wdXRJbWFnZURhdGEoYSwwLDApLG99fWNsYXNzICRve2NvbnN0cnVjdG9yKCl7bGV0e3RpbGVTaXplOmU9by50ZXh0dXJlU2l6ZX09YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3QodGhpcyxcImFQb3NpdGlvblwiLG5ldyBGbG9hdDMyQXJyYXkoWzAsMCwwLDEsMSwwLDEsMV0pKSx0KHRoaXMsXCJyZXNvdXJjZXNcIix7fSksdGhpcy50aWxlU2l6ZT1lLHRoaXMuc2V0dXBHTENvbnRleHQoZSxlKSx0aGlzLmNhcHR1cmVHUFVJbmZvKCl9c2V0dXBHTENvbnRleHQodCxlKXt0aGlzLmRpc3Bvc2UoKSx0aGlzLmNyZWF0ZVdlYkdMQ2FudmFzKHQsZSl9Y3JlYXRlV2ViR0xDYW52YXModCxlKXtjb25zdCBzPXZ0KHt3aWR0aDp0LGhlaWdodDplfSksaT1zLmdldENvbnRleHQoXCJ3ZWJnbFwiLHthbHBoYTohMCxwcmVtdWx0aXBsaWVkQWxwaGE6ITEsZGVwdGg6ITEsc3RlbmNpbDohMSxhbnRpYWxpYXM6ITF9KTtpJiYoaS5jbGVhckNvbG9yKDAsMCwwLDApLHRoaXMuY2FudmFzPXMsdGhpcy5nbD1pKX1hcHBseUZpbHRlcnModCxlLHMsaSxyLG4pe2NvbnN0IG89dGhpcy5nbCxhPXIuZ2V0Q29udGV4dChcIjJkXCIpO2lmKCFvfHwhYSlyZXR1cm47bGV0IGg7biYmKGg9dGhpcy5nZXRDYWNoZWRUZXh0dXJlKG4sZSkpO2NvbnN0IGM9e29yaWdpbmFsV2lkdGg6ZS53aWR0aHx8ZS5uYXR1cmFsV2lkdGh8fDAsb3JpZ2luYWxIZWlnaHQ6ZS5oZWlnaHR8fGUubmF0dXJhbEhlaWdodHx8MCxzb3VyY2VXaWR0aDpzLHNvdXJjZUhlaWdodDppLGRlc3RpbmF0aW9uV2lkdGg6cyxkZXN0aW5hdGlvbkhlaWdodDppLGNvbnRleHQ6byxzb3VyY2VUZXh0dXJlOnRoaXMuY3JlYXRlVGV4dHVyZShvLHMsaSxoP3ZvaWQgMDplKSx0YXJnZXRUZXh0dXJlOnRoaXMuY3JlYXRlVGV4dHVyZShvLHMsaSksb3JpZ2luYWxUZXh0dXJlOmh8fHRoaXMuY3JlYXRlVGV4dHVyZShvLHMsaSxoP3ZvaWQgMDplKSxwYXNzZXM6dC5sZW5ndGgsd2ViZ2w6ITAsYVBvc2l0aW9uOnRoaXMuYVBvc2l0aW9uLHByb2dyYW1DYWNoZTp0aGlzLnByb2dyYW1DYWNoZSxwYXNzOjAsZmlsdGVyQmFja2VuZDp0aGlzLHRhcmdldENhbnZhczpyfSxsPW8uY3JlYXRlRnJhbWVidWZmZXIoKTtyZXR1cm4gby5iaW5kRnJhbWVidWZmZXIoby5GUkFNRUJVRkZFUixsKSx0LmZvckVhY2goKHQ9Pnt0JiZ0LmFwcGx5VG8oYyl9KSksZnVuY3Rpb24odCl7Y29uc3QgZT10LnRhcmdldENhbnZhcyxzPWUud2lkdGgsaT1lLmhlaWdodCxyPXQuZGVzdGluYXRpb25XaWR0aCxuPXQuZGVzdGluYXRpb25IZWlnaHQ7cz09PXImJmk9PT1ufHwoZS53aWR0aD1yLGUuaGVpZ2h0PW4pfShjKSx0aGlzLmNvcHlHTFRvMkQobyxjKSxvLmJpbmRUZXh0dXJlKG8uVEVYVFVSRV8yRCxudWxsKSxvLmRlbGV0ZVRleHR1cmUoYy5zb3VyY2VUZXh0dXJlKSxvLmRlbGV0ZVRleHR1cmUoYy50YXJnZXRUZXh0dXJlKSxvLmRlbGV0ZUZyYW1lYnVmZmVyKGwpLGEuc2V0VHJhbnNmb3JtKDEsMCwwLDEsMCwwKSxjfWRpc3Bvc2UoKXt0aGlzLmNhbnZhcyYmKHRoaXMuY2FudmFzPW51bGwsdGhpcy5nbD1udWxsKSx0aGlzLmNsZWFyV2ViR0xDYWNoZXMoKX1jbGVhcldlYkdMQ2FjaGVzKCl7dGhpcy5wcm9ncmFtQ2FjaGU9e30sdGhpcy50ZXh0dXJlQ2FjaGU9e319Y3JlYXRlVGV4dHVyZSh0LGUscyxpLHIpe2NvbnN0e05FQVJFU1Q6bixURVhUVVJFXzJEOm8sUkdCQTphLFVOU0lHTkVEX0JZVEU6aCxDTEFNUF9UT19FREdFOmMsVEVYVFVSRV9NQUdfRklMVEVSOmwsVEVYVFVSRV9NSU5fRklMVEVSOnUsVEVYVFVSRV9XUkFQX1M6ZCxURVhUVVJFX1dSQVBfVDpnfT10LGY9dC5jcmVhdGVUZXh0dXJlKCk7cmV0dXJuIHQuYmluZFRleHR1cmUobyxmKSx0LnRleFBhcmFtZXRlcmkobyxsLHJ8fG4pLHQudGV4UGFyYW1ldGVyaShvLHUscnx8biksdC50ZXhQYXJhbWV0ZXJpKG8sZCxjKSx0LnRleFBhcmFtZXRlcmkobyxnLGMpLGk/dC50ZXhJbWFnZTJEKG8sMCxhLGEsaCxpKTp0LnRleEltYWdlMkQobywwLGEsZSxzLDAsYSxoLG51bGwpLGZ9Z2V0Q2FjaGVkVGV4dHVyZSh0LGUscyl7Y29uc3R7dGV4dHVyZUNhY2hlOml9PXRoaXM7aWYoaVt0XSlyZXR1cm4gaVt0XTt7Y29uc3Qgcj10aGlzLmNyZWF0ZVRleHR1cmUodGhpcy5nbCxlLndpZHRoLGUuaGVpZ2h0LGUscyk7cmV0dXJuIHImJihpW3RdPXIpLHJ9fWV2aWN0Q2FjaGVzRm9yS2V5KHQpe3RoaXMudGV4dHVyZUNhY2hlW3RdJiYodGhpcy5nbC5kZWxldGVUZXh0dXJlKHRoaXMudGV4dHVyZUNhY2hlW3RdKSxkZWxldGUgdGhpcy50ZXh0dXJlQ2FjaGVbdF0pfWNvcHlHTFRvMkQodCxlKXtjb25zdCBzPXQuY2FudmFzLGk9ZS50YXJnZXRDYW52YXMscj1pLmdldENvbnRleHQoXCIyZFwiKTtpZighcilyZXR1cm47ci50cmFuc2xhdGUoMCxpLmhlaWdodCksci5zY2FsZSgxLC0xKTtjb25zdCBuPXMuaGVpZ2h0LWkuaGVpZ2h0O3IuZHJhd0ltYWdlKHMsMCxuLGkud2lkdGgsaS5oZWlnaHQsMCwwLGkud2lkdGgsaS5oZWlnaHQpfWNvcHlHTFRvMkRQdXRJbWFnZURhdGEodCxlKXtjb25zdCBzPWUudGFyZ2V0Q2FudmFzLmdldENvbnRleHQoXCIyZFwiKSxpPWUuZGVzdGluYXRpb25XaWR0aCxyPWUuZGVzdGluYXRpb25IZWlnaHQsbj1pKnIqNDtpZighcylyZXR1cm47Y29uc3Qgbz1uZXcgVWludDhBcnJheSh0aGlzLmltYWdlQnVmZmVyLDAsbiksYT1uZXcgVWludDhDbGFtcGVkQXJyYXkodGhpcy5pbWFnZUJ1ZmZlciwwLG4pO3QucmVhZFBpeGVscygwLDAsaSxyLHQuUkdCQSx0LlVOU0lHTkVEX0JZVEUsbyk7Y29uc3QgaD1uZXcgSW1hZ2VEYXRhKGEsaSxyKTtzLnB1dEltYWdlRGF0YShoLDAsMCl9Y2FwdHVyZUdQVUluZm8oKXtpZih0aGlzLmdwdUluZm8pcmV0dXJuIHRoaXMuZ3B1SW5mbztjb25zdCB0PXRoaXMuZ2wsZT17cmVuZGVyZXI6XCJcIix2ZW5kb3I6XCJcIn07aWYoIXQpcmV0dXJuIGU7Y29uc3Qgcz10LmdldEV4dGVuc2lvbihcIldFQkdMX2RlYnVnX3JlbmRlcmVyX2luZm9cIik7aWYocyl7Y29uc3QgaT10LmdldFBhcmFtZXRlcihzLlVOTUFTS0VEX1JFTkRFUkVSX1dFQkdMKSxyPXQuZ2V0UGFyYW1ldGVyKHMuVU5NQVNLRURfVkVORE9SX1dFQkdMKTtpJiYoZS5yZW5kZXJlcj1pLnRvTG93ZXJDYXNlKCkpLHImJihlLnZlbmRvcj1yLnRvTG93ZXJDYXNlKCkpfXJldHVybiB0aGlzLmdwdUluZm89ZSxlfX1sZXQgdGE7ZnVuY3Rpb24gZWEoKXtjb25zdHtXZWJHTFByb2JlOnR9PXAoKTtyZXR1cm4gdC5xdWVyeVdlYkdMKHB0KCkpLG8uZW5hYmxlR0xGaWx0ZXJpbmcmJnQuaXNTdXBwb3J0ZWQoby50ZXh0dXJlU2l6ZSk/bmV3ICRvKHt0aWxlU2l6ZTpvLnRleHR1cmVTaXplfSk6bmV3IFpvfWZ1bmN0aW9uIHNhKCl7cmV0dXJuIXRhJiYoIShhcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSl8fGFyZ3VtZW50c1swXSkmJih0YT1lYSgpKSx0YX1mdW5jdGlvbiBpYSh0KXt0YT10fWNvbnN0IHJhPVtcImZpbHRlcnNcIixcInJlc2l6ZUZpbHRlclwiLFwic3JjXCIsXCJjcm9zc09yaWdpblwiLFwidHlwZVwiXSxuYT1bXCJjcm9wWFwiLFwiY3JvcFlcIl07Y2xhc3Mgb2EgZXh0ZW5kcyBMaXtzdGF0aWMgZ2V0RGVmYXVsdHMoKXtyZXR1cm4gcyhzKHt9LHN1cGVyLmdldERlZmF1bHRzKCkpLG9hLm93bkRlZmF1bHRzKX1jb25zdHJ1Y3RvcihlLHMpe3N1cGVyKCksdCh0aGlzLFwiX2xhc3RTY2FsZVhcIiwxKSx0KHRoaXMsXCJfbGFzdFNjYWxlWVwiLDEpLHQodGhpcyxcIl9maWx0ZXJTY2FsaW5nWFwiLDEpLHQodGhpcyxcIl9maWx0ZXJTY2FsaW5nWVwiLDEpLHRoaXMuZmlsdGVycz1bXSxPYmplY3QuYXNzaWduKHRoaXMsb2Eub3duRGVmYXVsdHMpLHRoaXMuc2V0T3B0aW9ucyhzKSx0aGlzLmNhY2hlS2V5PVwidGV4dHVyZVwiLmNvbmNhdChmdCgpKSx0aGlzLnNldEVsZW1lbnQoXCJzdHJpbmdcIj09dHlwZW9mIGU/KHRoaXMuY2FudmFzJiZLdCh0aGlzLmNhbnZhcy5nZXRFbGVtZW50KCkpfHxtKCkpLmdldEVsZW1lbnRCeUlkKGUpOmUscyl9Z2V0RWxlbWVudCgpe3JldHVybiB0aGlzLl9lbGVtZW50fXNldEVsZW1lbnQodCl7dmFyIGU7bGV0IHM9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3RoaXMucmVtb3ZlVGV4dHVyZSh0aGlzLmNhY2hlS2V5KSx0aGlzLnJlbW92ZVRleHR1cmUoXCJcIi5jb25jYXQodGhpcy5jYWNoZUtleSxcIl9maWx0ZXJlZFwiKSksdGhpcy5fZWxlbWVudD10LHRoaXMuX29yaWdpbmFsRWxlbWVudD10LHRoaXMuX3NldFdpZHRoSGVpZ2h0KHMpLG51bGw9PT0oZT10LmNsYXNzTGlzdCl8fHZvaWQgMD09PWV8fGUuYWRkKG9hLkNTU19DQU5WQVMpLDAhPT10aGlzLmZpbHRlcnMubGVuZ3RoJiZ0aGlzLmFwcGx5RmlsdGVycygpLHRoaXMucmVzaXplRmlsdGVyJiZ0aGlzLmFwcGx5UmVzaXplRmlsdGVycygpfXJlbW92ZVRleHR1cmUodCl7Y29uc3QgZT1zYSghMSk7ZSBpbnN0YW5jZW9mICRvJiZlLmV2aWN0Q2FjaGVzRm9yS2V5KHQpfWRpc3Bvc2UoKXtzdXBlci5kaXNwb3NlKCksdGhpcy5yZW1vdmVUZXh0dXJlKHRoaXMuY2FjaGVLZXkpLHRoaXMucmVtb3ZlVGV4dHVyZShcIlwiLmNvbmNhdCh0aGlzLmNhY2hlS2V5LFwiX2ZpbHRlcmVkXCIpKSx0aGlzLl9jYWNoZUNvbnRleHQ9bnVsbCxbXCJfb3JpZ2luYWxFbGVtZW50XCIsXCJfZWxlbWVudFwiLFwiX2ZpbHRlcmVkRWxcIixcIl9jYWNoZUNhbnZhc1wiXS5mb3JFYWNoKCh0PT57Y29uc3QgZT10aGlzW3RdO2UmJnAoKS5kaXNwb3NlKGUpLHRoaXNbdF09dm9pZCAwfSkpfWdldENyb3NzT3JpZ2luKCl7cmV0dXJuIHRoaXMuX29yaWdpbmFsRWxlbWVudCYmKHRoaXMuX29yaWdpbmFsRWxlbWVudC5jcm9zc09yaWdpbnx8bnVsbCl9Z2V0T3JpZ2luYWxTaXplKCl7Y29uc3QgdD10aGlzLmdldEVsZW1lbnQoKTtyZXR1cm4gdD97d2lkdGg6dC5uYXR1cmFsV2lkdGh8fHQud2lkdGgsaGVpZ2h0OnQubmF0dXJhbEhlaWdodHx8dC5oZWlnaHR9Ont3aWR0aDowLGhlaWdodDowfX1fc3Ryb2tlKHQpe2lmKCF0aGlzLnN0cm9rZXx8MD09PXRoaXMuc3Ryb2tlV2lkdGgpcmV0dXJuO2NvbnN0IGU9dGhpcy53aWR0aC8yLHM9dGhpcy5oZWlnaHQvMjt0LmJlZ2luUGF0aCgpLHQubW92ZVRvKC1lLC1zKSx0LmxpbmVUbyhlLC1zKSx0LmxpbmVUbyhlLHMpLHQubGluZVRvKC1lLHMpLHQubGluZVRvKC1lLC1zKSx0LmNsb3NlUGF0aCgpfXRvT2JqZWN0KCl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOltdO2NvbnN0IGU9W107cmV0dXJuIHRoaXMuZmlsdGVycy5mb3JFYWNoKCh0PT57dCYmZS5wdXNoKHQudG9PYmplY3QoKSl9KSkscyhzKHt9LHN1cGVyLnRvT2JqZWN0KFsuLi5uYSwuLi50XSkpLHt9LHtzcmM6dGhpcy5nZXRTcmMoKSxjcm9zc09yaWdpbjp0aGlzLmdldENyb3NzT3JpZ2luKCksZmlsdGVyczplfSx0aGlzLnJlc2l6ZUZpbHRlcj97cmVzaXplRmlsdGVyOnRoaXMucmVzaXplRmlsdGVyLnRvT2JqZWN0KCl9Ont9KX1oYXNDcm9wKCl7cmV0dXJuISF0aGlzLmNyb3BYfHwhIXRoaXMuY3JvcFl8fHRoaXMud2lkdGg8dGhpcy5fZWxlbWVudC53aWR0aHx8dGhpcy5oZWlnaHQ8dGhpcy5fZWxlbWVudC5oZWlnaHR9X3RvU1ZHKCl7Y29uc3QgdD1bXSxlPXRoaXMuX2VsZW1lbnQscz0tdGhpcy53aWR0aC8yLGk9LXRoaXMuaGVpZ2h0LzI7bGV0IHI9W10sbj1bXSxvPVwiXCIsYT1cIlwiO2lmKCFlKXJldHVybltdO2lmKHRoaXMuaGFzQ3JvcCgpKXtjb25zdCB0PWZ0KCk7ci5wdXNoKCc8Y2xpcFBhdGggaWQ9XCJpbWFnZUNyb3BfJyt0KydcIj5cXG4nLCdcXHQ8cmVjdCB4PVwiJytzKydcIiB5PVwiJytpKydcIiB3aWR0aD1cIicrdGhpcy53aWR0aCsnXCIgaGVpZ2h0PVwiJyt0aGlzLmhlaWdodCsnXCIgLz5cXG4nLFwiPC9jbGlwUGF0aD5cXG5cIiksbz0nIGNsaXAtcGF0aD1cInVybCgjaW1hZ2VDcm9wXycrdCsnKVwiICd9aWYodGhpcy5pbWFnZVNtb290aGluZ3x8KGE9JyBpbWFnZS1yZW5kZXJpbmc9XCJvcHRpbWl6ZVNwZWVkXCInKSx0LnB1c2goXCJcXHQ8aW1hZ2UgXCIsXCJDT01NT05fUEFSVFNcIiwneGxpbms6aHJlZj1cIicuY29uY2F0KHRoaXMuZ2V0U3ZnU3JjKCEwKSwnXCIgeD1cIicpLmNvbmNhdChzLXRoaXMuY3JvcFgsJ1wiIHk9XCInKS5jb25jYXQoaS10aGlzLmNyb3BZLCdcIiB3aWR0aD1cIicpLmNvbmNhdChlLndpZHRofHxlLm5hdHVyYWxXaWR0aCwnXCIgaGVpZ2h0PVwiJykuY29uY2F0KGUuaGVpZ2h0fHxlLm5hdHVyYWxIZWlnaHQsJ1wiJykuY29uY2F0KGEpLmNvbmNhdChvLFwiPjwvaW1hZ2U+XFxuXCIpKSx0aGlzLnN0cm9rZXx8dGhpcy5zdHJva2VEYXNoQXJyYXkpe2NvbnN0IHQ9dGhpcy5maWxsO3RoaXMuZmlsbD1udWxsLG49WydcXHQ8cmVjdCB4PVwiJy5jb25jYXQocywnXCIgeT1cIicpLmNvbmNhdChpLCdcIiB3aWR0aD1cIicpLmNvbmNhdCh0aGlzLndpZHRoLCdcIiBoZWlnaHQ9XCInKS5jb25jYXQodGhpcy5oZWlnaHQsJ1wiIHN0eWxlPVwiJykuY29uY2F0KHRoaXMuZ2V0U3ZnU3R5bGVzKCksJ1wiIC8+XFxuJyldLHRoaXMuZmlsbD10fXJldHVybiByPXRoaXMucGFpbnRGaXJzdCE9PUs/ci5jb25jYXQobix0KTpyLmNvbmNhdCh0LG4pLHJ9Z2V0U3JjKHQpe2NvbnN0IGU9dD90aGlzLl9lbGVtZW50OnRoaXMuX29yaWdpbmFsRWxlbWVudDtyZXR1cm4gZT9lLnRvRGF0YVVSTD9lLnRvRGF0YVVSTCgpOnRoaXMuc3JjRnJvbUF0dHJpYnV0ZT9lLmdldEF0dHJpYnV0ZShcInNyY1wiKXx8XCJcIjplLnNyYzp0aGlzLnNyY3x8XCJcIn1nZXRTdmdTcmModCl7cmV0dXJuIHRoaXMuZ2V0U3JjKHQpfXNldFNyYyh0KXtsZXR7Y3Jvc3NPcmlnaW46ZSxzaWduYWw6c309YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3JldHVybiBJdCh0LHtjcm9zc09yaWdpbjplLHNpZ25hbDpzfSkudGhlbigodD0+e3ZvaWQgMCE9PWUmJnRoaXMuc2V0KHtjcm9zc09yaWdpbjplfSksdGhpcy5zZXRFbGVtZW50KHQpfSkpfXRvU3RyaW5nKCl7cmV0dXJuJyM8SW1hZ2U6IHsgc3JjOiBcIicuY29uY2F0KHRoaXMuZ2V0U3JjKCksJ1wiIH0+Jyl9YXBwbHlSZXNpemVGaWx0ZXJzKCl7Y29uc3QgdD10aGlzLnJlc2l6ZUZpbHRlcixlPXRoaXMubWluaW11bVNjYWxlVHJpZ2dlcixzPXRoaXMuZ2V0VG90YWxPYmplY3RTY2FsaW5nKCksaT1zLngscj1zLnksbj10aGlzLl9maWx0ZXJlZEVsfHx0aGlzLl9vcmlnaW5hbEVsZW1lbnQ7aWYodGhpcy5ncm91cCYmdGhpcy5zZXQoXCJkaXJ0eVwiLCEwKSwhdHx8aT5lJiZyPmUpcmV0dXJuIHRoaXMuX2VsZW1lbnQ9bix0aGlzLl9maWx0ZXJTY2FsaW5nWD0xLHRoaXMuX2ZpbHRlclNjYWxpbmdZPTEsdGhpcy5fbGFzdFNjYWxlWD1pLHZvaWQodGhpcy5fbGFzdFNjYWxlWT1yKTtjb25zdCBvPXZ0KG4pLHt3aWR0aDphLGhlaWdodDpofT1uO3RoaXMuX2VsZW1lbnQ9byx0aGlzLl9sYXN0U2NhbGVYPXQuc2NhbGVYPWksdGhpcy5fbGFzdFNjYWxlWT10LnNjYWxlWT1yLHNhKCkuYXBwbHlGaWx0ZXJzKFt0XSxuLGEsaCx0aGlzLl9lbGVtZW50KSx0aGlzLl9maWx0ZXJTY2FsaW5nWD1vLndpZHRoL3RoaXMuX29yaWdpbmFsRWxlbWVudC53aWR0aCx0aGlzLl9maWx0ZXJTY2FsaW5nWT1vLmhlaWdodC90aGlzLl9vcmlnaW5hbEVsZW1lbnQuaGVpZ2h0fWFwcGx5RmlsdGVycygpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp0aGlzLmZpbHRlcnN8fFtdO2lmKHQ9dC5maWx0ZXIoKHQ9PnQmJiF0LmlzTmV1dHJhbFN0YXRlKCkpKSx0aGlzLnNldChcImRpcnR5XCIsITApLHRoaXMucmVtb3ZlVGV4dHVyZShcIlwiLmNvbmNhdCh0aGlzLmNhY2hlS2V5LFwiX2ZpbHRlcmVkXCIpKSwwPT09dC5sZW5ndGgpcmV0dXJuIHRoaXMuX2VsZW1lbnQ9dGhpcy5fb3JpZ2luYWxFbGVtZW50LHRoaXMuX2ZpbHRlcmVkRWw9dm9pZCAwLHRoaXMuX2ZpbHRlclNjYWxpbmdYPTEsdm9pZCh0aGlzLl9maWx0ZXJTY2FsaW5nWT0xKTtjb25zdCBlPXRoaXMuX29yaWdpbmFsRWxlbWVudCxzPWUubmF0dXJhbFdpZHRofHxlLndpZHRoLGk9ZS5uYXR1cmFsSGVpZ2h0fHxlLmhlaWdodDtpZih0aGlzLl9lbGVtZW50PT09dGhpcy5fb3JpZ2luYWxFbGVtZW50KXtjb25zdCB0PXZ0KHt3aWR0aDpzLGhlaWdodDppfSk7dGhpcy5fZWxlbWVudD10LHRoaXMuX2ZpbHRlcmVkRWw9dH1lbHNlIHRoaXMuX2ZpbHRlcmVkRWwmJih0aGlzLl9lbGVtZW50PXRoaXMuX2ZpbHRlcmVkRWwsdGhpcy5fZmlsdGVyZWRFbC5nZXRDb250ZXh0KFwiMmRcIikuY2xlYXJSZWN0KDAsMCxzLGkpLHRoaXMuX2xhc3RTY2FsZVg9MSx0aGlzLl9sYXN0U2NhbGVZPTEpO3NhKCkuYXBwbHlGaWx0ZXJzKHQsdGhpcy5fb3JpZ2luYWxFbGVtZW50LHMsaSx0aGlzLl9lbGVtZW50LHRoaXMuY2FjaGVLZXkpLHRoaXMuX29yaWdpbmFsRWxlbWVudC53aWR0aD09PXRoaXMuX2VsZW1lbnQud2lkdGgmJnRoaXMuX29yaWdpbmFsRWxlbWVudC5oZWlnaHQ9PT10aGlzLl9lbGVtZW50LmhlaWdodHx8KHRoaXMuX2ZpbHRlclNjYWxpbmdYPXRoaXMuX2VsZW1lbnQud2lkdGgvdGhpcy5fb3JpZ2luYWxFbGVtZW50LndpZHRoLHRoaXMuX2ZpbHRlclNjYWxpbmdZPXRoaXMuX2VsZW1lbnQuaGVpZ2h0L3RoaXMuX29yaWdpbmFsRWxlbWVudC5oZWlnaHQpfV9yZW5kZXIodCl7dC5pbWFnZVNtb290aGluZ0VuYWJsZWQ9dGhpcy5pbWFnZVNtb290aGluZywhMCE9PXRoaXMuaXNNb3ZpbmcmJnRoaXMucmVzaXplRmlsdGVyJiZ0aGlzLl9uZWVkc1Jlc2l6ZSgpJiZ0aGlzLmFwcGx5UmVzaXplRmlsdGVycygpLHRoaXMuX3N0cm9rZSh0KSx0aGlzLl9yZW5kZXJQYWludEluT3JkZXIodCl9ZHJhd0NhY2hlT25DYW52YXModCl7dC5pbWFnZVNtb290aGluZ0VuYWJsZWQ9dGhpcy5pbWFnZVNtb290aGluZyxzdXBlci5kcmF3Q2FjaGVPbkNhbnZhcyh0KX1zaG91bGRDYWNoZSgpe3JldHVybiB0aGlzLm5lZWRzSXRzT3duQ2FjaGUoKX1fcmVuZGVyRmlsbCh0KXtjb25zdCBlPXRoaXMuX2VsZW1lbnQ7aWYoIWUpcmV0dXJuO2NvbnN0IHM9dGhpcy5fZmlsdGVyU2NhbGluZ1gsaT10aGlzLl9maWx0ZXJTY2FsaW5nWSxyPXRoaXMud2lkdGgsbj10aGlzLmhlaWdodCxvPU1hdGgubWF4KHRoaXMuY3JvcFgsMCksYT1NYXRoLm1heCh0aGlzLmNyb3BZLDApLGg9ZS5uYXR1cmFsV2lkdGh8fGUud2lkdGgsYz1lLm5hdHVyYWxIZWlnaHR8fGUuaGVpZ2h0LGw9bypzLHU9YSppLGQ9TWF0aC5taW4ocipzLGgtbCksZz1NYXRoLm1pbihuKmksYy11KSxmPS1yLzIscD0tbi8yLG09TWF0aC5taW4ocixoL3Mtbyksdj1NYXRoLm1pbihuLGMvaS1hKTtlJiZ0LmRyYXdJbWFnZShlLGwsdSxkLGcsZixwLG0sdil9X25lZWRzUmVzaXplKCl7Y29uc3QgdD10aGlzLmdldFRvdGFsT2JqZWN0U2NhbGluZygpO3JldHVybiB0LnghPT10aGlzLl9sYXN0U2NhbGVYfHx0LnkhPT10aGlzLl9sYXN0U2NhbGVZfV9yZXNldFdpZHRoSGVpZ2h0KCl7dGhpcy5zZXQodGhpcy5nZXRPcmlnaW5hbFNpemUoKSl9X3NldFdpZHRoSGVpZ2h0KCl7bGV0e3dpZHRoOnQsaGVpZ2h0OmV9PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtjb25zdCBzPXRoaXMuZ2V0T3JpZ2luYWxTaXplKCk7dGhpcy53aWR0aD10fHxzLndpZHRoLHRoaXMuaGVpZ2h0PWV8fHMuaGVpZ2h0fXBhcnNlUHJlc2VydmVBc3BlY3RSYXRpb0F0dHJpYnV0ZSgpe2NvbnN0IHQ9WGUodGhpcy5wcmVzZXJ2ZUFzcGVjdFJhdGlvfHxcIlwiKSxlPXRoaXMud2lkdGgscz10aGlzLmhlaWdodCxpPXt3aWR0aDplLGhlaWdodDpzfTtsZXQgcixuPXRoaXMuX2VsZW1lbnQud2lkdGgsbz10aGlzLl9lbGVtZW50LmhlaWdodCxhPTEsaD0xLGM9MCxsPTAsdT0wLGQ9MDtyZXR1cm4hdHx8dC5hbGlnblg9PT1qJiZ0LmFsaWduWT09PWo/KGE9ZS9uLGg9cy9vKTooXCJtZWV0XCI9PT10Lm1lZXRPclNsaWNlJiYoYT1oPXFyKHRoaXMuX2VsZW1lbnQsaSkscj0oZS1uKmEpLzIsXCJNaW5cIj09PXQuYWxpZ25YJiYoYz0tciksXCJNYXhcIj09PXQuYWxpZ25YJiYoYz1yKSxyPShzLW8qaCkvMixcIk1pblwiPT09dC5hbGlnblkmJihsPS1yKSxcIk1heFwiPT09dC5hbGlnblkmJihsPXIpKSxcInNsaWNlXCI9PT10Lm1lZXRPclNsaWNlJiYoYT1oPUtyKHRoaXMuX2VsZW1lbnQsaSkscj1uLWUvYSxcIk1pZFwiPT09dC5hbGlnblgmJih1PXIvMiksXCJNYXhcIj09PXQuYWxpZ25YJiYodT1yKSxyPW8tcy9oLFwiTWlkXCI9PT10LmFsaWduWSYmKGQ9ci8yKSxcIk1heFwiPT09dC5hbGlnblkmJihkPXIpLG49ZS9hLG89cy9oKSkse3dpZHRoOm4saGVpZ2h0Om8sc2NhbGVYOmEsc2NhbGVZOmgsb2Zmc2V0TGVmdDpjLG9mZnNldFRvcDpsLGNyb3BYOnUsY3JvcFk6ZH19c3RhdGljIGZyb21PYmplY3QodCxlKXtsZXR7ZmlsdGVyczpyLHJlc2l6ZUZpbHRlcjpuLHNyYzpvLGNyb3NzT3JpZ2luOmEsdHlwZTpofT10LGM9aSh0LHJhKTtyZXR1cm4gUHJvbWlzZS5hbGwoW0l0KG8scyhzKHt9LGUpLHt9LHtjcm9zc09yaWdpbjphfSkpLHImJkJ0KHIsZSksbiYmQnQoW25dLGUpLFh0KGMsZSldKS50aGVuKCh0PT57bGV0W2UsaT1bXSxbcl09W10sbj17fV09dDtyZXR1cm4gbmV3IHRoaXMoZSxzKHMoe30sYykse30se3NyYzpvLGZpbHRlcnM6aSxyZXNpemVGaWx0ZXI6cn0sbikpfSkpfXN0YXRpYyBmcm9tVVJMKHQpe2xldHtjcm9zc09yaWdpbjplPW51bGwsc2lnbmFsOnN9PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxpPWFyZ3VtZW50cy5sZW5ndGg+Mj9hcmd1bWVudHNbMl06dm9pZCAwO3JldHVybiBJdCh0LHtjcm9zc09yaWdpbjplLHNpZ25hbDpzfSkudGhlbigodD0+bmV3IHRoaXModCxpKSkpfXN0YXRpYyBhc3luYyBmcm9tRWxlbWVudCh0KXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30scz1hcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMDtjb25zdCBpPVByKHQsdGhpcy5BVFRSSUJVVEVfTkFNRVMscyk7cmV0dXJuIHRoaXMuZnJvbVVSTChpW1wieGxpbms6aHJlZlwiXXx8aS5ocmVmLGUsaSkuY2F0Y2goKHQ9PihhKFwibG9nXCIsXCJVbmFibGUgdG8gcGFyc2UgSW1hZ2VcIix0KSxudWxsKSkpfX1mdW5jdGlvbiBhYSh0KXtpZighdXMudGVzdCh0Lm5vZGVOYW1lKSlyZXR1cm57fTtjb25zdCBlPXQuZ2V0QXR0cmlidXRlKFwidmlld0JveFwiKTtsZXQgcyxpLHI9MSxuPTEsbz0wLGE9MDtjb25zdCBoPXQuZ2V0QXR0cmlidXRlKFwid2lkdGhcIiksYz10LmdldEF0dHJpYnV0ZShcImhlaWdodFwiKSxsPXQuZ2V0QXR0cmlidXRlKFwieFwiKXx8MCx1PXQuZ2V0QXR0cmlidXRlKFwieVwiKXx8MCxkPSEoZSYmZ3MudGVzdChlKSksZz0haHx8IWN8fFwiMTAwJVwiPT09aHx8XCIxMDAlXCI9PT1jO2xldCBmPVwiXCIscD0wLG09MDtpZihkJiYobHx8dSkmJnQucGFyZW50Tm9kZSYmXCIjZG9jdW1lbnRcIiE9PXQucGFyZW50Tm9kZS5ub2RlTmFtZSYmKGY9XCIgdHJhbnNsYXRlKFwiK0JlKGx8fFwiMFwiKStcIiBcIitCZSh1fHxcIjBcIikrXCIpIFwiLHM9KHQuZ2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIpfHxcIlwiKStmLHQuc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIscyksdC5yZW1vdmVBdHRyaWJ1dGUoXCJ4XCIpLHQucmVtb3ZlQXR0cmlidXRlKFwieVwiKSksZCYmZylyZXR1cm57d2lkdGg6MCxoZWlnaHQ6MH07Y29uc3Qgdj17d2lkdGg6MCxoZWlnaHQ6MH07aWYoZClyZXR1cm4gdi53aWR0aD1CZShoKSx2LmhlaWdodD1CZShjKSx2O2NvbnN0IHk9ZS5tYXRjaChncyk7bz0tcGFyc2VGbG9hdCh5WzFdKSxhPS1wYXJzZUZsb2F0KHlbMl0pO2NvbnN0IF89cGFyc2VGbG9hdCh5WzNdKSx4PXBhcnNlRmxvYXQoeVs0XSk7di5taW5YPW8sdi5taW5ZPWEsdi52aWV3Qm94V2lkdGg9Xyx2LnZpZXdCb3hIZWlnaHQ9eCxnPyh2LndpZHRoPV8sdi5oZWlnaHQ9eCk6KHYud2lkdGg9QmUoaCksdi5oZWlnaHQ9QmUoYykscj12LndpZHRoL18sbj12LmhlaWdodC94KTtjb25zdCBDPVhlKHQuZ2V0QXR0cmlidXRlKFwicHJlc2VydmVBc3BlY3RSYXRpb1wiKXx8XCJcIik7aWYoQy5hbGlnblghPT1qJiYoXCJtZWV0XCI9PT1DLm1lZXRPclNsaWNlJiYobj1yPXI+bj9uOnIpLFwic2xpY2VcIj09PUMubWVldE9yU2xpY2UmJihuPXI9cj5uP3I6bikscD12LndpZHRoLV8qcixtPXYuaGVpZ2h0LXgqcixcIk1pZFwiPT09Qy5hbGlnblgmJihwLz0yKSxcIk1pZFwiPT09Qy5hbGlnblkmJihtLz0yKSxcIk1pblwiPT09Qy5hbGlnblgmJihwPTApLFwiTWluXCI9PT1DLmFsaWduWSYmKG09MCkpLDE9PT1yJiYxPT09biYmMD09PW8mJjA9PT1hJiYwPT09bCYmMD09PXUpcmV0dXJuIHY7aWYoKGx8fHUpJiZcIiNkb2N1bWVudFwiIT09dC5wYXJlbnROb2RlLm5vZGVOYW1lJiYoZj1cIiB0cmFuc2xhdGUoXCIrQmUobHx8XCIwXCIpK1wiIFwiK0JlKHV8fFwiMFwiKStcIikgXCIpLHM9ZitcIiBtYXRyaXgoXCIrcitcIiAwIDAgXCIrbitcIiBcIisobypyK3ApK1wiIFwiKyhhKm4rbSkrXCIpIFwiLFwic3ZnXCI9PT10Lm5vZGVOYW1lKXtmb3IoaT10Lm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG5zLFwiZ1wiKTt0LmZpcnN0Q2hpbGQ7KWkuYXBwZW5kQ2hpbGQodC5maXJzdENoaWxkKTt0LmFwcGVuZENoaWxkKGkpfWVsc2UgaT10LGkucmVtb3ZlQXR0cmlidXRlKFwieFwiKSxpLnJlbW92ZUF0dHJpYnV0ZShcInlcIikscz1pLmdldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiKStzO3JldHVybiBpLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLHMpLHZ9dChvYSxcInR5cGVcIixcIkltYWdlXCIpLHQob2EsXCJjYWNoZVByb3BlcnRpZXNcIixbLi4uRXMsLi4ubmFdKSx0KG9hLFwib3duRGVmYXVsdHNcIix7c3Ryb2tlV2lkdGg6MCxzcmNGcm9tQXR0cmlidXRlOiExLG1pbmltdW1TY2FsZVRyaWdnZXI6LjUsY3JvcFg6MCxjcm9wWTowLGltYWdlU21vb3RoaW5nOiEwfSksdChvYSxcIkNTU19DQU5WQVNcIixcImNhbnZhcy1pbWdcIiksdChvYSxcIkFUVFJJQlVURV9OQU1FU1wiLFsuLi5aaSxcInhcIixcInlcIixcIndpZHRoXCIsXCJoZWlnaHRcIixcInByZXNlcnZlQXNwZWN0UmF0aW9cIixcInhsaW5rOmhyZWZcIixcImhyZWZcIixcImNyb3NzT3JpZ2luXCIsXCJpbWFnZS1yZW5kZXJpbmdcIl0pLHR0LnNldENsYXNzKG9hKSx0dC5zZXRTVkdDbGFzcyhvYSk7Y29uc3QgaGE9dD0+dC50YWdOYW1lLnJlcGxhY2UoXCJzdmc6XCIsXCJcIiksY2E9VmUoW1wicGF0dGVyblwiLFwiZGVmc1wiLFwic3ltYm9sXCIsXCJtZXRhZGF0YVwiLFwiY2xpcFBhdGhcIixcIm1hc2tcIixcImRlc2NcIl0pO2Z1bmN0aW9uIGxhKHQsZSl7bGV0IHMsaSxyLG4sbz1bXTtmb3Iocj0wLG49ZS5sZW5ndGg7cjxuO3IrKylzPWVbcl0saT10LmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLHMpLG89by5jb25jYXQoQXJyYXkuZnJvbShpKSk7cmV0dXJuIG99Y29uc3QgdWE9W1wiZ3JhZGllbnRUcmFuc2Zvcm1cIixcIngxXCIsXCJ4MlwiLFwieTFcIixcInkyXCIsXCJncmFkaWVudFVuaXRzXCIsXCJjeFwiLFwiY3lcIixcInJcIixcImZ4XCIsXCJmeVwiXSxkYT1cInhsaW5rOmhyZWZcIjtmdW5jdGlvbiBnYSh0LGUpe3ZhciBzO2NvbnN0IGk9KG51bGw9PT0ocz1lLmdldEF0dHJpYnV0ZShkYSkpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLnNsaWNlKDEpKXx8XCJcIixyPXQuZ2V0RWxlbWVudEJ5SWQoaSk7aWYociYmci5nZXRBdHRyaWJ1dGUoZGEpJiZnYSh0LHIpLHImJih1YS5mb3JFYWNoKCh0PT57Y29uc3Qgcz1yLmdldEF0dHJpYnV0ZSh0KTshZS5oYXNBdHRyaWJ1dGUodCkmJnMmJmUuc2V0QXR0cmlidXRlKHQscyl9KSksIWUuY2hpbGRyZW4ubGVuZ3RoKSl7Y29uc3QgdD1yLmNsb25lTm9kZSghMCk7Zm9yKDt0LmZpcnN0Q2hpbGQ7KWUuYXBwZW5kQ2hpbGQodC5maXJzdENoaWxkKX1lLnJlbW92ZUF0dHJpYnV0ZShkYSl9Y29uc3QgZmE9W1wibGluZWFyR3JhZGllbnRcIixcInJhZGlhbEdyYWRpZW50XCIsXCJzdmc6bGluZWFyR3JhZGllbnRcIixcInN2ZzpyYWRpYWxHcmFkaWVudFwiXTtmdW5jdGlvbiBwYSh0KXtjb25zdCBlPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzdHlsZVwiKSxpPXt9O2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKXtjb25zdCByPShlW3RdLnRleHRDb250ZW50fHxcIlwiKS5yZXBsYWNlKC9cXC9cXCpbXFxzXFxTXSo/XFwqXFwvL2csXCJcIik7XCJcIiE9PXIudHJpbSgpJiZyLnNwbGl0KFwifVwiKS5maWx0ZXIoKCh0LGUscyk9PnMubGVuZ3RoPjEmJnQudHJpbSgpKSkuZm9yRWFjaCgodD0+e2lmKCh0Lm1hdGNoKC97L2cpfHxbXSkubGVuZ3RoPjEmJnQudHJpbSgpLnN0YXJ0c1dpdGgoXCJAXCIpKXJldHVybjtjb25zdCBlPXQuc3BsaXQoXCJ7XCIpLHI9e30sbj1lWzFdLnRyaW0oKS5zcGxpdChcIjtcIikuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC50cmltKCl9KSk7Zm9yKGxldCB0PTA7dDxuLmxlbmd0aDt0Kyspe2NvbnN0IGU9blt0XS5zcGxpdChcIjpcIikscz1lWzBdLnRyaW0oKSxpPWVbMV0udHJpbSgpO3Jbc109aX0odD1lWzBdLnRyaW0oKSkuc3BsaXQoXCIsXCIpLmZvckVhY2goKHQ9PntcIlwiIT09KHQ9dC5yZXBsYWNlKC9ec3ZnL2ksXCJcIikudHJpbSgpKSYmKGlbdF09cyhzKHt9LGlbdF18fHt9KSxyKSl9KSl9KSl9cmV0dXJuIGl9Y29uc3QgbWE9dD0+dHQuZ2V0U1ZHQ2xhc3MoaGEodCkudG9Mb3dlckNhc2UoKSk7Y2xhc3MgdmF7Y29uc3RydWN0b3IodCxlLHMsaSxyKXt0aGlzLmVsZW1lbnRzPXQsdGhpcy5vcHRpb25zPWUsdGhpcy5yZXZpdmVyPXMsdGhpcy5yZWdleFVybD0vXnVybFxcKFsnXCJdPyMoW14nXCJdKylbJ1wiXT9cXCkvZyx0aGlzLmRvYz1pLHRoaXMuY2xpcFBhdGhzPXIsdGhpcy5ncmFkaWVudERlZnM9ZnVuY3Rpb24odCl7Y29uc3QgZT1sYSh0LGZhKSxzPXt9O2xldCBpPWUubGVuZ3RoO2Zvcig7aS0tOyl7Y29uc3Qgcj1lW2ldO3IuZ2V0QXR0cmlidXRlKFwieGxpbms6aHJlZlwiKSYmZ2EodCxyKTtjb25zdCBuPXIuZ2V0QXR0cmlidXRlKFwiaWRcIik7biYmKHNbbl09cil9cmV0dXJuIHN9KGkpLHRoaXMuY3NzUnVsZXM9cGEoaSl9cGFyc2UoKXtyZXR1cm4gUHJvbWlzZS5hbGwodGhpcy5lbGVtZW50cy5tYXAoKHQ9PnRoaXMuY3JlYXRlT2JqZWN0KHQpKSkpfWFzeW5jIGNyZWF0ZU9iamVjdCh0KXtjb25zdCBlPW1hKHQpO2lmKGUpe2NvbnN0IHM9YXdhaXQgZS5mcm9tRWxlbWVudCh0LHRoaXMub3B0aW9ucyx0aGlzLmNzc1J1bGVzKTtyZXR1cm4gdGhpcy5yZXNvbHZlR3JhZGllbnQocyx0LEspLHRoaXMucmVzb2x2ZUdyYWRpZW50KHMsdCxKKSxzIGluc3RhbmNlb2Ygb2EmJnMuX29yaWdpbmFsRWxlbWVudD9EbihzLHMucGFyc2VQcmVzZXJ2ZUFzcGVjdFJhdGlvQXR0cmlidXRlKCkpOkRuKHMpLGF3YWl0IHRoaXMucmVzb2x2ZUNsaXBQYXRoKHMsdCksdGhpcy5yZXZpdmVyJiZ0aGlzLnJldml2ZXIodCxzKSxzfXJldHVybiBudWxsfWV4dHJhY3RQcm9wZXJ0eURlZmluaXRpb24odCxlLHMpe2NvbnN0IGk9dFtlXSxyPXRoaXMucmVnZXhVcmw7aWYoIXIudGVzdChpKSlyZXR1cm47ci5sYXN0SW5kZXg9MDtjb25zdCBuPXIuZXhlYyhpKVsxXTtyZXR1cm4gci5sYXN0SW5kZXg9MCxzW25dfXJlc29sdmVHcmFkaWVudCh0LGUsaSl7Y29uc3Qgcj10aGlzLmV4dHJhY3RQcm9wZXJ0eURlZmluaXRpb24odCxpLHRoaXMuZ3JhZGllbnREZWZzKTtpZihyKXtjb25zdCBuPWUuZ2V0QXR0cmlidXRlKGkrXCItb3BhY2l0eVwiKSxvPSRuLmZyb21FbGVtZW50KHIsdCxzKHMoe30sdGhpcy5vcHRpb25zKSx7fSx7b3BhY2l0eTpufSkpO3Quc2V0KGksbyl9fWFzeW5jIHJlc29sdmVDbGlwUGF0aCh0LGUscyl7Y29uc3QgaT10aGlzLmV4dHJhY3RQcm9wZXJ0eURlZmluaXRpb24odCxcImNsaXBQYXRoXCIsdGhpcy5jbGlwUGF0aHMpO2lmKGkpe2NvbnN0IHI9d3QodC5jYWxjVHJhbnNmb3JtTWF0cml4KCkpLG49aVswXS5wYXJlbnRFbGVtZW50O2xldCBvPWU7Zm9yKDshcyYmby5wYXJlbnRFbGVtZW50JiZvLmdldEF0dHJpYnV0ZShcImNsaXAtcGF0aFwiKSE9PXQuY2xpcFBhdGg7KW89by5wYXJlbnRFbGVtZW50O28ucGFyZW50RWxlbWVudC5hcHBlbmRDaGlsZChuKTtjb25zdCBhPXdyKFwiXCIuY29uY2F0KG8uZ2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIpfHxcIlwiLFwiIFwiKS5jb25jYXQobi5nZXRBdHRyaWJ1dGUoXCJvcmlnaW5hbFRyYW5zZm9ybVwiKXx8XCJcIikpO24uc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsXCJtYXRyaXgoXCIuY29uY2F0KGEuam9pbihcIixcIiksXCIpXCIpKTtjb25zdCBoPWF3YWl0IFByb21pc2UuYWxsKGkubWFwKCh0PT5tYSh0KS5mcm9tRWxlbWVudCh0LHRoaXMub3B0aW9ucyx0aGlzLmNzc1J1bGVzKS50aGVuKCh0PT4oRG4odCksdC5maWxsUnVsZT10LmNsaXBSdWxlLGRlbGV0ZSB0LmNsaXBSdWxlLHQpKSkpKSksYz0xPT09aC5sZW5ndGg/aFswXTpuZXcgVXIoaCksbD1UdChyLGMuY2FsY1RyYW5zZm9ybU1hdHJpeCgpKTtjLmNsaXBQYXRoJiZhd2FpdCB0aGlzLnJlc29sdmVDbGlwUGF0aChjLG8sbi5nZXRBdHRyaWJ1dGUoXCJjbGlwLXBhdGhcIik/bzp2b2lkIDApO2NvbnN0e3NjYWxlWDp1LHNjYWxlWTpkLGFuZ2xlOmcsc2tld1g6Zix0cmFuc2xhdGVYOnAsdHJhbnNsYXRlWTptfT1EdChsKTtjLnNldCh7ZmxpcFg6ITEsZmxpcFk6ITF9KSxjLnNldCh7c2NhbGVYOnUsc2NhbGVZOmQsYW5nbGU6Zyxza2V3WDpmLHNrZXdZOjB9KSxjLnNldFBvc2l0aW9uQnlPcmlnaW4obmV3IG90KHAsbSksRCxEKSx0LmNsaXBQYXRoPWN9ZWxzZSBkZWxldGUgdC5jbGlwUGF0aH19Y29uc3QgeWE9dD0+bHMudGVzdChoYSh0KSksX2E9KCk9Pih7b2JqZWN0czpbXSxlbGVtZW50czpbXSxvcHRpb25zOnt9LGFsbEVsZW1lbnRzOltdfSk7YXN5bmMgZnVuY3Rpb24geGEodCxlKXtsZXR7Y3Jvc3NPcmlnaW46aSxzaWduYWw6cn09YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9O2lmKHImJnIuYWJvcnRlZClyZXR1cm4gYShcImxvZ1wiLG5ldyBjKFwicGFyc2VTVkdEb2N1bWVudFwiKSksX2EoKTtjb25zdCBuPXQuZG9jdW1lbnRFbGVtZW50OyFmdW5jdGlvbih0KXtjb25zdCBlPWxhKHQsW1widXNlXCIsXCJzdmc6dXNlXCJdKSxzPVtcInhcIixcInlcIixcInhsaW5rOmhyZWZcIixcImhyZWZcIixcInRyYW5zZm9ybVwiXTtmb3IoY29uc3QgaSBvZiBlKXtjb25zdCBlPWkuYXR0cmlidXRlcyxyPXt9O2Zvcihjb25zdCB0IG9mIGUpdC52YWx1ZSYmKHJbdC5uYW1lXT10LnZhbHVlKTtjb25zdCBuPShyW1wieGxpbms6aHJlZlwiXXx8ci5ocmVmfHxcIlwiKS5zbGljZSgxKTtpZihcIlwiPT09bilyZXR1cm47Y29uc3Qgbz10LmdldEVsZW1lbnRCeUlkKG4pO2lmKG51bGw9PT1vKXJldHVybjtsZXQgYT1vLmNsb25lTm9kZSghMCk7Y29uc3QgaD1hLmF0dHJpYnV0ZXMsYz17fTtmb3IoY29uc3QgdCBvZiBoKXQudmFsdWUmJihjW3QubmFtZV09dC52YWx1ZSk7Y29uc3R7eDpsPTAseTp1PTAsdHJhbnNmb3JtOmQ9XCJcIn09cixnPVwiXCIuY29uY2F0KGQsXCIgXCIpLmNvbmNhdChjLnRyYW5zZm9ybXx8XCJcIixcIiB0cmFuc2xhdGUoXCIpLmNvbmNhdChsLFwiLCBcIikuY29uY2F0KHUsXCIpXCIpO2lmKGFhKGEpLC9ec3ZnJC9pLnRlc3QoYS5ub2RlTmFtZSkpe2NvbnN0IHQ9YS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhucyxcImdcIik7T2JqZWN0LmVudHJpZXMoYykuZm9yRWFjaCgoZT0+e2xldFtzLGldPWU7cmV0dXJuIHQuc2V0QXR0cmlidXRlTlMobnMscyxpKX0pKSx0LmFwcGVuZCguLi5hLmNoaWxkTm9kZXMpLGE9dH1mb3IoY29uc3QgdCBvZiBlKXtpZighdCljb250aW51ZTtjb25zdHtuYW1lOmUsdmFsdWU6aX09dDtpZighcy5pbmNsdWRlcyhlKSlpZihcInN0eWxlXCI9PT1lKXtjb25zdCB0PXt9O2tyKGksdCksT2JqZWN0LmVudHJpZXMoYykuZm9yRWFjaCgoZT0+e2xldFtzLGldPWU7dFtzXT1pfSkpLGtyKGMuc3R5bGV8fFwiXCIsdCk7Y29uc3Qgcz1PYmplY3QuZW50cmllcyh0KS5tYXAoKHQ9PnQuam9pbihcIjpcIikpKS5qb2luKFwiO1wiKTthLnNldEF0dHJpYnV0ZShlLHMpfWVsc2UhY1tlXSYmYS5zZXRBdHRyaWJ1dGUoZSxpKX1hLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLGcpLGEuc2V0QXR0cmlidXRlKFwiaW5zdGFudGlhdGVkX2J5X3VzZVwiLFwiMVwiKSxhLnJlbW92ZUF0dHJpYnV0ZShcImlkXCIpLGkucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoYSxpKX19KHQpO2NvbnN0IG89QXJyYXkuZnJvbShuLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiKlwiKSksaD1zKHMoe30sYWEobikpLHt9LHtjcm9zc09yaWdpbjppLHNpZ25hbDpyfSksbD1vLmZpbHRlcigodD0+KGFhKHQpLHlhKHQpJiYhZnVuY3Rpb24odCl7bGV0IGU9dDtmb3IoO2UmJihlPWUucGFyZW50RWxlbWVudCk7KWlmKGUmJmUubm9kZU5hbWUmJmNhLnRlc3QoaGEoZSkpJiYhZS5nZXRBdHRyaWJ1dGUoXCJpbnN0YW50aWF0ZWRfYnlfdXNlXCIpKXJldHVybiEwO3JldHVybiExfSh0KSkpKTtpZighbHx8bCYmIWwubGVuZ3RoKXJldHVybiBzKHMoe30sX2EoKSkse30se29wdGlvbnM6aCxhbGxFbGVtZW50czpvfSk7Y29uc3QgdT17fTtvLmZpbHRlcigodD0+XCJjbGlwUGF0aFwiPT09aGEodCkpKS5mb3JFYWNoKCh0PT57dC5zZXRBdHRyaWJ1dGUoXCJvcmlnaW5hbFRyYW5zZm9ybVwiLHQuZ2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIpfHxcIlwiKTtjb25zdCBlPXQuZ2V0QXR0cmlidXRlKFwiaWRcIik7dVtlXT1BcnJheS5mcm9tKHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCIqXCIpKS5maWx0ZXIoKHQ9PnlhKHQpKSl9KSk7Y29uc3QgZD1uZXcgdmEobCxoLGUsdCx1KTtyZXR1cm57b2JqZWN0czphd2FpdCBkLnBhcnNlKCksZWxlbWVudHM6bCxvcHRpb25zOmgsYWxsRWxlbWVudHM6b319ZnVuY3Rpb24gQ2EodCxlLHMpe3JldHVybiB4YSgobmV3KHYoKS5ET01QYXJzZXIpKS5wYXJzZUZyb21TdHJpbmcodC50cmltKCksXCJ0ZXh0L3htbFwiKSxlLHMpfWZ1bmN0aW9uIGJhKHQsZSl7bGV0IHM9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9O3JldHVybiBuZXcgUHJvbWlzZSgoKGUsaSk9Pntrbih0LnJlcGxhY2UoL15cXG5cXHMqLyxcIlwiKS50cmltKCkse29uQ29tcGxldGU6dD0+e2NvbnN0IHM9dC5yZXNwb25zZVhNTDtzJiZlKHMpLGkoKX0sc2lnbmFsOnMuc2lnbmFsfSl9KSkudGhlbigodD0+eGEodCxlLHMpKSkuY2F0Y2goKCgpPT5fYSgpKSl9Y29uc3QgU2E9Vyx3YT10PT5mdW5jdGlvbihlLHMsaSl7Y29uc3R7cG9pbnRzOnIscGF0aE9mZnNldDpufT1pO3JldHVybiBuZXcgb3Qoclt0XSkuc3VidHJhY3QobikudHJhbnNmb3JtKFR0KGkuZ2V0Vmlld3BvcnRUcmFuc2Zvcm0oKSxpLmNhbGNUcmFuc2Zvcm1NYXRyaXgoKSkpfSxUYT0odCxlLHMsaSk9Pntjb25zdHt0YXJnZXQ6cixwb2ludEluZGV4Om59PWUsbz1yLGE9bWUobmV3IG90KHMsaSksdm9pZCAwLG8uY2FsY093bk1hdHJpeCgpKTtyZXR1cm4gby5wb2ludHNbbl09YS5hZGQoby5wYXRoT2Zmc2V0KSxvLnNldERpbWVuc2lvbnMoKSxvLnNldChcImRpcnR5XCIsITApLCEwfSxPYT0odCxlKT0+ZnVuY3Rpb24oaSxyLG4sbyl7Y29uc3QgYT1yLnRhcmdldCxoPW5ldyBvdChhLnBvaW50c1sodD4wP3Q6YS5wb2ludHMubGVuZ3RoKS0xXSksYz1oLnN1YnRyYWN0KGEucGF0aE9mZnNldCkudHJhbnNmb3JtKGEuY2FsY093bk1hdHJpeCgpKSxsPWUoaSxzKHMoe30scikse30se3BvaW50SW5kZXg6dH0pLG4sbyksdT1oLnN1YnRyYWN0KGEucGF0aE9mZnNldCkudHJhbnNmb3JtKGEuY2FsY093bk1hdHJpeCgpKS5zdWJ0cmFjdChjKTtyZXR1cm4gYS5sZWZ0LT11LngsYS50b3AtPXUueSxsfSxrYT10PT5zaShTYSxPYSh0LFRhKSk7Y29uc3QgRGE9KHQsZSxzKT0+e2NvbnN0e3BhdGg6aSxwYXRoT2Zmc2V0OnJ9PXQsbj1pW2VdO3JldHVybiBuZXcgb3QobltzXS1yLngsbltzKzFdLXIueSkudHJhbnNmb3JtKFR0KHQuZ2V0Vmlld3BvcnRUcmFuc2Zvcm0oKSx0LmNhbGNUcmFuc2Zvcm1NYXRyaXgoKSkpfTtmdW5jdGlvbiBNYSh0LGUscyl7Y29uc3R7Y29tbWFuZEluZGV4OmkscG9pbnRJbmRleDpyfT10aGlzO3JldHVybiBEYShzLGkscil9ZnVuY3Rpb24gUGEodCxlLGkscil7Y29uc3R7dGFyZ2V0Om59PWUse2NvbW1hbmRJbmRleDpvLHBvaW50SW5kZXg6YX09dGhpcyxoPSgodCxlLHMsaSxyKT0+e2NvbnN0e3BhdGg6bixwYXRoT2Zmc2V0Om99PXQsYT1uWyhpPjA/aTpuLmxlbmd0aCktMV0saD1uZXcgb3QoYVtyXSxhW3IrMV0pLGM9aC5zdWJ0cmFjdChvKS50cmFuc2Zvcm0odC5jYWxjT3duTWF0cml4KCkpLGw9bWUobmV3IG90KGUscyksdm9pZCAwLHQuY2FsY093bk1hdHJpeCgpKTtuW2ldW3JdPWwueCtvLngsbltpXVtyKzFdPWwueStvLnksdC5zZXREaW1lbnNpb25zKCk7Y29uc3QgdT1oLnN1YnRyYWN0KHQucGF0aE9mZnNldCkudHJhbnNmb3JtKHQuY2FsY093bk1hdHJpeCgpKS5zdWJ0cmFjdChjKTtyZXR1cm4gdC5sZWZ0LT11LngsdC50b3AtPXUueSx0LnNldChcImRpcnR5XCIsITApLCEwfSkobixpLHIsbyxhKTtyZXR1cm4gX2UodGhpcy5hY3Rpb25OYW1lLHMocyh7fSxPZSh0LGUsaSxyKSkse30se2NvbW1hbmRJbmRleDpvLHBvaW50SW5kZXg6YX0pKSxofWNsYXNzIEVhIGV4dGVuZHMgYWl7Y29uc3RydWN0b3IodCl7c3VwZXIodCl9cmVuZGVyKHQsZSxpLHIsbil7Y29uc3Qgbz1zKHMoe30scikse30se2Nvcm5lckNvbG9yOnRoaXMuY29udHJvbEZpbGwsY29ybmVyU3Ryb2tlQ29sb3I6dGhpcy5jb250cm9sU3Ryb2tlLHRyYW5zcGFyZW50Q29ybmVyczohdGhpcy5jb250cm9sRmlsbH0pO3N1cGVyLnJlbmRlcih0LGUsaSxvLG4pfX1jbGFzcyBBYSBleHRlbmRzIEVhe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpfXJlbmRlcih0LGUscyxpLHIpe2NvbnN0e3BhdGg6bn09cix7Y29tbWFuZEluZGV4Om8scG9pbnRJbmRleDphLGNvbm5lY3RUb0NvbW1hbmRJbmRleDpoLGNvbm5lY3RUb1BvaW50SW5kZXg6Y309dGhpczt0LnNhdmUoKSx0LnN0cm9rZVN0eWxlPXRoaXMuY29udHJvbFN0cm9rZSx0aGlzLmNvbm5lY3Rpb25EYXNoQXJyYXkmJnQuc2V0TGluZURhc2godGhpcy5jb25uZWN0aW9uRGFzaEFycmF5KTtjb25zdFtsXT1uW29dLHU9RGEocixoLGMpO2lmKFwiUVwiPT09bCl7Y29uc3QgaT1EYShyLG8sYSsyKTt0Lm1vdmVUbyhpLngsaS55KSx0LmxpbmVUbyhlLHMpfWVsc2UgdC5tb3ZlVG8oZSxzKTt0LmxpbmVUbyh1LngsdS55KSx0LnN0cm9rZSgpLHQucmVzdG9yZSgpLHN1cGVyLnJlbmRlcih0LGUscyxpLHIpfX1jb25zdCBqYT0odCxlLGkscixuLG8pPT5uZXcoaT9BYTpFYSkocyhzKHtjb21tYW5kSW5kZXg6dCxwb2ludEluZGV4OmUsYWN0aW9uTmFtZTpcIm1vZGlmeVBhdGhcIixwb3NpdGlvbkhhbmRsZXI6TWEsYWN0aW9uSGFuZGxlcjpQYSxjb25uZWN0VG9Db21tYW5kSW5kZXg6bixjb25uZWN0VG9Qb2ludEluZGV4Om99LHIpLGk/ci5jb250cm9sUG9pbnRTdHlsZTpyLnBvaW50U3R5bGUpKTt2YXIgRmE9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsY2hhbmdlV2lkdGg6cmksY3JlYXRlT2JqZWN0RGVmYXVsdENvbnRyb2xzOlBpLGNyZWF0ZVBhdGhDb250cm9sczpmdW5jdGlvbih0KXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307Y29uc3Qgcz17fTtsZXQgaT1cIk1cIjtyZXR1cm4gdC5wYXRoLmZvckVhY2goKCh0LHIpPT57Y29uc3Qgbj10WzBdO3N3aXRjaChcIlpcIiE9PW4mJihzW1wiY19cIi5jb25jYXQocixcIl9cIikuY29uY2F0KG4pXT1qYShyLHQubGVuZ3RoLTIsITEsZSkpLG4pe2Nhc2VcIkNcIjpzW1wiY19cIi5jb25jYXQocixcIl9DX0NQXzFcIildPWphKHIsMSwhMCxlLHItMSwodD0+XCJDXCI9PT10PzU6XCJRXCI9PT10PzM6MSkoaSkpLHNbXCJjX1wiLmNvbmNhdChyLFwiX0NfQ1BfMlwiKV09amEociwzLCEwLGUsciw1KTticmVhaztjYXNlXCJRXCI6c1tcImNfXCIuY29uY2F0KHIsXCJfUV9DUF8xXCIpXT1qYShyLDEsITAsZSxyLDMpfWk9bn0pKSxzfSxjcmVhdGVQb2x5QWN0aW9uSGFuZGxlcjprYSxjcmVhdGVQb2x5Q29udHJvbHM6ZnVuY3Rpb24odCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O2NvbnN0IGk9e307Zm9yKGxldCByPTA7cjwoXCJudW1iZXJcIj09dHlwZW9mIHQ/dDp0LnBvaW50cy5sZW5ndGgpO3IrKylpW1wicFwiLmNvbmNhdChyKV09bmV3IGFpKHMoe2FjdGlvbk5hbWU6U2EscG9zaXRpb25IYW5kbGVyOndhKHIpLGFjdGlvbkhhbmRsZXI6a2Eocil9LGUpKTtyZXR1cm4gaX0sY3JlYXRlUG9seVBvc2l0aW9uSGFuZGxlcjp3YSxjcmVhdGVSZXNpemVDb250cm9sczpFaSxjcmVhdGVUZXh0Ym94RGVmYXVsdENvbnRyb2xzOkFpLGRyYWdIYW5kbGVyOk1lLGZhY3RvcnlQb2x5QWN0aW9uSGFuZGxlcjpPYSxnZXRMb2NhbFBvaW50OkRlLHBvbHlBY3Rpb25IYW5kbGVyOlRhLHJlbmRlckNpcmNsZUNvbnRyb2w6bmkscmVuZGVyU3F1YXJlQ29udHJvbDpvaSxyb3RhdGlvblN0eWxlSGFuZGxlcjpoaSxyb3RhdGlvbldpdGhTbmFwcGluZzpjaSxzY2FsZUN1cnNvclN0eWxlSGFuZGxlcjpnaSxzY2FsZU9yU2tld0FjdGlvbk5hbWU6T2ksc2NhbGVTa2V3Q3Vyc29yU3R5bGVIYW5kbGVyOmtpLHNjYWxpbmdFcXVhbGx5OnBpLHNjYWxpbmdYOm1pLHNjYWxpbmdYT3JTa2V3aW5nWTpEaSxzY2FsaW5nWTp2aSxzY2FsaW5nWU9yU2tld2luZ1g6TWksc2tld0N1cnNvclN0eWxlSGFuZGxlcjpDaSxza2V3SGFuZGxlclg6U2ksc2tld0hhbmRsZXJZOndpLHdyYXBXaXRoRmlyZUV2ZW50OnNpLHdyYXBXaXRoRml4ZWRBbmNob3I6aWl9KTtjb25zdCBMYT10PT52b2lkIDAhPT10LndlYmdsLFJhPSh0LGUpPT57Y29uc3Qgcz12dCh7d2lkdGg6dCxoZWlnaHQ6ZX0pLGk9cHQoKS5nZXRDb250ZXh0KFwid2ViZ2xcIikscj17aW1hZ2VCdWZmZXI6bmV3IEFycmF5QnVmZmVyKHQqZSo0KX0sbj17ZGVzdGluYXRpb25XaWR0aDp0LGRlc3RpbmF0aW9uSGVpZ2h0OmUsdGFyZ2V0Q2FudmFzOnN9O2xldCBvO289digpLnBlcmZvcm1hbmNlLm5vdygpLCRvLnByb3RvdHlwZS5jb3B5R0xUbzJELmNhbGwocixpLG4pO2NvbnN0IGE9digpLnBlcmZvcm1hbmNlLm5vdygpLW87bz12KCkucGVyZm9ybWFuY2Uubm93KCksJG8ucHJvdG90eXBlLmNvcHlHTFRvMkRQdXRJbWFnZURhdGEuY2FsbChyLGksbik7cmV0dXJuIGE+digpLnBlcmZvcm1hbmNlLm5vdygpLW99LElhPVwicHJlY2lzaW9uIGhpZ2hwIGZsb2F0XCIsQmE9XCJcXG4gICAgXCIuY29uY2F0KElhLFwiO1xcbiAgICB2YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbiAgICB1bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZTtcXG4gICAgdm9pZCBtYWluKCkge1xcbiAgICAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKTtcXG4gICAgfVwiKSxYYT1bXCJ0eXBlXCJdLFlhPVtcInR5cGVcIl0sV2E9bmV3IFJlZ0V4cChJYSxcImdcIik7Y2xhc3MgVmF7Z2V0IHR5cGUoKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50eXBlfWNvbnN0cnVjdG9yKCl7bGV0IHQ9aShhcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sWGEpO09iamVjdC5hc3NpZ24odGhpcyx0aGlzLmNvbnN0cnVjdG9yLmRlZmF1bHRzLHQpfWdldEZyYWdtZW50U291cmNlKCl7cmV0dXJuIEJhfWdldFZlcnRleFNvdXJjZSgpe3JldHVyblwiXFxuICAgIGF0dHJpYnV0ZSB2ZWMyIGFQb3NpdGlvbjtcXG4gICAgdmFyeWluZyB2ZWMyIHZUZXhDb29yZDtcXG4gICAgdm9pZCBtYWluKCkge1xcbiAgICAgIHZUZXhDb29yZCA9IGFQb3NpdGlvbjtcXG4gICAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoYVBvc2l0aW9uICogMi4wIC0gMS4wLCAwLjAsIDEuMCk7XFxuICAgIH1cIn1jcmVhdGVQcm9ncmFtKHQpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp0aGlzLmdldEZyYWdtZW50U291cmNlKCkscz1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06dGhpcy5nZXRWZXJ0ZXhTb3VyY2UoKTtjb25zdHtXZWJHTFByb2JlOntHTFByZWNpc2lvbjppPVwiaGlnaHBcIn19PXAoKTtcImhpZ2hwXCIhPT1pJiYoZT1lLnJlcGxhY2UoV2EsSWEucmVwbGFjZShcImhpZ2hwXCIsaSkpKTtjb25zdCByPXQuY3JlYXRlU2hhZGVyKHQuVkVSVEVYX1NIQURFUiksbj10LmNyZWF0ZVNoYWRlcih0LkZSQUdNRU5UX1NIQURFUiksbz10LmNyZWF0ZVByb2dyYW0oKTtpZighcnx8IW58fCFvKXRocm93IG5ldyBoKFwiVmVydGV4LCBmcmFnbWVudCBzaGFkZXIgb3IgcHJvZ3JhbSBjcmVhdGlvbiBlcnJvclwiKTtpZih0LnNoYWRlclNvdXJjZShyLHMpLHQuY29tcGlsZVNoYWRlcihyKSwhdC5nZXRTaGFkZXJQYXJhbWV0ZXIocix0LkNPTVBJTEVfU1RBVFVTKSl0aHJvdyBuZXcgaChcIlZlcnRleCBzaGFkZXIgY29tcGlsZSBlcnJvciBmb3IgXCIuY29uY2F0KHRoaXMudHlwZSxcIjogXCIpLmNvbmNhdCh0LmdldFNoYWRlckluZm9Mb2cocikpKTtpZih0LnNoYWRlclNvdXJjZShuLGUpLHQuY29tcGlsZVNoYWRlcihuKSwhdC5nZXRTaGFkZXJQYXJhbWV0ZXIobix0LkNPTVBJTEVfU1RBVFVTKSl0aHJvdyBuZXcgaChcIkZyYWdtZW50IHNoYWRlciBjb21waWxlIGVycm9yIGZvciBcIi5jb25jYXQodGhpcy50eXBlLFwiOiBcIikuY29uY2F0KHQuZ2V0U2hhZGVySW5mb0xvZyhuKSkpO2lmKHQuYXR0YWNoU2hhZGVyKG8sciksdC5hdHRhY2hTaGFkZXIobyxuKSx0LmxpbmtQcm9ncmFtKG8pLCF0LmdldFByb2dyYW1QYXJhbWV0ZXIobyx0LkxJTktfU1RBVFVTKSl0aHJvdyBuZXcgaCgnU2hhZGVyIGxpbmsgZXJyb3IgZm9yIFwiJy5jb25jYXQodGhpcy50eXBlLCdcIiAnKS5jb25jYXQodC5nZXRQcm9ncmFtSW5mb0xvZyhvKSkpO2NvbnN0IGE9dGhpcy5nZXRVbmlmb3JtTG9jYXRpb25zKHQsbyl8fHt9O3JldHVybiBhLnVTdGVwVz10LmdldFVuaWZvcm1Mb2NhdGlvbihvLFwidVN0ZXBXXCIpLGEudVN0ZXBIPXQuZ2V0VW5pZm9ybUxvY2F0aW9uKG8sXCJ1U3RlcEhcIikse3Byb2dyYW06byxhdHRyaWJ1dGVMb2NhdGlvbnM6dGhpcy5nZXRBdHRyaWJ1dGVMb2NhdGlvbnModCxvKSx1bmlmb3JtTG9jYXRpb25zOmF9fWdldEF0dHJpYnV0ZUxvY2F0aW9ucyh0LGUpe3JldHVybnthUG9zaXRpb246dC5nZXRBdHRyaWJMb2NhdGlvbihlLFwiYVBvc2l0aW9uXCIpfX1nZXRVbmlmb3JtTG9jYXRpb25zKHQsZSl7Y29uc3Qgcz10aGlzLmNvbnN0cnVjdG9yLnVuaWZvcm1Mb2NhdGlvbnMsaT17fTtmb3IobGV0IHI9MDtyPHMubGVuZ3RoO3IrKylpW3Nbcl1dPXQuZ2V0VW5pZm9ybUxvY2F0aW9uKGUsc1tyXSk7cmV0dXJuIGl9c2VuZEF0dHJpYnV0ZURhdGEodCxlLHMpe2NvbnN0IGk9ZS5hUG9zaXRpb24scj10LmNyZWF0ZUJ1ZmZlcigpO3QuYmluZEJ1ZmZlcih0LkFSUkFZX0JVRkZFUixyKSx0LmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGkpLHQudmVydGV4QXR0cmliUG9pbnRlcihpLDIsdC5GTE9BVCwhMSwwLDApLHQuYnVmZmVyRGF0YSh0LkFSUkFZX0JVRkZFUixzLHQuU1RBVElDX0RSQVcpfV9zZXR1cEZyYW1lQnVmZmVyKHQpe2NvbnN0IGU9dC5jb250ZXh0O2lmKHQucGFzc2VzPjEpe2NvbnN0IHM9dC5kZXN0aW5hdGlvbldpZHRoLGk9dC5kZXN0aW5hdGlvbkhlaWdodDt0LnNvdXJjZVdpZHRoPT09cyYmdC5zb3VyY2VIZWlnaHQ9PT1pfHwoZS5kZWxldGVUZXh0dXJlKHQudGFyZ2V0VGV4dHVyZSksdC50YXJnZXRUZXh0dXJlPXQuZmlsdGVyQmFja2VuZC5jcmVhdGVUZXh0dXJlKGUscyxpKSksZS5mcmFtZWJ1ZmZlclRleHR1cmUyRChlLkZSQU1FQlVGRkVSLGUuQ09MT1JfQVRUQUNITUVOVDAsZS5URVhUVVJFXzJELHQudGFyZ2V0VGV4dHVyZSwwKX1lbHNlIGUuYmluZEZyYW1lYnVmZmVyKGUuRlJBTUVCVUZGRVIsbnVsbCksZS5maW5pc2goKX1fc3dhcFRleHR1cmVzKHQpe3QucGFzc2VzLS0sdC5wYXNzKys7Y29uc3QgZT10LnRhcmdldFRleHR1cmU7dC50YXJnZXRUZXh0dXJlPXQuc291cmNlVGV4dHVyZSx0LnNvdXJjZVRleHR1cmU9ZX1pc05ldXRyYWxTdGF0ZSh0KXtyZXR1cm4hMX1hcHBseVRvKHQpe0xhKHQpPyh0aGlzLl9zZXR1cEZyYW1lQnVmZmVyKHQpLHRoaXMuYXBwbHlUb1dlYkdMKHQpLHRoaXMuX3N3YXBUZXh0dXJlcyh0KSk6dGhpcy5hcHBseVRvMmQodCl9YXBwbHlUbzJkKHQpe31nZXRDYWNoZUtleSgpe3JldHVybiB0aGlzLnR5cGV9cmV0cmlldmVTaGFkZXIodCl7Y29uc3QgZT10aGlzLmdldENhY2hlS2V5KCk7cmV0dXJuIHQucHJvZ3JhbUNhY2hlW2VdfHwodC5wcm9ncmFtQ2FjaGVbZV09dGhpcy5jcmVhdGVQcm9ncmFtKHQuY29udGV4dCkpLHQucHJvZ3JhbUNhY2hlW2VdfWFwcGx5VG9XZWJHTCh0KXtjb25zdCBlPXQuY29udGV4dCxzPXRoaXMucmV0cmlldmVTaGFkZXIodCk7MD09PXQucGFzcyYmdC5vcmlnaW5hbFRleHR1cmU/ZS5iaW5kVGV4dHVyZShlLlRFWFRVUkVfMkQsdC5vcmlnaW5hbFRleHR1cmUpOmUuYmluZFRleHR1cmUoZS5URVhUVVJFXzJELHQuc291cmNlVGV4dHVyZSksZS51c2VQcm9ncmFtKHMucHJvZ3JhbSksdGhpcy5zZW5kQXR0cmlidXRlRGF0YShlLHMuYXR0cmlidXRlTG9jYXRpb25zLHQuYVBvc2l0aW9uKSxlLnVuaWZvcm0xZihzLnVuaWZvcm1Mb2NhdGlvbnMudVN0ZXBXLDEvdC5zb3VyY2VXaWR0aCksZS51bmlmb3JtMWYocy51bmlmb3JtTG9jYXRpb25zLnVTdGVwSCwxL3Quc291cmNlSGVpZ2h0KSx0aGlzLnNlbmRVbmlmb3JtRGF0YShlLHMudW5pZm9ybUxvY2F0aW9ucyksZS52aWV3cG9ydCgwLDAsdC5kZXN0aW5hdGlvbldpZHRoLHQuZGVzdGluYXRpb25IZWlnaHQpLGUuZHJhd0FycmF5cyhlLlRSSUFOR0xFX1NUUklQLDAsNCl9YmluZEFkZGl0aW9uYWxUZXh0dXJlKHQsZSxzKXt0LmFjdGl2ZVRleHR1cmUocyksdC5iaW5kVGV4dHVyZSh0LlRFWFRVUkVfMkQsZSksdC5hY3RpdmVUZXh0dXJlKHQuVEVYVFVSRTApfXVuYmluZEFkZGl0aW9uYWxUZXh0dXJlKHQsZSl7dC5hY3RpdmVUZXh0dXJlKGUpLHQuYmluZFRleHR1cmUodC5URVhUVVJFXzJELG51bGwpLHQuYWN0aXZlVGV4dHVyZSh0LlRFWFRVUkUwKX1zZW5kVW5pZm9ybURhdGEodCxlKXt9Y3JlYXRlSGVscExheWVyKHQpe2lmKCF0LmhlbHBMYXllcil7Y29uc3R7c291cmNlV2lkdGg6ZSxzb3VyY2VIZWlnaHQ6c309dCxpPXZ0KHt3aWR0aDplLGhlaWdodDpzfSk7dC5oZWxwTGF5ZXI9aX19dG9PYmplY3QoKXtjb25zdCB0PU9iamVjdC5rZXlzKHRoaXMuY29uc3RydWN0b3IuZGVmYXVsdHN8fHt9KTtyZXR1cm4gcyh7dHlwZTp0aGlzLnR5cGV9LHQucmVkdWNlKCgodCxlKT0+KHRbZV09dGhpc1tlXSx0KSkse30pKX10b0pTT04oKXtyZXR1cm4gdGhpcy50b09iamVjdCgpfXN0YXRpYyBhc3luYyBmcm9tT2JqZWN0KHQsZSl7cmV0dXJuIG5ldyB0aGlzKGkodCxZYSkpfX10KFZhLFwidHlwZVwiLFwiQmFzZUZpbHRlclwiKSx0KFZhLFwidW5pZm9ybUxvY2F0aW9uc1wiLFtdKTtjb25zdCB6YT17bXVsdGlwbHk6XCJnbF9GcmFnQ29sb3IucmdiICo9IHVDb2xvci5yZ2I7XFxuXCIsc2NyZWVuOlwiZ2xfRnJhZ0NvbG9yLnJnYiA9IDEuMCAtICgxLjAgLSBnbF9GcmFnQ29sb3IucmdiKSAqICgxLjAgLSB1Q29sb3IucmdiKTtcXG5cIixhZGQ6XCJnbF9GcmFnQ29sb3IucmdiICs9IHVDb2xvci5yZ2I7XFxuXCIsZGlmZmVyZW5jZTpcImdsX0ZyYWdDb2xvci5yZ2IgPSBhYnMoZ2xfRnJhZ0NvbG9yLnJnYiAtIHVDb2xvci5yZ2IpO1xcblwiLHN1YnRyYWN0OlwiZ2xfRnJhZ0NvbG9yLnJnYiAtPSB1Q29sb3IucmdiO1xcblwiLGxpZ2h0ZW46XCJnbF9GcmFnQ29sb3IucmdiID0gbWF4KGdsX0ZyYWdDb2xvci5yZ2IsIHVDb2xvci5yZ2IpO1xcblwiLGRhcmtlbjpcImdsX0ZyYWdDb2xvci5yZ2IgPSBtaW4oZ2xfRnJhZ0NvbG9yLnJnYiwgdUNvbG9yLnJnYik7XFxuXCIsZXhjbHVzaW9uOlwiZ2xfRnJhZ0NvbG9yLnJnYiArPSB1Q29sb3IucmdiIC0gMi4wICogKHVDb2xvci5yZ2IgKiBnbF9GcmFnQ29sb3IucmdiKTtcXG5cIixvdmVybGF5OlwiXFxuICAgIGlmICh1Q29sb3IuciA8IDAuNSkge1xcbiAgICAgIGdsX0ZyYWdDb2xvci5yICo9IDIuMCAqIHVDb2xvci5yO1xcbiAgICB9IGVsc2Uge1xcbiAgICAgIGdsX0ZyYWdDb2xvci5yID0gMS4wIC0gMi4wICogKDEuMCAtIGdsX0ZyYWdDb2xvci5yKSAqICgxLjAgLSB1Q29sb3Iucik7XFxuICAgIH1cXG4gICAgaWYgKHVDb2xvci5nIDwgMC41KSB7XFxuICAgICAgZ2xfRnJhZ0NvbG9yLmcgKj0gMi4wICogdUNvbG9yLmc7XFxuICAgIH0gZWxzZSB7XFxuICAgICAgZ2xfRnJhZ0NvbG9yLmcgPSAxLjAgLSAyLjAgKiAoMS4wIC0gZ2xfRnJhZ0NvbG9yLmcpICogKDEuMCAtIHVDb2xvci5nKTtcXG4gICAgfVxcbiAgICBpZiAodUNvbG9yLmIgPCAwLjUpIHtcXG4gICAgICBnbF9GcmFnQ29sb3IuYiAqPSAyLjAgKiB1Q29sb3IuYjtcXG4gICAgfSBlbHNlIHtcXG4gICAgICBnbF9GcmFnQ29sb3IuYiA9IDEuMCAtIDIuMCAqICgxLjAgLSBnbF9GcmFnQ29sb3IuYikgKiAoMS4wIC0gdUNvbG9yLmIpO1xcbiAgICB9XFxuICAgIFwiLHRpbnQ6XCJcXG4gICAgZ2xfRnJhZ0NvbG9yLnJnYiAqPSAoMS4wIC0gdUNvbG9yLmEpO1xcbiAgICBnbF9GcmFnQ29sb3IucmdiICs9IHVDb2xvci5yZ2I7XFxuICAgIFwifTtjbGFzcyBHYSBleHRlbmRzIFZhe2dldENhY2hlS2V5KCl7cmV0dXJuXCJcIi5jb25jYXQodGhpcy50eXBlLFwiX1wiKS5jb25jYXQodGhpcy5tb2RlKX1nZXRGcmFnbWVudFNvdXJjZSgpe3JldHVyblwiXFxuICAgICAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiAgICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbiAgICAgIHVuaWZvcm0gdmVjNCB1Q29sb3I7XFxuICAgICAgdmFyeWluZyB2ZWMyIHZUZXhDb29yZDtcXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQpO1xcbiAgICAgICAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxuICAgICAgICBpZiAoY29sb3IuYSA+IDAuMCkge1xcbiAgICAgICAgICBcIi5jb25jYXQoemFbdGhpcy5tb2RlXSxcIlxcbiAgICAgICAgfVxcbiAgICAgIH1cXG4gICAgICBcIil9YXBwbHlUbzJkKHQpe2xldHtpbWFnZURhdGE6e2RhdGE6ZX19PXQ7Y29uc3Qgcz1uZXcgSWUodGhpcy5jb2xvcikuZ2V0U291cmNlKCksaT10aGlzLmFscGhhLHI9c1swXSppLG49c1sxXSppLG89c1syXSppLGE9MS1pO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCs9NCl7Y29uc3Qgcz1lW3RdLGk9ZVt0KzFdLGg9ZVt0KzJdO2xldCBjLGwsdTtzd2l0Y2godGhpcy5tb2RlKXtjYXNlXCJtdWx0aXBseVwiOmM9cypyLzI1NSxsPWkqbi8yNTUsdT1oKm8vMjU1O2JyZWFrO2Nhc2VcInNjcmVlblwiOmM9MjU1LSgyNTUtcykqKDI1NS1yKS8yNTUsbD0yNTUtKDI1NS1pKSooMjU1LW4pLzI1NSx1PTI1NS0oMjU1LWgpKigyNTUtbykvMjU1O2JyZWFrO2Nhc2VcImFkZFwiOmM9cytyLGw9aStuLHU9aCtvO2JyZWFrO2Nhc2VcImRpZmZlcmVuY2VcIjpjPU1hdGguYWJzKHMtciksbD1NYXRoLmFicyhpLW4pLHU9TWF0aC5hYnMoaC1vKTticmVhaztjYXNlXCJzdWJ0cmFjdFwiOmM9cy1yLGw9aS1uLHU9aC1vO2JyZWFrO2Nhc2VcImRhcmtlblwiOmM9TWF0aC5taW4ocyxyKSxsPU1hdGgubWluKGksbiksdT1NYXRoLm1pbihoLG8pO2JyZWFrO2Nhc2VcImxpZ2h0ZW5cIjpjPU1hdGgubWF4KHMsciksbD1NYXRoLm1heChpLG4pLHU9TWF0aC5tYXgoaCxvKTticmVhaztjYXNlXCJvdmVybGF5XCI6Yz1yPDEyOD8yKnMqci8yNTU6MjU1LTIqKDI1NS1zKSooMjU1LXIpLzI1NSxsPW48MTI4PzIqaSpuLzI1NToyNTUtMiooMjU1LWkpKigyNTUtbikvMjU1LHU9bzwxMjg/MipoKm8vMjU1OjI1NS0yKigyNTUtaCkqKDI1NS1vKS8yNTU7YnJlYWs7Y2FzZVwiZXhjbHVzaW9uXCI6Yz1yK3MtMipyKnMvMjU1LGw9bitpLTIqbippLzI1NSx1PW8raC0yKm8qaC8yNTU7YnJlYWs7Y2FzZVwidGludFwiOmM9citzKmEsbD1uK2kqYSx1PW8raCphfWVbdF09YyxlW3QrMV09bCxlW3QrMl09dX19c2VuZFVuaWZvcm1EYXRhKHQsZSl7Y29uc3Qgcz1uZXcgSWUodGhpcy5jb2xvcikuZ2V0U291cmNlKCk7c1swXT10aGlzLmFscGhhKnNbMF0vMjU1LHNbMV09dGhpcy5hbHBoYSpzWzFdLzI1NSxzWzJdPXRoaXMuYWxwaGEqc1syXS8yNTUsc1szXT10aGlzLmFscGhhLHQudW5pZm9ybTRmdihlLnVDb2xvcixzKX19dChHYSxcImRlZmF1bHRzXCIse2NvbG9yOlwiI0Y5NUM2M1wiLG1vZGU6XCJtdWx0aXBseVwiLGFscGhhOjF9KSx0KEdhLFwidHlwZVwiLFwiQmxlbmRDb2xvclwiKSx0KEdhLFwidW5pZm9ybUxvY2F0aW9uc1wiLFtcInVDb2xvclwiXSksdHQuc2V0Q2xhc3MoR2EpO2NvbnN0IEhhPXttdWx0aXBseTpcIlxcbiAgICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbiAgICB1bmlmb3JtIHNhbXBsZXIyRCB1SW1hZ2U7XFxuICAgIHVuaWZvcm0gdmVjNCB1Q29sb3I7XFxuICAgIHZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuICAgIHZhcnlpbmcgdmVjMiB2VGV4Q29vcmQyO1xcbiAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgdmVjNCBjb2xvciA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKTtcXG4gICAgICB2ZWM0IGNvbG9yMiA9IHRleHR1cmUyRCh1SW1hZ2UsIHZUZXhDb29yZDIpO1xcbiAgICAgIGNvbG9yLnJnYmEgKj0gY29sb3IyLnJnYmE7XFxuICAgICAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxuICAgIH1cXG4gICAgXCIsbWFzazpcIlxcbiAgICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbiAgICB1bmlmb3JtIHNhbXBsZXIyRCB1SW1hZ2U7XFxuICAgIHVuaWZvcm0gdmVjNCB1Q29sb3I7XFxuICAgIHZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuICAgIHZhcnlpbmcgdmVjMiB2VGV4Q29vcmQyO1xcbiAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgdmVjNCBjb2xvciA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKTtcXG4gICAgICB2ZWM0IGNvbG9yMiA9IHRleHR1cmUyRCh1SW1hZ2UsIHZUZXhDb29yZDIpO1xcbiAgICAgIGNvbG9yLmEgPSBjb2xvcjIuYTtcXG4gICAgICBnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG4gICAgfVxcbiAgICBcIn0sTmE9W1widHlwZVwiLFwiaW1hZ2VcIl07Y2xhc3MgVWEgZXh0ZW5kcyBWYXtnZXRDYWNoZUtleSgpe3JldHVyblwiXCIuY29uY2F0KHRoaXMudHlwZSxcIl9cIikuY29uY2F0KHRoaXMubW9kZSl9Z2V0RnJhZ21lbnRTb3VyY2UoKXtyZXR1cm4gSGFbdGhpcy5tb2RlXX1nZXRWZXJ0ZXhTb3VyY2UoKXtyZXR1cm5cIlxcbiAgICBhdHRyaWJ1dGUgdmVjMiBhUG9zaXRpb247XFxuICAgIHZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuICAgIHZhcnlpbmcgdmVjMiB2VGV4Q29vcmQyO1xcbiAgICB1bmlmb3JtIG1hdDMgdVRyYW5zZm9ybU1hdHJpeDtcXG4gICAgdm9pZCBtYWluKCkge1xcbiAgICAgIHZUZXhDb29yZCA9IGFQb3NpdGlvbjtcXG4gICAgICB2VGV4Q29vcmQyID0gKHVUcmFuc2Zvcm1NYXRyaXggKiB2ZWMzKGFQb3NpdGlvbiwgMS4wKSkueHk7XFxuICAgICAgZ2xfUG9zaXRpb24gPSB2ZWM0KGFQb3NpdGlvbiAqIDIuMCAtIDEuMCwgMC4wLCAxLjApO1xcbiAgICB9XFxuICAgIFwifWFwcGx5VG9XZWJHTCh0KXtjb25zdCBlPXQuY29udGV4dCxzPXRoaXMuY3JlYXRlVGV4dHVyZSh0LmZpbHRlckJhY2tlbmQsdGhpcy5pbWFnZSk7dGhpcy5iaW5kQWRkaXRpb25hbFRleHR1cmUoZSxzLGUuVEVYVFVSRTEpLHN1cGVyLmFwcGx5VG9XZWJHTCh0KSx0aGlzLnVuYmluZEFkZGl0aW9uYWxUZXh0dXJlKGUsZS5URVhUVVJFMSl9Y3JlYXRlVGV4dHVyZSh0LGUpe3JldHVybiB0LmdldENhY2hlZFRleHR1cmUoZS5jYWNoZUtleSxlLmdldEVsZW1lbnQoKSl9Y2FsY3VsYXRlTWF0cml4KCl7Y29uc3QgdD10aGlzLmltYWdlLHt3aWR0aDplLGhlaWdodDpzfT10LmdldEVsZW1lbnQoKTtyZXR1cm5bMS90LnNjYWxlWCwwLDAsMCwxL3Quc2NhbGVZLDAsLXQubGVmdC9lLC10LnRvcC9zLDFdfWFwcGx5VG8yZCh0KXtsZXR7aW1hZ2VEYXRhOntkYXRhOmUsd2lkdGg6cyxoZWlnaHQ6aX0sZmlsdGVyQmFja2VuZDp7cmVzb3VyY2VzOnJ9fT10O2NvbnN0IG49dGhpcy5pbWFnZTtyLmJsZW5kSW1hZ2V8fChyLmJsZW5kSW1hZ2U9cHQoKSk7Y29uc3Qgbz1yLmJsZW5kSW1hZ2UsYT1vLmdldENvbnRleHQoXCIyZFwiKTtvLndpZHRoIT09c3x8by5oZWlnaHQhPT1pPyhvLndpZHRoPXMsby5oZWlnaHQ9aSk6YS5jbGVhclJlY3QoMCwwLHMsaSksYS5zZXRUcmFuc2Zvcm0obi5zY2FsZVgsMCwwLG4uc2NhbGVZLG4ubGVmdCxuLnRvcCksYS5kcmF3SW1hZ2Uobi5nZXRFbGVtZW50KCksMCwwLHMsaSk7Y29uc3QgaD1hLmdldEltYWdlRGF0YSgwLDAscyxpKS5kYXRhO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCs9NCl7Y29uc3Qgcz1lW3RdLGk9ZVt0KzFdLHI9ZVt0KzJdLG49ZVt0KzNdLG89aFt0XSxhPWhbdCsxXSxjPWhbdCsyXSxsPWhbdCszXTtzd2l0Y2godGhpcy5tb2RlKXtjYXNlXCJtdWx0aXBseVwiOmVbdF09cypvLzI1NSxlW3QrMV09aSphLzI1NSxlW3QrMl09cipjLzI1NSxlW3QrM109bipsLzI1NTticmVhaztjYXNlXCJtYXNrXCI6ZVt0KzNdPWx9fX1zZW5kVW5pZm9ybURhdGEodCxlKXtjb25zdCBzPXRoaXMuY2FsY3VsYXRlTWF0cml4KCk7dC51bmlmb3JtMWkoZS51SW1hZ2UsMSksdC51bmlmb3JtTWF0cml4M2Z2KGUudVRyYW5zZm9ybU1hdHJpeCwhMSxzKX10b09iamVjdCgpe3JldHVybiBzKHMoe30sc3VwZXIudG9PYmplY3QoKSkse30se2ltYWdlOnRoaXMuaW1hZ2UmJnRoaXMuaW1hZ2UudG9PYmplY3QoKX0pfXN0YXRpYyBhc3luYyBmcm9tT2JqZWN0KHQsZSl7bGV0e3R5cGU6cixpbWFnZTpufT10LG89aSh0LE5hKTtyZXR1cm4gb2EuZnJvbU9iamVjdChuLGUpLnRoZW4oKHQ9Pm5ldyB0aGlzKHMocyh7fSxvKSx7fSx7aW1hZ2U6dH0pKSkpfX10KFVhLFwidHlwZVwiLFwiQmxlbmRJbWFnZVwiKSx0KFVhLFwiZGVmYXVsdHNcIix7bW9kZTpcIm11bHRpcGx5XCIsYWxwaGE6MX0pLHQoVWEsXCJ1bmlmb3JtTG9jYXRpb25zXCIsW1widVRyYW5zZm9ybU1hdHJpeFwiLFwidUltYWdlXCJdKSx0dC5zZXRDbGFzcyhVYSk7Y2xhc3MgcWEgZXh0ZW5kcyBWYXtnZXRGcmFnbWVudFNvdXJjZSgpe3JldHVyblwiXFxuICAgIHByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4gICAgdW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuICAgIHVuaWZvcm0gdmVjMiB1RGVsdGE7XFxuICAgIHZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuICAgIGNvbnN0IGZsb2F0IG5TYW1wbGVzID0gMTUuMDtcXG4gICAgdmVjMyB2M29mZnNldCA9IHZlYzMoMTIuOTg5OCwgNzguMjMzLCAxNTEuNzE4Mik7XFxuICAgIGZsb2F0IHJhbmRvbSh2ZWMzIHNjYWxlKSB7XFxuICAgICAgLyogdXNlIHRoZSBmcmFnbWVudCBwb3NpdGlvbiBmb3IgYSBkaWZmZXJlbnQgc2VlZCBwZXItcGl4ZWwgKi9cXG4gICAgICByZXR1cm4gZnJhY3Qoc2luKGRvdChnbF9GcmFnQ29vcmQueHl6LCBzY2FsZSkpICogNDM3NTguNTQ1Myk7XFxuICAgIH1cXG4gICAgdm9pZCBtYWluKCkge1xcbiAgICAgIHZlYzQgY29sb3IgPSB2ZWM0KDAuMCk7XFxuICAgICAgZmxvYXQgdG90YWxDID0gMC4wO1xcbiAgICAgIGZsb2F0IHRvdGFsQSA9IDAuMDtcXG4gICAgICBmbG9hdCBvZmZzZXQgPSByYW5kb20odjNvZmZzZXQpO1xcbiAgICAgIGZvciAoZmxvYXQgdCA9IC1uU2FtcGxlczsgdCA8PSBuU2FtcGxlczsgdCsrKSB7XFxuICAgICAgICBmbG9hdCBwZXJjZW50ID0gKHQgKyBvZmZzZXQgLSAwLjUpIC8gblNhbXBsZXM7XFxuICAgICAgICB2ZWM0IHNhbXBsZSA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkICsgdURlbHRhICogcGVyY2VudCk7XFxuICAgICAgICBmbG9hdCB3ZWlnaHQgPSAxLjAgLSBhYnMocGVyY2VudCk7XFxuICAgICAgICBmbG9hdCBhbHBoYSA9IHdlaWdodCAqIHNhbXBsZS5hO1xcbiAgICAgICAgY29sb3IucmdiICs9IHNhbXBsZS5yZ2IgKiBhbHBoYTtcXG4gICAgICAgIGNvbG9yLmEgKz0gYWxwaGE7XFxuICAgICAgICB0b3RhbEEgKz0gd2VpZ2h0O1xcbiAgICAgICAgdG90YWxDICs9IGFscGhhO1xcbiAgICAgIH1cXG4gICAgICBnbF9GcmFnQ29sb3IucmdiID0gY29sb3IucmdiIC8gdG90YWxDO1xcbiAgICAgIGdsX0ZyYWdDb2xvci5hID0gY29sb3IuYSAvIHRvdGFsQTtcXG4gICAgfVxcbiAgXCJ9YXBwbHlUbyh0KXtMYSh0KT8odGhpcy5hc3BlY3RSYXRpbz10LnNvdXJjZVdpZHRoL3Quc291cmNlSGVpZ2h0LHQucGFzc2VzKyssdGhpcy5fc2V0dXBGcmFtZUJ1ZmZlcih0KSx0aGlzLmhvcml6b250YWw9ITAsdGhpcy5hcHBseVRvV2ViR0wodCksdGhpcy5fc3dhcFRleHR1cmVzKHQpLHRoaXMuX3NldHVwRnJhbWVCdWZmZXIodCksdGhpcy5ob3Jpem9udGFsPSExLHRoaXMuYXBwbHlUb1dlYkdMKHQpLHRoaXMuX3N3YXBUZXh0dXJlcyh0KSk6dGhpcy5hcHBseVRvMmQodCl9YXBwbHlUbzJkKHQpe2xldHtpbWFnZURhdGE6e2RhdGE6ZSx3aWR0aDpzLGhlaWdodDppfX09dDt0aGlzLmFzcGVjdFJhdGlvPXMvaSx0aGlzLmhvcml6b250YWw9ITA7bGV0IHI9dGhpcy5nZXRCbHVyVmFsdWUoKSpzO2NvbnN0IG49bmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGUpLG89MTUsYT00KnM7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kz00KXtsZXQgcz0wLGk9MCxoPTAsYz0wLGw9MDtjb25zdCB1PXQtdCVhLGQ9dSthO2ZvcihsZXQgbj0tMTQ7bjxvO24rKyl7Y29uc3QgYT1uL28sZz00Kk1hdGguZmxvb3IociphKSxmPTEtTWF0aC5hYnMoYSk7bGV0IHA9dCtnO3A8dT9wPXU6cD5kJiYocD1kKTtjb25zdCBtPWVbcCszXSpmO3MrPWVbcF0qbSxpKz1lW3ArMV0qbSxoKz1lW3ArMl0qbSxjKz1tLGwrPWZ9blt0XT1zL2Msblt0KzFdPWkvYyxuW3QrMl09aC9jLG5bdCszXT1jL2x9dGhpcy5ob3Jpem9udGFsPSExLHI9dGhpcy5nZXRCbHVyVmFsdWUoKSppO2ZvcihsZXQgdD0wO3Q8bi5sZW5ndGg7dCs9NCl7bGV0IHM9MCxpPTAsaD0wLGM9MCxsPTA7Y29uc3QgdT10JWEsZD1uLmxlbmd0aC1hK3U7Zm9yKGxldCBlPS0xNDtlPG87ZSsrKXtjb25zdCBnPWUvbyxmPU1hdGguZmxvb3IocipnKSphLHA9MS1NYXRoLmFicyhnKTtsZXQgbT10K2Y7bTx1P209dTptPmQmJihtPWQpO2NvbnN0IHY9blttKzNdKnA7cys9blttXSp2LGkrPW5bbSsxXSp2LGgrPW5bbSsyXSp2LGMrPXYsbCs9cH1lW3RdPXMvYyxlW3QrMV09aS9jLGVbdCsyXT1oL2MsZVt0KzNdPWMvbH19c2VuZFVuaWZvcm1EYXRhKHQsZSl7Y29uc3Qgcz10aGlzLmNob29zZVJpZ2h0RGVsdGEoKTt0LnVuaWZvcm0yZnYoZS51RGVsdGEscyl9aXNOZXV0cmFsU3RhdGUoKXtyZXR1cm4gMD09PXRoaXMuYmx1cn1nZXRCbHVyVmFsdWUoKXtsZXQgdD0xO2NvbnN0e2hvcml6b250YWw6ZSxhc3BlY3RSYXRpbzpzfT10aGlzO3JldHVybiBlP3M+MSYmKHQ9MS9zKTpzPDEmJih0PXMpLHQqdGhpcy5ibHVyKi4xMn1jaG9vc2VSaWdodERlbHRhKCl7Y29uc3QgdD10aGlzLmdldEJsdXJWYWx1ZSgpO3JldHVybiB0aGlzLmhvcml6b250YWw/W3QsMF06WzAsdF19fXQocWEsXCJ0eXBlXCIsXCJCbHVyXCIpLHQocWEsXCJkZWZhdWx0c1wiLHtibHVyOjB9KSx0KHFhLFwidW5pZm9ybUxvY2F0aW9uc1wiLFtcInVEZWx0YVwiXSksdHQuc2V0Q2xhc3MocWEpO2NsYXNzIEthIGV4dGVuZHMgVmF7Z2V0RnJhZ21lbnRTb3VyY2UoKXtyZXR1cm5cIlxcbiAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiAgdW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuICB1bmlmb3JtIGZsb2F0IHVCcmlnaHRuZXNzO1xcbiAgdmFyeWluZyB2ZWMyIHZUZXhDb29yZDtcXG4gIHZvaWQgbWFpbigpIHtcXG4gICAgdmVjNCBjb2xvciA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKTtcXG4gICAgY29sb3IucmdiICs9IHVCcmlnaHRuZXNzO1xcbiAgICBnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG4gIH1cXG5cIn1hcHBseVRvMmQodCl7bGV0e2ltYWdlRGF0YTp7ZGF0YTplfX09dDtjb25zdCBzPU1hdGgucm91bmQoMjU1KnRoaXMuYnJpZ2h0bmVzcyk7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kz00KWVbdF0rPXMsZVt0KzFdKz1zLGVbdCsyXSs9c31pc05ldXRyYWxTdGF0ZSgpe3JldHVybiAwPT09dGhpcy5icmlnaHRuZXNzfXNlbmRVbmlmb3JtRGF0YSh0LGUpe3QudW5pZm9ybTFmKGUudUJyaWdodG5lc3MsdGhpcy5icmlnaHRuZXNzKX19dChLYSxcInR5cGVcIixcIkJyaWdodG5lc3NcIiksdChLYSxcImRlZmF1bHRzXCIse2JyaWdodG5lc3M6MH0pLHQoS2EsXCJ1bmlmb3JtTG9jYXRpb25zXCIsW1widUJyaWdodG5lc3NcIl0pLHR0LnNldENsYXNzKEthKTtjb25zdCBKYT17bWF0cml4OlsxLDAsMCwwLDAsMCwxLDAsMCwwLDAsMCwxLDAsMCwwLDAsMCwxLDBdLGNvbG9yc09ubHk6ITB9O2NsYXNzIFFhIGV4dGVuZHMgVmF7Z2V0RnJhZ21lbnRTb3VyY2UoKXtyZXR1cm5cIlxcbiAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiAgdW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuICB2YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbiAgdW5pZm9ybSBtYXQ0IHVDb2xvck1hdHJpeDtcXG4gIHVuaWZvcm0gdmVjNCB1Q29uc3RhbnRzO1xcbiAgdm9pZCBtYWluKCkge1xcbiAgICB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQpO1xcbiAgICBjb2xvciAqPSB1Q29sb3JNYXRyaXg7XFxuICAgIGNvbG9yICs9IHVDb25zdGFudHM7XFxuICAgIGdsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbiAgfVwifWFwcGx5VG8yZCh0KXtjb25zdCBlPXQuaW1hZ2VEYXRhLmRhdGEscz10aGlzLm1hdHJpeCxpPXRoaXMuY29sb3JzT25seTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrPTQpe2NvbnN0IHI9ZVt0XSxuPWVbdCsxXSxvPWVbdCsyXTtpZihlW3RdPXIqc1swXStuKnNbMV0rbypzWzJdKzI1NSpzWzRdLGVbdCsxXT1yKnNbNV0rbipzWzZdK28qc1s3XSsyNTUqc1s5XSxlW3QrMl09cipzWzEwXStuKnNbMTFdK28qc1sxMl0rMjU1KnNbMTRdLCFpKXtjb25zdCBpPWVbdCszXTtlW3RdKz1pKnNbM10sZVt0KzFdKz1pKnNbOF0sZVt0KzJdKz1pKnNbMTNdLGVbdCszXT1yKnNbMTVdK24qc1sxNl0rbypzWzE3XStpKnNbMThdKzI1NSpzWzE5XX19fXNlbmRVbmlmb3JtRGF0YSh0LGUpe2NvbnN0IHM9dGhpcy5tYXRyaXgsaT1bc1swXSxzWzFdLHNbMl0sc1szXSxzWzVdLHNbNl0sc1s3XSxzWzhdLHNbMTBdLHNbMTFdLHNbMTJdLHNbMTNdLHNbMTVdLHNbMTZdLHNbMTddLHNbMThdXSxyPVtzWzRdLHNbOV0sc1sxNF0sc1sxOV1dO3QudW5pZm9ybU1hdHJpeDRmdihlLnVDb2xvck1hdHJpeCwhMSxpKSx0LnVuaWZvcm00ZnYoZS51Q29uc3RhbnRzLHIpfXRvT2JqZWN0KCl7cmV0dXJuIHMocyh7fSxzdXBlci50b09iamVjdCgpKSx7fSx7bWF0cml4OlsuLi50aGlzLm1hdHJpeF19KX19ZnVuY3Rpb24gWmEoZSxzKXt2YXIgaTtjb25zdCByPSh0KGk9Y2xhc3MgZXh0ZW5kcyBRYXt0b09iamVjdCgpe3JldHVybnt0eXBlOnRoaXMudHlwZSxjb2xvcnNPbmx5OnRoaXMuY29sb3JzT25seX19fSxcInR5cGVcIixlKSx0KGksXCJkZWZhdWx0c1wiLHtjb2xvcnNPbmx5OiExLG1hdHJpeDpzfSksaSk7cmV0dXJuIHR0LnNldENsYXNzKHIsZSkscn10KFFhLFwidHlwZVwiLFwiQ29sb3JNYXRyaXhcIiksdChRYSxcImRlZmF1bHRzXCIsSmEpLHQoUWEsXCJ1bmlmb3JtTG9jYXRpb25zXCIsW1widUNvbG9yTWF0cml4XCIsXCJ1Q29uc3RhbnRzXCJdKSx0dC5zZXRDbGFzcyhRYSk7Y29uc3QgJGE9WmEoXCJCcm93bmllXCIsWy41OTk3LC4zNDU1MywtLjI3MDgyLDAsLjE4NiwtLjAzNzcsLjg2MDk1LC4xNTA1OSwwLC0uMTQ0OSwuMjQxMTMsLS4wNzQ0MSwuNDQ5NzIsMCwtLjAyOTY1LDAsMCwwLDEsMF0pLHRoPVphKFwiVmludGFnZVwiLFsuNjI3OTMsLjMyMDIxLC0uMDM5NjUsMCwuMDM3ODQsLjAyNTc4LC42NDQxMSwuMDMyNTksMCwuMDI5MjYsLjA0NjYsLS4wODUxMiwuNTI0MTYsMCwuMDIwMjMsMCwwLDAsMSwwXSksZWg9WmEoXCJLb2RhY2hyb21lXCIsWzEuMTI4NTUsLS4zOTY3MywtLjAzOTkyLDAsLjI0OTkxLC0uMTY0MDQsMS4wODM1MiwtLjA1NDk4LDAsLjA5Njk4LC0uMTY3ODYsLS41NjAzNCwxLjYwMTQ4LDAsLjEzOTcyLDAsMCwwLDEsMF0pLHNoPVphKFwiVGVjaG5pY29sb3JcIixbMS45MTI1MiwtLjg1NDUzLC0uMDkxNTUsMCwuMDQ2MjQsLS4zMDg3OCwxLjc2NTg5LC0uMTA2MDEsMCwtLjI3NTg5LC0uMjMxMSwtLjc1MDE4LDEuODQ3NTksMCwuMTIxMzcsMCwwLDAsMSwwXSksaWg9WmEoXCJQb2xhcm9pZFwiLFsxLjQzOCwtLjA2MiwtLjA2MiwwLDAsLS4xMjIsMS4zNzgsLS4xMjIsMCwwLC0uMDE2LC0uMDE2LDEuNDgzLDAsMCwwLDAsMCwxLDBdKSxyaD1aYShcIlNlcGlhXCIsWy4zOTMsLjc2OSwuMTg5LDAsMCwuMzQ5LC42ODYsLjE2OCwwLDAsLjI3MiwuNTM0LC4xMzEsMCwwLDAsMCwwLDEsMF0pLG5oPVphKFwiQmxhY2tXaGl0ZVwiLFsxLjUsMS41LDEuNSwwLC0xLDEuNSwxLjUsMS41LDAsLTEsMS41LDEuNSwxLjUsMCwtMSwwLDAsMCwxLDBdKTtjbGFzcyBvaCBleHRlbmRzIFZhe2NvbnN0cnVjdG9yKCl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3N1cGVyKHQpLHRoaXMuc3ViRmlsdGVycz10LnN1YkZpbHRlcnN8fFtdfWFwcGx5VG8odCl7TGEodCkmJih0LnBhc3Nlcys9dGhpcy5zdWJGaWx0ZXJzLmxlbmd0aC0xKSx0aGlzLnN1YkZpbHRlcnMuZm9yRWFjaCgoZT0+e2UuYXBwbHlUbyh0KX0pKX10b09iamVjdCgpe3JldHVybnt0eXBlOnRoaXMudHlwZSxzdWJGaWx0ZXJzOnRoaXMuc3ViRmlsdGVycy5tYXAoKHQ9PnQudG9PYmplY3QoKSkpfX1pc05ldXRyYWxTdGF0ZSgpe3JldHVybiF0aGlzLnN1YkZpbHRlcnMuc29tZSgodD0+IXQuaXNOZXV0cmFsU3RhdGUoKSkpfXN0YXRpYyBmcm9tT2JqZWN0KHQsZSl7cmV0dXJuIFByb21pc2UuYWxsKCh0LnN1YkZpbHRlcnN8fFtdKS5tYXAoKHQ9PnR0LmdldENsYXNzKHQudHlwZSkuZnJvbU9iamVjdCh0LGUpKSkpLnRoZW4oKHQ9Pm5ldyB0aGlzKHtzdWJGaWx0ZXJzOnR9KSkpfX10KG9oLFwidHlwZVwiLFwiQ29tcG9zZWRcIiksdHQuc2V0Q2xhc3Mob2gpO2NsYXNzIGFoIGV4dGVuZHMgVmF7Z2V0RnJhZ21lbnRTb3VyY2UoKXtyZXR1cm5cIlxcbiAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiAgdW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuICB1bmlmb3JtIGZsb2F0IHVDb250cmFzdDtcXG4gIHZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuICB2b2lkIG1haW4oKSB7XFxuICAgIHZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVRleHR1cmUsIHZUZXhDb29yZCk7XFxuICAgIGZsb2F0IGNvbnRyYXN0RiA9IDEuMDE1ICogKHVDb250cmFzdCArIDEuMCkgLyAoMS4wICogKDEuMDE1IC0gdUNvbnRyYXN0KSk7XFxuICAgIGNvbG9yLnJnYiA9IGNvbnRyYXN0RiAqIChjb2xvci5yZ2IgLSAwLjUpICsgMC41O1xcbiAgICBnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG4gIH1cIn1pc05ldXRyYWxTdGF0ZSgpe3JldHVybiAwPT09dGhpcy5jb250cmFzdH1hcHBseVRvMmQodCl7bGV0e2ltYWdlRGF0YTp7ZGF0YTplfX09dDtjb25zdCBzPU1hdGguZmxvb3IoMjU1KnRoaXMuY29udHJhc3QpLGk9MjU5KihzKzI1NSkvKDI1NSooMjU5LXMpKTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrPTQpZVt0XT1pKihlW3RdLTEyOCkrMTI4LGVbdCsxXT1pKihlW3QrMV0tMTI4KSsxMjgsZVt0KzJdPWkqKGVbdCsyXS0xMjgpKzEyOH1zZW5kVW5pZm9ybURhdGEodCxlKXt0LnVuaWZvcm0xZihlLnVDb250cmFzdCx0aGlzLmNvbnRyYXN0KX19dChhaCxcInR5cGVcIixcIkNvbnRyYXN0XCIpLHQoYWgsXCJkZWZhdWx0c1wiLHtjb250cmFzdDowfSksdChhaCxcInVuaWZvcm1Mb2NhdGlvbnNcIixbXCJ1Q29udHJhc3RcIl0pLHR0LnNldENsYXNzKGFoKTtjb25zdCBoaD17Q29udm9sdXRlXzNfMTpcIlxcbiAgICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbiAgICB1bmlmb3JtIGZsb2F0IHVNYXRyaXhbOV07XFxuICAgIHVuaWZvcm0gZmxvYXQgdVN0ZXBXO1xcbiAgICB1bmlmb3JtIGZsb2F0IHVTdGVwSDtcXG4gICAgdmFyeWluZyB2ZWMyIHZUZXhDb29yZDtcXG4gICAgdm9pZCBtYWluKCkge1xcbiAgICAgIHZlYzQgY29sb3IgPSB2ZWM0KDAsIDAsIDAsIDApO1xcbiAgICAgIGZvciAoZmxvYXQgaCA9IDAuMDsgaCA8IDMuMDsgaCs9MS4wKSB7XFxuICAgICAgICBmb3IgKGZsb2F0IHcgPSAwLjA7IHcgPCAzLjA7IHcrPTEuMCkge1xcbiAgICAgICAgICB2ZWMyIG1hdHJpeFBvcyA9IHZlYzIodVN0ZXBXICogKHcgLSAxKSwgdVN0ZXBIICogKGggLSAxKSk7XFxuICAgICAgICAgIGNvbG9yICs9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkICsgbWF0cml4UG9zKSAqIHVNYXRyaXhbaW50KGggKiAzLjAgKyB3KV07XFxuICAgICAgICB9XFxuICAgICAgfVxcbiAgICAgIGdsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbiAgICB9XFxuICAgIFwiLENvbnZvbHV0ZV8zXzA6XCJcXG4gICAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiAgICB1bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZTtcXG4gICAgdW5pZm9ybSBmbG9hdCB1TWF0cml4WzldO1xcbiAgICB1bmlmb3JtIGZsb2F0IHVTdGVwVztcXG4gICAgdW5pZm9ybSBmbG9hdCB1U3RlcEg7XFxuICAgIHZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICB2ZWM0IGNvbG9yID0gdmVjNCgwLCAwLCAwLCAxKTtcXG4gICAgICBmb3IgKGZsb2F0IGggPSAwLjA7IGggPCAzLjA7IGgrPTEuMCkge1xcbiAgICAgICAgZm9yIChmbG9hdCB3ID0gMC4wOyB3IDwgMy4wOyB3Kz0xLjApIHtcXG4gICAgICAgICAgdmVjMiBtYXRyaXhQb3MgPSB2ZWMyKHVTdGVwVyAqICh3IC0gMS4wKSwgdVN0ZXBIICogKGggLSAxLjApKTtcXG4gICAgICAgICAgY29sb3IucmdiICs9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkICsgbWF0cml4UG9zKS5yZ2IgKiB1TWF0cml4W2ludChoICogMy4wICsgdyldO1xcbiAgICAgICAgfVxcbiAgICAgIH1cXG4gICAgICBmbG9hdCBhbHBoYSA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKS5hO1xcbiAgICAgIGdsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbiAgICAgIGdsX0ZyYWdDb2xvci5hID0gYWxwaGE7XFxuICAgIH1cXG4gICAgXCIsQ29udm9sdXRlXzVfMTpcIlxcbiAgICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbiAgICB1bmlmb3JtIGZsb2F0IHVNYXRyaXhbMjVdO1xcbiAgICB1bmlmb3JtIGZsb2F0IHVTdGVwVztcXG4gICAgdW5pZm9ybSBmbG9hdCB1U3RlcEg7XFxuICAgIHZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICB2ZWM0IGNvbG9yID0gdmVjNCgwLCAwLCAwLCAwKTtcXG4gICAgICBmb3IgKGZsb2F0IGggPSAwLjA7IGggPCA1LjA7IGgrPTEuMCkge1xcbiAgICAgICAgZm9yIChmbG9hdCB3ID0gMC4wOyB3IDwgNS4wOyB3Kz0xLjApIHtcXG4gICAgICAgICAgdmVjMiBtYXRyaXhQb3MgPSB2ZWMyKHVTdGVwVyAqICh3IC0gMi4wKSwgdVN0ZXBIICogKGggLSAyLjApKTtcXG4gICAgICAgICAgY29sb3IgKz0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQgKyBtYXRyaXhQb3MpICogdU1hdHJpeFtpbnQoaCAqIDUuMCArIHcpXTtcXG4gICAgICAgIH1cXG4gICAgICB9XFxuICAgICAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxuICAgIH1cXG4gICAgXCIsQ29udm9sdXRlXzVfMDpcIlxcbiAgICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbiAgICB1bmlmb3JtIGZsb2F0IHVNYXRyaXhbMjVdO1xcbiAgICB1bmlmb3JtIGZsb2F0IHVTdGVwVztcXG4gICAgdW5pZm9ybSBmbG9hdCB1U3RlcEg7XFxuICAgIHZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICB2ZWM0IGNvbG9yID0gdmVjNCgwLCAwLCAwLCAxKTtcXG4gICAgICBmb3IgKGZsb2F0IGggPSAwLjA7IGggPCA1LjA7IGgrPTEuMCkge1xcbiAgICAgICAgZm9yIChmbG9hdCB3ID0gMC4wOyB3IDwgNS4wOyB3Kz0xLjApIHtcXG4gICAgICAgICAgdmVjMiBtYXRyaXhQb3MgPSB2ZWMyKHVTdGVwVyAqICh3IC0gMi4wKSwgdVN0ZXBIICogKGggLSAyLjApKTtcXG4gICAgICAgICAgY29sb3IucmdiICs9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkICsgbWF0cml4UG9zKS5yZ2IgKiB1TWF0cml4W2ludChoICogNS4wICsgdyldO1xcbiAgICAgICAgfVxcbiAgICAgIH1cXG4gICAgICBmbG9hdCBhbHBoYSA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKS5hO1xcbiAgICAgIGdsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbiAgICAgIGdsX0ZyYWdDb2xvci5hID0gYWxwaGE7XFxuICAgIH1cXG4gICAgXCIsQ29udm9sdXRlXzdfMTpcIlxcbiAgICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbiAgICB1bmlmb3JtIGZsb2F0IHVNYXRyaXhbNDldO1xcbiAgICB1bmlmb3JtIGZsb2F0IHVTdGVwVztcXG4gICAgdW5pZm9ybSBmbG9hdCB1U3RlcEg7XFxuICAgIHZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICB2ZWM0IGNvbG9yID0gdmVjNCgwLCAwLCAwLCAwKTtcXG4gICAgICBmb3IgKGZsb2F0IGggPSAwLjA7IGggPCA3LjA7IGgrPTEuMCkge1xcbiAgICAgICAgZm9yIChmbG9hdCB3ID0gMC4wOyB3IDwgNy4wOyB3Kz0xLjApIHtcXG4gICAgICAgICAgdmVjMiBtYXRyaXhQb3MgPSB2ZWMyKHVTdGVwVyAqICh3IC0gMy4wKSwgdVN0ZXBIICogKGggLSAzLjApKTtcXG4gICAgICAgICAgY29sb3IgKz0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQgKyBtYXRyaXhQb3MpICogdU1hdHJpeFtpbnQoaCAqIDcuMCArIHcpXTtcXG4gICAgICAgIH1cXG4gICAgICB9XFxuICAgICAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxuICAgIH1cXG4gICAgXCIsQ29udm9sdXRlXzdfMDpcIlxcbiAgICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbiAgICB1bmlmb3JtIGZsb2F0IHVNYXRyaXhbNDldO1xcbiAgICB1bmlmb3JtIGZsb2F0IHVTdGVwVztcXG4gICAgdW5pZm9ybSBmbG9hdCB1U3RlcEg7XFxuICAgIHZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICB2ZWM0IGNvbG9yID0gdmVjNCgwLCAwLCAwLCAxKTtcXG4gICAgICBmb3IgKGZsb2F0IGggPSAwLjA7IGggPCA3LjA7IGgrPTEuMCkge1xcbiAgICAgICAgZm9yIChmbG9hdCB3ID0gMC4wOyB3IDwgNy4wOyB3Kz0xLjApIHtcXG4gICAgICAgICAgdmVjMiBtYXRyaXhQb3MgPSB2ZWMyKHVTdGVwVyAqICh3IC0gMy4wKSwgdVN0ZXBIICogKGggLSAzLjApKTtcXG4gICAgICAgICAgY29sb3IucmdiICs9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkICsgbWF0cml4UG9zKS5yZ2IgKiB1TWF0cml4W2ludChoICogNy4wICsgdyldO1xcbiAgICAgICAgfVxcbiAgICAgIH1cXG4gICAgICBmbG9hdCBhbHBoYSA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKS5hO1xcbiAgICAgIGdsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbiAgICAgIGdsX0ZyYWdDb2xvci5hID0gYWxwaGE7XFxuICAgIH1cXG4gICAgXCIsQ29udm9sdXRlXzlfMTpcIlxcbiAgICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbiAgICB1bmlmb3JtIGZsb2F0IHVNYXRyaXhbODFdO1xcbiAgICB1bmlmb3JtIGZsb2F0IHVTdGVwVztcXG4gICAgdW5pZm9ybSBmbG9hdCB1U3RlcEg7XFxuICAgIHZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICB2ZWM0IGNvbG9yID0gdmVjNCgwLCAwLCAwLCAwKTtcXG4gICAgICBmb3IgKGZsb2F0IGggPSAwLjA7IGggPCA5LjA7IGgrPTEuMCkge1xcbiAgICAgICAgZm9yIChmbG9hdCB3ID0gMC4wOyB3IDwgOS4wOyB3Kz0xLjApIHtcXG4gICAgICAgICAgdmVjMiBtYXRyaXhQb3MgPSB2ZWMyKHVTdGVwVyAqICh3IC0gNC4wKSwgdVN0ZXBIICogKGggLSA0LjApKTtcXG4gICAgICAgICAgY29sb3IgKz0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQgKyBtYXRyaXhQb3MpICogdU1hdHJpeFtpbnQoaCAqIDkuMCArIHcpXTtcXG4gICAgICAgIH1cXG4gICAgICB9XFxuICAgICAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxuICAgIH1cXG4gICAgXCIsQ29udm9sdXRlXzlfMDpcIlxcbiAgICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbiAgICB1bmlmb3JtIGZsb2F0IHVNYXRyaXhbODFdO1xcbiAgICB1bmlmb3JtIGZsb2F0IHVTdGVwVztcXG4gICAgdW5pZm9ybSBmbG9hdCB1U3RlcEg7XFxuICAgIHZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICB2ZWM0IGNvbG9yID0gdmVjNCgwLCAwLCAwLCAxKTtcXG4gICAgICBmb3IgKGZsb2F0IGggPSAwLjA7IGggPCA5LjA7IGgrPTEuMCkge1xcbiAgICAgICAgZm9yIChmbG9hdCB3ID0gMC4wOyB3IDwgOS4wOyB3Kz0xLjApIHtcXG4gICAgICAgICAgdmVjMiBtYXRyaXhQb3MgPSB2ZWMyKHVTdGVwVyAqICh3IC0gNC4wKSwgdVN0ZXBIICogKGggLSA0LjApKTtcXG4gICAgICAgICAgY29sb3IucmdiICs9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkICsgbWF0cml4UG9zKS5yZ2IgKiB1TWF0cml4W2ludChoICogOS4wICsgdyldO1xcbiAgICAgICAgfVxcbiAgICAgIH1cXG4gICAgICBmbG9hdCBhbHBoYSA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKS5hO1xcbiAgICAgIGdsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbiAgICAgIGdsX0ZyYWdDb2xvci5hID0gYWxwaGE7XFxuICAgIH1cXG4gICAgXCJ9O2NsYXNzIGNoIGV4dGVuZHMgVmF7Z2V0Q2FjaGVLZXkoKXtyZXR1cm5cIlwiLmNvbmNhdCh0aGlzLnR5cGUsXCJfXCIpLmNvbmNhdChNYXRoLnNxcnQodGhpcy5tYXRyaXgubGVuZ3RoKSxcIl9cIikuY29uY2F0KHRoaXMub3BhcXVlPzE6MCl9Z2V0RnJhZ21lbnRTb3VyY2UoKXtyZXR1cm4gaGhbdGhpcy5nZXRDYWNoZUtleSgpXX1hcHBseVRvMmQodCl7Y29uc3QgZT10LmltYWdlRGF0YSxzPWUuZGF0YSxpPXRoaXMubWF0cml4LHI9TWF0aC5yb3VuZChNYXRoLnNxcnQoaS5sZW5ndGgpKSxuPU1hdGguZmxvb3Ioci8yKSxvPWUud2lkdGgsYT1lLmhlaWdodCxoPXQuY3R4LmNyZWF0ZUltYWdlRGF0YShvLGEpLGM9aC5kYXRhLGw9dGhpcy5vcGFxdWU/MTowO2xldCB1LGQsZyxmLHAsbSx2LHksXyx4LEMsYixTO2ZvcihDPTA7QzxhO0MrKylmb3IoeD0wO3g8bzt4Kyspe2ZvcihwPTQqKEMqbyt4KSx1PTAsZD0wLGc9MCxmPTAsUz0wO1M8cjtTKyspZm9yKGI9MDtiPHI7YisrKXY9QytTLW4sbT14K2Itbix2PDB8fHY+PWF8fG08MHx8bT49b3x8KHk9NCoodipvK20pLF89aVtTKnIrYl0sdSs9c1t5XSpfLGQrPXNbeSsxXSpfLGcrPXNbeSsyXSpfLGx8fChmKz1zW3krM10qXykpO2NbcF09dSxjW3ArMV09ZCxjW3ArMl09ZyxjW3ArM109bD9zW3ArM106Zn10LmltYWdlRGF0YT1ofXNlbmRVbmlmb3JtRGF0YSh0LGUpe3QudW5pZm9ybTFmdihlLnVNYXRyaXgsdGhpcy5tYXRyaXgpfXRvT2JqZWN0KCl7cmV0dXJuIHMocyh7fSxzdXBlci50b09iamVjdCgpKSx7fSx7b3BhcXVlOnRoaXMub3BhcXVlLG1hdHJpeDpbLi4udGhpcy5tYXRyaXhdfSl9fXQoY2gsXCJ0eXBlXCIsXCJDb252b2x1dGVcIiksdChjaCxcImRlZmF1bHRzXCIse29wYXF1ZTohMSxtYXRyaXg6WzAsMCwwLDAsMSwwLDAsMCwwXX0pLHQoY2gsXCJ1bmlmb3JtTG9jYXRpb25zXCIsW1widU1hdHJpeFwiLFwidU9wYXF1ZVwiLFwidUhhbGZTaXplXCIsXCJ1U2l6ZVwiXSksdHQuc2V0Q2xhc3MoY2gpO2NvbnN0IGxoPVwiR2FtbWFcIjtjbGFzcyB1aCBleHRlbmRzIFZhe2dldEZyYWdtZW50U291cmNlKCl7cmV0dXJuXCJcXG4gIHByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4gIHVuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbiAgdW5pZm9ybSB2ZWMzIHVHYW1tYTtcXG4gIHZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuICB2b2lkIG1haW4oKSB7XFxuICAgIHZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVRleHR1cmUsIHZUZXhDb29yZCk7XFxuICAgIHZlYzMgY29ycmVjdGlvbiA9ICgxLjAgLyB1R2FtbWEpO1xcbiAgICBjb2xvci5yID0gcG93KGNvbG9yLnIsIGNvcnJlY3Rpb24ucik7XFxuICAgIGNvbG9yLmcgPSBwb3coY29sb3IuZywgY29ycmVjdGlvbi5nKTtcXG4gICAgY29sb3IuYiA9IHBvdyhjb2xvci5iLCBjb3JyZWN0aW9uLmIpO1xcbiAgICBnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG4gICAgZ2xfRnJhZ0NvbG9yLnJnYiAqPSBjb2xvci5hO1xcbiAgfVxcblwifWNvbnN0cnVjdG9yKCl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3N1cGVyKHQpLHRoaXMuZ2FtbWE9dC5nYW1tYXx8dGhpcy5jb25zdHJ1Y3Rvci5kZWZhdWx0cy5nYW1tYS5jb25jYXQoKX1hcHBseVRvMmQodCl7bGV0e2ltYWdlRGF0YTp7ZGF0YTplfX09dDtjb25zdCBzPXRoaXMuZ2FtbWEsaT0xL3NbMF0scj0xL3NbMV0sbj0xL3NbMl07dGhpcy5yZ2JWYWx1ZXN8fCh0aGlzLnJnYlZhbHVlcz17cjpuZXcgVWludDhBcnJheSgyNTYpLGc6bmV3IFVpbnQ4QXJyYXkoMjU2KSxiOm5ldyBVaW50OEFycmF5KDI1Nil9KTtjb25zdCBvPXRoaXMucmdiVmFsdWVzO2ZvcihsZXQgdD0wO3Q8MjU2O3QrKylvLnJbdF09MjU1Kk1hdGgucG93KHQvMjU1LGkpLG8uZ1t0XT0yNTUqTWF0aC5wb3codC8yNTUsciksby5iW3RdPTI1NSpNYXRoLnBvdyh0LzI1NSxuKTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrPTQpZVt0XT1vLnJbZVt0XV0sZVt0KzFdPW8uZ1tlW3QrMV1dLGVbdCsyXT1vLmJbZVt0KzJdXX1zZW5kVW5pZm9ybURhdGEodCxlKXt0LnVuaWZvcm0zZnYoZS51R2FtbWEsdGhpcy5nYW1tYSl9aXNOZXV0cmFsU3RhdGUoKXtjb25zdHtnYW1tYTp0fT10aGlzO3JldHVybiAxPT09dFswXSYmMT09PXRbMV0mJjE9PT10WzJdfXRvT2JqZWN0KCl7cmV0dXJue3R5cGU6bGgsZ2FtbWE6dGhpcy5nYW1tYS5jb25jYXQoKX19fXQodWgsXCJ0eXBlXCIsbGgpLHQodWgsXCJkZWZhdWx0c1wiLHtnYW1tYTpbMSwxLDFdfSksdCh1aCxcInVuaWZvcm1Mb2NhdGlvbnNcIixbXCJ1R2FtbWFcIl0pLHR0LnNldENsYXNzKHVoKTtjb25zdCBkaD17YXZlcmFnZTpcIlxcbiAgICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbiAgICB2YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbiAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgdmVjNCBjb2xvciA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKTtcXG4gICAgICBmbG9hdCBhdmVyYWdlID0gKGNvbG9yLnIgKyBjb2xvci5iICsgY29sb3IuZykgLyAzLjA7XFxuICAgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNChhdmVyYWdlLCBhdmVyYWdlLCBhdmVyYWdlLCBjb2xvci5hKTtcXG4gICAgfVxcbiAgICBcIixsaWdodG5lc3M6XCJcXG4gICAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiAgICB1bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZTtcXG4gICAgdW5pZm9ybSBpbnQgdU1vZGU7XFxuICAgIHZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICB2ZWM0IGNvbCA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKTtcXG4gICAgICBmbG9hdCBhdmVyYWdlID0gKG1heChtYXgoY29sLnIsIGNvbC5nKSxjb2wuYikgKyBtaW4obWluKGNvbC5yLCBjb2wuZyksY29sLmIpKSAvIDIuMDtcXG4gICAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KGF2ZXJhZ2UsIGF2ZXJhZ2UsIGF2ZXJhZ2UsIGNvbC5hKTtcXG4gICAgfVxcbiAgICBcIixsdW1pbm9zaXR5OlwiXFxuICAgIHByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4gICAgdW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuICAgIHVuaWZvcm0gaW50IHVNb2RlO1xcbiAgICB2YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbiAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgdmVjNCBjb2wgPSB0ZXh0dXJlMkQodVRleHR1cmUsIHZUZXhDb29yZCk7XFxuICAgICAgZmxvYXQgYXZlcmFnZSA9IDAuMjEgKiBjb2wuciArIDAuNzIgKiBjb2wuZyArIDAuMDcgKiBjb2wuYjtcXG4gICAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KGF2ZXJhZ2UsIGF2ZXJhZ2UsIGF2ZXJhZ2UsIGNvbC5hKTtcXG4gICAgfVxcbiAgICBcIn07Y2xhc3MgZ2ggZXh0ZW5kcyBWYXthcHBseVRvMmQodCl7bGV0e2ltYWdlRGF0YTp7ZGF0YTplfX09dDtmb3IobGV0IHQscz0wO3M8ZS5sZW5ndGg7cys9NCl7Y29uc3QgaT1lW3NdLHI9ZVtzKzFdLG49ZVtzKzJdO3N3aXRjaCh0aGlzLm1vZGUpe2Nhc2VcImF2ZXJhZ2VcIjp0PShpK3IrbikvMzticmVhaztjYXNlXCJsaWdodG5lc3NcIjp0PShNYXRoLm1pbihpLHIsbikrTWF0aC5tYXgoaSxyLG4pKS8yO2JyZWFrO2Nhc2VcImx1bWlub3NpdHlcIjp0PS4yMSppKy43MipyKy4wNypufWVbcysyXT1lW3MrMV09ZVtzXT10fX1nZXRDYWNoZUtleSgpe3JldHVyblwiXCIuY29uY2F0KHRoaXMudHlwZSxcIl9cIikuY29uY2F0KHRoaXMubW9kZSl9Z2V0RnJhZ21lbnRTb3VyY2UoKXtyZXR1cm4gZGhbdGhpcy5tb2RlXX1zZW5kVW5pZm9ybURhdGEodCxlKXt0LnVuaWZvcm0xaShlLnVNb2RlLDEpfWlzTmV1dHJhbFN0YXRlKCl7cmV0dXJuITF9fXQoZ2gsXCJ0eXBlXCIsXCJHcmF5c2NhbGVcIiksdChnaCxcImRlZmF1bHRzXCIse21vZGU6XCJhdmVyYWdlXCJ9KSx0KGdoLFwidW5pZm9ybUxvY2F0aW9uc1wiLFtcInVNb2RlXCJdKSx0dC5zZXRDbGFzcyhnaCk7Y29uc3QgZmg9cyhzKHt9LEphKSx7fSx7cm90YXRpb246MH0pO2NsYXNzIHBoIGV4dGVuZHMgUWF7Y2FsY3VsYXRlTWF0cml4KCl7Y29uc3QgdD10aGlzLnJvdGF0aW9uKk1hdGguUEksZT1ydCh0KSxzPW50KHQpLGk9MS8zLHI9TWF0aC5zcXJ0KGkpKnMsbj0xLWU7dGhpcy5tYXRyaXg9W2Urbi8zLGkqbi1yLGkqbityLDAsMCxpKm4rcixlK2kqbixpKm4tciwwLDAsaSpuLXIsaSpuK3IsZStpKm4sMCwwLDAsMCwwLDEsMF19aXNOZXV0cmFsU3RhdGUoKXtyZXR1cm4gMD09PXRoaXMucm90YXRpb259YXBwbHlUbyh0KXt0aGlzLmNhbGN1bGF0ZU1hdHJpeCgpLHN1cGVyLmFwcGx5VG8odCl9dG9PYmplY3QoKXtyZXR1cm57dHlwZTp0aGlzLnR5cGUscm90YXRpb246dGhpcy5yb3RhdGlvbn19fXQocGgsXCJ0eXBlXCIsXCJIdWVSb3RhdGlvblwiKSx0KHBoLFwiZGVmYXVsdHNcIixmaCksdHQuc2V0Q2xhc3MocGgpO2NsYXNzIG1oIGV4dGVuZHMgVmF7YXBwbHlUbzJkKHQpe2xldHtpbWFnZURhdGE6e2RhdGE6ZX19PXQ7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kz00KWVbdF09MjU1LWVbdF0sZVt0KzFdPTI1NS1lW3QrMV0sZVt0KzJdPTI1NS1lW3QrMl0sdGhpcy5hbHBoYSYmKGVbdCszXT0yNTUtZVt0KzNdKX1nZXRGcmFnbWVudFNvdXJjZSgpe3JldHVyblwiXFxuICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuICB1bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZTtcXG4gIHVuaWZvcm0gaW50IHVJbnZlcnQ7XFxuICB1bmlmb3JtIGludCB1QWxwaGE7XFxuICB2YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbiAgdm9pZCBtYWluKCkge1xcbiAgICB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQpO1xcbiAgICBpZiAodUludmVydCA9PSAxKSB7XFxuICAgICAgaWYgKHVBbHBoYSA9PSAxKSB7XFxuICAgICAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KDEuMCAtIGNvbG9yLnIsMS4wIC1jb2xvci5nLDEuMCAtY29sb3IuYiwxLjAgLWNvbG9yLmEpO1xcbiAgICAgIH0gZWxzZSB7XFxuICAgICAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KDEuMCAtIGNvbG9yLnIsMS4wIC1jb2xvci5nLDEuMCAtY29sb3IuYixjb2xvci5hKTtcXG4gICAgICB9XFxuICAgIH0gZWxzZSB7XFxuICAgICAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxuICAgIH1cXG4gIH1cXG5cIn1pc05ldXRyYWxTdGF0ZSgpe3JldHVybiF0aGlzLmludmVydH1zZW5kVW5pZm9ybURhdGEodCxlKXt0LnVuaWZvcm0xaShlLnVJbnZlcnQsTnVtYmVyKHRoaXMuaW52ZXJ0KSksdC51bmlmb3JtMWkoZS51QWxwaGEsTnVtYmVyKHRoaXMuYWxwaGEpKX19dChtaCxcInR5cGVcIixcIkludmVydFwiKSx0KG1oLFwiZGVmYXVsdHNcIix7YWxwaGE6ITEsaW52ZXJ0OiEwfSksdChtaCxcInVuaWZvcm1Mb2NhdGlvbnNcIixbXCJ1SW52ZXJ0XCIsXCJ1QWxwaGFcIl0pLHR0LnNldENsYXNzKG1oKTtjbGFzcyB2aCBleHRlbmRzIFZhe2dldEZyYWdtZW50U291cmNlKCl7cmV0dXJuXCJcXG4gIHByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4gIHVuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbiAgdW5pZm9ybSBmbG9hdCB1U3RlcEg7XFxuICB1bmlmb3JtIGZsb2F0IHVOb2lzZTtcXG4gIHVuaWZvcm0gZmxvYXQgdVNlZWQ7XFxuICB2YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbiAgZmxvYXQgcmFuZCh2ZWMyIGNvLCBmbG9hdCBzZWVkLCBmbG9hdCB2U2NhbGUpIHtcXG4gICAgcmV0dXJuIGZyYWN0KHNpbihkb3QoY28ueHkgKiB2U2NhbGUgLHZlYzIoMTIuOTg5OCAsIDc4LjIzMykpKSAqIDQzNzU4LjU0NTMgKiAoc2VlZCArIDAuMDEpIC8gMi4wKTtcXG4gIH1cXG4gIHZvaWQgbWFpbigpIHtcXG4gICAgdmVjNCBjb2xvciA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKTtcXG4gICAgY29sb3IucmdiICs9ICgwLjUgLSByYW5kKHZUZXhDb29yZCwgdVNlZWQsIDAuMSAvIHVTdGVwSCkpICogdU5vaXNlO1xcbiAgICBnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG4gIH1cXG5cIn1hcHBseVRvMmQodCl7bGV0e2ltYWdlRGF0YTp7ZGF0YTplfX09dDtjb25zdCBzPXRoaXMubm9pc2U7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kz00KXtjb25zdCBpPSguNS1NYXRoLnJhbmRvbSgpKSpzO2VbdF0rPWksZVt0KzFdKz1pLGVbdCsyXSs9aX19c2VuZFVuaWZvcm1EYXRhKHQsZSl7dC51bmlmb3JtMWYoZS51Tm9pc2UsdGhpcy5ub2lzZS8yNTUpLHQudW5pZm9ybTFmKGUudVNlZWQsTWF0aC5yYW5kb20oKSl9aXNOZXV0cmFsU3RhdGUoKXtyZXR1cm4gMD09PXRoaXMubm9pc2V9fXQodmgsXCJ0eXBlXCIsXCJOb2lzZVwiKSx0KHZoLFwiZGVmYXVsdHNcIix7bm9pc2U6MH0pLHQodmgsXCJ1bmlmb3JtTG9jYXRpb25zXCIsW1widU5vaXNlXCIsXCJ1U2VlZFwiXSksdHQuc2V0Q2xhc3ModmgpO2NsYXNzIHloIGV4dGVuZHMgVmF7YXBwbHlUbzJkKHQpe2xldHtpbWFnZURhdGE6e2RhdGE6ZSx3aWR0aDpzLGhlaWdodDppfX09dDtmb3IobGV0IHQ9MDt0PGk7dCs9dGhpcy5ibG9ja3NpemUpZm9yKGxldCByPTA7cjxzO3IrPXRoaXMuYmxvY2tzaXplKXtjb25zdCBuPTQqdCpzKzQqcixvPWVbbl0sYT1lW24rMV0saD1lW24rMl0sYz1lW24rM107Zm9yKGxldCBuPXQ7bjxNYXRoLm1pbih0K3RoaXMuYmxvY2tzaXplLGkpO24rKylmb3IobGV0IHQ9cjt0PE1hdGgubWluKHIrdGhpcy5ibG9ja3NpemUscyk7dCsrKXtjb25zdCBpPTQqbipzKzQqdDtlW2ldPW8sZVtpKzFdPWEsZVtpKzJdPWgsZVtpKzNdPWN9fX1pc05ldXRyYWxTdGF0ZSgpe3JldHVybiAxPT09dGhpcy5ibG9ja3NpemV9Z2V0RnJhZ21lbnRTb3VyY2UoKXtyZXR1cm5cIlxcbiAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiAgdW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuICB1bmlmb3JtIGZsb2F0IHVCbG9ja3NpemU7XFxuICB1bmlmb3JtIGZsb2F0IHVTdGVwVztcXG4gIHVuaWZvcm0gZmxvYXQgdVN0ZXBIO1xcbiAgdmFyeWluZyB2ZWMyIHZUZXhDb29yZDtcXG4gIHZvaWQgbWFpbigpIHtcXG4gICAgZmxvYXQgYmxvY2tXID0gdUJsb2Nrc2l6ZSAqIHVTdGVwVztcXG4gICAgZmxvYXQgYmxvY2tIID0gdUJsb2Nrc2l6ZSAqIHVTdGVwSDtcXG4gICAgaW50IHBvc1ggPSBpbnQodlRleENvb3JkLnggLyBibG9ja1cpO1xcbiAgICBpbnQgcG9zWSA9IGludCh2VGV4Q29vcmQueSAvIGJsb2NrSCk7XFxuICAgIGZsb2F0IGZwb3NYID0gZmxvYXQocG9zWCk7XFxuICAgIGZsb2F0IGZwb3NZID0gZmxvYXQocG9zWSk7XFxuICAgIHZlYzIgc3F1YXJlQ29vcmRzID0gdmVjMihmcG9zWCAqIGJsb2NrVywgZnBvc1kgKiBibG9ja0gpO1xcbiAgICB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVUZXh0dXJlLCBzcXVhcmVDb29yZHMpO1xcbiAgICBnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG4gIH1cXG5cIn1zZW5kVW5pZm9ybURhdGEodCxlKXt0LnVuaWZvcm0xZihlLnVCbG9ja3NpemUsdGhpcy5ibG9ja3NpemUpfX10KHloLFwidHlwZVwiLFwiUGl4ZWxhdGVcIiksdCh5aCxcImRlZmF1bHRzXCIse2Jsb2Nrc2l6ZTo0fSksdCh5aCxcInVuaWZvcm1Mb2NhdGlvbnNcIixbXCJ1QmxvY2tzaXplXCJdKSx0dC5zZXRDbGFzcyh5aCk7Y2xhc3MgX2ggZXh0ZW5kcyBWYXtnZXRGcmFnbWVudFNvdXJjZSgpe3JldHVyblwiXFxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbnVuaWZvcm0gdmVjNCB1TG93O1xcbnVuaWZvcm0gdmVjNCB1SGlnaDtcXG52YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbnZvaWQgbWFpbigpIHtcXG4gIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKTtcXG4gIGlmKGFsbChncmVhdGVyVGhhbihnbF9GcmFnQ29sb3IucmdiLHVMb3cucmdiKSkgJiYgYWxsKGdyZWF0ZXJUaGFuKHVIaWdoLnJnYixnbF9GcmFnQ29sb3IucmdiKSkpIHtcXG4gICAgZ2xfRnJhZ0NvbG9yLmEgPSAwLjA7XFxuICB9XFxufVxcblwifWFwcGx5VG8yZCh0KXtsZXR7aW1hZ2VEYXRhOntkYXRhOmV9fT10O2NvbnN0IHM9MjU1KnRoaXMuZGlzdGFuY2UsaT1uZXcgSWUodGhpcy5jb2xvcikuZ2V0U291cmNlKCkscj1baVswXS1zLGlbMV0tcyxpWzJdLXNdLG49W2lbMF0rcyxpWzFdK3MsaVsyXStzXTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrPTQpe2NvbnN0IHM9ZVt0XSxpPWVbdCsxXSxvPWVbdCsyXTtzPnJbMF0mJmk+clsxXSYmbz5yWzJdJiZzPG5bMF0mJmk8blsxXSYmbzxuWzJdJiYoZVt0KzNdPTApfX1zZW5kVW5pZm9ybURhdGEodCxlKXtjb25zdCBzPW5ldyBJZSh0aGlzLmNvbG9yKS5nZXRTb3VyY2UoKSxpPXRoaXMuZGlzdGFuY2Uscj1bMCtzWzBdLzI1NS1pLDArc1sxXS8yNTUtaSwwK3NbMl0vMjU1LWksMV0sbj1bc1swXS8yNTUraSxzWzFdLzI1NStpLHNbMl0vMjU1K2ksMV07dC51bmlmb3JtNGZ2KGUudUxvdyxyKSx0LnVuaWZvcm00ZnYoZS51SGlnaCxuKX19dChfaCxcInR5cGVcIixcIlJlbW92ZUNvbG9yXCIpLHQoX2gsXCJkZWZhdWx0c1wiLHtjb2xvcjpcIiNGRkZGRkZcIixkaXN0YW5jZTouMDIsdXNlQWxwaGE6ITF9KSx0KF9oLFwidW5pZm9ybUxvY2F0aW9uc1wiLFtcInVMb3dcIixcInVIaWdoXCJdKSx0dC5zZXRDbGFzcyhfaCk7Y2xhc3MgeGggZXh0ZW5kcyBWYXtzZW5kVW5pZm9ybURhdGEodCxlKXt0LnVuaWZvcm0yZnYoZS51RGVsdGEsdGhpcy5ob3Jpem9udGFsP1sxL3RoaXMud2lkdGgsMF06WzAsMS90aGlzLmhlaWdodF0pLHQudW5pZm9ybTFmdihlLnVUYXBzLHRoaXMudGFwcyl9Z2V0RmlsdGVyV2luZG93KCl7Y29uc3QgdD10aGlzLnRlbXBTY2FsZTtyZXR1cm4gTWF0aC5jZWlsKHRoaXMubGFuY3pvc0xvYmVzL3QpfWdldENhY2hlS2V5KCl7Y29uc3QgdD10aGlzLmdldEZpbHRlcldpbmRvdygpO3JldHVyblwiXCIuY29uY2F0KHRoaXMudHlwZSxcIl9cIikuY29uY2F0KHQpfWdldEZyYWdtZW50U291cmNlKCl7Y29uc3QgdD10aGlzLmdldEZpbHRlcldpbmRvdygpO3JldHVybiB0aGlzLmdlbmVyYXRlU2hhZGVyKHQpfWdldFRhcHMoKXtjb25zdCB0PXRoaXMubGFuY3pvc0NyZWF0ZSh0aGlzLmxhbmN6b3NMb2JlcyksZT10aGlzLnRlbXBTY2FsZSxzPXRoaXMuZ2V0RmlsdGVyV2luZG93KCksaT1uZXcgQXJyYXkocyk7Zm9yKGxldCByPTE7cjw9cztyKyspaVtyLTFdPXQociplKTtyZXR1cm4gaX1nZW5lcmF0ZVNoYWRlcih0KXtjb25zdCBlPW5ldyBBcnJheSh0KTtmb3IobGV0IHM9MTtzPD10O3MrKyllW3MtMV09XCJcIi5jb25jYXQocyxcIi4wICogdURlbHRhXCIpO3JldHVyblwiXFxuICAgICAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiAgICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbiAgICAgIHVuaWZvcm0gdmVjMiB1RGVsdGE7XFxuICAgICAgdmFyeWluZyB2ZWMyIHZUZXhDb29yZDtcXG4gICAgICB1bmlmb3JtIGZsb2F0IHVUYXBzW1wiLmNvbmNhdCh0LFwiXTtcXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQpO1xcbiAgICAgICAgZmxvYXQgc3VtID0gMS4wO1xcbiAgICAgICAgXCIpLmNvbmNhdChlLm1hcCgoKHQsZSk9PlwiXFxuICAgICAgICAgICAgICBjb2xvciArPSB0ZXh0dXJlMkQodVRleHR1cmUsIHZUZXhDb29yZCArIFwiLmNvbmNhdCh0LFwiKSAqIHVUYXBzW1wiKS5jb25jYXQoZSxcIl0gKyB0ZXh0dXJlMkQodVRleHR1cmUsIHZUZXhDb29yZCAtIFwiKS5jb25jYXQodCxcIikgKiB1VGFwc1tcIikuY29uY2F0KGUsXCJdO1xcbiAgICAgICAgICAgICAgc3VtICs9IDIuMCAqIHVUYXBzW1wiKS5jb25jYXQoZSxcIl07XFxuICAgICAgICAgICAgXCIpKSkuam9pbihcIlxcblwiKSxcIlxcbiAgICAgICAgZ2xfRnJhZ0NvbG9yID0gY29sb3IgLyBzdW07XFxuICAgICAgfVxcbiAgICBcIil9YXBwbHlUb0ZvcldlYmdsKHQpe3QucGFzc2VzKyssdGhpcy53aWR0aD10LnNvdXJjZVdpZHRoLHRoaXMuaG9yaXpvbnRhbD0hMCx0aGlzLmRXPU1hdGgucm91bmQodGhpcy53aWR0aCp0aGlzLnNjYWxlWCksdGhpcy5kSD10LnNvdXJjZUhlaWdodCx0aGlzLnRlbXBTY2FsZT10aGlzLmRXL3RoaXMud2lkdGgsdGhpcy50YXBzPXRoaXMuZ2V0VGFwcygpLHQuZGVzdGluYXRpb25XaWR0aD10aGlzLmRXLHN1cGVyLmFwcGx5VG8odCksdC5zb3VyY2VXaWR0aD10LmRlc3RpbmF0aW9uV2lkdGgsdGhpcy5oZWlnaHQ9dC5zb3VyY2VIZWlnaHQsdGhpcy5ob3Jpem9udGFsPSExLHRoaXMuZEg9TWF0aC5yb3VuZCh0aGlzLmhlaWdodCp0aGlzLnNjYWxlWSksdGhpcy50ZW1wU2NhbGU9dGhpcy5kSC90aGlzLmhlaWdodCx0aGlzLnRhcHM9dGhpcy5nZXRUYXBzKCksdC5kZXN0aW5hdGlvbkhlaWdodD10aGlzLmRILHN1cGVyLmFwcGx5VG8odCksdC5zb3VyY2VIZWlnaHQ9dC5kZXN0aW5hdGlvbkhlaWdodH1hcHBseVRvKHQpe0xhKHQpP3RoaXMuYXBwbHlUb0ZvcldlYmdsKHQpOnRoaXMuYXBwbHlUbzJkKHQpfWlzTmV1dHJhbFN0YXRlKCl7cmV0dXJuIDE9PT10aGlzLnNjYWxlWCYmMT09PXRoaXMuc2NhbGVZfWxhbmN6b3NDcmVhdGUodCl7cmV0dXJuIGU9PntpZihlPj10fHxlPD0tdClyZXR1cm4gMDtpZihlPDEuMTkyMDkyOWUtNyYmZT4tMS4xOTIwOTI5ZS03KXJldHVybiAxO2NvbnN0IHM9KGUqPU1hdGguUEkpL3Q7cmV0dXJuIE1hdGguc2luKGUpL2UqTWF0aC5zaW4ocykvc319YXBwbHlUbzJkKHQpe2NvbnN0IGU9dC5pbWFnZURhdGEscz10aGlzLnNjYWxlWCxpPXRoaXMuc2NhbGVZO3RoaXMucmNwU2NhbGVYPTEvcyx0aGlzLnJjcFNjYWxlWT0xL2k7Y29uc3Qgcj1lLndpZHRoLG49ZS5oZWlnaHQsbz1NYXRoLnJvdW5kKHIqcyksYT1NYXRoLnJvdW5kKG4qaSk7bGV0IGg7aD1cInNsaWNlSGFja1wiPT09dGhpcy5yZXNpemVUeXBlP3RoaXMuc2xpY2VCeVR3byh0LHIsbixvLGEpOlwiaGVybWl0ZVwiPT09dGhpcy5yZXNpemVUeXBlP3RoaXMuaGVybWl0ZUZhc3RSZXNpemUodCxyLG4sbyxhKTpcImJpbGluZWFyXCI9PT10aGlzLnJlc2l6ZVR5cGU/dGhpcy5iaWxpbmVhckZpbHRlcmluZyh0LHIsbixvLGEpOlwibGFuY3pvc1wiPT09dGhpcy5yZXNpemVUeXBlP3RoaXMubGFuY3pvc1Jlc2l6ZSh0LHIsbixvLGEpOm5ldyBJbWFnZURhdGEobyxhKSx0LmltYWdlRGF0YT1ofXNsaWNlQnlUd28odCxlLHMsaSxyKXtjb25zdCBuPXQuaW1hZ2VEYXRhLG89LjU7bGV0IGE9ITEsaD0hMSxjPWUqbyxsPXMqbztjb25zdCB1PXQuZmlsdGVyQmFja2VuZC5yZXNvdXJjZXM7bGV0IGQ9MCxnPTA7Y29uc3QgZj1lO2xldCBwPTA7dS5zbGljZUJ5VHdvfHwodS5zbGljZUJ5VHdvPXB0KCkpO2NvbnN0IG09dS5zbGljZUJ5VHdvOyhtLndpZHRoPDEuNSplfHxtLmhlaWdodDxzKSYmKG0ud2lkdGg9MS41KmUsbS5oZWlnaHQ9cyk7Y29uc3Qgdj1tLmdldENvbnRleHQoXCIyZFwiKTtmb3Iodi5jbGVhclJlY3QoMCwwLDEuNSplLHMpLHYucHV0SW1hZ2VEYXRhKG4sMCwwKSxpPU1hdGguZmxvb3IoaSkscj1NYXRoLmZsb29yKHIpOyFhfHwhaDspZT1jLHM9bCxpPE1hdGguZmxvb3IoYypvKT9jPU1hdGguZmxvb3IoYypvKTooYz1pLGE9ITApLHI8TWF0aC5mbG9vcihsKm8pP2w9TWF0aC5mbG9vcihsKm8pOihsPXIsaD0hMCksdi5kcmF3SW1hZ2UobSxkLGcsZSxzLGYscCxjLGwpLGQ9ZixnPXAscCs9bDtyZXR1cm4gdi5nZXRJbWFnZURhdGEoZCxnLGkscil9bGFuY3pvc1Jlc2l6ZSh0LGUscyxpLHIpe2NvbnN0IG49dC5pbWFnZURhdGEuZGF0YSxvPXQuY3R4LmNyZWF0ZUltYWdlRGF0YShpLHIpLGE9by5kYXRhLGg9dGhpcy5sYW5jem9zQ3JlYXRlKHRoaXMubGFuY3pvc0xvYmVzKSxjPXRoaXMucmNwU2NhbGVYLGw9dGhpcy5yY3BTY2FsZVksdT0yL3RoaXMucmNwU2NhbGVYLGQ9Mi90aGlzLnJjcFNjYWxlWSxnPU1hdGguY2VpbChjKnRoaXMubGFuY3pvc0xvYmVzLzIpLGY9TWF0aC5jZWlsKGwqdGhpcy5sYW5jem9zTG9iZXMvMikscD17fSxtPXt4OjAseTowfSx2PXt4OjAseTowfTtyZXR1cm4gZnVuY3Rpb24gdCh5KXtsZXQgXyx4LEMsYixTLHcsVCxPLGssRCxNO2ZvcihtLng9KHkrLjUpKmMsdi54PU1hdGguZmxvb3IobS54KSxfPTA7XzxyO18rKyl7Zm9yKG0ueT0oXysuNSkqbCx2Lnk9TWF0aC5mbG9vcihtLnkpLFM9MCx3PTAsVD0wLE89MCxrPTAseD12LngtZzt4PD12LngrZzt4KyspaWYoISh4PDB8fHg+PWUpKXtEPU1hdGguZmxvb3IoMWUzKk1hdGguYWJzKHgtbS54KSkscFtEXXx8KHBbRF09e30pO2ZvcihsZXQgdD12LnktZjt0PD12LnkrZjt0KyspdDwwfHx0Pj1zfHwoTT1NYXRoLmZsb29yKDFlMypNYXRoLmFicyh0LW0ueSkpLHBbRF1bTV18fChwW0RdW01dPWgoTWF0aC5zcXJ0KE1hdGgucG93KEQqdSwyKStNYXRoLnBvdyhNKmQsMikpLzFlMykpLEM9cFtEXVtNXSxDPjAmJihiPTQqKHQqZSt4KSxTKz1DLHcrPUMqbltiXSxUKz1DKm5bYisxXSxPKz1DKm5bYisyXSxrKz1DKm5bYiszXSkpfWI9NCooXyppK3kpLGFbYl09dy9TLGFbYisxXT1UL1MsYVtiKzJdPU8vUyxhW2IrM109ay9TfXJldHVybisreTxpP3QoeSk6b30oMCl9YmlsaW5lYXJGaWx0ZXJpbmcodCxlLHMsaSxyKXtsZXQgbixvLGEsaCxjLGwsdSxkLGcsZixwLG0sdix5PTA7Y29uc3QgXz10aGlzLnJjcFNjYWxlWCx4PXRoaXMucmNwU2NhbGVZLEM9NCooZS0xKSxiPXQuaW1hZ2VEYXRhLmRhdGEsUz10LmN0eC5jcmVhdGVJbWFnZURhdGEoaSxyKSx3PVMuZGF0YTtmb3IodT0wO3U8cjt1KyspZm9yKGQ9MDtkPGk7ZCsrKWZvcihjPU1hdGguZmxvb3IoXypkKSxsPU1hdGguZmxvb3IoeCp1KSxnPV8qZC1jLGY9eCp1LWwsdj00KihsKmUrYykscD0wO3A8NDtwKyspbj1iW3YrcF0sbz1iW3YrNCtwXSxhPWJbditDK3BdLGg9Ylt2K0MrNCtwXSxtPW4qKDEtZykqKDEtZikrbypnKigxLWYpK2EqZiooMS1nKStoKmcqZix3W3krK109bTtyZXR1cm4gU31oZXJtaXRlRmFzdFJlc2l6ZSh0LGUscyxpLHIpe2NvbnN0IG49dGhpcy5yY3BTY2FsZVgsbz10aGlzLnJjcFNjYWxlWSxhPU1hdGguY2VpbChuLzIpLGg9TWF0aC5jZWlsKG8vMiksYz10LmltYWdlRGF0YS5kYXRhLGw9dC5jdHguY3JlYXRlSW1hZ2VEYXRhKGksciksdT1sLmRhdGE7Zm9yKGxldCB0PTA7dDxyO3QrKylmb3IobGV0IHM9MDtzPGk7cysrKXtjb25zdCByPTQqKHMrdCppKTtsZXQgbD0wLGQ9MCxnPTAsZj0wLHA9MCxtPTAsdj0wO2NvbnN0IHk9KHQrLjUpKm87Zm9yKGxldCBpPU1hdGguZmxvb3IodCpvKTtpPCh0KzEpKm87aSsrKXtjb25zdCB0PU1hdGguYWJzKHktKGkrLjUpKS9oLHI9KHMrLjUpKm4sbz10KnQ7Zm9yKGxldCB0PU1hdGguZmxvb3IocypuKTt0PChzKzEpKm47dCsrKXtsZXQgcz1NYXRoLmFicyhyLSh0Ky41KSkvYTtjb25zdCBuPU1hdGguc3FydChvK3Mqcyk7bj4xJiZuPC0xfHwobD0yKm4qbipuLTMqbipuKzEsbD4wJiYocz00Kih0K2kqZSksdis9bCpjW3MrM10sZys9bCxjW3MrM108MjU1JiYobD1sKmNbcyszXS8yNTApLGYrPWwqY1tzXSxwKz1sKmNbcysxXSxtKz1sKmNbcysyXSxkKz1sKSl9fXVbcl09Zi9kLHVbcisxXT1wL2QsdVtyKzJdPW0vZCx1W3IrM109di9nfXJldHVybiBsfX10KHhoLFwidHlwZVwiLFwiUmVzaXplXCIpLHQoeGgsXCJkZWZhdWx0c1wiLHtyZXNpemVUeXBlOlwiaGVybWl0ZVwiLHNjYWxlWDoxLHNjYWxlWToxLGxhbmN6b3NMb2JlczozfSksdCh4aCxcInVuaWZvcm1Mb2NhdGlvbnNcIixbXCJ1RGVsdGFcIixcInVUYXBzXCJdKSx0dC5zZXRDbGFzcyh4aCk7Y2xhc3MgQ2ggZXh0ZW5kcyBWYXtnZXRGcmFnbWVudFNvdXJjZSgpe3JldHVyblwiXFxuICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuICB1bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZTtcXG4gIHVuaWZvcm0gZmxvYXQgdVNhdHVyYXRpb247XFxuICB2YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbiAgdm9pZCBtYWluKCkge1xcbiAgICB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQpO1xcbiAgICBmbG9hdCByZ01heCA9IG1heChjb2xvci5yLCBjb2xvci5nKTtcXG4gICAgZmxvYXQgcmdiTWF4ID0gbWF4KHJnTWF4LCBjb2xvci5iKTtcXG4gICAgY29sb3IuciArPSByZ2JNYXggIT0gY29sb3IuciA/IChyZ2JNYXggLSBjb2xvci5yKSAqIHVTYXR1cmF0aW9uIDogMC4wMDtcXG4gICAgY29sb3IuZyArPSByZ2JNYXggIT0gY29sb3IuZyA/IChyZ2JNYXggLSBjb2xvci5nKSAqIHVTYXR1cmF0aW9uIDogMC4wMDtcXG4gICAgY29sb3IuYiArPSByZ2JNYXggIT0gY29sb3IuYiA/IChyZ2JNYXggLSBjb2xvci5iKSAqIHVTYXR1cmF0aW9uIDogMC4wMDtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxuICB9XFxuXCJ9YXBwbHlUbzJkKHQpe2xldHtpbWFnZURhdGE6e2RhdGE6ZX19PXQ7Y29uc3Qgcz0tdGhpcy5zYXR1cmF0aW9uO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCs9NCl7Y29uc3QgaT1lW3RdLHI9ZVt0KzFdLG49ZVt0KzJdLG89TWF0aC5tYXgoaSxyLG4pO2VbdF0rPW8hPT1pPyhvLWkpKnM6MCxlW3QrMV0rPW8hPT1yPyhvLXIpKnM6MCxlW3QrMl0rPW8hPT1uPyhvLW4pKnM6MH19c2VuZFVuaWZvcm1EYXRhKHQsZSl7dC51bmlmb3JtMWYoZS51U2F0dXJhdGlvbiwtdGhpcy5zYXR1cmF0aW9uKX1pc05ldXRyYWxTdGF0ZSgpe3JldHVybiAwPT09dGhpcy5zYXR1cmF0aW9ufX10KENoLFwidHlwZVwiLFwiU2F0dXJhdGlvblwiKSx0KENoLFwiZGVmYXVsdHNcIix7c2F0dXJhdGlvbjowfSksdChDaCxcInVuaWZvcm1Mb2NhdGlvbnNcIixbXCJ1U2F0dXJhdGlvblwiXSksdHQuc2V0Q2xhc3MoQ2gpO2NsYXNzIGJoIGV4dGVuZHMgVmF7Z2V0RnJhZ21lbnRTb3VyY2UoKXtyZXR1cm5cIlxcbiAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiAgdW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuICB1bmlmb3JtIGZsb2F0IHVWaWJyYW5jZTtcXG4gIHZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuICB2b2lkIG1haW4oKSB7XFxuICAgIHZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVRleHR1cmUsIHZUZXhDb29yZCk7XFxuICAgIGZsb2F0IG1heCA9IG1heChjb2xvci5yLCBtYXgoY29sb3IuZywgY29sb3IuYikpO1xcbiAgICBmbG9hdCBhdmcgPSAoY29sb3IuciArIGNvbG9yLmcgKyBjb2xvci5iKSAvIDMuMDtcXG4gICAgZmxvYXQgYW10ID0gKGFicyhtYXggLSBhdmcpICogMi4wKSAqIHVWaWJyYW5jZTtcXG4gICAgY29sb3IuciArPSBtYXggIT0gY29sb3IuciA/IChtYXggLSBjb2xvci5yKSAqIGFtdCA6IDAuMDA7XFxuICAgIGNvbG9yLmcgKz0gbWF4ICE9IGNvbG9yLmcgPyAobWF4IC0gY29sb3IuZykgKiBhbXQgOiAwLjAwO1xcbiAgICBjb2xvci5iICs9IG1heCAhPSBjb2xvci5iID8gKG1heCAtIGNvbG9yLmIpICogYW10IDogMC4wMDtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxuICB9XFxuXCJ9YXBwbHlUbzJkKHQpe2xldHtpbWFnZURhdGE6e2RhdGE6ZX19PXQ7Y29uc3Qgcz0tdGhpcy52aWJyYW5jZTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrPTQpe2NvbnN0IGk9ZVt0XSxyPWVbdCsxXSxuPWVbdCsyXSxvPU1hdGgubWF4KGkscixuKSxhPShpK3IrbikvMyxoPTIqTWF0aC5hYnMoby1hKS8yNTUqcztlW3RdKz1vIT09aT8oby1pKSpoOjAsZVt0KzFdKz1vIT09cj8oby1yKSpoOjAsZVt0KzJdKz1vIT09bj8oby1uKSpoOjB9fXNlbmRVbmlmb3JtRGF0YSh0LGUpe3QudW5pZm9ybTFmKGUudVZpYnJhbmNlLC10aGlzLnZpYnJhbmNlKX1pc05ldXRyYWxTdGF0ZSgpe3JldHVybiAwPT09dGhpcy52aWJyYW5jZX19dChiaCxcInR5cGVcIixcIlZpYnJhbmNlXCIpLHQoYmgsXCJkZWZhdWx0c1wiLHt2aWJyYW5jZTowfSksdChiaCxcInVuaWZvcm1Mb2NhdGlvbnNcIixbXCJ1VmlicmFuY2VcIl0pLHR0LnNldENsYXNzKGJoKTt2YXIgU2g9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsQmFzZUZpbHRlcjpWYSxCbGFja1doaXRlOm5oLEJsZW5kQ29sb3I6R2EsQmxlbmRJbWFnZTpVYSxCbHVyOnFhLEJyaWdodG5lc3M6S2EsQnJvd25pZTokYSxDb2xvck1hdHJpeDpRYSxDb21wb3NlZDpvaCxDb250cmFzdDphaCxDb252b2x1dGU6Y2gsR2FtbWE6dWgsR3JheXNjYWxlOmdoLEh1ZVJvdGF0aW9uOnBoLEludmVydDptaCxLb2RhY2hyb21lOmVoLE5vaXNlOnZoLFBpeGVsYXRlOnloLFBvbGFyb2lkOmloLFJlbW92ZUNvbG9yOl9oLFJlc2l6ZTp4aCxTYXR1cmF0aW9uOkNoLFNlcGlhOnJoLFRlY2huaWNvbG9yOnNoLFZpYnJhbmNlOmJoLFZpbnRhZ2U6dGh9KTtleHBvcnR7UW8gYXMgQWN0aXZlU2VsZWN0aW9uLHNvIGFzIEJhc2VCcnVzaCxlaSBhcyBCYXNlRmFicmljT2JqZWN0LFhuIGFzIENhbnZhcyxabyBhcyBDYW52YXMyZEZpbHRlckJhY2tlbmQsUG4gYXMgQ2FudmFzRE9NTWFuYWdlcixjbyBhcyBDaXJjbGUsbG8gYXMgQ2lyY2xlQnJ1c2gscW8gYXMgQ2xpcFBhdGhMYXlvdXQsSWUgYXMgQ29sb3IsYWkgYXMgQ29udHJvbCx4byBhcyBFbGxpcHNlLG9hIGFzIEZhYnJpY0ltYWdlLExpIGFzIEZhYnJpY09iamVjdCxBbyBhcyBGYWJyaWNUZXh0LFlyIGFzIEZpdENvbnRlbnRMYXlvdXQsS28gYXMgRml4ZWRMYXlvdXQsJG4gYXMgR3JhZGllbnQsVXIgYXMgR3JvdXAsTm8gYXMgSVRleHQsb2EgYXMgSW1hZ2UsamkgYXMgSW50ZXJhY3RpdmVGYWJyaWNPYmplY3QsUXMgYXMgSW50ZXJzZWN0aW9uLEdyIGFzIExheW91dE1hbmFnZXIsWHIgYXMgTGF5b3V0U3RyYXRlZ3ksdm8gYXMgTGluZSxMaSBhcyBPYmplY3Qsc3QgYXMgT2JzZXJ2YWJsZSxubyBhcyBQYXRoLGVvIGFzIFBhdHRlcm4sZ28gYXMgUGF0dGVybkJydXNoLG9vIGFzIFBlbmNpbEJydXNoLG90IGFzIFBvaW50LFRvIGFzIFBvbHlnb24sd28gYXMgUG9seWxpbmUsanIgYXMgUmVjdCxEcyBhcyBTaGFkb3csdW8gYXMgU3ByYXlCcnVzaCxpZSBhcyBTdGF0aWNDYW52YXMsdGUgYXMgU3RhdGljQ2FudmFzRE9NTWFuYWdlcixBbyBhcyBUZXh0LFVvIGFzIFRleHRib3gseW8gYXMgVHJpYW5nbGUsJG8gYXMgV2ViR0xGaWx0ZXJCYWNrZW5kLF8gYXMgY2FjaGUsdHQgYXMgY2xhc3NSZWdpc3RyeSxvIGFzIGNvbmZpZyxGYSBhcyBjb250cm9sc1V0aWxzLGN0IGFzIGNyZWF0ZUNvbGxlY3Rpb25NaXhpbixTaCBhcyBmaWx0ZXJzLHBhIGFzIGdldENTU1J1bGVzLHAgYXMgZ2V0RW52LG0gYXMgZ2V0RmFicmljRG9jdW1lbnQsdiBhcyBnZXRGYWJyaWNXaW5kb3csc2EgYXMgZ2V0RmlsdGVyQmFja2VuZCxUIGFzIGlNYXRyaXgsZWEgYXMgaW5pdEZpbHRlckJhY2tlbmQsUmEgYXMgaXNQdXRJbWFnZUZhc3RlcixMYSBhcyBpc1dlYkdMUGlwZWxpbmVTdGF0ZSxDYSBhcyBsb2FkU1ZHRnJvbVN0cmluZyxiYSBhcyBsb2FkU1ZHRnJvbVVSTCxQciBhcyBwYXJzZUF0dHJpYnV0ZXMsT3IgYXMgcGFyc2VGb250RGVjbGFyYXRpb24sQ28gYXMgcGFyc2VQb2ludHNBdHRyaWJ1dGUseGEgYXMgcGFyc2VTVkdEb2N1bWVudCxEciBhcyBwYXJzZVN0eWxlQXR0cmlidXRlLHdyIGFzIHBhcnNlVHJhbnNmb3JtQXR0cmlidXRlLGV0IGFzIHJ1bm5pbmdBbmltYXRpb25zLGYgYXMgc2V0RW52LGlhIGFzIHNldEZpbHRlckJhY2tlbmQsTW4gYXMgdXRpbCx4IGFzIHZlcnNpb259O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWluLm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/fabric/dist/index.min.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/immer/dist/immer.esm.mjs":
/*!***********************************************!*\
  !*** ./node_modules/immer/dist/immer.esm.mjs ***!
  \***********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Immer: () => (/* binding */ un),\n/* harmony export */   applyPatches: () => (/* binding */ pn),\n/* harmony export */   castDraft: () => (/* binding */ K),\n/* harmony export */   castImmutable: () => (/* binding */ $),\n/* harmony export */   createDraft: () => (/* binding */ ln),\n/* harmony export */   current: () => (/* binding */ R),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   enableAllPlugins: () => (/* binding */ J),\n/* harmony export */   enableES5: () => (/* binding */ F),\n/* harmony export */   enableMapSet: () => (/* binding */ C),\n/* harmony export */   enablePatches: () => (/* binding */ T),\n/* harmony export */   finishDraft: () => (/* binding */ dn),\n/* harmony export */   freeze: () => (/* binding */ d),\n/* harmony export */   immerable: () => (/* binding */ L),\n/* harmony export */   isDraft: () => (/* binding */ r),\n/* harmony export */   isDraftable: () => (/* binding */ t),\n/* harmony export */   nothing: () => (/* binding */ H),\n/* harmony export */   original: () => (/* binding */ e),\n/* harmony export */   produce: () => (/* binding */ fn),\n/* harmony export */   produceWithPatches: () => (/* binding */ cn),\n/* harmony export */   setAutoFreeze: () => (/* binding */ sn),\n/* harmony export */   setUseProxies: () => (/* binding */ vn)\n/* harmony export */ });\nfunction n(n){for(var r=arguments.length,t=Array(r>1?r-1:0),e=1;e<r;e++)t[e-1]=arguments[e];if(true){var i=Y[n],o=i?\"function\"==typeof i?i.apply(null,t):i:\"unknown error nr: \"+n;throw Error(\"[Immer] \"+o)}throw Error(\"[Immer] minified error nr: \"+n+(t.length?\" \"+t.map((function(n){return\"'\"+n+\"'\"})).join(\",\"):\"\")+\". Find the full error at: https://bit.ly/3cXEKWf\")}function r(n){return!!n&&!!n[Q]}function t(n){var r;return!!n&&(function(n){if(!n||\"object\"!=typeof n)return!1;var r=Object.getPrototypeOf(n);if(null===r)return!0;var t=Object.hasOwnProperty.call(r,\"constructor\")&&r.constructor;return t===Object||\"function\"==typeof t&&Function.toString.call(t)===Z}(n)||Array.isArray(n)||!!n[L]||!!(null===(r=n.constructor)||void 0===r?void 0:r[L])||s(n)||v(n))}function e(t){return r(t)||n(23,t),t[Q].t}function i(n,r,t){void 0===t&&(t=!1),0===o(n)?(t?Object.keys:nn)(n).forEach((function(e){t&&\"symbol\"==typeof e||r(e,n[e],n)})):n.forEach((function(t,e){return r(e,t,n)}))}function o(n){var r=n[Q];return r?r.i>3?r.i-4:r.i:Array.isArray(n)?1:s(n)?2:v(n)?3:0}function u(n,r){return 2===o(n)?n.has(r):Object.prototype.hasOwnProperty.call(n,r)}function a(n,r){return 2===o(n)?n.get(r):n[r]}function f(n,r,t){var e=o(n);2===e?n.set(r,t):3===e?n.add(t):n[r]=t}function c(n,r){return n===r?0!==n||1/n==1/r:n!=n&&r!=r}function s(n){return X&&n instanceof Map}function v(n){return q&&n instanceof Set}function p(n){return n.o||n.t}function l(n){if(Array.isArray(n))return Array.prototype.slice.call(n);var r=rn(n);delete r[Q];for(var t=nn(r),e=0;e<t.length;e++){var i=t[e],o=r[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:n[i]})}return Object.create(Object.getPrototypeOf(n),r)}function d(n,e){return void 0===e&&(e=!1),y(n)||r(n)||!t(n)||(o(n)>1&&(n.set=n.add=n.clear=n.delete=h),Object.freeze(n),e&&i(n,(function(n,r){return d(r,!0)}),!0)),n}function h(){n(2)}function y(n){return null==n||\"object\"!=typeof n||Object.isFrozen(n)}function b(r){var t=tn[r];return t||n(18,r),t}function m(n,r){tn[n]||(tn[n]=r)}function _(){return false||U||n(0),U}function j(n,r){r&&(b(\"Patches\"),n.u=[],n.s=[],n.v=r)}function g(n){O(n),n.p.forEach(S),n.p=null}function O(n){n===U&&(U=n.l)}function w(n){return U={p:[],l:U,h:n,m:!0,_:0}}function S(n){var r=n[Q];0===r.i||1===r.i?r.j():r.g=!0}function P(r,e){e._=e.p.length;var i=e.p[0],o=void 0!==r&&r!==i;return e.h.O||b(\"ES5\").S(e,r,o),o?(i[Q].P&&(g(e),n(4)),t(r)&&(r=M(e,r),e.l||x(e,r)),e.u&&b(\"Patches\").M(i[Q].t,r,e.u,e.s)):r=M(e,i,[]),g(e),e.u&&e.v(e.u,e.s),r!==H?r:void 0}function M(n,r,t){if(y(r))return r;var e=r[Q];if(!e)return i(r,(function(i,o){return A(n,e,r,i,o,t)}),!0),r;if(e.A!==n)return r;if(!e.P)return x(n,e.t,!0),e.t;if(!e.I){e.I=!0,e.A._--;var o=4===e.i||5===e.i?e.o=l(e.k):e.o,u=o,a=!1;3===e.i&&(u=new Set(o),o.clear(),a=!0),i(u,(function(r,i){return A(n,e,o,r,i,t,a)})),x(n,o,!1),t&&n.u&&b(\"Patches\").N(e,t,n.u,n.s)}return e.o}function A(e,i,o,a,c,s,v){if( true&&c===o&&n(5),r(c)){var p=M(e,c,s&&i&&3!==i.i&&!u(i.R,a)?s.concat(a):void 0);if(f(o,a,p),!r(p))return;e.m=!1}else v&&o.add(c);if(t(c)&&!y(c)){if(!e.h.D&&e._<1)return;M(e,c),i&&i.A.l||x(e,c)}}function x(n,r,t){void 0===t&&(t=!1),!n.l&&n.h.D&&n.m&&d(r,t)}function z(n,r){var t=n[Q];return(t?p(t):n)[r]}function I(n,r){if(r in n)for(var t=Object.getPrototypeOf(n);t;){var e=Object.getOwnPropertyDescriptor(t,r);if(e)return e;t=Object.getPrototypeOf(t)}}function k(n){n.P||(n.P=!0,n.l&&k(n.l))}function E(n){n.o||(n.o=l(n.t))}function N(n,r,t){var e=s(r)?b(\"MapSet\").F(r,t):v(r)?b(\"MapSet\").T(r,t):n.O?function(n,r){var t=Array.isArray(n),e={i:t?1:0,A:r?r.A:_(),P:!1,I:!1,R:{},l:r,t:n,k:null,o:null,j:null,C:!1},i=e,o=en;t&&(i=[e],o=on);var u=Proxy.revocable(i,o),a=u.revoke,f=u.proxy;return e.k=f,e.j=a,f}(r,t):b(\"ES5\").J(r,t);return(t?t.A:_()).p.push(e),e}function R(e){return r(e)||n(22,e),function n(r){if(!t(r))return r;var e,u=r[Q],c=o(r);if(u){if(!u.P&&(u.i<4||!b(\"ES5\").K(u)))return u.t;u.I=!0,e=D(r,c),u.I=!1}else e=D(r,c);return i(e,(function(r,t){u&&a(u.t,r)===t||f(e,r,n(t))})),3===c?new Set(e):e}(e)}function D(n,r){switch(r){case 2:return new Map(n);case 3:return Array.from(n)}return l(n)}function F(){function t(n,r){var t=s[n];return t?t.enumerable=r:s[n]=t={configurable:!0,enumerable:r,get:function(){var r=this[Q];return true&&f(r),en.get(r,n)},set:function(r){var t=this[Q]; true&&f(t),en.set(t,n,r)}},t}function e(n){for(var r=n.length-1;r>=0;r--){var t=n[r][Q];if(!t.P)switch(t.i){case 5:a(t)&&k(t);break;case 4:o(t)&&k(t)}}}function o(n){for(var r=n.t,t=n.k,e=nn(t),i=e.length-1;i>=0;i--){var o=e[i];if(o!==Q){var a=r[o];if(void 0===a&&!u(r,o))return!0;var f=t[o],s=f&&f[Q];if(s?s.t!==a:!c(f,a))return!0}}var v=!!r[Q];return e.length!==nn(r).length+(v?0:1)}function a(n){var r=n.k;if(r.length!==n.t.length)return!0;var t=Object.getOwnPropertyDescriptor(r,r.length-1);if(t&&!t.get)return!0;for(var e=0;e<r.length;e++)if(!r.hasOwnProperty(e))return!0;return!1}function f(r){r.g&&n(3,JSON.stringify(p(r)))}var s={};m(\"ES5\",{J:function(n,r){var e=Array.isArray(n),i=function(n,r){if(n){for(var e=Array(r.length),i=0;i<r.length;i++)Object.defineProperty(e,\"\"+i,t(i,!0));return e}var o=rn(r);delete o[Q];for(var u=nn(o),a=0;a<u.length;a++){var f=u[a];o[f]=t(f,n||!!o[f].enumerable)}return Object.create(Object.getPrototypeOf(r),o)}(e,n),o={i:e?5:4,A:r?r.A:_(),P:!1,I:!1,R:{},l:r,t:n,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,Q,{value:o,writable:!0}),i},S:function(n,t,o){o?r(t)&&t[Q].A===n&&e(n.p):(n.u&&function n(r){if(r&&\"object\"==typeof r){var t=r[Q];if(t){var e=t.t,o=t.k,f=t.R,c=t.i;if(4===c)i(o,(function(r){r!==Q&&(void 0!==e[r]||u(e,r)?f[r]||n(o[r]):(f[r]=!0,k(t)))})),i(e,(function(n){void 0!==o[n]||u(o,n)||(f[n]=!1,k(t))}));else if(5===c){if(a(t)&&(k(t),f.length=!0),o.length<e.length)for(var s=o.length;s<e.length;s++)f[s]=!1;else for(var v=e.length;v<o.length;v++)f[v]=!0;for(var p=Math.min(o.length,e.length),l=0;l<p;l++)o.hasOwnProperty(l)||(f[l]=!0),void 0===f[l]&&n(o[l])}}}}(n.p[0]),e(n.p))},K:function(n){return 4===n.i?o(n):a(n)}})}function T(){function e(n){if(!t(n))return n;if(Array.isArray(n))return n.map(e);if(s(n))return new Map(Array.from(n.entries()).map((function(n){return[n[0],e(n[1])]})));if(v(n))return new Set(Array.from(n).map(e));var r=Object.create(Object.getPrototypeOf(n));for(var i in n)r[i]=e(n[i]);return u(n,L)&&(r[L]=n[L]),r}function f(n){return r(n)?e(n):n}var c=\"add\";m(\"Patches\",{$:function(r,t){return t.forEach((function(t){for(var i=t.path,u=t.op,f=r,s=0;s<i.length-1;s++){var v=o(f),p=i[s];\"string\"!=typeof p&&\"number\"!=typeof p&&(p=\"\"+p),0!==v&&1!==v||\"__proto__\"!==p&&\"constructor\"!==p||n(24),\"function\"==typeof f&&\"prototype\"===p&&n(24),\"object\"!=typeof(f=a(f,p))&&n(15,i.join(\"/\"))}var l=o(f),d=e(t.value),h=i[i.length-1];switch(u){case\"replace\":switch(l){case 2:return f.set(h,d);case 3:n(16);default:return f[h]=d}case c:switch(l){case 1:return\"-\"===h?f.push(d):f.splice(h,0,d);case 2:return f.set(h,d);case 3:return f.add(d);default:return f[h]=d}case\"remove\":switch(l){case 1:return f.splice(h,1);case 2:return f.delete(h);case 3:return f.delete(t.value);default:return delete f[h]}default:n(17,u)}})),r},N:function(n,r,t,e){switch(n.i){case 0:case 4:case 2:return function(n,r,t,e){var o=n.t,s=n.o;i(n.R,(function(n,i){var v=a(o,n),p=a(s,n),l=i?u(o,n)?\"replace\":c:\"remove\";if(v!==p||\"replace\"!==l){var d=r.concat(n);t.push(\"remove\"===l?{op:l,path:d}:{op:l,path:d,value:p}),e.push(l===c?{op:\"remove\",path:d}:\"remove\"===l?{op:c,path:d,value:f(v)}:{op:\"replace\",path:d,value:f(v)})}}))}(n,r,t,e);case 5:case 1:return function(n,r,t,e){var i=n.t,o=n.R,u=n.o;if(u.length<i.length){var a=[u,i];i=a[0],u=a[1];var s=[e,t];t=s[0],e=s[1]}for(var v=0;v<i.length;v++)if(o[v]&&u[v]!==i[v]){var p=r.concat([v]);t.push({op:\"replace\",path:p,value:f(u[v])}),e.push({op:\"replace\",path:p,value:f(i[v])})}for(var l=i.length;l<u.length;l++){var d=r.concat([l]);t.push({op:c,path:d,value:f(u[l])})}i.length<u.length&&e.push({op:\"replace\",path:r.concat([\"length\"]),value:i.length})}(n,r,t,e);case 3:return function(n,r,t,e){var i=n.t,o=n.o,u=0;i.forEach((function(n){if(!o.has(n)){var i=r.concat([u]);t.push({op:\"remove\",path:i,value:n}),e.unshift({op:c,path:i,value:n})}u++})),u=0,o.forEach((function(n){if(!i.has(n)){var o=r.concat([u]);t.push({op:c,path:o,value:n}),e.unshift({op:\"remove\",path:o,value:n})}u++}))}(n,r,t,e)}},M:function(n,r,t,e){t.push({op:\"replace\",path:[],value:r===H?void 0:r}),e.push({op:\"replace\",path:[],value:n})}})}function C(){function r(n,r){function t(){this.constructor=n}a(n,r),n.prototype=(t.prototype=r.prototype,new t)}function e(n){n.o||(n.R=new Map,n.o=new Map(n.t))}function o(n){n.o||(n.o=new Set,n.t.forEach((function(r){if(t(r)){var e=N(n.A.h,r,n);n.p.set(r,e),n.o.add(e)}else n.o.add(r)})))}function u(r){r.g&&n(3,JSON.stringify(p(r)))}var a=function(n,r){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var t in r)r.hasOwnProperty(t)&&(n[t]=r[t])})(n,r)},f=function(){function n(n,r){return this[Q]={i:2,l:r,A:r?r.A:_(),P:!1,I:!1,o:void 0,R:void 0,t:n,k:this,C:!1,g:!1},this}r(n,Map);var o=n.prototype;return Object.defineProperty(o,\"size\",{get:function(){return p(this[Q]).size}}),o.has=function(n){return p(this[Q]).has(n)},o.set=function(n,r){var t=this[Q];return u(t),p(t).has(n)&&p(t).get(n)===r||(e(t),k(t),t.R.set(n,!0),t.o.set(n,r),t.R.set(n,!0)),this},o.delete=function(n){if(!this.has(n))return!1;var r=this[Q];return u(r),e(r),k(r),r.t.has(n)?r.R.set(n,!1):r.R.delete(n),r.o.delete(n),!0},o.clear=function(){var n=this[Q];u(n),p(n).size&&(e(n),k(n),n.R=new Map,i(n.t,(function(r){n.R.set(r,!1)})),n.o.clear())},o.forEach=function(n,r){var t=this;p(this[Q]).forEach((function(e,i){n.call(r,t.get(i),i,t)}))},o.get=function(n){var r=this[Q];u(r);var i=p(r).get(n);if(r.I||!t(i))return i;if(i!==r.t.get(n))return i;var o=N(r.A.h,i,r);return e(r),r.o.set(n,o),o},o.keys=function(){return p(this[Q]).keys()},o.values=function(){var n,r=this,t=this.keys();return(n={})[V]=function(){return r.values()},n.next=function(){var n=t.next();return n.done?n:{done:!1,value:r.get(n.value)}},n},o.entries=function(){var n,r=this,t=this.keys();return(n={})[V]=function(){return r.entries()},n.next=function(){var n=t.next();if(n.done)return n;var e=r.get(n.value);return{done:!1,value:[n.value,e]}},n},o[V]=function(){return this.entries()},n}(),c=function(){function n(n,r){return this[Q]={i:3,l:r,A:r?r.A:_(),P:!1,I:!1,o:void 0,t:n,k:this,p:new Map,g:!1,C:!1},this}r(n,Set);var t=n.prototype;return Object.defineProperty(t,\"size\",{get:function(){return p(this[Q]).size}}),t.has=function(n){var r=this[Q];return u(r),r.o?!!r.o.has(n)||!(!r.p.has(n)||!r.o.has(r.p.get(n))):r.t.has(n)},t.add=function(n){var r=this[Q];return u(r),this.has(n)||(o(r),k(r),r.o.add(n)),this},t.delete=function(n){if(!this.has(n))return!1;var r=this[Q];return u(r),o(r),k(r),r.o.delete(n)||!!r.p.has(n)&&r.o.delete(r.p.get(n))},t.clear=function(){var n=this[Q];u(n),p(n).size&&(o(n),k(n),n.o.clear())},t.values=function(){var n=this[Q];return u(n),o(n),n.o.values()},t.entries=function(){var n=this[Q];return u(n),o(n),n.o.entries()},t.keys=function(){return this.values()},t[V]=function(){return this.values()},t.forEach=function(n,r){for(var t=this.values(),e=t.next();!e.done;)n.call(r,e.value,e.value,this),e=t.next()},n}();m(\"MapSet\",{F:function(n,r){return new f(n,r)},T:function(n,r){return new c(n,r)}})}function J(){F(),C(),T()}function K(n){return n}function $(n){return n}var G,U,W=\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol(\"x\"),X=\"undefined\"!=typeof Map,q=\"undefined\"!=typeof Set,B=\"undefined\"!=typeof Proxy&&void 0!==Proxy.revocable&&\"undefined\"!=typeof Reflect,H=W?Symbol.for(\"immer-nothing\"):((G={})[\"immer-nothing\"]=!0,G),L=W?Symbol.for(\"immer-draftable\"):\"__$immer_draftable\",Q=W?Symbol.for(\"immer-state\"):\"__$immer_state\",V=\"undefined\"!=typeof Symbol&&Symbol.iterator||\"@@iterator\",Y={0:\"Illegal state\",1:\"Immer drafts cannot have computed properties\",2:\"This object has been frozen and should not be mutated\",3:function(n){return\"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \"+n},4:\"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\",5:\"Immer forbids circular references\",6:\"The first or second argument to `produce` must be a function\",7:\"The third argument to `produce` must be a function or undefined\",8:\"First argument to `createDraft` must be a plain object, an array, or an immerable object\",9:\"First argument to `finishDraft` must be a draft returned by `createDraft`\",10:\"The given draft is already finalized\",11:\"Object.defineProperty() cannot be used on an Immer draft\",12:\"Object.setPrototypeOf() cannot be used on an Immer draft\",13:\"Immer only supports deleting array indices\",14:\"Immer only supports setting array indices and the 'length' property\",15:function(n){return\"Cannot apply patch, path doesn't resolve: \"+n},16:'Sets cannot have \"replace\" patches.',17:function(n){return\"Unsupported patch operation: \"+n},18:function(n){return\"The plugin for '\"+n+\"' has not been loaded into Immer. To enable the plugin, import and call `enable\"+n+\"()` when initializing your application.\"},20:\"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available\",21:function(n){return\"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '\"+n+\"'\"},22:function(n){return\"'current' expects a draft, got: \"+n},23:function(n){return\"'original' expects a draft, got: \"+n},24:\"Patching reserved attributes like __proto__, prototype and constructor is not allowed\"},Z=\"\"+Object.prototype.constructor,nn=\"undefined\"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames,rn=Object.getOwnPropertyDescriptors||function(n){var r={};return nn(n).forEach((function(t){r[t]=Object.getOwnPropertyDescriptor(n,t)})),r},tn={},en={get:function(n,r){if(r===Q)return n;var e=p(n);if(!u(e,r))return function(n,r,t){var e,i=I(r,t);return i?\"value\"in i?i.value:null===(e=i.get)||void 0===e?void 0:e.call(n.k):void 0}(n,e,r);var i=e[r];return n.I||!t(i)?i:i===z(n.t,r)?(E(n),n.o[r]=N(n.A.h,i,n)):i},has:function(n,r){return r in p(n)},ownKeys:function(n){return Reflect.ownKeys(p(n))},set:function(n,r,t){var e=I(p(n),r);if(null==e?void 0:e.set)return e.set.call(n.k,t),!0;if(!n.P){var i=z(p(n),r),o=null==i?void 0:i[Q];if(o&&o.t===t)return n.o[r]=t,n.R[r]=!1,!0;if(c(t,i)&&(void 0!==t||u(n.t,r)))return!0;E(n),k(n)}return n.o[r]===t&&(void 0!==t||r in n.o)||Number.isNaN(t)&&Number.isNaN(n.o[r])||(n.o[r]=t,n.R[r]=!0),!0},deleteProperty:function(n,r){return void 0!==z(n.t,r)||r in n.t?(n.R[r]=!1,E(n),k(n)):delete n.R[r],n.o&&delete n.o[r],!0},getOwnPropertyDescriptor:function(n,r){var t=p(n),e=Reflect.getOwnPropertyDescriptor(t,r);return e?{writable:!0,configurable:1!==n.i||\"length\"!==r,enumerable:e.enumerable,value:t[r]}:e},defineProperty:function(){n(11)},getPrototypeOf:function(n){return Object.getPrototypeOf(n.t)},setPrototypeOf:function(){n(12)}},on={};i(en,(function(n,r){on[n]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}})),on.deleteProperty=function(r,t){return true&&isNaN(parseInt(t))&&n(13),on.set.call(this,r,t,void 0)},on.set=function(r,t,e){return true&&\"length\"!==t&&isNaN(parseInt(t))&&n(14),en.set.call(this,r[0],t,e,r[0])};var un=function(){function e(r){var e=this;this.O=B,this.D=!0,this.produce=function(r,i,o){if(\"function\"==typeof r&&\"function\"!=typeof i){var u=i;i=r;var a=e;return function(n){var r=this;void 0===n&&(n=u);for(var t=arguments.length,e=Array(t>1?t-1:0),o=1;o<t;o++)e[o-1]=arguments[o];return a.produce(n,(function(n){var t;return(t=i).call.apply(t,[r,n].concat(e))}))}}var f;if(\"function\"!=typeof i&&n(6),void 0!==o&&\"function\"!=typeof o&&n(7),t(r)){var c=w(e),s=N(e,r,void 0),v=!0;try{f=i(s),v=!1}finally{v?g(c):O(c)}return\"undefined\"!=typeof Promise&&f instanceof Promise?f.then((function(n){return j(c,o),P(n,c)}),(function(n){throw g(c),n})):(j(c,o),P(f,c))}if(!r||\"object\"!=typeof r){if(void 0===(f=i(r))&&(f=r),f===H&&(f=void 0),e.D&&d(f,!0),o){var p=[],l=[];b(\"Patches\").M(r,f,p,l),o(p,l)}return f}n(21,r)},this.produceWithPatches=function(n,r){if(\"function\"==typeof n)return function(r){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];return e.produceWithPatches(r,(function(r){return n.apply(void 0,[r].concat(i))}))};var t,i,o=e.produce(n,r,(function(n,r){t=n,i=r}));return\"undefined\"!=typeof Promise&&o instanceof Promise?o.then((function(n){return[n,t,i]})):[o,t,i]},\"boolean\"==typeof(null==r?void 0:r.useProxies)&&this.setUseProxies(r.useProxies),\"boolean\"==typeof(null==r?void 0:r.autoFreeze)&&this.setAutoFreeze(r.autoFreeze)}var i=e.prototype;return i.createDraft=function(e){t(e)||n(8),r(e)&&(e=R(e));var i=w(this),o=N(this,e,void 0);return o[Q].C=!0,O(i),o},i.finishDraft=function(r,t){var e=r&&r[Q]; true&&(e&&e.C||n(9),e.I&&n(10));var i=e.A;return j(i,t),P(void 0,i)},i.setAutoFreeze=function(n){this.D=n},i.setUseProxies=function(r){r&&!B&&n(20),this.O=r},i.applyPatches=function(n,t){var e;for(e=t.length-1;e>=0;e--){var i=t[e];if(0===i.path.length&&\"replace\"===i.op){n=i.value;break}}e>-1&&(t=t.slice(e+1));var o=b(\"Patches\").$;return r(n)?o(n,t):this.produce(n,(function(n){return o(n,t)}))},e}(),an=new un,fn=an.produce,cn=an.produceWithPatches.bind(an),sn=an.setAutoFreeze.bind(an),vn=an.setUseProxies.bind(an),pn=an.applyPatches.bind(an),ln=an.createDraft.bind(an),dn=an.finishDraft.bind(an);/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (fn);\n//# sourceMappingURL=immer.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9pbW1lci9kaXN0L2ltbWVyLmVzbS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGNBQWMsa0RBQWtELElBQUksd0JBQXdCLEdBQUcsSUFBbUMsRUFBRSw2RUFBNkUsMEJBQTBCLDZFQUE2RSxnQkFBZ0IscUVBQXFFLGNBQWMsa0JBQWtCLGNBQWMsTUFBTSx3QkFBd0IsbUNBQW1DLCtCQUErQixxQkFBcUIsaUVBQWlFLHVFQUF1RSxpR0FBaUcsY0FBYyw0QkFBNEIsa0JBQWtCLHVFQUF1RSxtQ0FBbUMsNEJBQTRCLGdCQUFnQixHQUFHLGNBQWMsV0FBVyw0REFBNEQsZ0JBQWdCLG1FQUFtRSxnQkFBZ0IsOEJBQThCLGtCQUFrQixXQUFXLHVDQUF1QyxnQkFBZ0Isd0NBQXdDLGNBQWMsMkJBQTJCLGNBQWMsMkJBQTJCLGNBQWMsZ0JBQWdCLGNBQWMseURBQXlELFlBQVksWUFBWSxvQkFBb0IsV0FBVyxLQUFLLGtCQUFrQiwwRUFBMEUsK0RBQStELEVBQUUsaURBQWlELGdCQUFnQiw4SEFBOEgsZUFBZSxTQUFTLGFBQWEsS0FBSyxjQUFjLHVEQUF1RCxjQUFjLFlBQVksb0JBQW9CLGdCQUFnQixpQkFBaUIsYUFBYSxNQUFNLE1BQW1DLFlBQVksZ0JBQWdCLHNDQUFzQyxjQUFjLDZCQUE2QixjQUFjLGVBQWUsY0FBYyxVQUFVLHVCQUF1QixjQUFjLFdBQVcsOEJBQThCLGdCQUFnQixlQUFlLGlDQUFpQyw2S0FBNkssa0JBQWtCLGlCQUFpQixXQUFXLGdDQUFnQyxzQkFBc0IsUUFBUSxvQkFBb0IsK0JBQStCLFNBQVMsZUFBZSwrQ0FBK0MsMERBQTBELHdCQUF3QixpREFBaUQsV0FBVywwQkFBMEIsR0FBRyxLQUFtQyxvQkFBb0IseURBQXlELHlCQUF5QixPQUFPLGlCQUFpQixnQkFBZ0Isd0JBQXdCLHlCQUF5QixrQkFBa0IsNENBQTRDLGdCQUFnQixXQUFXLG9CQUFv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QTJDLDJDQUEyQyxVQUFVLDBHQUEwRyw4QkFBOEIsNkZBQTZGLHdDQUF3QyxtREFBbUQsVUFBVSxrRkFBa0YsR0FBRywyQkFBMkIsTUFBTSw0QkFBNEIsa0NBQWtDLDJCQUEyQixPQUFPLE9BQU8sb0JBQW9CLGlCQUFpQiw2REFBNkQsbUNBQW1DLE1BQU0sS0FBbUMseURBQXlELHdCQUF3QixNQUFNLEtBQW1DLDJFQUEyRSxrQkFBa0IsY0FBYyxXQUFXLGdEQUFnRCwrQ0FBK0MsUUFBUSxJQUFJLFFBQVEsbUJBQW1CLFdBQVcsa0JBQWtCLGtEQUFrRCxJQUFJLHdCQUF3QixnQ0FBZ0MsTUFBTSwwQ0FBMEMsSUFBSSxNQUFNLDJFQUEyRSxnQ0FBZ0MsSUFBSSxZQUFZLFFBQVEsWUFBWSw0RUFBNEUscUJBQXFCLGVBQWUsYUFBYSxtQkFBbUIsMkJBQTJCLDhEQUE4RCxjQUFjLCtCQUErQixTQUFTLFFBQVEsdUNBQXVDLDJDQUEyQyxrREFBa0QsSUFBSSx3QkFBd0IsMkNBQTJDLHFDQUFxQyxJQUFJLHVDQUF1QyxRQUFRLEdBQUcsNEVBQTRFLGNBQWMsV0FBVyxtS0FBbUssa0JBQWtCLGlDQUFpQywwQkFBMEIsaUNBQWlDLHdCQUF3Qiw2QkFBNkIsY0FBYyxLQUFtQyw0QkFBNEIsVUFBVSwwQkFBMEIsNkJBQTZCLFNBQVMsNkJBQTZCLHNCQUFzQiw4QkFBOEIsTUFBTSxpQkFBaUIsS0FBSyxLQUFLLFdBQVcsd0NBQXdDLFVBQVUsT0FBTyx1QkFBdUIscUJBQXFCLCtDQUErQyxjQUFjLEdBQUcsR0FBRyx5TUFBeU0saUVBQWUsRUFBRSxFQUF3VztBQUNqOWpCIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXG5pY2hvbGFzLmxlZVxcRG9jdW1lbnRzXFx6XFxUaWNrZXRpbmdfTmlja1xcVGlja2V0aW5nXFx0YXZfb3BlbnNvdXJjZVxcdWlcXG5vZGVfbW9kdWxlc1xcaW1tZXJcXGRpc3RcXGltbWVyLmVzbS5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gbihuKXtmb3IodmFyIHI9YXJndW1lbnRzLmxlbmd0aCx0PUFycmF5KHI+MT9yLTE6MCksZT0xO2U8cjtlKyspdFtlLTFdPWFyZ3VtZW50c1tlXTtpZihcInByb2R1Y3Rpb25cIiE9PXByb2Nlc3MuZW52Lk5PREVfRU5WKXt2YXIgaT1ZW25dLG89aT9cImZ1bmN0aW9uXCI9PXR5cGVvZiBpP2kuYXBwbHkobnVsbCx0KTppOlwidW5rbm93biBlcnJvciBucjogXCIrbjt0aHJvdyBFcnJvcihcIltJbW1lcl0gXCIrbyl9dGhyb3cgRXJyb3IoXCJbSW1tZXJdIG1pbmlmaWVkIGVycm9yIG5yOiBcIituKyh0Lmxlbmd0aD9cIiBcIit0Lm1hcCgoZnVuY3Rpb24obil7cmV0dXJuXCInXCIrbitcIidcIn0pKS5qb2luKFwiLFwiKTpcIlwiKStcIi4gRmluZCB0aGUgZnVsbCBlcnJvciBhdDogaHR0cHM6Ly9iaXQubHkvM2NYRUtXZlwiKX1mdW5jdGlvbiByKG4pe3JldHVybiEhbiYmISFuW1FdfWZ1bmN0aW9uIHQobil7dmFyIHI7cmV0dXJuISFuJiYoZnVuY3Rpb24obil7aWYoIW58fFwib2JqZWN0XCIhPXR5cGVvZiBuKXJldHVybiExO3ZhciByPU9iamVjdC5nZXRQcm90b3R5cGVPZihuKTtpZihudWxsPT09cilyZXR1cm4hMDt2YXIgdD1PYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChyLFwiY29uc3RydWN0b3JcIikmJnIuY29uc3RydWN0b3I7cmV0dXJuIHQ9PT1PYmplY3R8fFwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJkZ1bmN0aW9uLnRvU3RyaW5nLmNhbGwodCk9PT1afShuKXx8QXJyYXkuaXNBcnJheShuKXx8ISFuW0xdfHwhIShudWxsPT09KHI9bi5jb25zdHJ1Y3Rvcil8fHZvaWQgMD09PXI/dm9pZCAwOnJbTF0pfHxzKG4pfHx2KG4pKX1mdW5jdGlvbiBlKHQpe3JldHVybiByKHQpfHxuKDIzLHQpLHRbUV0udH1mdW5jdGlvbiBpKG4scix0KXt2b2lkIDA9PT10JiYodD0hMSksMD09PW8obik/KHQ/T2JqZWN0LmtleXM6bm4pKG4pLmZvckVhY2goKGZ1bmN0aW9uKGUpe3QmJlwic3ltYm9sXCI9PXR5cGVvZiBlfHxyKGUsbltlXSxuKX0pKTpuLmZvckVhY2goKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHIoZSx0LG4pfSkpfWZ1bmN0aW9uIG8obil7dmFyIHI9bltRXTtyZXR1cm4gcj9yLmk+Mz9yLmktNDpyLmk6QXJyYXkuaXNBcnJheShuKT8xOnMobik/Mjp2KG4pPzM6MH1mdW5jdGlvbiB1KG4scil7cmV0dXJuIDI9PT1vKG4pP24uaGFzKHIpOk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpfWZ1bmN0aW9uIGEobixyKXtyZXR1cm4gMj09PW8obik/bi5nZXQocik6bltyXX1mdW5jdGlvbiBmKG4scix0KXt2YXIgZT1vKG4pOzI9PT1lP24uc2V0KHIsdCk6Mz09PWU/bi5hZGQodCk6bltyXT10fWZ1bmN0aW9uIGMobixyKXtyZXR1cm4gbj09PXI/MCE9PW58fDEvbj09MS9yOm4hPW4mJnIhPXJ9ZnVuY3Rpb24gcyhuKXtyZXR1cm4gWCYmbiBpbnN0YW5jZW9mIE1hcH1mdW5jdGlvbiB2KG4pe3JldHVybiBxJiZuIGluc3RhbmNlb2YgU2V0fWZ1bmN0aW9uIHAobil7cmV0dXJuIG4ub3x8bi50fWZ1bmN0aW9uIGwobil7aWYoQXJyYXkuaXNBcnJheShuKSlyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwobik7dmFyIHI9cm4obik7ZGVsZXRlIHJbUV07Zm9yKHZhciB0PW5uKHIpLGU9MDtlPHQubGVuZ3RoO2UrKyl7dmFyIGk9dFtlXSxvPXJbaV07ITE9PT1vLndyaXRhYmxlJiYoby53cml0YWJsZT0hMCxvLmNvbmZpZ3VyYWJsZT0hMCksKG8uZ2V0fHxvLnNldCkmJihyW2ldPXtjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsZW51bWVyYWJsZTpvLmVudW1lcmFibGUsdmFsdWU6bltpXX0pfXJldHVybiBPYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZihuKSxyKX1mdW5jdGlvbiBkKG4sZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPSExKSx5KG4pfHxyKG4pfHwhdChuKXx8KG8obik+MSYmKG4uc2V0PW4uYWRkPW4uY2xlYXI9bi5kZWxldGU9aCksT2JqZWN0LmZyZWV6ZShuKSxlJiZpKG4sKGZ1bmN0aW9uKG4scil7cmV0dXJuIGQociwhMCl9KSwhMCkpLG59ZnVuY3Rpb24gaCgpe24oMil9ZnVuY3Rpb24geShuKXtyZXR1cm4gbnVsbD09bnx8XCJvYmplY3RcIiE9dHlwZW9mIG58fE9iamVjdC5pc0Zyb3plbihuKX1mdW5jdGlvbiBiKHIpe3ZhciB0PXRuW3JdO3JldHVybiB0fHxuKDE4LHIpLHR9ZnVuY3Rpb24gbShuLHIpe3RuW25dfHwodG5bbl09cil9ZnVuY3Rpb24gXygpe3JldHVyblwicHJvZHVjdGlvblwiPT09cHJvY2Vzcy5lbnYuTk9ERV9FTlZ8fFV8fG4oMCksVX1mdW5jdGlvbiBqKG4scil7ciYmKGIoXCJQYXRjaGVzXCIpLG4udT1bXSxuLnM9W10sbi52PXIpfWZ1bmN0aW9uIGcobil7TyhuKSxuLnAuZm9yRWFjaChTKSxuLnA9bnVsbH1mdW5jdGlvbiBPKG4pe249PT1VJiYoVT1uLmwpfWZ1bmN0aW9uIHcobil7cmV0dXJuIFU9e3A6W10sbDpVLGg6bixtOiEwLF86MH19ZnVuY3Rpb24gUyhuKXt2YXIgcj1uW1FdOzA9PT1yLml8fDE9PT1yLmk/ci5qKCk6ci5nPSEwfWZ1bmN0aW9uIFAocixlKXtlLl89ZS5wLmxlbmd0aDt2YXIgaT1lLnBbMF0sbz12b2lkIDAhPT1yJiZyIT09aTtyZXR1cm4gZS5oLk98fGIoXCJFUzVcIikuUyhlLHIsbyksbz8oaVtRXS5QJiYoZyhlKSxuKDQpKSx0KHIpJiYocj1NKGUsciksZS5sfHx4KGUscikpLGUudSYmYihcIlBhdGNoZXNcIikuTShpW1FdLnQscixlLnUsZS5zKSk6cj1NKGUsaSxbXSksZyhlKSxlLnUmJmUudihlLnUsZS5zKSxyIT09SD9yOnZvaWQgMH1mdW5jdGlvbiBNKG4scix0KXtpZih5KHIpKXJldHVybiByO3ZhciBlPXJbUV07aWYoIWUpcmV0dXJuIGkociwoZnVuY3Rpb24oaSxvKXtyZXR1cm4gQShuLGUscixpLG8sdCl9KSwhMCkscjtpZihlLkEhPT1uKXJldHVybiByO2lmKCFlLlApcmV0dXJuIHgobixlLnQsITApLGUudDtpZighZS5JKXtlLkk9ITAsZS5BLl8tLTt2YXIgbz00PT09ZS5pfHw1PT09ZS5pP2Uubz1sKGUuayk6ZS5vLHU9byxhPSExOzM9PT1lLmkmJih1PW5ldyBTZXQobyksby5jbGVhcigpLGE9ITApLGkodSwoZnVuY3Rpb24ocixpKXtyZXR1cm4gQShuLGUsbyxyLGksdCxhKX0pKSx4KG4sbywhMSksdCYmbi51JiZiKFwiUGF0Y2hlc1wiKS5OKGUsdCxuLnUsbi5zKX1yZXR1cm4gZS5vfWZ1bmN0aW9uIEEoZSxpLG8sYSxjLHMsdil7aWYoXCJwcm9kdWN0aW9uXCIhPT1wcm9jZXNzLmVudi5OT0RFX0VOViYmYz09PW8mJm4oNSkscihjKSl7dmFyIHA9TShlLGMscyYmaSYmMyE9PWkuaSYmIXUoaS5SLGEpP3MuY29uY2F0KGEpOnZvaWQgMCk7aWYoZihvLGEscCksIXIocCkpcmV0dXJuO2UubT0hMX1lbHNlIHYmJm8uYWRkKGMpO2lmKHQoYykmJiF5KGMpKXtpZighZS5oLkQmJmUuXzwxKXJldHVybjtNKGUsYyksaSYmaS5BLmx8fHgoZSxjKX19ZnVuY3Rpb24geChuLHIsdCl7dm9pZCAwPT09dCYmKHQ9ITEpLCFuLmwmJm4uaC5EJiZuLm0mJmQocix0KX1mdW5jdGlvbiB6KG4scil7dmFyIHQ9bltRXTtyZXR1cm4odD9wKHQpOm4pW3JdfWZ1bmN0aW9uIEkobixyKXtpZihyIGluIG4pZm9yKHZhciB0PU9iamVjdC5nZXRQcm90b3R5cGVPZihuKTt0Oyl7dmFyIGU9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpO2lmKGUpcmV0dXJuIGU7dD1PYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9fWZ1bmN0aW9uIGsobil7bi5QfHwobi5QPSEwLG4ubCYmayhuLmwpKX1mdW5jdGlvbiBFKG4pe24ub3x8KG4ubz1sKG4udCkpfWZ1bmN0aW9uIE4obixyLHQpe3ZhciBlPXMocik/YihcIk1hcFNldFwiKS5GKHIsdCk6dihyKT9iKFwiTWFwU2V0XCIpLlQocix0KTpuLk8/ZnVuY3Rpb24obixyKXt2YXIgdD1BcnJheS5pc0FycmF5KG4pLGU9e2k6dD8xOjAsQTpyP3IuQTpfKCksUDohMSxJOiExLFI6e30sbDpyLHQ6bixrOm51bGwsbzpudWxsLGo6bnVsbCxDOiExfSxpPWUsbz1lbjt0JiYoaT1bZV0sbz1vbik7dmFyIHU9UHJveHkucmV2b2NhYmxlKGksbyksYT11LnJldm9rZSxmPXUucHJveHk7cmV0dXJuIGUuaz1mLGUuaj1hLGZ9KHIsdCk6YihcIkVTNVwiKS5KKHIsdCk7cmV0dXJuKHQ/dC5BOl8oKSkucC5wdXNoKGUpLGV9ZnVuY3Rpb24gUihlKXtyZXR1cm4gcihlKXx8bigyMixlKSxmdW5jdGlvbiBuKHIpe2lmKCF0KHIpKXJldHVybiByO3ZhciBlLHU9cltRXSxjPW8ocik7aWYodSl7aWYoIXUuUCYmKHUuaTw0fHwhYihcIkVTNVwiKS5LKHUpKSlyZXR1cm4gdS50O3UuST0hMCxlPUQocixjKSx1Lkk9ITF9ZWxzZSBlPUQocixjKTtyZXR1cm4gaShlLChmdW5jdGlvbihyLHQpe3UmJmEodS50LHIpPT09dHx8ZihlLHIsbih0KSl9KSksMz09PWM/bmV3IFNldChlKTplfShlKX1mdW5jdGlvbiBEKG4scil7c3dpdGNoKHIpe2Nhc2UgMjpyZXR1cm4gbmV3IE1hcChuKTtjYXNlIDM6cmV0dXJuIEFycmF5LmZyb20obil9cmV0dXJuIGwobil9ZnVuY3Rpb24gRigpe2Z1bmN0aW9uIHQobixyKXt2YXIgdD1zW25dO3JldHVybiB0P3QuZW51bWVyYWJsZT1yOnNbbl09dD17Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6cixnZXQ6ZnVuY3Rpb24oKXt2YXIgcj10aGlzW1FdO3JldHVyblwicHJvZHVjdGlvblwiIT09cHJvY2Vzcy5lbnYuTk9ERV9FTlYmJmYociksZW4uZ2V0KHIsbil9LHNldDpmdW5jdGlvbihyKXt2YXIgdD10aGlzW1FdO1wicHJvZHVjdGlvblwiIT09cHJvY2Vzcy5lbnYuTk9ERV9FTlYmJmYodCksZW4uc2V0KHQsbixyKX19LHR9ZnVuY3Rpb24gZShuKXtmb3IodmFyIHI9bi5sZW5ndGgtMTtyPj0wO3ItLSl7dmFyIHQ9bltyXVtRXTtpZighdC5QKXN3aXRjaCh0Lmkpe2Nhc2UgNTphKHQpJiZrKHQpO2JyZWFrO2Nhc2UgNDpvKHQpJiZrKHQpfX19ZnVuY3Rpb24gbyhuKXtmb3IodmFyIHI9bi50LHQ9bi5rLGU9bm4odCksaT1lLmxlbmd0aC0xO2k+PTA7aS0tKXt2YXIgbz1lW2ldO2lmKG8hPT1RKXt2YXIgYT1yW29dO2lmKHZvaWQgMD09PWEmJiF1KHIsbykpcmV0dXJuITA7dmFyIGY9dFtvXSxzPWYmJmZbUV07aWYocz9zLnQhPT1hOiFjKGYsYSkpcmV0dXJuITB9fXZhciB2PSEhcltRXTtyZXR1cm4gZS5sZW5ndGghPT1ubihyKS5sZW5ndGgrKHY/MDoxKX1mdW5jdGlvbiBhKG4pe3ZhciByPW4uaztpZihyLmxlbmd0aCE9PW4udC5sZW5ndGgpcmV0dXJuITA7dmFyIHQ9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLHIubGVuZ3RoLTEpO2lmKHQmJiF0LmdldClyZXR1cm4hMDtmb3IodmFyIGU9MDtlPHIubGVuZ3RoO2UrKylpZighci5oYXNPd25Qcm9wZXJ0eShlKSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBmKHIpe3IuZyYmbigzLEpTT04uc3RyaW5naWZ5KHAocikpKX12YXIgcz17fTttKFwiRVM1XCIse0o6ZnVuY3Rpb24obixyKXt2YXIgZT1BcnJheS5pc0FycmF5KG4pLGk9ZnVuY3Rpb24obixyKXtpZihuKXtmb3IodmFyIGU9QXJyYXkoci5sZW5ndGgpLGk9MDtpPHIubGVuZ3RoO2krKylPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIlwiK2ksdChpLCEwKSk7cmV0dXJuIGV9dmFyIG89cm4ocik7ZGVsZXRlIG9bUV07Zm9yKHZhciB1PW5uKG8pLGE9MDthPHUubGVuZ3RoO2ErKyl7dmFyIGY9dVthXTtvW2ZdPXQoZixufHwhIW9bZl0uZW51bWVyYWJsZSl9cmV0dXJuIE9iamVjdC5jcmVhdGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKHIpLG8pfShlLG4pLG89e2k6ZT81OjQsQTpyP3IuQTpfKCksUDohMSxJOiExLFI6e30sbDpyLHQ6bixrOmksbzpudWxsLGc6ITEsQzohMX07cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFEse3ZhbHVlOm8sd3JpdGFibGU6ITB9KSxpfSxTOmZ1bmN0aW9uKG4sdCxvKXtvP3IodCkmJnRbUV0uQT09PW4mJmUobi5wKToobi51JiZmdW5jdGlvbiBuKHIpe2lmKHImJlwib2JqZWN0XCI9PXR5cGVvZiByKXt2YXIgdD1yW1FdO2lmKHQpe3ZhciBlPXQudCxvPXQuayxmPXQuUixjPXQuaTtpZig0PT09YylpKG8sKGZ1bmN0aW9uKHIpe3IhPT1RJiYodm9pZCAwIT09ZVtyXXx8dShlLHIpP2Zbcl18fG4ob1tyXSk6KGZbcl09ITAsayh0KSkpfSkpLGkoZSwoZnVuY3Rpb24obil7dm9pZCAwIT09b1tuXXx8dShvLG4pfHwoZltuXT0hMSxrKHQpKX0pKTtlbHNlIGlmKDU9PT1jKXtpZihhKHQpJiYoayh0KSxmLmxlbmd0aD0hMCksby5sZW5ndGg8ZS5sZW5ndGgpZm9yKHZhciBzPW8ubGVuZ3RoO3M8ZS5sZW5ndGg7cysrKWZbc109ITE7ZWxzZSBmb3IodmFyIHY9ZS5sZW5ndGg7djxvLmxlbmd0aDt2KyspZlt2XT0hMDtmb3IodmFyIHA9TWF0aC5taW4oby5sZW5ndGgsZS5sZW5ndGgpLGw9MDtsPHA7bCsrKW8uaGFzT3duUHJvcGVydHkobCl8fChmW2xdPSEwKSx2b2lkIDA9PT1mW2xdJiZuKG9bbF0pfX19fShuLnBbMF0pLGUobi5wKSl9LEs6ZnVuY3Rpb24obil7cmV0dXJuIDQ9PT1uLmk/byhuKTphKG4pfX0pfWZ1bmN0aW9uIFQoKXtmdW5jdGlvbiBlKG4pe2lmKCF0KG4pKXJldHVybiBuO2lmKEFycmF5LmlzQXJyYXkobikpcmV0dXJuIG4ubWFwKGUpO2lmKHMobikpcmV0dXJuIG5ldyBNYXAoQXJyYXkuZnJvbShuLmVudHJpZXMoKSkubWFwKChmdW5jdGlvbihuKXtyZXR1cm5bblswXSxlKG5bMV0pXX0pKSk7aWYodihuKSlyZXR1cm4gbmV3IFNldChBcnJheS5mcm9tKG4pLm1hcChlKSk7dmFyIHI9T2JqZWN0LmNyZWF0ZShPYmplY3QuZ2V0UHJvdG90eXBlT2YobikpO2Zvcih2YXIgaSBpbiBuKXJbaV09ZShuW2ldKTtyZXR1cm4gdShuLEwpJiYocltMXT1uW0xdKSxyfWZ1bmN0aW9uIGYobil7cmV0dXJuIHIobik/ZShuKTpufXZhciBjPVwiYWRkXCI7bShcIlBhdGNoZXNcIix7JDpmdW5jdGlvbihyLHQpe3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKHQpe2Zvcih2YXIgaT10LnBhdGgsdT10Lm9wLGY9cixzPTA7czxpLmxlbmd0aC0xO3MrKyl7dmFyIHY9byhmKSxwPWlbc107XCJzdHJpbmdcIiE9dHlwZW9mIHAmJlwibnVtYmVyXCIhPXR5cGVvZiBwJiYocD1cIlwiK3ApLDAhPT12JiYxIT09dnx8XCJfX3Byb3RvX19cIiE9PXAmJlwiY29uc3RydWN0b3JcIiE9PXB8fG4oMjQpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGYmJlwicHJvdG90eXBlXCI9PT1wJiZuKDI0KSxcIm9iamVjdFwiIT10eXBlb2YoZj1hKGYscCkpJiZuKDE1LGkuam9pbihcIi9cIikpfXZhciBsPW8oZiksZD1lKHQudmFsdWUpLGg9aVtpLmxlbmd0aC0xXTtzd2l0Y2godSl7Y2FzZVwicmVwbGFjZVwiOnN3aXRjaChsKXtjYXNlIDI6cmV0dXJuIGYuc2V0KGgsZCk7Y2FzZSAzOm4oMTYpO2RlZmF1bHQ6cmV0dXJuIGZbaF09ZH1jYXNlIGM6c3dpdGNoKGwpe2Nhc2UgMTpyZXR1cm5cIi1cIj09PWg/Zi5wdXNoKGQpOmYuc3BsaWNlKGgsMCxkKTtjYXNlIDI6cmV0dXJuIGYuc2V0KGgsZCk7Y2FzZSAzOnJldHVybiBmLmFkZChkKTtkZWZhdWx0OnJldHVybiBmW2hdPWR9Y2FzZVwicmVtb3ZlXCI6c3dpdGNoKGwpe2Nhc2UgMTpyZXR1cm4gZi5zcGxpY2UoaCwxKTtjYXNlIDI6cmV0dXJuIGYuZGVsZXRlKGgpO2Nhc2UgMzpyZXR1cm4gZi5kZWxldGUodC52YWx1ZSk7ZGVmYXVsdDpyZXR1cm4gZGVsZXRlIGZbaF19ZGVmYXVsdDpuKDE3LHUpfX0pKSxyfSxOOmZ1bmN0aW9uKG4scix0LGUpe3N3aXRjaChuLmkpe2Nhc2UgMDpjYXNlIDQ6Y2FzZSAyOnJldHVybiBmdW5jdGlvbihuLHIsdCxlKXt2YXIgbz1uLnQscz1uLm87aShuLlIsKGZ1bmN0aW9uKG4saSl7dmFyIHY9YShvLG4pLHA9YShzLG4pLGw9aT91KG8sbik/XCJyZXBsYWNlXCI6YzpcInJlbW92ZVwiO2lmKHYhPT1wfHxcInJlcGxhY2VcIiE9PWwpe3ZhciBkPXIuY29uY2F0KG4pO3QucHVzaChcInJlbW92ZVwiPT09bD97b3A6bCxwYXRoOmR9OntvcDpsLHBhdGg6ZCx2YWx1ZTpwfSksZS5wdXNoKGw9PT1jP3tvcDpcInJlbW92ZVwiLHBhdGg6ZH06XCJyZW1vdmVcIj09PWw/e29wOmMscGF0aDpkLHZhbHVlOmYodil9OntvcDpcInJlcGxhY2VcIixwYXRoOmQsdmFsdWU6Zih2KX0pfX0pKX0obixyLHQsZSk7Y2FzZSA1OmNhc2UgMTpyZXR1cm4gZnVuY3Rpb24obixyLHQsZSl7dmFyIGk9bi50LG89bi5SLHU9bi5vO2lmKHUubGVuZ3RoPGkubGVuZ3RoKXt2YXIgYT1bdSxpXTtpPWFbMF0sdT1hWzFdO3ZhciBzPVtlLHRdO3Q9c1swXSxlPXNbMV19Zm9yKHZhciB2PTA7djxpLmxlbmd0aDt2KyspaWYob1t2XSYmdVt2XSE9PWlbdl0pe3ZhciBwPXIuY29uY2F0KFt2XSk7dC5wdXNoKHtvcDpcInJlcGxhY2VcIixwYXRoOnAsdmFsdWU6Zih1W3ZdKX0pLGUucHVzaCh7b3A6XCJyZXBsYWNlXCIscGF0aDpwLHZhbHVlOmYoaVt2XSl9KX1mb3IodmFyIGw9aS5sZW5ndGg7bDx1Lmxlbmd0aDtsKyspe3ZhciBkPXIuY29uY2F0KFtsXSk7dC5wdXNoKHtvcDpjLHBhdGg6ZCx2YWx1ZTpmKHVbbF0pfSl9aS5sZW5ndGg8dS5sZW5ndGgmJmUucHVzaCh7b3A6XCJyZXBsYWNlXCIscGF0aDpyLmNvbmNhdChbXCJsZW5ndGhcIl0pLHZhbHVlOmkubGVuZ3RofSl9KG4scix0LGUpO2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24obixyLHQsZSl7dmFyIGk9bi50LG89bi5vLHU9MDtpLmZvckVhY2goKGZ1bmN0aW9uKG4pe2lmKCFvLmhhcyhuKSl7dmFyIGk9ci5jb25jYXQoW3VdKTt0LnB1c2goe29wOlwicmVtb3ZlXCIscGF0aDppLHZhbHVlOm59KSxlLnVuc2hpZnQoe29wOmMscGF0aDppLHZhbHVlOm59KX11Kyt9KSksdT0wLG8uZm9yRWFjaCgoZnVuY3Rpb24obil7aWYoIWkuaGFzKG4pKXt2YXIgbz1yLmNvbmNhdChbdV0pO3QucHVzaCh7b3A6YyxwYXRoOm8sdmFsdWU6bn0pLGUudW5zaGlmdCh7b3A6XCJyZW1vdmVcIixwYXRoOm8sdmFsdWU6bn0pfXUrK30pKX0obixyLHQsZSl9fSxNOmZ1bmN0aW9uKG4scix0LGUpe3QucHVzaCh7b3A6XCJyZXBsYWNlXCIscGF0aDpbXSx2YWx1ZTpyPT09SD92b2lkIDA6cn0pLGUucHVzaCh7b3A6XCJyZXBsYWNlXCIscGF0aDpbXSx2YWx1ZTpufSl9fSl9ZnVuY3Rpb24gQygpe2Z1bmN0aW9uIHIobixyKXtmdW5jdGlvbiB0KCl7dGhpcy5jb25zdHJ1Y3Rvcj1ufWEobixyKSxuLnByb3RvdHlwZT0odC5wcm90b3R5cGU9ci5wcm90b3R5cGUsbmV3IHQpfWZ1bmN0aW9uIGUobil7bi5vfHwobi5SPW5ldyBNYXAsbi5vPW5ldyBNYXAobi50KSl9ZnVuY3Rpb24gbyhuKXtuLm98fChuLm89bmV3IFNldCxuLnQuZm9yRWFjaCgoZnVuY3Rpb24ocil7aWYodChyKSl7dmFyIGU9TihuLkEuaCxyLG4pO24ucC5zZXQocixlKSxuLm8uYWRkKGUpfWVsc2Ugbi5vLmFkZChyKX0pKSl9ZnVuY3Rpb24gdShyKXtyLmcmJm4oMyxKU09OLnN0cmluZ2lmeShwKHIpKSl9dmFyIGE9ZnVuY3Rpb24obixyKXtyZXR1cm4oYT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24obixyKXtuLl9fcHJvdG9fXz1yfXx8ZnVuY3Rpb24obixyKXtmb3IodmFyIHQgaW4gcilyLmhhc093blByb3BlcnR5KHQpJiYoblt0XT1yW3RdKX0pKG4scil9LGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKG4scil7cmV0dXJuIHRoaXNbUV09e2k6MixsOnIsQTpyP3IuQTpfKCksUDohMSxJOiExLG86dm9pZCAwLFI6dm9pZCAwLHQ6bixrOnRoaXMsQzohMSxnOiExfSx0aGlzfXIobixNYXApO3ZhciBvPW4ucHJvdG90eXBlO3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkobyxcInNpemVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHAodGhpc1tRXSkuc2l6ZX19KSxvLmhhcz1mdW5jdGlvbihuKXtyZXR1cm4gcCh0aGlzW1FdKS5oYXMobil9LG8uc2V0PWZ1bmN0aW9uKG4scil7dmFyIHQ9dGhpc1tRXTtyZXR1cm4gdSh0KSxwKHQpLmhhcyhuKSYmcCh0KS5nZXQobik9PT1yfHwoZSh0KSxrKHQpLHQuUi5zZXQobiwhMCksdC5vLnNldChuLHIpLHQuUi5zZXQobiwhMCkpLHRoaXN9LG8uZGVsZXRlPWZ1bmN0aW9uKG4pe2lmKCF0aGlzLmhhcyhuKSlyZXR1cm4hMTt2YXIgcj10aGlzW1FdO3JldHVybiB1KHIpLGUociksayhyKSxyLnQuaGFzKG4pP3IuUi5zZXQobiwhMSk6ci5SLmRlbGV0ZShuKSxyLm8uZGVsZXRlKG4pLCEwfSxvLmNsZWFyPWZ1bmN0aW9uKCl7dmFyIG49dGhpc1tRXTt1KG4pLHAobikuc2l6ZSYmKGUobiksayhuKSxuLlI9bmV3IE1hcCxpKG4udCwoZnVuY3Rpb24ocil7bi5SLnNldChyLCExKX0pKSxuLm8uY2xlYXIoKSl9LG8uZm9yRWFjaD1mdW5jdGlvbihuLHIpe3ZhciB0PXRoaXM7cCh0aGlzW1FdKS5mb3JFYWNoKChmdW5jdGlvbihlLGkpe24uY2FsbChyLHQuZ2V0KGkpLGksdCl9KSl9LG8uZ2V0PWZ1bmN0aW9uKG4pe3ZhciByPXRoaXNbUV07dShyKTt2YXIgaT1wKHIpLmdldChuKTtpZihyLkl8fCF0KGkpKXJldHVybiBpO2lmKGkhPT1yLnQuZ2V0KG4pKXJldHVybiBpO3ZhciBvPU4oci5BLmgsaSxyKTtyZXR1cm4gZShyKSxyLm8uc2V0KG4sbyksb30sby5rZXlzPWZ1bmN0aW9uKCl7cmV0dXJuIHAodGhpc1tRXSkua2V5cygpfSxvLnZhbHVlcz1mdW5jdGlvbigpe3ZhciBuLHI9dGhpcyx0PXRoaXMua2V5cygpO3JldHVybihuPXt9KVtWXT1mdW5jdGlvbigpe3JldHVybiByLnZhbHVlcygpfSxuLm5leHQ9ZnVuY3Rpb24oKXt2YXIgbj10Lm5leHQoKTtyZXR1cm4gbi5kb25lP246e2RvbmU6ITEsdmFsdWU6ci5nZXQobi52YWx1ZSl9fSxufSxvLmVudHJpZXM9ZnVuY3Rpb24oKXt2YXIgbixyPXRoaXMsdD10aGlzLmtleXMoKTtyZXR1cm4obj17fSlbVl09ZnVuY3Rpb24oKXtyZXR1cm4gci5lbnRyaWVzKCl9LG4ubmV4dD1mdW5jdGlvbigpe3ZhciBuPXQubmV4dCgpO2lmKG4uZG9uZSlyZXR1cm4gbjt2YXIgZT1yLmdldChuLnZhbHVlKTtyZXR1cm57ZG9uZTohMSx2YWx1ZTpbbi52YWx1ZSxlXX19LG59LG9bVl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbnRyaWVzKCl9LG59KCksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIG4obixyKXtyZXR1cm4gdGhpc1tRXT17aTozLGw6cixBOnI/ci5BOl8oKSxQOiExLEk6ITEsbzp2b2lkIDAsdDpuLGs6dGhpcyxwOm5ldyBNYXAsZzohMSxDOiExfSx0aGlzfXIobixTZXQpO3ZhciB0PW4ucHJvdG90eXBlO3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInNpemVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHAodGhpc1tRXSkuc2l6ZX19KSx0Lmhhcz1mdW5jdGlvbihuKXt2YXIgcj10aGlzW1FdO3JldHVybiB1KHIpLHIubz8hIXIuby5oYXMobil8fCEoIXIucC5oYXMobil8fCFyLm8uaGFzKHIucC5nZXQobikpKTpyLnQuaGFzKG4pfSx0LmFkZD1mdW5jdGlvbihuKXt2YXIgcj10aGlzW1FdO3JldHVybiB1KHIpLHRoaXMuaGFzKG4pfHwobyhyKSxrKHIpLHIuby5hZGQobikpLHRoaXN9LHQuZGVsZXRlPWZ1bmN0aW9uKG4pe2lmKCF0aGlzLmhhcyhuKSlyZXR1cm4hMTt2YXIgcj10aGlzW1FdO3JldHVybiB1KHIpLG8ociksayhyKSxyLm8uZGVsZXRlKG4pfHwhIXIucC5oYXMobikmJnIuby5kZWxldGUoci5wLmdldChuKSl9LHQuY2xlYXI9ZnVuY3Rpb24oKXt2YXIgbj10aGlzW1FdO3UobikscChuKS5zaXplJiYobyhuKSxrKG4pLG4uby5jbGVhcigpKX0sdC52YWx1ZXM9ZnVuY3Rpb24oKXt2YXIgbj10aGlzW1FdO3JldHVybiB1KG4pLG8obiksbi5vLnZhbHVlcygpfSx0LmVudHJpZXM9ZnVuY3Rpb24oKXt2YXIgbj10aGlzW1FdO3JldHVybiB1KG4pLG8obiksbi5vLmVudHJpZXMoKX0sdC5rZXlzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWVzKCl9LHRbVl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZXMoKX0sdC5mb3JFYWNoPWZ1bmN0aW9uKG4scil7Zm9yKHZhciB0PXRoaXMudmFsdWVzKCksZT10Lm5leHQoKTshZS5kb25lOyluLmNhbGwocixlLnZhbHVlLGUudmFsdWUsdGhpcyksZT10Lm5leHQoKX0sbn0oKTttKFwiTWFwU2V0XCIse0Y6ZnVuY3Rpb24obixyKXtyZXR1cm4gbmV3IGYobixyKX0sVDpmdW5jdGlvbihuLHIpe3JldHVybiBuZXcgYyhuLHIpfX0pfWZ1bmN0aW9uIEooKXtGKCksQygpLFQoKX1mdW5jdGlvbiBLKG4pe3JldHVybiBufWZ1bmN0aW9uICQobil7cmV0dXJuIG59dmFyIEcsVSxXPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2woXCJ4XCIpLFg9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIE1hcCxxPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBTZXQsQj1cInVuZGVmaW5lZFwiIT10eXBlb2YgUHJveHkmJnZvaWQgMCE9PVByb3h5LnJldm9jYWJsZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFJlZmxlY3QsSD1XP1N5bWJvbC5mb3IoXCJpbW1lci1ub3RoaW5nXCIpOigoRz17fSlbXCJpbW1lci1ub3RoaW5nXCJdPSEwLEcpLEw9Vz9TeW1ib2wuZm9yKFwiaW1tZXItZHJhZnRhYmxlXCIpOlwiX18kaW1tZXJfZHJhZnRhYmxlXCIsUT1XP1N5bWJvbC5mb3IoXCJpbW1lci1zdGF0ZVwiKTpcIl9fJGltbWVyX3N0YXRlXCIsVj1cInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3J8fFwiQEBpdGVyYXRvclwiLFk9ezA6XCJJbGxlZ2FsIHN0YXRlXCIsMTpcIkltbWVyIGRyYWZ0cyBjYW5ub3QgaGF2ZSBjb21wdXRlZCBwcm9wZXJ0aWVzXCIsMjpcIlRoaXMgb2JqZWN0IGhhcyBiZWVuIGZyb3plbiBhbmQgc2hvdWxkIG5vdCBiZSBtdXRhdGVkXCIsMzpmdW5jdGlvbihuKXtyZXR1cm5cIkNhbm5vdCB1c2UgYSBwcm94eSB0aGF0IGhhcyBiZWVuIHJldm9rZWQuIERpZCB5b3UgcGFzcyBhbiBvYmplY3QgZnJvbSBpbnNpZGUgYW4gaW1tZXIgZnVuY3Rpb24gdG8gYW4gYXN5bmMgcHJvY2Vzcz8gXCIrbn0sNDpcIkFuIGltbWVyIHByb2R1Y2VyIHJldHVybmVkIGEgbmV3IHZhbHVlICphbmQqIG1vZGlmaWVkIGl0cyBkcmFmdC4gRWl0aGVyIHJldHVybiBhIG5ldyB2YWx1ZSAqb3IqIG1vZGlmeSB0aGUgZHJhZnQuXCIsNTpcIkltbWVyIGZvcmJpZHMgY2lyY3VsYXIgcmVmZXJlbmNlc1wiLDY6XCJUaGUgZmlyc3Qgb3Igc2Vjb25kIGFyZ3VtZW50IHRvIGBwcm9kdWNlYCBtdXN0IGJlIGEgZnVuY3Rpb25cIiw3OlwiVGhlIHRoaXJkIGFyZ3VtZW50IHRvIGBwcm9kdWNlYCBtdXN0IGJlIGEgZnVuY3Rpb24gb3IgdW5kZWZpbmVkXCIsODpcIkZpcnN0IGFyZ3VtZW50IHRvIGBjcmVhdGVEcmFmdGAgbXVzdCBiZSBhIHBsYWluIG9iamVjdCwgYW4gYXJyYXksIG9yIGFuIGltbWVyYWJsZSBvYmplY3RcIiw5OlwiRmlyc3QgYXJndW1lbnQgdG8gYGZpbmlzaERyYWZ0YCBtdXN0IGJlIGEgZHJhZnQgcmV0dXJuZWQgYnkgYGNyZWF0ZURyYWZ0YFwiLDEwOlwiVGhlIGdpdmVuIGRyYWZ0IGlzIGFscmVhZHkgZmluYWxpemVkXCIsMTE6XCJPYmplY3QuZGVmaW5lUHJvcGVydHkoKSBjYW5ub3QgYmUgdXNlZCBvbiBhbiBJbW1lciBkcmFmdFwiLDEyOlwiT2JqZWN0LnNldFByb3RvdHlwZU9mKCkgY2Fubm90IGJlIHVzZWQgb24gYW4gSW1tZXIgZHJhZnRcIiwxMzpcIkltbWVyIG9ubHkgc3VwcG9ydHMgZGVsZXRpbmcgYXJyYXkgaW5kaWNlc1wiLDE0OlwiSW1tZXIgb25seSBzdXBwb3J0cyBzZXR0aW5nIGFycmF5IGluZGljZXMgYW5kIHRoZSAnbGVuZ3RoJyBwcm9wZXJ0eVwiLDE1OmZ1bmN0aW9uKG4pe3JldHVyblwiQ2Fubm90IGFwcGx5IHBhdGNoLCBwYXRoIGRvZXNuJ3QgcmVzb2x2ZTogXCIrbn0sMTY6J1NldHMgY2Fubm90IGhhdmUgXCJyZXBsYWNlXCIgcGF0Y2hlcy4nLDE3OmZ1bmN0aW9uKG4pe3JldHVyblwiVW5zdXBwb3J0ZWQgcGF0Y2ggb3BlcmF0aW9uOiBcIitufSwxODpmdW5jdGlvbihuKXtyZXR1cm5cIlRoZSBwbHVnaW4gZm9yICdcIituK1wiJyBoYXMgbm90IGJlZW4gbG9hZGVkIGludG8gSW1tZXIuIFRvIGVuYWJsZSB0aGUgcGx1Z2luLCBpbXBvcnQgYW5kIGNhbGwgYGVuYWJsZVwiK24rXCIoKWAgd2hlbiBpbml0aWFsaXppbmcgeW91ciBhcHBsaWNhdGlvbi5cIn0sMjA6XCJDYW5ub3QgdXNlIHByb3hpZXMgaWYgUHJveHksIFByb3h5LnJldm9jYWJsZSBvciBSZWZsZWN0IGFyZSBub3QgYXZhaWxhYmxlXCIsMjE6ZnVuY3Rpb24obil7cmV0dXJuXCJwcm9kdWNlIGNhbiBvbmx5IGJlIGNhbGxlZCBvbiB0aGluZ3MgdGhhdCBhcmUgZHJhZnRhYmxlOiBwbGFpbiBvYmplY3RzLCBhcnJheXMsIE1hcCwgU2V0IG9yIGNsYXNzZXMgdGhhdCBhcmUgbWFya2VkIHdpdGggJ1tpbW1lcmFibGVdOiB0cnVlJy4gR290ICdcIituK1wiJ1wifSwyMjpmdW5jdGlvbihuKXtyZXR1cm5cIidjdXJyZW50JyBleHBlY3RzIGEgZHJhZnQsIGdvdDogXCIrbn0sMjM6ZnVuY3Rpb24obil7cmV0dXJuXCInb3JpZ2luYWwnIGV4cGVjdHMgYSBkcmFmdCwgZ290OiBcIitufSwyNDpcIlBhdGNoaW5nIHJlc2VydmVkIGF0dHJpYnV0ZXMgbGlrZSBfX3Byb3RvX18sIHByb3RvdHlwZSBhbmQgY29uc3RydWN0b3IgaXMgbm90IGFsbG93ZWRcIn0sWj1cIlwiK09iamVjdC5wcm90b3R5cGUuY29uc3RydWN0b3Isbm49XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFJlZmxlY3QmJlJlZmxlY3Qub3duS2V5cz9SZWZsZWN0Lm93bktleXM6dm9pZCAwIT09T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scz9mdW5jdGlvbihuKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMobikuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMobikpfTpPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyxybj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yc3x8ZnVuY3Rpb24obil7dmFyIHI9e307cmV0dXJuIG5uKG4pLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JbdF09T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpfSkpLHJ9LHRuPXt9LGVuPXtnZXQ6ZnVuY3Rpb24obixyKXtpZihyPT09USlyZXR1cm4gbjt2YXIgZT1wKG4pO2lmKCF1KGUscikpcmV0dXJuIGZ1bmN0aW9uKG4scix0KXt2YXIgZSxpPUkocix0KTtyZXR1cm4gaT9cInZhbHVlXCJpbiBpP2kudmFsdWU6bnVsbD09PShlPWkuZ2V0KXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5jYWxsKG4uayk6dm9pZCAwfShuLGUscik7dmFyIGk9ZVtyXTtyZXR1cm4gbi5JfHwhdChpKT9pOmk9PT16KG4udCxyKT8oRShuKSxuLm9bcl09TihuLkEuaCxpLG4pKTppfSxoYXM6ZnVuY3Rpb24obixyKXtyZXR1cm4gciBpbiBwKG4pfSxvd25LZXlzOmZ1bmN0aW9uKG4pe3JldHVybiBSZWZsZWN0Lm93bktleXMocChuKSl9LHNldDpmdW5jdGlvbihuLHIsdCl7dmFyIGU9SShwKG4pLHIpO2lmKG51bGw9PWU/dm9pZCAwOmUuc2V0KXJldHVybiBlLnNldC5jYWxsKG4uayx0KSwhMDtpZighbi5QKXt2YXIgaT16KHAobiksciksbz1udWxsPT1pP3ZvaWQgMDppW1FdO2lmKG8mJm8udD09PXQpcmV0dXJuIG4ub1tyXT10LG4uUltyXT0hMSwhMDtpZihjKHQsaSkmJih2b2lkIDAhPT10fHx1KG4udCxyKSkpcmV0dXJuITA7RShuKSxrKG4pfXJldHVybiBuLm9bcl09PT10JiYodm9pZCAwIT09dHx8ciBpbiBuLm8pfHxOdW1iZXIuaXNOYU4odCkmJk51bWJlci5pc05hTihuLm9bcl0pfHwobi5vW3JdPXQsbi5SW3JdPSEwKSwhMH0sZGVsZXRlUHJvcGVydHk6ZnVuY3Rpb24obixyKXtyZXR1cm4gdm9pZCAwIT09eihuLnQscil8fHIgaW4gbi50PyhuLlJbcl09ITEsRShuKSxrKG4pKTpkZWxldGUgbi5SW3JdLG4ubyYmZGVsZXRlIG4ub1tyXSwhMH0sZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOmZ1bmN0aW9uKG4scil7dmFyIHQ9cChuKSxlPVJlZmxlY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscik7cmV0dXJuIGU/e3dyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZToxIT09bi5pfHxcImxlbmd0aFwiIT09cixlbnVtZXJhYmxlOmUuZW51bWVyYWJsZSx2YWx1ZTp0W3JdfTplfSxkZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbigpe24oMTEpfSxnZXRQcm90b3R5cGVPZjpmdW5jdGlvbihuKXtyZXR1cm4gT2JqZWN0LmdldFByb3RvdHlwZU9mKG4udCl9LHNldFByb3RvdHlwZU9mOmZ1bmN0aW9uKCl7bigxMil9fSxvbj17fTtpKGVuLChmdW5jdGlvbihuLHIpe29uW25dPWZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c1swXT1hcmd1bWVudHNbMF1bMF0sci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSkpLG9uLmRlbGV0ZVByb3BlcnR5PWZ1bmN0aW9uKHIsdCl7cmV0dXJuXCJwcm9kdWN0aW9uXCIhPT1wcm9jZXNzLmVudi5OT0RFX0VOViYmaXNOYU4ocGFyc2VJbnQodCkpJiZuKDEzKSxvbi5zZXQuY2FsbCh0aGlzLHIsdCx2b2lkIDApfSxvbi5zZXQ9ZnVuY3Rpb24ocix0LGUpe3JldHVyblwicHJvZHVjdGlvblwiIT09cHJvY2Vzcy5lbnYuTk9ERV9FTlYmJlwibGVuZ3RoXCIhPT10JiZpc05hTihwYXJzZUludCh0KSkmJm4oMTQpLGVuLnNldC5jYWxsKHRoaXMsclswXSx0LGUsclswXSl9O3ZhciB1bj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUocil7dmFyIGU9dGhpczt0aGlzLk89Qix0aGlzLkQ9ITAsdGhpcy5wcm9kdWNlPWZ1bmN0aW9uKHIsaSxvKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiByJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBpKXt2YXIgdT1pO2k9cjt2YXIgYT1lO3JldHVybiBmdW5jdGlvbihuKXt2YXIgcj10aGlzO3ZvaWQgMD09PW4mJihuPXUpO2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGU9QXJyYXkodD4xP3QtMTowKSxvPTE7bzx0O28rKyllW28tMV09YXJndW1lbnRzW29dO3JldHVybiBhLnByb2R1Y2UobiwoZnVuY3Rpb24obil7dmFyIHQ7cmV0dXJuKHQ9aSkuY2FsbC5hcHBseSh0LFtyLG5dLmNvbmNhdChlKSl9KSl9fXZhciBmO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGkmJm4oNiksdm9pZCAwIT09byYmXCJmdW5jdGlvblwiIT10eXBlb2YgbyYmbig3KSx0KHIpKXt2YXIgYz13KGUpLHM9TihlLHIsdm9pZCAwKSx2PSEwO3RyeXtmPWkocyksdj0hMX1maW5hbGx5e3Y/ZyhjKTpPKGMpfXJldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBQcm9taXNlJiZmIGluc3RhbmNlb2YgUHJvbWlzZT9mLnRoZW4oKGZ1bmN0aW9uKG4pe3JldHVybiBqKGMsbyksUChuLGMpfSksKGZ1bmN0aW9uKG4pe3Rocm93IGcoYyksbn0pKTooaihjLG8pLFAoZixjKSl9aWYoIXJ8fFwib2JqZWN0XCIhPXR5cGVvZiByKXtpZih2b2lkIDA9PT0oZj1pKHIpKSYmKGY9ciksZj09PUgmJihmPXZvaWQgMCksZS5EJiZkKGYsITApLG8pe3ZhciBwPVtdLGw9W107YihcIlBhdGNoZXNcIikuTShyLGYscCxsKSxvKHAsbCl9cmV0dXJuIGZ9bigyMSxyKX0sdGhpcy5wcm9kdWNlV2l0aFBhdGNoZXM9ZnVuY3Rpb24obixyKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBuKXJldHVybiBmdW5jdGlvbihyKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxpPUFycmF5KHQ+MT90LTE6MCksbz0xO288dDtvKyspaVtvLTFdPWFyZ3VtZW50c1tvXTtyZXR1cm4gZS5wcm9kdWNlV2l0aFBhdGNoZXMociwoZnVuY3Rpb24ocil7cmV0dXJuIG4uYXBwbHkodm9pZCAwLFtyXS5jb25jYXQoaSkpfSkpfTt2YXIgdCxpLG89ZS5wcm9kdWNlKG4sciwoZnVuY3Rpb24obixyKXt0PW4saT1yfSkpO3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBQcm9taXNlJiZvIGluc3RhbmNlb2YgUHJvbWlzZT9vLnRoZW4oKGZ1bmN0aW9uKG4pe3JldHVybltuLHQsaV19KSk6W28sdCxpXX0sXCJib29sZWFuXCI9PXR5cGVvZihudWxsPT1yP3ZvaWQgMDpyLnVzZVByb3hpZXMpJiZ0aGlzLnNldFVzZVByb3hpZXMoci51c2VQcm94aWVzKSxcImJvb2xlYW5cIj09dHlwZW9mKG51bGw9PXI/dm9pZCAwOnIuYXV0b0ZyZWV6ZSkmJnRoaXMuc2V0QXV0b0ZyZWV6ZShyLmF1dG9GcmVlemUpfXZhciBpPWUucHJvdG90eXBlO3JldHVybiBpLmNyZWF0ZURyYWZ0PWZ1bmN0aW9uKGUpe3QoZSl8fG4oOCkscihlKSYmKGU9UihlKSk7dmFyIGk9dyh0aGlzKSxvPU4odGhpcyxlLHZvaWQgMCk7cmV0dXJuIG9bUV0uQz0hMCxPKGkpLG99LGkuZmluaXNoRHJhZnQ9ZnVuY3Rpb24ocix0KXt2YXIgZT1yJiZyW1FdO1wicHJvZHVjdGlvblwiIT09cHJvY2Vzcy5lbnYuTk9ERV9FTlYmJihlJiZlLkN8fG4oOSksZS5JJiZuKDEwKSk7dmFyIGk9ZS5BO3JldHVybiBqKGksdCksUCh2b2lkIDAsaSl9LGkuc2V0QXV0b0ZyZWV6ZT1mdW5jdGlvbihuKXt0aGlzLkQ9bn0saS5zZXRVc2VQcm94aWVzPWZ1bmN0aW9uKHIpe3ImJiFCJiZuKDIwKSx0aGlzLk89cn0saS5hcHBseVBhdGNoZXM9ZnVuY3Rpb24obix0KXt2YXIgZTtmb3IoZT10Lmxlbmd0aC0xO2U+PTA7ZS0tKXt2YXIgaT10W2VdO2lmKDA9PT1pLnBhdGgubGVuZ3RoJiZcInJlcGxhY2VcIj09PWkub3Ape249aS52YWx1ZTticmVha319ZT4tMSYmKHQ9dC5zbGljZShlKzEpKTt2YXIgbz1iKFwiUGF0Y2hlc1wiKS4kO3JldHVybiByKG4pP28obix0KTp0aGlzLnByb2R1Y2UobiwoZnVuY3Rpb24obil7cmV0dXJuIG8obix0KX0pKX0sZX0oKSxhbj1uZXcgdW4sZm49YW4ucHJvZHVjZSxjbj1hbi5wcm9kdWNlV2l0aFBhdGNoZXMuYmluZChhbiksc249YW4uc2V0QXV0b0ZyZWV6ZS5iaW5kKGFuKSx2bj1hbi5zZXRVc2VQcm94aWVzLmJpbmQoYW4pLHBuPWFuLmFwcGx5UGF0Y2hlcy5iaW5kKGFuKSxsbj1hbi5jcmVhdGVEcmFmdC5iaW5kKGFuKSxkbj1hbi5maW5pc2hEcmFmdC5iaW5kKGFuKTtleHBvcnQgZGVmYXVsdCBmbjtleHBvcnR7dW4gYXMgSW1tZXIscG4gYXMgYXBwbHlQYXRjaGVzLEsgYXMgY2FzdERyYWZ0LCQgYXMgY2FzdEltbXV0YWJsZSxsbiBhcyBjcmVhdGVEcmFmdCxSIGFzIGN1cnJlbnQsSiBhcyBlbmFibGVBbGxQbHVnaW5zLEYgYXMgZW5hYmxlRVM1LEMgYXMgZW5hYmxlTWFwU2V0LFQgYXMgZW5hYmxlUGF0Y2hlcyxkbiBhcyBmaW5pc2hEcmFmdCxkIGFzIGZyZWV6ZSxMIGFzIGltbWVyYWJsZSxyIGFzIGlzRHJhZnQsdCBhcyBpc0RyYWZ0YWJsZSxIIGFzIG5vdGhpbmcsZSBhcyBvcmlnaW5hbCxmbiBhcyBwcm9kdWNlLGNuIGFzIHByb2R1Y2VXaXRoUGF0Y2hlcyxzbiBhcyBzZXRBdXRvRnJlZXplLHZuIGFzIHNldFVzZVByb3hpZXN9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW1tZXIuZXNtLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/immer/dist/immer.esm.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/api/app-dynamic.js":
/*!***************************************************!*\
  !*** ./node_modules/next/dist/api/app-dynamic.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* reexport default from dynamic */ _shared_lib_app_dynamic__WEBPACK_IMPORTED_MODULE_0___default.a)\n/* harmony export */ });\n/* harmony import */ var _shared_lib_app_dynamic__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../shared/lib/app-dynamic */ \"(app-pages-browser)/./node_modules/next/dist/shared/lib/app-dynamic.js\");\n/* harmony import */ var _shared_lib_app_dynamic__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_shared_lib_app_dynamic__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _shared_lib_app_dynamic__WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== \"default\") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _shared_lib_app_dynamic__WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\n\n\n//# sourceMappingURL=app-dynamic.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYXBpL2FwcC1keW5hbWljLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUEwQztBQUNVOztBQUVwRCIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxuaWNob2xhcy5sZWVcXERvY3VtZW50c1xcelxcVGlja2V0aW5nX05pY2tcXFRpY2tldGluZ1xcdGF2X29wZW5zb3VyY2VcXHVpXFxub2RlX21vZHVsZXNcXG5leHRcXGRpc3RcXGFwaVxcYXBwLWR5bmFtaWMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi4vc2hhcmVkL2xpYi9hcHAtZHluYW1pYyc7XG5leHBvcnQgeyBkZWZhdWx0IH0gZnJvbSAnLi4vc2hhcmVkL2xpYi9hcHAtZHluYW1pYyc7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1keW5hbWljLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/api/app-dynamic.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/api/navigation.js":
/*!**************************************************!*\
  !*** ./node_modules/next/dist/api/navigation.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _client_components_navigation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../client/components/navigation */ \"(app-pages-browser)/./node_modules/next/dist/client/components/navigation.js\");\n/* harmony import */ var _client_components_navigation__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_client_components_navigation__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _client_components_navigation__WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== \"default\") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _client_components_navigation__WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\n\n//# sourceMappingURL=navigation.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYXBpL25hdmlnYXRpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdEOztBQUVoRCIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxuaWNob2xhcy5sZWVcXERvY3VtZW50c1xcelxcVGlja2V0aW5nX05pY2tcXFRpY2tldGluZ1xcdGF2X29wZW5zb3VyY2VcXHVpXFxub2RlX21vZHVsZXNcXG5leHRcXGRpc3RcXGFwaVxcbmF2aWdhdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgKiBmcm9tICcuLi9jbGllbnQvY29tcG9uZW50cy9uYXZpZ2F0aW9uJztcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmF2aWdhdGlvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/api/navigation.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5Cnicholas.lee%5C%5CDocuments%5C%5Cz%5C%5CTicketing_Nick%5C%5CTicketing%5C%5Ctav_opensource%5C%5Cui%5C%5Csrc%5C%5Capp%5C%5Ceditor-page%5C%5Cpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=false!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5Cnicholas.lee%5C%5CDocuments%5C%5Cz%5C%5CTicketing_Nick%5C%5CTicketing%5C%5Ctav_opensource%5C%5Cui%5C%5Csrc%5C%5Capp%5C%5Ceditor-page%5C%5Cpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=false! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval(__webpack_require__.ts("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/editor-page/page.tsx */ \"(app-pages-browser)/./src/app/editor-page/page.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtZmxpZ2h0LWNsaWVudC1lbnRyeS1sb2FkZXIuanM/bW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyQyUzQSU1QyU1Q1VzZXJzJTVDJTVDbmljaG9sYXMubGVlJTVDJTVDRG9jdW1lbnRzJTVDJTVDeiU1QyU1Q1RpY2tldGluZ19OaWNrJTVDJTVDVGlja2V0aW5nJTVDJTVDdGF2X29wZW5zb3VyY2UlNUMlNUN1aSU1QyU1Q3NyYyU1QyU1Q2FwcCU1QyU1Q2VkaXRvci1wYWdlJTVDJTVDcGFnZS50c3glMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0Qmc2VydmVyPWZhbHNlISIsIm1hcHBpbmdzIjoiQUFBQSxzTEFBMEoiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkM6XFxcXFVzZXJzXFxcXG5pY2hvbGFzLmxlZVxcXFxEb2N1bWVudHNcXFxcelxcXFxUaWNrZXRpbmdfTmlja1xcXFxUaWNrZXRpbmdcXFxcdGF2X29wZW5zb3VyY2VcXFxcdWlcXFxcc3JjXFxcXGFwcFxcXFxlZGl0b3ItcGFnZVxcXFxwYWdlLnRzeFwiKTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5Cnicholas.lee%5C%5CDocuments%5C%5Cz%5C%5CTicketing_Nick%5C%5CTicketing%5C%5Ctav_opensource%5C%5Cui%5C%5Csrc%5C%5Capp%5C%5Ceditor-page%5C%5Cpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=false!\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/compiled/client-only/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/next/dist/compiled/client-only/index.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {



/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("/**\n * @license React\n * react-jsx-dev-runtime.development.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n true &&\n  (function () {\n    function getComponentNameFromType(type) {\n      if (null == type) return null;\n      if (\"function\" === typeof type)\n        return type.$$typeof === REACT_CLIENT_REFERENCE\n          ? null\n          : type.displayName || type.name || null;\n      if (\"string\" === typeof type) return type;\n      switch (type) {\n        case REACT_FRAGMENT_TYPE:\n          return \"Fragment\";\n        case REACT_PROFILER_TYPE:\n          return \"Profiler\";\n        case REACT_STRICT_MODE_TYPE:\n          return \"StrictMode\";\n        case REACT_SUSPENSE_TYPE:\n          return \"Suspense\";\n        case REACT_SUSPENSE_LIST_TYPE:\n          return \"SuspenseList\";\n        case REACT_ACTIVITY_TYPE:\n          return \"Activity\";\n        case REACT_VIEW_TRANSITION_TYPE:\n          return \"ViewTransition\";\n      }\n      if (\"object\" === typeof type)\n        switch (\n          (\"number\" === typeof type.tag &&\n            console.error(\n              \"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"\n            ),\n          type.$$typeof)\n        ) {\n          case REACT_PORTAL_TYPE:\n            return \"Portal\";\n          case REACT_CONTEXT_TYPE:\n            return type.displayName || \"Context\";\n          case REACT_CONSUMER_TYPE:\n            return (type._context.displayName || \"Context\") + \".Consumer\";\n          case REACT_FORWARD_REF_TYPE:\n            var innerType = type.render;\n            type = type.displayName;\n            type ||\n              ((type = innerType.displayName || innerType.name || \"\"),\n              (type = \"\" !== type ? \"ForwardRef(\" + type + \")\" : \"ForwardRef\"));\n            return type;\n          case REACT_MEMO_TYPE:\n            return (\n              (innerType = type.displayName || null),\n              null !== innerType\n                ? innerType\n                : getComponentNameFromType(type.type) || \"Memo\"\n            );\n          case REACT_LAZY_TYPE:\n            innerType = type._payload;\n            type = type._init;\n            try {\n              return getComponentNameFromType(type(innerType));\n            } catch (x) {}\n        }\n      return null;\n    }\n    function testStringCoercion(value) {\n      return \"\" + value;\n    }\n    function checkKeyStringCoercion(value) {\n      try {\n        testStringCoercion(value);\n        var JSCompiler_inline_result = !1;\n      } catch (e) {\n        JSCompiler_inline_result = !0;\n      }\n      if (JSCompiler_inline_result) {\n        JSCompiler_inline_result = console;\n        var JSCompiler_temp_const = JSCompiler_inline_result.error;\n        var JSCompiler_inline_result$jscomp$0 =\n          (\"function\" === typeof Symbol &&\n            Symbol.toStringTag &&\n            value[Symbol.toStringTag]) ||\n          value.constructor.name ||\n          \"Object\";\n        JSCompiler_temp_const.call(\n          JSCompiler_inline_result,\n          \"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.\",\n          JSCompiler_inline_result$jscomp$0\n        );\n        return testStringCoercion(value);\n      }\n    }\n    function getTaskName(type) {\n      if (type === REACT_FRAGMENT_TYPE) return \"<>\";\n      if (\n        \"object\" === typeof type &&\n        null !== type &&\n        type.$$typeof === REACT_LAZY_TYPE\n      )\n        return \"<...>\";\n      try {\n        var name = getComponentNameFromType(type);\n        return name ? \"<\" + name + \">\" : \"<...>\";\n      } catch (x) {\n        return \"<...>\";\n      }\n    }\n    function getOwner() {\n      var dispatcher = ReactSharedInternals.A;\n      return null === dispatcher ? null : dispatcher.getOwner();\n    }\n    function UnknownOwner() {\n      return Error(\"react-stack-top-frame\");\n    }\n    function hasValidKey(config) {\n      if (hasOwnProperty.call(config, \"key\")) {\n        var getter = Object.getOwnPropertyDescriptor(config, \"key\").get;\n        if (getter && getter.isReactWarning) return !1;\n      }\n      return void 0 !== config.key;\n    }\n    function defineKeyPropWarningGetter(props, displayName) {\n      function warnAboutAccessingKey() {\n        specialPropKeyWarningShown ||\n          ((specialPropKeyWarningShown = !0),\n          console.error(\n            \"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)\",\n            displayName\n          ));\n      }\n      warnAboutAccessingKey.isReactWarning = !0;\n      Object.defineProperty(props, \"key\", {\n        get: warnAboutAccessingKey,\n        configurable: !0\n      });\n    }\n    function elementRefGetterWithDeprecationWarning() {\n      var componentName = getComponentNameFromType(this.type);\n      didWarnAboutElementRef[componentName] ||\n        ((didWarnAboutElementRef[componentName] = !0),\n        console.error(\n          \"Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.\"\n        ));\n      componentName = this.props.ref;\n      return void 0 !== componentName ? componentName : null;\n    }\n    function ReactElement(type, key, props, owner, debugStack, debugTask) {\n      var refProp = props.ref;\n      type = {\n        $$typeof: REACT_ELEMENT_TYPE,\n        type: type,\n        key: key,\n        props: props,\n        _owner: owner\n      };\n      null !== (void 0 !== refProp ? refProp : null)\n        ? Object.defineProperty(type, \"ref\", {\n            enumerable: !1,\n            get: elementRefGetterWithDeprecationWarning\n          })\n        : Object.defineProperty(type, \"ref\", { enumerable: !1, value: null });\n      type._store = {};\n      Object.defineProperty(type._store, \"validated\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: 0\n      });\n      Object.defineProperty(type, \"_debugInfo\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: null\n      });\n      Object.defineProperty(type, \"_debugStack\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: debugStack\n      });\n      Object.defineProperty(type, \"_debugTask\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: debugTask\n      });\n      Object.freeze && (Object.freeze(type.props), Object.freeze(type));\n      return type;\n    }\n    function jsxDEVImpl(\n      type,\n      config,\n      maybeKey,\n      isStaticChildren,\n      debugStack,\n      debugTask\n    ) {\n      var children = config.children;\n      if (void 0 !== children)\n        if (isStaticChildren)\n          if (isArrayImpl(children)) {\n            for (\n              isStaticChildren = 0;\n              isStaticChildren < children.length;\n              isStaticChildren++\n            )\n              validateChildKeys(children[isStaticChildren]);\n            Object.freeze && Object.freeze(children);\n          } else\n            console.error(\n              \"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\"\n            );\n        else validateChildKeys(children);\n      if (hasOwnProperty.call(config, \"key\")) {\n        children = getComponentNameFromType(type);\n        var keys = Object.keys(config).filter(function (k) {\n          return \"key\" !== k;\n        });\n        isStaticChildren =\n          0 < keys.length\n            ? \"{key: someKey, \" + keys.join(\": ..., \") + \": ...}\"\n            : \"{key: someKey}\";\n        didWarnAboutKeySpread[children + isStaticChildren] ||\n          ((keys =\n            0 < keys.length ? \"{\" + keys.join(\": ..., \") + \": ...}\" : \"{}\"),\n          console.error(\n            'A props object containing a \"key\" prop is being spread into JSX:\\n  let props = %s;\\n  <%s {...props} />\\nReact keys must be passed directly to JSX without using spread:\\n  let props = %s;\\n  <%s key={someKey} {...props} />',\n            isStaticChildren,\n            children,\n            keys,\n            children\n          ),\n          (didWarnAboutKeySpread[children + isStaticChildren] = !0));\n      }\n      children = null;\n      void 0 !== maybeKey &&\n        (checkKeyStringCoercion(maybeKey), (children = \"\" + maybeKey));\n      hasValidKey(config) &&\n        (checkKeyStringCoercion(config.key), (children = \"\" + config.key));\n      if (\"key\" in config) {\n        maybeKey = {};\n        for (var propName in config)\n          \"key\" !== propName && (maybeKey[propName] = config[propName]);\n      } else maybeKey = config;\n      children &&\n        defineKeyPropWarningGetter(\n          maybeKey,\n          \"function\" === typeof type\n            ? type.displayName || type.name || \"Unknown\"\n            : type\n        );\n      return ReactElement(\n        type,\n        children,\n        maybeKey,\n        getOwner(),\n        debugStack,\n        debugTask\n      );\n    }\n    function validateChildKeys(node) {\n      isValidElement(node)\n        ? node._store && (node._store.validated = 1)\n        : \"object\" === typeof node &&\n          null !== node &&\n          node.$$typeof === REACT_LAZY_TYPE &&\n          (\"fulfilled\" === node._payload.status\n            ? isValidElement(node._payload.value) &&\n              node._payload.value._store &&\n              (node._payload.value._store.validated = 1)\n            : node._store && (node._store.validated = 1));\n    }\n    function isValidElement(object) {\n      return (\n        \"object\" === typeof object &&\n        null !== object &&\n        object.$$typeof === REACT_ELEMENT_TYPE\n      );\n    }\n    var React = __webpack_require__(/*! next/dist/compiled/react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\"),\n      REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n      REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n      REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n      REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n      REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n      REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n      REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n      REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n      REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n      REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\"),\n      REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n      REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n      REACT_ACTIVITY_TYPE = Symbol.for(\"react.activity\"),\n      REACT_VIEW_TRANSITION_TYPE = Symbol.for(\"react.view_transition\"),\n      REACT_CLIENT_REFERENCE = Symbol.for(\"react.client.reference\"),\n      ReactSharedInternals =\n        React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n      hasOwnProperty = Object.prototype.hasOwnProperty,\n      isArrayImpl = Array.isArray,\n      createTask = console.createTask\n        ? console.createTask\n        : function () {\n            return null;\n          };\n    React = {\n      react_stack_bottom_frame: function (callStackForError) {\n        return callStackForError();\n      }\n    };\n    var specialPropKeyWarningShown;\n    var didWarnAboutElementRef = {};\n    var unknownOwnerDebugStack = React.react_stack_bottom_frame.bind(\n      React,\n      UnknownOwner\n    )();\n    var unknownOwnerDebugTask = createTask(getTaskName(UnknownOwner));\n    var didWarnAboutKeySpread = {};\n    exports.Fragment = REACT_FRAGMENT_TYPE;\n    exports.jsxDEV = function (type, config, maybeKey, isStaticChildren) {\n      var trackActualOwner =\n        1e4 > ReactSharedInternals.recentlyCreatedOwnerStacks++;\n      if (trackActualOwner) {\n        var previousStackTraceLimit = Error.stackTraceLimit;\n        Error.stackTraceLimit = 10;\n        var debugStackDEV = Error(\"react-stack-top-frame\");\n        Error.stackTraceLimit = previousStackTraceLimit;\n      } else debugStackDEV = unknownOwnerDebugStack;\n      return jsxDEVImpl(\n        type,\n        config,\n        maybeKey,\n        isStaticChildren,\n        debugStackDEV,\n        trackActualOwner ? createTask(getTaskName(type)) : unknownOwnerDebugTask\n      );\n    };\n  })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvcmVhY3QvY2pzL3JlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7QUFDYixLQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsK0NBQStDLDZCQUE2QjtBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsZ0JBQWdCLGdEQUFnRDtBQUNoRSxnQkFBZ0IsYUFBYTtBQUM3QjtBQUNBO0FBQ0EsZ0NBQWdDLGtDQUFrQyxPQUFPO0FBQ3pFO0FBQ0EsZ0dBQWdHLFNBQVMsVUFBVSxzRkFBc0YsYUFBYSxVQUFVLFVBQVU7QUFDMU87QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixtQkFBTyxDQUFDLHNHQUEwQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksZ0JBQWdCO0FBQ3BCLElBQUksY0FBYztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXG5pY2hvbGFzLmxlZVxcRG9jdW1lbnRzXFx6XFxUaWNrZXRpbmdfTmlja1xcVGlja2V0aW5nXFx0YXZfb3BlbnNvdXJjZVxcdWlcXG5vZGVfbW9kdWxlc1xcbmV4dFxcZGlzdFxcY29tcGlsZWRcXHJlYWN0XFxjanNcXHJlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlIFJlYWN0XG4gKiByZWFjdC1qc3gtZGV2LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cblwidXNlIHN0cmljdFwiO1xuXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WICYmXG4gIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUpIHtcbiAgICAgIGlmIChudWxsID09IHR5cGUpIHJldHVybiBudWxsO1xuICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHR5cGUpXG4gICAgICAgIHJldHVybiB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9DTElFTlRfUkVGRVJFTkNFXG4gICAgICAgICAgPyBudWxsXG4gICAgICAgICAgOiB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZSB8fCBudWxsO1xuICAgICAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiB0eXBlKSByZXR1cm4gdHlwZTtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFJFQUNUX0ZSQUdNRU5UX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiRnJhZ21lbnRcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9QUk9GSUxFUl9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIlByb2ZpbGVyXCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfU1RSSUNUX01PREVfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJTdHJpY3RNb2RlXCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJTdXNwZW5zZVwiO1xuICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJTdXNwZW5zZUxpc3RcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9BQ1RJVklUWV9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIkFjdGl2aXR5XCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfVklFV19UUkFOU0lUSU9OX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiVmlld1RyYW5zaXRpb25cIjtcbiAgICAgIH1cbiAgICAgIGlmIChcIm9iamVjdFwiID09PSB0eXBlb2YgdHlwZSlcbiAgICAgICAgc3dpdGNoIChcbiAgICAgICAgICAoXCJudW1iZXJcIiA9PT0gdHlwZW9mIHR5cGUudGFnICYmXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlJlY2VpdmVkIGFuIHVuZXhwZWN0ZWQgb2JqZWN0IGluIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSgpLiBUaGlzIGlzIGxpa2VseSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICAgICksXG4gICAgICAgICAgdHlwZS4kJHR5cGVvZilcbiAgICAgICAgKSB7XG4gICAgICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgICAgICAgIHJldHVybiBcIlBvcnRhbFwiO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfQ09OVEVYVF9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuIHR5cGUuZGlzcGxheU5hbWUgfHwgXCJDb250ZXh0XCI7XG4gICAgICAgICAgY2FzZSBSRUFDVF9DT05TVU1FUl9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuICh0eXBlLl9jb250ZXh0LmRpc3BsYXlOYW1lIHx8IFwiQ29udGV4dFwiKSArIFwiLkNvbnN1bWVyXCI7XG4gICAgICAgICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxuICAgICAgICAgICAgdmFyIGlubmVyVHlwZSA9IHR5cGUucmVuZGVyO1xuICAgICAgICAgICAgdHlwZSA9IHR5cGUuZGlzcGxheU5hbWU7XG4gICAgICAgICAgICB0eXBlIHx8XG4gICAgICAgICAgICAgICgodHlwZSA9IGlubmVyVHlwZS5kaXNwbGF5TmFtZSB8fCBpbm5lclR5cGUubmFtZSB8fCBcIlwiKSxcbiAgICAgICAgICAgICAgKHR5cGUgPSBcIlwiICE9PSB0eXBlID8gXCJGb3J3YXJkUmVmKFwiICsgdHlwZSArIFwiKVwiIDogXCJGb3J3YXJkUmVmXCIpKTtcbiAgICAgICAgICAgIHJldHVybiB0eXBlO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfTUVNT19UWVBFOlxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgKGlubmVyVHlwZSA9IHR5cGUuZGlzcGxheU5hbWUgfHwgbnVsbCksXG4gICAgICAgICAgICAgIG51bGwgIT09IGlubmVyVHlwZVxuICAgICAgICAgICAgICAgID8gaW5uZXJUeXBlXG4gICAgICAgICAgICAgICAgOiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZS50eXBlKSB8fCBcIk1lbW9cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBjYXNlIFJFQUNUX0xBWllfVFlQRTpcbiAgICAgICAgICAgIGlubmVyVHlwZSA9IHR5cGUuX3BheWxvYWQ7XG4gICAgICAgICAgICB0eXBlID0gdHlwZS5faW5pdDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHJldHVybiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZShpbm5lclR5cGUpKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKHgpIHt9XG4gICAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBcIlwiICsgdmFsdWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrS2V5U3RyaW5nQ29lcmNpb24odmFsdWUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSk7XG4gICAgICAgIHZhciBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSAhMTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gITA7XG4gICAgICB9XG4gICAgICBpZiAoSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0KSB7XG4gICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9IGNvbnNvbGU7XG4gICAgICAgIHZhciBKU0NvbXBpbGVyX3RlbXBfY29uc3QgPSBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQuZXJyb3I7XG4gICAgICAgIHZhciBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQkanNjb21wJDAgPVxuICAgICAgICAgIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBTeW1ib2wgJiZcbiAgICAgICAgICAgIFN5bWJvbC50b1N0cmluZ1RhZyAmJlxuICAgICAgICAgICAgdmFsdWVbU3ltYm9sLnRvU3RyaW5nVGFnXSkgfHxcbiAgICAgICAgICB2YWx1ZS5jb25zdHJ1Y3Rvci5uYW1lIHx8XG4gICAgICAgICAgXCJPYmplY3RcIjtcbiAgICAgICAgSlNDb21waWxlcl90ZW1wX2NvbnN0LmNhbGwoXG4gICAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0LFxuICAgICAgICAgIFwiVGhlIHByb3ZpZGVkIGtleSBpcyBhbiB1bnN1cHBvcnRlZCB0eXBlICVzLiBUaGlzIHZhbHVlIG11c3QgYmUgY29lcmNlZCB0byBhIHN0cmluZyBiZWZvcmUgdXNpbmcgaXQgaGVyZS5cIixcbiAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQkanNjb21wJDBcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFRhc2tOYW1lKHR5cGUpIHtcbiAgICAgIGlmICh0eXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFKSByZXR1cm4gXCI8PlwiO1xuICAgICAgaWYgKFxuICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgdHlwZSAmJlxuICAgICAgICBudWxsICE9PSB0eXBlICYmXG4gICAgICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0xBWllfVFlQRVxuICAgICAgKVxuICAgICAgICByZXR1cm4gXCI8Li4uPlwiO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIG5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZSk7XG4gICAgICAgIHJldHVybiBuYW1lID8gXCI8XCIgKyBuYW1lICsgXCI+XCIgOiBcIjwuLi4+XCI7XG4gICAgICB9IGNhdGNoICh4KSB7XG4gICAgICAgIHJldHVybiBcIjwuLi4+XCI7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldE93bmVyKCkge1xuICAgICAgdmFyIGRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5BO1xuICAgICAgcmV0dXJuIG51bGwgPT09IGRpc3BhdGNoZXIgPyBudWxsIDogZGlzcGF0Y2hlci5nZXRPd25lcigpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBVbmtub3duT3duZXIoKSB7XG4gICAgICByZXR1cm4gRXJyb3IoXCJyZWFjdC1zdGFjay10b3AtZnJhbWVcIik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhc1ZhbGlkS2V5KGNvbmZpZykge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCBcImtleVwiKSkge1xuICAgICAgICB2YXIgZ2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb25maWcsIFwia2V5XCIpLmdldDtcbiAgICAgICAgaWYgKGdldHRlciAmJiBnZXR0ZXIuaXNSZWFjdFdhcm5pbmcpIHJldHVybiAhMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2b2lkIDAgIT09IGNvbmZpZy5rZXk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlZmluZUtleVByb3BXYXJuaW5nR2V0dGVyKHByb3BzLCBkaXNwbGF5TmFtZSkge1xuICAgICAgZnVuY3Rpb24gd2FybkFib3V0QWNjZXNzaW5nS2V5KCkge1xuICAgICAgICBzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93biB8fFxuICAgICAgICAgICgoc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd24gPSAhMCksXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXM6IGBrZXlgIGlzIG5vdCBhIHByb3AuIFRyeWluZyB0byBhY2Nlc3MgaXQgd2lsbCByZXN1bHQgaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSB2YWx1ZSB3aXRoaW4gdGhlIGNoaWxkIGNvbXBvbmVudCwgeW91IHNob3VsZCBwYXNzIGl0IGFzIGEgZGlmZmVyZW50IHByb3AuIChodHRwczovL3JlYWN0LmRldi9saW5rL3NwZWNpYWwtcHJvcHMpXCIsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZVxuICAgICAgICAgICkpO1xuICAgICAgfVxuICAgICAgd2FybkFib3V0QWNjZXNzaW5nS2V5LmlzUmVhY3RXYXJuaW5nID0gITA7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvcHMsIFwia2V5XCIsIHtcbiAgICAgICAgZ2V0OiB3YXJuQWJvdXRBY2Nlc3NpbmdLZXksXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITBcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlbGVtZW50UmVmR2V0dGVyV2l0aERlcHJlY2F0aW9uV2FybmluZygpIHtcbiAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHRoaXMudHlwZSk7XG4gICAgICBkaWRXYXJuQWJvdXRFbGVtZW50UmVmW2NvbXBvbmVudE5hbWVdIHx8XG4gICAgICAgICgoZGlkV2FybkFib3V0RWxlbWVudFJlZltjb21wb25lbnROYW1lXSA9ICEwKSxcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkFjY2Vzc2luZyBlbGVtZW50LnJlZiB3YXMgcmVtb3ZlZCBpbiBSZWFjdCAxOS4gcmVmIGlzIG5vdyBhIHJlZ3VsYXIgcHJvcC4gSXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEpTWCBFbGVtZW50IHR5cGUgaW4gYSBmdXR1cmUgcmVsZWFzZS5cIlxuICAgICAgICApKTtcbiAgICAgIGNvbXBvbmVudE5hbWUgPSB0aGlzLnByb3BzLnJlZjtcbiAgICAgIHJldHVybiB2b2lkIDAgIT09IGNvbXBvbmVudE5hbWUgPyBjb21wb25lbnROYW1lIDogbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gUmVhY3RFbGVtZW50KHR5cGUsIGtleSwgcHJvcHMsIG93bmVyLCBkZWJ1Z1N0YWNrLCBkZWJ1Z1Rhc2spIHtcbiAgICAgIHZhciByZWZQcm9wID0gcHJvcHMucmVmO1xuICAgICAgdHlwZSA9IHtcbiAgICAgICAgJCR0eXBlb2Y6IFJFQUNUX0VMRU1FTlRfVFlQRSxcbiAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAga2V5OiBrZXksXG4gICAgICAgIHByb3BzOiBwcm9wcyxcbiAgICAgICAgX293bmVyOiBvd25lclxuICAgICAgfTtcbiAgICAgIG51bGwgIT09ICh2b2lkIDAgIT09IHJlZlByb3AgPyByZWZQcm9wIDogbnVsbClcbiAgICAgICAgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJyZWZcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgICAgICBnZXQ6IGVsZW1lbnRSZWZHZXR0ZXJXaXRoRGVwcmVjYXRpb25XYXJuaW5nXG4gICAgICAgICAgfSlcbiAgICAgICAgOiBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJyZWZcIiwgeyBlbnVtZXJhYmxlOiAhMSwgdmFsdWU6IG51bGwgfSk7XG4gICAgICB0eXBlLl9zdG9yZSA9IHt9O1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUuX3N0b3JlLCBcInZhbGlkYXRlZFwiLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITEsXG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICB3cml0YWJsZTogITAsXG4gICAgICAgIHZhbHVlOiAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcIl9kZWJ1Z0luZm9cIiwge1xuICAgICAgICBjb25maWd1cmFibGU6ICExLFxuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgd3JpdGFibGU6ICEwLFxuICAgICAgICB2YWx1ZTogbnVsbFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJfZGVidWdTdGFja1wiLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITEsXG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICB3cml0YWJsZTogITAsXG4gICAgICAgIHZhbHVlOiBkZWJ1Z1N0YWNrXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcIl9kZWJ1Z1Rhc2tcIiwge1xuICAgICAgICBjb25maWd1cmFibGU6ICExLFxuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgd3JpdGFibGU6ICEwLFxuICAgICAgICB2YWx1ZTogZGVidWdUYXNrXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5mcmVlemUgJiYgKE9iamVjdC5mcmVlemUodHlwZS5wcm9wcyksIE9iamVjdC5mcmVlemUodHlwZSkpO1xuICAgICAgcmV0dXJuIHR5cGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGpzeERFVkltcGwoXG4gICAgICB0eXBlLFxuICAgICAgY29uZmlnLFxuICAgICAgbWF5YmVLZXksXG4gICAgICBpc1N0YXRpY0NoaWxkcmVuLFxuICAgICAgZGVidWdTdGFjayxcbiAgICAgIGRlYnVnVGFza1xuICAgICkge1xuICAgICAgdmFyIGNoaWxkcmVuID0gY29uZmlnLmNoaWxkcmVuO1xuICAgICAgaWYgKHZvaWQgMCAhPT0gY2hpbGRyZW4pXG4gICAgICAgIGlmIChpc1N0YXRpY0NoaWxkcmVuKVxuICAgICAgICAgIGlmIChpc0FycmF5SW1wbChjaGlsZHJlbikpIHtcbiAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgIGlzU3RhdGljQ2hpbGRyZW4gPSAwO1xuICAgICAgICAgICAgICBpc1N0YXRpY0NoaWxkcmVuIDwgY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICAgICAgICBpc1N0YXRpY0NoaWxkcmVuKytcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgdmFsaWRhdGVDaGlsZEtleXMoY2hpbGRyZW5baXNTdGF0aWNDaGlsZHJlbl0pO1xuICAgICAgICAgICAgT2JqZWN0LmZyZWV6ZSAmJiBPYmplY3QuZnJlZXplKGNoaWxkcmVuKTtcbiAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVhY3QuanN4OiBTdGF0aWMgY2hpbGRyZW4gc2hvdWxkIGFsd2F5cyBiZSBhbiBhcnJheS4gWW91IGFyZSBsaWtlbHkgZXhwbGljaXRseSBjYWxsaW5nIFJlYWN0LmpzeHMgb3IgUmVhY3QuanN4REVWLiBVc2UgdGhlIEJhYmVsIHRyYW5zZm9ybSBpbnN0ZWFkLlwiXG4gICAgICAgICAgICApO1xuICAgICAgICBlbHNlIHZhbGlkYXRlQ2hpbGRLZXlzKGNoaWxkcmVuKTtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgXCJrZXlcIikpIHtcbiAgICAgICAgY2hpbGRyZW4gPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZSk7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoY29uZmlnKS5maWx0ZXIoZnVuY3Rpb24gKGspIHtcbiAgICAgICAgICByZXR1cm4gXCJrZXlcIiAhPT0gaztcbiAgICAgICAgfSk7XG4gICAgICAgIGlzU3RhdGljQ2hpbGRyZW4gPVxuICAgICAgICAgIDAgPCBrZXlzLmxlbmd0aFxuICAgICAgICAgICAgPyBcIntrZXk6IHNvbWVLZXksIFwiICsga2V5cy5qb2luKFwiOiAuLi4sIFwiKSArIFwiOiAuLi59XCJcbiAgICAgICAgICAgIDogXCJ7a2V5OiBzb21lS2V5fVwiO1xuICAgICAgICBkaWRXYXJuQWJvdXRLZXlTcHJlYWRbY2hpbGRyZW4gKyBpc1N0YXRpY0NoaWxkcmVuXSB8fFxuICAgICAgICAgICgoa2V5cyA9XG4gICAgICAgICAgICAwIDwga2V5cy5sZW5ndGggPyBcIntcIiArIGtleXMuam9pbihcIjogLi4uLCBcIikgKyBcIjogLi4ufVwiIDogXCJ7fVwiKSxcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgJ0EgcHJvcHMgb2JqZWN0IGNvbnRhaW5pbmcgYSBcImtleVwiIHByb3AgaXMgYmVpbmcgc3ByZWFkIGludG8gSlNYOlxcbiAgbGV0IHByb3BzID0gJXM7XFxuICA8JXMgey4uLnByb3BzfSAvPlxcblJlYWN0IGtleXMgbXVzdCBiZSBwYXNzZWQgZGlyZWN0bHkgdG8gSlNYIHdpdGhvdXQgdXNpbmcgc3ByZWFkOlxcbiAgbGV0IHByb3BzID0gJXM7XFxuICA8JXMga2V5PXtzb21lS2V5fSB7Li4ucHJvcHN9IC8+JyxcbiAgICAgICAgICAgIGlzU3RhdGljQ2hpbGRyZW4sXG4gICAgICAgICAgICBjaGlsZHJlbixcbiAgICAgICAgICAgIGtleXMsXG4gICAgICAgICAgICBjaGlsZHJlblxuICAgICAgICAgICksXG4gICAgICAgICAgKGRpZFdhcm5BYm91dEtleVNwcmVhZFtjaGlsZHJlbiArIGlzU3RhdGljQ2hpbGRyZW5dID0gITApKTtcbiAgICAgIH1cbiAgICAgIGNoaWxkcmVuID0gbnVsbDtcbiAgICAgIHZvaWQgMCAhPT0gbWF5YmVLZXkgJiZcbiAgICAgICAgKGNoZWNrS2V5U3RyaW5nQ29lcmNpb24obWF5YmVLZXkpLCAoY2hpbGRyZW4gPSBcIlwiICsgbWF5YmVLZXkpKTtcbiAgICAgIGhhc1ZhbGlkS2V5KGNvbmZpZykgJiZcbiAgICAgICAgKGNoZWNrS2V5U3RyaW5nQ29lcmNpb24oY29uZmlnLmtleSksIChjaGlsZHJlbiA9IFwiXCIgKyBjb25maWcua2V5KSk7XG4gICAgICBpZiAoXCJrZXlcIiBpbiBjb25maWcpIHtcbiAgICAgICAgbWF5YmVLZXkgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgcHJvcE5hbWUgaW4gY29uZmlnKVxuICAgICAgICAgIFwia2V5XCIgIT09IHByb3BOYW1lICYmIChtYXliZUtleVtwcm9wTmFtZV0gPSBjb25maWdbcHJvcE5hbWVdKTtcbiAgICAgIH0gZWxzZSBtYXliZUtleSA9IGNvbmZpZztcbiAgICAgIGNoaWxkcmVuICYmXG4gICAgICAgIGRlZmluZUtleVByb3BXYXJuaW5nR2V0dGVyKFxuICAgICAgICAgIG1heWJlS2V5LFxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHR5cGVcbiAgICAgICAgICAgID8gdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWUgfHwgXCJVbmtub3duXCJcbiAgICAgICAgICAgIDogdHlwZVxuICAgICAgICApO1xuICAgICAgcmV0dXJuIFJlYWN0RWxlbWVudChcbiAgICAgICAgdHlwZSxcbiAgICAgICAgY2hpbGRyZW4sXG4gICAgICAgIG1heWJlS2V5LFxuICAgICAgICBnZXRPd25lcigpLFxuICAgICAgICBkZWJ1Z1N0YWNrLFxuICAgICAgICBkZWJ1Z1Rhc2tcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlQ2hpbGRLZXlzKG5vZGUpIHtcbiAgICAgIGlzVmFsaWRFbGVtZW50KG5vZGUpXG4gICAgICAgID8gbm9kZS5fc3RvcmUgJiYgKG5vZGUuX3N0b3JlLnZhbGlkYXRlZCA9IDEpXG4gICAgICAgIDogXCJvYmplY3RcIiA9PT0gdHlwZW9mIG5vZGUgJiZcbiAgICAgICAgICBudWxsICE9PSBub2RlICYmXG4gICAgICAgICAgbm9kZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTEFaWV9UWVBFICYmXG4gICAgICAgICAgKFwiZnVsZmlsbGVkXCIgPT09IG5vZGUuX3BheWxvYWQuc3RhdHVzXG4gICAgICAgICAgICA/IGlzVmFsaWRFbGVtZW50KG5vZGUuX3BheWxvYWQudmFsdWUpICYmXG4gICAgICAgICAgICAgIG5vZGUuX3BheWxvYWQudmFsdWUuX3N0b3JlICYmXG4gICAgICAgICAgICAgIChub2RlLl9wYXlsb2FkLnZhbHVlLl9zdG9yZS52YWxpZGF0ZWQgPSAxKVxuICAgICAgICAgICAgOiBub2RlLl9zdG9yZSAmJiAobm9kZS5fc3RvcmUudmFsaWRhdGVkID0gMSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc1ZhbGlkRWxlbWVudChvYmplY3QpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBvYmplY3QgJiZcbiAgICAgICAgbnVsbCAhPT0gb2JqZWN0ICYmXG4gICAgICAgIG9iamVjdC4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFXG4gICAgICApO1xuICAgIH1cbiAgICB2YXIgUmVhY3QgPSByZXF1aXJlKFwibmV4dC9kaXN0L2NvbXBpbGVkL3JlYWN0XCIpLFxuICAgICAgUkVBQ1RfRUxFTUVOVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnRyYW5zaXRpb25hbC5lbGVtZW50XCIpLFxuICAgICAgUkVBQ1RfUE9SVEFMX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QucG9ydGFsXCIpLFxuICAgICAgUkVBQ1RfRlJBR01FTlRfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5mcmFnbWVudFwiKSxcbiAgICAgIFJFQUNUX1NUUklDVF9NT0RFX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3Quc3RyaWN0X21vZGVcIiksXG4gICAgICBSRUFDVF9QUk9GSUxFUl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnByb2ZpbGVyXCIpLFxuICAgICAgUkVBQ1RfQ09OU1VNRVJfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jb25zdW1lclwiKSxcbiAgICAgIFJFQUNUX0NPTlRFWFRfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jb250ZXh0XCIpLFxuICAgICAgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5mb3J3YXJkX3JlZlwiKSxcbiAgICAgIFJFQUNUX1NVU1BFTlNFX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3Quc3VzcGVuc2VcIiksXG4gICAgICBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3Quc3VzcGVuc2VfbGlzdFwiKSxcbiAgICAgIFJFQUNUX01FTU9fVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vXCIpLFxuICAgICAgUkVBQ1RfTEFaWV9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmxhenlcIiksXG4gICAgICBSRUFDVF9BQ1RJVklUWV9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmFjdGl2aXR5XCIpLFxuICAgICAgUkVBQ1RfVklFV19UUkFOU0lUSU9OX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3Qudmlld190cmFuc2l0aW9uXCIpLFxuICAgICAgUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jbGllbnQucmVmZXJlbmNlXCIpLFxuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMgPVxuICAgICAgICBSZWFjdC5fX0NMSUVOVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9XQVJOX1VTRVJTX1RIRVlfQ0FOTk9UX1VQR1JBREUsXG4gICAgICBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksXG4gICAgICBpc0FycmF5SW1wbCA9IEFycmF5LmlzQXJyYXksXG4gICAgICBjcmVhdGVUYXNrID0gY29uc29sZS5jcmVhdGVUYXNrXG4gICAgICAgID8gY29uc29sZS5jcmVhdGVUYXNrXG4gICAgICAgIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfTtcbiAgICBSZWFjdCA9IHtcbiAgICAgIHJlYWN0X3N0YWNrX2JvdHRvbV9mcmFtZTogZnVuY3Rpb24gKGNhbGxTdGFja0ZvckVycm9yKSB7XG4gICAgICAgIHJldHVybiBjYWxsU3RhY2tGb3JFcnJvcigpO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duO1xuICAgIHZhciBkaWRXYXJuQWJvdXRFbGVtZW50UmVmID0ge307XG4gICAgdmFyIHVua25vd25Pd25lckRlYnVnU3RhY2sgPSBSZWFjdC5yZWFjdF9zdGFja19ib3R0b21fZnJhbWUuYmluZChcbiAgICAgIFJlYWN0LFxuICAgICAgVW5rbm93bk93bmVyXG4gICAgKSgpO1xuICAgIHZhciB1bmtub3duT3duZXJEZWJ1Z1Rhc2sgPSBjcmVhdGVUYXNrKGdldFRhc2tOYW1lKFVua25vd25Pd25lcikpO1xuICAgIHZhciBkaWRXYXJuQWJvdXRLZXlTcHJlYWQgPSB7fTtcbiAgICBleHBvcnRzLkZyYWdtZW50ID0gUkVBQ1RfRlJBR01FTlRfVFlQRTtcbiAgICBleHBvcnRzLmpzeERFViA9IGZ1bmN0aW9uICh0eXBlLCBjb25maWcsIG1heWJlS2V5LCBpc1N0YXRpY0NoaWxkcmVuKSB7XG4gICAgICB2YXIgdHJhY2tBY3R1YWxPd25lciA9XG4gICAgICAgIDFlNCA+IFJlYWN0U2hhcmVkSW50ZXJuYWxzLnJlY2VudGx5Q3JlYXRlZE93bmVyU3RhY2tzKys7XG4gICAgICBpZiAodHJhY2tBY3R1YWxPd25lcikge1xuICAgICAgICB2YXIgcHJldmlvdXNTdGFja1RyYWNlTGltaXQgPSBFcnJvci5zdGFja1RyYWNlTGltaXQ7XG4gICAgICAgIEVycm9yLnN0YWNrVHJhY2VMaW1pdCA9IDEwO1xuICAgICAgICB2YXIgZGVidWdTdGFja0RFViA9IEVycm9yKFwicmVhY3Qtc3RhY2stdG9wLWZyYW1lXCIpO1xuICAgICAgICBFcnJvci5zdGFja1RyYWNlTGltaXQgPSBwcmV2aW91c1N0YWNrVHJhY2VMaW1pdDtcbiAgICAgIH0gZWxzZSBkZWJ1Z1N0YWNrREVWID0gdW5rbm93bk93bmVyRGVidWdTdGFjaztcbiAgICAgIHJldHVybiBqc3hERVZJbXBsKFxuICAgICAgICB0eXBlLFxuICAgICAgICBjb25maWcsXG4gICAgICAgIG1heWJlS2V5LFxuICAgICAgICBpc1N0YXRpY0NoaWxkcmVuLFxuICAgICAgICBkZWJ1Z1N0YWNrREVWLFxuICAgICAgICB0cmFja0FjdHVhbE93bmVyID8gY3JlYXRlVGFzayhnZXRUYXNrTmFtZSh0eXBlKSkgOiB1bmtub3duT3duZXJEZWJ1Z1Rhc2tcbiAgICAgICk7XG4gICAgfTtcbiAgfSkoKTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js":
/*!******************************************************************!*\
  !*** ./node_modules/next/dist/compiled/react/jsx-dev-runtime.js ***!
  \******************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\n\nif (false) {} else {\n  module.exports = __webpack_require__(/*! ./cjs/react-jsx-dev-runtime.development.js */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvcmVhY3QvanN4LWRldi1ydW50aW1lLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLElBQUksS0FBcUMsRUFBRSxFQUUxQyxDQUFDO0FBQ0YsRUFBRSw4TEFBc0U7QUFDeEUiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbmljaG9sYXMubGVlXFxEb2N1bWVudHNcXHpcXFRpY2tldGluZ19OaWNrXFxUaWNrZXRpbmdcXHRhdl9vcGVuc291cmNlXFx1aVxcbm9kZV9tb2R1bGVzXFxuZXh0XFxkaXN0XFxjb21waWxlZFxccmVhY3RcXGpzeC1kZXYtcnVudGltZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtanN4LWRldi1ydW50aW1lLnByb2R1Y3Rpb24uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtanN4LWRldi1ydW50aW1lLmRldmVsb3BtZW50LmpzJyk7XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/shared/lib/app-dynamic.js":
/*!**********************************************************!*\
  !*** ./node_modules/next/dist/shared/lib/app-dynamic.js ***!
  \**********************************************************/
/***/ ((module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nObject.defineProperty(exports, \"default\", ({\n    enumerable: true,\n    get: function() {\n        return dynamic;\n    }\n}));\nconst _interop_require_default = __webpack_require__(/*! @swc/helpers/_/_interop_require_default */ \"(app-pages-browser)/./node_modules/@swc/helpers/esm/_interop_require_default.js\");\nconst _loadable = /*#__PURE__*/ _interop_require_default._(__webpack_require__(/*! ./lazy-dynamic/loadable */ \"(app-pages-browser)/./node_modules/next/dist/shared/lib/lazy-dynamic/loadable.js\"));\nfunction dynamic(dynamicOptions, options) {\n    const loadableOptions = {};\n    if (typeof dynamicOptions === 'function') {\n        loadableOptions.loader = dynamicOptions;\n    }\n    const mergedOptions = {\n        ...loadableOptions,\n        ...options\n    };\n    return (0, _loadable.default)({\n        ...mergedOptions,\n        modules: mergedOptions.loadableGenerated?.modules\n    });\n}\nif ((typeof exports.default === 'function' || typeof exports.default === 'object' && exports.default !== null) && typeof exports.default.__esModule === 'undefined') {\n    Object.defineProperty(exports.default, '__esModule', {\n        value: true\n    });\n    Object.assign(exports.default, exports);\n    module.exports = exports.default;\n} //# sourceMappingURL=app-dynamic.js.map\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3Qvc2hhcmVkL2xpYi9hcHAtZHluYW1pYy5qcyIsIm1hcHBpbmdzIjoiOzs7OzJDQWtDQTs7O2VBQXdCQTs7OzsrRUFoQ0g7QUFnQ04sU0FBU0EsUUFDdEJDLGNBQTZDLEVBQzdDQyxPQUEyQjtJQUUzQixNQUFNQyxrQkFBc0MsQ0FBQztJQUU3QyxJQUFJLE9BQU9GLG1CQUFtQixZQUFZO1FBQ3hDRSxnQkFBZ0JDLE1BQU0sR0FBR0g7SUFDM0I7SUFFQSxNQUFNSSxnQkFBZ0I7UUFDcEIsR0FBR0YsZUFBZTtRQUNsQixHQUFHRCxPQUFPO0lBQ1o7SUFFQSxPQUFPSSxDQUFBQSxHQUFBQSxVQUFBQSxPQUFBQSxFQUFTO1FBQ2QsR0FBR0QsYUFBYTtRQUNoQkUsU0FBU0YsY0FBY0csaUJBQWlCLEVBQUVEO0lBQzVDO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbmljaG9sYXMubGVlXFxEb2N1bWVudHNcXHpcXFRpY2tldGluZ19OaWNrXFxzcmNcXHNoYXJlZFxcbGliXFxhcHAtZHluYW1pYy50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgdHlwZSB7IEpTWCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IExvYWRhYmxlIGZyb20gJy4vbGF6eS1keW5hbWljL2xvYWRhYmxlJ1xuXG5pbXBvcnQgdHlwZSB7XG4gIExvYWRhYmxlR2VuZXJhdGVkT3B0aW9ucyxcbiAgRHluYW1pY09wdGlvbnNMb2FkaW5nUHJvcHMsXG4gIExvYWRlcixcbiAgTG9hZGVyQ29tcG9uZW50LFxufSBmcm9tICcuL2xhenktZHluYW1pYy90eXBlcydcblxuZXhwb3J0IHtcbiAgdHlwZSBMb2FkYWJsZUdlbmVyYXRlZE9wdGlvbnMsXG4gIHR5cGUgRHluYW1pY09wdGlvbnNMb2FkaW5nUHJvcHMsXG4gIHR5cGUgTG9hZGVyLFxuICB0eXBlIExvYWRlckNvbXBvbmVudCxcbn1cblxuZXhwb3J0IHR5cGUgRHluYW1pY09wdGlvbnM8UCA9IHt9PiA9IExvYWRhYmxlR2VuZXJhdGVkT3B0aW9ucyAmIHtcbiAgbG9hZGluZz86ICgpID0+IEpTWC5FbGVtZW50IHwgbnVsbFxuICBsb2FkZXI/OiBMb2FkZXI8UD5cbiAgbG9hZGFibGVHZW5lcmF0ZWQ/OiBMb2FkYWJsZUdlbmVyYXRlZE9wdGlvbnNcbiAgbW9kdWxlcz86IHN0cmluZ1tdXG4gIHNzcj86IGJvb2xlYW5cbn1cblxuZXhwb3J0IHR5cGUgTG9hZGFibGVPcHRpb25zPFAgPSB7fT4gPSBEeW5hbWljT3B0aW9uczxQPlxuXG5leHBvcnQgdHlwZSBMb2FkYWJsZUZuPFAgPSB7fT4gPSAoXG4gIG9wdHM6IExvYWRhYmxlT3B0aW9uczxQPlxuKSA9PiBSZWFjdC5Db21wb25lbnRUeXBlPFA+XG5cbmV4cG9ydCB0eXBlIExvYWRhYmxlQ29tcG9uZW50PFAgPSB7fT4gPSBSZWFjdC5Db21wb25lbnRUeXBlPFA+XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGR5bmFtaWM8UCA9IHt9PihcbiAgZHluYW1pY09wdGlvbnM6IER5bmFtaWNPcHRpb25zPFA+IHwgTG9hZGVyPFA+LFxuICBvcHRpb25zPzogRHluYW1pY09wdGlvbnM8UD5cbik6IFJlYWN0LkNvbXBvbmVudFR5cGU8UD4ge1xuICBjb25zdCBsb2FkYWJsZU9wdGlvbnM6IExvYWRhYmxlT3B0aW9uczxQPiA9IHt9XG5cbiAgaWYgKHR5cGVvZiBkeW5hbWljT3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGxvYWRhYmxlT3B0aW9ucy5sb2FkZXIgPSBkeW5hbWljT3B0aW9uc1xuICB9XG5cbiAgY29uc3QgbWVyZ2VkT3B0aW9ucyA9IHtcbiAgICAuLi5sb2FkYWJsZU9wdGlvbnMsXG4gICAgLi4ub3B0aW9ucyxcbiAgfVxuXG4gIHJldHVybiBMb2FkYWJsZSh7XG4gICAgLi4ubWVyZ2VkT3B0aW9ucyxcbiAgICBtb2R1bGVzOiBtZXJnZWRPcHRpb25zLmxvYWRhYmxlR2VuZXJhdGVkPy5tb2R1bGVzLFxuICB9KVxufVxuIl0sIm5hbWVzIjpbImR5bmFtaWMiLCJkeW5hbWljT3B0aW9ucyIsIm9wdGlvbnMiLCJsb2FkYWJsZU9wdGlvbnMiLCJsb2FkZXIiLCJtZXJnZWRPcHRpb25zIiwiTG9hZGFibGUiLCJtb2R1bGVzIiwibG9hZGFibGVHZW5lcmF0ZWQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/shared/lib/app-dynamic.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/shared/lib/lazy-dynamic/dynamic-bailout-to-csr.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/next/dist/shared/lib/lazy-dynamic/dynamic-bailout-to-csr.js ***!
  \**********************************************************************************/
/***/ ((module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("/* __next_internal_client_entry_do_not_use__  cjs */ \nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nObject.defineProperty(exports, \"BailoutToCSR\", ({\n    enumerable: true,\n    get: function() {\n        return BailoutToCSR;\n    }\n}));\nconst _bailouttocsr = __webpack_require__(/*! ./bailout-to-csr */ \"(app-pages-browser)/./node_modules/next/dist/shared/lib/lazy-dynamic/bailout-to-csr.js\");\nfunction BailoutToCSR({ reason, children }) {\n    if (false) {}\n    return children;\n} //# sourceMappingURL=dynamic-bailout-to-csr.js.map\n_c = BailoutToCSR;\nvar _c;\n$RefreshReg$(_c, \"BailoutToCSR\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3Qvc2hhcmVkL2xpYi9sYXp5LWR5bmFtaWMvZHluYW1pYy1iYWlsb3V0LXRvLWNzci5qcyIsIm1hcHBpbmdzIjoiOzs7O2dEQWNnQkE7OztlQUFBQTs7OzBDQVhrQjtBQVczQixzQkFBc0IsRUFBRUMsTUFBTSxFQUFFQyxRQUFRLEVBQXFCO0lBQ2xFLElBQUksS0FBNkIsRUFBRSxFQUVsQztJQUVELE9BQU9BO0FBQ1Q7S0FOZ0JGIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXG5pY2hvbGFzLmxlZVxcRG9jdW1lbnRzXFx6XFxzcmNcXHNoYXJlZFxcbGliXFxsYXp5LWR5bmFtaWNcXGR5bmFtaWMtYmFpbG91dC10by1jc3IudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50J1xuXG5pbXBvcnQgdHlwZSB7IFJlYWN0RWxlbWVudCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgQmFpbG91dFRvQ1NSRXJyb3IgfSBmcm9tICcuL2JhaWxvdXQtdG8tY3NyJ1xuXG5pbnRlcmZhY2UgQmFpbG91dFRvQ1NSUHJvcHMge1xuICByZWFzb246IHN0cmluZ1xuICBjaGlsZHJlbjogUmVhY3RFbGVtZW50XG59XG5cbi8qKlxuICogSWYgcmVuZGVyZWQgb24gdGhlIHNlcnZlciwgdGhpcyBjb21wb25lbnQgdGhyb3dzIGFuIGVycm9yXG4gKiB0byBzaWduYWwgTmV4dC5qcyB0aGF0IGl0IHNob3VsZCBiYWlsIG91dCB0byBjbGllbnQtc2lkZSByZW5kZXJpbmcgaW5zdGVhZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEJhaWxvdXRUb0NTUih7IHJlYXNvbiwgY2hpbGRyZW4gfTogQmFpbG91dFRvQ1NSUHJvcHMpIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdGhyb3cgbmV3IEJhaWxvdXRUb0NTUkVycm9yKHJlYXNvbilcbiAgfVxuXG4gIHJldHVybiBjaGlsZHJlblxufVxuIl0sIm5hbWVzIjpbIkJhaWxvdXRUb0NTUiIsInJlYXNvbiIsImNoaWxkcmVuIiwid2luZG93IiwiQmFpbG91dFRvQ1NSRXJyb3IiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/shared/lib/lazy-dynamic/dynamic-bailout-to-csr.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/shared/lib/lazy-dynamic/loadable.js":
/*!********************************************************************!*\
  !*** ./node_modules/next/dist/shared/lib/lazy-dynamic/loadable.js ***!
  \********************************************************************/
/***/ ((module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nObject.defineProperty(exports, \"default\", ({\n    enumerable: true,\n    get: function() {\n        return _default;\n    }\n}));\nconst _jsxruntime = __webpack_require__(/*! react/jsx-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js\");\nconst _react = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\nconst _dynamicbailouttocsr = __webpack_require__(/*! ./dynamic-bailout-to-csr */ \"(app-pages-browser)/./node_modules/next/dist/shared/lib/lazy-dynamic/dynamic-bailout-to-csr.js\");\nconst _preloadchunks = __webpack_require__(/*! ./preload-chunks */ \"(app-pages-browser)/./node_modules/next/dist/shared/lib/lazy-dynamic/preload-chunks.js\");\n// Normalize loader to return the module as form { default: Component } for `React.lazy`.\n// Also for backward compatible since next/dynamic allows to resolve a component directly with loader\n// Client component reference proxy need to be converted to a module.\nfunction convertModule(mod) {\n    // Check \"default\" prop before accessing it, as it could be client reference proxy that could break it reference.\n    // Cases:\n    // mod: { default: Component }\n    // mod: Component\n    // mod: { default: proxy(Component) }\n    // mod: proxy(Component)\n    const hasDefault = mod && 'default' in mod;\n    return {\n        default: hasDefault ? mod.default : mod\n    };\n}\nconst defaultOptions = {\n    loader: ()=>Promise.resolve(convertModule(()=>null)),\n    loading: null,\n    ssr: true\n};\nfunction Loadable(options) {\n    const opts = {\n        ...defaultOptions,\n        ...options\n    };\n    const Lazy = /*#__PURE__*/ (0, _react.lazy)(()=>opts.loader().then(convertModule));\n    const Loading = opts.loading;\n    function LoadableComponent(props) {\n        const fallbackElement = Loading ? /*#__PURE__*/ (0, _jsxruntime.jsx)(Loading, {\n            isLoading: true,\n            pastDelay: true,\n            error: null\n        }) : null;\n        // If it's non-SSR or provided a loading component, wrap it in a suspense boundary\n        const hasSuspenseBoundary = !opts.ssr || !!opts.loading;\n        const Wrap = hasSuspenseBoundary ? _react.Suspense : _react.Fragment;\n        const wrapProps = hasSuspenseBoundary ? {\n            fallback: fallbackElement\n        } : {};\n        const children = opts.ssr ? /*#__PURE__*/ (0, _jsxruntime.jsxs)(_jsxruntime.Fragment, {\n            children: [\n                 false ? /*#__PURE__*/ 0 : null,\n                /*#__PURE__*/ (0, _jsxruntime.jsx)(Lazy, {\n                    ...props\n                })\n            ]\n        }) : /*#__PURE__*/ (0, _jsxruntime.jsx)(_dynamicbailouttocsr.BailoutToCSR, {\n            reason: \"next/dynamic\",\n            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(Lazy, {\n                ...props\n            })\n        });\n        return /*#__PURE__*/ (0, _jsxruntime.jsx)(Wrap, {\n            ...wrapProps,\n            children: children\n        });\n    }\n    LoadableComponent.displayName = 'LoadableComponent';\n    return LoadableComponent;\n}\n_c = Loadable;\nconst _default = Loadable; //# sourceMappingURL=loadable.js.map\nvar _c;\n$RefreshReg$(_c, \"Loadable\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3Qvc2hhcmVkL2xpYi9sYXp5LWR5bmFtaWMvbG9hZGFibGUuanMiLCJtYXBwaW5ncyI6Ijs7OzsyQ0E0RUE7OztlQUFBOzs7O21DQTVFeUM7aURBQ1o7MkNBRUM7QUFFOUIseUZBQXlGO0FBQ3pGLHFHQUFxRztBQUNyRyxxRUFBcUU7QUFDckUsU0FBU0EsY0FDUEMsR0FBNEQ7SUFJNUQsaUhBQWlIO0lBQ2pILFNBQVM7SUFDVCw4QkFBOEI7SUFDOUIsaUJBQWlCO0lBQ2pCLHFDQUFxQztJQUNyQyx3QkFBd0I7SUFDeEIsTUFBTUMsYUFBYUQsT0FBTyxhQUFhQTtJQUN2QyxPQUFPO1FBQ0xFLFNBQVNELGFBQ0pELElBQTJCRSxPQUFPLEdBQ2xDRjtJQUNQO0FBQ0Y7QUFFQSxNQUFNRyxpQkFBaUI7SUFDckJDLFFBQVEsSUFBTUMsUUFBUUMsT0FBTyxDQUFDUCxjQUFjLElBQU07SUFDbERRLFNBQVM7SUFDVEMsS0FBSztBQUNQO0FBU0Esa0JBQWtCRSxPQUF3QjtJQUN4QyxNQUFNQyxPQUFPO1FBQUUsR0FBR1IsY0FBYztRQUFFLEdBQUdPLE9BQU87SUFBQztJQUM3QyxNQUFNRSxPQUFBQSxXQUFBQSxHQUFPQyxDQUFBQSxHQUFBQSxPQUFBQSxJQUFBQSxFQUFLLElBQU1GLEtBQUtQLE1BQU0sR0FBR1UsSUFBSSxDQUFDZjtJQUMzQyxNQUFNZ0IsVUFBVUosS0FBS0osT0FBTztJQUU1QixTQUFTUyxrQkFBa0JDLEtBQVU7UUFDbkMsTUFBTUMsa0JBQWtCSCxVQUFBQSxXQUFBQSxHQUN0QixxQkFBQ0EsU0FBQUE7WUFBUUksV0FBVztZQUFNQyxXQUFXO1lBQU1DLE9BQU87YUFDaEQ7UUFFSixrRkFBa0Y7UUFDbEYsTUFBTUMsc0JBQXNCLENBQUNYLEtBQUtILEdBQUcsSUFBSSxDQUFDLENBQUNHLEtBQUtKLE9BQU87UUFDdkQsTUFBTWdCLE9BQU9ELHNCQUFzQkUsT0FBQUEsUUFBUSxHQUFHQyxPQUFBQSxRQUFRO1FBQ3RELE1BQU1DLFlBQVlKLHNCQUFzQjtZQUFFSyxVQUFVVDtRQUFnQixJQUFJLENBQUM7UUFDekUsTUFBTVUsV0FBV2pCLEtBQUtILEdBQUcsaUJBQ3ZCOztnQkFFRyxNQUE2QixHQUFYLGNBQ2pCLEMsR0FDRTs4QkFDSixxQkFBQ0ksTUFBQUE7b0JBQU0sR0FBR0ssS0FBSzs7O2FBR2pCLG1DQUFDZ0IscUJBQUFBLFlBQVk7WUFBQ0MsUUFBTztzQkFDbkIsbUNBQUN0QixNQUFBQTtnQkFBTSxHQUFHSyxLQUFLOzs7UUFJbkIscUJBQU8scUJBQUNNLE1BQUFBO1lBQU0sR0FBR0csU0FBUztzQkFBR0U7O0lBQy9CO0lBRUFaLGtCQUFrQm1CLFdBQVcsR0FBRztJQUVoQyxPQUFPbkI7QUFDVDtLQWxDU1A7TUFvQ1QsV0FBZUEiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbmljaG9sYXMubGVlXFxEb2N1bWVudHNcXHpcXHNyY1xcc2hhcmVkXFxsaWJcXGxhenktZHluYW1pY1xcbG9hZGFibGUudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFN1c3BlbnNlLCBGcmFnbWVudCwgbGF6eSB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgQmFpbG91dFRvQ1NSIH0gZnJvbSAnLi9keW5hbWljLWJhaWxvdXQtdG8tY3NyJ1xuaW1wb3J0IHR5cGUgeyBDb21wb25lbnRNb2R1bGUgfSBmcm9tICcuL3R5cGVzJ1xuaW1wb3J0IHsgUHJlbG9hZENodW5rcyB9IGZyb20gJy4vcHJlbG9hZC1jaHVua3MnXG5cbi8vIE5vcm1hbGl6ZSBsb2FkZXIgdG8gcmV0dXJuIHRoZSBtb2R1bGUgYXMgZm9ybSB7IGRlZmF1bHQ6IENvbXBvbmVudCB9IGZvciBgUmVhY3QubGF6eWAuXG4vLyBBbHNvIGZvciBiYWNrd2FyZCBjb21wYXRpYmxlIHNpbmNlIG5leHQvZHluYW1pYyBhbGxvd3MgdG8gcmVzb2x2ZSBhIGNvbXBvbmVudCBkaXJlY3RseSB3aXRoIGxvYWRlclxuLy8gQ2xpZW50IGNvbXBvbmVudCByZWZlcmVuY2UgcHJveHkgbmVlZCB0byBiZSBjb252ZXJ0ZWQgdG8gYSBtb2R1bGUuXG5mdW5jdGlvbiBjb252ZXJ0TW9kdWxlPFA+KFxuICBtb2Q6IFJlYWN0LkNvbXBvbmVudFR5cGU8UD4gfCBDb21wb25lbnRNb2R1bGU8UD4gfCB1bmRlZmluZWRcbik6IHtcbiAgZGVmYXVsdDogUmVhY3QuQ29tcG9uZW50VHlwZTxQPlxufSB7XG4gIC8vIENoZWNrIFwiZGVmYXVsdFwiIHByb3AgYmVmb3JlIGFjY2Vzc2luZyBpdCwgYXMgaXQgY291bGQgYmUgY2xpZW50IHJlZmVyZW5jZSBwcm94eSB0aGF0IGNvdWxkIGJyZWFrIGl0IHJlZmVyZW5jZS5cbiAgLy8gQ2FzZXM6XG4gIC8vIG1vZDogeyBkZWZhdWx0OiBDb21wb25lbnQgfVxuICAvLyBtb2Q6IENvbXBvbmVudFxuICAvLyBtb2Q6IHsgZGVmYXVsdDogcHJveHkoQ29tcG9uZW50KSB9XG4gIC8vIG1vZDogcHJveHkoQ29tcG9uZW50KVxuICBjb25zdCBoYXNEZWZhdWx0ID0gbW9kICYmICdkZWZhdWx0JyBpbiBtb2RcbiAgcmV0dXJuIHtcbiAgICBkZWZhdWx0OiBoYXNEZWZhdWx0XG4gICAgICA/IChtb2QgYXMgQ29tcG9uZW50TW9kdWxlPFA+KS5kZWZhdWx0XG4gICAgICA6IChtb2QgYXMgUmVhY3QuQ29tcG9uZW50VHlwZTxQPiksXG4gIH1cbn1cblxuY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XG4gIGxvYWRlcjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKGNvbnZlcnRNb2R1bGUoKCkgPT4gbnVsbCkpLFxuICBsb2FkaW5nOiBudWxsLFxuICBzc3I6IHRydWUsXG59XG5cbmludGVyZmFjZSBMb2FkYWJsZU9wdGlvbnMge1xuICBsb2FkZXI/OiAoKSA9PiBQcm9taXNlPFJlYWN0LkNvbXBvbmVudFR5cGU8YW55PiB8IENvbXBvbmVudE1vZHVsZTxhbnk+PlxuICBsb2FkaW5nPzogUmVhY3QuQ29tcG9uZW50VHlwZTxhbnk+IHwgbnVsbFxuICBzc3I/OiBib29sZWFuXG4gIG1vZHVsZXM/OiBzdHJpbmdbXVxufVxuXG5mdW5jdGlvbiBMb2FkYWJsZShvcHRpb25zOiBMb2FkYWJsZU9wdGlvbnMpIHtcbiAgY29uc3Qgb3B0cyA9IHsgLi4uZGVmYXVsdE9wdGlvbnMsIC4uLm9wdGlvbnMgfVxuICBjb25zdCBMYXp5ID0gbGF6eSgoKSA9PiBvcHRzLmxvYWRlcigpLnRoZW4oY29udmVydE1vZHVsZSkpXG4gIGNvbnN0IExvYWRpbmcgPSBvcHRzLmxvYWRpbmdcblxuICBmdW5jdGlvbiBMb2FkYWJsZUNvbXBvbmVudChwcm9wczogYW55KSB7XG4gICAgY29uc3QgZmFsbGJhY2tFbGVtZW50ID0gTG9hZGluZyA/IChcbiAgICAgIDxMb2FkaW5nIGlzTG9hZGluZz17dHJ1ZX0gcGFzdERlbGF5PXt0cnVlfSBlcnJvcj17bnVsbH0gLz5cbiAgICApIDogbnVsbFxuXG4gICAgLy8gSWYgaXQncyBub24tU1NSIG9yIHByb3ZpZGVkIGEgbG9hZGluZyBjb21wb25lbnQsIHdyYXAgaXQgaW4gYSBzdXNwZW5zZSBib3VuZGFyeVxuICAgIGNvbnN0IGhhc1N1c3BlbnNlQm91bmRhcnkgPSAhb3B0cy5zc3IgfHwgISFvcHRzLmxvYWRpbmdcbiAgICBjb25zdCBXcmFwID0gaGFzU3VzcGVuc2VCb3VuZGFyeSA/IFN1c3BlbnNlIDogRnJhZ21lbnRcbiAgICBjb25zdCB3cmFwUHJvcHMgPSBoYXNTdXNwZW5zZUJvdW5kYXJ5ID8geyBmYWxsYmFjazogZmFsbGJhY2tFbGVtZW50IH0gOiB7fVxuICAgIGNvbnN0IGNoaWxkcmVuID0gb3B0cy5zc3IgPyAoXG4gICAgICA8PlxuICAgICAgICB7LyogRHVyaW5nIFNTUiwgd2UgbmVlZCB0byBwcmVsb2FkIHRoZSBDU1MgZnJvbSB0aGUgZHluYW1pYyBjb21wb25lbnQgdG8gYXZvaWQgZmxhc2ggb2YgdW5zdHlsZWQgY29udGVudCAqL31cbiAgICAgICAge3R5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnID8gKFxuICAgICAgICAgIDxQcmVsb2FkQ2h1bmtzIG1vZHVsZUlkcz17b3B0cy5tb2R1bGVzfSAvPlxuICAgICAgICApIDogbnVsbH1cbiAgICAgICAgPExhenkgey4uLnByb3BzfSAvPlxuICAgICAgPC8+XG4gICAgKSA6IChcbiAgICAgIDxCYWlsb3V0VG9DU1IgcmVhc29uPVwibmV4dC9keW5hbWljXCI+XG4gICAgICAgIDxMYXp5IHsuLi5wcm9wc30gLz5cbiAgICAgIDwvQmFpbG91dFRvQ1NSPlxuICAgIClcblxuICAgIHJldHVybiA8V3JhcCB7Li4ud3JhcFByb3BzfT57Y2hpbGRyZW59PC9XcmFwPlxuICB9XG5cbiAgTG9hZGFibGVDb21wb25lbnQuZGlzcGxheU5hbWUgPSAnTG9hZGFibGVDb21wb25lbnQnXG5cbiAgcmV0dXJuIExvYWRhYmxlQ29tcG9uZW50XG59XG5cbmV4cG9ydCBkZWZhdWx0IExvYWRhYmxlXG4iXSwibmFtZXMiOlsiY29udmVydE1vZHVsZSIsIm1vZCIsImhhc0RlZmF1bHQiLCJkZWZhdWx0IiwiZGVmYXVsdE9wdGlvbnMiLCJsb2FkZXIiLCJQcm9taXNlIiwicmVzb2x2ZSIsImxvYWRpbmciLCJzc3IiLCJMb2FkYWJsZSIsIm9wdGlvbnMiLCJvcHRzIiwiTGF6eSIsImxhenkiLCJ0aGVuIiwiTG9hZGluZyIsIkxvYWRhYmxlQ29tcG9uZW50IiwicHJvcHMiLCJmYWxsYmFja0VsZW1lbnQiLCJpc0xvYWRpbmciLCJwYXN0RGVsYXkiLCJlcnJvciIsImhhc1N1c3BlbnNlQm91bmRhcnkiLCJXcmFwIiwiU3VzcGVuc2UiLCJGcmFnbWVudCIsIndyYXBQcm9wcyIsImZhbGxiYWNrIiwiY2hpbGRyZW4iLCJ3aW5kb3ciLCJQcmVsb2FkQ2h1bmtzIiwibW9kdWxlSWRzIiwibW9kdWxlcyIsIkJhaWxvdXRUb0NTUiIsInJlYXNvbiIsImRpc3BsYXlOYW1lIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/shared/lib/lazy-dynamic/loadable.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/shared/lib/lazy-dynamic/preload-chunks.js":
/*!**************************************************************************!*\
  !*** ./node_modules/next/dist/shared/lib/lazy-dynamic/preload-chunks.js ***!
  \**************************************************************************/
/***/ ((module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("/* __next_internal_client_entry_do_not_use__  cjs */ \nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nObject.defineProperty(exports, \"PreloadChunks\", ({\n    enumerable: true,\n    get: function() {\n        return PreloadChunks;\n    }\n}));\nconst _jsxruntime = __webpack_require__(/*! react/jsx-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js\");\nconst _reactdom = __webpack_require__(/*! react-dom */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/index.js\");\nconst _workasyncstorageexternal = __webpack_require__(/*! ../../../server/app-render/work-async-storage.external */ \"(shared)/./node_modules/next/dist/server/app-render/work-async-storage.external.js\");\nconst _encodeuripath = __webpack_require__(/*! ../encode-uri-path */ \"(app-pages-browser)/./node_modules/next/dist/shared/lib/encode-uri-path.js\");\nfunction PreloadChunks({ moduleIds }) {\n    // Early return in client compilation and only load requestStore on server side\n    if (true) {\n        return null;\n    }\n    const workStore = _workasyncstorageexternal.workAsyncStorage.getStore();\n    if (workStore === undefined) {\n        return null;\n    }\n    const allFiles = [];\n    // Search the current dynamic call unique key id in react loadable manifest,\n    // and find the corresponding CSS files to preload\n    if (workStore.reactLoadableManifest && moduleIds) {\n        const manifest = workStore.reactLoadableManifest;\n        for (const key of moduleIds){\n            if (!manifest[key]) continue;\n            const chunks = manifest[key].files;\n            allFiles.push(...chunks);\n        }\n    }\n    if (allFiles.length === 0) {\n        return null;\n    }\n    const dplId =  false ? 0 : '';\n    return /*#__PURE__*/ (0, _jsxruntime.jsx)(_jsxruntime.Fragment, {\n        children: allFiles.map((chunk)=>{\n            const href = `${workStore.assetPrefix}/_next/${(0, _encodeuripath.encodeURIPath)(chunk)}${dplId}`;\n            const isCss = chunk.endsWith('.css');\n            // If it's stylesheet we use `precedence` o help hoist with React Float.\n            // For stylesheets we actually need to render the CSS because nothing else is going to do it so it needs to be part of the component tree.\n            // The `preload` for stylesheet is not optional.\n            if (isCss) {\n                return /*#__PURE__*/ (0, _jsxruntime.jsx)(\"link\", {\n                    // @ts-ignore\n                    precedence: \"dynamic\",\n                    href: href,\n                    rel: \"stylesheet\",\n                    as: \"style\",\n                    nonce: workStore.nonce\n                }, chunk);\n            } else {\n                // If it's script we use ReactDOM.preload to preload the resources\n                (0, _reactdom.preload)(href, {\n                    as: 'script',\n                    fetchPriority: 'low',\n                    nonce: workStore.nonce\n                });\n                return null;\n            }\n        })\n    });\n} //# sourceMappingURL=preload-chunks.js.map\n_c = PreloadChunks;\nvar _c;\n$RefreshReg$(_c, \"PreloadChunks\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3Qvc2hhcmVkL2xpYi9sYXp5LWR5bmFtaWMvcHJlbG9hZC1jaHVua3MuanMiLCJtYXBwaW5ncyI6Ijs7OztpREFPZ0JBOzs7ZUFBQUE7Ozs7c0NBTFE7c0RBRVM7MkNBQ0g7QUFFdkIsdUJBQXVCLEVBQzVCQyxTQUFTLEVBR1Y7SUFDQywrRUFBK0U7SUFDL0UsSUFBSSxJQUE2QixFQUFFO1FBQ2pDLE9BQU87SUFDVDtJQUVBLE1BQU1FLFlBQVlDLDBCQUFBQSxnQkFBZ0IsQ0FBQ0MsUUFBUTtJQUMzQyxJQUFJRixjQUFjRyxXQUFXO1FBQzNCLE9BQU87SUFDVDtJQUVBLE1BQU1DLFdBQVcsRUFBRTtJQUVuQiw0RUFBNEU7SUFDNUUsa0RBQWtEO0lBQ2xELElBQUlKLFVBQVVLLHFCQUFxQixJQUFJUCxXQUFXO1FBQ2hELE1BQU1RLFdBQVdOLFVBQVVLLHFCQUFxQjtRQUNoRCxLQUFLLE1BQU1FLE9BQU9ULFVBQVc7WUFDM0IsSUFBSSxDQUFDUSxRQUFRLENBQUNDLElBQUksRUFBRTtZQUNwQixNQUFNQyxTQUFTRixRQUFRLENBQUNDLElBQUksQ0FBQ0UsS0FBSztZQUNsQ0wsU0FBU00sSUFBSSxJQUFJRjtRQUNuQjtJQUNGO0lBRUEsSUFBSUosU0FBU08sTUFBTSxLQUFLLEdBQUc7UUFDekIsT0FBTztJQUNUO0lBRUEsTUFBTUMsUUFBUUMsTUFBOEIsR0FDeEMsQ0FBd0MsR0FDeEM7SUFFSixxQkFDRTtrQkFDR1QsU0FBU1ksR0FBRyxDQUFDLENBQUNDO1lBQ2IsTUFBTUMsT0FBTyxHQUFHbEIsVUFBVW1CLFdBQVcsQ0FBQyxPQUFPLEVBQUVDLENBQUFBLEdBQUFBLGVBQUFBLGFBQWEsRUFBQ0gsU0FBU0wsT0FBTztZQUM3RSxNQUFNUyxRQUFRSixNQUFNSyxRQUFRLENBQUM7WUFDN0Isd0VBQXdFO1lBQ3hFLDBJQUEwSTtZQUMxSSxnREFBZ0Q7WUFDaEQsSUFBSUQsT0FBTztnQkFDVCxxQkFDRSxxQkFBQ0UsUUFBQUE7b0JBRUMsYUFBYTtvQkFDYkMsWUFBVztvQkFDWE4sTUFBTUE7b0JBQ05PLEtBQUk7b0JBQ0pDLElBQUc7b0JBQ0hDLE9BQU8zQixVQUFVMkIsS0FBSzttQkFOakJWO1lBU1gsT0FBTztnQkFDTCxrRUFBa0U7Z0JBQ2xFVyxDQUFBQSxHQUFBQSxVQUFBQSxPQUFBQSxFQUFRVixNQUFNO29CQUNaUSxJQUFJO29CQUNKRyxlQUFlO29CQUNmRixPQUFPM0IsVUFBVTJCLEtBQUs7Z0JBQ3hCO2dCQUNBLE9BQU87WUFDVDtRQUNGOztBQUdOO0tBcEVnQjlCIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXG5pY2hvbGFzLmxlZVxcRG9jdW1lbnRzXFx6XFxzcmNcXHNoYXJlZFxcbGliXFxsYXp5LWR5bmFtaWNcXHByZWxvYWQtY2h1bmtzLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCdcblxuaW1wb3J0IHsgcHJlbG9hZCB9IGZyb20gJ3JlYWN0LWRvbSdcblxuaW1wb3J0IHsgd29ya0FzeW5jU3RvcmFnZSB9IGZyb20gJy4uLy4uLy4uL3NlcnZlci9hcHAtcmVuZGVyL3dvcmstYXN5bmMtc3RvcmFnZS5leHRlcm5hbCdcbmltcG9ydCB7IGVuY29kZVVSSVBhdGggfSBmcm9tICcuLi9lbmNvZGUtdXJpLXBhdGgnXG5cbmV4cG9ydCBmdW5jdGlvbiBQcmVsb2FkQ2h1bmtzKHtcbiAgbW9kdWxlSWRzLFxufToge1xuICBtb2R1bGVJZHM6IHN0cmluZ1tdIHwgdW5kZWZpbmVkXG59KSB7XG4gIC8vIEVhcmx5IHJldHVybiBpbiBjbGllbnQgY29tcGlsYXRpb24gYW5kIG9ubHkgbG9hZCByZXF1ZXN0U3RvcmUgb24gc2VydmVyIHNpZGVcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGNvbnN0IHdvcmtTdG9yZSA9IHdvcmtBc3luY1N0b3JhZ2UuZ2V0U3RvcmUoKVxuICBpZiAod29ya1N0b3JlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgY29uc3QgYWxsRmlsZXMgPSBbXVxuXG4gIC8vIFNlYXJjaCB0aGUgY3VycmVudCBkeW5hbWljIGNhbGwgdW5pcXVlIGtleSBpZCBpbiByZWFjdCBsb2FkYWJsZSBtYW5pZmVzdCxcbiAgLy8gYW5kIGZpbmQgdGhlIGNvcnJlc3BvbmRpbmcgQ1NTIGZpbGVzIHRvIHByZWxvYWRcbiAgaWYgKHdvcmtTdG9yZS5yZWFjdExvYWRhYmxlTWFuaWZlc3QgJiYgbW9kdWxlSWRzKSB7XG4gICAgY29uc3QgbWFuaWZlc3QgPSB3b3JrU3RvcmUucmVhY3RMb2FkYWJsZU1hbmlmZXN0XG4gICAgZm9yIChjb25zdCBrZXkgb2YgbW9kdWxlSWRzKSB7XG4gICAgICBpZiAoIW1hbmlmZXN0W2tleV0pIGNvbnRpbnVlXG4gICAgICBjb25zdCBjaHVua3MgPSBtYW5pZmVzdFtrZXldLmZpbGVzXG4gICAgICBhbGxGaWxlcy5wdXNoKC4uLmNodW5rcylcbiAgICB9XG4gIH1cblxuICBpZiAoYWxsRmlsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGNvbnN0IGRwbElkID0gcHJvY2Vzcy5lbnYuTkVYVF9ERVBMT1lNRU5UX0lEXG4gICAgPyBgP2RwbD0ke3Byb2Nlc3MuZW52Lk5FWFRfREVQTE9ZTUVOVF9JRH1gXG4gICAgOiAnJ1xuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIHthbGxGaWxlcy5tYXAoKGNodW5rKSA9PiB7XG4gICAgICAgIGNvbnN0IGhyZWYgPSBgJHt3b3JrU3RvcmUuYXNzZXRQcmVmaXh9L19uZXh0LyR7ZW5jb2RlVVJJUGF0aChjaHVuayl9JHtkcGxJZH1gXG4gICAgICAgIGNvbnN0IGlzQ3NzID0gY2h1bmsuZW5kc1dpdGgoJy5jc3MnKVxuICAgICAgICAvLyBJZiBpdCdzIHN0eWxlc2hlZXQgd2UgdXNlIGBwcmVjZWRlbmNlYCBvIGhlbHAgaG9pc3Qgd2l0aCBSZWFjdCBGbG9hdC5cbiAgICAgICAgLy8gRm9yIHN0eWxlc2hlZXRzIHdlIGFjdHVhbGx5IG5lZWQgdG8gcmVuZGVyIHRoZSBDU1MgYmVjYXVzZSBub3RoaW5nIGVsc2UgaXMgZ29pbmcgdG8gZG8gaXQgc28gaXQgbmVlZHMgdG8gYmUgcGFydCBvZiB0aGUgY29tcG9uZW50IHRyZWUuXG4gICAgICAgIC8vIFRoZSBgcHJlbG9hZGAgZm9yIHN0eWxlc2hlZXQgaXMgbm90IG9wdGlvbmFsLlxuICAgICAgICBpZiAoaXNDc3MpIHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGxpbmtcbiAgICAgICAgICAgICAga2V5PXtjaHVua31cbiAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICBwcmVjZWRlbmNlPVwiZHluYW1pY1wiXG4gICAgICAgICAgICAgIGhyZWY9e2hyZWZ9XG4gICAgICAgICAgICAgIHJlbD1cInN0eWxlc2hlZXRcIlxuICAgICAgICAgICAgICBhcz1cInN0eWxlXCJcbiAgICAgICAgICAgICAgbm9uY2U9e3dvcmtTdG9yZS5ub25jZX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIElmIGl0J3Mgc2NyaXB0IHdlIHVzZSBSZWFjdERPTS5wcmVsb2FkIHRvIHByZWxvYWQgdGhlIHJlc291cmNlc1xuICAgICAgICAgIHByZWxvYWQoaHJlZiwge1xuICAgICAgICAgICAgYXM6ICdzY3JpcHQnLFxuICAgICAgICAgICAgZmV0Y2hQcmlvcml0eTogJ2xvdycsXG4gICAgICAgICAgICBub25jZTogd29ya1N0b3JlLm5vbmNlLFxuICAgICAgICAgIH0pXG4gICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgfVxuICAgICAgfSl9XG4gICAgPC8+XG4gIClcbn1cbiJdLCJuYW1lcyI6WyJQcmVsb2FkQ2h1bmtzIiwibW9kdWxlSWRzIiwid2luZG93Iiwid29ya1N0b3JlIiwid29ya0FzeW5jU3RvcmFnZSIsImdldFN0b3JlIiwidW5kZWZpbmVkIiwiYWxsRmlsZXMiLCJyZWFjdExvYWRhYmxlTWFuaWZlc3QiLCJtYW5pZmVzdCIsImtleSIsImNodW5rcyIsImZpbGVzIiwicHVzaCIsImxlbmd0aCIsImRwbElkIiwicHJvY2VzcyIsImVudiIsIk5FWFRfREVQTE9ZTUVOVF9JRCIsIm1hcCIsImNodW5rIiwiaHJlZiIsImFzc2V0UHJlZml4IiwiZW5jb2RlVVJJUGF0aCIsImlzQ3NzIiwiZW5kc1dpdGgiLCJsaW5rIiwicHJlY2VkZW5jZSIsInJlbCIsImFzIiwibm9uY2UiLCJwcmVsb2FkIiwiZmV0Y2hQcmlvcml0eSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/shared/lib/lazy-dynamic/preload-chunks.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/styled-jsx/dist/index/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/styled-jsx/dist/index/index.js ***!
  \*****************************************************/
/***/ ((module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\");\n\nvar _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$();\n__webpack_require__(/*! client-only */ \"(app-pages-browser)/./node_modules/next/dist/compiled/client-only/index.js\");\nvar React = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\nfunction _interopDefaultLegacy(e) {\n    return e && typeof e === 'object' && 'default' in e ? e : {\n        'default': e\n    };\n}\nvar React__default = /*#__PURE__*/ _interopDefaultLegacy(React);\n_c = React__default;\n/*\nBased on Glamor's sheet\nhttps://github.com/threepointone/glamor/blob/667b480d31b3721a905021b26e1290ce92ca2879/src/sheet.js\n*/ function _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nvar isProd = typeof process !== \"undefined\" && process.env && \"development\" === \"production\";\nvar isString = function(o) {\n    return Object.prototype.toString.call(o) === \"[object String]\";\n};\nvar StyleSheet = /*#__PURE__*/ function() {\n    function StyleSheet(param) {\n        var ref = param === void 0 ? {} : param, _name = ref.name, name = _name === void 0 ? \"stylesheet\" : _name, _optimizeForSpeed = ref.optimizeForSpeed, optimizeForSpeed = _optimizeForSpeed === void 0 ? isProd : _optimizeForSpeed;\n        invariant$1(isString(name), \"`name` must be a string\");\n        this._name = name;\n        this._deletedRulePlaceholder = \"#\" + name + \"-deleted-rule____{}\";\n        invariant$1(typeof optimizeForSpeed === \"boolean\", \"`optimizeForSpeed` must be a boolean\");\n        this._optimizeForSpeed = optimizeForSpeed;\n        this._serverSheet = undefined;\n        this._tags = [];\n        this._injected = false;\n        this._rulesCount = 0;\n        var node = typeof window !== \"undefined\" && document.querySelector('meta[property=\"csp-nonce\"]');\n        this._nonce = node ? node.getAttribute(\"content\") : null;\n    }\n    var _proto = StyleSheet.prototype;\n    _proto.setOptimizeForSpeed = function setOptimizeForSpeed(bool) {\n        invariant$1(typeof bool === \"boolean\", \"`setOptimizeForSpeed` accepts a boolean\");\n        invariant$1(this._rulesCount === 0, \"optimizeForSpeed cannot be when rules have already been inserted\");\n        this.flush();\n        this._optimizeForSpeed = bool;\n        this.inject();\n    };\n    _proto.isOptimizeForSpeed = function isOptimizeForSpeed() {\n        return this._optimizeForSpeed;\n    };\n    _proto.inject = function inject() {\n        var _this = this;\n        invariant$1(!this._injected, \"sheet already injected\");\n        this._injected = true;\n        if (typeof window !== \"undefined\" && this._optimizeForSpeed) {\n            this._tags[0] = this.makeStyleTag(this._name);\n            this._optimizeForSpeed = \"insertRule\" in this.getSheet();\n            if (!this._optimizeForSpeed) {\n                if (!isProd) {\n                    console.warn(\"StyleSheet: optimizeForSpeed mode not supported falling back to standard mode.\");\n                }\n                this.flush();\n                this._injected = true;\n            }\n            return;\n        }\n        this._serverSheet = {\n            cssRules: [],\n            insertRule: function(rule, index) {\n                if (typeof index === \"number\") {\n                    _this._serverSheet.cssRules[index] = {\n                        cssText: rule\n                    };\n                } else {\n                    _this._serverSheet.cssRules.push({\n                        cssText: rule\n                    });\n                }\n                return index;\n            },\n            deleteRule: function(index) {\n                _this._serverSheet.cssRules[index] = null;\n            }\n        };\n    };\n    _proto.getSheetForTag = function getSheetForTag(tag) {\n        if (tag.sheet) {\n            return tag.sheet;\n        }\n        // this weirdness brought to you by firefox\n        for(var i = 0; i < document.styleSheets.length; i++){\n            if (document.styleSheets[i].ownerNode === tag) {\n                return document.styleSheets[i];\n            }\n        }\n    };\n    _proto.getSheet = function getSheet() {\n        return this.getSheetForTag(this._tags[this._tags.length - 1]);\n    };\n    _proto.insertRule = function insertRule(rule, index) {\n        invariant$1(isString(rule), \"`insertRule` accepts only strings\");\n        if (typeof window === \"undefined\") {\n            if (typeof index !== \"number\") {\n                index = this._serverSheet.cssRules.length;\n            }\n            this._serverSheet.insertRule(rule, index);\n            return this._rulesCount++;\n        }\n        if (this._optimizeForSpeed) {\n            var sheet = this.getSheet();\n            if (typeof index !== \"number\") {\n                index = sheet.cssRules.length;\n            }\n            // this weirdness for perf, and chrome's weird bug\n            // https://stackoverflow.com/questions/20007992/chrome-suddenly-stopped-accepting-insertrule\n            try {\n                sheet.insertRule(rule, index);\n            } catch (error) {\n                if (!isProd) {\n                    console.warn(\"StyleSheet: illegal rule: \\n\\n\" + rule + \"\\n\\nSee https://stackoverflow.com/q/20007992 for more info\");\n                }\n                return -1;\n            }\n        } else {\n            var insertionPoint = this._tags[index];\n            this._tags.push(this.makeStyleTag(this._name, rule, insertionPoint));\n        }\n        return this._rulesCount++;\n    };\n    _proto.replaceRule = function replaceRule(index, rule) {\n        if (this._optimizeForSpeed || typeof window === \"undefined\") {\n            var sheet = typeof window !== \"undefined\" ? this.getSheet() : this._serverSheet;\n            if (!rule.trim()) {\n                rule = this._deletedRulePlaceholder;\n            }\n            if (!sheet.cssRules[index]) {\n                // @TBD Should we throw an error?\n                return index;\n            }\n            sheet.deleteRule(index);\n            try {\n                sheet.insertRule(rule, index);\n            } catch (error) {\n                if (!isProd) {\n                    console.warn(\"StyleSheet: illegal rule: \\n\\n\" + rule + \"\\n\\nSee https://stackoverflow.com/q/20007992 for more info\");\n                }\n                // In order to preserve the indices we insert a deleteRulePlaceholder\n                sheet.insertRule(this._deletedRulePlaceholder, index);\n            }\n        } else {\n            var tag = this._tags[index];\n            invariant$1(tag, \"old rule at index `\" + index + \"` not found\");\n            tag.textContent = rule;\n        }\n        return index;\n    };\n    _proto.deleteRule = function deleteRule(index) {\n        if (typeof window === \"undefined\") {\n            this._serverSheet.deleteRule(index);\n            return;\n        }\n        if (this._optimizeForSpeed) {\n            this.replaceRule(index, \"\");\n        } else {\n            var tag = this._tags[index];\n            invariant$1(tag, \"rule at index `\" + index + \"` not found\");\n            tag.parentNode.removeChild(tag);\n            this._tags[index] = null;\n        }\n    };\n    _proto.flush = function flush() {\n        this._injected = false;\n        this._rulesCount = 0;\n        if (typeof window !== \"undefined\") {\n            this._tags.forEach(function(tag) {\n                return tag && tag.parentNode.removeChild(tag);\n            });\n            this._tags = [];\n        } else {\n            // simpler on server\n            this._serverSheet.cssRules = [];\n        }\n    };\n    _proto.cssRules = function cssRules() {\n        var _this = this;\n        if (typeof window === \"undefined\") {\n            return this._serverSheet.cssRules;\n        }\n        return this._tags.reduce(function(rules, tag) {\n            if (tag) {\n                rules = rules.concat(Array.prototype.map.call(_this.getSheetForTag(tag).cssRules, function(rule) {\n                    return rule.cssText === _this._deletedRulePlaceholder ? null : rule;\n                }));\n            } else {\n                rules.push(null);\n            }\n            return rules;\n        }, []);\n    };\n    _proto.makeStyleTag = function makeStyleTag(name, cssString, relativeToTag) {\n        if (cssString) {\n            invariant$1(isString(cssString), \"makeStyleTag accepts only strings as second parameter\");\n        }\n        var tag = document.createElement(\"style\");\n        if (this._nonce) tag.setAttribute(\"nonce\", this._nonce);\n        tag.type = \"text/css\";\n        tag.setAttribute(\"data-\" + name, \"\");\n        if (cssString) {\n            tag.appendChild(document.createTextNode(cssString));\n        }\n        var head = document.head || document.getElementsByTagName(\"head\")[0];\n        if (relativeToTag) {\n            head.insertBefore(tag, relativeToTag);\n        } else {\n            head.appendChild(tag);\n        }\n        return tag;\n    };\n    _createClass(StyleSheet, [\n        {\n            key: \"length\",\n            get: function get() {\n                return this._rulesCount;\n            }\n        }\n    ]);\n    return StyleSheet;\n}();\nfunction invariant$1(condition, message) {\n    if (!condition) {\n        throw new Error(\"StyleSheet: \" + message + \".\");\n    }\n}\nfunction hash(str) {\n    var _$hash = 5381, i = str.length;\n    while(i){\n        _$hash = _$hash * 33 ^ str.charCodeAt(--i);\n    }\n    /* JavaScript does bitwise operations (like XOR, above) on 32-bit signed\n   * integers. Since we want the results to be always positive, convert the\n   * signed int to an unsigned by doing an unsigned bitshift. */ return _$hash >>> 0;\n}\nvar stringHash = hash;\nvar sanitize = function(rule) {\n    return rule.replace(/\\/style/gi, \"\\\\/style\");\n};\nvar cache = {};\n/**\n * computeId\n *\n * Compute and memoize a jsx id from a basedId and optionally props.\n */ function computeId(baseId, props) {\n    if (!props) {\n        return \"jsx-\" + baseId;\n    }\n    var propsToString = String(props);\n    var key = baseId + propsToString;\n    if (!cache[key]) {\n        cache[key] = \"jsx-\" + stringHash(baseId + \"-\" + propsToString);\n    }\n    return cache[key];\n}\n/**\n * computeSelector\n *\n * Compute and memoize dynamic selectors.\n */ function computeSelector(id, css) {\n    var selectoPlaceholderRegexp = /__jsx-style-dynamic-selector/g;\n    // Sanitize SSR-ed CSS.\n    // Client side code doesn't need to be sanitized since we use\n    // document.createTextNode (dev) and the CSSOM api sheet.insertRule (prod).\n    if (typeof window === \"undefined\") {\n        css = sanitize(css);\n    }\n    var idcss = id + css;\n    if (!cache[idcss]) {\n        cache[idcss] = css.replace(selectoPlaceholderRegexp, id);\n    }\n    return cache[idcss];\n}\nfunction mapRulesToStyle(cssRules, options) {\n    if (options === void 0) options = {};\n    return cssRules.map(function(args) {\n        var id = args[0];\n        var css = args[1];\n        return /*#__PURE__*/ React__default[\"default\"].createElement(\"style\", {\n            id: \"__\" + id,\n            // Avoid warnings upon render with a key\n            key: \"__\" + id,\n            nonce: options.nonce ? options.nonce : undefined,\n            dangerouslySetInnerHTML: {\n                __html: css\n            }\n        });\n    });\n}\nvar StyleSheetRegistry = /*#__PURE__*/ function() {\n    function StyleSheetRegistry(param) {\n        var ref = param === void 0 ? {} : param, _styleSheet = ref.styleSheet, styleSheet = _styleSheet === void 0 ? null : _styleSheet, _optimizeForSpeed = ref.optimizeForSpeed, optimizeForSpeed = _optimizeForSpeed === void 0 ? false : _optimizeForSpeed;\n        this._sheet = styleSheet || new StyleSheet({\n            name: \"styled-jsx\",\n            optimizeForSpeed: optimizeForSpeed\n        });\n        this._sheet.inject();\n        if (styleSheet && typeof optimizeForSpeed === \"boolean\") {\n            this._sheet.setOptimizeForSpeed(optimizeForSpeed);\n            this._optimizeForSpeed = this._sheet.isOptimizeForSpeed();\n        }\n        this._fromServer = undefined;\n        this._indices = {};\n        this._instancesCounts = {};\n    }\n    var _proto = StyleSheetRegistry.prototype;\n    _proto.add = function add(props) {\n        var _this = this;\n        if (undefined === this._optimizeForSpeed) {\n            this._optimizeForSpeed = Array.isArray(props.children);\n            this._sheet.setOptimizeForSpeed(this._optimizeForSpeed);\n            this._optimizeForSpeed = this._sheet.isOptimizeForSpeed();\n        }\n        if (typeof window !== \"undefined\" && !this._fromServer) {\n            this._fromServer = this.selectFromServer();\n            this._instancesCounts = Object.keys(this._fromServer).reduce(function(acc, tagName) {\n                acc[tagName] = 0;\n                return acc;\n            }, {});\n        }\n        var ref = this.getIdAndRules(props), styleId = ref.styleId, rules = ref.rules;\n        // Deduping: just increase the instances count.\n        if (styleId in this._instancesCounts) {\n            this._instancesCounts[styleId] += 1;\n            return;\n        }\n        var indices = rules.map(function(rule) {\n            return _this._sheet.insertRule(rule);\n        }) // Filter out invalid rules\n        .filter(function(index) {\n            return index !== -1;\n        });\n        this._indices[styleId] = indices;\n        this._instancesCounts[styleId] = 1;\n    };\n    _proto.remove = function remove(props) {\n        var _this = this;\n        var styleId = this.getIdAndRules(props).styleId;\n        invariant(styleId in this._instancesCounts, \"styleId: `\" + styleId + \"` not found\");\n        this._instancesCounts[styleId] -= 1;\n        if (this._instancesCounts[styleId] < 1) {\n            var tagFromServer = this._fromServer && this._fromServer[styleId];\n            if (tagFromServer) {\n                tagFromServer.parentNode.removeChild(tagFromServer);\n                delete this._fromServer[styleId];\n            } else {\n                this._indices[styleId].forEach(function(index) {\n                    return _this._sheet.deleteRule(index);\n                });\n                delete this._indices[styleId];\n            }\n            delete this._instancesCounts[styleId];\n        }\n    };\n    _proto.update = function update(props, nextProps) {\n        this.add(nextProps);\n        this.remove(props);\n    };\n    _proto.flush = function flush() {\n        this._sheet.flush();\n        this._sheet.inject();\n        this._fromServer = undefined;\n        this._indices = {};\n        this._instancesCounts = {};\n    };\n    _proto.cssRules = function cssRules() {\n        var _this = this;\n        var fromServer = this._fromServer ? Object.keys(this._fromServer).map(function(styleId) {\n            return [\n                styleId,\n                _this._fromServer[styleId]\n            ];\n        }) : [];\n        var cssRules = this._sheet.cssRules();\n        return fromServer.concat(Object.keys(this._indices).map(function(styleId) {\n            return [\n                styleId,\n                _this._indices[styleId].map(function(index) {\n                    return cssRules[index].cssText;\n                }).join(_this._optimizeForSpeed ? \"\" : \"\\n\")\n            ];\n        }) // filter out empty rules\n        .filter(function(rule) {\n            return Boolean(rule[1]);\n        }));\n    };\n    _proto.styles = function styles(options) {\n        return mapRulesToStyle(this.cssRules(), options);\n    };\n    _proto.getIdAndRules = function getIdAndRules(props) {\n        var css = props.children, dynamic = props.dynamic, id = props.id;\n        if (dynamic) {\n            var styleId = computeId(id, dynamic);\n            return {\n                styleId: styleId,\n                rules: Array.isArray(css) ? css.map(function(rule) {\n                    return computeSelector(styleId, rule);\n                }) : [\n                    computeSelector(styleId, css)\n                ]\n            };\n        }\n        return {\n            styleId: computeId(id),\n            rules: Array.isArray(css) ? css : [\n                css\n            ]\n        };\n    };\n    /**\n   * selectFromServer\n   *\n   * Collects style tags from the document with id __jsx-XXX\n   */ _proto.selectFromServer = function selectFromServer() {\n        var elements = Array.prototype.slice.call(document.querySelectorAll('[id^=\"__jsx-\"]'));\n        return elements.reduce(function(acc, element) {\n            var id = element.id.slice(2);\n            acc[id] = element;\n            return acc;\n        }, {});\n    };\n    return StyleSheetRegistry;\n}();\nfunction invariant(condition, message) {\n    if (!condition) {\n        throw new Error(\"StyleSheetRegistry: \" + message + \".\");\n    }\n}\nvar StyleSheetContext = /*#__PURE__*/ React.createContext(null);\nStyleSheetContext.displayName = \"StyleSheetContext\";\nfunction createStyleRegistry() {\n    return new StyleSheetRegistry();\n}\nfunction StyleRegistry(param) {\n    _s();\n    var configuredRegistry = param.registry, children = param.children;\n    var rootRegistry = React.useContext(StyleSheetContext);\n    var ref = React.useState({\n        \"StyleRegistry.useState[ref]\": function() {\n            return rootRegistry || configuredRegistry || createStyleRegistry();\n        }\n    }[\"StyleRegistry.useState[ref]\"]), registry = ref[0];\n    return /*#__PURE__*/ React__default[\"default\"].createElement(StyleSheetContext.Provider, {\n        value: registry\n    }, children);\n}\n_s(StyleRegistry, \"F6PIZFsaWgcE6rBNmd+Zkq3zRoY=\");\n_c1 = StyleRegistry;\nfunction useStyleRegistry() {\n    _s1();\n    return React.useContext(StyleSheetContext);\n}\n_s1(useStyleRegistry, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n// Opt-into the new `useInsertionEffect` API in React 18, fallback to `useLayoutEffect`.\n// https://github.com/reactwg/react-18/discussions/110\nvar useInsertionEffect = React__default[\"default\"].useInsertionEffect || React__default[\"default\"].useLayoutEffect;\nvar defaultRegistry = typeof window !== \"undefined\" ? createStyleRegistry() : undefined;\nfunction JSXStyle(props) {\n    _s2();\n    var registry = defaultRegistry ? defaultRegistry : useStyleRegistry();\n    // If `registry` does not exist, we do nothing here.\n    if (!registry) {\n        return null;\n    }\n    if (typeof window === \"undefined\") {\n        registry.add(props);\n        return null;\n    }\n    useInsertionEffect({\n        \"JSXStyle.useInsertionEffect\": function() {\n            registry.add(props);\n            return ({\n                \"JSXStyle.useInsertionEffect\": function() {\n                    registry.remove(props);\n                }\n            })[\"JSXStyle.useInsertionEffect\"];\n        // props.children can be string[], will be striped since id is identical\n        }\n    }[\"JSXStyle.useInsertionEffect\"], [\n        props.id,\n        String(props.dynamic)\n    ]);\n    return null;\n}\n_s2(JSXStyle, \"48Sqj1BUqkshsPdz6NEWXDn8pF4=\", false, function() {\n    return [\n        useStyleRegistry,\n        useInsertionEffect\n    ];\n});\n_c2 = JSXStyle;\nJSXStyle.dynamic = function(info) {\n    return info.map(function(tagInfo) {\n        var baseId = tagInfo[0];\n        var props = tagInfo[1];\n        return computeId(baseId, props);\n    }).join(\" \");\n};\nexports.StyleRegistry = StyleRegistry;\nexports.createStyleRegistry = createStyleRegistry;\nexports.style = JSXStyle;\nexports.useStyleRegistry = useStyleRegistry;\nvar _c, _c1, _c2;\n$RefreshReg$(_c, \"React__default\");\n$RefreshReg$(_c1, \"StyleRegistry\");\n$RefreshReg$(_c2, \"JSXStyle\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9zdHlsZWQtanN4L2Rpc3QvaW5kZXgvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7O0FBQUFBLG1CQUFPQSxDQUFDLCtGQUFhO0FBQ3JCLElBQUlDLFFBQVFELG1CQUFPQSxDQUFDLG1GQUFPO0FBRTNCLFNBQVNFLHNCQUF1QkMsQ0FBQztJQUFJLE9BQU9BLEtBQUssT0FBT0EsTUFBTSxZQUFZLGFBQWFBLElBQUlBLElBQUk7UUFBRSxXQUFXQTtJQUFFO0FBQUc7QUFFakgsSUFBSUMsaUJBQWlCLFdBQVcsR0FBRUYsc0JBQXNCRDs7QUFFeEQ7OztBQUdBLEdBQUcsU0FBU0ksa0JBQWtCQyxNQUFNLEVBQUVDLEtBQUs7SUFDdkMsSUFBSSxJQUFJQyxJQUFJLEdBQUdBLElBQUlELE1BQU1FLE1BQU0sRUFBRUQsSUFBSTtRQUNqQyxJQUFJRSxhQUFhSCxLQUFLLENBQUNDLEVBQUU7UUFDekJFLFdBQVdDLFVBQVUsR0FBR0QsV0FBV0MsVUFBVSxJQUFJO1FBQ2pERCxXQUFXRSxZQUFZLEdBQUc7UUFDMUIsSUFBSSxXQUFXRixZQUFZQSxXQUFXRyxRQUFRLEdBQUc7UUFDakRDLE9BQU9DLGNBQWMsQ0FBQ1QsUUFBUUksV0FBV00sR0FBRyxFQUFFTjtJQUNsRDtBQUNKO0FBQ0EsU0FBU08sYUFBYUMsV0FBVyxFQUFFQyxVQUFVLEVBQUVDLFdBQVc7SUFDdEQsSUFBSUQsWUFBWWQsa0JBQWtCYSxZQUFZRyxTQUFTLEVBQUVGO0lBQ3pELElBQUlDLGFBQWFmLGtCQUFrQmEsYUFBYUU7SUFDaEQsT0FBT0Y7QUFDWDtBQUNBLElBQUlJLFNBQVMsT0FBT0MsT0FBT0EsS0FBSyxlQUFlQSxPQUFPQSxDQUFDQyxHQUFHLElBQUlELGtCQUF5QjtBQUN2RixJQUFJRSxXQUFXLFNBQVNDLENBQUM7SUFDckIsT0FBT1osT0FBT08sU0FBUyxDQUFDTSxRQUFRLENBQUNDLElBQUksQ0FBQ0YsT0FBTztBQUNqRDtBQUNBLElBQUlH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QjtZQUNmUCxTQUFTL0IsR0FBRyxDQUFDMUg7WUFDYjsrQ0FBTztvQkFDSHlKLFNBQVNwQixNQUFNLENBQUNySTtnQkFDcEI7O1FBQ0osd0VBQXdFO1FBQ3hFO3NDQUFHO1FBQ0NBLE1BQU15RyxFQUFFO1FBQ1JGLE9BQU92RyxNQUFNOEksT0FBTztLQUN2QjtJQUNELE9BQU87QUFDWDtJQXJCU3FCOztRQUM4Q0o7UUFTbkRDOzs7TUFWS0c7QUFzQlRBLFNBQVNyQixPQUFPLEdBQUcsU0FBU3NCLElBQUk7SUFDNUIsT0FBT0EsS0FBS3ZGLEdBQUcsQ0FBQyxTQUFTd0YsT0FBTztRQUM1QixJQUFJaEUsU0FBU2dFLE9BQU8sQ0FBQyxFQUFFO1FBQ3ZCLElBQUlySyxRQUFRcUssT0FBTyxDQUFDLEVBQUU7UUFDdEIsT0FBT2pFLFVBQVVDLFFBQVFyRztJQUM3QixHQUFHMkksSUFBSSxDQUFDO0FBQ1o7QUFFQTJCLHFCQUFxQixHQUFHZjtBQUN4QmUsMkJBQTJCLEdBQUdoQjtBQUM5QmdCLGFBQWEsR0FBR0g7QUFDaEJHLHdCQUF3QixHQUFHUCIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxuaWNob2xhcy5sZWVcXERvY3VtZW50c1xcelxcVGlja2V0aW5nX05pY2tcXFRpY2tldGluZ1xcdGF2X29wZW5zb3VyY2VcXHVpXFxub2RlX21vZHVsZXNcXHN0eWxlZC1qc3hcXGRpc3RcXGluZGV4XFxpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKCdjbGllbnQtb25seScpO1xudmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BEZWZhdWx0TGVnYWN5IChlKSB7IHJldHVybiBlICYmIHR5cGVvZiBlID09PSAnb2JqZWN0JyAmJiAnZGVmYXVsdCcgaW4gZSA/IGUgOiB7ICdkZWZhdWx0JzogZSB9OyB9XG5cbnZhciBSZWFjdF9fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9faW50ZXJvcERlZmF1bHRMZWdhY3koUmVhY3QpO1xuXG4vKlxuQmFzZWQgb24gR2xhbW9yJ3Mgc2hlZXRcbmh0dHBzOi8vZ2l0aHViLmNvbS90aHJlZXBvaW50b25lL2dsYW1vci9ibG9iLzY2N2I0ODBkMzFiMzcyMWE5MDUwMjFiMjZlMTI5MGNlOTJjYTI4Nzkvc3JjL3NoZWV0LmpzXG4qLyBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICB9XG59XG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn1cbnZhciBpc1Byb2QgPSB0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBwcm9jZXNzLmVudiAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCI7XG52YXIgaXNTdHJpbmcgPSBmdW5jdGlvbihvKSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKSA9PT0gXCJbb2JqZWN0IFN0cmluZ11cIjtcbn07XG52YXIgU3R5bGVTaGVldCA9IC8qI19fUFVSRV9fKi8gZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gU3R5bGVTaGVldChwYXJhbSkge1xuICAgICAgICB2YXIgcmVmID0gcGFyYW0gPT09IHZvaWQgMCA/IHt9IDogcGFyYW0sIF9uYW1lID0gcmVmLm5hbWUsIG5hbWUgPSBfbmFtZSA9PT0gdm9pZCAwID8gXCJzdHlsZXNoZWV0XCIgOiBfbmFtZSwgX29wdGltaXplRm9yU3BlZWQgPSByZWYub3B0aW1pemVGb3JTcGVlZCwgb3B0aW1pemVGb3JTcGVlZCA9IF9vcHRpbWl6ZUZvclNwZWVkID09PSB2b2lkIDAgPyBpc1Byb2QgOiBfb3B0aW1pemVGb3JTcGVlZDtcbiAgICAgICAgaW52YXJpYW50JDEoaXNTdHJpbmcobmFtZSksIFwiYG5hbWVgIG11c3QgYmUgYSBzdHJpbmdcIik7XG4gICAgICAgIHRoaXMuX25hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLl9kZWxldGVkUnVsZVBsYWNlaG9sZGVyID0gXCIjXCIgKyBuYW1lICsgXCItZGVsZXRlZC1ydWxlX19fX3t9XCI7XG4gICAgICAgIGludmFyaWFudCQxKHR5cGVvZiBvcHRpbWl6ZUZvclNwZWVkID09PSBcImJvb2xlYW5cIiwgXCJgb3B0aW1pemVGb3JTcGVlZGAgbXVzdCBiZSBhIGJvb2xlYW5cIik7XG4gICAgICAgIHRoaXMuX29wdGltaXplRm9yU3BlZWQgPSBvcHRpbWl6ZUZvclNwZWVkO1xuICAgICAgICB0aGlzLl9zZXJ2ZXJTaGVldCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fdGFncyA9IFtdO1xuICAgICAgICB0aGlzLl9pbmplY3RlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9ydWxlc0NvdW50ID0gMDtcbiAgICAgICAgdmFyIG5vZGUgPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21ldGFbcHJvcGVydHk9XCJjc3Atbm9uY2VcIl0nKTtcbiAgICAgICAgdGhpcy5fbm9uY2UgPSBub2RlID8gbm9kZS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50XCIpIDogbnVsbDtcbiAgICB9XG4gICAgdmFyIF9wcm90byA9IFN0eWxlU2hlZXQucHJvdG90eXBlO1xuICAgIF9wcm90by5zZXRPcHRpbWl6ZUZvclNwZWVkID0gZnVuY3Rpb24gc2V0T3B0aW1pemVGb3JTcGVlZChib29sKSB7XG4gICAgICAgIGludmFyaWFudCQxKHR5cGVvZiBib29sID09PSBcImJvb2xlYW5cIiwgXCJgc2V0T3B0aW1pemVGb3JTcGVlZGAgYWNjZXB0cyBhIGJvb2xlYW5cIik7XG4gICAgICAgIGludmFyaWFudCQxKHRoaXMuX3J1bGVzQ291bnQgPT09IDAsIFwib3B0aW1pemVGb3JTcGVlZCBjYW5ub3QgYmUgd2hlbiBydWxlcyBoYXZlIGFscmVhZHkgYmVlbiBpbnNlcnRlZFwiKTtcbiAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgICAgICB0aGlzLl9vcHRpbWl6ZUZvclNwZWVkID0gYm9vbDtcbiAgICAgICAgdGhpcy5pbmplY3QoKTtcbiAgICB9O1xuICAgIF9wcm90by5pc09wdGltaXplRm9yU3BlZWQgPSBmdW5jdGlvbiBpc09wdGltaXplRm9yU3BlZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vcHRpbWl6ZUZvclNwZWVkO1xuICAgIH07XG4gICAgX3Byb3RvLmluamVjdCA9IGZ1bmN0aW9uIGluamVjdCgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaW52YXJpYW50JDEoIXRoaXMuX2luamVjdGVkLCBcInNoZWV0IGFscmVhZHkgaW5qZWN0ZWRcIik7XG4gICAgICAgIHRoaXMuX2luamVjdGVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgdGhpcy5fb3B0aW1pemVGb3JTcGVlZCkge1xuICAgICAgICAgICAgdGhpcy5fdGFnc1swXSA9IHRoaXMubWFrZVN0eWxlVGFnKHRoaXMuX25hbWUpO1xuICAgICAgICAgICAgdGhpcy5fb3B0aW1pemVGb3JTcGVlZCA9IFwiaW5zZXJ0UnVsZVwiIGluIHRoaXMuZ2V0U2hlZXQoKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5fb3B0aW1pemVGb3JTcGVlZCkge1xuICAgICAgICAgICAgICAgIGlmICghaXNQcm9kKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlN0eWxlU2hlZXQ6IG9wdGltaXplRm9yU3BlZWQgbW9kZSBub3Qgc3VwcG9ydGVkIGZhbGxpbmcgYmFjayB0byBzdGFuZGFyZCBtb2RlLlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2luamVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zZXJ2ZXJTaGVldCA9IHtcbiAgICAgICAgICAgIGNzc1J1bGVzOiBbXSxcbiAgICAgICAgICAgIGluc2VydFJ1bGU6IGZ1bmN0aW9uKHJ1bGUsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBpbmRleCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fc2VydmVyU2hlZXQuY3NzUnVsZXNbaW5kZXhdID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3NzVGV4dDogcnVsZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9zZXJ2ZXJTaGVldC5jc3NSdWxlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNzc1RleHQ6IHJ1bGVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWxldGVSdWxlOiBmdW5jdGlvbihpbmRleCkge1xuICAgICAgICAgICAgICAgIF90aGlzLl9zZXJ2ZXJTaGVldC5jc3NSdWxlc1tpbmRleF0gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG4gICAgX3Byb3RvLmdldFNoZWV0Rm9yVGFnID0gZnVuY3Rpb24gZ2V0U2hlZXRGb3JUYWcodGFnKSB7XG4gICAgICAgIGlmICh0YWcuc2hlZXQpIHtcbiAgICAgICAgICAgIHJldHVybiB0YWcuc2hlZXQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhpcyB3ZWlyZG5lc3MgYnJvdWdodCB0byB5b3UgYnkgZmlyZWZveFxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgZG9jdW1lbnQuc3R5bGVTaGVldHMubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgaWYgKGRvY3VtZW50LnN0eWxlU2hlZXRzW2ldLm93bmVyTm9kZSA9PT0gdGFnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LnN0eWxlU2hlZXRzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBfcHJvdG8uZ2V0U2hlZXQgPSBmdW5jdGlvbiBnZXRTaGVldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U2hlZXRGb3JUYWcodGhpcy5fdGFnc1t0aGlzLl90YWdzLmxlbmd0aCAtIDFdKTtcbiAgICB9O1xuICAgIF9wcm90by5pbnNlcnRSdWxlID0gZnVuY3Rpb24gaW5zZXJ0UnVsZShydWxlLCBpbmRleCkge1xuICAgICAgICBpbnZhcmlhbnQkMShpc1N0cmluZyhydWxlKSwgXCJgaW5zZXJ0UnVsZWAgYWNjZXB0cyBvbmx5IHN0cmluZ3NcIik7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGluZGV4ICE9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgaW5kZXggPSB0aGlzLl9zZXJ2ZXJTaGVldC5jc3NSdWxlcy5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9zZXJ2ZXJTaGVldC5pbnNlcnRSdWxlKHJ1bGUsIGluZGV4KTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ydWxlc0NvdW50Kys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX29wdGltaXplRm9yU3BlZWQpIHtcbiAgICAgICAgICAgIHZhciBzaGVldCA9IHRoaXMuZ2V0U2hlZXQoKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaW5kZXggIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICBpbmRleCA9IHNoZWV0LmNzc1J1bGVzLmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRoaXMgd2VpcmRuZXNzIGZvciBwZXJmLCBhbmQgY2hyb21lJ3Mgd2VpcmQgYnVnXG4gICAgICAgICAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yMDAwNzk5Mi9jaHJvbWUtc3VkZGVubHktc3RvcHBlZC1hY2NlcHRpbmctaW5zZXJ0cnVsZVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBzaGVldC5pbnNlcnRSdWxlKHJ1bGUsIGluZGV4KTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc1Byb2QpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiU3R5bGVTaGVldDogaWxsZWdhbCBydWxlOiBcXG5cXG5cIiArIHJ1bGUgKyBcIlxcblxcblNlZSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3EvMjAwMDc5OTIgZm9yIG1vcmUgaW5mb1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGluc2VydGlvblBvaW50ID0gdGhpcy5fdGFnc1tpbmRleF07XG4gICAgICAgICAgICB0aGlzLl90YWdzLnB1c2godGhpcy5tYWtlU3R5bGVUYWcodGhpcy5fbmFtZSwgcnVsZSwgaW5zZXJ0aW9uUG9pbnQpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcnVsZXNDb3VudCsrO1xuICAgIH07XG4gICAgX3Byb3RvLnJlcGxhY2VSdWxlID0gZnVuY3Rpb24gcmVwbGFjZVJ1bGUoaW5kZXgsIHJ1bGUpIHtcbiAgICAgICAgaWYgKHRoaXMuX29wdGltaXplRm9yU3BlZWQgfHwgdHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgdmFyIHNoZWV0ID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHRoaXMuZ2V0U2hlZXQoKSA6IHRoaXMuX3NlcnZlclNoZWV0O1xuICAgICAgICAgICAgaWYgKCFydWxlLnRyaW0oKSkge1xuICAgICAgICAgICAgICAgIHJ1bGUgPSB0aGlzLl9kZWxldGVkUnVsZVBsYWNlaG9sZGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFzaGVldC5jc3NSdWxlc1tpbmRleF0pIHtcbiAgICAgICAgICAgICAgICAvLyBAVEJEIFNob3VsZCB3ZSB0aHJvdyBhbiBlcnJvcj9cbiAgICAgICAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzaGVldC5kZWxldGVSdWxlKGluZGV4KTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgc2hlZXQuaW5zZXJ0UnVsZShydWxlLCBpbmRleCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGlmICghaXNQcm9kKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlN0eWxlU2hlZXQ6IGlsbGVnYWwgcnVsZTogXFxuXFxuXCIgKyBydWxlICsgXCJcXG5cXG5TZWUgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xLzIwMDA3OTkyIGZvciBtb3JlIGluZm9cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEluIG9yZGVyIHRvIHByZXNlcnZlIHRoZSBpbmRpY2VzIHdlIGluc2VydCBhIGRlbGV0ZVJ1bGVQbGFjZWhvbGRlclxuICAgICAgICAgICAgICAgIHNoZWV0Lmluc2VydFJ1bGUodGhpcy5fZGVsZXRlZFJ1bGVQbGFjZWhvbGRlciwgaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHRhZyA9IHRoaXMuX3RhZ3NbaW5kZXhdO1xuICAgICAgICAgICAgaW52YXJpYW50JDEodGFnLCBcIm9sZCBydWxlIGF0IGluZGV4IGBcIiArIGluZGV4ICsgXCJgIG5vdCBmb3VuZFwiKTtcbiAgICAgICAgICAgIHRhZy50ZXh0Q29udGVudCA9IHJ1bGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH07XG4gICAgX3Byb3RvLmRlbGV0ZVJ1bGUgPSBmdW5jdGlvbiBkZWxldGVSdWxlKGluZGV4KSB7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXJ2ZXJTaGVldC5kZWxldGVSdWxlKGluZGV4KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fb3B0aW1pemVGb3JTcGVlZCkge1xuICAgICAgICAgICAgdGhpcy5yZXBsYWNlUnVsZShpbmRleCwgXCJcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgdGFnID0gdGhpcy5fdGFnc1tpbmRleF07XG4gICAgICAgICAgICBpbnZhcmlhbnQkMSh0YWcsIFwicnVsZSBhdCBpbmRleCBgXCIgKyBpbmRleCArIFwiYCBub3QgZm91bmRcIik7XG4gICAgICAgICAgICB0YWcucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0YWcpO1xuICAgICAgICAgICAgdGhpcy5fdGFnc1tpbmRleF0gPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBfcHJvdG8uZmx1c2ggPSBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICAgICAgdGhpcy5faW5qZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcnVsZXNDb3VudCA9IDA7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICB0aGlzLl90YWdzLmZvckVhY2goZnVuY3Rpb24odGFnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhZyAmJiB0YWcucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0YWcpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLl90YWdzID0gW107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBzaW1wbGVyIG9uIHNlcnZlclxuICAgICAgICAgICAgdGhpcy5fc2VydmVyU2hlZXQuY3NzUnVsZXMgPSBbXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgX3Byb3RvLmNzc1J1bGVzID0gZnVuY3Rpb24gY3NzUnVsZXMoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2VydmVyU2hlZXQuY3NzUnVsZXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3RhZ3MucmVkdWNlKGZ1bmN0aW9uKHJ1bGVzLCB0YWcpIHtcbiAgICAgICAgICAgIGlmICh0YWcpIHtcbiAgICAgICAgICAgICAgICBydWxlcyA9IHJ1bGVzLmNvbmNhdChBcnJheS5wcm90b3R5cGUubWFwLmNhbGwoX3RoaXMuZ2V0U2hlZXRGb3JUYWcodGFnKS5jc3NSdWxlcywgZnVuY3Rpb24ocnVsZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcnVsZS5jc3NUZXh0ID09PSBfdGhpcy5fZGVsZXRlZFJ1bGVQbGFjZWhvbGRlciA/IG51bGwgOiBydWxlO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcnVsZXMucHVzaChudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBydWxlcztcbiAgICAgICAgfSwgW10pO1xuICAgIH07XG4gICAgX3Byb3RvLm1ha2VTdHlsZVRhZyA9IGZ1bmN0aW9uIG1ha2VTdHlsZVRhZyhuYW1lLCBjc3NTdHJpbmcsIHJlbGF0aXZlVG9UYWcpIHtcbiAgICAgICAgaWYgKGNzc1N0cmluZykge1xuICAgICAgICAgICAgaW52YXJpYW50JDEoaXNTdHJpbmcoY3NzU3RyaW5nKSwgXCJtYWtlU3R5bGVUYWcgYWNjZXB0cyBvbmx5IHN0cmluZ3MgYXMgc2Vjb25kIHBhcmFtZXRlclwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICAgICAgICBpZiAodGhpcy5fbm9uY2UpIHRhZy5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCB0aGlzLl9ub25jZSk7XG4gICAgICAgIHRhZy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuICAgICAgICB0YWcuc2V0QXR0cmlidXRlKFwiZGF0YS1cIiArIG5hbWUsIFwiXCIpO1xuICAgICAgICBpZiAoY3NzU3RyaW5nKSB7XG4gICAgICAgICAgICB0YWcuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzU3RyaW5nKSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGhlYWQgPSBkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtcbiAgICAgICAgaWYgKHJlbGF0aXZlVG9UYWcpIHtcbiAgICAgICAgICAgIGhlYWQuaW5zZXJ0QmVmb3JlKHRhZywgcmVsYXRpdmVUb1RhZyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoZWFkLmFwcGVuZENoaWxkKHRhZyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRhZztcbiAgICB9O1xuICAgIF9jcmVhdGVDbGFzcyhTdHlsZVNoZWV0LCBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIGtleTogXCJsZW5ndGhcIixcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9ydWxlc0NvdW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgXSk7XG4gICAgcmV0dXJuIFN0eWxlU2hlZXQ7XG59KCk7XG5mdW5jdGlvbiBpbnZhcmlhbnQkMShjb25kaXRpb24sIG1lc3NhZ2UpIHtcbiAgICBpZiAoIWNvbmRpdGlvbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTdHlsZVNoZWV0OiBcIiArIG1lc3NhZ2UgKyBcIi5cIik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBoYXNoKHN0cikge1xuICAgIHZhciBfJGhhc2ggPSA1MzgxLCBpID0gc3RyLmxlbmd0aDtcbiAgICB3aGlsZShpKXtcbiAgICAgICAgXyRoYXNoID0gXyRoYXNoICogMzMgXiBzdHIuY2hhckNvZGVBdCgtLWkpO1xuICAgIH1cbiAgICAvKiBKYXZhU2NyaXB0IGRvZXMgYml0d2lzZSBvcGVyYXRpb25zIChsaWtlIFhPUiwgYWJvdmUpIG9uIDMyLWJpdCBzaWduZWRcbiAgICogaW50ZWdlcnMuIFNpbmNlIHdlIHdhbnQgdGhlIHJlc3VsdHMgdG8gYmUgYWx3YXlzIHBvc2l0aXZlLCBjb252ZXJ0IHRoZVxuICAgKiBzaWduZWQgaW50IHRvIGFuIHVuc2lnbmVkIGJ5IGRvaW5nIGFuIHVuc2lnbmVkIGJpdHNoaWZ0LiAqLyByZXR1cm4gXyRoYXNoID4+PiAwO1xufVxudmFyIHN0cmluZ0hhc2ggPSBoYXNoO1xuXG52YXIgc2FuaXRpemUgPSBmdW5jdGlvbihydWxlKSB7XG4gICAgcmV0dXJuIHJ1bGUucmVwbGFjZSgvXFwvc3R5bGUvZ2ksIFwiXFxcXC9zdHlsZVwiKTtcbn07XG52YXIgY2FjaGUgPSB7fTtcbi8qKlxuICogY29tcHV0ZUlkXG4gKlxuICogQ29tcHV0ZSBhbmQgbWVtb2l6ZSBhIGpzeCBpZCBmcm9tIGEgYmFzZWRJZCBhbmQgb3B0aW9uYWxseSBwcm9wcy5cbiAqLyBmdW5jdGlvbiBjb21wdXRlSWQoYmFzZUlkLCBwcm9wcykge1xuICAgIGlmICghcHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIFwianN4LVwiICsgYmFzZUlkO1xuICAgIH1cbiAgICB2YXIgcHJvcHNUb1N0cmluZyA9IFN0cmluZyhwcm9wcyk7XG4gICAgdmFyIGtleSA9IGJhc2VJZCArIHByb3BzVG9TdHJpbmc7XG4gICAgaWYgKCFjYWNoZVtrZXldKSB7XG4gICAgICAgIGNhY2hlW2tleV0gPSBcImpzeC1cIiArIHN0cmluZ0hhc2goYmFzZUlkICsgXCItXCIgKyBwcm9wc1RvU3RyaW5nKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhY2hlW2tleV07XG59XG4vKipcbiAqIGNvbXB1dGVTZWxlY3RvclxuICpcbiAqIENvbXB1dGUgYW5kIG1lbW9pemUgZHluYW1pYyBzZWxlY3RvcnMuXG4gKi8gZnVuY3Rpb24gY29tcHV0ZVNlbGVjdG9yKGlkLCBjc3MpIHtcbiAgICB2YXIgc2VsZWN0b1BsYWNlaG9sZGVyUmVnZXhwID0gL19fanN4LXN0eWxlLWR5bmFtaWMtc2VsZWN0b3IvZztcbiAgICAvLyBTYW5pdGl6ZSBTU1ItZWQgQ1NTLlxuICAgIC8vIENsaWVudCBzaWRlIGNvZGUgZG9lc24ndCBuZWVkIHRvIGJlIHNhbml0aXplZCBzaW5jZSB3ZSB1c2VcbiAgICAvLyBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSAoZGV2KSBhbmQgdGhlIENTU09NIGFwaSBzaGVldC5pbnNlcnRSdWxlIChwcm9kKS5cbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBjc3MgPSBzYW5pdGl6ZShjc3MpO1xuICAgIH1cbiAgICB2YXIgaWRjc3MgPSBpZCArIGNzcztcbiAgICBpZiAoIWNhY2hlW2lkY3NzXSkge1xuICAgICAgICBjYWNoZVtpZGNzc10gPSBjc3MucmVwbGFjZShzZWxlY3RvUGxhY2Vob2xkZXJSZWdleHAsIGlkKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhY2hlW2lkY3NzXTtcbn1cblxuZnVuY3Rpb24gbWFwUnVsZXNUb1N0eWxlKGNzc1J1bGVzLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgb3B0aW9ucyA9IHt9O1xuICAgIHJldHVybiBjc3NSdWxlcy5tYXAoZnVuY3Rpb24oYXJncykge1xuICAgICAgICB2YXIgaWQgPSBhcmdzWzBdO1xuICAgICAgICB2YXIgY3NzID0gYXJnc1sxXTtcbiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi8gUmVhY3RfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiLCB7XG4gICAgICAgICAgICBpZDogXCJfX1wiICsgaWQsXG4gICAgICAgICAgICAvLyBBdm9pZCB3YXJuaW5ncyB1cG9uIHJlbmRlciB3aXRoIGEga2V5XG4gICAgICAgICAgICBrZXk6IFwiX19cIiArIGlkLFxuICAgICAgICAgICAgbm9uY2U6IG9wdGlvbnMubm9uY2UgPyBvcHRpb25zLm5vbmNlIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHtcbiAgICAgICAgICAgICAgICBfX2h0bWw6IGNzc1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbnZhciBTdHlsZVNoZWV0UmVnaXN0cnkgPSAvKiNfX1BVUkVfXyovIGZ1bmN0aW9uKCkge1xuICAgIGZ1bmN0aW9uIFN0eWxlU2hlZXRSZWdpc3RyeShwYXJhbSkge1xuICAgICAgICB2YXIgcmVmID0gcGFyYW0gPT09IHZvaWQgMCA/IHt9IDogcGFyYW0sIF9zdHlsZVNoZWV0ID0gcmVmLnN0eWxlU2hlZXQsIHN0eWxlU2hlZXQgPSBfc3R5bGVTaGVldCA9PT0gdm9pZCAwID8gbnVsbCA6IF9zdHlsZVNoZWV0LCBfb3B0aW1pemVGb3JTcGVlZCA9IHJlZi5vcHRpbWl6ZUZvclNwZWVkLCBvcHRpbWl6ZUZvclNwZWVkID0gX29wdGltaXplRm9yU3BlZWQgPT09IHZvaWQgMCA/IGZhbHNlIDogX29wdGltaXplRm9yU3BlZWQ7XG4gICAgICAgIHRoaXMuX3NoZWV0ID0gc3R5bGVTaGVldCB8fCBuZXcgU3R5bGVTaGVldCh7XG4gICAgICAgICAgICBuYW1lOiBcInN0eWxlZC1qc3hcIixcbiAgICAgICAgICAgIG9wdGltaXplRm9yU3BlZWQ6IG9wdGltaXplRm9yU3BlZWRcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3NoZWV0LmluamVjdCgpO1xuICAgICAgICBpZiAoc3R5bGVTaGVldCAmJiB0eXBlb2Ygb3B0aW1pemVGb3JTcGVlZCA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgIHRoaXMuX3NoZWV0LnNldE9wdGltaXplRm9yU3BlZWQob3B0aW1pemVGb3JTcGVlZCk7XG4gICAgICAgICAgICB0aGlzLl9vcHRpbWl6ZUZvclNwZWVkID0gdGhpcy5fc2hlZXQuaXNPcHRpbWl6ZUZvclNwZWVkKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZnJvbVNlcnZlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5faW5kaWNlcyA9IHt9O1xuICAgICAgICB0aGlzLl9pbnN0YW5jZXNDb3VudHMgPSB7fTtcbiAgICB9XG4gICAgdmFyIF9wcm90byA9IFN0eWxlU2hlZXRSZWdpc3RyeS5wcm90b3R5cGU7XG4gICAgX3Byb3RvLmFkZCA9IGZ1bmN0aW9uIGFkZChwcm9wcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodW5kZWZpbmVkID09PSB0aGlzLl9vcHRpbWl6ZUZvclNwZWVkKSB7XG4gICAgICAgICAgICB0aGlzLl9vcHRpbWl6ZUZvclNwZWVkID0gQXJyYXkuaXNBcnJheShwcm9wcy5jaGlsZHJlbik7XG4gICAgICAgICAgICB0aGlzLl9zaGVldC5zZXRPcHRpbWl6ZUZvclNwZWVkKHRoaXMuX29wdGltaXplRm9yU3BlZWQpO1xuICAgICAgICAgICAgdGhpcy5fb3B0aW1pemVGb3JTcGVlZCA9IHRoaXMuX3NoZWV0LmlzT3B0aW1pemVGb3JTcGVlZCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmICF0aGlzLl9mcm9tU2VydmVyKSB7XG4gICAgICAgICAgICB0aGlzLl9mcm9tU2VydmVyID0gdGhpcy5zZWxlY3RGcm9tU2VydmVyKCk7XG4gICAgICAgICAgICB0aGlzLl9pbnN0YW5jZXNDb3VudHMgPSBPYmplY3Qua2V5cyh0aGlzLl9mcm9tU2VydmVyKS5yZWR1Y2UoZnVuY3Rpb24oYWNjLCB0YWdOYW1lKSB7XG4gICAgICAgICAgICAgICAgYWNjW3RhZ05hbWVdID0gMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgfSwge30pO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZWYgPSB0aGlzLmdldElkQW5kUnVsZXMocHJvcHMpLCBzdHlsZUlkID0gcmVmLnN0eWxlSWQsIHJ1bGVzID0gcmVmLnJ1bGVzO1xuICAgICAgICAvLyBEZWR1cGluZzoganVzdCBpbmNyZWFzZSB0aGUgaW5zdGFuY2VzIGNvdW50LlxuICAgICAgICBpZiAoc3R5bGVJZCBpbiB0aGlzLl9pbnN0YW5jZXNDb3VudHMpIHtcbiAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlc0NvdW50c1tzdHlsZUlkXSArPSAxO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbmRpY2VzID0gcnVsZXMubWFwKGZ1bmN0aW9uKHJ1bGUpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5fc2hlZXQuaW5zZXJ0UnVsZShydWxlKTtcbiAgICAgICAgfSkvLyBGaWx0ZXIgb3V0IGludmFsaWQgcnVsZXNcbiAgICAgICAgLmZpbHRlcihmdW5jdGlvbihpbmRleCkge1xuICAgICAgICAgICAgcmV0dXJuIGluZGV4ICE9PSAtMTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2luZGljZXNbc3R5bGVJZF0gPSBpbmRpY2VzO1xuICAgICAgICB0aGlzLl9pbnN0YW5jZXNDb3VudHNbc3R5bGVJZF0gPSAxO1xuICAgIH07XG4gICAgX3Byb3RvLnJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZShwcm9wcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgc3R5bGVJZCA9IHRoaXMuZ2V0SWRBbmRSdWxlcyhwcm9wcykuc3R5bGVJZDtcbiAgICAgICAgaW52YXJpYW50KHN0eWxlSWQgaW4gdGhpcy5faW5zdGFuY2VzQ291bnRzLCBcInN0eWxlSWQ6IGBcIiArIHN0eWxlSWQgKyBcImAgbm90IGZvdW5kXCIpO1xuICAgICAgICB0aGlzLl9pbnN0YW5jZXNDb3VudHNbc3R5bGVJZF0gLT0gMTtcbiAgICAgICAgaWYgKHRoaXMuX2luc3RhbmNlc0NvdW50c1tzdHlsZUlkXSA8IDEpIHtcbiAgICAgICAgICAgIHZhciB0YWdGcm9tU2VydmVyID0gdGhpcy5fZnJvbVNlcnZlciAmJiB0aGlzLl9mcm9tU2VydmVyW3N0eWxlSWRdO1xuICAgICAgICAgICAgaWYgKHRhZ0Zyb21TZXJ2ZXIpIHtcbiAgICAgICAgICAgICAgICB0YWdGcm9tU2VydmVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGFnRnJvbVNlcnZlcik7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2Zyb21TZXJ2ZXJbc3R5bGVJZF07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2luZGljZXNbc3R5bGVJZF0uZm9yRWFjaChmdW5jdGlvbihpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX3NoZWV0LmRlbGV0ZVJ1bGUoaW5kZXgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9pbmRpY2VzW3N0eWxlSWRdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2luc3RhbmNlc0NvdW50c1tzdHlsZUlkXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgX3Byb3RvLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZShwcm9wcywgbmV4dFByb3BzKSB7XG4gICAgICAgIHRoaXMuYWRkKG5leHRQcm9wcyk7XG4gICAgICAgIHRoaXMucmVtb3ZlKHByb3BzKTtcbiAgICB9O1xuICAgIF9wcm90by5mbHVzaCA9IGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgICAgICB0aGlzLl9zaGVldC5mbHVzaCgpO1xuICAgICAgICB0aGlzLl9zaGVldC5pbmplY3QoKTtcbiAgICAgICAgdGhpcy5fZnJvbVNlcnZlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5faW5kaWNlcyA9IHt9O1xuICAgICAgICB0aGlzLl9pbnN0YW5jZXNDb3VudHMgPSB7fTtcbiAgICB9O1xuICAgIF9wcm90by5jc3NSdWxlcyA9IGZ1bmN0aW9uIGNzc1J1bGVzKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgZnJvbVNlcnZlciA9IHRoaXMuX2Zyb21TZXJ2ZXIgPyBPYmplY3Qua2V5cyh0aGlzLl9mcm9tU2VydmVyKS5tYXAoZnVuY3Rpb24oc3R5bGVJZCkge1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICBzdHlsZUlkLFxuICAgICAgICAgICAgICAgIF90aGlzLl9mcm9tU2VydmVyW3N0eWxlSWRdXG4gICAgICAgICAgICBdO1xuICAgICAgICB9KSA6IFtdO1xuICAgICAgICB2YXIgY3NzUnVsZXMgPSB0aGlzLl9zaGVldC5jc3NSdWxlcygpO1xuICAgICAgICByZXR1cm4gZnJvbVNlcnZlci5jb25jYXQoT2JqZWN0LmtleXModGhpcy5faW5kaWNlcykubWFwKGZ1bmN0aW9uKHN0eWxlSWQpIHtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgc3R5bGVJZCxcbiAgICAgICAgICAgICAgICBfdGhpcy5faW5kaWNlc1tzdHlsZUlkXS5tYXAoZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNzc1J1bGVzW2luZGV4XS5jc3NUZXh0O1xuICAgICAgICAgICAgICAgIH0pLmpvaW4oX3RoaXMuX29wdGltaXplRm9yU3BlZWQgPyBcIlwiIDogXCJcXG5cIilcbiAgICAgICAgICAgIF07XG4gICAgICAgIH0pLy8gZmlsdGVyIG91dCBlbXB0eSBydWxlc1xuICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKHJ1bGUpIHtcbiAgICAgICAgICAgIHJldHVybiBCb29sZWFuKHJ1bGVbMV0pO1xuICAgICAgICB9KSk7XG4gICAgfTtcbiAgICBfcHJvdG8uc3R5bGVzID0gZnVuY3Rpb24gc3R5bGVzKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIG1hcFJ1bGVzVG9TdHlsZSh0aGlzLmNzc1J1bGVzKCksIG9wdGlvbnMpO1xuICAgIH07XG4gICAgX3Byb3RvLmdldElkQW5kUnVsZXMgPSBmdW5jdGlvbiBnZXRJZEFuZFJ1bGVzKHByb3BzKSB7XG4gICAgICAgIHZhciBjc3MgPSBwcm9wcy5jaGlsZHJlbiwgZHluYW1pYyA9IHByb3BzLmR5bmFtaWMsIGlkID0gcHJvcHMuaWQ7XG4gICAgICAgIGlmIChkeW5hbWljKSB7XG4gICAgICAgICAgICB2YXIgc3R5bGVJZCA9IGNvbXB1dGVJZChpZCwgZHluYW1pYyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN0eWxlSWQ6IHN0eWxlSWQsXG4gICAgICAgICAgICAgICAgcnVsZXM6IEFycmF5LmlzQXJyYXkoY3NzKSA/IGNzcy5tYXAoZnVuY3Rpb24ocnVsZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29tcHV0ZVNlbGVjdG9yKHN0eWxlSWQsIHJ1bGUpO1xuICAgICAgICAgICAgICAgIH0pIDogW1xuICAgICAgICAgICAgICAgICAgICBjb21wdXRlU2VsZWN0b3Ioc3R5bGVJZCwgY3NzKVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0eWxlSWQ6IGNvbXB1dGVJZChpZCksXG4gICAgICAgICAgICBydWxlczogQXJyYXkuaXNBcnJheShjc3MpID8gY3NzIDogW1xuICAgICAgICAgICAgICAgIGNzc1xuICAgICAgICAgICAgXVxuICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAqIHNlbGVjdEZyb21TZXJ2ZXJcbiAgICpcbiAgICogQ29sbGVjdHMgc3R5bGUgdGFncyBmcm9tIHRoZSBkb2N1bWVudCB3aXRoIGlkIF9fanN4LVhYWFxuICAgKi8gX3Byb3RvLnNlbGVjdEZyb21TZXJ2ZXIgPSBmdW5jdGlvbiBzZWxlY3RGcm9tU2VydmVyKCkge1xuICAgICAgICB2YXIgZWxlbWVudHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbaWRePVwiX19qc3gtXCJdJykpO1xuICAgICAgICByZXR1cm4gZWxlbWVudHMucmVkdWNlKGZ1bmN0aW9uKGFjYywgZWxlbWVudCkge1xuICAgICAgICAgICAgdmFyIGlkID0gZWxlbWVudC5pZC5zbGljZSgyKTtcbiAgICAgICAgICAgIGFjY1tpZF0gPSBlbGVtZW50O1xuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwge30pO1xuICAgIH07XG4gICAgcmV0dXJuIFN0eWxlU2hlZXRSZWdpc3RyeTtcbn0oKTtcbmZ1bmN0aW9uIGludmFyaWFudChjb25kaXRpb24sIG1lc3NhZ2UpIHtcbiAgICBpZiAoIWNvbmRpdGlvbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTdHlsZVNoZWV0UmVnaXN0cnk6IFwiICsgbWVzc2FnZSArIFwiLlwiKTtcbiAgICB9XG59XG52YXIgU3R5bGVTaGVldENvbnRleHQgPSAvKiNfX1BVUkVfXyovIFJlYWN0LmNyZWF0ZUNvbnRleHQobnVsbCk7XG5TdHlsZVNoZWV0Q29udGV4dC5kaXNwbGF5TmFtZSA9IFwiU3R5bGVTaGVldENvbnRleHRcIjtcbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlUmVnaXN0cnkoKSB7XG4gICAgcmV0dXJuIG5ldyBTdHlsZVNoZWV0UmVnaXN0cnkoKTtcbn1cbmZ1bmN0aW9uIFN0eWxlUmVnaXN0cnkocGFyYW0pIHtcbiAgICB2YXIgY29uZmlndXJlZFJlZ2lzdHJ5ID0gcGFyYW0ucmVnaXN0cnksIGNoaWxkcmVuID0gcGFyYW0uY2hpbGRyZW47XG4gICAgdmFyIHJvb3RSZWdpc3RyeSA9IFJlYWN0LnVzZUNvbnRleHQoU3R5bGVTaGVldENvbnRleHQpO1xuICAgIHZhciByZWYgPSBSZWFjdC51c2VTdGF0ZShmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHJvb3RSZWdpc3RyeSB8fCBjb25maWd1cmVkUmVnaXN0cnkgfHwgY3JlYXRlU3R5bGVSZWdpc3RyeSgpO1xuICAgIH0pLCByZWdpc3RyeSA9IHJlZlswXTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qLyBSZWFjdF9fZGVmYXVsdFtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChTdHlsZVNoZWV0Q29udGV4dC5Qcm92aWRlciwge1xuICAgICAgICB2YWx1ZTogcmVnaXN0cnlcbiAgICB9LCBjaGlsZHJlbik7XG59XG5mdW5jdGlvbiB1c2VTdHlsZVJlZ2lzdHJ5KCkge1xuICAgIHJldHVybiBSZWFjdC51c2VDb250ZXh0KFN0eWxlU2hlZXRDb250ZXh0KTtcbn1cblxuLy8gT3B0LWludG8gdGhlIG5ldyBgdXNlSW5zZXJ0aW9uRWZmZWN0YCBBUEkgaW4gUmVhY3QgMTgsIGZhbGxiYWNrIHRvIGB1c2VMYXlvdXRFZmZlY3RgLlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0d2cvcmVhY3QtMTgvZGlzY3Vzc2lvbnMvMTEwXG52YXIgdXNlSW5zZXJ0aW9uRWZmZWN0ID0gUmVhY3RfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLnVzZUluc2VydGlvbkVmZmVjdCB8fCBSZWFjdF9fZGVmYXVsdFtcImRlZmF1bHRcIl0udXNlTGF5b3V0RWZmZWN0O1xudmFyIGRlZmF1bHRSZWdpc3RyeSA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyBjcmVhdGVTdHlsZVJlZ2lzdHJ5KCkgOiB1bmRlZmluZWQ7XG5mdW5jdGlvbiBKU1hTdHlsZShwcm9wcykge1xuICAgIHZhciByZWdpc3RyeSA9IGRlZmF1bHRSZWdpc3RyeSA/IGRlZmF1bHRSZWdpc3RyeSA6IHVzZVN0eWxlUmVnaXN0cnkoKTtcbiAgICAvLyBJZiBgcmVnaXN0cnlgIGRvZXMgbm90IGV4aXN0LCB3ZSBkbyBub3RoaW5nIGhlcmUuXG4gICAgaWYgKCFyZWdpc3RyeSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgcmVnaXN0cnkuYWRkKHByb3BzKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHVzZUluc2VydGlvbkVmZmVjdChmdW5jdGlvbigpIHtcbiAgICAgICAgcmVnaXN0cnkuYWRkKHByb3BzKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmVnaXN0cnkucmVtb3ZlKHByb3BzKTtcbiAgICAgICAgfTtcbiAgICAvLyBwcm9wcy5jaGlsZHJlbiBjYW4gYmUgc3RyaW5nW10sIHdpbGwgYmUgc3RyaXBlZCBzaW5jZSBpZCBpcyBpZGVudGljYWxcbiAgICB9LCBbXG4gICAgICAgIHByb3BzLmlkLFxuICAgICAgICBTdHJpbmcocHJvcHMuZHluYW1pYylcbiAgICBdKTtcbiAgICByZXR1cm4gbnVsbDtcbn1cbkpTWFN0eWxlLmR5bmFtaWMgPSBmdW5jdGlvbihpbmZvKSB7XG4gICAgcmV0dXJuIGluZm8ubWFwKGZ1bmN0aW9uKHRhZ0luZm8pIHtcbiAgICAgICAgdmFyIGJhc2VJZCA9IHRhZ0luZm9bMF07XG4gICAgICAgIHZhciBwcm9wcyA9IHRhZ0luZm9bMV07XG4gICAgICAgIHJldHVybiBjb21wdXRlSWQoYmFzZUlkLCBwcm9wcyk7XG4gICAgfSkuam9pbihcIiBcIik7XG59O1xuXG5leHBvcnRzLlN0eWxlUmVnaXN0cnkgPSBTdHlsZVJlZ2lzdHJ5O1xuZXhwb3J0cy5jcmVhdGVTdHlsZVJlZ2lzdHJ5ID0gY3JlYXRlU3R5bGVSZWdpc3RyeTtcbmV4cG9ydHMuc3R5bGUgPSBKU1hTdHlsZTtcbmV4cG9ydHMudXNlU3R5bGVSZWdpc3RyeSA9IHVzZVN0eWxlUmVnaXN0cnk7XG4iXSwibmFtZXMiOlsicmVxdWlyZSIsIlJlYWN0IiwiX2ludGVyb3BEZWZhdWx0TGVnYWN5IiwiZSIsIlJlYWN0X19kZWZhdWx0IiwiX2RlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImkiLCJsZW5ndGgiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJrZXkiLCJfY3JlYXRlQ2xhc3MiLCJDb25zdHJ1Y3RvciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsInByb3RvdHlwZSIsImlzUHJvZCIsInByb2Nlc3MiLCJlbnYiLCJpc1N0cmluZyIsIm8iLCJ0b1N0cmluZyIsImNhbGwiLCJTdHlsZVNoZWV0IiwicGFyYW0iLCJyZWYiLCJfbmFtZSIsIm5hbWUiLCJfb3B0aW1pemVGb3JTcGVlZCIsIm9wdGltaXplRm9yU3BlZWQiLCJpbnZhcmlhbnQkMSIsIl9kZWxldGVkUnVsZVBsYWNlaG9sZGVyIiwiX3NlcnZlclNoZWV0IiwidW5kZWZpbmVkIiwiX3RhZ3MiLCJfaW5qZWN0ZWQiLCJfcnVsZXNDb3VudCIsIm5vZGUiLCJ3aW5kb3ciLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJfbm9uY2UiLCJnZXRBdHRyaWJ1dGUiLCJfcHJvdG8iLCJzZXRPcHRpbWl6ZUZvclNwZWVkIiwiYm9vbCIsImZsdXNoIiwiaW5qZWN0IiwiaXNPcHRpbWl6ZUZvclNwZWVkIiwiX3RoaXMiLCJtYWtlU3R5bGVUYWciLCJnZXRTaGVldCIsImNvbnNvbGUiLCJ3YXJuIiwiY3NzUnVsZXMiLCJpbnNlcnRSdWxlIiwicnVsZSIsImluZGV4IiwiY3NzVGV4dCIsInB1c2giLCJkZWxldGVSdWxlIiwiZ2V0U2hlZXRGb3JUYWciLCJ0YWciLCJzaGVldCIsInN0eWxlU2hlZXRzIiwib3duZXJOb2RlIiwiZXJyb3IiLCJpbnNlcnRpb25Qb2ludCIsInJlcGxhY2VSdWxlIiwidHJpbSIsInRleHRDb250ZW50IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiZm9yRWFjaCIsInJlZHVjZSIsInJ1bGVzIiwiY29uY2F0IiwiQXJyYXkiLCJtYXAiLCJjc3NTdHJpbmciLCJyZWxhdGl2ZVRvVGFnIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsInR5cGUiLCJhcHBlbmRDaGlsZCIsImNyZWF0ZVRleHROb2RlIiwiaGVhZCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiaW5zZXJ0QmVmb3JlIiwiZ2V0IiwiY29uZGl0aW9uIiwibWVzc2FnZSIsIkVycm9yIiwiaGFzaCIsInN0ciIsIl8kaGFzaCIsImNoYXJDb2RlQXQiLCJzdHJpbmdIYXNoIiwic2FuaXRpemUiLCJyZXBsYWNlIiwiY2FjaGUiLCJjb21wdXRlSWQiLCJiYXNlSWQiLCJwcm9wc1RvU3RyaW5nIiwiU3RyaW5nIiwiY29tcHV0ZVNlbGVjdG9yIiwiaWQiLCJjc3MiLCJzZWxlY3RvUGxhY2Vob2xkZXJSZWdleHAiLCJpZGNzcyIsIm1hcFJ1bGVzVG9TdHlsZSIsIm9wdGlvbnMiLCJhcmdzIiwibm9uY2UiLCJkYW5nZXJvdXNseVNldElubmVySFRNTCIsIl9faHRtbCIsIlN0eWxlU2hlZXRSZWdpc3RyeSIsIl9zdHlsZVNoZWV0Iiwic3R5bGVTaGVldCIsIl9zaGVldCIsIl9mcm9tU2VydmVyIiwiX2luZGljZXMiLCJfaW5zdGFuY2VzQ291bnRzIiwiYWRkIiwiaXNBcnJheSIsImNoaWxkcmVuIiwic2VsZWN0RnJvbVNlcnZlciIsImtleXMiLCJhY2MiLCJ0YWdOYW1lIiwiZ2V0SWRBbmRSdWxlcyIsInN0eWxlSWQiLCJpbmRpY2VzIiwiZmlsdGVyIiwicmVtb3ZlIiwiaW52YXJpYW50IiwidGFnRnJvbVNlcnZlciIsInVwZGF0ZSIsIm5leHRQcm9wcyIsImZyb21TZXJ2ZXIiLCJqb2luIiwiQm9vbGVhbiIsInN0eWxlcyIsImR5bmFtaWMiLCJlbGVtZW50cyIsInNsaWNlIiwicXVlcnlTZWxlY3RvckFsbCIsImVsZW1lbnQiLCJTdHlsZVNoZWV0Q29udGV4dCIsImNyZWF0ZUNvbnRleHQiLCJkaXNwbGF5TmFtZSIsImNyZWF0ZVN0eWxlUmVnaXN0cnkiLCJTdHlsZVJlZ2lzdHJ5IiwiY29uZmlndXJlZFJlZ2lzdHJ5IiwicmVnaXN0cnkiLCJyb290UmVnaXN0cnkiLCJ1c2VDb250ZXh0IiwidXNlU3RhdGUiLCJQcm92aWRlciIsInZhbHVlIiwidXNlU3R5bGVSZWdpc3RyeSIsInVzZUluc2VydGlvbkVmZmVjdCIsInVzZUxheW91dEVmZmVjdCIsImRlZmF1bHRSZWdpc3RyeSIsIkpTWFN0eWxlIiwiaW5mbyIsInRhZ0luZm8iLCJleHBvcnRzIiwic3R5bGUiXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/styled-jsx/dist/index/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/styled-jsx/style.js":
/*!******************************************!*\
  !*** ./node_modules/styled-jsx/style.js ***!
  \******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\nmodule.exports = __webpack_require__(/*! ./dist/index */ \"(app-pages-browser)/./node_modules/styled-jsx/dist/index/index.js\").style;\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9zdHlsZWQtanN4L3N0eWxlLmpzIiwibWFwcGluZ3MiOiI7QUFBQUEsbUlBQThDIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXG5pY2hvbGFzLmxlZVxcRG9jdW1lbnRzXFx6XFxUaWNrZXRpbmdfTmlja1xcVGlja2V0aW5nXFx0YXZfb3BlbnNvdXJjZVxcdWlcXG5vZGVfbW9kdWxlc1xcc3R5bGVkLWpzeFxcc3R5bGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Rpc3QvaW5kZXgnKS5zdHlsZVxuIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJyZXF1aXJlIiwic3R5bGUiXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/styled-jsx/style.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/app/editor-page/ConfigPanel.tsx":
/*!*********************************************!*\
  !*** ./src/app/editor-page/ConfigPanel.tsx ***!
  \*********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConfigPanel: () => (/* binding */ ConfigPanel)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _VariableOrTextInput__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./VariableOrTextInput */ \"(app-pages-browser)/./src/app/editor-page/VariableOrTextInput.tsx\");\n/* harmony import */ var _utils_variableUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/variableUtils */ \"(app-pages-browser)/./src/app/editor-page/utils/variableUtils.ts\");\n/* harmony import */ var _components_FilePicker__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/FilePicker */ \"(app-pages-browser)/./src/components/FilePicker.tsx\");\n/* harmony import */ var _components_FolderPicker__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/FolderPicker */ \"(app-pages-browser)/./src/components/FolderPicker.tsx\");\n/* harmony import */ var _components_PasswordInput__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/PasswordInput */ \"(app-pages-browser)/./src/components/PasswordInput.tsx\");\n/* harmony import */ var _components_HuggingFaceModelBrowser__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/HuggingFaceModelBrowser */ \"(app-pages-browser)/./src/components/HuggingFaceModelBrowser.tsx\");\n/* harmony import */ var _components_MediaViewerConfig__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/components/MediaViewerConfig */ \"(app-pages-browser)/./src/components/MediaViewerConfig.tsx\");\n/* harmony import */ var _components_MediaOutputViewer__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/components/MediaOutputViewer */ \"(app-pages-browser)/./src/components/MediaOutputViewer.tsx\");\n/* harmony import */ var _components_MediaFullScreenModal__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/components/MediaFullScreenModal */ \"(app-pages-browser)/./src/components/MediaFullScreenModal.tsx\");\n/* harmony import */ var _lib_api_config__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/lib/api-config */ \"(app-pages-browser)/./src/lib/api-config.ts\");\n/**\r\n * Configuration Panel Component\r\n * \r\n * Displays and allows editing of node configuration when a node is selected.\r\n */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$(), _s3 = $RefreshSig$(), _s4 = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\nfunction KeyValueEditor({ value, onChange, placeholder }) {\n    _s();\n    const [pairs, setPairs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    // Initialize pairs from value - update when value prop changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"KeyValueEditor.useEffect\": ()=>{\n            if (value && Object.keys(value).length > 0) {\n                const newPairs = Object.entries(value).map({\n                    \"KeyValueEditor.useEffect.newPairs\": ([k, v], idx)=>({\n                            key: k,\n                            value: v,\n                            id: `${idx}-${k}-${Date.now()}`\n                        })\n                }[\"KeyValueEditor.useEffect.newPairs\"]);\n                setPairs(newPairs);\n            } else if (pairs.length === 0) {\n                // Start with one empty pair only if no pairs exist\n                setPairs([\n                    {\n                        key: '',\n                        value: '',\n                        id: `empty-${Date.now()}`\n                    }\n                ]);\n            }\n        }\n    }[\"KeyValueEditor.useEffect\"], [\n        value\n    ]); // Re-run when value changes\n    const updatePairs = (newPairs)=>{\n        setPairs(newPairs);\n        // Convert to object, filter out empty keys\n        const obj = {};\n        newPairs.forEach((pair)=>{\n            if (pair.key.trim()) {\n                obj[pair.key] = pair.value;\n            }\n        });\n        // Always call onChange to persist data\n        onChange(obj);\n    };\n    const addPair = ()=>{\n        updatePairs([\n            ...pairs,\n            {\n                key: '',\n                value: '',\n                id: `${Date.now()}`\n            }\n        ]);\n    };\n    const removePair = (id)=>{\n        updatePairs(pairs.filter((p)=>p.id !== id));\n    };\n    const updatePair = (id, field, newValue)=>{\n        updatePairs(pairs.map((p)=>p.id === id ? {\n                ...p,\n                [field]: newValue\n            } : p));\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"space-y-2\",\n        children: [\n            pairs.map((pair, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex gap-2\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                            type: \"text\",\n                            value: pair.key,\n                            onChange: (e)=>updatePair(pair.id, 'key', e.target.value),\n                            placeholder: idx === 0 && placeholder ? \"Key\" : \"Key\",\n                            className: \"flex-1 px-3 py-2 border rounded text-sm focus:outline-none\",\n                            style: {\n                                background: 'var(--theme-surface-variant)',\n                                color: 'var(--theme-text)',\n                                borderColor: 'var(--theme-border)'\n                            },\n                            onFocus: (e)=>e.currentTarget.style.borderColor = 'var(--theme-primary)',\n                            onBlur: (e)=>e.currentTarget.style.borderColor = 'var(--theme-border)'\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                            lineNumber: 79,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                            type: \"text\",\n                            value: pair.value,\n                            onChange: (e)=>updatePair(pair.id, 'value', e.target.value),\n                            placeholder: \"Value\",\n                            className: \"flex-1 px-3 py-2 border rounded text-sm focus:outline-none\",\n                            style: {\n                                background: 'var(--theme-surface-variant)',\n                                color: 'var(--theme-text)',\n                                borderColor: 'var(--theme-border)'\n                            },\n                            onFocus: (e)=>e.currentTarget.style.borderColor = 'var(--theme-primary)',\n                            onBlur: (e)=>e.currentTarget.style.borderColor = 'var(--theme-border)'\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                            lineNumber: 93,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: ()=>removePair(pair.id),\n                            className: \"px-2 py-2 rounded text-sm hover:opacity-70 transition-opacity\",\n                            style: {\n                                color: 'var(--theme-danger)'\n                            },\n                            title: \"Remove\",\n                            disabled: pairs.length === 1,\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                className: \"fas fa-times\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                lineNumber: 114,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                            lineNumber: 107,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, pair.id, true, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                    lineNumber: 78,\n                    columnNumber: 9\n                }, this)),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: addPair,\n                className: \"w-full px-3 py-2 border-2 border-dashed rounded text-sm hover:opacity-70 transition-opacity\",\n                style: {\n                    borderColor: 'var(--theme-border)',\n                    color: 'var(--theme-text-secondary)'\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                        className: \"fas fa-plus mr-2\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                        lineNumber: 126,\n                        columnNumber: 9\n                    }, this),\n                    \"Add \",\n                    placeholder || 'Pair'\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                lineNumber: 118,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n        lineNumber: 76,\n        columnNumber: 5\n    }, this);\n}\n_s(KeyValueEditor, \"6qwfqecyNFBCOan1ntEiVynLktM=\");\n_c = KeyValueEditor;\nfunction LocalCredentialPicker({ value, onChange, filter }) {\n    _s1();\n    const [credentials, setCredentials] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"LocalCredentialPicker.useEffect\": ()=>{\n            // Fetch credentials from backend\n            fetch(`${(0,_lib_api_config__WEBPACK_IMPORTED_MODULE_11__.getApiBaseUrl)()}/api/v1/credentials`, {\n                credentials: 'include'\n            }).then({\n                \"LocalCredentialPicker.useEffect\": (res)=>res.json()\n            }[\"LocalCredentialPicker.useEffect\"]).then({\n                \"LocalCredentialPicker.useEffect\": (data)=>{\n                    let creds = data.credentials || [];\n                    // Filter by service_type or auth_type if specified\n                    if (filter) {\n                        if (filter.service_type) {\n                            creds = creds.filter({\n                                \"LocalCredentialPicker.useEffect\": (c)=>c.service_type === filter.service_type\n                            }[\"LocalCredentialPicker.useEffect\"]);\n                        }\n                        if (filter.auth_type) {\n                            creds = creds.filter({\n                                \"LocalCredentialPicker.useEffect\": (c)=>c.auth_type === filter.auth_type\n                            }[\"LocalCredentialPicker.useEffect\"]);\n                        }\n                    }\n                    setCredentials(creds);\n                    setLoading(false);\n                }\n            }[\"LocalCredentialPicker.useEffect\"]).catch({\n                \"LocalCredentialPicker.useEffect\": (err)=>{\n                    console.error('Failed to fetch credentials:', err);\n                    setLoading(false);\n                }\n            }[\"LocalCredentialPicker.useEffect\"]);\n        }\n    }[\"LocalCredentialPicker.useEffect\"], [\n        filter\n    ]);\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"text-sm\",\n            style: {\n                color: 'var(--theme-text-secondary)'\n            },\n            children: \"Loading credentials...\"\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n            lineNumber: 183,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"space-y-2\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                value: value || '',\n                onChange: (e)=>onChange(parseInt(e.target.value)),\n                className: \"w-full px-3 py-2 border rounded text-sm focus:outline-none\",\n                style: {\n                    background: 'var(--theme-surface-variant)',\n                    color: 'var(--theme-text)',\n                    borderColor: 'var(--theme-border)'\n                },\n                onFocus: (e)=>e.currentTarget.style.borderColor = 'var(--theme-primary)',\n                onBlur: (e)=>e.currentTarget.style.borderColor = 'var(--theme-border)',\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                        value: \"\",\n                        children: \"Select credential...\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                        lineNumber: 203,\n                        columnNumber: 9\n                    }, this),\n                    credentials.map((cred)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                            value: cred.id,\n                            children: [\n                                cred.name,\n                                \" (\",\n                                cred.service_type,\n                                \")\"\n                            ]\n                        }, cred.id, true, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                            lineNumber: 205,\n                            columnNumber: 11\n                        }, this))\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                lineNumber: 191,\n                columnNumber: 7\n            }, this),\n            credentials.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"text-xs\",\n                style: {\n                    color: 'var(--theme-text-muted)'\n                },\n                children: \"No credentials found. Create one in Settings  Credentials.\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                lineNumber: 212,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: ()=>window.open('/credentials', '_blank'),\n                className: \"text-xs hover:underline\",\n                style: {\n                    color: 'var(--theme-primary)'\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                        className: \"fas fa-plus mr-1\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                        lineNumber: 222,\n                        columnNumber: 9\n                    }, this),\n                    \"Create new credential\"\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                lineNumber: 217,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n        lineNumber: 190,\n        columnNumber: 5\n    }, this);\n}\n_s1(LocalCredentialPicker, \"olhMSBbG8tScq6ZBPJqLM/he8rY=\");\n_c1 = LocalCredentialPicker;\nfunction ProviderSelect({ value, onChange, placeholder }) {\n    _s2();\n    const [providers, setProviders] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ProviderSelect.useEffect\": ()=>{\n            // Fetch enabled providers from backend\n            fetch(`${(0,_lib_api_config__WEBPACK_IMPORTED_MODULE_11__.getApiBaseUrl)()}/api/v1/ai/providers`).then({\n                \"ProviderSelect.useEffect\": (res)=>res.json()\n            }[\"ProviderSelect.useEffect\"]).then({\n                \"ProviderSelect.useEffect\": (data)=>{\n                    // Filter to only enabled providers and convert to array\n                    const enabledProviders = data.providers ? Object.values(data.providers).filter({\n                        \"ProviderSelect.useEffect\": (p)=>p.enabled\n                    }[\"ProviderSelect.useEffect\"]) : [];\n                    setProviders(enabledProviders);\n                    setLoading(false);\n                }\n            }[\"ProviderSelect.useEffect\"]).catch({\n                \"ProviderSelect.useEffect\": (err)=>{\n                    console.error('Failed to fetch providers:', err);\n                    setLoading(false);\n                }\n            }[\"ProviderSelect.useEffect\"]);\n        }\n    }[\"ProviderSelect.useEffect\"], []);\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"text-sm\",\n            style: {\n                color: 'var(--theme-text-secondary)'\n            },\n            children: \"Loading providers...\"\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n            lineNumber: 271,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n        value: value,\n        onChange: (e)=>onChange(e.target.value),\n        className: \"w-full px-3 py-2 border rounded text-sm focus:outline-none\",\n        style: {\n            background: 'var(--theme-surface-variant)',\n            color: 'var(--theme-text)',\n            borderColor: 'var(--theme-border)'\n        },\n        onFocus: (e)=>e.currentTarget.style.borderColor = 'var(--theme-primary)',\n        onBlur: (e)=>e.currentTarget.style.borderColor = 'var(--theme-border)',\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                value: \"\",\n                children: placeholder || 'Default from settings'\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                lineNumber: 290,\n                columnNumber: 7\n            }, this),\n            providers.map((p)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                    value: p.provider_type,\n                    children: p.display_name\n                }, p.provider_type, false, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                    lineNumber: 292,\n                    columnNumber: 9\n                }, this))\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n        lineNumber: 278,\n        columnNumber: 5\n    }, this);\n}\n_s2(ProviderSelect, \"C41hSrmjsOHU4M+6biNNYfGBzxQ=\");\n_c2 = ProviderSelect;\nfunction ModelSelect({ provider, value, onChange, placeholder }) {\n    _s3();\n    const [models, setModels] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ModelSelect.useEffect\": ()=>{\n            if (!provider) {\n                setModels([]);\n                return;\n            }\n            setLoading(true);\n            // Fetch available models for selected provider\n            fetch(`${(0,_lib_api_config__WEBPACK_IMPORTED_MODULE_11__.getApiBaseUrl)()}/api/v1/ai/providers/${provider}/models`).then({\n                \"ModelSelect.useEffect\": (res)=>res.json()\n            }[\"ModelSelect.useEffect\"]).then({\n                \"ModelSelect.useEffect\": (data)=>{\n                    // Extract model IDs from the response\n                    const modelList = data.models?.map({\n                        \"ModelSelect.useEffect\": (m)=>m.id || m\n                    }[\"ModelSelect.useEffect\"]) || [];\n                    setModels(modelList);\n                    setLoading(false);\n                }\n            }[\"ModelSelect.useEffect\"]).catch({\n                \"ModelSelect.useEffect\": (err)=>{\n                    console.error(`Failed to fetch models for ${provider}:`, err);\n                    setModels([]);\n                    setLoading(false);\n                }\n            }[\"ModelSelect.useEffect\"]);\n        }\n    }[\"ModelSelect.useEffect\"], [\n        provider\n    ]);\n    if (!provider) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"text-sm\",\n            style: {\n                color: 'var(--theme-text-secondary)'\n            },\n            children: \"Select a provider first\"\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n            lineNumber: 336,\n            columnNumber: 7\n        }, this);\n    }\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"text-sm\",\n            style: {\n                color: 'var(--theme-text-secondary)'\n            },\n            children: \"Loading models...\"\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n            lineNumber: 344,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n        value: value,\n        onChange: (e)=>onChange(e.target.value),\n        className: \"w-full px-3 py-2 border rounded text-sm focus:outline-none\",\n        style: {\n            background: 'var(--theme-surface-variant)',\n            color: 'var(--theme-text)',\n            borderColor: 'var(--theme-border)'\n        },\n        onFocus: (e)=>e.currentTarget.style.borderColor = 'var(--theme-primary)',\n        onBlur: (e)=>e.currentTarget.style.borderColor = 'var(--theme-border)',\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                value: \"\",\n                children: placeholder || 'Default from provider settings'\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                lineNumber: 363,\n                columnNumber: 7\n            }, this),\n            models.map((m)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                    value: m,\n                    children: m\n                }, m, false, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                    lineNumber: 365,\n                    columnNumber: 9\n                }, this))\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n        lineNumber: 351,\n        columnNumber: 5\n    }, this);\n}\n_s3(ModelSelect, \"wKJUEX7gaCdFJYgtlD0xKwweKBw=\");\n_c3 = ModelSelect;\nfunction ConfigPanel({ selectedNode, nodeDefinition, onConfigUpdate, onNodeUpdate, onClose, workflowNodes = [], workflowConnections = [], nodeDefinitions = [], nodeExecutionData = {} }) {\n    _s4();\n    const [configValues, setConfigValues] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [shareOutputs, setShareOutputs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [variableName, setVariableName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [hasChanges, setHasChanges] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [activeTab, setActiveTab] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('config');\n    const [outputViewMode, setOutputViewMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('formatted'); // View mode for output tab\n    const [isSaving, setIsSaving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false); // Track auto-save status\n    const autoSaveTimerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const lastSavedNodeIdRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null); // Track which node we're editing\n    // Dynamic HuggingFace task-specific config\n    const [dynamicTaskConfig, setDynamicTaskConfig] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loadingTaskConfig, setLoadingTaskConfig] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Modal state for full-screen media viewer\n    const [isModalOpen, setIsModalOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [modalMedia, setModalMedia] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [modalMode, setModalMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('view');\n    const [modalIndex, setModalIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    // Handlers for opening modal\n    const handleMediaClick = (media, mode, index = 0)=>{\n        setModalMedia(media);\n        setModalMode(mode);\n        setModalIndex(index);\n        setIsModalOpen(true);\n    };\n    const handleModalSave = (annotations)=>{\n        // TODO: Save annotations to node config\n        // For now, just close modal\n        setIsModalOpen(false);\n    };\n    // Get available variables for this node\n    const availableVariables = selectedNode ? (0,_utils_variableUtils__WEBPACK_IMPORTED_MODULE_3__.getAvailableVariables)(workflowNodes, workflowConnections, selectedNode.node_id, nodeDefinitions) : [];\n    // Load dynamic task-specific config for HuggingFace nodes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ConfigPanel.useEffect\": ()=>{\n            const loadDynamicTaskConfig = {\n                \"ConfigPanel.useEffect.loadDynamicTaskConfig\": async ()=>{\n                    // Only for HuggingFace nodes (node_type: huggingface_inference)\n                    if (selectedNode?.node_type !== 'huggingface_inference') {\n                        setDynamicTaskConfig(null);\n                        return;\n                    }\n                    const marketplace = configValues.huggingface_marketplace;\n                    const task = marketplace?.task;\n                    if (!task) {\n                        setDynamicTaskConfig(null);\n                        return;\n                    }\n                    setLoadingTaskConfig(true);\n                    try {\n                        const { getTaskConfigSchema } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @/lib/huggingface-api */ \"(app-pages-browser)/./src/lib/huggingface-api.ts\"));\n                        const taskConfig = await getTaskConfigSchema(task);\n                        setDynamicTaskConfig(taskConfig.parameters);\n                    } catch (err) {\n                        setDynamicTaskConfig(null);\n                    } finally{\n                        setLoadingTaskConfig(false);\n                    }\n                }\n            }[\"ConfigPanel.useEffect.loadDynamicTaskConfig\"];\n            loadDynamicTaskConfig();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        }\n    }[\"ConfigPanel.useEffect\"], [\n        selectedNode?.node_type,\n        JSON.stringify(configValues.huggingface_marketplace)\n    ]);\n    // Debug logging\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ConfigPanel.useEffect\": ()=>{\n            if (selectedNode) {\n            // Disabled debug logs\n            }\n        }\n    }[\"ConfigPanel.useEffect\"], [\n        selectedNode,\n        availableVariables\n    ]);\n    // Initialize config values when node is selected (but not when config updates from parent)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ConfigPanel.useEffect\": ()=>{\n            if (selectedNode && nodeDefinition) {\n                const currentNodeId = selectedNode.node_id;\n                // Only reinitialize if switching to a different node\n                if (lastSavedNodeIdRef.current !== currentNodeId) {\n                    lastSavedNodeIdRef.current = currentNodeId;\n                    // Merge default values with current config\n                    const initialConfig = {};\n                    const schema = nodeDefinition.config_schema || {};\n                    Object.keys(schema).forEach({\n                        \"ConfigPanel.useEffect\": (key)=>{\n                            const field = schema[key];\n                            initialConfig[key] = selectedNode.config[key] ?? field.default ?? getDefaultValueForType(field.type);\n                        }\n                    }[\"ConfigPanel.useEffect\"]);\n                    setConfigValues(initialConfig);\n                    setShareOutputs(selectedNode.share_output_to_variables ?? false);\n                    setVariableName(selectedNode.variable_name ?? '');\n                    setHasChanges(false);\n                }\n            } else {\n                // Reset when no node is selected\n                lastSavedNodeIdRef.current = null;\n            }\n        }\n    }[\"ConfigPanel.useEffect\"], [\n        selectedNode,\n        nodeDefinition\n    ]);\n    const getDefaultValueForType = (type)=>{\n        switch(type){\n            case 'boolean':\n                return false;\n            case 'integer':\n            case 'float':\n                return 0;\n            case 'string':\n                return '';\n            default:\n                return null;\n        }\n    };\n    // Auto-save functionality with debouncing\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ConfigPanel.useEffect\": ()=>{\n            // Only auto-save if there are changes and we have a valid node\n            if (!hasChanges || !selectedNode?.node_id) {\n                return;\n            }\n            // Clear any existing timer\n            if (autoSaveTimerRef.current) {\n                clearTimeout(autoSaveTimerRef.current);\n            }\n            // Capture current values for the closure\n            const nodeIdToSave = selectedNode.node_id;\n            const configToSave = configValues;\n            const shareOutputsToSave = shareOutputs;\n            const variableNameToSave = variableName;\n            // Set up a new timer to auto-save after 500ms of inactivity\n            autoSaveTimerRef.current = setTimeout({\n                \"ConfigPanel.useEffect\": ()=>{\n                    setIsSaving(true);\n                    // Use the captured values from closure to avoid stale references\n                    onConfigUpdate(nodeIdToSave, configToSave);\n                    onNodeUpdate(nodeIdToSave, {\n                        share_output_to_variables: shareOutputsToSave,\n                        variable_name: variableNameToSave || undefined\n                    });\n                    setHasChanges(false);\n                    // Show saving indicator briefly\n                    setTimeout({\n                        \"ConfigPanel.useEffect\": ()=>setIsSaving(false)\n                    }[\"ConfigPanel.useEffect\"], 300);\n                }\n            }[\"ConfigPanel.useEffect\"], 500);\n            // Cleanup function\n            return ({\n                \"ConfigPanel.useEffect\": ()=>{\n                    if (autoSaveTimerRef.current) {\n                        clearTimeout(autoSaveTimerRef.current);\n                    }\n                }\n            })[\"ConfigPanel.useEffect\"];\n        // Only depend on the actual data values, not the callback functions\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        }\n    }[\"ConfigPanel.useEffect\"], [\n        configValues,\n        shareOutputs,\n        variableName,\n        hasChanges\n    ]);\n    const handleValueChange = (key, value)=>{\n        setConfigValues((prev)=>({\n                ...prev,\n                [key]: value\n            }));\n        setHasChanges(true);\n    };\n    const handleReset = ()=>{\n        if (selectedNode && nodeDefinition) {\n            const schema = nodeDefinition.config_schema || {};\n            const resetConfig = {};\n            Object.keys(schema).forEach((key)=>{\n                const field = schema[key];\n                resetConfig[key] = field.default ?? getDefaultValueForType(field.type);\n            });\n            setConfigValues(resetConfig);\n            setHasChanges(true);\n        }\n    };\n    if (!selectedNode || !nodeDefinition) {\n        // Debug logging\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"w-96 h-full flex flex-col shadow-2xl\",\n            style: {\n                background: 'var(--theme-surface)'\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center justify-between px-4 py-3 border-b\",\n                    style: {\n                        borderColor: 'var(--theme-border)',\n                        background: 'var(--theme-surface-variant)'\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                    className: \"fas fa-cog\",\n                                    style: {\n                                        color: 'var(--theme-text-secondary)'\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                    lineNumber: 658,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    className: \"text-sm font-semibold\",\n                                    style: {\n                                        color: 'var(--theme-text)'\n                                    },\n                                    children: \"Configuration\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                    lineNumber: 659,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                            lineNumber: 657,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: onClose,\n                            className: \"p-1.5 rounded transition-colors\",\n                            style: {\n                                color: 'var(--theme-text-secondary)'\n                            },\n                            onMouseEnter: (e)=>{\n                                e.currentTarget.style.background = 'var(--theme-surface-hover)';\n                                e.currentTarget.style.color = 'var(--theme-text)';\n                            },\n                            onMouseLeave: (e)=>{\n                                e.currentTarget.style.background = 'transparent';\n                                e.currentTarget.style.color = 'var(--theme-text-secondary)';\n                            },\n                            title: \"Close panel\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                className: \"fas fa-times text-lg\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                lineNumber: 675,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                            lineNumber: 661,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                    lineNumber: 650,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex-1 flex items-center justify-center p-4 text-center\",\n                    style: {\n                        color: 'var(--theme-text-muted)'\n                    },\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                className: \"fas fa-mouse-pointer text-4xl mb-3\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                lineNumber: 684,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-sm\",\n                                children: \"Select a node to configure\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                lineNumber: 685,\n                                columnNumber: 13\n                            }, this),\n                            selectedNode && !nodeDefinition && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-xs mt-2\",\n                                style: {\n                                    color: 'var(--theme-danger)'\n                                },\n                                children: \"Debug: Node selected but definition not found\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                lineNumber: 687,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                        lineNumber: 683,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                    lineNumber: 679,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n            lineNumber: 645,\n            columnNumber: 7\n        }, this);\n    }\n    const schema = nodeDefinition.config_schema || {};\n    const hasFields = Object.keys(schema).length > 0;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"w-96 h-full flex flex-col shadow-2xl\",\n        style: {\n            background: 'var(--theme-surface)'\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-between px-4 py-3 border-b\",\n                style: {\n                    borderColor: 'var(--theme-border)',\n                    background: 'var(--theme-surface-variant)'\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                className: \"fas fa-cog\",\n                                style: {\n                                    color: 'var(--theme-text-secondary)'\n                                }\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                lineNumber: 714,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                className: \"text-sm font-semibold\",\n                                style: {\n                                    color: 'var(--theme-text)'\n                                },\n                                children: \"Configuration\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                lineNumber: 715,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                        lineNumber: 713,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: onClose,\n                        className: \"p-1.5 rounded transition-colors\",\n                        style: {\n                            color: 'var(--theme-text-secondary)'\n                        },\n                        onMouseEnter: (e)=>{\n                            e.currentTarget.style.background = 'var(--theme-surface-hover)';\n                            e.currentTarget.style.color = 'var(--theme-text)';\n                        },\n                        onMouseLeave: (e)=>{\n                            e.currentTarget.style.background = 'transparent';\n                            e.currentTarget.style.color = 'var(--theme-text-secondary)';\n                        },\n                        title: \"Close panel\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                            className: \"fas fa-times text-lg\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                            lineNumber: 731,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                        lineNumber: 717,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                lineNumber: 706,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"px-4 py-3 border-b\",\n                style: {\n                    background: 'var(--theme-surface-variant)',\n                    borderColor: 'var(--theme-border)'\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-start gap-3\",\n                    children: [\n                        nodeDefinition.icon && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex-shrink-0 w-10 h-10 rounded flex items-center justify-center\",\n                            style: {\n                                background: 'var(--theme-primary-muted)'\n                            },\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                className: nodeDefinition.icon,\n                                style: {\n                                    color: 'var(--theme-primary)'\n                                }\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                lineNumber: 749,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                            lineNumber: 745,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex-1 min-w-0\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-sm font-semibold truncate\",\n                                    style: {\n                                        color: 'var(--theme-text)'\n                                    },\n                                    children: selectedNode.name\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                    lineNumber: 753,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-xs mt-0.5\",\n                                    style: {\n                                        color: 'var(--theme-text-secondary)'\n                                    },\n                                    children: nodeDefinition.description\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                    lineNumber: 756,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                            lineNumber: 752,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                    lineNumber: 743,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                lineNumber: 736,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex border-b\",\n                style: {\n                    borderColor: 'var(--theme-border)',\n                    background: 'var(--theme-surface-variant)'\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>setActiveTab('config'),\n                        className: \"flex-1 px-4 py-2.5 text-sm font-medium transition-colors relative\",\n                        style: {\n                            color: activeTab === 'config' ? 'var(--theme-primary)' : 'var(--theme-text-secondary)',\n                            borderBottom: activeTab === 'config' ? '2px solid var(--theme-primary)' : '2px solid transparent'\n                        },\n                        onMouseEnter: (e)=>{\n                            if (activeTab !== 'config') {\n                                e.currentTarget.style.color = 'var(--theme-text)';\n                            }\n                        },\n                        onMouseLeave: (e)=>{\n                            if (activeTab !== 'config') {\n                                e.currentTarget.style.color = 'var(--theme-text-secondary)';\n                            }\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                className: \"fas fa-cog mr-1.5\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                lineNumber: 789,\n                                columnNumber: 11\n                            }, this),\n                            \"Config\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                        lineNumber: 771,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>setActiveTab('output'),\n                        className: \"flex-1 px-4 py-2.5 text-sm font-medium transition-colors relative\",\n                        style: {\n                            color: activeTab === 'output' ? 'var(--theme-primary)' : 'var(--theme-text-secondary)',\n                            borderBottom: activeTab === 'output' ? '2px solid var(--theme-primary)' : '2px solid transparent'\n                        },\n                        onMouseEnter: (e)=>{\n                            if (activeTab !== 'output') {\n                                e.currentTarget.style.color = 'var(--theme-text)';\n                            }\n                        },\n                        onMouseLeave: (e)=>{\n                            if (activeTab !== 'output') {\n                                e.currentTarget.style.color = 'var(--theme-text-secondary)';\n                            }\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                className: \"fas fa-chart-bar mr-1.5\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                lineNumber: 810,\n                                columnNumber: 11\n                            }, this),\n                            \"Output\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                        lineNumber: 792,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>setActiveTab('info'),\n                        className: \"flex-1 px-4 py-2.5 text-sm font-medium transition-colors relative\",\n                        style: {\n                            color: activeTab === 'info' ? 'var(--theme-primary)' : 'var(--theme-text-secondary)',\n                            borderBottom: activeTab === 'info' ? '2px solid var(--theme-primary)' : '2px solid transparent'\n                        },\n                        onMouseEnter: (e)=>{\n                            if (activeTab !== 'info') {\n                                e.currentTarget.style.color = 'var(--theme-text)';\n                            }\n                        },\n                        onMouseLeave: (e)=>{\n                            if (activeTab !== 'info') {\n                                e.currentTarget.style.color = 'var(--theme-text-secondary)';\n                            }\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                className: \"fas fa-info-circle mr-1.5\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                lineNumber: 831,\n                                columnNumber: 11\n                            }, this),\n                            \"Info\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                        lineNumber: 813,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                lineNumber: 764,\n                columnNumber: 7\n            }, this),\n            activeTab === 'config' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"px-4 py-3 border-b space-y-3\",\n                        style: {\n                            borderColor: 'var(--theme-border)',\n                            background: 'var(--theme-surface)'\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-between\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"flex items-center gap-2 cursor-pointer\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"checkbox\",\n                                                    checked: shareOutputs,\n                                                    onChange: (e)=>{\n                                                        setShareOutputs(e.target.checked);\n                                                        setHasChanges(true);\n                                                    },\n                                                    className: \"w-4 h-4 border rounded\",\n                                                    style: {\n                                                        accentColor: 'var(--theme-primary)'\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                    lineNumber: 849,\n                                                    columnNumber: 15\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-sm font-medium\",\n                                                    style: {\n                                                        color: 'var(--theme-text)'\n                                                    },\n                                                    children: \"Share output to variables\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                    lineNumber: 861,\n                                                    columnNumber: 15\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                            lineNumber: 848,\n                                            columnNumber: 13\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-xs mt-1 ml-6\",\n                                            style: {\n                                                color: 'var(--theme-text-muted)'\n                                            },\n                                            children: \"Make node outputs available to all subsequent nodes\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                            lineNumber: 865,\n                                            columnNumber: 13\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                    lineNumber: 847,\n                                    columnNumber: 11\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                lineNumber: 846,\n                                columnNumber: 9\n                            }, this),\n                            shareOutputs && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"ml-6 space-y-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"block text-xs font-medium\",\n                                        style: {\n                                            color: 'var(--theme-text-secondary)'\n                                        },\n                                        children: \"Variable Name (optional)\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                        lineNumber: 873,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"text\",\n                                        value: variableName,\n                                        onChange: (e)=>{\n                                            setVariableName(e.target.value);\n                                            setHasChanges(true);\n                                        },\n                                        placeholder: selectedNode?.node_id || 'node_id',\n                                        className: \"w-full px-2 py-1.5 border rounded text-xs focus:outline-none\",\n                                        style: {\n                                            background: 'var(--theme-surface-variant)',\n                                            color: 'var(--theme-text)',\n                                            borderColor: 'var(--theme-border)'\n                                        },\n                                        onFocus: (e)=>e.currentTarget.style.borderColor = 'var(--theme-primary)',\n                                        onBlur: (e)=>e.currentTarget.style.borderColor = 'var(--theme-border)'\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                        lineNumber: 876,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-xs\",\n                                        style: {\n                                            color: 'var(--theme-text-muted)'\n                                        },\n                                        children: \"Custom identifier for accessing this node's data. Defaults to node ID.\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                        lineNumber: 893,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                lineNumber: 872,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                        lineNumber: 839,\n                        columnNumber: 7\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1 overflow-y-auto custom-scrollbar\",\n                        children: !hasFields ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-4 text-center\",\n                            style: {\n                                color: 'var(--theme-text-muted)'\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                    className: \"fas fa-info-circle text-2xl mb-2\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                    lineNumber: 904,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-sm\",\n                                    children: \"This node has no configuration options\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                    lineNumber: 905,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                            lineNumber: 903,\n                            columnNumber: 11\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-4 space-y-4\",\n                            children: [\n                                Object.entries(schema).map(([key, field])=>{\n                                    // Check if field should be visible based on show_if conditions\n                                    const shouldShow = checkShowIf(field, configValues);\n                                    // Skip hidden fields (these are rendered dynamically elsewhere)\n                                    if (field.widget === 'hidden' || !shouldShow) {\n                                        return null;\n                                    }\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"space-y-1\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"block text-sm font-medium\",\n                                                style: {\n                                                    color: 'var(--theme-text)'\n                                                },\n                                                children: [\n                                                    field.label,\n                                                    field.required && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"ml-1\",\n                                                        style: {\n                                                            color: 'var(--theme-danger)'\n                                                        },\n                                                        children: \"*\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                        lineNumber: 922,\n                                                        columnNumber: 40\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                lineNumber: 920,\n                                                columnNumber: 19\n                                            }, this),\n                                            field.description && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-xs mb-2\",\n                                                style: {\n                                                    color: 'var(--theme-text-muted)'\n                                                },\n                                                children: field.description\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                lineNumber: 926,\n                                                columnNumber: 21\n                                            }, this),\n                                            (()=>{\n                                                const useVariableInput = (0,_utils_variableUtils__WEBPACK_IMPORTED_MODULE_3__.shouldUseVariableInput)(field);\n                                                const hasVars = availableVariables.length > 0;\n                                                if (useVariableInput && hasVars) {\n                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_VariableOrTextInput__WEBPACK_IMPORTED_MODULE_2__.VariableOrTextInput, {\n                                                        label: field.label,\n                                                        value: configValues[key],\n                                                        onChange: (value)=>handleValueChange(key, value),\n                                                        availableVariables: availableVariables,\n                                                        widget: field.widget,\n                                                        placeholder: field.placeholder,\n                                                        required: field.required,\n                                                        description: field.description\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                        lineNumber: 939,\n                                                        columnNumber: 25\n                                                    }, this);\n                                                } else {\n                                                    return renderField(key, field, configValues[key], handleValueChange, configValues, handleMediaClick);\n                                                }\n                                            })()\n                                        ]\n                                    }, key, true, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                        lineNumber: 919,\n                                        columnNumber: 17\n                                    }, this);\n                                }),\n                                selectedNode?.node_type === 'huggingface_inference' && dynamicTaskConfig && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"border-t pt-4 mt-4\",\n                                    style: {\n                                        borderColor: 'var(--theme-border)'\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                            className: \"text-sm font-semibold mb-3\",\n                                            style: {\n                                                color: 'var(--theme-text)'\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                    className: \"fas fa-sliders-h mr-2\",\n                                                    style: {\n                                                        color: 'var(--theme-primary)'\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                    lineNumber: 962,\n                                                    columnNumber: 19\n                                                }, this),\n                                                \"Task-Specific Parameters (\",\n                                                configValues.huggingface_marketplace?.task,\n                                                \")\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                            lineNumber: 961,\n                                            columnNumber: 17\n                                        }, this),\n                                        Object.entries(dynamicTaskConfig).map(([paramKey, paramField])=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"space-y-1 mb-3\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"block text-sm font-medium\",\n                                                        style: {\n                                                            color: 'var(--theme-text)'\n                                                        },\n                                                        children: [\n                                                            paramField.label,\n                                                            paramField.required && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"ml-1\",\n                                                                style: {\n                                                                    color: 'var(--theme-danger)'\n                                                                },\n                                                                children: \"*\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                                lineNumber: 970,\n                                                                columnNumber: 47\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                        lineNumber: 968,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    paramField.description && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-xs mb-2\",\n                                                        style: {\n                                                            color: 'var(--theme-text-muted)'\n                                                        },\n                                                        children: paramField.description\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                        lineNumber: 974,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    renderField(paramKey, paramField, configValues.common_parameters?.[paramKey] || configValues.task_specific_parameters?.[paramKey], (key, value)=>{\n                                                        // Store in the appropriate nested object\n                                                        const targetObj = paramField.applicable_tasks ? 'common_parameters' : 'task_specific_parameters';\n                                                        setConfigValues((prev)=>({\n                                                                ...prev,\n                                                                [targetObj]: {\n                                                                    ...prev[targetObj],\n                                                                    [key]: value\n                                                                }\n                                                            }));\n                                                        setHasChanges(true);\n                                                    }, configValues, handleMediaClick)\n                                                ]\n                                            }, paramKey, true, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                lineNumber: 967,\n                                                columnNumber: 19\n                                            }, this))\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                    lineNumber: 960,\n                                    columnNumber: 15\n                                }, this),\n                                loadingTaskConfig && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-center py-3\",\n                                    style: {\n                                        color: 'var(--theme-text-muted)'\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                            className: \"fas fa-spinner fa-spin mr-2\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                            lineNumber: 1005,\n                                            columnNumber: 17\n                                        }, this),\n                                        \"Loading task-specific configuration...\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                    lineNumber: 1004,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                            lineNumber: 908,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                        lineNumber: 901,\n                        columnNumber: 7\n                    }, this),\n                    hasFields && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"px-4 py-3 border-t\",\n                        style: {\n                            borderColor: 'var(--theme-border)',\n                            background: 'var(--theme-surface-variant)'\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center justify-between\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1\",\n                                    children: isSaving ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-xs flex items-center gap-2\",\n                                        style: {\n                                            color: 'var(--theme-success)'\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                className: \"fas fa-check-circle\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                lineNumber: 1026,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: \"Changes saved\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                lineNumber: 1027,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                        lineNumber: 1025,\n                                        columnNumber: 17\n                                    }, this) : hasChanges ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-xs flex items-center gap-2\",\n                                        style: {\n                                            color: 'var(--theme-info)'\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                className: \"fas fa-circle-notch fa-spin\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                lineNumber: 1031,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: \"Saving changes...\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                lineNumber: 1032,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                        lineNumber: 1030,\n                                        columnNumber: 17\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-xs flex items-center gap-2\",\n                                        style: {\n                                            color: 'var(--theme-text-muted)'\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                className: \"fas fa-info-circle\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                lineNumber: 1036,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: \"Changes auto-save\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                lineNumber: 1037,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                        lineNumber: 1035,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                    lineNumber: 1023,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleReset,\n                                    className: \"px-3 py-1.5 rounded text-xs font-medium transition-colors\",\n                                    style: {\n                                        background: 'var(--theme-surface-hover)',\n                                        color: 'var(--theme-text-secondary)'\n                                    },\n                                    onMouseEnter: (e)=>{\n                                        e.currentTarget.style.background = 'var(--theme-surface)';\n                                        e.currentTarget.style.color = 'var(--theme-text)';\n                                    },\n                                    onMouseLeave: (e)=>{\n                                        e.currentTarget.style.background = 'var(--theme-surface-hover)';\n                                        e.currentTarget.style.color = 'var(--theme-text-secondary)';\n                                    },\n                                    title: \"Reset to defaults\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                            className: \"fas fa-undo mr-1\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                            lineNumber: 1058,\n                                            columnNumber: 15\n                                        }, this),\n                                        \"Reset\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                    lineNumber: 1041,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                            lineNumber: 1022,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                        lineNumber: 1015,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true),\n            activeTab === 'output' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 overflow-hidden flex flex-col\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex-1 overflow-y-auto custom-scrollbar\",\n                    children: (()=>{\n                        const executionData = nodeExecutionData[selectedNode.node_id];\n                        if (!executionData) {\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-center py-8 px-4\",\n                                style: {\n                                    color: 'var(--theme-text-muted)'\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                        className: \"fas fa-chart-bar text-4xl mb-3\",\n                                        style: {\n                                            opacity: 0.5\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                        lineNumber: 1077,\n                                        columnNumber: 21\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm\",\n                                        children: \"Node output will appear here after execution\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                        lineNumber: 1078,\n                                        columnNumber: 21\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-xs mt-2\",\n                                        children: \"Run the workflow to see the results\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                        lineNumber: 1079,\n                                        columnNumber: 21\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                lineNumber: 1076,\n                                columnNumber: 19\n                            }, this);\n                        }\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-4 space-y-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"pb-3 border-b\",\n                                    style: {\n                                        borderColor: 'var(--theme-border)'\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center justify-between mb-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                    className: \"text-sm font-semibold\",\n                                                    style: {\n                                                        color: 'var(--theme-text)'\n                                                    },\n                                                    children: \"Execution Status\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                    lineNumber: 1089,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"px-2 py-1 rounded text-xs font-medium\",\n                                                    style: {\n                                                        background: executionData.success ? 'var(--theme-success-muted)' : 'var(--theme-danger-muted)',\n                                                        color: executionData.success ? 'var(--theme-success)' : 'var(--theme-danger)'\n                                                    },\n                                                    children: executionData.success ? 'Success' : 'Failed'\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                    lineNumber: 1092,\n                                                    columnNumber: 23\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                            lineNumber: 1088,\n                                            columnNumber: 21\n                                        }, this),\n                                        executionData.error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-xs p-2 rounded mt-2\",\n                                            style: {\n                                                background: 'var(--theme-danger-muted)',\n                                                color: 'var(--theme-danger)'\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                    className: \"fas fa-exclamation-triangle mr-1\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                    lineNumber: 1110,\n                                                    columnNumber: 25\n                                                }, this),\n                                                executionData.error\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                            lineNumber: 1103,\n                                            columnNumber: 23\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                    lineNumber: 1087,\n                                    columnNumber: 19\n                                }, this),\n                                executionData.inputs && Object.keys(executionData.inputs).length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center justify-between mb-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                    className: \"text-sm font-semibold\",\n                                                    style: {\n                                                        color: 'var(--theme-text)'\n                                                    },\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                            className: \"fas fa-sign-in-alt mr-1.5\",\n                                                            style: {\n                                                                color: 'var(--theme-primary)'\n                                                            }\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                            lineNumber: 1121,\n                                                            columnNumber: 27\n                                                        }, this),\n                                                        \"Input Data\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                    lineNumber: 1120,\n                                                    columnNumber: 25\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: ()=>{\n                                                        navigator.clipboard.writeText(JSON.stringify(executionData.inputs, null, 2));\n                                                    },\n                                                    className: \"text-xs px-2 py-1 rounded transition-colors\",\n                                                    style: {\n                                                        background: 'var(--theme-surface-variant)',\n                                                        color: 'var(--theme-text-secondary)'\n                                                    },\n                                                    onMouseEnter: (e)=>e.currentTarget.style.background = 'var(--theme-surface-hover)',\n                                                    onMouseLeave: (e)=>e.currentTarget.style.background = 'var(--theme-surface-variant)',\n                                                    title: \"Copy to clipboard\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                            className: \"fas fa-copy mr-1\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                            lineNumber: 1137,\n                                                            columnNumber: 27\n                                                        }, this),\n                                                        \"Copy\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                    lineNumber: 1124,\n                                                    columnNumber: 25\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                            lineNumber: 1119,\n                                            columnNumber: 23\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"pre\", {\n                                            className: \"text-xs p-3 rounded overflow-x-auto font-mono\",\n                                            style: {\n                                                background: 'var(--theme-surface-variant)',\n                                                color: 'var(--theme-text)',\n                                                whiteSpace: 'pre-wrap',\n                                                wordBreak: 'break-word',\n                                                overflowWrap: 'break-word'\n                                            },\n                                            children: JSON.stringify(executionData.inputs, null, 2)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                            lineNumber: 1141,\n                                            columnNumber: 23\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                    lineNumber: 1118,\n                                    columnNumber: 21\n                                }, this),\n                                executionData.outputs && Object.keys(executionData.outputs).length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center justify-between mb-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                    className: \"text-sm font-semibold\",\n                                                    style: {\n                                                        color: 'var(--theme-text)'\n                                                    },\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                            className: \"fas fa-sign-out-alt mr-1.5\",\n                                                            style: {\n                                                                color: 'var(--theme-success)'\n                                                            }\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                            lineNumber: 1161,\n                                                            columnNumber: 27\n                                                        }, this),\n                                                        \"Output Data\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                    lineNumber: 1160,\n                                                    columnNumber: 25\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex gap-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: ()=>setOutputViewMode(outputViewMode === 'formatted' ? 'json' : 'formatted'),\n                                                            className: \"text-xs px-2 py-1 rounded transition-colors\",\n                                                            style: {\n                                                                background: 'var(--theme-surface-variant)',\n                                                                color: 'var(--theme-text-secondary)'\n                                                            },\n                                                            onMouseEnter: (e)=>e.currentTarget.style.background = 'var(--theme-surface-hover)',\n                                                            onMouseLeave: (e)=>e.currentTarget.style.background = 'var(--theme-surface-variant)',\n                                                            title: outputViewMode === 'formatted' ? 'Show JSON' : 'Show formatted view',\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                                    className: `fas fa-${outputViewMode === 'formatted' ? 'code' : 'eye'} mr-1`\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                                    lineNumber: 1177,\n                                                                    columnNumber: 29\n                                                                }, this),\n                                                                outputViewMode === 'formatted' ? 'JSON' : 'Formatted'\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                            lineNumber: 1166,\n                                                            columnNumber: 27\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: ()=>{\n                                                                navigator.clipboard.writeText(JSON.stringify(executionData.outputs, null, 2));\n                                                            },\n                                                            className: \"text-xs px-2 py-1 rounded transition-colors\",\n                                                            style: {\n                                                                background: 'var(--theme-surface-variant)',\n                                                                color: 'var(--theme-text-secondary)'\n                                                            },\n                                                            onMouseEnter: (e)=>e.currentTarget.style.background = 'var(--theme-surface-hover)',\n                                                            onMouseLeave: (e)=>e.currentTarget.style.background = 'var(--theme-surface-variant)',\n                                                            title: \"Copy to clipboard\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                                    className: \"fas fa-copy mr-1\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                                    lineNumber: 1193,\n                                                                    columnNumber: 29\n                                                                }, this),\n                                                                \"Copy\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                            lineNumber: 1180,\n                                                            columnNumber: 27\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                    lineNumber: 1164,\n                                                    columnNumber: 25\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                            lineNumber: 1159,\n                                            columnNumber: 23\n                                        }, this),\n                                        outputViewMode === 'json' ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"pre\", {\n                                            className: \"text-xs p-3 rounded overflow-x-auto font-mono\",\n                                            style: {\n                                                background: 'var(--theme-surface-variant)',\n                                                color: 'var(--theme-text)',\n                                                whiteSpace: 'pre-wrap',\n                                                wordBreak: 'break-word',\n                                                overflowWrap: 'break-word'\n                                            },\n                                            children: JSON.stringify(executionData.outputs, null, 2)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                            lineNumber: 1200,\n                                            columnNumber: 25\n                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"space-y-3\",\n                                            children: Object.entries(executionData.outputs).map(([portName, portData])=>{\n                                                // Try to render as MediaFormat first\n                                                const hasMedia = (0,_components_MediaOutputViewer__WEBPACK_IMPORTED_MODULE_9__.hasMediaFormat)(portData);\n                                                if (hasMedia) {\n                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"p-3 rounded\",\n                                                        style: {\n                                                            background: 'var(--theme-surface-variant)'\n                                                        },\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_MediaOutputViewer__WEBPACK_IMPORTED_MODULE_9__.MediaOutputViewer, {\n                                                            data: portData,\n                                                            portName: portName,\n                                                            onMediaClick: (media, index)=>handleMediaClick(media, 'view', index)\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                            lineNumber: 1221,\n                                                            columnNumber: 35\n                                                        }, this)\n                                                    }, portName, false, {\n                                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                        lineNumber: 1220,\n                                                        columnNumber: 33\n                                                    }, this);\n                                                }\n                                                // Otherwise show as JSON\n                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-xs font-semibold mb-2\",\n                                                            style: {\n                                                                color: 'var(--theme-text-secondary)'\n                                                            },\n                                                            children: [\n                                                                portName,\n                                                                \":\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                            lineNumber: 1233,\n                                                            columnNumber: 33\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"pre\", {\n                                                            className: \"text-xs p-3 rounded overflow-x-auto font-mono\",\n                                                            style: {\n                                                                background: 'var(--theme-surface-variant)',\n                                                                color: 'var(--theme-text)',\n                                                                whiteSpace: 'pre-wrap',\n                                                                wordBreak: 'break-word',\n                                                                overflowWrap: 'break-word'\n                                                            },\n                                                            children: typeof portData === 'string' ? portData : JSON.stringify(portData, null, 2)\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                            lineNumber: 1236,\n                                                            columnNumber: 33\n                                                        }, this)\n                                                    ]\n                                                }, portName, true, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                    lineNumber: 1232,\n                                                    columnNumber: 31\n                                                }, this);\n                                            })\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                            lineNumber: 1213,\n                                            columnNumber: 25\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                    lineNumber: 1158,\n                                    columnNumber: 21\n                                }, this),\n                                executionData.outputs?.preview_data && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                            className: \"text-sm font-semibold mb-2\",\n                                            style: {\n                                                color: 'var(--theme-text)'\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                    className: \"fas fa-eye mr-1.5\",\n                                                    style: {\n                                                        color: 'var(--theme-info)'\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                    lineNumber: 1263,\n                                                    columnNumber: 25\n                                                }, this),\n                                                \"Preview\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                            lineNumber: 1262,\n                                            columnNumber: 23\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-sm p-3 rounded\",\n                                            style: {\n                                                background: 'var(--theme-surface-variant)',\n                                                color: 'var(--theme-text)',\n                                                whiteSpace: 'pre-wrap',\n                                                wordBreak: 'break-word',\n                                                overflowWrap: 'break-word'\n                                            },\n                                            children: typeof executionData.outputs.preview_data === 'string' ? executionData.outputs.preview_data : JSON.stringify(executionData.outputs.preview_data, null, 2)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                            lineNumber: 1266,\n                                            columnNumber: 23\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                    lineNumber: 1261,\n                                    columnNumber: 21\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                            lineNumber: 1085,\n                            columnNumber: 17\n                        }, this);\n                    })()\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                    lineNumber: 1070,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                lineNumber: 1069,\n                columnNumber: 9\n            }, this),\n            activeTab === 'info' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 overflow-y-auto custom-scrollbar p-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                    className: \"text-sm font-semibold mb-2\",\n                                    style: {\n                                        color: 'var(--theme-text)'\n                                    },\n                                    children: \"Node Information\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                    lineNumber: 1295,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-2 text-xs\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex justify-between py-1.5 border-b\",\n                                            style: {\n                                                borderColor: 'var(--theme-border)'\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    style: {\n                                                        color: 'var(--theme-text-secondary)'\n                                                    },\n                                                    children: \"Node ID:\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                    lineNumber: 1300,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    style: {\n                                                        color: 'var(--theme-text)'\n                                                    },\n                                                    className: \"font-mono text-xs truncate ml-2 max-w-[200px]\",\n                                                    title: selectedNode.node_id,\n                                                    children: selectedNode.node_id\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                    lineNumber: 1301,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                            lineNumber: 1299,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex justify-between py-1.5 border-b\",\n                                            style: {\n                                                borderColor: 'var(--theme-border)'\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    style: {\n                                                        color: 'var(--theme-text-secondary)'\n                                                    },\n                                                    children: \"Node Type:\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                    lineNumber: 1306,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    style: {\n                                                        color: 'var(--theme-text)'\n                                                    },\n                                                    children: selectedNode.node_type\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                    lineNumber: 1307,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                            lineNumber: 1305,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex justify-between py-1.5 border-b\",\n                                            style: {\n                                                borderColor: 'var(--theme-border)'\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    style: {\n                                                        color: 'var(--theme-text-secondary)'\n                                                    },\n                                                    children: \"Category:\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                    lineNumber: 1310,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    style: {\n                                                        color: 'var(--theme-text)'\n                                                    },\n                                                    children: selectedNode.category\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                    lineNumber: 1311,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                            lineNumber: 1309,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex justify-between py-1.5 border-b\",\n                                            style: {\n                                                borderColor: 'var(--theme-border)'\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    style: {\n                                                        color: 'var(--theme-text-secondary)'\n                                                    },\n                                                    children: \"Status:\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                    lineNumber: 1314,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    style: {\n                                                        color: 'var(--theme-text)'\n                                                    },\n                                                    children: selectedNode.status || 'idle'\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                    lineNumber: 1315,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                            lineNumber: 1313,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                    lineNumber: 1298,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                            lineNumber: 1294,\n                            columnNumber: 13\n                        }, this),\n                        selectedNode.inputs && selectedNode.inputs.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                    className: \"text-sm font-semibold mb-2\",\n                                    style: {\n                                        color: 'var(--theme-text)'\n                                    },\n                                    children: [\n                                        \"Input Ports (\",\n                                        selectedNode.inputs.length,\n                                        \")\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                    lineNumber: 1322,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-1\",\n                                    children: selectedNode.inputs.map((input)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-xs px-2 py-1.5 rounded\",\n                                            style: {\n                                                background: 'var(--theme-surface-variant)'\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"font-medium\",\n                                                    style: {\n                                                        color: 'var(--theme-text)'\n                                                    },\n                                                    children: input.label\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                    lineNumber: 1328,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center gap-2 mt-0.5\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            style: {\n                                                                color: 'var(--theme-text-muted)'\n                                                            },\n                                                            children: [\n                                                                \"Type: \",\n                                                                input.type\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                            lineNumber: 1330,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        input.required && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"px-1.5 py-0.5 rounded text-xs\",\n                                                            style: {\n                                                                background: 'var(--theme-danger)',\n                                                                color: 'white'\n                                                            },\n                                                            children: \"Required\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                            lineNumber: 1332,\n                                                            columnNumber: 27\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                    lineNumber: 1329,\n                                                    columnNumber: 23\n                                                }, this)\n                                            ]\n                                        }, input.id, true, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                            lineNumber: 1327,\n                                            columnNumber: 21\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                    lineNumber: 1325,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                            lineNumber: 1321,\n                            columnNumber: 15\n                        }, this),\n                        selectedNode.outputs && selectedNode.outputs.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                    className: \"text-sm font-semibold mb-2\",\n                                    style: {\n                                        color: 'var(--theme-text)'\n                                    },\n                                    children: [\n                                        \"Output Ports (\",\n                                        selectedNode.outputs.length,\n                                        \")\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                    lineNumber: 1343,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-1\",\n                                    children: selectedNode.outputs.map((output)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-xs px-2 py-1.5 rounded\",\n                                            style: {\n                                                background: 'var(--theme-surface-variant)'\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"font-medium\",\n                                                    style: {\n                                                        color: 'var(--theme-text)'\n                                                    },\n                                                    children: output.label\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                    lineNumber: 1349,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        color: 'var(--theme-text-muted)'\n                                                    },\n                                                    className: \"mt-0.5\",\n                                                    children: [\n                                                        \"Type: \",\n                                                        output.type\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                                    lineNumber: 1350,\n                                                    columnNumber: 23\n                                                }, this)\n                                            ]\n                                        }, output.id, true, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                            lineNumber: 1348,\n                                            columnNumber: 21\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                                    lineNumber: 1346,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                            lineNumber: 1342,\n                            columnNumber: 15\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                    lineNumber: 1293,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                lineNumber: 1292,\n                columnNumber: 9\n            }, this),\n            modalMedia && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_MediaFullScreenModal__WEBPACK_IMPORTED_MODULE_10__.MediaFullScreenModal, {\n                isOpen: isModalOpen,\n                onClose: ()=>setIsModalOpen(false),\n                mediaData: modalMedia,\n                mode: modalMode,\n                initialIndex: modalIndex,\n                onSave: handleModalSave\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                lineNumber: 1362,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n        lineNumber: 701,\n        columnNumber: 5\n    }, this);\n}\n_s4(ConfigPanel, \"tfbnUhIr1SzBRWNwDe+ev8jQpbE=\");\n_c4 = ConfigPanel;\nfunction renderField(key, field, value, onChange, configValues, onMediaClick) {\n    const widget = field.widget || getDefaultWidget(field.type);\n    switch(widget){\n        case 'textarea':\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                value: value || '',\n                onChange: (e)=>onChange(key, e.target.value),\n                placeholder: field.placeholder,\n                className: \"w-full px-3 py-2 border rounded text-sm resize-y min-h-[80px] focus:outline-none\",\n                style: {\n                    background: 'var(--theme-surface-variant)',\n                    color: 'var(--theme-text)',\n                    borderColor: 'var(--theme-border)'\n                },\n                onFocus: (e)=>e.currentTarget.style.borderColor = 'var(--theme-primary)',\n                onBlur: (e)=>e.currentTarget.style.borderColor = 'var(--theme-border)',\n                rows: 4\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                lineNumber: 1388,\n                columnNumber: 9\n            }, this);\n        case 'number':\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                type: \"number\",\n                value: value ?? '',\n                onChange: (e)=>{\n                    const val = e.target.value === '' ? null : field.type === 'integer' ? parseInt(e.target.value) : parseFloat(e.target.value);\n                    onChange(key, val);\n                },\n                min: field.min,\n                max: field.max,\n                placeholder: field.placeholder,\n                className: \"w-full px-3 py-2 border rounded text-sm focus:outline-none\",\n                style: {\n                    background: 'var(--theme-surface-variant)',\n                    color: 'var(--theme-text)',\n                    borderColor: 'var(--theme-border)'\n                },\n                onFocus: (e)=>e.currentTarget.style.borderColor = 'var(--theme-primary)',\n                onBlur: (e)=>e.currentTarget.style.borderColor = 'var(--theme-border)'\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                lineNumber: 1406,\n                columnNumber: 9\n            }, this);\n        case 'checkbox':\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                className: \"flex items-center gap-2 cursor-pointer\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                        type: \"checkbox\",\n                        checked: !!value,\n                        onChange: (e)=>onChange(key, e.target.checked),\n                        className: \"w-4 h-4 border rounded\",\n                        style: {\n                            accentColor: 'var(--theme-primary)'\n                        }\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                        lineNumber: 1430,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"text-sm\",\n                        style: {\n                            color: 'var(--theme-text-secondary)'\n                        },\n                        children: field.label\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                        lineNumber: 1439,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                lineNumber: 1429,\n                columnNumber: 9\n            }, this);\n        case 'select':\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                value: value || '',\n                onChange: (e)=>onChange(key, e.target.value),\n                className: \"w-full px-3 py-2 border rounded text-sm focus:outline-none\",\n                style: {\n                    background: 'var(--theme-surface-variant)',\n                    color: 'var(--theme-text)',\n                    borderColor: 'var(--theme-border)'\n                },\n                onFocus: (e)=>e.currentTarget.style.borderColor = 'var(--theme-primary)',\n                onBlur: (e)=>e.currentTarget.style.borderColor = 'var(--theme-border)',\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                        value: \"\",\n                        children: \"Select...\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                        lineNumber: 1459,\n                        columnNumber: 11\n                    }, this),\n                    field.options?.map((opt)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                            value: opt.value,\n                            children: opt.label\n                        }, opt.value, false, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                            lineNumber: 1461,\n                            columnNumber: 13\n                        }, this))\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                lineNumber: 1447,\n                columnNumber: 9\n            }, this);\n        case 'provider_select':\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ProviderSelect, {\n                value: value || '',\n                onChange: (val)=>onChange(key, val),\n                placeholder: field.placeholder\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                lineNumber: 1469,\n                columnNumber: 14\n            }, this);\n        case 'model_select':\n            // Model select depends on provider - get provider value from config\n            const providerValue = field.depends_on ? configValues[field.depends_on] : null;\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ModelSelect, {\n                provider: providerValue,\n                value: value || '',\n                onChange: (val)=>onChange(key, val),\n                placeholder: field.placeholder\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                lineNumber: 1474,\n                columnNumber: 14\n            }, this);\n        case 'slider':\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"space-y-2\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center gap-3\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                            type: \"range\",\n                            value: value ?? field.default ?? 0,\n                            onChange: (e)=>onChange(key, parseFloat(e.target.value)),\n                            min: field.min ?? 0,\n                            max: field.max ?? 1,\n                            step: field.step ?? 0.01,\n                            className: \"flex-1\",\n                            style: {\n                                accentColor: 'var(--theme-primary)'\n                            }\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                            lineNumber: 1480,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                            type: \"number\",\n                            value: value ?? field.default ?? 0,\n                            onChange: (e)=>onChange(key, parseFloat(e.target.value)),\n                            min: field.min ?? 0,\n                            max: field.max ?? 1,\n                            step: field.step ?? 0.01,\n                            className: \"w-20 px-2 py-1 border rounded text-sm text-center\",\n                            style: {\n                                background: 'var(--theme-surface-variant)',\n                                color: 'var(--theme-text)',\n                                borderColor: 'var(--theme-border)'\n                            }\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                            lineNumber: 1492,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                    lineNumber: 1479,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                lineNumber: 1478,\n                columnNumber: 9\n            }, this);\n        case 'color':\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex gap-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                        type: \"color\",\n                        value: value || '#000000',\n                        onChange: (e)=>onChange(key, e.target.value),\n                        className: \"w-12 h-10 border rounded cursor-pointer\",\n                        style: {\n                            borderColor: 'var(--theme-border)'\n                        }\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                        lineNumber: 1513,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                        type: \"text\",\n                        value: value || '',\n                        onChange: (e)=>onChange(key, e.target.value),\n                        placeholder: \"#000000\",\n                        className: \"flex-1 px-3 py-2 border rounded text-sm focus:outline-none\",\n                        style: {\n                            background: 'var(--theme-surface-variant)',\n                            color: 'var(--theme-text)',\n                            borderColor: 'var(--theme-border)'\n                        },\n                        onFocus: (e)=>e.currentTarget.style.borderColor = 'var(--theme-primary)',\n                        onBlur: (e)=>e.currentTarget.style.borderColor = 'var(--theme-border)'\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                        lineNumber: 1520,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                lineNumber: 1512,\n                columnNumber: 9\n            }, this);\n        case 'date':\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                type: \"date\",\n                value: value || '',\n                onChange: (e)=>onChange(key, e.target.value),\n                className: \"w-full px-3 py-2 border rounded text-sm focus:outline-none\",\n                style: {\n                    background: 'var(--theme-surface-variant)',\n                    color: 'var(--theme-text)',\n                    borderColor: 'var(--theme-border)'\n                },\n                onFocus: (e)=>e.currentTarget.style.borderColor = 'var(--theme-primary)',\n                onBlur: (e)=>e.currentTarget.style.borderColor = 'var(--theme-border)'\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                lineNumber: 1539,\n                columnNumber: 9\n            }, this);\n        case 'file_picker':\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"space-y-3\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_FilePicker__WEBPACK_IMPORTED_MODULE_4__.FilePicker, {\n                        value: value || '',\n                        onChange: (fileId, file)=>{\n                            onChange(key, fileId);\n                        },\n                        accept: field.accept,\n                        maxSizeMB: field.max_size_mb,\n                        fileCategory: field.file_category,\n                        placeholder: field.placeholder || 'Select or upload a file'\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                        lineNumber: 1557,\n                        columnNumber: 11\n                    }, this),\n                    value && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_MediaViewerConfig__WEBPACK_IMPORTED_MODULE_8__.MediaViewerConfig, {\n                        fileId: value,\n                        fileCategory: field.file_category,\n                        accept: field.accept,\n                        height: \"500px\",\n                        onClick: ()=>{\n                            // Create MediaFormat from file picker data\n                            const mediaFormat = {\n                                type: field.file_category || 'document',\n                                format: field.accept?.split(',')[0]?.replace('.', '') || 'pdf',\n                                data: value,\n                                data_type: 'file_path',\n                                metadata: {\n                                    file_id: value\n                                }\n                            };\n                            onMediaClick?.(mediaFormat, 'edit');\n                        }\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                        lineNumber: 1569,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                lineNumber: 1556,\n                columnNumber: 9\n            }, this);\n        case 'folder_picker':\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_FolderPicker__WEBPACK_IMPORTED_MODULE_5__.FolderPicker, {\n                value: value || '',\n                onChange: (folderPath)=>{\n                    onChange(key, folderPath);\n                },\n                placeholder: field.placeholder || 'Select a folder'\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                lineNumber: 1594,\n                columnNumber: 9\n            }, this);\n        case 'password':\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_PasswordInput__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                value: value || '',\n                onChange: (val)=>onChange(key, val),\n                placeholder: field.placeholder || 'Enter password or API key'\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                lineNumber: 1605,\n                columnNumber: 9\n            }, this);\n        case 'keyvalue':\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(KeyValueEditor, {\n                value: value || {},\n                onChange: (val)=>onChange(key, val),\n                placeholder: field.placeholder\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                lineNumber: 1613,\n                columnNumber: 14\n            }, this);\n        case 'credential':\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(LocalCredentialPicker, {\n                value: value || '',\n                onChange: (val)=>onChange(key, val),\n                filter: field.filter\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                lineNumber: 1616,\n                columnNumber: 14\n            }, this);\n        case 'huggingface_model_browser':\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_HuggingFaceModelBrowser__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                onModelSelected: (model)=>{\n                    // Store the entire model object in config\n                    onChange(key, {\n                        model_id: model.model_id,\n                        task: model.pipeline_tag,\n                        model_info: model\n                    });\n                },\n                initialModelId: value?.model_id,\n                enableFilters: true,\n                itemsPerPage: 20\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                lineNumber: 1620,\n                columnNumber: 9\n            }, this);\n        case 'text':\n        default:\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                type: \"text\",\n                value: value || '',\n                onChange: (e)=>onChange(key, e.target.value),\n                placeholder: field.placeholder,\n                className: \"w-full px-3 py-2 border rounded text-sm focus:outline-none\",\n                style: {\n                    background: 'var(--theme-surface-variant)',\n                    color: 'var(--theme-text)',\n                    borderColor: 'var(--theme-border)'\n                },\n                onFocus: (e)=>e.currentTarget.style.borderColor = 'var(--theme-primary)',\n                onBlur: (e)=>e.currentTarget.style.borderColor = 'var(--theme-border)'\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConfigPanel.tsx\",\n                lineNumber: 1638,\n                columnNumber: 9\n            }, this);\n    }\n}\nfunction getDefaultWidget(type) {\n    switch(type){\n        case 'boolean':\n            return 'checkbox';\n        case 'integer':\n        case 'float':\n            return 'number';\n        case 'string':\n            return 'text';\n        default:\n            return 'text';\n    }\n}\n/**\r\n * Check if a field should be shown based on show_if or visible_when conditions\r\n * show_if format: { fieldName: expectedValue, ... }\r\n * visible_when format: { fieldName: expectedValue or [value1, value2] }\r\n * All conditions must be met (AND logic)\r\n */ function checkShowIf(field, configValues) {\n    const conditions = field.show_if || field.visible_when;\n    if (!conditions) {\n        return true; // No conditions, always show\n    }\n    // Check all conditions (AND logic)\n    for (const [conditionField, expectedValue] of Object.entries(conditions)){\n        const actualValue = configValues[conditionField];\n        // Handle array of values (OR logic within the field)\n        if (Array.isArray(expectedValue)) {\n            if (!expectedValue.includes(actualValue)) {\n                return false; // Value not in expected list\n            }\n        } else {\n            // Single value comparison\n            if (actualValue !== expectedValue) {\n                return false; // Condition not met\n            }\n        }\n    }\n    return true; // All conditions met\n}\nvar _c, _c1, _c2, _c3, _c4;\n$RefreshReg$(_c, \"KeyValueEditor\");\n$RefreshReg$(_c1, \"LocalCredentialPicker\");\n$RefreshReg$(_c2, \"ProviderSelect\");\n$RefreshReg$(_c3, \"ModelSelect\");\n$RefreshReg$(_c4, \"ConfigPanel\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvZWRpdG9yLXBhZ2UvQ29uZmlnUGFuZWwudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7Q0FJQzs7QUFFMEQ7QUFDQztBQUMwQjtBQUNqQztBQUNJO0FBQ0Y7QUFFb0I7QUFDUjtBQUNrQztBQUNQO0FBRzdDO0FBVWpELFNBQVNnQixlQUFlLEVBQUVDLEtBQUssRUFBRUMsUUFBUSxFQUFFQyxXQUFXLEVBQXVCOztJQUMzRSxNQUFNLENBQUNDLE9BQU9DLFNBQVMsR0FBR3BCLCtDQUFRQSxDQUFvRCxFQUFFO0lBRXhGLCtEQUErRDtJQUMvREMsZ0RBQVNBO29DQUFDO1lBQ1IsSUFBSWUsU0FBU0ssT0FBT0MsSUFBSSxDQUFDTixPQUFPTyxNQUFNLEdBQUcsR0FBRztnQkFDMUMsTUFBTUMsV0FBV0gsT0FBT0ksT0FBTyxDQUFDVCxPQUFPVSxHQUFHO3lEQUFDLENBQUMsQ0FBQ0MsR0FBR0MsRUFBRSxFQUFFQyxNQUFTOzRCQUMzREMsS0FBS0g7NEJBQ0xYLE9BQU9ZOzRCQUNQRyxJQUFJLEdBQUdGLElBQUksQ0FBQyxFQUFFRixFQUFFLENBQUMsRUFBRUssS0FBS0MsR0FBRyxJQUFJO3dCQUNqQzs7Z0JBQ0FiLFNBQVNJO1lBQ1gsT0FBTyxJQUFJTCxNQUFNSSxNQUFNLEtBQUssR0FBRztnQkFDN0IsbURBQW1EO2dCQUNuREgsU0FBUztvQkFBQzt3QkFBRVUsS0FBSzt3QkFBSWQsT0FBTzt3QkFBSWUsSUFBSSxDQUFDLE1BQU0sRUFBRUMsS0FBS0MsR0FBRyxJQUFJO29CQUFDO2lCQUFFO1lBQzlEO1FBQ0Y7bUNBQUc7UUFBQ2pCO0tBQU0sR0FBRyw0QkFBNEI7SUFFekMsTUFBTWtCLGNBQWMsQ0FBQ1Y7UUFDbkJKLFNBQVNJO1FBRVQsMkNBQTJDO1FBQzNDLE1BQU1XLE1BQThCLENBQUM7UUFDckNYLFNBQVNZLE9BQU8sQ0FBQ0MsQ0FBQUE7WUFDZixJQUFJQSxLQUFLUCxHQUFHLENB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QUFFTyxhQUFhLENBQUNMLEtBQUssQ0FBQ0csV0FBVyxHQUFHOzs7Ozs7SUFHM0Q7QUFDRjtBQUVBLFNBQVMrSyxpQkFBaUJyTCxJQUFZO0lBQ3BDLE9BQVFBO1FBQ04sS0FBSztZQUFXLE9BQU87UUFDdkIsS0FBSztRQUNMLEtBQUs7WUFBUyxPQUFPO1FBQ3JCLEtBQUs7WUFBVSxPQUFPO1FBQ3RCO1lBQVMsT0FBTztJQUNsQjtBQUNGO0FBRUE7Ozs7O0NBS0MsR0FDRCxTQUFTZ0osWUFBWXJKLEtBQWtCLEVBQUVxRSxZQUFpQztJQUN4RSxNQUFNeUosYUFBYTlOLE1BQU0rTixPQUFPLElBQUkvTixNQUFNZ08sWUFBWTtJQUV0RCxJQUFJLENBQUNGLFlBQVk7UUFDZixPQUFPLE1BQU0sNkJBQTZCO0lBQzVDO0lBRUEsbUNBQW1DO0lBQ25DLEtBQUssTUFBTSxDQUFDRyxnQkFBZ0JDLGNBQWMsSUFBSXpQLE9BQU9JLE9BQU8sQ0FBQ2lQLFlBQWE7UUFDeEUsTUFBTUssY0FBYzlKLFlBQVksQ0FBQzRKLGVBQWU7UUFFaEQscURBQXFEO1FBQ3JELElBQUlHLE1BQU1DLE9BQU8sQ0FBQ0gsZ0JBQWdCO1lBQ2hDLElBQUksQ0FBQ0EsY0FBY0ksUUFBUSxDQUFDSCxjQUFjO2dCQUN4QyxPQUFPLE9BQU8sNkJBQTZCO1lBQzdDO1FBQ0YsT0FBTztZQUNMLDBCQUEwQjtZQUMxQixJQUFJQSxnQkFBZ0JELGVBQWU7Z0JBQ2pDLE9BQU8sT0FBTyxvQkFBb0I7WUFDcEM7UUFDRjtJQUNGO0lBRUEsT0FBTyxNQUFNLHFCQUFxQjtBQUNwQyIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxuaWNob2xhcy5sZWVcXERvY3VtZW50c1xcelxcVGlja2V0aW5nX05pY2tcXFRpY2tldGluZ1xcdGF2X29wZW5zb3VyY2VcXHVpXFxzcmNcXGFwcFxcZWRpdG9yLXBhZ2VcXENvbmZpZ1BhbmVsLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ29uZmlndXJhdGlvbiBQYW5lbCBDb21wb25lbnRcclxuICogXHJcbiAqIERpc3BsYXlzIGFuZCBhbGxvd3MgZWRpdGluZyBvZiBub2RlIGNvbmZpZ3VyYXRpb24gd2hlbiBhIG5vZGUgaXMgc2VsZWN0ZWQuXHJcbiAqL1xyXG5cclxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgVmFyaWFibGVPclRleHRJbnB1dCB9IGZyb20gJy4vVmFyaWFibGVPclRleHRJbnB1dCc7XHJcbmltcG9ydCB7IGdldEF2YWlsYWJsZVZhcmlhYmxlcywgc2hvdWxkVXNlVmFyaWFibGVJbnB1dCB9IGZyb20gJy4vdXRpbHMvdmFyaWFibGVVdGlscyc7XHJcbmltcG9ydCB7IEZpbGVQaWNrZXIgfSBmcm9tICdAL2NvbXBvbmVudHMvRmlsZVBpY2tlcic7XHJcbmltcG9ydCB7IEZvbGRlclBpY2tlciB9IGZyb20gJ0AvY29tcG9uZW50cy9Gb2xkZXJQaWNrZXInO1xyXG5pbXBvcnQgUGFzc3dvcmRJbnB1dCBmcm9tICdAL2NvbXBvbmVudHMvUGFzc3dvcmRJbnB1dCc7XHJcbmltcG9ydCBDcmVkZW50aWFsUGlja2VyIGZyb20gJ0AvY29tcG9uZW50cy9DcmVkZW50aWFsUGlja2VyJztcclxuaW1wb3J0IEh1Z2dpbmdGYWNlTW9kZWxCcm93c2VyIGZyb20gJ0AvY29tcG9uZW50cy9IdWdnaW5nRmFjZU1vZGVsQnJvd3Nlcic7XHJcbmltcG9ydCB7IE1lZGlhVmlld2VyQ29uZmlnIH0gZnJvbSAnQC9jb21wb25lbnRzL01lZGlhVmlld2VyQ29uZmlnJztcclxuaW1wb3J0IHsgTWVkaWFPdXRwdXRWaWV3ZXIsIGhhc01lZGlhRm9ybWF0LCB0eXBlIE1lZGlhRm9ybWF0IH0gZnJvbSAnQC9jb21wb25lbnRzL01lZGlhT3V0cHV0Vmlld2VyJztcclxuaW1wb3J0IHsgTWVkaWFGdWxsU2NyZWVuTW9kYWwsIHR5cGUgQW5ub3RhdGlvbkRhdGEgfSBmcm9tICdAL2NvbXBvbmVudHMvTWVkaWFGdWxsU2NyZWVuTW9kYWwnO1xyXG5pbXBvcnQgdHlwZSB7IEZpbGVDYXRlZ29yeSB9IGZyb20gJ0AvbGliL2ZpbGVzJztcclxuaW1wb3J0IHR5cGUgeyBNb2RlbERldGFpbHMgfSBmcm9tICdAL2xpYi9odWdnaW5nZmFjZS1hcGknO1xyXG5pbXBvcnQgeyBnZXRBcGlCYXNlVXJsIH0gZnJvbSAnQC9saWIvYXBpLWNvbmZpZyc7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PSBLZXlWYWx1ZSBFZGl0b3IgQ29tcG9uZW50ID09PT09PT09PT09PT09PT09PT09XHJcblxyXG5pbnRlcmZhY2UgS2V5VmFsdWVFZGl0b3JQcm9wcyB7XHJcbiAgdmFsdWU6IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XHJcbiAgb25DaGFuZ2U6ICh2YWx1ZTogUmVjb3JkPHN0cmluZywgc3RyaW5nPikgPT4gdm9pZDtcclxuICBwbGFjZWhvbGRlcj86IHN0cmluZztcclxufVxyXG5cclxuZnVuY3Rpb24gS2V5VmFsdWVFZGl0b3IoeyB2YWx1ZSwgb25DaGFuZ2UsIHBsYWNlaG9sZGVyIH06IEtleVZhbHVlRWRpdG9yUHJvcHMpIHtcclxuICBjb25zdCBbcGFpcnMsIHNldFBhaXJzXSA9IHVzZVN0YXRlPEFycmF5PHsga2V5OiBzdHJpbmc7IHZhbHVlOiBzdHJpbmc7IGlkOiBzdHJpbmcgfT4+KFtdKTtcclxuXHJcbiAgLy8gSW5pdGlhbGl6ZSBwYWlycyBmcm9tIHZhbHVlIC0gdXBkYXRlIHdoZW4gdmFsdWUgcHJvcCBjaGFuZ2VzXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICh2YWx1ZSAmJiBPYmplY3Qua2V5cyh2YWx1ZSkubGVuZ3RoID4gMCkge1xyXG4gICAgICBjb25zdCBuZXdQYWlycyA9IE9iamVjdC5lbnRyaWVzKHZhbHVlKS5tYXAoKFtrLCB2XSwgaWR4KSA9PiAoe1xyXG4gICAgICAgIGtleTogayxcclxuICAgICAgICB2YWx1ZTogdixcclxuICAgICAgICBpZDogYCR7aWR4fS0ke2t9LSR7RGF0ZS5ub3coKX1gXHJcbiAgICAgIH0pKTtcclxuICAgICAgc2V0UGFpcnMobmV3UGFpcnMpO1xyXG4gICAgfSBlbHNlIGlmIChwYWlycy5sZW5ndGggPT09IDApIHtcclxuICAgICAgLy8gU3RhcnQgd2l0aCBvbmUgZW1wdHkgcGFpciBvbmx5IGlmIG5vIHBhaXJzIGV4aXN0XHJcbiAgICAgIHNldFBhaXJzKFt7IGtleTogJycsIHZhbHVlOiAnJywgaWQ6IGBlbXB0eS0ke0RhdGUubm93KCl9YCB9XSk7XHJcbiAgICB9XHJcbiAgfSwgW3ZhbHVlXSk7IC8vIFJlLXJ1biB3aGVuIHZhbHVlIGNoYW5nZXNcclxuXHJcbiAgY29uc3QgdXBkYXRlUGFpcnMgPSAobmV3UGFpcnM6IEFycmF5PHsga2V5OiBzdHJpbmc7IHZhbHVlOiBzdHJpbmc7IGlkOiBzdHJpbmcgfT4pID0+IHtcclxuICAgIHNldFBhaXJzKG5ld1BhaXJzKTtcclxuICAgIFxyXG4gICAgLy8gQ29udmVydCB0byBvYmplY3QsIGZpbHRlciBvdXQgZW1wdHkga2V5c1xyXG4gICAgY29uc3Qgb2JqOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XHJcbiAgICBuZXdQYWlycy5mb3JFYWNoKHBhaXIgPT4ge1xyXG4gICAgICBpZiAocGFpci5rZXkudHJpbSgpKSB7XHJcbiAgICAgICAgb2JqW3BhaXIua2V5XSA9IHBhaXIudmFsdWU7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICAvLyBBbHdheXMgY2FsbCBvbkNoYW5nZSB0byBwZXJzaXN0IGRhdGFcclxuICAgIG9uQ2hhbmdlKG9iaik7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgYWRkUGFpciA9ICgpID0+IHtcclxuICAgIHVwZGF0ZVBhaXJzKFsuLi5wYWlycywgeyBrZXk6ICcnLCB2YWx1ZTogJycsIGlkOiBgJHtEYXRlLm5vdygpfWAgfV0pO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHJlbW92ZVBhaXIgPSAoaWQ6IHN0cmluZykgPT4ge1xyXG4gICAgdXBkYXRlUGFpcnMocGFpcnMuZmlsdGVyKHAgPT4gcC5pZCAhPT0gaWQpKTtcclxuICB9O1xyXG5cclxuICBjb25zdCB1cGRhdGVQYWlyID0gKGlkOiBzdHJpbmcsIGZpZWxkOiAna2V5JyB8ICd2YWx1ZScsIG5ld1ZhbHVlOiBzdHJpbmcpID0+IHtcclxuICAgIHVwZGF0ZVBhaXJzKHBhaXJzLm1hcChwID0+IHAuaWQgPT09IGlkID8geyAuLi5wLCBbZmllbGRdOiBuZXdWYWx1ZSB9IDogcCkpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxyXG4gICAgICB7cGFpcnMubWFwKChwYWlyLCBpZHgpID0+IChcclxuICAgICAgICA8ZGl2IGtleT17cGFpci5pZH0gY2xhc3NOYW1lPVwiZmxleCBnYXAtMlwiPlxyXG4gICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgdmFsdWU9e3BhaXIua2V5fVxyXG4gICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHVwZGF0ZVBhaXIocGFpci5pZCwgJ2tleScsIGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2lkeCA9PT0gMCAmJiBwbGFjZWhvbGRlciA/IFwiS2V5XCIgOiBcIktleVwifVxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgcHgtMyBweS0yIGJvcmRlciByb3VuZGVkIHRleHQtc20gZm9jdXM6b3V0bGluZS1ub25lXCJcclxuICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAndmFyKC0tdGhlbWUtc3VyZmFjZS12YXJpYW50KScsXHJcbiAgICAgICAgICAgICAgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0KScsXHJcbiAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6ICd2YXIoLS10aGVtZS1ib3JkZXIpJyxcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgb25Gb2N1cz17KGUpID0+IGUuY3VycmVudFRhcmdldC5zdHlsZS5ib3JkZXJDb2xvciA9ICd2YXIoLS10aGVtZS1wcmltYXJ5KSd9XHJcbiAgICAgICAgICAgIG9uQmx1cj17KGUpID0+IGUuY3VycmVudFRhcmdldC5zdHlsZS5ib3JkZXJDb2xvciA9ICd2YXIoLS10aGVtZS1ib3JkZXIpJ31cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICB2YWx1ZT17cGFpci52YWx1ZX1cclxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB1cGRhdGVQYWlyKHBhaXIuaWQsICd2YWx1ZScsIGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJWYWx1ZVwiXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSBweC0zIHB5LTIgYm9yZGVyIHJvdW5kZWQgdGV4dC1zbSBmb2N1czpvdXRsaW5lLW5vbmVcIlxyXG4gICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgIGJhY2tncm91bmQ6ICd2YXIoLS10aGVtZS1zdXJmYWNlLXZhcmlhbnQpJyxcclxuICAgICAgICAgICAgICBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQpJyxcclxuICAgICAgICAgICAgICBib3JkZXJDb2xvcjogJ3ZhcigtLXRoZW1lLWJvcmRlciknLFxyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICBvbkZvY3VzPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJvcmRlckNvbG9yID0gJ3ZhcigtLXRoZW1lLXByaW1hcnkpJ31cclxuICAgICAgICAgICAgb25CbHVyPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJvcmRlckNvbG9yID0gJ3ZhcigtLXRoZW1lLWJvcmRlciknfVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gcmVtb3ZlUGFpcihwYWlyLmlkKX1cclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMiBweS0yIHJvdW5kZWQgdGV4dC1zbSBob3ZlcjpvcGFjaXR5LTcwIHRyYW5zaXRpb24tb3BhY2l0eVwiXHJcbiAgICAgICAgICAgIHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tdGhlbWUtZGFuZ2VyKScgfX1cclxuICAgICAgICAgICAgdGl0bGU9XCJSZW1vdmVcIlxyXG4gICAgICAgICAgICBkaXNhYmxlZD17cGFpcnMubGVuZ3RoID09PSAxfVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYXMgZmEtdGltZXNcIj48L2k+XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKSl9XHJcbiAgICAgIDxidXR0b25cclxuICAgICAgICBvbkNsaWNrPXthZGRQYWlyfVxyXG4gICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0zIHB5LTIgYm9yZGVyLTIgYm9yZGVyLWRhc2hlZCByb3VuZGVkIHRleHQtc20gaG92ZXI6b3BhY2l0eS03MCB0cmFuc2l0aW9uLW9wYWNpdHlcIlxyXG4gICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICBib3JkZXJDb2xvcjogJ3ZhcigtLXRoZW1lLWJvcmRlciknLFxyXG4gICAgICAgICAgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0LXNlY29uZGFyeSknXHJcbiAgICAgICAgfX1cclxuICAgICAgPlxyXG4gICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1wbHVzIG1yLTJcIj48L2k+XHJcbiAgICAgICAgQWRkIHtwbGFjZWhvbGRlciB8fCAnUGFpcid9XHJcbiAgICAgIDwvYnV0dG9uPlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT0gQ3JlZGVudGlhbCBQaWNrZXIgQ29tcG9uZW50ID09PT09PT09PT09PT09PT09PT09XHJcblxyXG5pbnRlcmZhY2UgTG9jYWxDcmVkZW50aWFsUGlja2VyUHJvcHMge1xyXG4gIHZhbHVlOiBzdHJpbmcgfCBudW1iZXI7XHJcbiAgb25DaGFuZ2U6ICh2YWx1ZTogbnVtYmVyKSA9PiB2b2lkO1xyXG4gIGZpbHRlcj86IHtcclxuICAgIHNlcnZpY2VfdHlwZT86IHN0cmluZztcclxuICAgIGF1dGhfdHlwZT86IHN0cmluZztcclxuICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBMb2NhbENyZWRlbnRpYWxQaWNrZXIoeyB2YWx1ZSwgb25DaGFuZ2UsIGZpbHRlciB9OiBMb2NhbENyZWRlbnRpYWxQaWNrZXJQcm9wcykge1xyXG4gIGNvbnN0IFtjcmVkZW50aWFscywgc2V0Q3JlZGVudGlhbHNdID0gdXNlU3RhdGU8QXJyYXk8e1xyXG4gICAgaWQ6IG51bWJlcjtcclxuICAgIG5hbWU6IHN0cmluZztcclxuICAgIHNlcnZpY2VfdHlwZTogc3RyaW5nO1xyXG4gICAgYXV0aF90eXBlOiBzdHJpbmc7XHJcbiAgfT4+KFtdKTtcclxuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIC8vIEZldGNoIGNyZWRlbnRpYWxzIGZyb20gYmFja2VuZFxyXG4gICAgZmV0Y2goYCR7Z2V0QXBpQmFzZVVybCgpfS9hcGkvdjEvY3JlZGVudGlhbHNgLCB7XHJcbiAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZSdcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKHJlcyA9PiByZXMuanNvbigpKVxyXG4gICAgICAudGhlbihkYXRhID0+IHtcclxuICAgICAgICBsZXQgY3JlZHMgPSBkYXRhLmNyZWRlbnRpYWxzIHx8IFtdO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEZpbHRlciBieSBzZXJ2aWNlX3R5cGUgb3IgYXV0aF90eXBlIGlmIHNwZWNpZmllZFxyXG4gICAgICAgIGlmIChmaWx0ZXIpIHtcclxuICAgICAgICAgIGlmIChmaWx0ZXIuc2VydmljZV90eXBlKSB7XHJcbiAgICAgICAgICAgIGNyZWRzID0gY3JlZHMuZmlsdGVyKChjOiBhbnkpID0+IGMuc2VydmljZV90eXBlID09PSBmaWx0ZXIuc2VydmljZV90eXBlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChmaWx0ZXIuYXV0aF90eXBlKSB7XHJcbiAgICAgICAgICAgIGNyZWRzID0gY3JlZHMuZmlsdGVyKChjOiBhbnkpID0+IGMuYXV0aF90eXBlID09PSBmaWx0ZXIuYXV0aF90eXBlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgc2V0Q3JlZGVudGlhbHMoY3JlZHMpO1xyXG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggY3JlZGVudGlhbHM6JywgZXJyKTtcclxuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgfSk7XHJcbiAgfSwgW2ZpbHRlcl0pO1xyXG5cclxuICBpZiAobG9hZGluZykge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtXCIgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0LXNlY29uZGFyeSknIH19PlxyXG4gICAgICAgIExvYWRpbmcgY3JlZGVudGlhbHMuLi5cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XHJcbiAgICAgIDxzZWxlY3RcclxuICAgICAgICB2YWx1ZT17dmFsdWUgfHwgJyd9XHJcbiAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBvbkNoYW5nZShwYXJzZUludChlLnRhcmdldC52YWx1ZSkpfVxyXG4gICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0zIHB5LTIgYm9yZGVyIHJvdW5kZWQgdGV4dC1zbSBmb2N1czpvdXRsaW5lLW5vbmVcIlxyXG4gICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kOiAndmFyKC0tdGhlbWUtc3VyZmFjZS12YXJpYW50KScsXHJcbiAgICAgICAgICBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQpJyxcclxuICAgICAgICAgIGJvcmRlckNvbG9yOiAndmFyKC0tdGhlbWUtYm9yZGVyKScsXHJcbiAgICAgICAgfX1cclxuICAgICAgICBvbkZvY3VzPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJvcmRlckNvbG9yID0gJ3ZhcigtLXRoZW1lLXByaW1hcnkpJ31cclxuICAgICAgICBvbkJsdXI9eyhlKSA9PiBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYm9yZGVyQ29sb3IgPSAndmFyKC0tdGhlbWUtYm9yZGVyKSd9XHJcbiAgICAgID5cclxuICAgICAgICA8b3B0aW9uIHZhbHVlPVwiXCI+U2VsZWN0IGNyZWRlbnRpYWwuLi48L29wdGlvbj5cclxuICAgICAgICB7Y3JlZGVudGlhbHMubWFwKChjcmVkKSA9PiAoXHJcbiAgICAgICAgICA8b3B0aW9uIGtleT17Y3JlZC5pZH0gdmFsdWU9e2NyZWQuaWR9PlxyXG4gICAgICAgICAgICB7Y3JlZC5uYW1lfSAoe2NyZWQuc2VydmljZV90eXBlfSlcclxuICAgICAgICAgIDwvb3B0aW9uPlxyXG4gICAgICAgICkpfVxyXG4gICAgICA8L3NlbGVjdD5cclxuICAgICAgXHJcbiAgICAgIHtjcmVkZW50aWFscy5sZW5ndGggPT09IDAgJiYgKFxyXG4gICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHNcIiBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQtbXV0ZWQpJyB9fT5cclxuICAgICAgICAgIE5vIGNyZWRlbnRpYWxzIGZvdW5kLiBDcmVhdGUgb25lIGluIFNldHRpbmdzIOKGkiBDcmVkZW50aWFscy5cclxuICAgICAgICA8L3A+XHJcbiAgICAgICl9XHJcbiAgICAgIFxyXG4gICAgICA8YnV0dG9uXHJcbiAgICAgICAgb25DbGljaz17KCkgPT4gd2luZG93Lm9wZW4oJy9jcmVkZW50aWFscycsICdfYmxhbmsnKX1cclxuICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXhzIGhvdmVyOnVuZGVybGluZVwiXHJcbiAgICAgICAgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS1wcmltYXJ5KScgfX1cclxuICAgICAgPlxyXG4gICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1wbHVzIG1yLTFcIj48L2k+XHJcbiAgICAgICAgQ3JlYXRlIG5ldyBjcmVkZW50aWFsXHJcbiAgICAgIDwvYnV0dG9uPlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT0gUHJvdmlkZXIgJiBNb2RlbCBTZWxlY3QgQ29tcG9uZW50cyA9PT09PT09PT09PT09PT09PT09PVxyXG5cclxuaW50ZXJmYWNlIFByb3ZpZGVyU2VsZWN0UHJvcHMge1xyXG4gIHZhbHVlOiBzdHJpbmc7XHJcbiAgb25DaGFuZ2U6ICh2YWx1ZTogc3RyaW5nKSA9PiB2b2lkO1xyXG4gIHBsYWNlaG9sZGVyPzogc3RyaW5nO1xyXG59XHJcblxyXG5mdW5jdGlvbiBQcm92aWRlclNlbGVjdCh7IHZhbHVlLCBvbkNoYW5nZSwgcGxhY2Vob2xkZXIgfTogUHJvdmlkZXJTZWxlY3RQcm9wcykge1xyXG4gIGNvbnN0IFtwcm92aWRlcnMsIHNldFByb3ZpZGVyc10gPSB1c2VTdGF0ZTxBcnJheTx7IFxyXG4gICAgbmFtZTogc3RyaW5nOyBcclxuICAgIHByb3ZpZGVyX3R5cGU6IHN0cmluZztcclxuICAgIGRpc3BsYXlfbmFtZTogc3RyaW5nOyBcclxuICAgIGVuYWJsZWQ6IGJvb2xlYW4gXHJcbiAgfT4+KFtdKTtcclxuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIC8vIEZldGNoIGVuYWJsZWQgcHJvdmlkZXJzIGZyb20gYmFja2VuZFxyXG4gICAgZmV0Y2goYCR7Z2V0QXBpQmFzZVVybCgpfS9hcGkvdjEvYWkvcHJvdmlkZXJzYClcclxuICAgICAgLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXHJcbiAgICAgIC50aGVuKGRhdGEgPT4ge1xyXG4gICAgICAgIC8vIEZpbHRlciB0byBvbmx5IGVuYWJsZWQgcHJvdmlkZXJzIGFuZCBjb252ZXJ0IHRvIGFycmF5XHJcbiAgICAgICAgY29uc3QgZW5hYmxlZFByb3ZpZGVycyA9IGRhdGEucHJvdmlkZXJzIFxyXG4gICAgICAgICAgPyBPYmplY3QudmFsdWVzKGRhdGEucHJvdmlkZXJzKS5maWx0ZXIoKHA6IGFueSkgPT4gcC5lbmFibGVkKSBhcyBBcnJheTx7IFxyXG4gICAgICAgICAgICAgIG5hbWU6IHN0cmluZzsgXHJcbiAgICAgICAgICAgICAgcHJvdmlkZXJfdHlwZTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgIGRpc3BsYXlfbmFtZTogc3RyaW5nOyBcclxuICAgICAgICAgICAgICBlbmFibGVkOiBib29sZWFuIFxyXG4gICAgICAgICAgICB9PlxyXG4gICAgICAgICAgOiBbXTtcclxuICAgICAgICBzZXRQcm92aWRlcnMoZW5hYmxlZFByb3ZpZGVycyk7XHJcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBwcm92aWRlcnM6JywgZXJyKTtcclxuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgfSk7XHJcbiAgfSwgW10pO1xyXG5cclxuICBpZiAobG9hZGluZykge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtXCIgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0LXNlY29uZGFyeSknIH19PlxyXG4gICAgICAgIExvYWRpbmcgcHJvdmlkZXJzLi4uXHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8c2VsZWN0XHJcbiAgICAgIHZhbHVlPXt2YWx1ZX1cclxuICAgICAgb25DaGFuZ2U9eyhlKSA9PiBvbkNoYW5nZShlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0zIHB5LTIgYm9yZGVyIHJvdW5kZWQgdGV4dC1zbSBmb2N1czpvdXRsaW5lLW5vbmVcIlxyXG4gICAgICBzdHlsZT17e1xyXG4gICAgICAgIGJhY2tncm91bmQ6ICd2YXIoLS10aGVtZS1zdXJmYWNlLXZhcmlhbnQpJyxcclxuICAgICAgICBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQpJyxcclxuICAgICAgICBib3JkZXJDb2xvcjogJ3ZhcigtLXRoZW1lLWJvcmRlciknLFxyXG4gICAgICB9fVxyXG4gICAgICBvbkZvY3VzPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJvcmRlckNvbG9yID0gJ3ZhcigtLXRoZW1lLXByaW1hcnkpJ31cclxuICAgICAgb25CbHVyPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJvcmRlckNvbG9yID0gJ3ZhcigtLXRoZW1lLWJvcmRlciknfVxyXG4gICAgPlxyXG4gICAgICA8b3B0aW9uIHZhbHVlPVwiXCI+e3BsYWNlaG9sZGVyIHx8ICdEZWZhdWx0IGZyb20gc2V0dGluZ3MnfTwvb3B0aW9uPlxyXG4gICAgICB7cHJvdmlkZXJzLm1hcCgocCkgPT4gKFxyXG4gICAgICAgIDxvcHRpb24ga2V5PXtwLnByb3ZpZGVyX3R5cGV9IHZhbHVlPXtwLnByb3ZpZGVyX3R5cGV9PlxyXG4gICAgICAgICAge3AuZGlzcGxheV9uYW1lfVxyXG4gICAgICAgIDwvb3B0aW9uPlxyXG4gICAgICApKX1cclxuICAgIDwvc2VsZWN0PlxyXG4gICk7XHJcbn1cclxuXHJcbmludGVyZmFjZSBNb2RlbFNlbGVjdFByb3BzIHtcclxuICBwcm92aWRlcjogc3RyaW5nIHwgbnVsbDtcclxuICB2YWx1ZTogc3RyaW5nO1xyXG4gIG9uQ2hhbmdlOiAodmFsdWU6IHN0cmluZykgPT4gdm9pZDtcclxuICBwbGFjZWhvbGRlcj86IHN0cmluZztcclxufVxyXG5cclxuZnVuY3Rpb24gTW9kZWxTZWxlY3QoeyBwcm92aWRlciwgdmFsdWUsIG9uQ2hhbmdlLCBwbGFjZWhvbGRlciB9OiBNb2RlbFNlbGVjdFByb3BzKSB7XHJcbiAgY29uc3QgW21vZGVscywgc2V0TW9kZWxzXSA9IHVzZVN0YXRlPHN0cmluZ1tdPihbXSk7XHJcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKCFwcm92aWRlcikge1xyXG4gICAgICBzZXRNb2RlbHMoW10pO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgc2V0TG9hZGluZyh0cnVlKTtcclxuICAgIC8vIEZldGNoIGF2YWlsYWJsZSBtb2RlbHMgZm9yIHNlbGVjdGVkIHByb3ZpZGVyXHJcbiAgICBmZXRjaChgJHtnZXRBcGlCYXNlVXJsKCl9L2FwaS92MS9haS9wcm92aWRlcnMvJHtwcm92aWRlcn0vbW9kZWxzYClcclxuICAgICAgLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXHJcbiAgICAgIC50aGVuKGRhdGEgPT4ge1xyXG4gICAgICAgIC8vIEV4dHJhY3QgbW9kZWwgSURzIGZyb20gdGhlIHJlc3BvbnNlXHJcbiAgICAgICAgY29uc3QgbW9kZWxMaXN0ID0gZGF0YS5tb2RlbHM/Lm1hcCgobTogYW55KSA9PiBtLmlkIHx8IG0pIHx8IFtdO1xyXG4gICAgICAgIHNldE1vZGVscyhtb2RlbExpc3QpO1xyXG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggbW9kZWxzIGZvciAke3Byb3ZpZGVyfTpgLCBlcnIpO1xyXG4gICAgICAgIHNldE1vZGVscyhbXSk7XHJcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICAgIH0pO1xyXG4gIH0sIFtwcm92aWRlcl0pO1xyXG5cclxuICBpZiAoIXByb3ZpZGVyKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc21cIiBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQtc2Vjb25kYXJ5KScgfX0+XHJcbiAgICAgICAgU2VsZWN0IGEgcHJvdmlkZXIgZmlyc3RcclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgaWYgKGxvYWRpbmcpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbVwiIHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dC1zZWNvbmRhcnkpJyB9fT5cclxuICAgICAgICBMb2FkaW5nIG1vZGVscy4uLlxyXG4gICAgICA8L2Rpdj5cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPHNlbGVjdFxyXG4gICAgICB2YWx1ZT17dmFsdWV9XHJcbiAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gb25DaGFuZ2UoZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciByb3VuZGVkIHRleHQtc20gZm9jdXM6b3V0bGluZS1ub25lXCJcclxuICAgICAgc3R5bGU9e3tcclxuICAgICAgICBiYWNrZ3JvdW5kOiAndmFyKC0tdGhlbWUtc3VyZmFjZS12YXJpYW50KScsXHJcbiAgICAgICAgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0KScsXHJcbiAgICAgICAgYm9yZGVyQ29sb3I6ICd2YXIoLS10aGVtZS1ib3JkZXIpJyxcclxuICAgICAgfX1cclxuICAgICAgb25Gb2N1cz17KGUpID0+IGUuY3VycmVudFRhcmdldC5zdHlsZS5ib3JkZXJDb2xvciA9ICd2YXIoLS10aGVtZS1wcmltYXJ5KSd9XHJcbiAgICAgIG9uQmx1cj17KGUpID0+IGUuY3VycmVudFRhcmdldC5zdHlsZS5ib3JkZXJDb2xvciA9ICd2YXIoLS10aGVtZS1ib3JkZXIpJ31cclxuICAgID5cclxuICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPntwbGFjZWhvbGRlciB8fCAnRGVmYXVsdCBmcm9tIHByb3ZpZGVyIHNldHRpbmdzJ308L29wdGlvbj5cclxuICAgICAge21vZGVscy5tYXAoKG0pID0+IChcclxuICAgICAgICA8b3B0aW9uIGtleT17bX0gdmFsdWU9e219PlxyXG4gICAgICAgICAge219XHJcbiAgICAgICAgPC9vcHRpb24+XHJcbiAgICAgICkpfVxyXG4gICAgPC9zZWxlY3Q+XHJcbiAgKTtcclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5pbnRlcmZhY2UgQ29uZmlnRmllbGQge1xyXG4gIHR5cGU6ICdzdHJpbmcnIHwgJ2ludGVnZXInIHwgJ2Zsb2F0JyB8ICdib29sZWFuJyB8ICdzZWxlY3QnIHwgJ2ZpbGVfcGlja2VyJyB8ICdrZXl2YWx1ZScgfCAnY3JlZGVudGlhbCcgfCAnb2JqZWN0JztcclxuICBsYWJlbDogc3RyaW5nO1xyXG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xyXG4gIHJlcXVpcmVkPzogYm9vbGVhbjtcclxuICBkZWZhdWx0PzogYW55O1xyXG4gIHdpZGdldD86ICd0ZXh0JyB8ICd0ZXh0YXJlYScgfCAnbnVtYmVyJyB8ICdjaGVja2JveCcgfCAnc2VsZWN0JyB8ICdjb2xvcicgfCAnZGF0ZScgfCAncGFzc3dvcmQnIHwgJ3Byb3ZpZGVyX3NlbGVjdCcgfCAnbW9kZWxfc2VsZWN0JyB8ICdzbGlkZXInIHwgJ2ZpbGVfcGlja2VyJyB8ICdrZXl2YWx1ZScgfCAnY3JlZGVudGlhbCcgfCAnaHVnZ2luZ2ZhY2VfbW9kZWxfYnJvd3NlcicgfCAnaGlkZGVuJztcclxuICBtaW4/OiBudW1iZXI7XHJcbiAgbWF4PzogbnVtYmVyO1xyXG4gIHN0ZXA/OiBudW1iZXI7XHJcbiAgcGxhY2Vob2xkZXI/OiBzdHJpbmc7XHJcbiAgb3B0aW9ucz86IEFycmF5PHsgdmFsdWU6IGFueTsgbGFiZWw6IHN0cmluZyB9PjtcclxuICBkZXBlbmRzX29uPzogc3RyaW5nOyAgLy8gRm9yIGR5bmFtaWMgZmllbGRzIHRoYXQgZGVwZW5kIG9uIG90aGVyIGZpZWxkcyAoZS5nLiwgbW9kZWwgZGVwZW5kcyBvbiBwcm92aWRlcilcclxuICBzaG93X2lmPzogUmVjb3JkPHN0cmluZywgYW55PjsgIC8vIENvbmRpdGlvbmFsIHZpc2liaWxpdHkgYmFzZWQgb24gb3RoZXIgZmllbGQgdmFsdWVzXHJcbiAgdmlzaWJsZV93aGVuPzogUmVjb3JkPHN0cmluZywgYW55PjsgIC8vIEFsdGVybmF0aXZlIHRvIHNob3dfaWYgKHNhbWUgYmVoYXZpb3IpXHJcbiAgZ3JvdXA/OiBzdHJpbmc7ICAvLyBGb3IgZ3JvdXBpbmcgcmVsYXRlZCBmaWVsZHNcclxuICBhbGxvd190ZW1wbGF0ZT86IGJvb2xlYW47ICAvLyBFeHBsaWNpdGx5IGVuYWJsZS9kaXNhYmxlIHZhcmlhYmxlL3RlbXBsYXRlIHN1cHBvcnQgKG92ZXJyaWRlcyBhdXRvLWRldGVjdGlvbilcclxuICAvLyBGaWxlIHBpY2tlciBzcGVjaWZpYyBmaWVsZHNcclxuICBhY2NlcHQ/OiBzdHJpbmc7XHJcbiAgbWF4X3NpemVfbWI/OiBudW1iZXI7XHJcbiAgZmlsZV9jYXRlZ29yeT86IHN0cmluZztcclxuICAvLyBDcmVkZW50aWFsIHBpY2tlciBzcGVjaWZpYyBmaWVsZHNcclxuICBmaWx0ZXI/OiB7XHJcbiAgICBzZXJ2aWNlX3R5cGU/OiBzdHJpbmc7XHJcbiAgICBhdXRoX3R5cGU/OiBzdHJpbmc7XHJcbiAgfTtcclxuICAvLyBDcmVkZW50aWFsIHBpY2tlciBzcGVjaWZpYyBmaWVsZHNcclxuICBjcmVkZW50aWFsX3R5cGVzPzogc3RyaW5nW107ICAvLyBXaGljaCBjcmVkZW50aWFsIHR5cGVzIHRvIHNob3cgKGUuZy4sIFsnYXBpX2tleScsICdiZWFyZXJfdG9rZW4nXSlcclxufVxyXG5cclxuaW50ZXJmYWNlIENvbmZpZ1NjaGVtYSB7XHJcbiAgW2tleTogc3RyaW5nXTogQ29uZmlnRmllbGQ7XHJcbn1cclxuXHJcbmludGVyZmFjZSBXb3JrZmxvd05vZGUge1xyXG4gIG5vZGVfaWQ6IHN0cmluZzsgIC8vIENoYW5nZWQgZnJvbSAnaWQnIHRvIG1hdGNoIGJhY2tlbmQgZm9ybWF0XHJcbiAgbm9kZV90eXBlOiBzdHJpbmc7IC8vIENoYW5nZWQgZnJvbSAndHlwZScgdG8gbWF0Y2ggYmFja2VuZCBmb3JtYXRcclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgY2F0ZWdvcnk6IHN0cmluZztcclxuICBjb25maWc6IHsgW2tleTogc3RyaW5nXTogYW55IH07XHJcbiAgc2hhcmVfb3V0cHV0X3RvX3ZhcmlhYmxlcz86IGJvb2xlYW47IC8vIFNoYXJlZCBzcGFjZSBmZWF0dXJlXHJcbiAgdmFyaWFibGVfbmFtZT86IHN0cmluZzsgLy8gQ3VzdG9tIHZhcmlhYmxlIG5hbWUgZm9yIHNoYXJlZCBzcGFjZVxyXG4gIHN0YXR1cz86IHN0cmluZzsgLy8gTm9kZSBleGVjdXRpb24gc3RhdHVzXHJcbiAgaW5wdXRzPzogQXJyYXk8eyBpZDogc3RyaW5nOyBsYWJlbDogc3RyaW5nOyB0eXBlOiBzdHJpbmc7IHJlcXVpcmVkPzogYm9vbGVhbiB9PjtcclxuICBvdXRwdXRzPzogQXJyYXk8eyBpZDogc3RyaW5nOyBsYWJlbDogc3RyaW5nOyB0eXBlOiBzdHJpbmcgfT47XHJcbn1cclxuXHJcbmludGVyZmFjZSBOb2RlRGVmaW5pdGlvbiB7XHJcbiAgbm9kZV90eXBlOiBzdHJpbmc7XHJcbiAgZGlzcGxheV9uYW1lOiBzdHJpbmc7XHJcbiAgZGVzY3JpcHRpb246IHN0cmluZztcclxuICBjYXRlZ29yeTogc3RyaW5nO1xyXG4gIGljb24/OiBzdHJpbmc7XHJcbiAgY29uZmlnX3NjaGVtYTogQ29uZmlnU2NoZW1hO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgQ29uZmlnUGFuZWxQcm9wcyB7XHJcbiAgc2VsZWN0ZWROb2RlOiBXb3JrZmxvd05vZGUgfCBudWxsO1xyXG4gIG5vZGVEZWZpbml0aW9uOiBOb2RlRGVmaW5pdGlvbiB8IG51bGw7XHJcbiAgb25Db25maWdVcGRhdGU6IChub2RlSWQ6IHN0cmluZywgbmV3Q29uZmlnOiB7IFtrZXk6IHN0cmluZ106IGFueSB9KSA9PiB2b2lkO1xyXG4gIG9uTm9kZVVwZGF0ZTogKG5vZGVJZDogc3RyaW5nLCB1cGRhdGVzOiBQYXJ0aWFsPFdvcmtmbG93Tm9kZT4pID0+IHZvaWQ7IC8vIEZvciB1cGRhdGluZyBub2RlLWxldmVsIGZpZWxkc1xyXG4gIG9uQ2xvc2U6ICgpID0+IHZvaWQ7XHJcbiAgLy8gV29ya2Zsb3cgZGF0YSBmb3IgdmFyaWFibGUgZGV0ZWN0aW9uXHJcbiAgd29ya2Zsb3dOb2Rlcz86IFdvcmtmbG93Tm9kZVtdO1xyXG4gIHdvcmtmbG93Q29ubmVjdGlvbnM/OiBBcnJheTx7IHNvdXJjZV9ub2RlX2lkOiBzdHJpbmc7IHRhcmdldF9ub2RlX2lkOiBzdHJpbmcgfT47XHJcbiAgbm9kZURlZmluaXRpb25zPzogYW55W107XHJcbiAgbm9kZUV4ZWN1dGlvbkRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+OyAvLyBBZGQgZXhlY3V0aW9uIGRhdGFcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIENvbmZpZ1BhbmVsKHtcclxuICBzZWxlY3RlZE5vZGUsXHJcbiAgbm9kZURlZmluaXRpb24sXHJcbiAgb25Db25maWdVcGRhdGUsXHJcbiAgb25Ob2RlVXBkYXRlLFxyXG4gIG9uQ2xvc2UsXHJcbiAgd29ya2Zsb3dOb2RlcyA9IFtdLFxyXG4gIHdvcmtmbG93Q29ubmVjdGlvbnMgPSBbXSxcclxuICBub2RlRGVmaW5pdGlvbnMgPSBbXSxcclxuICBub2RlRXhlY3V0aW9uRGF0YSA9IHt9LFxyXG59OiBDb25maWdQYW5lbFByb3BzKSB7XHJcbiAgY29uc3QgW2NvbmZpZ1ZhbHVlcywgc2V0Q29uZmlnVmFsdWVzXSA9IHVzZVN0YXRlPHsgW2tleTogc3RyaW5nXTogYW55IH0+KHt9KTtcclxuICBjb25zdCBbc2hhcmVPdXRwdXRzLCBzZXRTaGFyZU91dHB1dHNdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFt2YXJpYWJsZU5hbWUsIHNldFZhcmlhYmxlTmFtZV0gPSB1c2VTdGF0ZSgnJyk7XHJcbiAgY29uc3QgW2hhc0NoYW5nZXMsIHNldEhhc0NoYW5nZXNdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFthY3RpdmVUYWIsIHNldEFjdGl2ZVRhYl0gPSB1c2VTdGF0ZTwnY29uZmlnJyB8ICdvdXRwdXQnIHwgJ2luZm8nPignY29uZmlnJyk7XHJcbiAgY29uc3QgW291dHB1dFZpZXdNb2RlLCBzZXRPdXRwdXRWaWV3TW9kZV0gPSB1c2VTdGF0ZTwnZm9ybWF0dGVkJyB8ICdqc29uJz4oJ2Zvcm1hdHRlZCcpOyAvLyBWaWV3IG1vZGUgZm9yIG91dHB1dCB0YWJcclxuICBjb25zdCBbaXNTYXZpbmcsIHNldElzU2F2aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTsgLy8gVHJhY2sgYXV0by1zYXZlIHN0YXR1c1xyXG4gIGNvbnN0IGF1dG9TYXZlVGltZXJSZWYgPSB1c2VSZWY8Tm9kZUpTLlRpbWVvdXQgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBsYXN0U2F2ZWROb2RlSWRSZWYgPSB1c2VSZWY8c3RyaW5nIHwgbnVsbD4obnVsbCk7IC8vIFRyYWNrIHdoaWNoIG5vZGUgd2UncmUgZWRpdGluZ1xyXG4gIFxyXG4gIC8vIER5bmFtaWMgSHVnZ2luZ0ZhY2UgdGFzay1zcGVjaWZpYyBjb25maWdcclxuICBjb25zdCBbZHluYW1pY1Rhc2tDb25maWcsIHNldER5bmFtaWNUYXNrQ29uZmlnXSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIGFueT4gfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbbG9hZGluZ1Rhc2tDb25maWcsIHNldExvYWRpbmdUYXNrQ29uZmlnXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBcclxuICAvLyBNb2RhbCBzdGF0ZSBmb3IgZnVsbC1zY3JlZW4gbWVkaWEgdmlld2VyXHJcbiAgY29uc3QgW2lzTW9kYWxPcGVuLCBzZXRJc01vZGFsT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW21vZGFsTWVkaWEsIHNldE1vZGFsTWVkaWFdID0gdXNlU3RhdGU8TWVkaWFGb3JtYXQgfCBNZWRpYUZvcm1hdFtdIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW21vZGFsTW9kZSwgc2V0TW9kYWxNb2RlXSA9IHVzZVN0YXRlPCd2aWV3JyB8ICdlZGl0Jz4oJ3ZpZXcnKTtcclxuICBjb25zdCBbbW9kYWxJbmRleCwgc2V0TW9kYWxJbmRleF0gPSB1c2VTdGF0ZSgwKTtcclxuICBcclxuXHJcbiAgXHJcbiAgLy8gSGFuZGxlcnMgZm9yIG9wZW5pbmcgbW9kYWxcclxuICBjb25zdCBoYW5kbGVNZWRpYUNsaWNrID0gKG1lZGlhOiBNZWRpYUZvcm1hdCB8IE1lZGlhRm9ybWF0W10sIG1vZGU6ICd2aWV3JyB8ICdlZGl0JywgaW5kZXggPSAwKSA9PiB7XHJcbiAgICBzZXRNb2RhbE1lZGlhKG1lZGlhKTtcclxuICAgIHNldE1vZGFsTW9kZShtb2RlKTtcclxuICAgIHNldE1vZGFsSW5kZXgoaW5kZXgpO1xyXG4gICAgc2V0SXNNb2RhbE9wZW4odHJ1ZSk7XHJcbiAgfTtcclxuICBcclxuICBjb25zdCBoYW5kbGVNb2RhbFNhdmUgPSAoYW5ub3RhdGlvbnM6IEFubm90YXRpb25EYXRhW10pID0+IHtcclxuICAgIC8vIFRPRE86IFNhdmUgYW5ub3RhdGlvbnMgdG8gbm9kZSBjb25maWdcclxuICAgIC8vIEZvciBub3csIGp1c3QgY2xvc2UgbW9kYWxcclxuICAgIHNldElzTW9kYWxPcGVuKGZhbHNlKTtcclxuICB9O1xyXG4gIFxyXG4gIC8vIEdldCBhdmFpbGFibGUgdmFyaWFibGVzIGZvciB0aGlzIG5vZGVcclxuICBjb25zdCBhdmFpbGFibGVWYXJpYWJsZXMgPSBzZWxlY3RlZE5vZGVcclxuICAgID8gZ2V0QXZhaWxhYmxlVmFyaWFibGVzKHdvcmtmbG93Tm9kZXMsIHdvcmtmbG93Q29ubmVjdGlvbnMsIHNlbGVjdGVkTm9kZS5ub2RlX2lkLCBub2RlRGVmaW5pdGlvbnMpXHJcbiAgICA6IFtdO1xyXG4gIFxyXG4gIC8vIExvYWQgZHluYW1pYyB0YXNrLXNwZWNpZmljIGNvbmZpZyBmb3IgSHVnZ2luZ0ZhY2Ugbm9kZXNcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgbG9hZER5bmFtaWNUYXNrQ29uZmlnID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBPbmx5IGZvciBIdWdnaW5nRmFjZSBub2RlcyAobm9kZV90eXBlOiBodWdnaW5nZmFjZV9pbmZlcmVuY2UpXHJcbiAgICAgIGlmIChzZWxlY3RlZE5vZGU/Lm5vZGVfdHlwZSAhPT0gJ2h1Z2dpbmdmYWNlX2luZmVyZW5jZScpIHtcclxuICAgICAgICBzZXREeW5hbWljVGFza0NvbmZpZyhudWxsKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGNvbnN0IG1hcmtldHBsYWNlID0gY29uZmlnVmFsdWVzLmh1Z2dpbmdmYWNlX21hcmtldHBsYWNlO1xyXG4gICAgICBjb25zdCB0YXNrID0gbWFya2V0cGxhY2U/LnRhc2s7XHJcbiAgICBcclxuICAgICAgXHJcbiAgICAgIGlmICghdGFzaykge1xyXG4gICAgICAgIHNldER5bmFtaWNUYXNrQ29uZmlnKG51bGwpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgc2V0TG9hZGluZ1Rhc2tDb25maWcodHJ1ZSk7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgeyBnZXRUYXNrQ29uZmlnU2NoZW1hIH0gPSBhd2FpdCBpbXBvcnQoJ0AvbGliL2h1Z2dpbmdmYWNlLWFwaScpO1xyXG4gICAgICAgIGNvbnN0IHRhc2tDb25maWcgPSBhd2FpdCBnZXRUYXNrQ29uZmlnU2NoZW1hKHRhc2spO1xyXG4gICAgICAgIHNldER5bmFtaWNUYXNrQ29uZmlnKHRhc2tDb25maWcucGFyYW1ldGVycyk7XHJcbiAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIHNldER5bmFtaWNUYXNrQ29uZmlnKG51bGwpO1xyXG4gICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgIHNldExvYWRpbmdUYXNrQ29uZmlnKGZhbHNlKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgbG9hZER5bmFtaWNUYXNrQ29uZmlnKCk7XHJcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xyXG4gIH0sIFtzZWxlY3RlZE5vZGU/Lm5vZGVfdHlwZSwgSlNPTi5zdHJpbmdpZnkoY29uZmlnVmFsdWVzLmh1Z2dpbmdmYWNlX21hcmtldHBsYWNlKV0pO1xyXG4gIFxyXG4gIC8vIERlYnVnIGxvZ2dpbmdcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKHNlbGVjdGVkTm9kZSkge1xyXG4gICAgICAvLyBEaXNhYmxlZCBkZWJ1ZyBsb2dzXHJcbiAgICB9XHJcbiAgfSwgW3NlbGVjdGVkTm9kZSwgYXZhaWxhYmxlVmFyaWFibGVzXSk7XHJcblxyXG4gIC8vIEluaXRpYWxpemUgY29uZmlnIHZhbHVlcyB3aGVuIG5vZGUgaXMgc2VsZWN0ZWQgKGJ1dCBub3Qgd2hlbiBjb25maWcgdXBkYXRlcyBmcm9tIHBhcmVudClcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKHNlbGVjdGVkTm9kZSAmJiBub2RlRGVmaW5pdGlvbikge1xyXG4gICAgICBjb25zdCBjdXJyZW50Tm9kZUlkID0gc2VsZWN0ZWROb2RlLm5vZGVfaWQ7XHJcbiAgICAgIFxyXG4gICAgICAvLyBPbmx5IHJlaW5pdGlhbGl6ZSBpZiBzd2l0Y2hpbmcgdG8gYSBkaWZmZXJlbnQgbm9kZVxyXG4gICAgICBpZiAobGFzdFNhdmVkTm9kZUlkUmVmLmN1cnJlbnQgIT09IGN1cnJlbnROb2RlSWQpIHtcclxuICAgICAgICBsYXN0U2F2ZWROb2RlSWRSZWYuY3VycmVudCA9IGN1cnJlbnROb2RlSWQ7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gTWVyZ2UgZGVmYXVsdCB2YWx1ZXMgd2l0aCBjdXJyZW50IGNvbmZpZ1xyXG4gICAgICAgIGNvbnN0IGluaXRpYWxDb25maWc6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPSB7fTtcclxuICAgICAgICBjb25zdCBzY2hlbWEgPSBub2RlRGVmaW5pdGlvbi5jb25maWdfc2NoZW1hIHx8IHt9O1xyXG4gICAgICAgIFxyXG4gICAgICAgIE9iamVjdC5rZXlzKHNjaGVtYSkuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgZmllbGQgPSBzY2hlbWFba2V5XTtcclxuICAgICAgICAgIGluaXRpYWxDb25maWdba2V5XSA9IHNlbGVjdGVkTm9kZS5jb25maWdba2V5XSA/PyBmaWVsZC5kZWZhdWx0ID8/IGdldERlZmF1bHRWYWx1ZUZvclR5cGUoZmllbGQudHlwZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgc2V0Q29uZmlnVmFsdWVzKGluaXRpYWxDb25maWcpO1xyXG4gICAgICAgIHNldFNoYXJlT3V0cHV0cyhzZWxlY3RlZE5vZGUuc2hhcmVfb3V0cHV0X3RvX3ZhcmlhYmxlcyA/PyBmYWxzZSk7XHJcbiAgICAgICAgc2V0VmFyaWFibGVOYW1lKHNlbGVjdGVkTm9kZS52YXJpYWJsZV9uYW1lID8/ICcnKTtcclxuICAgICAgICBzZXRIYXNDaGFuZ2VzKGZhbHNlKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gUmVzZXQgd2hlbiBubyBub2RlIGlzIHNlbGVjdGVkXHJcbiAgICAgIGxhc3RTYXZlZE5vZGVJZFJlZi5jdXJyZW50ID0gbnVsbDtcclxuICAgIH1cclxuICB9LCBbc2VsZWN0ZWROb2RlLCBub2RlRGVmaW5pdGlvbl0pO1xyXG5cclxuICBjb25zdCBnZXREZWZhdWx0VmFsdWVGb3JUeXBlID0gKHR5cGU6IHN0cmluZyk6IGFueSA9PiB7XHJcbiAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgY2FzZSAnYm9vbGVhbic6IHJldHVybiBmYWxzZTtcclxuICAgICAgY2FzZSAnaW50ZWdlcic6XHJcbiAgICAgIGNhc2UgJ2Zsb2F0JzogcmV0dXJuIDA7XHJcbiAgICAgIGNhc2UgJ3N0cmluZyc6IHJldHVybiAnJztcclxuICAgICAgZGVmYXVsdDogcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gQXV0by1zYXZlIGZ1bmN0aW9uYWxpdHkgd2l0aCBkZWJvdW5jaW5nXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIC8vIE9ubHkgYXV0by1zYXZlIGlmIHRoZXJlIGFyZSBjaGFuZ2VzIGFuZCB3ZSBoYXZlIGEgdmFsaWQgbm9kZVxyXG4gICAgaWYgKCFoYXNDaGFuZ2VzIHx8ICFzZWxlY3RlZE5vZGU/Lm5vZGVfaWQpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENsZWFyIGFueSBleGlzdGluZyB0aW1lclxyXG4gICAgaWYgKGF1dG9TYXZlVGltZXJSZWYuY3VycmVudCkge1xyXG4gICAgICBjbGVhclRpbWVvdXQoYXV0b1NhdmVUaW1lclJlZi5jdXJyZW50KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDYXB0dXJlIGN1cnJlbnQgdmFsdWVzIGZvciB0aGUgY2xvc3VyZVxyXG4gICAgY29uc3Qgbm9kZUlkVG9TYXZlID0gc2VsZWN0ZWROb2RlLm5vZGVfaWQ7XHJcbiAgICBjb25zdCBjb25maWdUb1NhdmUgPSBjb25maWdWYWx1ZXM7XHJcbiAgICBjb25zdCBzaGFyZU91dHB1dHNUb1NhdmUgPSBzaGFyZU91dHB1dHM7XHJcbiAgICBjb25zdCB2YXJpYWJsZU5hbWVUb1NhdmUgPSB2YXJpYWJsZU5hbWU7XHJcblxyXG4gICAgLy8gU2V0IHVwIGEgbmV3IHRpbWVyIHRvIGF1dG8tc2F2ZSBhZnRlciA1MDBtcyBvZiBpbmFjdGl2aXR5XHJcbiAgICBhdXRvU2F2ZVRpbWVyUmVmLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgc2V0SXNTYXZpbmcodHJ1ZSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBVc2UgdGhlIGNhcHR1cmVkIHZhbHVlcyBmcm9tIGNsb3N1cmUgdG8gYXZvaWQgc3RhbGUgcmVmZXJlbmNlc1xyXG4gICAgICBvbkNvbmZpZ1VwZGF0ZShub2RlSWRUb1NhdmUsIGNvbmZpZ1RvU2F2ZSk7XHJcbiAgICAgIG9uTm9kZVVwZGF0ZShub2RlSWRUb1NhdmUsIHtcclxuICAgICAgICBzaGFyZV9vdXRwdXRfdG9fdmFyaWFibGVzOiBzaGFyZU91dHB1dHNUb1NhdmUsXHJcbiAgICAgICAgdmFyaWFibGVfbmFtZTogdmFyaWFibGVOYW1lVG9TYXZlIHx8IHVuZGVmaW5lZCxcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBzZXRIYXNDaGFuZ2VzKGZhbHNlKTtcclxuICAgICAgXHJcbiAgICAgIC8vIFNob3cgc2F2aW5nIGluZGljYXRvciBicmllZmx5XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0SXNTYXZpbmcoZmFsc2UpLCAzMDApO1xyXG4gICAgfSwgNTAwKTtcclxuXHJcbiAgICAvLyBDbGVhbnVwIGZ1bmN0aW9uXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBpZiAoYXV0b1NhdmVUaW1lclJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KGF1dG9TYXZlVGltZXJSZWYuY3VycmVudCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICAvLyBPbmx5IGRlcGVuZCBvbiB0aGUgYWN0dWFsIGRhdGEgdmFsdWVzLCBub3QgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uc1xyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xyXG4gIH0sIFtjb25maWdWYWx1ZXMsIHNoYXJlT3V0cHV0cywgdmFyaWFibGVOYW1lLCBoYXNDaGFuZ2VzXSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZVZhbHVlQ2hhbmdlID0gKGtleTogc3RyaW5nLCB2YWx1ZTogYW55KSA9PiB7XHJcbiAgICBzZXRDb25maWdWYWx1ZXMocHJldiA9PiAoeyAuLi5wcmV2LCBba2V5XTogdmFsdWUgfSkpO1xyXG4gICAgc2V0SGFzQ2hhbmdlcyh0cnVlKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVSZXNldCA9ICgpID0+IHtcclxuICAgIGlmIChzZWxlY3RlZE5vZGUgJiYgbm9kZURlZmluaXRpb24pIHtcclxuICAgICAgY29uc3Qgc2NoZW1hID0gbm9kZURlZmluaXRpb24uY29uZmlnX3NjaGVtYSB8fCB7fTtcclxuICAgICAgY29uc3QgcmVzZXRDb25maWc6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPSB7fTtcclxuICAgICAgXHJcbiAgICAgIE9iamVjdC5rZXlzKHNjaGVtYSkuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGZpZWxkID0gc2NoZW1hW2tleV07XHJcbiAgICAgICAgcmVzZXRDb25maWdba2V5XSA9IGZpZWxkLmRlZmF1bHQgPz8gZ2V0RGVmYXVsdFZhbHVlRm9yVHlwZShmaWVsZC50eXBlKTtcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBzZXRDb25maWdWYWx1ZXMocmVzZXRDb25maWcpO1xyXG4gICAgICBzZXRIYXNDaGFuZ2VzKHRydWUpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGlmICghc2VsZWN0ZWROb2RlIHx8ICFub2RlRGVmaW5pdGlvbikge1xyXG4gICAgLy8gRGVidWcgbG9nZ2luZ1xyXG4gICAgXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IFxyXG4gICAgICAgIGNsYXNzTmFtZT1cInctOTYgaC1mdWxsIGZsZXggZmxleC1jb2wgc2hhZG93LTJ4bFwiXHJcbiAgICAgICAgc3R5bGU9e3sgYmFja2dyb3VuZDogJ3ZhcigtLXRoZW1lLXN1cmZhY2UpJyB9fVxyXG4gICAgICA+XHJcbiAgICAgICAgey8qIEhlYWRlciB3aXRoIGNsb3NlIGJ1dHRvbiBldmVuIHdoZW4gbm8gbm9kZSAqL31cclxuICAgICAgICA8ZGl2IFxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHB4LTQgcHktMyBib3JkZXItYlwiXHJcbiAgICAgICAgICBzdHlsZT17eyBcclxuICAgICAgICAgICAgYm9yZGVyQ29sb3I6ICd2YXIoLS10aGVtZS1ib3JkZXIpJyxcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogJ3ZhcigtLXRoZW1lLXN1cmZhY2UtdmFyaWFudCknXHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgID5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cclxuICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmFzIGZhLWNvZ1wiIHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dC1zZWNvbmRhcnkpJyB9fT48L2k+XHJcbiAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGRcIiBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQpJyB9fT5Db25maWd1cmF0aW9uPC9oMj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICBvbkNsaWNrPXtvbkNsb3NlfVxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJwLTEuNSByb3VuZGVkIHRyYW5zaXRpb24tY29sb3JzXCJcclxuICAgICAgICAgICAgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0LXNlY29uZGFyeSknIH19XHJcbiAgICAgICAgICAgIG9uTW91c2VFbnRlcj17KGUpID0+IHtcclxuICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZCA9ICd2YXIoLS10aGVtZS1zdXJmYWNlLWhvdmVyKSc7XHJcbiAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmNvbG9yID0gJ3ZhcigtLXRoZW1lLXRleHQpJztcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gJ3RyYW5zcGFyZW50JztcclxuICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuY29sb3IgPSAndmFyKC0tdGhlbWUtdGV4dC1zZWNvbmRhcnkpJztcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgdGl0bGU9XCJDbG9zZSBwYW5lbFwiXHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS10aW1lcyB0ZXh0LWxnXCI+PC9pPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgXHJcbiAgICAgICAgPGRpdiBcclxuICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBwLTQgdGV4dC1jZW50ZXJcIlxyXG4gICAgICAgICAgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0LW11dGVkKScgfX1cclxuICAgICAgICA+XHJcbiAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYXMgZmEtbW91c2UtcG9pbnRlciB0ZXh0LTR4bCBtYi0zXCI+PC9pPlxyXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtXCI+U2VsZWN0IGEgbm9kZSB0byBjb25maWd1cmU8L3A+XHJcbiAgICAgICAgICAgIHtzZWxlY3RlZE5vZGUgJiYgIW5vZGVEZWZpbml0aW9uICYmIChcclxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIG10LTJcIiBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLWRhbmdlciknIH19PlxyXG4gICAgICAgICAgICAgICAgRGVidWc6IE5vZGUgc2VsZWN0ZWQgYnV0IGRlZmluaXRpb24gbm90IGZvdW5kXHJcbiAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHNjaGVtYSA9IG5vZGVEZWZpbml0aW9uLmNvbmZpZ19zY2hlbWEgfHwge307XHJcbiAgY29uc3QgaGFzRmllbGRzID0gT2JqZWN0LmtleXMoc2NoZW1hKS5sZW5ndGggPiAwO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBcclxuICAgICAgY2xhc3NOYW1lPVwidy05NiBoLWZ1bGwgZmxleCBmbGV4LWNvbCBzaGFkb3ctMnhsXCJcclxuICAgICAgc3R5bGU9e3sgYmFja2dyb3VuZDogJ3ZhcigtLXRoZW1lLXN1cmZhY2UpJyB9fVxyXG4gICAgPlxyXG4gICAgICB7LyogSGVhZGVyICovfVxyXG4gICAgICA8ZGl2IFxyXG4gICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBweC00IHB5LTMgYm9yZGVyLWJcIlxyXG4gICAgICAgIHN0eWxlPXt7IFxyXG4gICAgICAgICAgYm9yZGVyQ29sb3I6ICd2YXIoLS10aGVtZS1ib3JkZXIpJyxcclxuICAgICAgICAgIGJhY2tncm91bmQ6ICd2YXIoLS10aGVtZS1zdXJmYWNlLXZhcmlhbnQpJ1xyXG4gICAgICAgIH19XHJcbiAgICAgID5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XHJcbiAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYXMgZmEtY29nXCIgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0LXNlY29uZGFyeSknIH19PjwvaT5cclxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGRcIiBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQpJyB9fT5Db25maWd1cmF0aW9uPC9oMj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICBvbkNsaWNrPXtvbkNsb3NlfVxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwicC0xLjUgcm91bmRlZCB0cmFuc2l0aW9uLWNvbG9yc1wiXHJcbiAgICAgICAgICBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQtc2Vjb25kYXJ5KScgfX1cclxuICAgICAgICAgIG9uTW91c2VFbnRlcj17KGUpID0+IHtcclxuICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSAndmFyKC0tdGhlbWUtc3VyZmFjZS1ob3ZlciknO1xyXG4gICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuY29sb3IgPSAndmFyKC0tdGhlbWUtdGV4dCknO1xyXG4gICAgICAgICAgfX1cclxuICAgICAgICAgIG9uTW91c2VMZWF2ZT17KGUpID0+IHtcclxuICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSAndHJhbnNwYXJlbnQnO1xyXG4gICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuY29sb3IgPSAndmFyKC0tdGhlbWUtdGV4dC1zZWNvbmRhcnkpJztcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgICB0aXRsZT1cIkNsb3NlIHBhbmVsXCJcclxuICAgICAgICA+XHJcbiAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYXMgZmEtdGltZXMgdGV4dC1sZ1wiPjwvaT5cclxuICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICB7LyogTm9kZSBJbmZvICovfVxyXG4gICAgICA8ZGl2IFxyXG4gICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMyBib3JkZXItYlwiXHJcbiAgICAgICAgc3R5bGU9e3sgXHJcbiAgICAgICAgICBiYWNrZ3JvdW5kOiAndmFyKC0tdGhlbWUtc3VyZmFjZS12YXJpYW50KScsXHJcbiAgICAgICAgICBib3JkZXJDb2xvcjogJ3ZhcigtLXRoZW1lLWJvcmRlciknXHJcbiAgICAgICAgfX1cclxuICAgICAgPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBnYXAtM1wiPlxyXG4gICAgICAgICAge25vZGVEZWZpbml0aW9uLmljb24gJiYgKFxyXG4gICAgICAgICAgICA8ZGl2IFxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtc2hyaW5rLTAgdy0xMCBoLTEwIHJvdW5kZWQgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIlxyXG4gICAgICAgICAgICAgIHN0eWxlPXt7IGJhY2tncm91bmQ6ICd2YXIoLS10aGVtZS1wcmltYXJ5LW11dGVkKScgfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT17bm9kZURlZmluaXRpb24uaWNvbn0gc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS1wcmltYXJ5KScgfX0+PC9pPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICl9XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBtaW4tdy0wXCI+XHJcbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdHJ1bmNhdGVcIiBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQpJyB9fT5cclxuICAgICAgICAgICAgICB7c2VsZWN0ZWROb2RlLm5hbWV9XHJcbiAgICAgICAgICAgIDwvaDM+XHJcbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgbXQtMC41XCIgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0LXNlY29uZGFyeSknIH19PlxyXG4gICAgICAgICAgICAgIHtub2RlRGVmaW5pdGlvbi5kZXNjcmlwdGlvbn1cclxuICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgey8qIFRhYnMgKi99XHJcbiAgICAgIDxkaXYgXHJcbiAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBib3JkZXItYlwiXHJcbiAgICAgICAgc3R5bGU9e3sgXHJcbiAgICAgICAgICBib3JkZXJDb2xvcjogJ3ZhcigtLXRoZW1lLWJvcmRlciknLFxyXG4gICAgICAgICAgYmFja2dyb3VuZDogJ3ZhcigtLXRoZW1lLXN1cmZhY2UtdmFyaWFudCknXHJcbiAgICAgICAgfX1cclxuICAgICAgPlxyXG4gICAgICAgIDxidXR0b25cclxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEFjdGl2ZVRhYignY29uZmlnJyl9XHJcbiAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgcHgtNCBweS0yLjUgdGV4dC1zbSBmb250LW1lZGl1bSB0cmFuc2l0aW9uLWNvbG9ycyByZWxhdGl2ZVwiXHJcbiAgICAgICAgICBzdHlsZT17eyBcclxuICAgICAgICAgICAgY29sb3I6IGFjdGl2ZVRhYiA9PT0gJ2NvbmZpZycgPyAndmFyKC0tdGhlbWUtcHJpbWFyeSknIDogJ3ZhcigtLXRoZW1lLXRleHQtc2Vjb25kYXJ5KScsXHJcbiAgICAgICAgICAgIGJvcmRlckJvdHRvbTogYWN0aXZlVGFiID09PSAnY29uZmlnJyA/ICcycHggc29saWQgdmFyKC0tdGhlbWUtcHJpbWFyeSknIDogJzJweCBzb2xpZCB0cmFuc3BhcmVudCcsXHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgICAgb25Nb3VzZUVudGVyPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoYWN0aXZlVGFiICE9PSAnY29uZmlnJykge1xyXG4gICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5jb2xvciA9ICd2YXIoLS10aGVtZS10ZXh0KSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH19XHJcbiAgICAgICAgICBvbk1vdXNlTGVhdmU9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChhY3RpdmVUYWIgIT09ICdjb25maWcnKSB7XHJcbiAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmNvbG9yID0gJ3ZhcigtLXRoZW1lLXRleHQtc2Vjb25kYXJ5KSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH19XHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmFzIGZhLWNvZyBtci0xLjVcIj48L2k+XHJcbiAgICAgICAgICBDb25maWdcclxuICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRBY3RpdmVUYWIoJ291dHB1dCcpfVxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC0xIHB4LTQgcHktMi41IHRleHQtc20gZm9udC1tZWRpdW0gdHJhbnNpdGlvbi1jb2xvcnMgcmVsYXRpdmVcIlxyXG4gICAgICAgICAgc3R5bGU9e3sgXHJcbiAgICAgICAgICAgIGNvbG9yOiBhY3RpdmVUYWIgPT09ICdvdXRwdXQnID8gJ3ZhcigtLXRoZW1lLXByaW1hcnkpJyA6ICd2YXIoLS10aGVtZS10ZXh0LXNlY29uZGFyeSknLFxyXG4gICAgICAgICAgICBib3JkZXJCb3R0b206IGFjdGl2ZVRhYiA9PT0gJ291dHB1dCcgPyAnMnB4IHNvbGlkIHZhcigtLXRoZW1lLXByaW1hcnkpJyA6ICcycHggc29saWQgdHJhbnNwYXJlbnQnLFxyXG4gICAgICAgICAgfX1cclxuICAgICAgICAgIG9uTW91c2VFbnRlcj17KGUpID0+IHtcclxuICAgICAgICAgICAgaWYgKGFjdGl2ZVRhYiAhPT0gJ291dHB1dCcpIHtcclxuICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuY29sb3IgPSAndmFyKC0tdGhlbWUtdGV4dCknO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgICAgb25Nb3VzZUxlYXZlPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoYWN0aXZlVGFiICE9PSAnb3V0cHV0Jykge1xyXG4gICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5jb2xvciA9ICd2YXIoLS10aGVtZS10ZXh0LXNlY29uZGFyeSknO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgID5cclxuICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1jaGFydC1iYXIgbXItMS41XCI+PC9pPlxyXG4gICAgICAgICAgT3V0cHV0XHJcbiAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0QWN0aXZlVGFiKCdpbmZvJyl9XHJcbiAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgcHgtNCBweS0yLjUgdGV4dC1zbSBmb250LW1lZGl1bSB0cmFuc2l0aW9uLWNvbG9ycyByZWxhdGl2ZVwiXHJcbiAgICAgICAgICBzdHlsZT17eyBcclxuICAgICAgICAgICAgY29sb3I6IGFjdGl2ZVRhYiA9PT0gJ2luZm8nID8gJ3ZhcigtLXRoZW1lLXByaW1hcnkpJyA6ICd2YXIoLS10aGVtZS10ZXh0LXNlY29uZGFyeSknLFxyXG4gICAgICAgICAgICBib3JkZXJCb3R0b206IGFjdGl2ZVRhYiA9PT0gJ2luZm8nID8gJzJweCBzb2xpZCB2YXIoLS10aGVtZS1wcmltYXJ5KScgOiAnMnB4IHNvbGlkIHRyYW5zcGFyZW50JyxcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgICBvbk1vdXNlRW50ZXI9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChhY3RpdmVUYWIgIT09ICdpbmZvJykge1xyXG4gICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5jb2xvciA9ICd2YXIoLS10aGVtZS10ZXh0KSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH19XHJcbiAgICAgICAgICBvbk1vdXNlTGVhdmU9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChhY3RpdmVUYWIgIT09ICdpbmZvJykge1xyXG4gICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5jb2xvciA9ICd2YXIoLS10aGVtZS10ZXh0LXNlY29uZGFyeSknO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgID5cclxuICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1pbmZvLWNpcmNsZSBtci0xLjVcIj48L2k+XHJcbiAgICAgICAgICBJbmZvXHJcbiAgICAgICAgPC9idXR0b24+XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgey8qIFRhYiBDb250ZW50ICovfVxyXG4gICAgICB7YWN0aXZlVGFiID09PSAnY29uZmlnJyAmJiAoXHJcbiAgICAgICAgPD5cclxuICAgICAgPGRpdiBcclxuICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTMgYm9yZGVyLWIgc3BhY2UteS0zXCJcclxuICAgICAgICBzdHlsZT17eyBcclxuICAgICAgICAgIGJvcmRlckNvbG9yOiAndmFyKC0tdGhlbWUtYm9yZGVyKScsXHJcbiAgICAgICAgICBiYWNrZ3JvdW5kOiAndmFyKC0tdGhlbWUtc3VyZmFjZSknXHJcbiAgICAgICAgfX1cclxuICAgICAgPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMVwiPlxyXG4gICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgY3Vyc29yLXBvaW50ZXJcIj5cclxuICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXHJcbiAgICAgICAgICAgICAgICBjaGVja2VkPXtzaGFyZU91dHB1dHN9XHJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgc2V0U2hhcmVPdXRwdXRzKGUudGFyZ2V0LmNoZWNrZWQpO1xyXG4gICAgICAgICAgICAgICAgICBzZXRIYXNDaGFuZ2VzKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctNCBoLTQgYm9yZGVyIHJvdW5kZWRcIlxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgYWNjZW50Q29sb3I6ICd2YXIoLS10aGVtZS1wcmltYXJ5KSdcclxuICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtXCIgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0KScgfX0+XHJcbiAgICAgICAgICAgICAgICBTaGFyZSBvdXRwdXQgdG8gdmFyaWFibGVzXHJcbiAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIG10LTEgbWwtNlwiIHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dC1tdXRlZCknIH19PlxyXG4gICAgICAgICAgICAgIE1ha2Ugbm9kZSBvdXRwdXRzIGF2YWlsYWJsZSB0byBhbGwgc3Vic2VxdWVudCBub2Rlc1xyXG4gICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAge3NoYXJlT3V0cHV0cyAmJiAoXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1sLTYgc3BhY2UteS0xXCI+XHJcbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXhzIGZvbnQtbWVkaXVtXCIgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0LXNlY29uZGFyeSknIH19PlxyXG4gICAgICAgICAgICAgIFZhcmlhYmxlIE5hbWUgKG9wdGlvbmFsKVxyXG4gICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgdmFsdWU9e3ZhcmlhYmxlTmFtZX1cclxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcclxuICAgICAgICAgICAgICAgIHNldFZhcmlhYmxlTmFtZShlLnRhcmdldC52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBzZXRIYXNDaGFuZ2VzKHRydWUpO1xyXG4gICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e3NlbGVjdGVkTm9kZT8ubm9kZV9pZCB8fCAnbm9kZV9pZCd9XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTIgcHktMS41IGJvcmRlciByb3VuZGVkIHRleHQteHMgZm9jdXM6b3V0bGluZS1ub25lXCJcclxuICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3ZhcigtLXRoZW1lLXN1cmZhY2UtdmFyaWFudCknLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0KScsXHJcbiAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogJ3ZhcigtLXRoZW1lLWJvcmRlciknLFxyXG4gICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgb25Gb2N1cz17KGUpID0+IGUuY3VycmVudFRhcmdldC5zdHlsZS5ib3JkZXJDb2xvciA9ICd2YXIoLS10aGVtZS1wcmltYXJ5KSd9XHJcbiAgICAgICAgICAgICAgb25CbHVyPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJvcmRlckNvbG9yID0gJ3ZhcigtLXRoZW1lLWJvcmRlciknfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzXCIgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0LW11dGVkKScgfX0+XHJcbiAgICAgICAgICAgICAgQ3VzdG9tIGlkZW50aWZpZXIgZm9yIGFjY2Vzc2luZyB0aGlzIG5vZGUncyBkYXRhLiBEZWZhdWx0cyB0byBub2RlIElELlxyXG4gICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApfVxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIHsvKiBDb25maWcgRmllbGRzICovfVxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBvdmVyZmxvdy15LWF1dG8gY3VzdG9tLXNjcm9sbGJhclwiPlxyXG4gICAgICAgIHshaGFzRmllbGRzID8gKFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgdGV4dC1jZW50ZXJcIiBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQtbXV0ZWQpJyB9fT5cclxuICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmFzIGZhLWluZm8tY2lyY2xlIHRleHQtMnhsIG1iLTJcIj48L2k+XHJcbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc21cIj5UaGlzIG5vZGUgaGFzIG5vIGNvbmZpZ3VyYXRpb24gb3B0aW9uczwvcD5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICkgOiAoXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBzcGFjZS15LTRcIj5cclxuICAgICAgICAgICAge09iamVjdC5lbnRyaWVzKHNjaGVtYSkubWFwKChba2V5LCBmaWVsZF0pID0+IHtcclxuICAgICAgICAgICAgICAvLyBDaGVjayBpZiBmaWVsZCBzaG91bGQgYmUgdmlzaWJsZSBiYXNlZCBvbiBzaG93X2lmIGNvbmRpdGlvbnNcclxuICAgICAgICAgICAgICBjb25zdCBzaG91bGRTaG93ID0gY2hlY2tTaG93SWYoZmllbGQsIGNvbmZpZ1ZhbHVlcyk7XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgLy8gU2tpcCBoaWRkZW4gZmllbGRzICh0aGVzZSBhcmUgcmVuZGVyZWQgZHluYW1pY2FsbHkgZWxzZXdoZXJlKVxyXG4gICAgICAgICAgICAgIGlmIChmaWVsZC53aWRnZXQgPT09ICdoaWRkZW4nIHx8ICFzaG91bGRTaG93KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxkaXYga2V5PXtrZXl9IGNsYXNzTmFtZT1cInNwYWNlLXktMVwiPlxyXG4gICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bVwiIHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dCknIH19PlxyXG4gICAgICAgICAgICAgICAgICAgIHtmaWVsZC5sYWJlbH1cclxuICAgICAgICAgICAgICAgICAgICB7ZmllbGQucmVxdWlyZWQgJiYgPHNwYW4gY2xhc3NOYW1lPVwibWwtMVwiIHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tdGhlbWUtZGFuZ2VyKScgfX0+Kjwvc3Bhbj59XHJcbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICB7ZmllbGQuZGVzY3JpcHRpb24gJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgbWItMlwiIHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dC1tdXRlZCknIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAge2ZpZWxkLmRlc2NyaXB0aW9ufVxyXG4gICAgICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgICAgKX1cclxuXHJcbiAgICAgICAgICAgICAgICAgIHsvKiBVc2UgVmFyaWFibGVPclRleHRJbnB1dCBmb3Igc3RyaW5nIGZpZWxkcyBpZiB2YXJpYWJsZXMgYXJlIGF2YWlsYWJsZSAqL31cclxuICAgICAgICAgICAgICAgICAgeygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlVmFyaWFibGVJbnB1dCA9IHNob3VsZFVzZVZhcmlhYmxlSW5wdXQoZmllbGQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhc1ZhcnMgPSBhdmFpbGFibGVWYXJpYWJsZXMubGVuZ3RoID4gMDtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBpZiAodXNlVmFyaWFibGVJbnB1dCAmJiBoYXNWYXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8VmFyaWFibGVPclRleHRJbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPXtmaWVsZC5sYWJlbH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17Y29uZmlnVmFsdWVzW2tleV19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4gaGFuZGxlVmFsdWVDaGFuZ2Uoa2V5LCB2YWx1ZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXZhaWxhYmxlVmFyaWFibGVzPXthdmFpbGFibGVWYXJpYWJsZXN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkZ2V0PXtmaWVsZC53aWRnZXQgYXMgJ3RleHQnIHwgJ3RleHRhcmVhJyB8ICdwYXNzd29yZCd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2ZpZWxkLnBsYWNlaG9sZGVyfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkPXtmaWVsZC5yZXF1aXJlZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbj17ZmllbGQuZGVzY3JpcHRpb259XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVuZGVyRmllbGQoa2V5LCBmaWVsZCwgY29uZmlnVmFsdWVzW2tleV0sIGhhbmRsZVZhbHVlQ2hhbmdlLCBjb25maWdWYWx1ZXMsIGhhbmRsZU1lZGlhQ2xpY2spO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfSkoKX1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH0pfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgey8qIER5bmFtaWMgVGFzay1TcGVjaWZpYyBDb25maWd1cmF0aW9uICovfVxyXG4gICAgICAgICAgICB7c2VsZWN0ZWROb2RlPy5ub2RlX3R5cGUgPT09ICdodWdnaW5nZmFjZV9pbmZlcmVuY2UnICYmIGR5bmFtaWNUYXNrQ29uZmlnICYmIChcclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci10IHB0LTQgbXQtNFwiIHN0eWxlPXt7IGJvcmRlckNvbG9yOiAndmFyKC0tdGhlbWUtYm9yZGVyKScgfX0+XHJcbiAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LXNlbWlib2xkIG1iLTNcIiBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQpJyB9fT5cclxuICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmFzIGZhLXNsaWRlcnMtaCBtci0yXCIgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS1wcmltYXJ5KScgfX0+PC9pPlxyXG4gICAgICAgICAgICAgICAgICBUYXNrLVNwZWNpZmljIFBhcmFtZXRlcnMgKHtjb25maWdWYWx1ZXMuaHVnZ2luZ2ZhY2VfbWFya2V0cGxhY2U/LnRhc2t9KVxyXG4gICAgICAgICAgICAgICAgPC9oND5cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAge09iamVjdC5lbnRyaWVzKGR5bmFtaWNUYXNrQ29uZmlnKS5tYXAoKFtwYXJhbUtleSwgcGFyYW1GaWVsZF06IFtzdHJpbmcsIGFueV0pID0+IChcclxuICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e3BhcmFtS2V5fSBjbGFzc05hbWU9XCJzcGFjZS15LTEgbWItM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtXCIgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0KScgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7cGFyYW1GaWVsZC5sYWJlbH1cclxuICAgICAgICAgICAgICAgICAgICAgIHtwYXJhbUZpZWxkLnJlcXVpcmVkICYmIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTFcIiBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLWRhbmdlciknIH19Pio8L3NwYW4+fVxyXG4gICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAge3BhcmFtRmllbGQuZGVzY3JpcHRpb24gJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyBtYi0yXCIgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0LW11dGVkKScgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtwYXJhbUZpZWxkLmRlc2NyaXB0aW9ufVxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAge3JlbmRlckZpZWxkKFxyXG4gICAgICAgICAgICAgICAgICAgICAgcGFyYW1LZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICBwYXJhbUZpZWxkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgY29uZmlnVmFsdWVzLmNvbW1vbl9wYXJhbWV0ZXJzPy5bcGFyYW1LZXldIHx8IGNvbmZpZ1ZhbHVlcy50YXNrX3NwZWNpZmljX3BhcmFtZXRlcnM/LltwYXJhbUtleV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAoa2V5LCB2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTdG9yZSBpbiB0aGUgYXBwcm9wcmlhdGUgbmVzdGVkIG9iamVjdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRPYmogPSBwYXJhbUZpZWxkLmFwcGxpY2FibGVfdGFza3MgPyAnY29tbW9uX3BhcmFtZXRlcnMnIDogJ3Rhc2tfc3BlY2lmaWNfcGFyYW1ldGVycyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldENvbmZpZ1ZhbHVlcyhwcmV2ID0+ICh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJldixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBbdGFyZ2V0T2JqXToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJldlt0YXJnZXRPYmpdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2tleV06IHZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEhhc0NoYW5nZXModHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgY29uZmlnVmFsdWVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgaGFuZGxlTWVkaWFDbGlja1xyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB7bG9hZGluZ1Rhc2tDb25maWcgJiYgKFxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgcHktM1wiIHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dC1tdXRlZCknIH19PlxyXG4gICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmFzIGZhLXNwaW5uZXIgZmEtc3BpbiBtci0yXCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgTG9hZGluZyB0YXNrLXNwZWNpZmljIGNvbmZpZ3VyYXRpb24uLi5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgKX1cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICl9XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgey8qIEZvb3RlciBTdGF0dXMgLSBObyBtYW51YWwgc2F2ZSBidXR0b24gbmVlZGVkIHdpdGggYXV0by1zYXZlICovfVxyXG4gICAgICB7aGFzRmllbGRzICYmIChcclxuICAgICAgICA8ZGl2IFxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0zIGJvcmRlci10XCJcclxuICAgICAgICAgIHN0eWxlPXt7IFxyXG4gICAgICAgICAgICBib3JkZXJDb2xvcjogJ3ZhcigtLXRoZW1lLWJvcmRlciknLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAndmFyKC0tdGhlbWUtc3VyZmFjZS12YXJpYW50KSdcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cclxuICAgICAgICAgICAgICB7aXNTYXZpbmcgPyAoXHJcbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCIgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS1zdWNjZXNzKScgfX0+XHJcbiAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1jaGVjay1jaXJjbGVcIj48L2k+XHJcbiAgICAgICAgICAgICAgICAgIDxzcGFuPkNoYW5nZXMgc2F2ZWQ8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgKSA6IGhhc0NoYW5nZXMgPyAoXHJcbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCIgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS1pbmZvKScgfX0+XHJcbiAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1jaXJjbGUtbm90Y2ggZmEtc3BpblwiPjwvaT5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4+U2F2aW5nIGNoYW5nZXMuLi48L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIiBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQtbXV0ZWQpJyB9fT5cclxuICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmFzIGZhLWluZm8tY2lyY2xlXCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgICA8c3Bhbj5DaGFuZ2VzIGF1dG8tc2F2ZTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVJlc2V0fVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMS41IHJvdW5kZWQgdGV4dC14cyBmb250LW1lZGl1bSB0cmFuc2l0aW9uLWNvbG9yc1wiXHJcbiAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICd2YXIoLS10aGVtZS1zdXJmYWNlLWhvdmVyKScsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQtc2Vjb25kYXJ5KSdcclxuICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgIG9uTW91c2VFbnRlcj17KGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gJ3ZhcigtLXRoZW1lLXN1cmZhY2UpJztcclxuICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5jb2xvciA9ICd2YXIoLS10aGVtZS10ZXh0KSc7XHJcbiAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZCA9ICd2YXIoLS10aGVtZS1zdXJmYWNlLWhvdmVyKSc7XHJcbiAgICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuY29sb3IgPSAndmFyKC0tdGhlbWUtdGV4dC1zZWNvbmRhcnkpJztcclxuICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgIHRpdGxlPVwiUmVzZXQgdG8gZGVmYXVsdHNcIlxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmFzIGZhLXVuZG8gbXItMVwiPjwvaT5cclxuICAgICAgICAgICAgICBSZXNldFxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApfVxyXG4gICAgICA8Lz5cclxuICAgICAgKX1cclxuXHJcbiAgICAgIHsvKiBPdXRwdXQgVGFiICovfVxyXG4gICAgICB7YWN0aXZlVGFiID09PSAnb3V0cHV0JyAmJiAoXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgb3ZlcmZsb3ctaGlkZGVuIGZsZXggZmxleC1jb2xcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG92ZXJmbG93LXktYXV0byBjdXN0b20tc2Nyb2xsYmFyXCI+XHJcbiAgICAgICAgICAgIHsoKCkgPT4ge1xyXG4gICAgICAgICAgICAgIGNvbnN0IGV4ZWN1dGlvbkRhdGEgPSBub2RlRXhlY3V0aW9uRGF0YVtzZWxlY3RlZE5vZGUubm9kZV9pZF07XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgaWYgKCFleGVjdXRpb25EYXRhKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LTggcHgtNFwiIHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dC1tdXRlZCknIH19PlxyXG4gICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1jaGFydC1iYXIgdGV4dC00eGwgbWItM1wiIHN0eWxlPXt7IG9wYWNpdHk6IDAuNSB9fT48L2k+XHJcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbVwiPk5vZGUgb3V0cHV0IHdpbGwgYXBwZWFyIGhlcmUgYWZ0ZXIgZXhlY3V0aW9uPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgbXQtMlwiPlJ1biB0aGUgd29ya2Zsb3cgdG8gc2VlIHRoZSByZXN1bHRzPC9wPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgc3BhY2UteS00XCI+XHJcbiAgICAgICAgICAgICAgICAgIHsvKiBFeGVjdXRpb24gU3RhdHVzICovfVxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBiLTMgYm9yZGVyLWJcIiBzdHlsZT17eyBib3JkZXJDb2xvcjogJ3ZhcigtLXRoZW1lLWJvcmRlciknIH19PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIG1iLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGRcIiBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQpJyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgRXhlY3V0aW9uIFN0YXR1c1xyXG4gICAgICAgICAgICAgICAgICAgICAgPC9oND5cclxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0yIHB5LTEgcm91bmRlZCB0ZXh0LXhzIGZvbnQtbWVkaXVtXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBleGVjdXRpb25EYXRhLnN1Y2Nlc3MgPyAndmFyKC0tdGhlbWUtc3VjY2Vzcy1tdXRlZCknIDogJ3ZhcigtLXRoZW1lLWRhbmdlci1tdXRlZCknLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBleGVjdXRpb25EYXRhLnN1Y2Nlc3MgPyAndmFyKC0tdGhlbWUtc3VjY2VzcyknIDogJ3ZhcigtLXRoZW1lLWRhbmdlciknXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtleGVjdXRpb25EYXRhLnN1Y2Nlc3MgPyAnU3VjY2VzcycgOiAnRmFpbGVkJ31cclxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICB7ZXhlY3V0aW9uRGF0YS5lcnJvciAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXhzIHAtMiByb3VuZGVkIG10LTJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAndmFyKC0tdGhlbWUtZGFuZ2VyLW11dGVkKScsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAndmFyKC0tdGhlbWUtZGFuZ2VyKScgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1leGNsYW1hdGlvbi10cmlhbmdsZSBtci0xXCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7ZXhlY3V0aW9uRGF0YS5lcnJvcn1cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgey8qIElucHV0IERhdGEgKi99XHJcbiAgICAgICAgICAgICAgICAgIHtleGVjdXRpb25EYXRhLmlucHV0cyAmJiBPYmplY3Qua2V5cyhleGVjdXRpb25EYXRhLmlucHV0cykubGVuZ3RoID4gMCAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIG1iLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1zZW1pYm9sZFwiIHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dCknIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1zaWduLWluLWFsdCBtci0xLjVcIiBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXByaW1hcnkpJyB9fT48L2k+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgSW5wdXQgRGF0YVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2g0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQoSlNPTi5zdHJpbmdpZnkoZXhlY3V0aW9uRGF0YS5pbnB1dHMsIG51bGwsIDIpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQteHMgcHgtMiBweS0xIHJvdW5kZWQgdHJhbnNpdGlvbi1jb2xvcnNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3ZhcigtLXRoZW1lLXN1cmZhY2UtdmFyaWFudCknLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0LXNlY29uZGFyeSknXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9eyhlKSA9PiBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZCA9ICd2YXIoLS10aGVtZS1zdXJmYWNlLWhvdmVyKSd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSAndmFyKC0tdGhlbWUtc3VyZmFjZS12YXJpYW50KSd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJDb3B5IHRvIGNsaXBib2FyZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYXMgZmEtY29weSBtci0xXCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIENvcHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxwcmUgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQteHMgcC0zIHJvdW5kZWQgb3ZlcmZsb3cteC1hdXRvIGZvbnQtbW9ub1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICd2YXIoLS10aGVtZS1zdXJmYWNlLXZhcmlhbnQpJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQpJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB3aGl0ZVNwYWNlOiAncHJlLXdyYXAnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmRCcmVhazogJ2JyZWFrLXdvcmQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJmbG93V3JhcDogJ2JyZWFrLXdvcmQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtKU09OLnN0cmluZ2lmeShleGVjdXRpb25EYXRhLmlucHV0cywgbnVsbCwgMil9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3ByZT5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgKX1cclxuXHJcbiAgICAgICAgICAgICAgICAgIHsvKiBPdXRwdXQgRGF0YSAqL31cclxuICAgICAgICAgICAgICAgICAge2V4ZWN1dGlvbkRhdGEub3V0cHV0cyAmJiBPYmplY3Qua2V5cyhleGVjdXRpb25EYXRhLm91dHB1dHMpLmxlbmd0aCA+IDAgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtYi0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGRcIiBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQpJyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYXMgZmEtc2lnbi1vdXQtYWx0IG1yLTEuNVwiIHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tdGhlbWUtc3VjY2VzcyknIH19PjwvaT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBPdXRwdXQgRGF0YVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2g0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogVG9nZ2xlIGJldHdlZW4gZm9ybWF0dGVkIGFuZCBKU09OIHZpZXcgKi99XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0T3V0cHV0Vmlld01vZGUob3V0cHV0Vmlld01vZGUgPT09ICdmb3JtYXR0ZWQnID8gJ2pzb24nIDogJ2Zvcm1hdHRlZCcpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC14cyBweC0yIHB5LTEgcm91bmRlZCB0cmFuc2l0aW9uLWNvbG9yc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3ZhcigtLXRoZW1lLXN1cmZhY2UtdmFyaWFudCknLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQtc2Vjb25kYXJ5KSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9eyhlKSA9PiBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZCA9ICd2YXIoLS10aGVtZS1zdXJmYWNlLWhvdmVyKSd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9eyhlKSA9PiBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZCA9ICd2YXIoLS10aGVtZS1zdXJmYWNlLXZhcmlhbnQpJ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtvdXRwdXRWaWV3TW9kZSA9PT0gJ2Zvcm1hdHRlZCcgPyAnU2hvdyBKU09OJyA6ICdTaG93IGZvcm1hdHRlZCB2aWV3J31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9e2BmYXMgZmEtJHtvdXRwdXRWaWV3TW9kZSA9PT0gJ2Zvcm1hdHRlZCcgPyAnY29kZScgOiAnZXllJ30gbXItMWB9PjwvaT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtvdXRwdXRWaWV3TW9kZSA9PT0gJ2Zvcm1hdHRlZCcgPyAnSlNPTicgOiAnRm9ybWF0dGVkJ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KEpTT04uc3RyaW5naWZ5KGV4ZWN1dGlvbkRhdGEub3V0cHV0cywgbnVsbCwgMikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQteHMgcHgtMiBweS0xIHJvdW5kZWQgdHJhbnNpdGlvbi1jb2xvcnNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICd2YXIoLS10aGVtZS1zdXJmYWNlLXZhcmlhbnQpJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0LXNlY29uZGFyeSknXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSAndmFyKC0tdGhlbWUtc3VyZmFjZS1ob3ZlciknfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSAndmFyKC0tdGhlbWUtc3VyZmFjZS12YXJpYW50KSd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkNvcHkgdG8gY2xpcGJvYXJkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYXMgZmEtY29weSBtci0xXCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29weVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgIHtvdXRwdXRWaWV3TW9kZSA9PT0gJ2pzb24nID8gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8cHJlIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQteHMgcC0zIHJvdW5kZWQgb3ZlcmZsb3cteC1hdXRvIGZvbnQtbW9ub1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAndmFyKC0tdGhlbWUtc3VyZmFjZS12YXJpYW50KScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQpJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaXRlU3BhY2U6ICdwcmUtd3JhcCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3JkQnJlYWs6ICdicmVhay13b3JkJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJmbG93V3JhcDogJ2JyZWFrLXdvcmQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtKU09OLnN0cmluZ2lmeShleGVjdXRpb25EYXRhLm91dHB1dHMsIG51bGwsIDIpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3ByZT5cclxuICAgICAgICAgICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAge09iamVjdC5lbnRyaWVzKGV4ZWN1dGlvbkRhdGEub3V0cHV0cykubWFwKChbcG9ydE5hbWUsIHBvcnREYXRhXSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJ5IHRvIHJlbmRlciBhcyBNZWRpYUZvcm1hdCBmaXJzdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGFzTWVkaWEgPSBoYXNNZWRpYUZvcm1hdChwb3J0RGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNNZWRpYSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtwb3J0TmFtZX0gY2xhc3NOYW1lPVwicC0zIHJvdW5kZWRcIiBzdHlsZT17eyBiYWNrZ3JvdW5kOiAndmFyKC0tdGhlbWUtc3VyZmFjZS12YXJpYW50KScgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TWVkaWFPdXRwdXRWaWV3ZXIgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE9e3BvcnREYXRhfSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9ydE5hbWU9e3BvcnROYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1lZGlhQ2xpY2s9eyhtZWRpYSwgaW5kZXgpID0+IGhhbmRsZU1lZGlhQ2xpY2sobWVkaWEsICd2aWV3JywgaW5kZXgpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIHNob3cgYXMgSlNPTlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e3BvcnROYW1lfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1zZW1pYm9sZCBtYi0yXCIgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0LXNlY29uZGFyeSknIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3BvcnROYW1lfTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC14cyBwLTMgcm91bmRlZCBvdmVyZmxvdy14LWF1dG8gZm9udC1tb25vXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAndmFyKC0tdGhlbWUtc3VyZmFjZS12YXJpYW50KScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dCknLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGl0ZVNwYWNlOiAncHJlLXdyYXAnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3JkQnJlYWs6ICdicmVhay13b3JkJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dXcmFwOiAnYnJlYWstd29yZCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3R5cGVvZiBwb3J0RGF0YSA9PT0gJ3N0cmluZycgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gcG9ydERhdGEgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogSlNPTi5zdHJpbmdpZnkocG9ydERhdGEsIG51bGwsIDIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wcmU+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICApfVxyXG5cclxuICAgICAgICAgICAgICAgICAgey8qIFByZXZpZXcgRGF0YSAoaWYgYXZhaWxhYmxlKSAqL31cclxuICAgICAgICAgICAgICAgICAge2V4ZWN1dGlvbkRhdGEub3V0cHV0cz8ucHJldmlld19kYXRhICYmIChcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1zZW1pYm9sZCBtYi0yXCIgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0KScgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1leWUgbXItMS41XCIgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS1pbmZvKScgfX0+PC9pPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBQcmV2aWV3XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2g0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1zbSBwLTMgcm91bmRlZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICd2YXIoLS10aGVtZS1zdXJmYWNlLXZhcmlhbnQpJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQpJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB3aGl0ZVNwYWNlOiAncHJlLXdyYXAnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmRCcmVhazogJ2JyZWFrLXdvcmQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJmbG93V3JhcDogJ2JyZWFrLXdvcmQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt0eXBlb2YgZXhlY3V0aW9uRGF0YS5vdXRwdXRzLnByZXZpZXdfZGF0YSA9PT0gJ3N0cmluZycgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBleGVjdXRpb25EYXRhLm91dHB1dHMucHJldmlld19kYXRhIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogSlNPTi5zdHJpbmdpZnkoZXhlY3V0aW9uRGF0YS5vdXRwdXRzLnByZXZpZXdfZGF0YSwgbnVsbCwgMilcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9KSgpfVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICl9XHJcblxyXG4gICAgICB7LyogSW5mbyBUYWIgKi99XHJcbiAgICAgIHthY3RpdmVUYWIgPT09ICdpbmZvJyAmJiAoXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgb3ZlcmZsb3cteS1hdXRvIGN1c3RvbS1zY3JvbGxiYXIgcC00XCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgbWItMlwiIHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dCknIH19PlxyXG4gICAgICAgICAgICAgICAgTm9kZSBJbmZvcm1hdGlvblxyXG4gICAgICAgICAgICAgIDwvaDQ+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTIgdGV4dC14c1wiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBweS0xLjUgYm9yZGVyLWJcIiBzdHlsZT17eyBib3JkZXJDb2xvcjogJ3ZhcigtLXRoZW1lLWJvcmRlciknIH19PlxyXG4gICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQtc2Vjb25kYXJ5KScgfX0+Tm9kZSBJRDo8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dCknIH19IGNsYXNzTmFtZT1cImZvbnQtbW9ubyB0ZXh0LXhzIHRydW5jYXRlIG1sLTIgbWF4LXctWzIwMHB4XVwiIHRpdGxlPXtzZWxlY3RlZE5vZGUubm9kZV9pZH0+XHJcbiAgICAgICAgICAgICAgICAgICAge3NlbGVjdGVkTm9kZS5ub2RlX2lkfVxyXG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gcHktMS41IGJvcmRlci1iXCIgc3R5bGU9e3sgYm9yZGVyQ29sb3I6ICd2YXIoLS10aGVtZS1ib3JkZXIpJyB9fT5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0LXNlY29uZGFyeSknIH19Pk5vZGUgVHlwZTo8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dCknIH19PntzZWxlY3RlZE5vZGUubm9kZV90eXBlfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBweS0xLjUgYm9yZGVyLWJcIiBzdHlsZT17eyBib3JkZXJDb2xvcjogJ3ZhcigtLXRoZW1lLWJvcmRlciknIH19PlxyXG4gICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQtc2Vjb25kYXJ5KScgfX0+Q2F0ZWdvcnk6PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQpJyB9fT57c2VsZWN0ZWROb2RlLmNhdGVnb3J5fTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBweS0xLjUgYm9yZGVyLWJcIiBzdHlsZT17eyBib3JkZXJDb2xvcjogJ3ZhcigtLXRoZW1lLWJvcmRlciknIH19PlxyXG4gICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQtc2Vjb25kYXJ5KScgfX0+U3RhdHVzOjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0KScgfX0+e3NlbGVjdGVkTm9kZS5zdGF0dXMgfHwgJ2lkbGUnfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIHsoc2VsZWN0ZWROb2RlLmlucHV0cyAmJiBzZWxlY3RlZE5vZGUuaW5wdXRzLmxlbmd0aCA+IDApICYmIChcclxuICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1zZW1pYm9sZCBtYi0yXCIgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0KScgfX0+XHJcbiAgICAgICAgICAgICAgICAgIElucHV0IFBvcnRzICh7c2VsZWN0ZWROb2RlLmlucHV0cy5sZW5ndGh9KVxyXG4gICAgICAgICAgICAgICAgPC9oND5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0xXCI+XHJcbiAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZE5vZGUuaW5wdXRzLm1hcCgoaW5wdXQ6IGFueSkgPT4gKFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpbnB1dC5pZH0gY2xhc3NOYW1lPVwidGV4dC14cyBweC0yIHB5LTEuNSByb3VuZGVkXCIgc3R5bGU9e3sgYmFja2dyb3VuZDogJ3ZhcigtLXRoZW1lLXN1cmZhY2UtdmFyaWFudCknIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiIHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dCknIH19PntpbnB1dC5sYWJlbH08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgbXQtMC41XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dC1tdXRlZCknIH19PlR5cGU6IHtpbnB1dC50eXBlfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAge2lucHV0LnJlcXVpcmVkICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJweC0xLjUgcHktMC41IHJvdW5kZWQgdGV4dC14c1wiIHN0eWxlPXt7IGJhY2tncm91bmQ6ICd2YXIoLS10aGVtZS1kYW5nZXIpJywgY29sb3I6ICd3aGl0ZScgfX0+UmVxdWlyZWQ8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgKX1cclxuXHJcbiAgICAgICAgICAgIHsoc2VsZWN0ZWROb2RlLm91dHB1dHMgJiYgc2VsZWN0ZWROb2RlLm91dHB1dHMubGVuZ3RoID4gMCkgJiYgKFxyXG4gICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LXNlbWlib2xkIG1iLTJcIiBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQpJyB9fT5cclxuICAgICAgICAgICAgICAgICAgT3V0cHV0IFBvcnRzICh7c2VsZWN0ZWROb2RlLm91dHB1dHMubGVuZ3RofSlcclxuICAgICAgICAgICAgICAgIDwvaDQ+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMVwiPlxyXG4gICAgICAgICAgICAgICAgICB7c2VsZWN0ZWROb2RlLm91dHB1dHMubWFwKChvdXRwdXQ6IGFueSkgPT4gKFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtvdXRwdXQuaWR9IGNsYXNzTmFtZT1cInRleHQteHMgcHgtMiBweS0xLjUgcm91bmRlZFwiIHN0eWxlPXt7IGJhY2tncm91bmQ6ICd2YXIoLS10aGVtZS1zdXJmYWNlLXZhcmlhbnQpJyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIiBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQpJyB9fT57b3V0cHV0LmxhYmVsfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQtbXV0ZWQpJyB9fSBjbGFzc05hbWU9XCJtdC0wLjVcIj5UeXBlOiB7b3V0cHV0LnR5cGV9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKX1cclxuICAgICAgXHJcbiAgICAgIHsvKiBGdWxsLVNjcmVlbiBNZWRpYSBNb2RhbCAqL31cclxuICAgICAge21vZGFsTWVkaWEgJiYgKFxyXG4gICAgICAgIDxNZWRpYUZ1bGxTY3JlZW5Nb2RhbFxyXG4gICAgICAgICAgaXNPcGVuPXtpc01vZGFsT3Blbn1cclxuICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldElzTW9kYWxPcGVuKGZhbHNlKX1cclxuICAgICAgICAgIG1lZGlhRGF0YT17bW9kYWxNZWRpYX1cclxuICAgICAgICAgIG1vZGU9e21vZGFsTW9kZX1cclxuICAgICAgICAgIGluaXRpYWxJbmRleD17bW9kYWxJbmRleH1cclxuICAgICAgICAgIG9uU2F2ZT17aGFuZGxlTW9kYWxTYXZlfVxyXG4gICAgICAgIC8+XHJcbiAgICAgICl9XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW5kZXJGaWVsZChcclxuICBrZXk6IHN0cmluZyxcclxuICBmaWVsZDogQ29uZmlnRmllbGQsXHJcbiAgdmFsdWU6IGFueSxcclxuICBvbkNoYW5nZTogKGtleTogc3RyaW5nLCB2YWx1ZTogYW55KSA9PiB2b2lkLFxyXG4gIGNvbmZpZ1ZhbHVlczogUmVjb3JkPHN0cmluZywgYW55PixcclxuICBvbk1lZGlhQ2xpY2s/OiAobWVkaWE6IE1lZGlhRm9ybWF0IHwgTWVkaWFGb3JtYXRbXSwgbW9kZTogJ3ZpZXcnIHwgJ2VkaXQnLCBpbmRleD86IG51bWJlcikgPT4gdm9pZFxyXG4pIHtcclxuICBjb25zdCB3aWRnZXQgPSBmaWVsZC53aWRnZXQgfHwgZ2V0RGVmYXVsdFdpZGdldChmaWVsZC50eXBlKTtcclxuXHJcbiAgc3dpdGNoICh3aWRnZXQpIHtcclxuICAgIGNhc2UgJ3RleHRhcmVhJzpcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8dGV4dGFyZWFcclxuICAgICAgICAgIHZhbHVlPXt2YWx1ZSB8fCAnJ31cclxuICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gb25DaGFuZ2Uoa2V5LCBlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICBwbGFjZWhvbGRlcj17ZmllbGQucGxhY2Vob2xkZXJ9XHJcbiAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciByb3VuZGVkIHRleHQtc20gcmVzaXplLXkgbWluLWgtWzgwcHhdIGZvY3VzOm91dGxpbmUtbm9uZVwiXHJcbiAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAndmFyKC0tdGhlbWUtc3VyZmFjZS12YXJpYW50KScsXHJcbiAgICAgICAgICAgIGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dCknLFxyXG4gICAgICAgICAgICBib3JkZXJDb2xvcjogJ3ZhcigtLXRoZW1lLWJvcmRlciknLFxyXG4gICAgICAgICAgfX1cclxuICAgICAgICAgIG9uRm9jdXM9eyhlKSA9PiBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYm9yZGVyQ29sb3IgPSAndmFyKC0tdGhlbWUtcHJpbWFyeSknfVxyXG4gICAgICAgICAgb25CbHVyPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJvcmRlckNvbG9yID0gJ3ZhcigtLXRoZW1lLWJvcmRlciknfVxyXG4gICAgICAgICAgcm93cz17NH1cclxuICAgICAgICAvPlxyXG4gICAgICApO1xyXG5cclxuICAgIGNhc2UgJ251bWJlcic6XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcclxuICAgICAgICAgIHZhbHVlPXt2YWx1ZSA/PyAnJ31cclxuICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB2YWwgPSBlLnRhcmdldC52YWx1ZSA9PT0gJycgPyBudWxsIDogKGZpZWxkLnR5cGUgPT09ICdpbnRlZ2VyJyA/IHBhcnNlSW50KGUudGFyZ2V0LnZhbHVlKSA6IHBhcnNlRmxvYXQoZS50YXJnZXQudmFsdWUpKTtcclxuICAgICAgICAgICAgb25DaGFuZ2Uoa2V5LCB2YWwpO1xyXG4gICAgICAgICAgfX1cclxuICAgICAgICAgIG1pbj17ZmllbGQubWlufVxyXG4gICAgICAgICAgbWF4PXtmaWVsZC5tYXh9XHJcbiAgICAgICAgICBwbGFjZWhvbGRlcj17ZmllbGQucGxhY2Vob2xkZXJ9XHJcbiAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciByb3VuZGVkIHRleHQtc20gZm9jdXM6b3V0bGluZS1ub25lXCJcclxuICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICd2YXIoLS10aGVtZS1zdXJmYWNlLXZhcmlhbnQpJyxcclxuICAgICAgICAgICAgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0KScsXHJcbiAgICAgICAgICAgIGJvcmRlckNvbG9yOiAndmFyKC0tdGhlbWUtYm9yZGVyKScsXHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgICAgb25Gb2N1cz17KGUpID0+IGUuY3VycmVudFRhcmdldC5zdHlsZS5ib3JkZXJDb2xvciA9ICd2YXIoLS10aGVtZS1wcmltYXJ5KSd9XHJcbiAgICAgICAgICBvbkJsdXI9eyhlKSA9PiBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYm9yZGVyQ29sb3IgPSAndmFyKC0tdGhlbWUtYm9yZGVyKSd9XHJcbiAgICAgICAgLz5cclxuICAgICAgKTtcclxuXHJcbiAgICBjYXNlICdjaGVja2JveCc6XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIGN1cnNvci1wb2ludGVyXCI+XHJcbiAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcclxuICAgICAgICAgICAgY2hlY2tlZD17ISF2YWx1ZX1cclxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBvbkNoYW5nZShrZXksIGUudGFyZ2V0LmNoZWNrZWQpfVxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTQgaC00IGJvcmRlciByb3VuZGVkXCJcclxuICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICBhY2NlbnRDb2xvcjogJ3ZhcigtLXRoZW1lLXByaW1hcnkpJ1xyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc21cIiBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQtc2Vjb25kYXJ5KScgfX0+XHJcbiAgICAgICAgICAgIHtmaWVsZC5sYWJlbH1cclxuICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICA8L2xhYmVsPlxyXG4gICAgICApO1xyXG5cclxuICAgIGNhc2UgJ3NlbGVjdCc6XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPHNlbGVjdFxyXG4gICAgICAgICAgdmFsdWU9e3ZhbHVlIHx8ICcnfVxyXG4gICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBvbkNoYW5nZShrZXksIGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0zIHB5LTIgYm9yZGVyIHJvdW5kZWQgdGV4dC1zbSBmb2N1czpvdXRsaW5lLW5vbmVcIlxyXG4gICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogJ3ZhcigtLXRoZW1lLXN1cmZhY2UtdmFyaWFudCknLFxyXG4gICAgICAgICAgICBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQpJyxcclxuICAgICAgICAgICAgYm9yZGVyQ29sb3I6ICd2YXIoLS10aGVtZS1ib3JkZXIpJyxcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgICBvbkZvY3VzPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJvcmRlckNvbG9yID0gJ3ZhcigtLXRoZW1lLXByaW1hcnkpJ31cclxuICAgICAgICAgIG9uQmx1cj17KGUpID0+IGUuY3VycmVudFRhcmdldC5zdHlsZS5ib3JkZXJDb2xvciA9ICd2YXIoLS10aGVtZS1ib3JkZXIpJ31cclxuICAgICAgICA+XHJcbiAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiXCI+U2VsZWN0Li4uPC9vcHRpb24+XHJcbiAgICAgICAgICB7ZmllbGQub3B0aW9ucz8ubWFwKChvcHQpID0+IChcclxuICAgICAgICAgICAgPG9wdGlvbiBrZXk9e29wdC52YWx1ZX0gdmFsdWU9e29wdC52YWx1ZX0+XHJcbiAgICAgICAgICAgICAge29wdC5sYWJlbH1cclxuICAgICAgICAgICAgPC9vcHRpb24+XHJcbiAgICAgICAgICApKX1cclxuICAgICAgICA8L3NlbGVjdD5cclxuICAgICAgKTtcclxuICAgIFxyXG4gICAgY2FzZSAncHJvdmlkZXJfc2VsZWN0JzpcclxuICAgICAgcmV0dXJuIDxQcm92aWRlclNlbGVjdCB2YWx1ZT17dmFsdWUgfHwgJyd9IG9uQ2hhbmdlPXsodmFsKSA9PiBvbkNoYW5nZShrZXksIHZhbCl9IHBsYWNlaG9sZGVyPXtmaWVsZC5wbGFjZWhvbGRlcn0gLz47XHJcbiAgICBcclxuICAgIGNhc2UgJ21vZGVsX3NlbGVjdCc6XHJcbiAgICAgIC8vIE1vZGVsIHNlbGVjdCBkZXBlbmRzIG9uIHByb3ZpZGVyIC0gZ2V0IHByb3ZpZGVyIHZhbHVlIGZyb20gY29uZmlnXHJcbiAgICAgIGNvbnN0IHByb3ZpZGVyVmFsdWUgPSBmaWVsZC5kZXBlbmRzX29uID8gY29uZmlnVmFsdWVzW2ZpZWxkLmRlcGVuZHNfb25dIDogbnVsbDtcclxuICAgICAgcmV0dXJuIDxNb2RlbFNlbGVjdCBwcm92aWRlcj17cHJvdmlkZXJWYWx1ZX0gdmFsdWU9e3ZhbHVlIHx8ICcnfSBvbkNoYW5nZT17KHZhbCkgPT4gb25DaGFuZ2Uoa2V5LCB2YWwpfSBwbGFjZWhvbGRlcj17ZmllbGQucGxhY2Vob2xkZXJ9IC8+O1xyXG4gICAgXHJcbiAgICBjYXNlICdzbGlkZXInOlxyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCI+XHJcbiAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgIHR5cGU9XCJyYW5nZVwiXHJcbiAgICAgICAgICAgICAgdmFsdWU9e3ZhbHVlID8/IGZpZWxkLmRlZmF1bHQgPz8gMH1cclxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IG9uQ2hhbmdlKGtleSwgcGFyc2VGbG9hdChlLnRhcmdldC52YWx1ZSkpfVxyXG4gICAgICAgICAgICAgIG1pbj17ZmllbGQubWluID8/IDB9XHJcbiAgICAgICAgICAgICAgbWF4PXtmaWVsZC5tYXggPz8gMX1cclxuICAgICAgICAgICAgICBzdGVwPXtmaWVsZC5zdGVwID8/IDAuMDF9XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC0xXCJcclxuICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgYWNjZW50Q29sb3I6ICd2YXIoLS10aGVtZS1wcmltYXJ5KSdcclxuICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcclxuICAgICAgICAgICAgICB2YWx1ZT17dmFsdWUgPz8gZmllbGQuZGVmYXVsdCA/PyAwfVxyXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gb25DaGFuZ2Uoa2V5LCBwYXJzZUZsb2F0KGUudGFyZ2V0LnZhbHVlKSl9XHJcbiAgICAgICAgICAgICAgbWluPXtmaWVsZC5taW4gPz8gMH1cclxuICAgICAgICAgICAgICBtYXg9e2ZpZWxkLm1heCA/PyAxfVxyXG4gICAgICAgICAgICAgIHN0ZXA9e2ZpZWxkLnN0ZXAgPz8gMC4wMX1cclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTIwIHB4LTIgcHktMSBib3JkZXIgcm91bmRlZCB0ZXh0LXNtIHRleHQtY2VudGVyXCJcclxuICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3ZhcigtLXRoZW1lLXN1cmZhY2UtdmFyaWFudCknLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0KScsXHJcbiAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogJ3ZhcigtLXRoZW1lLWJvcmRlciknLFxyXG4gICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKTtcclxuXHJcbiAgICBjYXNlICdjb2xvcic6XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0yXCI+XHJcbiAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgdHlwZT1cImNvbG9yXCJcclxuICAgICAgICAgICAgdmFsdWU9e3ZhbHVlIHx8ICcjMDAwMDAwJ31cclxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBvbkNoYW5nZShrZXksIGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xMiBoLTEwIGJvcmRlciByb3VuZGVkIGN1cnNvci1wb2ludGVyXCJcclxuICAgICAgICAgICAgc3R5bGU9e3sgYm9yZGVyQ29sb3I6ICd2YXIoLS10aGVtZS1ib3JkZXIpJyB9fVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgIHZhbHVlPXt2YWx1ZSB8fCAnJ31cclxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBvbkNoYW5nZShrZXksIGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCIjMDAwMDAwXCJcclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC0xIHB4LTMgcHktMiBib3JkZXIgcm91bmRlZCB0ZXh0LXNtIGZvY3VzOm91dGxpbmUtbm9uZVwiXHJcbiAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3ZhcigtLXRoZW1lLXN1cmZhY2UtdmFyaWFudCknLFxyXG4gICAgICAgICAgICAgIGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dCknLFxyXG4gICAgICAgICAgICAgIGJvcmRlckNvbG9yOiAndmFyKC0tdGhlbWUtYm9yZGVyKScsXHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgIG9uRm9jdXM9eyhlKSA9PiBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYm9yZGVyQ29sb3IgPSAndmFyKC0tdGhlbWUtcHJpbWFyeSknfVxyXG4gICAgICAgICAgICBvbkJsdXI9eyhlKSA9PiBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYm9yZGVyQ29sb3IgPSAndmFyKC0tdGhlbWUtYm9yZGVyKSd9XHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApO1xyXG5cclxuICAgIGNhc2UgJ2RhdGUnOlxyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgdHlwZT1cImRhdGVcIlxyXG4gICAgICAgICAgdmFsdWU9e3ZhbHVlIHx8ICcnfVxyXG4gICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBvbkNoYW5nZShrZXksIGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0zIHB5LTIgYm9yZGVyIHJvdW5kZWQgdGV4dC1zbSBmb2N1czpvdXRsaW5lLW5vbmVcIlxyXG4gICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogJ3ZhcigtLXRoZW1lLXN1cmZhY2UtdmFyaWFudCknLFxyXG4gICAgICAgICAgICBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQpJyxcclxuICAgICAgICAgICAgYm9yZGVyQ29sb3I6ICd2YXIoLS10aGVtZS1ib3JkZXIpJyxcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgICBvbkZvY3VzPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJvcmRlckNvbG9yID0gJ3ZhcigtLXRoZW1lLXByaW1hcnkpJ31cclxuICAgICAgICAgIG9uQmx1cj17KGUpID0+IGUuY3VycmVudFRhcmdldC5zdHlsZS5ib3JkZXJDb2xvciA9ICd2YXIoLS10aGVtZS1ib3JkZXIpJ31cclxuICAgICAgICAvPlxyXG4gICAgICApO1xyXG5cclxuICAgIGNhc2UgJ2ZpbGVfcGlja2VyJzpcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxyXG4gICAgICAgICAgPEZpbGVQaWNrZXJcclxuICAgICAgICAgICAgdmFsdWU9e3ZhbHVlIHx8ICcnfVxyXG4gICAgICAgICAgICBvbkNoYW5nZT17KGZpbGVJZCwgZmlsZSkgPT4ge1xyXG4gICAgICAgICAgICAgIG9uQ2hhbmdlKGtleSwgZmlsZUlkKTtcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgYWNjZXB0PXtmaWVsZC5hY2NlcHR9XHJcbiAgICAgICAgICAgIG1heFNpemVNQj17ZmllbGQubWF4X3NpemVfbWJ9XHJcbiAgICAgICAgICAgIGZpbGVDYXRlZ29yeT17ZmllbGQuZmlsZV9jYXRlZ29yeSBhcyBGaWxlQ2F0ZWdvcnl9XHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtmaWVsZC5wbGFjZWhvbGRlciB8fCAnU2VsZWN0IG9yIHVwbG9hZCBhIGZpbGUnfVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICAgIHsvKiBNZWRpYSBQcmV2aWV3IC0gU3VwcG9ydHMgYWxsIG1lZGlhIHR5cGVzICovfVxyXG4gICAgICAgICAge3ZhbHVlICYmIChcclxuICAgICAgICAgICAgPE1lZGlhVmlld2VyQ29uZmlnXHJcbiAgICAgICAgICAgICAgZmlsZUlkPXt2YWx1ZX1cclxuICAgICAgICAgICAgICBmaWxlQ2F0ZWdvcnk9e2ZpZWxkLmZpbGVfY2F0ZWdvcnkgYXMgRmlsZUNhdGVnb3J5fVxyXG4gICAgICAgICAgICAgIGFjY2VwdD17ZmllbGQuYWNjZXB0fVxyXG4gICAgICAgICAgICAgIGhlaWdodD1cIjUwMHB4XCJcclxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgTWVkaWFGb3JtYXQgZnJvbSBmaWxlIHBpY2tlciBkYXRhXHJcbiAgICAgICAgICAgICAgICBjb25zdCBtZWRpYUZvcm1hdDogTWVkaWFGb3JtYXQgPSB7XHJcbiAgICAgICAgICAgICAgICAgIHR5cGU6IChmaWVsZC5maWxlX2NhdGVnb3J5IGFzIGFueSkgfHwgJ2RvY3VtZW50JyxcclxuICAgICAgICAgICAgICAgICAgZm9ybWF0OiBmaWVsZC5hY2NlcHQ/LnNwbGl0KCcsJylbMF0/LnJlcGxhY2UoJy4nLCAnJykgfHwgJ3BkZicsXHJcbiAgICAgICAgICAgICAgICAgIGRhdGE6IHZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICBkYXRhX3R5cGU6ICdmaWxlX3BhdGgnLFxyXG4gICAgICAgICAgICAgICAgICBtZXRhZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbGVfaWQ6IHZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIG9uTWVkaWFDbGljaz8uKG1lZGlhRm9ybWF0LCAnZWRpdCcpO1xyXG4gICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICApfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApO1xyXG5cclxuICAgIGNhc2UgJ2ZvbGRlcl9waWNrZXInOlxyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxGb2xkZXJQaWNrZXJcclxuICAgICAgICAgIHZhbHVlPXt2YWx1ZSB8fCAnJ31cclxuICAgICAgICAgIG9uQ2hhbmdlPXsoZm9sZGVyUGF0aCkgPT4ge1xyXG4gICAgICAgICAgICBvbkNoYW5nZShrZXksIGZvbGRlclBhdGgpO1xyXG4gICAgICAgICAgfX1cclxuICAgICAgICAgIHBsYWNlaG9sZGVyPXtmaWVsZC5wbGFjZWhvbGRlciB8fCAnU2VsZWN0IGEgZm9sZGVyJ31cclxuICAgICAgICAvPlxyXG4gICAgICApO1xyXG5cclxuICAgIGNhc2UgJ3Bhc3N3b3JkJzpcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8UGFzc3dvcmRJbnB1dFxyXG4gICAgICAgICAgdmFsdWU9e3ZhbHVlIHx8ICcnfVxyXG4gICAgICAgICAgb25DaGFuZ2U9eyh2YWwpID0+IG9uQ2hhbmdlKGtleSwgdmFsKX1cclxuICAgICAgICAgIHBsYWNlaG9sZGVyPXtmaWVsZC5wbGFjZWhvbGRlciB8fCAnRW50ZXIgcGFzc3dvcmQgb3IgQVBJIGtleSd9XHJcbiAgICAgICAgLz5cclxuICAgICAgKTtcclxuXHJcbiAgICBjYXNlICdrZXl2YWx1ZSc6XHJcbiAgICAgIHJldHVybiA8S2V5VmFsdWVFZGl0b3IgdmFsdWU9e3ZhbHVlIHx8IHt9fSBvbkNoYW5nZT17KHZhbCkgPT4gb25DaGFuZ2Uoa2V5LCB2YWwpfSBwbGFjZWhvbGRlcj17ZmllbGQucGxhY2Vob2xkZXJ9IC8+O1xyXG5cclxuICAgIGNhc2UgJ2NyZWRlbnRpYWwnOlxyXG4gICAgICByZXR1cm4gPExvY2FsQ3JlZGVudGlhbFBpY2tlciB2YWx1ZT17dmFsdWUgfHwgJyd9IG9uQ2hhbmdlPXsodmFsKSA9PiBvbkNoYW5nZShrZXksIHZhbCl9IGZpbHRlcj17ZmllbGQuZmlsdGVyfSAvPjtcclxuXHJcbiAgICBjYXNlICdodWdnaW5nZmFjZV9tb2RlbF9icm93c2VyJzpcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8SHVnZ2luZ0ZhY2VNb2RlbEJyb3dzZXJcclxuICAgICAgICAgIG9uTW9kZWxTZWxlY3RlZD17KG1vZGVsOiBNb2RlbERldGFpbHMpID0+IHtcclxuICAgICAgICAgICAgLy8gU3RvcmUgdGhlIGVudGlyZSBtb2RlbCBvYmplY3QgaW4gY29uZmlnXHJcbiAgICAgICAgICAgIG9uQ2hhbmdlKGtleSwge1xyXG4gICAgICAgICAgICAgIG1vZGVsX2lkOiBtb2RlbC5tb2RlbF9pZCxcclxuICAgICAgICAgICAgICB0YXNrOiBtb2RlbC5waXBlbGluZV90YWcsXHJcbiAgICAgICAgICAgICAgbW9kZWxfaW5mbzogbW9kZWwsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfX1cclxuICAgICAgICAgIGluaXRpYWxNb2RlbElkPXt2YWx1ZT8ubW9kZWxfaWR9XHJcbiAgICAgICAgICBlbmFibGVGaWx0ZXJzPXt0cnVlfVxyXG4gICAgICAgICAgaXRlbXNQZXJQYWdlPXsyMH1cclxuICAgICAgICAvPlxyXG4gICAgICApO1xyXG5cclxuICAgIGNhc2UgJ3RleHQnOlxyXG4gICAgZGVmYXVsdDpcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8aW5wdXRcclxuICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgIHZhbHVlPXt2YWx1ZSB8fCAnJ31cclxuICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gb25DaGFuZ2Uoa2V5LCBlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICBwbGFjZWhvbGRlcj17ZmllbGQucGxhY2Vob2xkZXJ9XHJcbiAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciByb3VuZGVkIHRleHQtc20gZm9jdXM6b3V0bGluZS1ub25lXCJcclxuICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICd2YXIoLS10aGVtZS1zdXJmYWNlLXZhcmlhbnQpJyxcclxuICAgICAgICAgICAgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0KScsXHJcbiAgICAgICAgICAgIGJvcmRlckNvbG9yOiAndmFyKC0tdGhlbWUtYm9yZGVyKScsXHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgICAgb25Gb2N1cz17KGUpID0+IGUuY3VycmVudFRhcmdldC5zdHlsZS5ib3JkZXJDb2xvciA9ICd2YXIoLS10aGVtZS1wcmltYXJ5KSd9XHJcbiAgICAgICAgICBvbkJsdXI9eyhlKSA9PiBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYm9yZGVyQ29sb3IgPSAndmFyKC0tdGhlbWUtYm9yZGVyKSd9XHJcbiAgICAgICAgLz5cclxuICAgICAgKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldERlZmF1bHRXaWRnZXQodHlwZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgIGNhc2UgJ2Jvb2xlYW4nOiByZXR1cm4gJ2NoZWNrYm94JztcclxuICAgIGNhc2UgJ2ludGVnZXInOlxyXG4gICAgY2FzZSAnZmxvYXQnOiByZXR1cm4gJ251bWJlcic7XHJcbiAgICBjYXNlICdzdHJpbmcnOiByZXR1cm4gJ3RleHQnO1xyXG4gICAgZGVmYXVsdDogcmV0dXJuICd0ZXh0JztcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDaGVjayBpZiBhIGZpZWxkIHNob3VsZCBiZSBzaG93biBiYXNlZCBvbiBzaG93X2lmIG9yIHZpc2libGVfd2hlbiBjb25kaXRpb25zXHJcbiAqIHNob3dfaWYgZm9ybWF0OiB7IGZpZWxkTmFtZTogZXhwZWN0ZWRWYWx1ZSwgLi4uIH1cclxuICogdmlzaWJsZV93aGVuIGZvcm1hdDogeyBmaWVsZE5hbWU6IGV4cGVjdGVkVmFsdWUgb3IgW3ZhbHVlMSwgdmFsdWUyXSB9XHJcbiAqIEFsbCBjb25kaXRpb25zIG11c3QgYmUgbWV0IChBTkQgbG9naWMpXHJcbiAqL1xyXG5mdW5jdGlvbiBjaGVja1Nob3dJZihmaWVsZDogQ29uZmlnRmllbGQsIGNvbmZpZ1ZhbHVlczogUmVjb3JkPHN0cmluZywgYW55Pik6IGJvb2xlYW4ge1xyXG4gIGNvbnN0IGNvbmRpdGlvbnMgPSBmaWVsZC5zaG93X2lmIHx8IGZpZWxkLnZpc2libGVfd2hlbjtcclxuICBcclxuICBpZiAoIWNvbmRpdGlvbnMpIHtcclxuICAgIHJldHVybiB0cnVlOyAvLyBObyBjb25kaXRpb25zLCBhbHdheXMgc2hvd1xyXG4gIH1cclxuICBcclxuICAvLyBDaGVjayBhbGwgY29uZGl0aW9ucyAoQU5EIGxvZ2ljKVxyXG4gIGZvciAoY29uc3QgW2NvbmRpdGlvbkZpZWxkLCBleHBlY3RlZFZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhjb25kaXRpb25zKSkge1xyXG4gICAgY29uc3QgYWN0dWFsVmFsdWUgPSBjb25maWdWYWx1ZXNbY29uZGl0aW9uRmllbGRdO1xyXG4gICAgXHJcbiAgICAvLyBIYW5kbGUgYXJyYXkgb2YgdmFsdWVzIChPUiBsb2dpYyB3aXRoaW4gdGhlIGZpZWxkKVxyXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZXhwZWN0ZWRWYWx1ZSkpIHtcclxuICAgICAgaWYgKCFleHBlY3RlZFZhbHVlLmluY2x1ZGVzKGFjdHVhbFZhbHVlKSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTsgLy8gVmFsdWUgbm90IGluIGV4cGVjdGVkIGxpc3RcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gU2luZ2xlIHZhbHVlIGNvbXBhcmlzb25cclxuICAgICAgaWYgKGFjdHVhbFZhbHVlICE9PSBleHBlY3RlZFZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBDb25kaXRpb24gbm90IG1ldFxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiB0cnVlOyAvLyBBbGwgY29uZGl0aW9ucyBtZXRcclxufVxyXG5cclxuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJWYXJpYWJsZU9yVGV4dElucHV0IiwiZ2V0QXZhaWxhYmxlVmFyaWFibGVzIiwic2hvdWxkVXNlVmFyaWFibGVJbnB1dCIsIkZpbGVQaWNrZXIiLCJGb2xkZXJQaWNrZXIiLCJQYXNzd29yZElucHV0IiwiSHVnZ2luZ0ZhY2VNb2RlbEJyb3dzZXIiLCJNZWRpYVZpZXdlckNvbmZpZyIsIk1lZGlhT3V0cHV0Vmlld2VyIiwiaGFzTWVkaWFGb3JtYXQiLCJNZWRpYUZ1bGxTY3JlZW5Nb2RhbCIsImdldEFwaUJhc2VVcmwiLCJLZXlWYWx1ZUVkaXRvciIsInZhbHVlIiwib25DaGFuZ2UiLCJwbGFjZWhvbGRlciIsInBhaXJzIiwic2V0UGFpcnMiLCJPYmplY3QiLCJrZXlzIiwibGVuZ3RoIiwibmV3UGFpcnMiLCJlbnRyaWVzIiwibWFwIiwiayIsInYiLCJpZHgiLCJrZXkiLCJpZCIsIkRhdGUiLCJub3ciLCJ1cGRhdGVQYWlycyIsIm9iaiIsImZvckVhY2giLCJwYWlyIiwidHJpbSIsImFkZFBhaXIiLCJyZW1vdmVQYWlyIiwiZmlsdGVyIiwicCIsInVwZGF0ZVBhaXIiLCJmaWVsZCIsIm5ld1ZhbHVlIiwiZGl2IiwiY2xhc3NOYW1lIiwiaW5wdXQiLCJ0eXBlIiwiZSIsInRhcmdldCIsInN0eWxlIiwiYmFja2dyb3VuZCIsImNvbG9yIiwiYm9yZGVyQ29sb3IiLCJvbkZvY3VzIiwiY3VycmVudFRhcmdldCIsIm9uQmx1ciIsImJ1dHRvbiIsIm9uQ2xpY2siLCJ0aXRsZSIsImRpc2FibGVkIiwiaSIsIkxvY2FsQ3JlZGVudGlhbFBpY2tlciIsImNyZWRlbnRpYWxzIiwic2V0Q3JlZGVudGlhbHMiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImZldGNoIiwidGhlbiIsInJlcyIsImpzb24iLCJkYXRhIiwiY3JlZHMiLCJzZXJ2aWNlX3R5cGUiLCJjIiwiYXV0aF90eXBlIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJzZWxlY3QiLCJwYXJzZUludCIsIm9wdGlvbiIsImNyZWQiLCJuYW1lIiwid2luZG93Iiwib3BlbiIsIlByb3ZpZGVyU2VsZWN0IiwicHJvdmlkZXJzIiwic2V0UHJvdmlkZXJzIiwiZW5hYmxlZFByb3ZpZGVycyIsInZhbHVlcyIsImVuYWJsZWQiLCJwcm92aWRlcl90eXBlIiwiZGlzcGxheV9uYW1lIiwiTW9kZWxTZWxlY3QiLCJwcm92aWRlciIsIm1vZGVscyIsInNldE1vZGVscyIsIm1vZGVsTGlzdCIsIm0iLCJDb25maWdQYW5lbCIsInNlbGVjdGVkTm9kZSIsIm5vZGVEZWZpbml0aW9uIiwib25Db25maWdVcGRhdGUiLCJvbk5vZGVVcGRhdGUiLCJvbkNsb3NlIiwid29ya2Zsb3dOb2RlcyIsIndvcmtmbG93Q29ubmVjdGlvbnMiLCJub2RlRGVmaW5pdGlvbnMiLCJub2RlRXhlY3V0aW9uRGF0YSIsImNvbmZpZ1ZhbHVlcyIsInNldENvbmZpZ1ZhbHVlcyIsInNoYXJlT3V0cHV0cyIsInNldFNoYXJlT3V0cHV0cyIsInZhcmlhYmxlTmFtZSIsInNldFZhcmlhYmxlTmFtZSIsImhhc0NoYW5nZXMiLCJzZXRIYXNDaGFuZ2VzIiwiYWN0aXZlVGFiIiwic2V0QWN0aXZlVGFiIiwib3V0cHV0Vmlld01vZGUiLCJzZXRPdXRwdXRWaWV3TW9kZSIsImlzU2F2aW5nIiwic2V0SXNTYXZpbmciLCJhdXRvU2F2ZVRpbWVyUmVmIiwibGFzdFNhdmVkTm9kZUlkUmVmIiwiZHluYW1pY1Rhc2tDb25maWciLCJzZXREeW5hbWljVGFza0NvbmZpZyIsImxvYWRpbmdUYXNrQ29uZmlnIiwic2V0TG9hZGluZ1Rhc2tDb25maWciLCJpc01vZGFsT3BlbiIsInNldElzTW9kYWxPcGVuIiwibW9kYWxNZWRpYSIsInNldE1vZGFsTWVkaWEiLCJtb2RhbE1vZGUiLCJzZXRNb2RhbE1vZGUiLCJtb2RhbEluZGV4Iiwic2V0TW9kYWxJbmRleCIsImhhbmRsZU1lZGlhQ2xpY2siLCJtZWRpYSIsIm1vZGUiLCJpbmRleCIsImhhbmRsZU1vZGFsU2F2ZSIsImFubm90YXRpb25zIiwiYXZhaWxhYmxlVmFyaWFibGVzIiwibm9kZV9pZCIsImxvYWREeW5hbWljVGFza0NvbmZpZyIsIm5vZGVfdHlwZSIsIm1hcmtldHBsYWNlIiwiaHVnZ2luZ2ZhY2VfbWFya2V0cGxhY2UiLCJ0YXNrIiwiZ2V0VGFza0NvbmZpZ1NjaGVtYSIsInRhc2tDb25maWciLCJwYXJhbWV0ZXJzIiwiSlNPTiIsInN0cmluZ2lmeSIsImN1cnJlbnROb2RlSWQiLCJjdXJyZW50IiwiaW5pdGlhbENvbmZpZyIsInNjaGVtYSIsImNvbmZpZ19zY2hlbWEiLCJjb25maWciLCJkZWZhdWx0IiwiZ2V0RGVmYXVsdFZhbHVlRm9yVHlwZSIsInNoYXJlX291dHB1dF90b192YXJpYWJsZXMiLCJ2YXJpYWJsZV9uYW1lIiwiY2xlYXJUaW1lb3V0Iiwibm9kZUlkVG9TYXZlIiwiY29uZmlnVG9TYXZlIiwic2hhcmVPdXRwdXRzVG9TYXZlIiwidmFyaWFibGVOYW1lVG9TYXZlIiwic2V0VGltZW91dCIsInVuZGVmaW5lZCIsImhhbmRsZVZhbHVlQ2hhbmdlIiwicHJldiIsImhhbmRsZVJlc2V0IiwicmVzZXRDb25maWciLCJoMiIsIm9uTW91c2VFbnRlciIsIm9uTW91c2VMZWF2ZSIsImhhc0ZpZWxkcyIsImljb24iLCJoMyIsImRlc2NyaXB0aW9uIiwiYm9yZGVyQm90dG9tIiwibGFiZWwiLCJjaGVja2VkIiwiYWNjZW50Q29sb3IiLCJzcGFuIiwic2hvdWxkU2hvdyIsImNoZWNrU2hvd0lmIiwid2lkZ2V0IiwicmVxdWlyZWQiLCJ1c2VWYXJpYWJsZUlucHV0IiwiaGFzVmFycyIsInJlbmRlckZpZWxkIiwiaDQiLCJwYXJhbUtleSIsInBhcmFtRmllbGQiLCJjb21tb25fcGFyYW1ldGVycyIsInRhc2tfc3BlY2lmaWNfcGFyYW1ldGVycyIsInRhcmdldE9iaiIsImFwcGxpY2FibGVfdGFza3MiLCJleGVjdXRpb25EYXRhIiwib3BhY2l0eSIsInN1Y2Nlc3MiLCJpbnB1dHMiLCJuYXZpZ2F0b3IiLCJjbGlwYm9hcmQiLCJ3cml0ZVRleHQiLCJwcmUiLCJ3aGl0ZVNwYWNlIiwid29yZEJyZWFrIiwib3ZlcmZsb3dXcmFwIiwib3V0cHV0cyIsInBvcnROYW1lIiwicG9ydERhdGEiLCJoYXNNZWRpYSIsIm9uTWVkaWFDbGljayIsInByZXZpZXdfZGF0YSIsImNhdGVnb3J5Iiwic3RhdHVzIiwib3V0cHV0IiwiaXNPcGVuIiwibWVkaWFEYXRhIiwiaW5pdGlhbEluZGV4Iiwib25TYXZlIiwiZ2V0RGVmYXVsdFdpZGdldCIsInRleHRhcmVhIiwicm93cyIsInZhbCIsInBhcnNlRmxvYXQiLCJtaW4iLCJtYXgiLCJvcHRpb25zIiwib3B0IiwicHJvdmlkZXJWYWx1ZSIsImRlcGVuZHNfb24iLCJzdGVwIiwiZmlsZUlkIiwiZmlsZSIsImFjY2VwdCIsIm1heFNpemVNQiIsIm1heF9zaXplX21iIiwiZmlsZUNhdGVnb3J5IiwiZmlsZV9jYXRlZ29yeSIsImhlaWdodCIsIm1lZGlhRm9ybWF0IiwiZm9ybWF0Iiwic3BsaXQiLCJyZXBsYWNlIiwiZGF0YV90eXBlIiwibWV0YWRhdGEiLCJmaWxlX2lkIiwiZm9sZGVyUGF0aCIsIm9uTW9kZWxTZWxlY3RlZCIsIm1vZGVsIiwibW9kZWxfaWQiLCJwaXBlbGluZV90YWciLCJtb2RlbF9pbmZvIiwiaW5pdGlhbE1vZGVsSWQiLCJlbmFibGVGaWx0ZXJzIiwiaXRlbXNQZXJQYWdlIiwiY29uZGl0aW9ucyIsInNob3dfaWYiLCJ2aXNpYmxlX3doZW4iLCJjb25kaXRpb25GaWVsZCIsImV4cGVjdGVkVmFsdWUiLCJhY3R1YWxWYWx1ZSIsIkFycmF5IiwiaXNBcnJheSIsImluY2x1ZGVzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/editor-page/ConfigPanel.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/app/editor-page/ConnectionsLayer.tsx":
/*!**************************************************!*\
  !*** ./src/app/editor-page/ConnectionsLayer.tsx ***!
  \**************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConnectionsLayer: () => (/* binding */ ConnectionsLayer)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\nfunction ConnectionsLayer({ connections, nodes, tempConnection, onConnectionClick }) {\n    const getPortPosition = (nodeId, portId, portType)=>{\n        // Always use calculated position for consistency\n        const node = nodes.find((n)=>n.node_id === nodeId);\n        if (!node) return null;\n        const ports = portType === 'input' ? node.inputs : node.outputs;\n        const portIndex = ports.findIndex((p)=>p.id === portId);\n        if (portIndex === -1) return null;\n        // Get actual node width from DOM\n        let nodeWidth = 240; // Default fallback\n        const nodeElement = document.querySelector(`[data-node-id=\"${nodeId}\"]`);\n        if (nodeElement) {\n            const computedStyle = window.getComputedStyle(nodeElement);\n            nodeWidth = parseFloat(computedStyle.width) || 240;\n        }\n        // Node dimensions\n        const nodeHeaderHeight = 41;\n        const nodeBodyPaddingTop = 12;\n        const portGap = 8;\n        const portRowHeight = 16;\n        const portHandleCenter = portRowHeight / 2;\n        const finetuneOffset = 8;\n        const portOffsetY = nodeHeaderHeight + nodeBodyPaddingTop + portIndex * (portRowHeight + portGap) + portHandleCenter + finetuneOffset;\n        // Handle flipped nodes: inputs and outputs swap sides\n        const isFlipped = node.flipped;\n        let portOffsetX;\n        if (!isFlipped) {\n            // Normal: inputs on left (0), outputs on right (nodeWidth)\n            portOffsetX = portType === 'input' ? 0 : nodeWidth;\n        } else {\n            // Flipped: inputs on right (nodeWidth), outputs on left (0)\n            portOffsetX = portType === 'input' ? nodeWidth : 0;\n        }\n        const x = node.position.x + portOffsetX;\n        const y = node.position.y + portOffsetY;\n        return {\n            x,\n            y\n        };\n    };\n    const createPath = (x1, y1, x2, y2, sourceFlipped = false, targetFlipped = false)=>{\n        // Calculate horizontal distance between points\n        const dx = x2 - x1;\n        const dy = y2 - y1;\n        // Determine port directions based on flip state\n        // Normal output: goes right, Flipped output: goes left\n        // Normal input: comes from left, Flipped input: comes from right\n        const sourceGoesLeft = sourceFlipped; // Flipped output goes left\n        const targetFromLeft = !targetFlipped; // Normal input receives from left\n        // SPECIAL CASE: Both ports on LEFT side (flipped output + normal input)\n        // This requires a loop curve instead of hook\n        if (sourceGoesLeft && targetFromLeft && Math.abs(dy) > 30) {\n            const horizontalOut = 500; // Moderate horizontal extension left\n            const verticalPush = 100; // Moderate vertical curve\n            const curveDirection = dy > 0 ? 1 : -1; // 1 = down, -1 = up\n            // Curve goes: moderately left  curve down/up  back in\n            const cp1x = x1 - horizontalOut;\n            const cp1y = y1 + verticalPush * curveDirection;\n            const cp2x = x2 - horizontalOut;\n            const cp2y = y2 - verticalPush * curveDirection;\n            return `M ${x1},${y1} C ${cp1x},${cp1y} ${cp2x},${cp2y} ${x2},${y2}`;\n        }\n        // Check if connection is going backwards (output to the right of input)\n        const isBackwards = dx < 0;\n        if (isBackwards || sourceGoesLeft) {\n            // Create a fish hook shape for backwards connections or flipped outputs\n            const hookDistance = 80; // How far to extend horizontally\n            // Determine which direction to go initially\n            const initialDirection = sourceGoesLeft ? -1 : 1; // -1 = left, 1 = right\n            // Control points for clean hook shape without end curl\n            // cp1: Go straight out from source (left if flipped, right if normal)\n            const cp1x = x1 + hookDistance * initialDirection;\n            const cp1y = y1;\n            // cp2: Curve down/up (depending on target position)\n            const cp2x = x1 + hookDistance * initialDirection;\n            const cp2y = y2;\n            // Simple cubic bezier: straight out, curve around, straight in\n            return `M ${x1},${y1} C ${cp1x},${cp1y} ${cp2x},${cp2y} ${x2},${y2}`;\n        } else {\n            // Normal forward connection - use smooth S-curve bezier\n            // Normal forward connection - use smooth bezier curve\n            // Calculate adaptive offset based on distance\n            const distance = Math.abs(dx);\n            const offset = Math.min(distance / 2, 150); // Cap at 150px\n            const cp1x = x1 + offset;\n            const cp1y = y1;\n            const cp2x = x2 - offset;\n            const cp2y = y2;\n            return `M ${x1},${y1} C ${cp1x},${cp1y} ${cp2x},${cp2y} ${x2},${y2}`;\n        }\n    };\n    const getConnectionColor = (portType)=>{\n        const colors = {\n            // Core types\n            signal: '#6366f1',\n            universal: '#9ca3af',\n            // Multimodal types\n            text: '#3b82f6',\n            image: '#ec4899',\n            audio: '#8b5cf6',\n            video: '#f97316',\n            document: '#06b6d4',\n            // Special types\n            tools: '#84cc16',\n            memory: '#eab308',\n            ui: '#f43f5e',\n            // Legacy types\n            number: '#10b981',\n            boolean: '#f59e0b',\n            object: '#8b5cf6',\n            array: '#ec4899',\n            any: '#6b7280'\n        };\n        return colors[portType || 'universal'] || '#6b7280';\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n        className: \"pointer-events-none\",\n        style: {\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            width: '100%',\n            height: '100%',\n            zIndex: 5,\n            overflow: 'visible'\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"defs\", {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"marker\", {\n                    id: \"arrowhead\",\n                    markerWidth: \"10\",\n                    markerHeight: \"10\",\n                    refX: \"8\",\n                    refY: \"3\",\n                    orient: \"auto\",\n                    markerUnits: \"strokeWidth\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                        d: \"M0,0 L0,6 L9,3 z\",\n                        fill: \"currentColor\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConnectionsLayer.tsx\",\n                        lineNumber: 216,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConnectionsLayer.tsx\",\n                    lineNumber: 207,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConnectionsLayer.tsx\",\n                lineNumber: 205,\n                columnNumber: 7\n            }, this),\n            connections.map((conn)=>{\n                const sourcePos = getPortPosition(conn.source.node_id, conn.source.port_id, 'output');\n                const targetPos = getPortPosition(conn.target.node_id, conn.target.port_id, 'input');\n                if (!sourcePos || !targetPos) {\n                    return null;\n                }\n                // Get source and target nodes to check flip state\n                const sourceNode = nodes.find((n)=>n.node_id === conn.source.node_id);\n                const targetNode = nodes.find((n)=>n.node_id === conn.target.node_id);\n                const path = createPath(sourcePos.x, sourcePos.y, targetPos.x, targetPos.y, sourceNode?.flipped || false, targetNode?.flipped || false);\n                // Get port type from source node\n                const sourcePort = sourceNode?.outputs.find((p)=>p.id === conn.source.port_id);\n                const portType = sourcePort?.type || 'universal';\n                const color = getConnectionColor(portType);\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"g\", {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                            d: path,\n                            stroke: \"transparent\",\n                            strokeWidth: \"16\",\n                            fill: \"none\",\n                            className: \"pointer-events-auto cursor-pointer\",\n                            onClick: ()=>onConnectionClick?.(conn.id)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConnectionsLayer.tsx\",\n                            lineNumber: 250,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                            d: path,\n                            stroke: color,\n                            strokeWidth: \"2\",\n                            fill: \"none\",\n                            className: \"pointer-events-none connection-line\",\n                            style: {\n                                color\n                            }\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConnectionsLayer.tsx\",\n                            lineNumber: 259,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, conn.id, true, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConnectionsLayer.tsx\",\n                    lineNumber: 248,\n                    columnNumber: 11\n                }, this);\n            }),\n            tempConnection && (()=>{\n                const sourcePos = getPortPosition(tempConnection.fromNode, tempConnection.fromPort, tempConnection.fromType);\n                if (!sourcePos) return null;\n                const x1 = tempConnection.fromType === 'output' ? sourcePos.x : tempConnection.currentX;\n                const y1 = tempConnection.fromType === 'output' ? sourcePos.y : tempConnection.currentY;\n                const x2 = tempConnection.fromType === 'output' ? tempConnection.currentX : sourcePos.x;\n                const y2 = tempConnection.fromType === 'output' ? tempConnection.currentY : sourcePos.y;\n                // Get source node flip state for temporary connection\n                const sourceNode = nodes.find((n)=>n.node_id === tempConnection.fromNode);\n                const sourceFlipped = tempConnection.fromType === 'output' ? sourceNode?.flipped || false : false;\n                const targetFlipped = tempConnection.fromType === 'input' ? sourceNode?.flipped || false : false;\n                const path = createPath(x1, y1, x2, y2, sourceFlipped, targetFlipped);\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                    d: path,\n                    stroke: \"#6b7280\",\n                    strokeWidth: \"2\",\n                    strokeDasharray: \"5,5\",\n                    fill: \"none\",\n                    className: \"pointer-events-none temp-connection\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConnectionsLayer.tsx\",\n                    lineNumber: 294,\n                    columnNumber: 11\n                }, this);\n            })()\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\ConnectionsLayer.tsx\",\n        lineNumber: 193,\n        columnNumber: 5\n    }, this);\n}\n_c = ConnectionsLayer;\nvar _c;\n$RefreshReg$(_c, \"ConnectionsLayer\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvZWRpdG9yLXBhZ2UvQ29ubmVjdGlvbnNMYXllci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBMEI7QUFtQ25CLFNBQVNDLGlCQUFpQixFQUMvQkMsV0FBVyxFQUNYQyxLQUFLLEVBQ0xDLGNBQWMsRUFDZEMsaUJBQWlCLEVBQ0s7SUFFdEIsTUFBTUMsa0JBQWtCLENBQ3RCQyxRQUNBQyxRQUNBQztRQUVBLGlEQUFpRDtRQUNqRCxNQUFNQyxPQUFPUCxNQUFNUSxJQUFJLENBQUNDLENBQUFBLElBQUtBLEVBQUVDLE9BQU8sS0FBS047UUFDM0MsSUFBSSxDQUFDRyxNQUFNLE9BQU87UUFFbEIsTUFBTUksUUFBUUwsYUFBYSxVQUFVQyxLQUFLSyxNQUFNLEdBQUdMLEtBQUtNLE9BQU87UUFDL0QsTUFBTUMsWUFBWUgsTUFBTUksU0FBUyxDQUFDQyxDQUFBQSxJQUFLQSxFQUFFQyxFQUFFLEtBQUtaO1FBQ2hELElBQUlTLGNBQWMsQ0FBQyxHQUFHLE9BQU87UUFFN0IsaUNBQWlDO1FBQ2pDLElBQUlJLFlBQVksS0FBSyxtQkFBbUI7UUFDeEMsTUFBTUMsY0FBY0MsU0FBU0MsYUFBYSxDQUFDLENBQUMsZUFBZSxFQUFFakIsT0FBTyxFQUFFLENBQUM7UUFDdkUsSUFBSWUsYUFBYTtZQUNmLE1BQU1HLGdCQUFnQkMsT0FBT0MsZ0JBQWdCLENBQUNMO1lBQzlDRCxZQUFZTyxXQUFXSCxjQUFjSSxLQUFLLEtBQUs7UUFDakQ7UUFFQSxrQkFBa0I7UUFDbEIsTUFBTUMsbUJBQW1CO1FBQ3pCLE1BQU1DLHFCQUFxQjtRQUMzQixNQUFNQyxVQUFVO1FBQ2hCLE1BQU1DLGdCQUFnQjtRQUN0QixNQUFNQyxtQkFBbUJELGdCQUFnQjtRQUN6QyxNQUFNRSxpQkFBaUI7UUFFdkIsTUFBTUMsY0FBY04sbUJBQW1CQyxxQkFBc0JkLFlBQWFnQixDQUFBQSxnQkFBZ0JELE9BQU0sSUFBTUUsbUJBQW1CQztRQUV6SCxzREFBc0Q7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Q2hCLFdBQVcsT0FBTztnQkFFdkIsTUFBTTlELEtBQUt4QyxlQUFlc0gsUUFBUSxLQUFLLFdBQVdoQixVQUFVbEUsQ0FBQyxHQUFHcEMsZUFBZXVILFFBQVE7Z0JBQ3ZGLE1BQU05RSxLQUFLekMsZUFBZXNILFFBQVEsS0FBSyxXQUFXaEIsVUFBVWhFLENBQUMsR0FBR3RDLGVBQWV3SCxRQUFRO2dCQUN2RixNQUFNOUUsS0FBSzFDLGVBQWVzSCxRQUFRLEtBQUssV0FBV3RILGVBQWV1SCxRQUFRLEdBQUdqQixVQUFVbEUsQ0FBQztnQkFDdkYsTUFBTU8sS0FBSzNDLGVBQWVzSCxRQUFRLEtBQUssV0FBV3RILGVBQWV3SCxRQUFRLEdBQUdsQixVQUFVaEUsQ0FBQztnQkFFdkYsc0RBQXNEO2dCQUN0RCxNQUFNcUUsYUFBYTVHLE1BQU1RLElBQUksQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRUMsT0FBTyxLQUFLVCxlQUFlb0gsUUFBUTtnQkFDeEUsTUFBTXhFLGdCQUFnQjVDLGVBQWVzSCxRQUFRLEtBQUssV0FBWVgsWUFBWXpFLFdBQVcsUUFBUztnQkFDOUYsTUFBTVcsZ0JBQWdCN0MsZUFBZXNILFFBQVEsS0FBSyxVQUFXWCxZQUFZekUsV0FBVyxRQUFTO2dCQUU3RixNQUFNK0QsT0FBTzFELFdBQVdDLElBQUlDLElBQUlDLElBQUlDLElBQUlDLGVBQWVDO2dCQUV2RCxxQkFDRSw4REFBQ29EO29CQUNDQyxHQUFHRDtvQkFDSGdCLFFBQU87b0JBQ1BDLGFBQVk7b0JBQ1pPLGlCQUFnQjtvQkFDaEJ0QixNQUFLO29CQUNMakIsV0FBVTs7Ozs7O1lBR2hCOzs7Ozs7O0FBR047S0E5UWdCckYiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbmljaG9sYXMubGVlXFxEb2N1bWVudHNcXHpcXFRpY2tldGluZ19OaWNrXFxUaWNrZXRpbmdcXHRhdl9vcGVuc291cmNlXFx1aVxcc3JjXFxhcHBcXGVkaXRvci1wYWdlXFxDb25uZWN0aW9uc0xheWVyLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5cclxuaW50ZXJmYWNlIENvbm5lY3Rpb24ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgc291cmNlOiB7XHJcbiAgICBub2RlX2lkOiBzdHJpbmc7XHJcbiAgICBwb3J0X2lkOiBzdHJpbmc7XHJcbiAgfTtcclxuICB0YXJnZXQ6IHtcclxuICAgIG5vZGVfaWQ6IHN0cmluZztcclxuICAgIHBvcnRfaWQ6IHN0cmluZztcclxuICB9O1xyXG59XHJcblxyXG5pbnRlcmZhY2UgV29ya2Zsb3dOb2RlIHtcclxuICBub2RlX2lkOiBzdHJpbmc7ICAvLyBDaGFuZ2VkIGZyb20gJ2lkJyB0byBtYXRjaCBiYWNrZW5kXHJcbiAgcG9zaXRpb246IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfTtcclxuICBpbnB1dHM6IEFycmF5PHsgaWQ6IHN0cmluZzsgbGFiZWw6IHN0cmluZzsgdHlwZTogc3RyaW5nIH0+O1xyXG4gIG91dHB1dHM6IEFycmF5PHsgaWQ6IHN0cmluZzsgbGFiZWw6IHN0cmluZzsgdHlwZTogc3RyaW5nIH0+O1xyXG4gIGZsaXBwZWQ/OiBib29sZWFuOyAvLyBXaGV0aGVyIHBvcnRzIGFyZSBmbGlwcGVkXHJcbn1cclxuXHJcbmludGVyZmFjZSBDb25uZWN0aW9uc0xheWVyUHJvcHMge1xyXG4gIGNvbm5lY3Rpb25zOiBDb25uZWN0aW9uW107XHJcbiAgbm9kZXM6IFdvcmtmbG93Tm9kZVtdO1xyXG4gIHRlbXBDb25uZWN0aW9uPzoge1xyXG4gICAgZnJvbU5vZGU6IHN0cmluZztcclxuICAgIGZyb21Qb3J0OiBzdHJpbmc7XHJcbiAgICBmcm9tVHlwZTogJ2lucHV0JyB8ICdvdXRwdXQnO1xyXG4gICAgY3VycmVudFg6IG51bWJlcjtcclxuICAgIGN1cnJlbnRZOiBudW1iZXI7XHJcbiAgfSB8IG51bGw7XHJcbiAgb25Db25uZWN0aW9uQ2xpY2s/OiAoY29ubmVjdGlvbklkOiBzdHJpbmcpID0+IHZvaWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBDb25uZWN0aW9uc0xheWVyKHtcclxuICBjb25uZWN0aW9ucyxcclxuICBub2RlcyxcclxuICB0ZW1wQ29ubmVjdGlvbixcclxuICBvbkNvbm5lY3Rpb25DbGljayxcclxufTogQ29ubmVjdGlvbnNMYXllclByb3BzKSB7XHJcbiAgXHJcbiAgY29uc3QgZ2V0UG9ydFBvc2l0aW9uID0gKFxyXG4gICAgbm9kZUlkOiBzdHJpbmcsXHJcbiAgICBwb3J0SWQ6IHN0cmluZyxcclxuICAgIHBvcnRUeXBlOiAnaW5wdXQnIHwgJ291dHB1dCdcclxuICApOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0gfCBudWxsID0+IHtcclxuICAgIC8vIEFsd2F5cyB1c2UgY2FsY3VsYXRlZCBwb3NpdGlvbiBmb3IgY29uc2lzdGVuY3lcclxuICAgIGNvbnN0IG5vZGUgPSBub2Rlcy5maW5kKG4gPT4gbi5ub2RlX2lkID09PSBub2RlSWQpO1xyXG4gICAgaWYgKCFub2RlKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICBjb25zdCBwb3J0cyA9IHBvcnRUeXBlID09PSAnaW5wdXQnID8gbm9kZS5pbnB1dHMgOiBub2RlLm91dHB1dHM7XHJcbiAgICBjb25zdCBwb3J0SW5kZXggPSBwb3J0cy5maW5kSW5kZXgocCA9PiBwLmlkID09PSBwb3J0SWQpO1xyXG4gICAgaWYgKHBvcnRJbmRleCA9PT0gLTEpIHJldHVybiBudWxsO1xyXG5cclxuICAgIC8vIEdldCBhY3R1YWwgbm9kZSB3aWR0aCBmcm9tIERPTVxyXG4gICAgbGV0IG5vZGVXaWR0aCA9IDI0MDsgLy8gRGVmYXVsdCBmYWxsYmFja1xyXG4gICAgY29uc3Qgbm9kZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1ub2RlLWlkPVwiJHtub2RlSWR9XCJdYCk7XHJcbiAgICBpZiAobm9kZUVsZW1lbnQpIHtcclxuICAgICAgY29uc3QgY29tcHV0ZWRTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKG5vZGVFbGVtZW50KTtcclxuICAgICAgbm9kZVdpZHRoID0gcGFyc2VGbG9hdChjb21wdXRlZFN0eWxlLndpZHRoKSB8fCAyNDA7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTm9kZSBkaW1lbnNpb25zXHJcbiAgICBjb25zdCBub2RlSGVhZGVySGVpZ2h0ID0gNDE7XHJcbiAgICBjb25zdCBub2RlQm9keVBhZGRpbmdUb3AgPSAxMjtcclxuICAgIGNvbnN0IHBvcnRHYXAgPSA4O1xyXG4gICAgY29uc3QgcG9ydFJvd0hlaWdodCA9IDE2O1xyXG4gICAgY29uc3QgcG9ydEhhbmRsZUNlbnRlciA9IHBvcnRSb3dIZWlnaHQgLyAyO1xyXG4gICAgY29uc3QgZmluZXR1bmVPZmZzZXQgPSA4O1xyXG4gICAgXHJcbiAgICBjb25zdCBwb3J0T2Zmc2V0WSA9IG5vZGVIZWFkZXJIZWlnaHQgKyBub2RlQm9keVBhZGRpbmdUb3AgKyAocG9ydEluZGV4ICogKHBvcnRSb3dIZWlnaHQgKyBwb3J0R2FwKSkgKyBwb3J0SGFuZGxlQ2VudGVyICsgZmluZXR1bmVPZmZzZXQ7XHJcbiAgICBcclxuICAgIC8vIEhhbmRsZSBmbGlwcGVkIG5vZGVzOiBpbnB1dHMgYW5kIG91dHB1dHMgc3dhcCBzaWRlc1xyXG4gICAgY29uc3QgaXNGbGlwcGVkID0gKG5vZGUgYXMgYW55KS5mbGlwcGVkO1xyXG4gICAgbGV0IHBvcnRPZmZzZXRYO1xyXG4gICAgXHJcbiAgICBpZiAoIWlzRmxpcHBlZCkge1xyXG4gICAgICAvLyBOb3JtYWw6IGlucHV0cyBvbiBsZWZ0ICgwKSwgb3V0cHV0cyBvbiByaWdodCAobm9kZVdpZHRoKVxyXG4gICAgICBwb3J0T2Zmc2V0WCA9IHBvcnRUeXBlID09PSAnaW5wdXQnID8gMCA6IG5vZGVXaWR0aDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIEZsaXBwZWQ6IGlucHV0cyBvbiByaWdodCAobm9kZVdpZHRoKSwgb3V0cHV0cyBvbiBsZWZ0ICgwKVxyXG4gICAgICBwb3J0T2Zmc2V0WCA9IHBvcnRUeXBlID09PSAnaW5wdXQnID8gbm9kZVdpZHRoIDogMDtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB4ID0gbm9kZS5wb3NpdGlvbi54ICsgcG9ydE9mZnNldFg7XHJcbiAgICBjb25zdCB5ID0gbm9kZS5wb3NpdGlvbi55ICsgcG9ydE9mZnNldFk7XHJcblxyXG4gICAgcmV0dXJuIHsgeCwgeSB9O1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGNyZWF0ZVBhdGggPSAoXHJcbiAgICB4MTogbnVtYmVyLFxyXG4gICAgeTE6IG51bWJlcixcclxuICAgIHgyOiBudW1iZXIsXHJcbiAgICB5MjogbnVtYmVyLFxyXG4gICAgc291cmNlRmxpcHBlZDogYm9vbGVhbiA9IGZhbHNlLFxyXG4gICAgdGFyZ2V0RmxpcHBlZDogYm9vbGVhbiA9IGZhbHNlXHJcbiAgKTogc3RyaW5nID0+IHtcclxuICAgIC8vIENhbGN1bGF0ZSBob3Jpem9udGFsIGRpc3RhbmNlIGJldHdlZW4gcG9pbnRzXHJcbiAgICBjb25zdCBkeCA9IHgyIC0geDE7XHJcbiAgICBjb25zdCBkeSA9IHkyIC0geTE7XHJcbiAgICBcclxuICAgIC8vIERldGVybWluZSBwb3J0IGRpcmVjdGlvbnMgYmFzZWQgb24gZmxpcCBzdGF0ZVxyXG4gICAgLy8gTm9ybWFsIG91dHB1dDogZ29lcyByaWdodCwgRmxpcHBlZCBvdXRwdXQ6IGdvZXMgbGVmdFxyXG4gICAgLy8gTm9ybWFsIGlucHV0OiBjb21lcyBmcm9tIGxlZnQsIEZsaXBwZWQgaW5wdXQ6IGNvbWVzIGZyb20gcmlnaHRcclxuICAgIGNvbnN0IHNvdXJjZUdvZXNMZWZ0ID0gc291cmNlRmxpcHBlZDsgLy8gRmxpcHBlZCBvdXRwdXQgZ29lcyBsZWZ0XHJcbiAgICBjb25zdCB0YXJnZXRGcm9tTGVmdCA9ICF0YXJnZXRGbGlwcGVkOyAvLyBOb3JtYWwgaW5wdXQgcmVjZWl2ZXMgZnJvbSBsZWZ0XHJcbiAgICBcclxuICAgIC8vIFNQRUNJQUwgQ0FTRTogQm90aCBwb3J0cyBvbiBMRUZUIHNpZGUgKGZsaXBwZWQgb3V0cHV0ICsgbm9ybWFsIGlucHV0KVxyXG4gICAgLy8gVGhpcyByZXF1aXJlcyBhIGxvb3AgY3VydmUgaW5zdGVhZCBvZiBob29rXHJcbiAgICBpZiAoc291cmNlR29lc0xlZnQgJiYgdGFyZ2V0RnJvbUxlZnQgJiYgTWF0aC5hYnMoZHkpID4gMzApIHtcclxuICAgICAgY29uc3QgaG9yaXpvbnRhbE91dCA9IDUwMDsgLy8gTW9kZXJhdGUgaG9yaXpvbnRhbCBleHRlbnNpb24gbGVmdFxyXG4gICAgICBjb25zdCB2ZXJ0aWNhbFB1c2ggPSAxMDA7IC8vIE1vZGVyYXRlIHZlcnRpY2FsIGN1cnZlXHJcbiAgICAgIGNvbnN0IGN1cnZlRGlyZWN0aW9uID0gZHkgPiAwID8gMSA6IC0xOyAvLyAxID0gZG93biwgLTEgPSB1cFxyXG4gICAgICBcclxuICAgICAgLy8gQ3VydmUgZ29lczogbW9kZXJhdGVseSBsZWZ0IOKGkiBjdXJ2ZSBkb3duL3VwIOKGkiBiYWNrIGluXHJcbiAgICAgIGNvbnN0IGNwMXggPSB4MSAtIGhvcml6b250YWxPdXQ7XHJcbiAgICAgIGNvbnN0IGNwMXkgPSB5MSArICh2ZXJ0aWNhbFB1c2ggKiBjdXJ2ZURpcmVjdGlvbik7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBjcDJ4ID0geDIgLSBob3Jpem9udGFsT3V0O1xyXG4gICAgICBjb25zdCBjcDJ5ID0geTIgLSAodmVydGljYWxQdXNoICogY3VydmVEaXJlY3Rpb24pO1xyXG4gICAgICBcclxuICAgICAgcmV0dXJuIGBNICR7eDF9LCR7eTF9IEMgJHtjcDF4fSwke2NwMXl9ICR7Y3AyeH0sJHtjcDJ5fSAke3gyfSwke3kyfWA7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIENoZWNrIGlmIGNvbm5lY3Rpb24gaXMgZ29pbmcgYmFja3dhcmRzIChvdXRwdXQgdG8gdGhlIHJpZ2h0IG9mIGlucHV0KVxyXG4gICAgY29uc3QgaXNCYWNrd2FyZHMgPSBkeCA8IDA7XHJcbiAgICBcclxuICAgIGlmIChpc0JhY2t3YXJkcyB8fCBzb3VyY2VHb2VzTGVmdCkge1xyXG4gICAgICAvLyBDcmVhdGUgYSBmaXNoIGhvb2sgc2hhcGUgZm9yIGJhY2t3YXJkcyBjb25uZWN0aW9ucyBvciBmbGlwcGVkIG91dHB1dHNcclxuICAgICAgY29uc3QgaG9va0Rpc3RhbmNlID0gODA7IC8vIEhvdyBmYXIgdG8gZXh0ZW5kIGhvcml6b250YWxseVxyXG4gICAgICBcclxuICAgICAgLy8gRGV0ZXJtaW5lIHdoaWNoIGRpcmVjdGlvbiB0byBnbyBpbml0aWFsbHlcclxuICAgICAgY29uc3QgaW5pdGlhbERpcmVjdGlvbiA9IHNvdXJjZUdvZXNMZWZ0ID8gLTEgOiAxOyAvLyAtMSA9IGxlZnQsIDEgPSByaWdodFxyXG4gICAgICBcclxuICAgICAgLy8gQ29udHJvbCBwb2ludHMgZm9yIGNsZWFuIGhvb2sgc2hhcGUgd2l0aG91dCBlbmQgY3VybFxyXG4gICAgICAvLyBjcDE6IEdvIHN0cmFpZ2h0IG91dCBmcm9tIHNvdXJjZSAobGVmdCBpZiBmbGlwcGVkLCByaWdodCBpZiBub3JtYWwpXHJcbiAgICAgIGNvbnN0IGNwMXggPSB4MSArIChob29rRGlzdGFuY2UgKiBpbml0aWFsRGlyZWN0aW9uKTtcclxuICAgICAgY29uc3QgY3AxeSA9IHkxO1xyXG4gICAgICBcclxuICAgICAgLy8gY3AyOiBDdXJ2ZSBkb3duL3VwIChkZXBlbmRpbmcgb24gdGFyZ2V0IHBvc2l0aW9uKVxyXG4gICAgICBjb25zdCBjcDJ4ID0geDEgKyAoaG9va0Rpc3RhbmNlICogaW5pdGlhbERpcmVjdGlvbik7XHJcbiAgICAgIGNvbnN0IGNwMnkgPSB5MjtcclxuICAgICAgXHJcbiAgICAgIC8vIFNpbXBsZSBjdWJpYyBiZXppZXI6IHN0cmFpZ2h0IG91dCwgY3VydmUgYXJvdW5kLCBzdHJhaWdodCBpblxyXG4gICAgICByZXR1cm4gYE0gJHt4MX0sJHt5MX0gQyAke2NwMXh9LCR7Y3AxeX0gJHtjcDJ4fSwke2NwMnl9ICR7eDJ9LCR7eTJ9YDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIE5vcm1hbCBmb3J3YXJkIGNvbm5lY3Rpb24gLSB1c2Ugc21vb3RoIFMtY3VydmUgYmV6aWVyXHJcbiAgICAgIC8vIE5vcm1hbCBmb3J3YXJkIGNvbm5lY3Rpb24gLSB1c2Ugc21vb3RoIGJlemllciBjdXJ2ZVxyXG4gICAgICAvLyBDYWxjdWxhdGUgYWRhcHRpdmUgb2Zmc2V0IGJhc2VkIG9uIGRpc3RhbmNlXHJcbiAgICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5hYnMoZHgpO1xyXG4gICAgICBjb25zdCBvZmZzZXQgPSBNYXRoLm1pbihkaXN0YW5jZSAvIDIsIDE1MCk7IC8vIENhcCBhdCAxNTBweFxyXG4gICAgICBcclxuICAgICAgY29uc3QgY3AxeCA9IHgxICsgb2Zmc2V0O1xyXG4gICAgICBjb25zdCBjcDF5ID0geTE7XHJcbiAgICAgIGNvbnN0IGNwMnggPSB4MiAtIG9mZnNldDtcclxuICAgICAgY29uc3QgY3AyeSA9IHkyO1xyXG4gICAgICBcclxuICAgICAgcmV0dXJuIGBNICR7eDF9LCR7eTF9IEMgJHtjcDF4fSwke2NwMXl9ICR7Y3AyeH0sJHtjcDJ5fSAke3gyfSwke3kyfWA7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZ2V0Q29ubmVjdGlvbkNvbG9yID0gKHBvcnRUeXBlPzogc3RyaW5nKTogc3RyaW5nID0+IHtcclxuICAgIGNvbnN0IGNvbG9yczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcclxuICAgICAgLy8gQ29yZSB0eXBlc1xyXG4gICAgICBzaWduYWw6ICcjNjM2NmYxJywgICAgICAgLy8gaW5kaWdvXHJcbiAgICAgIHVuaXZlcnNhbDogJyM5Y2EzYWYnLCAgICAvLyBncmF5XHJcbiAgICAgIFxyXG4gICAgICAvLyBNdWx0aW1vZGFsIHR5cGVzXHJcbiAgICAgIHRleHQ6ICcjM2I4MmY2JywgICAgICAgICAvLyBibHVlXHJcbiAgICAgIGltYWdlOiAnI2VjNDg5OScsICAgICAgICAvLyBwaW5rXHJcbiAgICAgIGF1ZGlvOiAnIzhiNWNmNicsICAgICAgICAvLyBwdXJwbGVcclxuICAgICAgdmlkZW86ICcjZjk3MzE2JywgICAgICAgIC8vIG9yYW5nZVxyXG4gICAgICBkb2N1bWVudDogJyMwNmI2ZDQnLCAgICAgLy8gY3lhblxyXG4gICAgICBcclxuICAgICAgLy8gU3BlY2lhbCB0eXBlc1xyXG4gICAgICB0b29sczogJyM4NGNjMTYnLCAgICAgICAgLy8gbGltZVxyXG4gICAgICBtZW1vcnk6ICcjZWFiMzA4JywgICAgICAgLy8geWVsbG93XHJcbiAgICAgIHVpOiAnI2Y0M2Y1ZScsICAgICAgICAgICAvLyByb3NlXHJcbiAgICAgIFxyXG4gICAgICAvLyBMZWdhY3kgdHlwZXNcclxuICAgICAgbnVtYmVyOiAnIzEwYjk4MScsICAgICAgIC8vIGdyZWVuXHJcbiAgICAgIGJvb2xlYW46ICcjZjU5ZTBiJywgICAgICAvLyBhbWJlclxyXG4gICAgICBvYmplY3Q6ICcjOGI1Y2Y2JywgICAgICAgLy8gcHVycGxlXHJcbiAgICAgIGFycmF5OiAnI2VjNDg5OScsICAgICAgICAvLyBwaW5rXHJcbiAgICAgIGFueTogJyM2YjcyODAnLCAgICAgICAgICAvLyBncmF5XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGNvbG9yc1twb3J0VHlwZSB8fCAndW5pdmVyc2FsJ10gfHwgJyM2YjcyODAnO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8c3ZnXHJcbiAgICAgIGNsYXNzTmFtZT1cInBvaW50ZXItZXZlbnRzLW5vbmVcIlxyXG4gICAgICBzdHlsZT17eyBcclxuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgbGVmdDogMCxcclxuICAgICAgICB3aWR0aDogJzEwMCUnLFxyXG4gICAgICAgIGhlaWdodDogJzEwMCUnLFxyXG4gICAgICAgIHpJbmRleDogNSwgLy8gU2xpZ2h0bHkgYWJvdmUgbm9ybWFsIG5vZGVzIChub2RlcyBkZWZhdWx0IHotaW5kZXg6IDEpLCBzZWxlY3RlZCBub2RlcyBrZWVwIHotaW5kZXg6IDEwXHJcbiAgICAgICAgb3ZlcmZsb3c6ICd2aXNpYmxlJyxcclxuICAgICAgfX1cclxuICAgID5cclxuICAgICAgPGRlZnM+XHJcbiAgICAgICAgey8qIEFycm93IG1hcmtlcnMgZm9yIGRpZmZlcmVudCBjb25uZWN0aW9uIHR5cGVzICovfVxyXG4gICAgICAgIDxtYXJrZXJcclxuICAgICAgICAgIGlkPVwiYXJyb3doZWFkXCJcclxuICAgICAgICAgIG1hcmtlcldpZHRoPVwiMTBcIlxyXG4gICAgICAgICAgbWFya2VySGVpZ2h0PVwiMTBcIlxyXG4gICAgICAgICAgcmVmWD1cIjhcIlxyXG4gICAgICAgICAgcmVmWT1cIjNcIlxyXG4gICAgICAgICAgb3JpZW50PVwiYXV0b1wiXHJcbiAgICAgICAgICBtYXJrZXJVbml0cz1cInN0cm9rZVdpZHRoXCJcclxuICAgICAgICA+XHJcbiAgICAgICAgICA8cGF0aCBkPVwiTTAsMCBMMCw2IEw5LDMgelwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiAvPlxyXG4gICAgICAgIDwvbWFya2VyPlxyXG4gICAgICA8L2RlZnM+XHJcblxyXG4gICAgICB7LyogUmVuZGVyIGV4aXN0aW5nIGNvbm5lY3Rpb25zICovfVxyXG4gICAgICB7Y29ubmVjdGlvbnMubWFwKChjb25uKSA9PiB7XHJcbiAgICAgICAgY29uc3Qgc291cmNlUG9zID0gZ2V0UG9ydFBvc2l0aW9uKGNvbm4uc291cmNlLm5vZGVfaWQsIGNvbm4uc291cmNlLnBvcnRfaWQsICdvdXRwdXQnKTtcclxuICAgICAgICBjb25zdCB0YXJnZXRQb3MgPSBnZXRQb3J0UG9zaXRpb24oY29ubi50YXJnZXQubm9kZV9pZCwgY29ubi50YXJnZXQucG9ydF9pZCwgJ2lucHV0Jyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKCFzb3VyY2VQb3MgfHwgIXRhcmdldFBvcykge1xyXG4gICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBHZXQgc291cmNlIGFuZCB0YXJnZXQgbm9kZXMgdG8gY2hlY2sgZmxpcCBzdGF0ZVxyXG4gICAgICAgIGNvbnN0IHNvdXJjZU5vZGUgPSBub2Rlcy5maW5kKG4gPT4gbi5ub2RlX2lkID09PSBjb25uLnNvdXJjZS5ub2RlX2lkKTtcclxuICAgICAgICBjb25zdCB0YXJnZXROb2RlID0gbm9kZXMuZmluZChuID0+IG4ubm9kZV9pZCA9PT0gY29ubi50YXJnZXQubm9kZV9pZCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgcGF0aCA9IGNyZWF0ZVBhdGgoXHJcbiAgICAgICAgICBzb3VyY2VQb3MueCwgXHJcbiAgICAgICAgICBzb3VyY2VQb3MueSwgXHJcbiAgICAgICAgICB0YXJnZXRQb3MueCwgXHJcbiAgICAgICAgICB0YXJnZXRQb3MueSxcclxuICAgICAgICAgIHNvdXJjZU5vZGU/LmZsaXBwZWQgfHwgZmFsc2UsXHJcbiAgICAgICAgICB0YXJnZXROb2RlPy5mbGlwcGVkIHx8IGZhbHNlXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgLy8gR2V0IHBvcnQgdHlwZSBmcm9tIHNvdXJjZSBub2RlXHJcbiAgICAgICAgY29uc3Qgc291cmNlUG9ydCA9IHNvdXJjZU5vZGU/Lm91dHB1dHMuZmluZChwID0+IHAuaWQgPT09IGNvbm4uc291cmNlLnBvcnRfaWQpO1xyXG4gICAgICAgIGNvbnN0IHBvcnRUeXBlID0gc291cmNlUG9ydD8udHlwZSB8fCAndW5pdmVyc2FsJztcclxuICAgICAgICBjb25zdCBjb2xvciA9IGdldENvbm5lY3Rpb25Db2xvcihwb3J0VHlwZSk7XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICA8ZyBrZXk9e2Nvbm4uaWR9PlxyXG4gICAgICAgICAgICB7LyogSW52aXNpYmxlIHRoaWNrIHBhdGggZm9yIGVhc2llciBjbGlja2luZyAqL31cclxuICAgICAgICAgICAgPHBhdGhcclxuICAgICAgICAgICAgICBkPXtwYXRofVxyXG4gICAgICAgICAgICAgIHN0cm9rZT1cInRyYW5zcGFyZW50XCJcclxuICAgICAgICAgICAgICBzdHJva2VXaWR0aD1cIjE2XCJcclxuICAgICAgICAgICAgICBmaWxsPVwibm9uZVwiXHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicG9pbnRlci1ldmVudHMtYXV0byBjdXJzb3ItcG9pbnRlclwiXHJcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gb25Db25uZWN0aW9uQ2xpY2s/Lihjb25uLmlkKX1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgey8qIFZpc2libGUgY29ubmVjdGlvbiBsaW5lICovfVxyXG4gICAgICAgICAgICA8cGF0aFxyXG4gICAgICAgICAgICAgIGQ9e3BhdGh9XHJcbiAgICAgICAgICAgICAgc3Ryb2tlPXtjb2xvcn1cclxuICAgICAgICAgICAgICBzdHJva2VXaWR0aD1cIjJcIlxyXG4gICAgICAgICAgICAgIGZpbGw9XCJub25lXCJcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJwb2ludGVyLWV2ZW50cy1ub25lIGNvbm5lY3Rpb24tbGluZVwiXHJcbiAgICAgICAgICAgICAgc3R5bGU9e3sgY29sb3IgfX1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgIDwvZz5cclxuICAgICAgICApO1xyXG4gICAgICB9KX1cclxuXHJcbiAgICAgIHsvKiBSZW5kZXIgdGVtcG9yYXJ5IGNvbm5lY3Rpb24gYmVpbmcgZHJhd24gKi99XHJcbiAgICAgIHt0ZW1wQ29ubmVjdGlvbiAmJiAoKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHNvdXJjZVBvcyA9IGdldFBvcnRQb3NpdGlvbihcclxuICAgICAgICAgIHRlbXBDb25uZWN0aW9uLmZyb21Ob2RlLFxyXG4gICAgICAgICAgdGVtcENvbm5lY3Rpb24uZnJvbVBvcnQsXHJcbiAgICAgICAgICB0ZW1wQ29ubmVjdGlvbi5mcm9tVHlwZVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKCFzb3VyY2VQb3MpIHJldHVybiBudWxsO1xyXG5cclxuICAgICAgICBjb25zdCB4MSA9IHRlbXBDb25uZWN0aW9uLmZyb21UeXBlID09PSAnb3V0cHV0JyA/IHNvdXJjZVBvcy54IDogdGVtcENvbm5lY3Rpb24uY3VycmVudFg7XHJcbiAgICAgICAgY29uc3QgeTEgPSB0ZW1wQ29ubmVjdGlvbi5mcm9tVHlwZSA9PT0gJ291dHB1dCcgPyBzb3VyY2VQb3MueSA6IHRlbXBDb25uZWN0aW9uLmN1cnJlbnRZO1xyXG4gICAgICAgIGNvbnN0IHgyID0gdGVtcENvbm5lY3Rpb24uZnJvbVR5cGUgPT09ICdvdXRwdXQnID8gdGVtcENvbm5lY3Rpb24uY3VycmVudFggOiBzb3VyY2VQb3MueDtcclxuICAgICAgICBjb25zdCB5MiA9IHRlbXBDb25uZWN0aW9uLmZyb21UeXBlID09PSAnb3V0cHV0JyA/IHRlbXBDb25uZWN0aW9uLmN1cnJlbnRZIDogc291cmNlUG9zLnk7XHJcblxyXG4gICAgICAgIC8vIEdldCBzb3VyY2Ugbm9kZSBmbGlwIHN0YXRlIGZvciB0ZW1wb3JhcnkgY29ubmVjdGlvblxyXG4gICAgICAgIGNvbnN0IHNvdXJjZU5vZGUgPSBub2Rlcy5maW5kKG4gPT4gbi5ub2RlX2lkID09PSB0ZW1wQ29ubmVjdGlvbi5mcm9tTm9kZSk7XHJcbiAgICAgICAgY29uc3Qgc291cmNlRmxpcHBlZCA9IHRlbXBDb25uZWN0aW9uLmZyb21UeXBlID09PSAnb3V0cHV0JyA/IChzb3VyY2VOb2RlPy5mbGlwcGVkIHx8IGZhbHNlKSA6IGZhbHNlO1xyXG4gICAgICAgIGNvbnN0IHRhcmdldEZsaXBwZWQgPSB0ZW1wQ29ubmVjdGlvbi5mcm9tVHlwZSA9PT0gJ2lucHV0JyA/IChzb3VyY2VOb2RlPy5mbGlwcGVkIHx8IGZhbHNlKSA6IGZhbHNlO1xyXG5cclxuICAgICAgICBjb25zdCBwYXRoID0gY3JlYXRlUGF0aCh4MSwgeTEsIHgyLCB5Miwgc291cmNlRmxpcHBlZCwgdGFyZ2V0RmxpcHBlZCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgIDxwYXRoXHJcbiAgICAgICAgICAgIGQ9e3BhdGh9XHJcbiAgICAgICAgICAgIHN0cm9rZT1cIiM2YjcyODBcIlxyXG4gICAgICAgICAgICBzdHJva2VXaWR0aD1cIjJcIlxyXG4gICAgICAgICAgICBzdHJva2VEYXNoYXJyYXk9XCI1LDVcIlxyXG4gICAgICAgICAgICBmaWxsPVwibm9uZVwiXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInBvaW50ZXItZXZlbnRzLW5vbmUgdGVtcC1jb25uZWN0aW9uXCJcclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgKTtcclxuICAgICAgfSkoKX1cclxuICAgIDwvc3ZnPlxyXG4gICk7XHJcbn1cclxuXHJcbiJdLCJuYW1lcyI6WyJSZWFjdCIsIkNvbm5lY3Rpb25zTGF5ZXIiLCJjb25uZWN0aW9ucyIsIm5vZGVzIiwidGVtcENvbm5lY3Rpb24iLCJvbkNvbm5lY3Rpb25DbGljayIsImdldFBvcnRQb3NpdGlvbiIsIm5vZGVJZCIsInBvcnRJZCIsInBvcnRUeXBlIiwibm9kZSIsImZpbmQiLCJuIiwibm9kZV9pZCIsInBvcnRzIiwiaW5wdXRzIiwib3V0cHV0cyIsInBvcnRJbmRleCIsImZpbmRJbmRleCIsInAiLCJpZCIsIm5vZGVXaWR0aCIsIm5vZGVFbGVtZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29tcHV0ZWRTdHlsZSIsIndpbmRvdyIsImdldENvbXB1dGVkU3R5bGUiLCJwYXJzZUZsb2F0Iiwid2lkdGgiLCJub2RlSGVhZGVySGVpZ2h0Iiwibm9kZUJvZHlQYWRkaW5nVG9wIiwicG9ydEdhcCIsInBvcnRSb3dIZWlnaHQiLCJwb3J0SGFuZGxlQ2VudGVyIiwiZmluZXR1bmVPZmZzZXQiLCJwb3J0T2Zmc2V0WSIsImlzRmxpcHBlZCIsImZsaXBwZWQiLCJwb3J0T2Zmc2V0WCIsIngiLCJwb3NpdGlvbiIsInkiLCJjcmVhdGVQYXRoIiwieDEiLCJ5MSIsIngyIiwieTIiLCJzb3VyY2VGbGlwcGVkIiwidGFyZ2V0RmxpcHBlZCIsImR4IiwiZHkiLCJzb3VyY2VHb2VzTGVmdCIsInRhcmdldEZyb21MZWZ0IiwiTWF0aCIsImFicyIsImhvcml6b250YWxPdXQiLCJ2ZXJ0aWNhbFB1c2giLCJjdXJ2ZURpcmVjdGlvbiIsImNwMXgiLCJjcDF5IiwiY3AyeCIsImNwMnkiLCJpc0JhY2t3YXJkcyIsImhvb2tEaXN0YW5jZSIsImluaXRpYWxEaXJlY3Rpb24iLCJkaXN0YW5jZSIsIm9mZnNldCIsIm1pbiIsImdldENvbm5lY3Rpb25Db2xvciIsImNvbG9ycyIsInNpZ25hbCIsInVuaXZlcnNhbCIsInRleHQiLCJpbWFnZSIsImF1ZGlvIiwidmlkZW8iLCJ0b29scyIsIm1lbW9yeSIsInVpIiwibnVtYmVyIiwiYm9vbGVhbiIsIm9iamVjdCIsImFycmF5IiwiYW55Iiwic3ZnIiwiY2xhc3NOYW1lIiwic3R5bGUiLCJ0b3AiLCJsZWZ0IiwiaGVpZ2h0IiwiekluZGV4Iiwib3ZlcmZsb3ciLCJkZWZzIiwibWFya2VyIiwibWFya2VyV2lkdGgiLCJtYXJrZXJIZWlnaHQiLCJyZWZYIiwicmVmWSIsIm9yaWVudCIsIm1hcmtlclVuaXRzIiwicGF0aCIsImQiLCJmaWxsIiwibWFwIiwiY29ubiIsInNvdXJjZVBvcyIsInNvdXJjZSIsInBvcnRfaWQiLCJ0YXJnZXRQb3MiLCJ0YXJnZXQiLCJzb3VyY2VOb2RlIiwidGFyZ2V0Tm9kZSIsInNvdXJjZVBvcnQiLCJ0eXBlIiwiY29sb3IiLCJnIiwic3Ryb2tlIiwic3Ryb2tlV2lkdGgiLCJvbkNsaWNrIiwiZnJvbU5vZGUiLCJmcm9tUG9ydCIsImZyb21UeXBlIiwiY3VycmVudFgiLCJjdXJyZW50WSIsInN0cm9rZURhc2hhcnJheSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/editor-page/ConnectionsLayer.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/app/editor-page/NodeRenderer.tsx":
/*!**********************************************!*\
  !*** ./src/app/editor-page/NodeRenderer.tsx ***!
  \**********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NodeRenderer: () => (/* binding */ NodeRenderer),\n/* harmony export */   NodesLayer: () => (/* binding */ NodesLayer)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\nfunction NodeRenderer({ node, executionStatus = 'idle', previewData, hasExecutionData = false, onSelect, onDelete, onDragStart, onPortMouseDown, onContextMenu }) {\n    // Build CSS class based on execution status\n    const getExecutionStatusClass = ()=>{\n        switch(executionStatus){\n            case 'pending':\n                return 'node-pending';\n            case 'executing':\n                return 'node-executing';\n            case 'completed':\n                return 'node-completed';\n            case 'failed':\n                return 'node-failed';\n            default:\n                return '';\n        }\n    };\n    const getCategoryColor = (category)=>{\n        const colors = {\n            triggers: 'node-category-triggers',\n            communication: 'node-category-communication',\n            ai: 'node-category-ai',\n            workflow: 'node-category-workflow',\n            input: 'node-category-input',\n            output: 'node-category-output',\n            processing: 'node-category-processing',\n            actions: 'node-category-actions',\n            control: 'node-category-control',\n            business: 'node-category-business',\n            analytics: 'node-category-analytics'\n        };\n        return colors[category.toLowerCase()] || '';\n    };\n    const getDefaultIcon = (category)=>{\n        const icons = {\n            triggers: 'fa-solid fa-bolt',\n            communication: 'fa-solid fa-paper-plane',\n            ai: 'fa-solid fa-brain',\n            workflow: 'fa-solid fa-sitemap',\n            input: 'fa-solid fa-keyboard',\n            output: 'fa-solid fa-display',\n            processing: 'fa-solid fa-gears',\n            actions: 'fa-solid fa-play',\n            control: 'fa-solid fa-code-branch',\n            business: 'fa-solid fa-briefcase',\n            analytics: 'fa-solid fa-chart-line'\n        };\n        return icons[category.toLowerCase()] || 'fa-solid fa-cube';\n    };\n    // Render text preview\n    const renderTextPreview = ()=>{\n        if (!previewData || previewData.type !== 'text_preview') return null;\n        const text = previewData.text || '';\n        const charCount = previewData.char_count || 0;\n        const wordCount = previewData.word_count || 0;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"node-preview-area\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-preview\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"preview-header\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"preview-label\",\n                                children: \"\\uD83D\\uDCC4 Output Preview\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\NodeRenderer.tsx\",\n                                lineNumber: 106,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"preview-badge\",\n                                children: [\n                                    charCount,\n                                    \" chars\",\n                                    wordCount ? `, ${wordCount} words` : ''\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\NodeRenderer.tsx\",\n                                lineNumber: 107,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\NodeRenderer.tsx\",\n                        lineNumber: 105,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"preview-text-scroll\",\n                        children: text\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\NodeRenderer.tsx\",\n                        lineNumber: 109,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\NodeRenderer.tsx\",\n                lineNumber: 104,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\NodeRenderer.tsx\",\n            lineNumber: 103,\n            columnNumber: 7\n        }, this);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `workflow-node ${getCategoryColor(node.category)} ${node.selected ? 'selected' : ''} ${getExecutionStatusClass()} ${node.flipped ? 'node-flipped' : ''}`,\n        style: {\n            left: `${node.position.x}px`,\n            top: `${node.position.y}px`\n        },\n        onClick: (e)=>onSelect(node.node_id, e),\n        onContextMenu: (e)=>onContextMenu?.(node.node_id, e),\n        \"data-node-id\": node.node_id,\n        children: [\n            executionStatus === 'completed' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"node-status-badge success\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                    className: \"fas fa-check\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\NodeRenderer.tsx\",\n                    lineNumber: 129,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\NodeRenderer.tsx\",\n                lineNumber: 128,\n                columnNumber: 9\n            }, this),\n            executionStatus === 'failed' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"node-status-badge fail\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                    className: \"fas fa-times\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\NodeRenderer.tsx\",\n                    lineNumber: 134,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\NodeRenderer.tsx\",\n                lineNumber: 133,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"node-header\",\n                onClick: (e)=>{\n                    // Handle selection on header click\n                    // Don't trigger if clicking delete button\n                    const target = e.target;\n                    if (!target.closest('.node-delete-btn')) {\n                        // Don't stop propagation - let it bubble to parent for selection\n                        // But we do need to call onSelect here because the parent won't get it due to onMouseDown\n                        onSelect(node.node_id, e);\n                    }\n                },\n                onMouseDown: (e)=>{\n                    // Prevent click event from firing when dragging\n                    const target = e.target;\n                    if (!target.closest('.node-delete-btn')) {\n                        onDragStart(node.node_id, e);\n                    }\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"node-title\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"node-icon\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                    className: node.icon || getDefaultIcon(node.category)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\NodeRenderer.tsx\",\n                                    lineNumber: 161,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\NodeRenderer.tsx\",\n                                lineNumber: 160,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"node-title-text\",\n                                children: node.name\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\NodeRenderer.tsx\",\n                                lineNumber: 163,\n                                columnNumber: 11\n                            }, this),\n                            hasExecutionData && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"node-data-indicator\",\n                                title: \"Has execution data - click node to view in Output tab\",\n                                style: {\n                                    display: 'inline-block',\n                                    width: '6px',\n                                    height: '6px',\n                                    borderRadius: '50%',\n                                    backgroundColor: '#10b981',\n                                    marginLeft: '6px',\n                                    boxShadow: '0 0 4px rgba(16, 185, 129, 0.6)'\n                                }\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\NodeRenderer.tsx\",\n                                lineNumber: 165,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\NodeRenderer.tsx\",\n                        lineNumber: 159,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"node-actions\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: \"node-delete-btn\",\n                            onClick: (e)=>{\n                                e.stopPropagation();\n                                onDelete(node.node_id);\n                            },\n                            title: \"Delete node\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                className: \"fas fa-trash\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\NodeRenderer.tsx\",\n                                lineNumber: 189,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\NodeRenderer.tsx\",\n                            lineNumber: 181,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\NodeRenderer.tsx\",\n                        lineNumber: 180,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\NodeRenderer.tsx\",\n                lineNumber: 139,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"node-body\",\n                children: [\n                    renderTextPreview(),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"node-ports\",\n                        children: !node.flipped ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"node-inputs\",\n                                    children: (node.inputs || []).map((input)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"node-port node-input\",\n                                            \"data-port\": input.id,\n                                            \"data-port-type\": input.type,\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: `port-handle input-handle port-type-${input.type}`,\n                                                    onMouseDown: (e)=>{\n                                                        e.stopPropagation();\n                                                        onPortMouseDown(node.node_id, input.id, 'input', e);\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\NodeRenderer.tsx\",\n                                                    lineNumber: 211,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"port-label\",\n                                                    children: input.label\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\NodeRenderer.tsx\",\n                                                    lineNumber: 218,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, input.id || `input-${Math.random()}`, true, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\NodeRenderer.tsx\",\n                                            lineNumber: 205,\n                                            columnNumber: 19\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\NodeRenderer.tsx\",\n                                    lineNumber: 203,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"node-outputs\",\n                                    children: (node.outputs || []).map((output)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"node-port node-output\",\n                                            \"data-port\": output.id,\n                                            \"data-port-type\": output.type,\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"port-label\",\n                                                    children: output.label\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\NodeRenderer.tsx\",\n                                                    lineNumber: 231,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: `port-handle output-handle port-type-${output.type}`,\n                                                    onMouseDown: (e)=>{\n                                                        e.stopPropagation();\n                                                        onPortMouseDown(node.node_id, output.id, 'output', e);\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\NodeRenderer.tsx\",\n                                                    lineNumber: 232,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, output.id || `output-${Math.random()}`, true, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\NodeRenderer.tsx\",\n                                            lineNumber: 225,\n                                            columnNumber: 19\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\NodeRenderer.tsx\",\n                                    lineNumber: 223,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"node-outputs\",\n                                    style: {\n                                        alignItems: 'flex-start'\n                                    },\n                                    children: (node.outputs || []).map((output)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"node-port node-output\",\n                                            \"data-port\": output.id,\n                                            \"data-port-type\": output.type,\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: `port-handle output-handle port-type-${output.type}`,\n                                                    onMouseDown: (e)=>{\n                                                        e.stopPropagation();\n                                                        onPortMouseDown(node.node_id, output.id, 'output', e);\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\NodeRenderer.tsx\",\n                                                    lineNumber: 254,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"port-label\",\n                                                    children: output.label\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\NodeRenderer.tsx\",\n                                                    lineNumber: 261,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, output.id || `output-${Math.random()}`, true, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\NodeRenderer.tsx\",\n                                            lineNumber: 248,\n                                            columnNumber: 19\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\NodeRenderer.tsx\",\n                                    lineNumber: 246,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"node-inputs\",\n                                    style: {\n                                        alignItems: 'flex-end'\n                                    },\n                                    children: (node.inputs || []).map((input)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"node-port node-input\",\n                                            \"data-port\": input.id,\n                                            \"data-port-type\": input.type,\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"port-label\",\n                                                    children: input.label\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\NodeRenderer.tsx\",\n                                                    lineNumber: 274,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: `port-handle input-handle port-type-${input.type}`,\n                                                    onMouseDown: (e)=>{\n                                                        e.stopPropagation();\n                                                        onPortMouseDown(node.node_id, input.id, 'input', e);\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\NodeRenderer.tsx\",\n                                                    lineNumber: 275,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, input.id || `input-${Math.random()}`, true, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\NodeRenderer.tsx\",\n                                            lineNumber: 268,\n                                            columnNumber: 19\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\NodeRenderer.tsx\",\n                                    lineNumber: 266,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\NodeRenderer.tsx\",\n                        lineNumber: 199,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\NodeRenderer.tsx\",\n                lineNumber: 195,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\NodeRenderer.tsx\",\n        lineNumber: 116,\n        columnNumber: 5\n    }, this);\n}\n_c = NodeRenderer;\nfunction NodesLayer({ nodes, nodeStates, nodeExecutionData = {}, onNodeSelect, onNodeDelete, onNodeDragStart, onPortMouseDown, onNodeContextMenu, selectedNodes = new Set() }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: nodes.map((node)=>{\n            // Check if this node is in the multi-selection\n            const isSelected = selectedNodes.has(node.node_id);\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(NodeRenderer, {\n                node: {\n                    ...node,\n                    selected: isSelected\n                },\n                executionStatus: nodeStates[node.node_id]?.status || 'idle',\n                previewData: nodeStates[node.node_id]?.previewData,\n                hasExecutionData: !!nodeExecutionData[node.node_id],\n                onSelect: onNodeSelect,\n                onDelete: onNodeDelete,\n                onDragStart: onNodeDragStart,\n                onPortMouseDown: onPortMouseDown,\n                onContextMenu: onNodeContextMenu\n            }, node.node_id, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\NodeRenderer.tsx\",\n                lineNumber: 323,\n                columnNumber: 11\n            }, this);\n        })\n    }, void 0, false);\n}\n_c1 = NodesLayer;\nvar _c, _c1;\n$RefreshReg$(_c, \"NodeRenderer\");\n$RefreshReg$(_c1, \"NodesLayer\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvZWRpdG9yLXBhZ2UvTm9kZVJlbmRlcmVyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBMEI7QUFvQ25CLFNBQVNDLGFBQWEsRUFDM0JDLElBQUksRUFDSkMsa0JBQWtCLE1BQU0sRUFDeEJDLFdBQVcsRUFDWEMsbUJBQW1CLEtBQUssRUFDeEJDLFFBQVEsRUFDUkMsUUFBUSxFQUNSQyxXQUFXLEVBQ1hDLGVBQWUsRUFDZkMsYUFBYSxFQUNLO0lBRWxCLDRDQUE0QztJQUM1QyxNQUFNQywwQkFBMEI7UUFDOUIsT0FBUVI7WUFDTixLQUFLO2dCQUFXLE9BQU87WUFDdkIsS0FBSztnQkFBYSxPQUFPO1lBQ3pCLEtBQUs7Z0JBQWEsT0FBTztZQUN6QixLQUFLO2dCQUFVLE9BQU87WUFDdEI7Z0JBQVMsT0FBTztRQUNsQjtJQUNGO0lBRUEsTUFBTVMsbUJBQW1CLENBQUNDO1FBQ3hCLE1BQU1DLFNBQWlDO1lBQ3JDQyxVQUFVO1lBQ1ZDLGVBQWU7WUFDZkMsSUFBSTtZQUNKQyxVQUFVO1lBQ1ZDLE9BQU87WUFDUEMsUUFBUTtZQUNSQyxZQUFZO1lBQ1pDLFNBQVM7WUFDVEMsU0FBUztZQUNUQyxVQUFVO1lBQ1ZDLFdBQVc7UUFDYjtRQUNBLE9BQU9YLE1BQU0sQ0FBQ0QsU0FBU2EsV0FBVyxHQUFHLElBQUk7SUFDM0M7SUFFQSxNQUFNQyxpQkFBaUIsQ0FBQ2Q7UUFDdEIsTUFBTWUsUUFBZ0M7WUFDcENiLFVBQVU7WUFDVkMsZUFBZTtZQUNmQyxJQUFJO1lBQ0pDLFVBQVU7WUFDVkMsT0FBTztZQUNQQyxRQUFRO1lBQ1JDLFlBQVk7WUFDWkMsU0FBUztZQUNUQyxTQUFTO1lBQ1RDLFVBQVU7WUFDVkMsV0FBVztRQUNiO1FBQ0EsT0FBT0csS0FBSyxDQUFDZixTQUFTYSxXQUFXLEdBQUcsSUFBSTtJQUMxQztJQUVBLHNCQUFzQjtJQUN0QixNQUFNRyxvQkFBb0I7UUFDeEIsSUFBSSxDQUFDekIsZUFBZUEsWUFB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QyxPQUFPOzs7OztRQVl2Qjs7QUFHTjtNQWxDZ0I0QiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxuaWNob2xhcy5sZWVcXERvY3VtZW50c1xcelxcVGlja2V0aW5nX05pY2tcXFRpY2tldGluZ1xcdGF2X29wZW5zb3VyY2VcXHVpXFxzcmNcXGFwcFxcZWRpdG9yLXBhZ2VcXE5vZGVSZW5kZXJlci50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuXHJcbmludGVyZmFjZSBQb3J0IHtcclxuICBpZDogc3RyaW5nO1xyXG4gIGxhYmVsOiBzdHJpbmc7XHJcbiAgdHlwZTogc3RyaW5nO1xyXG4gIHJlcXVpcmVkPzogYm9vbGVhbjtcclxufVxyXG5cclxuaW50ZXJmYWNlIFdvcmtmbG93Tm9kZSB7XHJcbiAgbm9kZV9pZDogc3RyaW5nOyAgLy8gQ2hhbmdlZCBmcm9tICdpZCcgdG8gbWF0Y2ggYmFja2VuZFxyXG4gIG5vZGVfdHlwZTogc3RyaW5nOyAvLyBDaGFuZ2VkIGZyb20gJ3R5cGUnIHRvIG1hdGNoIGJhY2tlbmRcclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgY2F0ZWdvcnk6IHN0cmluZztcclxuICBwb3NpdGlvbjogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9O1xyXG4gIGlucHV0czogUG9ydFtdO1xyXG4gIG91dHB1dHM6IFBvcnRbXTtcclxuICBjb25maWc6IGFueTtcclxuICBzdGF0dXM/OiAnaWRsZScgfCAncGVuZGluZycgfCAnZXhlY3V0aW5nJyB8ICdjb21wbGV0ZWQnIHwgJ2ZhaWxlZCc7XHJcbiAgc2VsZWN0ZWQ/OiBib29sZWFuO1xyXG4gIGljb24/OiBzdHJpbmc7IC8vIEZvbnRBd2Vzb21lIGljb24gY2xhc3NcclxuICBmbGlwcGVkPzogYm9vbGVhbjsgLy8gV2hldGhlciBwb3J0cyBhcmUgZmxpcHBlZCBob3Jpem9udGFsbHlcclxufVxyXG5cclxuaW50ZXJmYWNlIE5vZGVSZW5kZXJlclByb3BzIHtcclxuICBub2RlOiBXb3JrZmxvd05vZGU7XHJcbiAgZXhlY3V0aW9uU3RhdHVzPzogJ2lkbGUnIHwgJ3BlbmRpbmcnIHwgJ2V4ZWN1dGluZycgfCAnY29tcGxldGVkJyB8ICdmYWlsZWQnO1xyXG4gIHByZXZpZXdEYXRhPzogYW55OyAgLy8gRXhlY3V0aW9uIHJlc3VsdCBkYXRhIGZvciBwcmV2aWV3XHJcbiAgaGFzRXhlY3V0aW9uRGF0YT86IGJvb2xlYW47ICAvLyBXaGV0aGVyIG5vZGUgaGFzIGV4ZWN1dGlvbiBvdXRwdXQgZGF0YVxyXG4gIG9uU2VsZWN0OiAobm9kZUlkOiBzdHJpbmcsIGV2ZW50PzogUmVhY3QuTW91c2VFdmVudCkgPT4gdm9pZDtcclxuICBvbkRlbGV0ZTogKG5vZGVJZDogc3RyaW5nKSA9PiB2b2lkO1xyXG4gIG9uRHJhZ1N0YXJ0OiAobm9kZUlkOiBzdHJpbmcsIGU6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHZvaWQ7XHJcbiAgb25Qb3J0TW91c2VEb3duOiAobm9kZUlkOiBzdHJpbmcsIHBvcnRJZDogc3RyaW5nLCBwb3J0VHlwZTogJ2lucHV0JyB8ICdvdXRwdXQnLCBlOiBSZWFjdC5Nb3VzZUV2ZW50KSA9PiB2b2lkO1xyXG4gIG9uQ29udGV4dE1lbnU/OiAobm9kZUlkOiBzdHJpbmcsIGU6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHZvaWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBOb2RlUmVuZGVyZXIoeyBcclxuICBub2RlLCBcclxuICBleGVjdXRpb25TdGF0dXMgPSAnaWRsZScsXHJcbiAgcHJldmlld0RhdGEsXHJcbiAgaGFzRXhlY3V0aW9uRGF0YSA9IGZhbHNlLFxyXG4gIG9uU2VsZWN0LCBcclxuICBvbkRlbGV0ZSwgXHJcbiAgb25EcmFnU3RhcnQsXHJcbiAgb25Qb3J0TW91c2VEb3duLFxyXG4gIG9uQ29udGV4dE1lbnVcclxufTogTm9kZVJlbmRlcmVyUHJvcHMpIHtcclxuICBcclxuICAvLyBCdWlsZCBDU1MgY2xhc3MgYmFzZWQgb24gZXhlY3V0aW9uIHN0YXR1c1xyXG4gIGNvbnN0IGdldEV4ZWN1dGlvblN0YXR1c0NsYXNzID0gKCkgPT4ge1xyXG4gICAgc3dpdGNoIChleGVjdXRpb25TdGF0dXMpIHtcclxuICAgICAgY2FzZSAncGVuZGluZyc6IHJldHVybiAnbm9kZS1wZW5kaW5nJztcclxuICAgICAgY2FzZSAnZXhlY3V0aW5nJzogcmV0dXJuICdub2RlLWV4ZWN1dGluZyc7XHJcbiAgICAgIGNhc2UgJ2NvbXBsZXRlZCc6IHJldHVybiAnbm9kZS1jb21wbGV0ZWQnO1xyXG4gICAgICBjYXNlICdmYWlsZWQnOiByZXR1cm4gJ25vZGUtZmFpbGVkJztcclxuICAgICAgZGVmYXVsdDogcmV0dXJuICcnO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgXHJcbiAgY29uc3QgZ2V0Q2F0ZWdvcnlDb2xvciA9IChjYXRlZ29yeTogc3RyaW5nKSA9PiB7XHJcbiAgICBjb25zdCBjb2xvcnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XHJcbiAgICAgIHRyaWdnZXJzOiAnbm9kZS1jYXRlZ29yeS10cmlnZ2VycycsXHJcbiAgICAgIGNvbW11bmljYXRpb246ICdub2RlLWNhdGVnb3J5LWNvbW11bmljYXRpb24nLFxyXG4gICAgICBhaTogJ25vZGUtY2F0ZWdvcnktYWknLFxyXG4gICAgICB3b3JrZmxvdzogJ25vZGUtY2F0ZWdvcnktd29ya2Zsb3cnLFxyXG4gICAgICBpbnB1dDogJ25vZGUtY2F0ZWdvcnktaW5wdXQnLFxyXG4gICAgICBvdXRwdXQ6ICdub2RlLWNhdGVnb3J5LW91dHB1dCcsXHJcbiAgICAgIHByb2Nlc3Npbmc6ICdub2RlLWNhdGVnb3J5LXByb2Nlc3NpbmcnLFxyXG4gICAgICBhY3Rpb25zOiAnbm9kZS1jYXRlZ29yeS1hY3Rpb25zJyxcclxuICAgICAgY29udHJvbDogJ25vZGUtY2F0ZWdvcnktY29udHJvbCcsXHJcbiAgICAgIGJ1c2luZXNzOiAnbm9kZS1jYXRlZ29yeS1idXNpbmVzcycsXHJcbiAgICAgIGFuYWx5dGljczogJ25vZGUtY2F0ZWdvcnktYW5hbHl0aWNzJyxcclxuICAgIH07XHJcbiAgICByZXR1cm4gY29sb3JzW2NhdGVnb3J5LnRvTG93ZXJDYXNlKCldIHx8ICcnO1xyXG4gIH07XHJcbiAgXHJcbiAgY29uc3QgZ2V0RGVmYXVsdEljb24gPSAoY2F0ZWdvcnk6IHN0cmluZykgPT4ge1xyXG4gICAgY29uc3QgaWNvbnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XHJcbiAgICAgIHRyaWdnZXJzOiAnZmEtc29saWQgZmEtYm9sdCcsXHJcbiAgICAgIGNvbW11bmljYXRpb246ICdmYS1zb2xpZCBmYS1wYXBlci1wbGFuZScsXHJcbiAgICAgIGFpOiAnZmEtc29saWQgZmEtYnJhaW4nLFxyXG4gICAgICB3b3JrZmxvdzogJ2ZhLXNvbGlkIGZhLXNpdGVtYXAnLFxyXG4gICAgICBpbnB1dDogJ2ZhLXNvbGlkIGZhLWtleWJvYXJkJyxcclxuICAgICAgb3V0cHV0OiAnZmEtc29saWQgZmEtZGlzcGxheScsXHJcbiAgICAgIHByb2Nlc3Npbmc6ICdmYS1zb2xpZCBmYS1nZWFycycsXHJcbiAgICAgIGFjdGlvbnM6ICdmYS1zb2xpZCBmYS1wbGF5JyxcclxuICAgICAgY29udHJvbDogJ2ZhLXNvbGlkIGZhLWNvZGUtYnJhbmNoJyxcclxuICAgICAgYnVzaW5lc3M6ICdmYS1zb2xpZCBmYS1icmllZmNhc2UnLFxyXG4gICAgICBhbmFseXRpY3M6ICdmYS1zb2xpZCBmYS1jaGFydC1saW5lJyxcclxuICAgIH07XHJcbiAgICByZXR1cm4gaWNvbnNbY2F0ZWdvcnkudG9Mb3dlckNhc2UoKV0gfHwgJ2ZhLXNvbGlkIGZhLWN1YmUnO1xyXG4gIH07XHJcblxyXG4gIC8vIFJlbmRlciB0ZXh0IHByZXZpZXdcclxuICBjb25zdCByZW5kZXJUZXh0UHJldmlldyA9ICgpID0+IHtcclxuICAgIGlmICghcHJldmlld0RhdGEgfHwgcHJldmlld0RhdGEudHlwZSAhPT0gJ3RleHRfcHJldmlldycpIHJldHVybiBudWxsO1xyXG4gICAgXHJcbiAgICBjb25zdCB0ZXh0ID0gcHJldmlld0RhdGEudGV4dCB8fCAnJztcclxuICAgIGNvbnN0IGNoYXJDb3VudCA9IHByZXZpZXdEYXRhLmNoYXJfY291bnQgfHwgMDtcclxuICAgIGNvbnN0IHdvcmRDb3VudCA9IHByZXZpZXdEYXRhLndvcmRfY291bnQgfHwgMDtcclxuICAgIFxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJub2RlLXByZXZpZXctYXJlYVwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1wcmV2aWV3XCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInByZXZpZXctaGVhZGVyXCI+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInByZXZpZXctbGFiZWxcIj7wn5OEIE91dHB1dCBQcmV2aWV3PC9zcGFuPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJwcmV2aWV3LWJhZGdlXCI+e2NoYXJDb3VudH0gY2hhcnN7d29yZENvdW50ID8gYCwgJHt3b3JkQ291bnR9IHdvcmRzYCA6ICcnfTwvc3Bhbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcmV2aWV3LXRleHQtc2Nyb2xsXCI+e3RleHR9PC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBcclxuICAgICAgY2xhc3NOYW1lPXtgd29ya2Zsb3ctbm9kZSAke2dldENhdGVnb3J5Q29sb3Iobm9kZS5jYXRlZ29yeSl9ICR7bm9kZS5zZWxlY3RlZCA/ICdzZWxlY3RlZCcgOiAnJ30gJHtnZXRFeGVjdXRpb25TdGF0dXNDbGFzcygpfSAke25vZGUuZmxpcHBlZCA/ICdub2RlLWZsaXBwZWQnIDogJyd9YH1cclxuICAgICAgc3R5bGU9e3tcclxuICAgICAgICBsZWZ0OiBgJHtub2RlLnBvc2l0aW9uLnh9cHhgLFxyXG4gICAgICAgIHRvcDogYCR7bm9kZS5wb3NpdGlvbi55fXB4YCxcclxuICAgICAgfX1cclxuICAgICAgb25DbGljaz17KGUpID0+IG9uU2VsZWN0KG5vZGUubm9kZV9pZCwgZSl9XHJcbiAgICAgIG9uQ29udGV4dE1lbnU9eyhlKSA9PiBvbkNvbnRleHRNZW51Py4obm9kZS5ub2RlX2lkLCBlKX1cclxuICAgICAgZGF0YS1ub2RlLWlkPXtub2RlLm5vZGVfaWR9XHJcbiAgICA+XHJcbiAgICAgIHsvKiBFeGVjdXRpb24gU3RhdHVzIEJhZGdlIC0gVG9wIFJpZ2h0ICovfVxyXG4gICAgICB7ZXhlY3V0aW9uU3RhdHVzID09PSAnY29tcGxldGVkJyAmJiAoXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJub2RlLXN0YXR1cy1iYWRnZSBzdWNjZXNzXCI+XHJcbiAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYXMgZmEtY2hlY2tcIj48L2k+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICl9XHJcbiAgICAgIHtleGVjdXRpb25TdGF0dXMgPT09ICdmYWlsZWQnICYmIChcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5vZGUtc3RhdHVzLWJhZGdlIGZhaWxcIj5cclxuICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS10aW1lc1wiPjwvaT5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKX1cclxuXHJcbiAgICAgIHsvKiBOb2RlIEhlYWRlciAqL31cclxuICAgICAgPGRpdiBcclxuICAgICAgICBjbGFzc05hbWU9XCJub2RlLWhlYWRlclwiXHJcbiAgICAgICAgb25DbGljaz17KGUpID0+IHtcclxuICAgICAgICAgIC8vIEhhbmRsZSBzZWxlY3Rpb24gb24gaGVhZGVyIGNsaWNrXHJcbiAgICAgICAgICAvLyBEb24ndCB0cmlnZ2VyIGlmIGNsaWNraW5nIGRlbGV0ZSBidXR0b25cclxuICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgICAgaWYgKCF0YXJnZXQuY2xvc2VzdCgnLm5vZGUtZGVsZXRlLWJ0bicpKSB7XHJcbiAgICAgICAgICAgIC8vIERvbid0IHN0b3AgcHJvcGFnYXRpb24gLSBsZXQgaXQgYnViYmxlIHRvIHBhcmVudCBmb3Igc2VsZWN0aW9uXHJcbiAgICAgICAgICAgIC8vIEJ1dCB3ZSBkbyBuZWVkIHRvIGNhbGwgb25TZWxlY3QgaGVyZSBiZWNhdXNlIHRoZSBwYXJlbnQgd29uJ3QgZ2V0IGl0IGR1ZSB0byBvbk1vdXNlRG93blxyXG4gICAgICAgICAgICBvblNlbGVjdChub2RlLm5vZGVfaWQsIGUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH19XHJcbiAgICAgICAgb25Nb3VzZURvd249eyhlKSA9PiB7XHJcbiAgICAgICAgICAvLyBQcmV2ZW50IGNsaWNrIGV2ZW50IGZyb20gZmlyaW5nIHdoZW4gZHJhZ2dpbmdcclxuICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgICAgaWYgKCF0YXJnZXQuY2xvc2VzdCgnLm5vZGUtZGVsZXRlLWJ0bicpKSB7XHJcbiAgICAgICAgICAgIG9uRHJhZ1N0YXJ0KG5vZGUubm9kZV9pZCwgZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfX1cclxuICAgICAgPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibm9kZS10aXRsZVwiPlxyXG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibm9kZS1pY29uXCI+XHJcbiAgICAgICAgICAgIDxpIGNsYXNzTmFtZT17bm9kZS5pY29uIHx8IGdldERlZmF1bHRJY29uKG5vZGUuY2F0ZWdvcnkpfT48L2k+XHJcbiAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJub2RlLXRpdGxlLXRleHRcIj57bm9kZS5uYW1lfTwvc3Bhbj5cclxuICAgICAgICAgIHtoYXNFeGVjdXRpb25EYXRhICYmIChcclxuICAgICAgICAgICAgPHNwYW4gXHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibm9kZS1kYXRhLWluZGljYXRvclwiIFxyXG4gICAgICAgICAgICAgIHRpdGxlPVwiSGFzIGV4ZWN1dGlvbiBkYXRhIC0gY2xpY2sgbm9kZSB0byB2aWV3IGluIE91dHB1dCB0YWJcIlxyXG4gICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJyxcclxuICAgICAgICAgICAgICAgIHdpZHRoOiAnNnB4JyxcclxuICAgICAgICAgICAgICAgIGhlaWdodDogJzZweCcsXHJcbiAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc1MCUnLFxyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzEwYjk4MScsXHJcbiAgICAgICAgICAgICAgICBtYXJnaW5MZWZ0OiAnNnB4JyxcclxuICAgICAgICAgICAgICAgIGJveFNoYWRvdzogJzAgMCA0cHggcmdiYSgxNiwgMTg1LCAxMjksIDAuNiknXHJcbiAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgPjwvc3Bhbj5cclxuICAgICAgICAgICl9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJub2RlLWFjdGlvbnNcIj5cclxuICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwibm9kZS1kZWxldGUtYnRuXCJcclxuICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcclxuICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgIG9uRGVsZXRlKG5vZGUubm9kZV9pZCk7XHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgIHRpdGxlPVwiRGVsZXRlIG5vZGVcIlxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYXMgZmEtdHJhc2hcIj48L2k+XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICB7LyogTm9kZSBCb2R5ICovfVxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5vZGUtYm9keVwiPlxyXG4gICAgICAgIHsvKiBQcmV2aWV3IEFyZWEgLSBTaG93cyB0ZXh0L2ltYWdlIGNvbnRlbnQgYWZ0ZXIgZXhlY3V0aW9uICovfVxyXG4gICAgICAgIHtyZW5kZXJUZXh0UHJldmlldygpfVxyXG4gICAgICAgIFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibm9kZS1wb3J0c1wiPlxyXG4gICAgICAgICAgeyFub2RlLmZsaXBwZWQgPyAoXHJcbiAgICAgICAgICAgIDw+XHJcbiAgICAgICAgICAgICAgey8qIE5vcm1hbDogSW5wdXRzIG9uIGxlZnQsIE91dHB1dHMgb24gcmlnaHQgKi99XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJub2RlLWlucHV0c1wiPlxyXG4gICAgICAgICAgICAgICAgeyhub2RlLmlucHV0cyB8fCBbXSkubWFwKChpbnB1dCkgPT4gKFxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IFxyXG4gICAgICAgICAgICAgICAgICAgIGtleT17aW5wdXQuaWQgfHwgYGlucHV0LSR7TWF0aC5yYW5kb20oKX1gfVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm5vZGUtcG9ydCBub2RlLWlucHV0XCJcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLXBvcnQ9e2lucHV0LmlkfVxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtcG9ydC10eXBlPXtpbnB1dC50eXBlfVxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBcclxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHBvcnQtaGFuZGxlIGlucHV0LWhhbmRsZSBwb3J0LXR5cGUtJHtpbnB1dC50eXBlfWB9XHJcbiAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRG93bj17KGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25Qb3J0TW91c2VEb3duKG5vZGUubm9kZV9pZCwgaW5wdXQuaWQsICdpbnB1dCcsIGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICA+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb3J0LWxhYmVsXCI+e2lucHV0LmxhYmVsfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5vZGUtb3V0cHV0c1wiPlxyXG4gICAgICAgICAgICAgICAgeyhub2RlLm91dHB1dHMgfHwgW10pLm1hcCgob3V0cHV0KSA9PiAoXHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgXHJcbiAgICAgICAgICAgICAgICAgICAga2V5PXtvdXRwdXQuaWQgfHwgYG91dHB1dC0ke01hdGgucmFuZG9tKCl9YH1cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJub2RlLXBvcnQgbm9kZS1vdXRwdXRcIlxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtcG9ydD17b3V0cHV0LmlkfVxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtcG9ydC10eXBlPXtvdXRwdXQudHlwZX1cclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9ydC1sYWJlbFwiPntvdXRwdXQubGFiZWx9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBcclxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHBvcnQtaGFuZGxlIG91dHB1dC1oYW5kbGUgcG9ydC10eXBlLSR7b3V0cHV0LnR5cGV9YH1cclxuICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VEb3duPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvblBvcnRNb3VzZURvd24obm9kZS5ub2RlX2lkLCBvdXRwdXQuaWQsICdvdXRwdXQnLCBlKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8Lz5cclxuICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgIDw+XHJcbiAgICAgICAgICAgICAgey8qIEZsaXBwZWQ6IE91dHB1dHMgb24gbGVmdCwgSW5wdXRzIG9uIHJpZ2h0ICovfVxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibm9kZS1vdXRwdXRzXCIgc3R5bGU9e3sgYWxpZ25JdGVtczogJ2ZsZXgtc3RhcnQnIH19PlxyXG4gICAgICAgICAgICAgICAgeyhub2RlLm91dHB1dHMgfHwgW10pLm1hcCgob3V0cHV0KSA9PiAoXHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgXHJcbiAgICAgICAgICAgICAgICAgICAga2V5PXtvdXRwdXQuaWQgfHwgYG91dHB1dC0ke01hdGgucmFuZG9tKCl9YH1cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJub2RlLXBvcnQgbm9kZS1vdXRwdXRcIlxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtcG9ydD17b3V0cHV0LmlkfVxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtcG9ydC10eXBlPXtvdXRwdXQudHlwZX1cclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgXHJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Bwb3J0LWhhbmRsZSBvdXRwdXQtaGFuZGxlIHBvcnQtdHlwZS0ke291dHB1dC50eXBlfWB9XHJcbiAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRG93bj17KGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25Qb3J0TW91c2VEb3duKG5vZGUubm9kZV9pZCwgb3V0cHV0LmlkLCAnb3V0cHV0JywgZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgID48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvcnQtbGFiZWxcIj57b3V0cHV0LmxhYmVsfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5vZGUtaW5wdXRzXCIgc3R5bGU9e3sgYWxpZ25JdGVtczogJ2ZsZXgtZW5kJyB9fT5cclxuICAgICAgICAgICAgICAgIHsobm9kZS5pbnB1dHMgfHwgW10pLm1hcCgoaW5wdXQpID0+IChcclxuICAgICAgICAgICAgICAgICAgPGRpdiBcclxuICAgICAgICAgICAgICAgICAgICBrZXk9e2lucHV0LmlkIHx8IGBpbnB1dC0ke01hdGgucmFuZG9tKCl9YH1cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJub2RlLXBvcnQgbm9kZS1pbnB1dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS1wb3J0PXtpbnB1dC5pZH1cclxuICAgICAgICAgICAgICAgICAgICBkYXRhLXBvcnQtdHlwZT17aW5wdXQudHlwZX1cclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9ydC1sYWJlbFwiPntpbnB1dC5sYWJlbH08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IFxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcG9ydC1oYW5kbGUgaW5wdXQtaGFuZGxlIHBvcnQtdHlwZS0ke2lucHV0LnR5cGV9YH1cclxuICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VEb3duPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvblBvcnRNb3VzZURvd24obm9kZS5ub2RlX2lkLCBpbnB1dC5pZCwgJ2lucHV0JywgZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgID48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICApKX1cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC8+XHJcbiAgICAgICAgICApfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn1cclxuXHJcbmludGVyZmFjZSBOb2Rlc0xheWVyUHJvcHMge1xyXG4gIG5vZGVzOiBXb3JrZmxvd05vZGVbXTtcclxuICBub2RlU3RhdGVzOiBSZWNvcmQ8c3RyaW5nLCB7IHN0YXR1czogJ2lkbGUnIHwgJ3BlbmRpbmcnIHwgJ2V4ZWN1dGluZycgfCAnY29tcGxldGVkJyB8ICdmYWlsZWQnOyBlcnJvcj86IHN0cmluZzsgcHJldmlld0RhdGE/OiBhbnkgfT47XHJcbiAgbm9kZUV4ZWN1dGlvbkRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+OyAgLy8gQWRkIGV4ZWN1dGlvbiBkYXRhIG1hcFxyXG4gIG9uTm9kZVNlbGVjdDogKG5vZGVJZDogc3RyaW5nLCBldmVudD86IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHZvaWQ7XHJcbiAgb25Ob2RlRGVsZXRlOiAobm9kZUlkOiBzdHJpbmcpID0+IHZvaWQ7XHJcbiAgb25Ob2RlRHJhZ1N0YXJ0OiAobm9kZUlkOiBzdHJpbmcsIGU6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHZvaWQ7XHJcbiAgb25Qb3J0TW91c2VEb3duOiAobm9kZUlkOiBzdHJpbmcsIHBvcnRJZDogc3RyaW5nLCBwb3J0VHlwZTogJ2lucHV0JyB8ICdvdXRwdXQnLCBlOiBSZWFjdC5Nb3VzZUV2ZW50KSA9PiB2b2lkO1xyXG4gIG9uTm9kZUNvbnRleHRNZW51PzogKG5vZGVJZDogc3RyaW5nLCBlOiBSZWFjdC5Nb3VzZUV2ZW50KSA9PiB2b2lkO1xyXG4gIHNlbGVjdGVkTm9kZXM/OiBTZXQ8c3RyaW5nPjsgIC8vIEFkZCBzZWxlY3RlZCBub2RlcyBzZXQgZm9yIG11bHRpLXNlbGVjdGlvblxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gTm9kZXNMYXllcih7XHJcbiAgbm9kZXMsXHJcbiAgbm9kZVN0YXRlcyxcclxuICBub2RlRXhlY3V0aW9uRGF0YSA9IHt9LFxyXG4gIG9uTm9kZVNlbGVjdCxcclxuICBvbk5vZGVEZWxldGUsXHJcbiAgb25Ob2RlRHJhZ1N0YXJ0LFxyXG4gIG9uUG9ydE1vdXNlRG93bixcclxuICBvbk5vZGVDb250ZXh0TWVudSxcclxuICBzZWxlY3RlZE5vZGVzID0gbmV3IFNldCgpLFxyXG59OiBOb2Rlc0xheWVyUHJvcHMpIHtcclxuICByZXR1cm4gKFxyXG4gICAgPD5cclxuICAgICAge25vZGVzLm1hcCgobm9kZSkgPT4ge1xyXG4gICAgICAgIC8vIENoZWNrIGlmIHRoaXMgbm9kZSBpcyBpbiB0aGUgbXVsdGktc2VsZWN0aW9uXHJcbiAgICAgICAgY29uc3QgaXNTZWxlY3RlZCA9IHNlbGVjdGVkTm9kZXMuaGFzKG5vZGUubm9kZV9pZCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgIDxOb2RlUmVuZGVyZXJcclxuICAgICAgICAgICAga2V5PXtub2RlLm5vZGVfaWR9XHJcbiAgICAgICAgICAgIG5vZGU9e3sgLi4ubm9kZSwgc2VsZWN0ZWQ6IGlzU2VsZWN0ZWQgfX1cclxuICAgICAgICAgICAgZXhlY3V0aW9uU3RhdHVzPXtub2RlU3RhdGVzW25vZGUubm9kZV9pZF0/LnN0YXR1cyB8fCAnaWRsZSd9XHJcbiAgICAgICAgICAgIHByZXZpZXdEYXRhPXtub2RlU3RhdGVzW25vZGUubm9kZV9pZF0/LnByZXZpZXdEYXRhfVxyXG4gICAgICAgICAgICBoYXNFeGVjdXRpb25EYXRhPXshIW5vZGVFeGVjdXRpb25EYXRhW25vZGUubm9kZV9pZF19XHJcbiAgICAgICAgICAgIG9uU2VsZWN0PXtvbk5vZGVTZWxlY3R9XHJcbiAgICAgICAgICAgIG9uRGVsZXRlPXtvbk5vZGVEZWxldGV9XHJcbiAgICAgICAgICAgIG9uRHJhZ1N0YXJ0PXtvbk5vZGVEcmFnU3RhcnR9XHJcbiAgICAgICAgICAgIG9uUG9ydE1vdXNlRG93bj17b25Qb3J0TW91c2VEb3dufVxyXG4gICAgICAgICAgICBvbkNvbnRleHRNZW51PXtvbk5vZGVDb250ZXh0TWVudX1cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgKTtcclxuICAgICAgfSl9XHJcbiAgICA8Lz5cclxuICApO1xyXG59XHJcblxyXG4iXSwibmFtZXMiOlsiUmVhY3QiLCJOb2RlUmVuZGVyZXIiLCJub2RlIiwiZXhlY3V0aW9uU3RhdHVzIiwicHJldmlld0RhdGEiLCJoYXNFeGVjdXRpb25EYXRhIiwib25TZWxlY3QiLCJvbkRlbGV0ZSIsIm9uRHJhZ1N0YXJ0Iiwib25Qb3J0TW91c2VEb3duIiwib25Db250ZXh0TWVudSIsImdldEV4ZWN1dGlvblN0YXR1c0NsYXNzIiwiZ2V0Q2F0ZWdvcnlDb2xvciIsImNhdGVnb3J5IiwiY29sb3JzIiwidHJpZ2dlcnMiLCJjb21tdW5pY2F0aW9uIiwiYWkiLCJ3b3JrZmxvdyIsImlucHV0Iiwib3V0cHV0IiwicHJvY2Vzc2luZyIsImFjdGlvbnMiLCJjb250cm9sIiwiYnVzaW5lc3MiLCJhbmFseXRpY3MiLCJ0b0xvd2VyQ2FzZSIsImdldERlZmF1bHRJY29uIiwiaWNvbnMiLCJyZW5kZXJUZXh0UHJldmlldyIsInR5cGUiLCJ0ZXh0IiwiY2hhckNvdW50IiwiY2hhcl9jb3VudCIsIndvcmRDb3VudCIsIndvcmRfY291bnQiLCJkaXYiLCJjbGFzc05hbWUiLCJzcGFuIiwic2VsZWN0ZWQiLCJmbGlwcGVkIiwic3R5bGUiLCJsZWZ0IiwicG9zaXRpb24iLCJ4IiwidG9wIiwieSIsIm9uQ2xpY2siLCJlIiwibm9kZV9pZCIsImRhdGEtbm9kZS1pZCIsImkiLCJ0YXJnZXQiLCJjbG9zZXN0Iiwib25Nb3VzZURvd24iLCJpY29uIiwibmFtZSIsInRpdGxlIiwiZGlzcGxheSIsIndpZHRoIiwiaGVpZ2h0IiwiYm9yZGVyUmFkaXVzIiwiYmFja2dyb3VuZENvbG9yIiwibWFyZ2luTGVmdCIsImJveFNoYWRvdyIsImJ1dHRvbiIsInN0b3BQcm9wYWdhdGlvbiIsImlucHV0cyIsIm1hcCIsImRhdGEtcG9ydCIsImlkIiwiZGF0YS1wb3J0LXR5cGUiLCJsYWJlbCIsIk1hdGgiLCJyYW5kb20iLCJvdXRwdXRzIiwiYWxpZ25JdGVtcyIsIk5vZGVzTGF5ZXIiLCJub2RlcyIsIm5vZGVTdGF0ZXMiLCJub2RlRXhlY3V0aW9uRGF0YSIsIm9uTm9kZVNlbGVjdCIsIm9uTm9kZURlbGV0ZSIsIm9uTm9kZURyYWdTdGFydCIsIm9uTm9kZUNvbnRleHRNZW51Iiwic2VsZWN0ZWROb2RlcyIsIlNldCIsImlzU2VsZWN0ZWQiLCJoYXMiLCJzdGF0dXMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/editor-page/NodeRenderer.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/app/editor-page/VariableOrTextInput.tsx":
/*!*****************************************************!*\
  !*** ./src/app/editor-page/VariableOrTextInput.tsx ***!
  \*****************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VariableOrTextInput: () => (/* binding */ VariableOrTextInput)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/**\r\n * VariableOrTextInput Component\r\n * \r\n * Advanced input component that allows users to choose between:\r\n * - Literal: Direct text input\r\n * - Variable: Pick from shared space variables\r\n * - Template: Mix text with {{variable}} placeholders\r\n */ \nvar _s = $RefreshSig$();\n\nfunction VariableOrTextInput({ label, value, onChange, availableVariables, widget = 'text', placeholder, required, description }) {\n    _s();\n    // Parse existing value\n    const parseValue = (val)=>{\n        if (!val) {\n            return {\n                source: 'literal',\n                value: ''\n            };\n        }\n        // If it's already our config format\n        if (typeof val === 'object' && val.source) {\n            return val;\n        }\n        // If it's a plain string, detect if it has templates\n        if (typeof val === 'string') {\n            // Check for both {{ (node variables) and { (system variables)\n            if (val.includes('{')) {\n                return {\n                    source: 'template',\n                    template: val\n                };\n            }\n            return {\n                source: 'literal',\n                value: val\n            };\n        }\n        return {\n            source: 'literal',\n            value: String(val)\n        };\n    };\n    const [configValue, setConfigValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(parseValue(value));\n    const [showAutocomplete, setShowAutocomplete] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [autocompleteType, setAutocompleteType] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('node'); // Track which type\n    const [cursorPosition, setCursorPosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [showPassword, setShowPassword] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Update when value prop changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"VariableOrTextInput.useEffect\": ()=>{\n            setConfigValue(parseValue(value));\n        }\n    }[\"VariableOrTextInput.useEffect\"], [\n        value\n    ]);\n    const handleSourceChange = (newSource)=>{\n        const newValue = {\n            source: newSource\n        };\n        if (newSource === 'literal') {\n            newValue.value = configValue.value || configValue.template || '';\n        } else if (newSource === 'variable') {\n            newValue.variable_path = configValue.variable_path || '';\n        } else if (newSource === 'template') {\n            newValue.template = configValue.template || configValue.value || '';\n        }\n        setConfigValue(newValue);\n        onChange(newValue);\n    };\n    const handleTextChange = (text)=>{\n        let newValue = {\n            ...configValue\n        };\n        let shouldCheckAutocomplete = false;\n        if (configValue.source === 'literal') {\n            // Auto-switch to template mode if user types { or {{\n            if (text.includes('{')) {\n                console.log(' Auto-switching from LITERAL to TEMPLATE mode');\n                newValue.source = 'template';\n                newValue.template = text;\n                delete newValue.value;\n                shouldCheckAutocomplete = true;\n            } else {\n                newValue.value = text;\n            }\n        } else if (configValue.source === 'template') {\n            newValue.template = text;\n            shouldCheckAutocomplete = true;\n        }\n        // Check for autocomplete if we're in template mode (or just switched to it)\n        if (shouldCheckAutocomplete) {\n            // Simple check: look at what's at the cursor position\n            // Find last unclosed brace sequence\n            let showDropdown = false;\n            let dropdownType = 'node';\n            // Check if we're in the middle of typing a variable\n            const lastDoubleOpen = text.lastIndexOf('{{');\n            const lastSingleOpen = text.lastIndexOf('{');\n            const lastDoubleClose = text.lastIndexOf('}}');\n            const lastSingleClose = text.lastIndexOf('}');\n            // If {{ exists and is not closed\n            if (lastDoubleOpen !== -1 && lastDoubleOpen > lastDoubleClose) {\n                showDropdown = true;\n                dropdownType = 'node';\n                console.log(' {{ open and not closed - showing NODE variables');\n            } else if (lastSingleOpen !== -1 && lastSingleOpen > lastSingleClose) {\n                // Make sure this { is not part of a {{\n                const isPartOfDouble = lastSingleOpen > 0 && text[lastSingleOpen - 1] === '{';\n                if (!isPartOfDouble) {\n                    showDropdown = true;\n                    dropdownType = 'system';\n                    console.log(' { open and not closed - showing SYSTEM variables');\n                }\n            }\n            setShowAutocomplete(showDropdown);\n            if (showDropdown) {\n                setAutocompleteType(dropdownType);\n            }\n        } else {\n            setShowAutocomplete(false);\n        }\n        setConfigValue(newValue);\n        // For backend compatibility: output plain strings instead of structured format\n        // Backend's resolve_template() handles {{var}} and {system} in plain strings automatically\n        if (newValue.source === 'literal') {\n            onChange(text); // Plain string\n        } else if (newValue.source === 'template') {\n            onChange(text); // Plain string with {{}} or {}\n        } else {\n            onChange(newValue); // Only variable mode uses structured format\n        }\n    };\n    const handleVariableSelect = (varPath, isSystemVar = false)=>{\n        if (configValue.source === 'variable') {\n            const newValue = {\n                source: 'variable',\n                variable_path: varPath\n            };\n            setConfigValue(newValue);\n            // For variable mode, keep structured format for clarity\n            onChange(newValue);\n        } else if (configValue.source === 'template' && inputRef.current) {\n            // Insert variable into template at cursor position\n            const text = configValue.template || '';\n            const beforeCursor = text.substring(0, cursorPosition);\n            const afterCursor = text.substring(cursorPosition);\n            let newText;\n            if (isSystemVar) {\n                // Find the { before cursor (single brace)\n                const lastBraceIndex = beforeCursor.lastIndexOf('{');\n                newText = text.substring(0, lastBraceIndex) + `{${varPath}}` + afterCursor;\n            } else {\n                // Find the {{ before cursor (double brace)\n                const lastBraceIndex = beforeCursor.lastIndexOf('{{');\n                newText = text.substring(0, lastBraceIndex) + `{{${varPath}}}` + afterCursor;\n            }\n            const newValue = {\n                source: 'template',\n                template: newText\n            };\n            setConfigValue(newValue);\n            // Output plain string for backend\n            onChange(newText);\n            setShowAutocomplete(false);\n        }\n    };\n    const getCurrentValue = ()=>{\n        if (configValue.source === 'literal') return configValue.value || '';\n        if (configValue.source === 'template') return configValue.template || '';\n        return '';\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"space-y-2\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex gap-3 items-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                        className: \"flex items-center gap-1.5 cursor-pointer\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                type: \"radio\",\n                                name: `source-${label}`,\n                                checked: configValue.source === 'literal',\n                                onChange: ()=>handleSourceChange('literal'),\n                                className: \"w-3.5 h-3.5\",\n                                style: {\n                                    accentColor: 'var(--theme-primary)'\n                                }\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\VariableOrTextInput.tsx\",\n                                lineNumber: 217,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-xs\",\n                                style: {\n                                    color: 'var(--theme-text-secondary)'\n                                },\n                                children: \"Literal\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\VariableOrTextInput.tsx\",\n                                lineNumber: 225,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\VariableOrTextInput.tsx\",\n                        lineNumber: 216,\n                        columnNumber: 9\n                    }, this),\n                    availableVariables.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: \"flex items-center gap-1.5 cursor-pointer\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"radio\",\n                                        name: `source-${label}`,\n                                        checked: configValue.source === 'variable',\n                                        onChange: ()=>handleSourceChange('variable'),\n                                        className: \"w-3.5 h-3.5\",\n                                        style: {\n                                            accentColor: 'var(--theme-primary)'\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\VariableOrTextInput.tsx\",\n                                        lineNumber: 233,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-xs\",\n                                        style: {\n                                            color: 'var(--theme-text-secondary)'\n                                        },\n                                        children: \"Variable\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\VariableOrTextInput.tsx\",\n                                        lineNumber: 241,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\VariableOrTextInput.tsx\",\n                                lineNumber: 232,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: \"flex items-center gap-1.5 cursor-pointer\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"radio\",\n                                        name: `source-${label}`,\n                                        checked: configValue.source === 'template',\n                                        onChange: ()=>handleSourceChange('template'),\n                                        className: \"w-3.5 h-3.5\",\n                                        style: {\n                                            accentColor: 'var(--theme-primary)'\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\VariableOrTextInput.tsx\",\n                                        lineNumber: 247,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-xs\",\n                                        style: {\n                                            color: 'var(--theme-text-secondary)'\n                                        },\n                                        children: \"Template\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\VariableOrTextInput.tsx\",\n                                        lineNumber: 255,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\VariableOrTextInput.tsx\",\n                                lineNumber: 246,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\VariableOrTextInput.tsx\",\n                lineNumber: 215,\n                columnNumber: 7\n            }, this),\n            configValue.source === 'variable' ? // Variable Picker Dropdown with nested structure\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                value: configValue.variable_path || '',\n                onChange: (e)=>handleVariableSelect(e.target.value),\n                className: \"w-full px-3 py-2 border rounded text-sm focus:outline-none\",\n                style: {\n                    background: 'var(--theme-surface-variant)',\n                    color: 'var(--theme-text)',\n                    borderColor: 'var(--theme-border)'\n                },\n                onFocus: (e)=>e.currentTarget.style.borderColor = 'var(--theme-primary)',\n                onBlur: (e)=>e.currentTarget.style.borderColor = 'var(--theme-border)',\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                        value: \"\",\n                        children: \"Select variable...\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\VariableOrTextInput.tsx\",\n                        lineNumber: 278,\n                        columnNumber: 11\n                    }, this),\n                    availableVariables.map((node)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"optgroup\", {\n                            label: node.nodeName,\n                            children: node.fields.map((field)=>{\n                                // System variables are flat (just the field name)\n                                const isSystemVar = node.nodeId === 'system';\n                                if (isSystemVar) {\n                                    // System variables: just use field name\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                        value: field.name,\n                                        children: field.name\n                                    }, field.name, false, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\VariableOrTextInput.tsx\",\n                                        lineNumber: 288,\n                                        columnNumber: 21\n                                    }, this);\n                                }\n                                // For node variables, add nested options\n                                const options = [\n                                    {\n                                        value: `${node.nodeId}.${field.name}`,\n                                        label: field.name\n                                    }\n                                ];\n                                // Add common nested paths for structured data\n                                if (field.type === 'universal' || field.type === 'object' || field.name === 'output') {\n                                    options.push({\n                                        value: `${node.nodeId}.${field.name}.data`,\n                                        label: `${field.name}.data`\n                                    }, {\n                                        value: `${node.nodeId}.${field.name}.result`,\n                                        label: `${field.name}.result`\n                                    }, {\n                                        value: `${node.nodeId}.${field.name}.value`,\n                                        label: `${field.name}.value`\n                                    }, {\n                                        value: `${node.nodeId}.${field.name}.text`,\n                                        label: `${field.name}.text`\n                                    }, {\n                                        value: `${node.nodeId}.${field.name}.content`,\n                                        label: `${field.name}.content`\n                                    }, {\n                                        value: `${node.nodeId}.${field.name}.message`,\n                                        label: `${field.name}.message`\n                                    }, {\n                                        value: `${node.nodeId}.${field.name}.body`,\n                                        label: `${field.name}.body`\n                                    }, {\n                                        value: `${node.nodeId}.${field.name}.status`,\n                                        label: `${field.name}.status`\n                                    });\n                                }\n                                return options.map((opt)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                        value: opt.value,\n                                        children: opt.label\n                                    }, opt.value, false, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\VariableOrTextInput.tsx\",\n                                        lineNumber: 314,\n                                        columnNumber: 19\n                                    }, this));\n                            })\n                        }, node.uniqueKey, false, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\VariableOrTextInput.tsx\",\n                            lineNumber: 280,\n                            columnNumber: 13\n                        }, this))\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\VariableOrTextInput.tsx\",\n                lineNumber: 266,\n                columnNumber: 9\n            }, this) : widget === 'textarea' ? // Textarea for literal/template\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"relative\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                        ref: inputRef,\n                        value: getCurrentValue(),\n                        onChange: (e)=>{\n                            handleTextChange(e.target.value);\n                            setCursorPosition(e.target.selectionStart || 0);\n                        },\n                        onKeyDown: (e)=>{\n                            if (e.key === '{' && e.currentTarget.value.endsWith('{')) {\n                                setShowAutocomplete(true);\n                            }\n                        },\n                        placeholder: configValue.source === 'template' ? 'Type text and use {{variable}} or {system} for dynamic values' : placeholder,\n                        className: \"w-full px-3 py-2 border rounded text-sm resize-y min-h-[80px] focus:outline-none\",\n                        style: {\n                            background: 'var(--theme-surface-variant)',\n                            color: 'var(--theme-text)',\n                            borderColor: 'var(--theme-border)'\n                        },\n                        onFocus: (e)=>e.currentTarget.style.borderColor = 'var(--theme-primary)',\n                        onBlur: (e)=>{\n                            e.currentTarget.style.borderColor = 'var(--theme-border)';\n                            setTimeout(()=>setShowAutocomplete(false), 200);\n                        },\n                        rows: 4\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\VariableOrTextInput.tsx\",\n                        lineNumber: 325,\n                        columnNumber: 11\n                    }, this),\n                    showAutocomplete && configValue.source === 'template' && availableVariables.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute z-10 mt-1 w-full border rounded shadow-lg max-h-48 overflow-y-auto\",\n                        style: {\n                            background: 'var(--theme-surface)',\n                            borderColor: 'var(--theme-border)'\n                        },\n                        children: availableVariables.filter((node)=>{\n                            // Show system variables only for system autocomplete, others for node\n                            if (autocompleteType === 'system') {\n                                return node.nodeId === 'system';\n                            } else {\n                                return node.nodeId !== 'system';\n                            }\n                        }).map((node)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"px-3 py-1.5 text-xs font-semibold\",\n                                        style: {\n                                            background: 'var(--theme-surface-variant)',\n                                            color: 'var(--theme-text-secondary)'\n                                        },\n                                        children: node.nodeName\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\VariableOrTextInput.tsx\",\n                                        lineNumber: 376,\n                                        columnNumber: 19\n                                    }, this),\n                                    node.fields.map((field)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            type: \"button\",\n                                            onMouseDown: (e)=>{\n                                                e.preventDefault();\n                                                const isSystemVar = node.nodeId === 'system';\n                                                const varPath = isSystemVar ? field.name : `${node.nodeId}.${field.name}`;\n                                                handleVariableSelect(varPath, isSystemVar);\n                                            },\n                                            className: \"w-full text-left px-4 py-1.5 text-sm hover:bg-opacity-80 transition-colors\",\n                                            style: {\n                                                color: 'var(--theme-text)'\n                                            },\n                                            onMouseEnter: (e)=>{\n                                                e.currentTarget.style.background = 'var(--theme-surface-hover)';\n                                            },\n                                            onMouseLeave: (e)=>{\n                                                e.currentTarget.style.background = 'transparent';\n                                            },\n                                            children: field.name\n                                        }, field.name, false, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\VariableOrTextInput.tsx\",\n                                            lineNumber: 386,\n                                            columnNumber: 21\n                                        }, this))\n                                ]\n                            }, node.uniqueKey, true, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\VariableOrTextInput.tsx\",\n                                lineNumber: 375,\n                                columnNumber: 17\n                            }, this))\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\VariableOrTextInput.tsx\",\n                        lineNumber: 358,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\VariableOrTextInput.tsx\",\n                lineNumber: 324,\n                columnNumber: 9\n            }, this) : // Text or Password input for literal/template\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"relative\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                        ref: inputRef,\n                        type: widget === 'password' && !showPassword ? 'password' : 'text',\n                        value: getCurrentValue(),\n                        onChange: (e)=>{\n                            handleTextChange(e.target.value);\n                            setCursorPosition(e.target.selectionStart || 0);\n                        },\n                        onKeyDown: (e)=>{\n                            if (e.key === '{' && e.currentTarget.value.endsWith('{')) {\n                                setShowAutocomplete(true);\n                            }\n                        },\n                        placeholder: configValue.source === 'template' ? 'Type text and use {{variable}} or {system} for dynamic values' : placeholder,\n                        className: `w-full px-3 py-2 border rounded text-sm focus:outline-none ${widget === 'password' ? 'pr-10' : ''}`,\n                        style: {\n                            background: 'var(--theme-surface-variant)',\n                            color: 'var(--theme-text)',\n                            borderColor: 'var(--theme-border)'\n                        },\n                        onFocus: (e)=>e.currentTarget.style.borderColor = 'var(--theme-primary)',\n                        onBlur: (e)=>{\n                            e.currentTarget.style.borderColor = 'var(--theme-border)';\n                            setTimeout(()=>setShowAutocomplete(false), 200);\n                        }\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\VariableOrTextInput.tsx\",\n                        lineNumber: 417,\n                        columnNumber: 11\n                    }, this),\n                    widget === 'password' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        type: \"button\",\n                        onClick: ()=>setShowPassword(!showPassword),\n                        className: \"absolute right-3 top-1/2 transform -translate-y-1/2 focus:outline-none\",\n                        style: {\n                            color: showPassword ? 'var(--theme-primary)' : 'var(--theme-text-muted)',\n                            cursor: 'pointer'\n                        },\n                        title: showPassword ? 'Hide' : 'Show',\n                        children: showPassword ? // Eye slash (hide)\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                            xmlns: \"http://www.w3.org/2000/svg\",\n                            width: \"18\",\n                            height: \"18\",\n                            viewBox: \"0 0 24 24\",\n                            fill: \"none\",\n                            stroke: \"currentColor\",\n                            strokeWidth: \"2\",\n                            strokeLinecap: \"round\",\n                            strokeLinejoin: \"round\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                    d: \"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\VariableOrTextInput.tsx\",\n                                    lineNumber: 473,\n                                    columnNumber: 19\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"line\", {\n                                    x1: \"1\",\n                                    y1: \"1\",\n                                    x2: \"23\",\n                                    y2: \"23\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\VariableOrTextInput.tsx\",\n                                    lineNumber: 474,\n                                    columnNumber: 19\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\VariableOrTextInput.tsx\",\n                            lineNumber: 462,\n                            columnNumber: 17\n                        }, this) : // Eye (show)\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                            xmlns: \"http://www.w3.org/2000/svg\",\n                            width: \"18\",\n                            height: \"18\",\n                            viewBox: \"0 0 24 24\",\n                            fill: \"none\",\n                            stroke: \"currentColor\",\n                            strokeWidth: \"2\",\n                            strokeLinecap: \"round\",\n                            strokeLinejoin: \"round\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                    d: \"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\VariableOrTextInput.tsx\",\n                                    lineNumber: 489,\n                                    columnNumber: 19\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                    cx: \"12\",\n                                    cy: \"12\",\n                                    r: \"3\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\VariableOrTextInput.tsx\",\n                                    lineNumber: 490,\n                                    columnNumber: 19\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\VariableOrTextInput.tsx\",\n                            lineNumber: 478,\n                            columnNumber: 17\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\VariableOrTextInput.tsx\",\n                        lineNumber: 450,\n                        columnNumber: 13\n                    }, this),\n                    showAutocomplete && configValue.source === 'template' && availableVariables.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute z-10 mt-1 w-full border rounded shadow-lg max-h-48 overflow-y-auto\",\n                        style: {\n                            background: 'var(--theme-surface)',\n                            borderColor: 'var(--theme-border)'\n                        },\n                        children: availableVariables.filter((node)=>{\n                            // Show system variables only for system autocomplete, others for node\n                            if (autocompleteType === 'system') {\n                                return node.nodeId === 'system';\n                            } else {\n                                return node.nodeId !== 'system';\n                            }\n                        }).map((node)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"px-3 py-1.5 text-xs font-semibold\",\n                                        style: {\n                                            background: 'var(--theme-surface-variant)',\n                                            color: 'var(--theme-text-secondary)'\n                                        },\n                                        children: node.nodeName\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\VariableOrTextInput.tsx\",\n                                        lineNumber: 516,\n                                        columnNumber: 19\n                                    }, this),\n                                    node.fields.map((field)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            type: \"button\",\n                                            onMouseDown: (e)=>{\n                                                e.preventDefault();\n                                                const isSystemVar = node.nodeId === 'system';\n                                                const varPath = isSystemVar ? field.name : `${node.nodeId}.${field.name}`;\n                                                handleVariableSelect(varPath, isSystemVar);\n                                            },\n                                            className: \"w-full text-left px-4 py-1.5 text-sm hover:bg-opacity-80 transition-colors\",\n                                            style: {\n                                                color: 'var(--theme-text)'\n                                            },\n                                            onMouseEnter: (e)=>{\n                                                e.currentTarget.style.background = 'var(--theme-surface-hover)';\n                                            },\n                                            onMouseLeave: (e)=>{\n                                                e.currentTarget.style.background = 'transparent';\n                                            },\n                                            children: field.name\n                                        }, field.name, false, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\VariableOrTextInput.tsx\",\n                                            lineNumber: 526,\n                                            columnNumber: 21\n                                        }, this))\n                                ]\n                            }, node.uniqueKey, true, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\VariableOrTextInput.tsx\",\n                                lineNumber: 515,\n                                columnNumber: 17\n                            }, this))\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\VariableOrTextInput.tsx\",\n                        lineNumber: 498,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\VariableOrTextInput.tsx\",\n                lineNumber: 416,\n                columnNumber: 9\n            }, this),\n            configValue.source === 'template' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"text-xs flex items-center gap-1\",\n                style: {\n                    color: 'var(--theme-text-muted)'\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                        className: \"fas fa-info-circle\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\VariableOrTextInput.tsx\",\n                        lineNumber: 559,\n                        columnNumber: 11\n                    }, this),\n                    \"Type \",\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"code\", {\n                        className: \"px-1 py-0.5 rounded\",\n                        style: {\n                            background: 'var(--theme-surface-variant)'\n                        },\n                        children: '{{'\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\VariableOrTextInput.tsx\",\n                        lineNumber: 560,\n                        columnNumber: 16\n                    }, this),\n                    \" for node variables or \",\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"code\", {\n                        className: \"px-1 py-0.5 rounded\",\n                        style: {\n                            background: 'var(--theme-surface-variant)'\n                        },\n                        children: '{'\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\VariableOrTextInput.tsx\",\n                        lineNumber: 562,\n                        columnNumber: 41\n                    }, this),\n                    \" for system variables\"\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\VariableOrTextInput.tsx\",\n                lineNumber: 558,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\VariableOrTextInput.tsx\",\n        lineNumber: 213,\n        columnNumber: 5\n    }, this);\n}\n_s(VariableOrTextInput, \"Bk1+b3fI98Pai0LCSXNnIapLsoI=\");\n_c = VariableOrTextInput;\nvar _c;\n$RefreshReg$(_c, \"VariableOrTextInput\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvZWRpdG9yLXBhZ2UvVmFyaWFibGVPclRleHRJbnB1dC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7Ozs7O0NBT0M7O0FBRTBEO0FBMkJwRCxTQUFTSSxvQkFBb0IsRUFDbENDLEtBQUssRUFDTEMsS0FBSyxFQUNMQyxRQUFRLEVBQ1JDLGtCQUFrQixFQUNsQkMsU0FBUyxNQUFNLEVBQ2ZDLFdBQVcsRUFDWEMsUUFBUSxFQUNSQyxXQUFXLEVBQ2M7O0lBQ3pCLHVCQUF1QjtJQUN2QixNQUFNQyxhQUFhLENBQUNDO1FBQ2xCLElBQUksQ0FBQ0EsS0FBSztZQUNSLE9BQU87Z0JBQUVDLFFBQVE7Z0JBQVdULE9BQU87WUFBRztRQUN4QztRQUVBLG9DQUFvQztRQUNwQyxJQUFJLE9BQU9RLFFBQVEsWUFBWUEsSUFBSUMsTUFBTSxFQUFFO1lBQ3pDLE9BQU9EO1FBQ1Q7UUFFQSxxREFBcUQ7UUFDckQsSUFBSSxPQUFPQSxRQUFRLFVBQVU7WUFDM0IsOERBQThEO1lBQzlELElBQUlBLElBQUlFLFFBQVEsQ0FBQyxNQUFNO2dCQUNyQixPQUFPO29CQUFFRCxRQUFRO29CQUFZRSxVQUFVSDtnQkFBSTtZQUM3QztZQUNBLE9BQU87Z0JBQUVDLFFBQVE7Z0JBQVdULE9BQU9RO1lBQUk7UUFDekM7UUFFQSxPQUFPO1lBQUVDLFFBQVE7WUFBV1QsT0FBT1ksT0FBT0o7UUFBSztJQUNqRDtJQUVBLE1BQU0sQ0FBQ0ssYUFBYUMsZUFBZSxHQUFHbkIsK0NBQVFBLENBQWNZLFdBQVdQO0lBQ3ZFLE1BQU0sQ0FBQ2Usa0JBQWtCQyxvQkFBb0IsR0FBR3JCLCtDQUFRQSxDQUFDO0lBQ3pELE1BQU0sQ0FBQ3NCLGtCQUFrQkMsb0JBQW9CLEdBQUd2QiwrQ0FBUUEsQ0FBb0IsU0FBUyxtQkFBbUI7SUFDeEcsTUFBTSxDQUFDd0IsZ0JBQWdCQyxrQkFBa0IsR0FBR3pCLCtDQUFRQSxDQUFDO0lBQ3JELE1BQU0sQ0FBQzBCLGNB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b3VyY2VzIjpbIkM6XFxVc2Vyc1xcbmljaG9sYXMubGVlXFxEb2N1bWVudHNcXHpcXFRpY2tldGluZ19OaWNrXFxUaWNrZXRpbmdcXHRhdl9vcGVuc291cmNlXFx1aVxcc3JjXFxhcHBcXGVkaXRvci1wYWdlXFxWYXJpYWJsZU9yVGV4dElucHV0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogVmFyaWFibGVPclRleHRJbnB1dCBDb21wb25lbnRcclxuICogXHJcbiAqIEFkdmFuY2VkIGlucHV0IGNvbXBvbmVudCB0aGF0IGFsbG93cyB1c2VycyB0byBjaG9vc2UgYmV0d2VlbjpcclxuICogLSBMaXRlcmFsOiBEaXJlY3QgdGV4dCBpbnB1dFxyXG4gKiAtIFZhcmlhYmxlOiBQaWNrIGZyb20gc2hhcmVkIHNwYWNlIHZhcmlhYmxlc1xyXG4gKiAtIFRlbXBsYXRlOiBNaXggdGV4dCB3aXRoIHt7dmFyaWFibGV9fSBwbGFjZWhvbGRlcnNcclxuICovXHJcblxyXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZVJlZiwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xyXG5cclxuaW50ZXJmYWNlIEF2YWlsYWJsZVZhcmlhYmxlIHtcclxuICBub2RlTmFtZTogc3RyaW5nO1xyXG4gIG5vZGVJZDogc3RyaW5nO1xyXG4gIHVuaXF1ZUtleTogc3RyaW5nOyAvLyBGb3IgUmVhY3Qga2V5cyB0byBhdm9pZCBkdXBsaWNhdGVzXHJcbiAgZmllbGRzOiB7IG5hbWU6IHN0cmluZzsgdHlwZT86IHN0cmluZyB9W107XHJcbn1cclxuXHJcbmludGVyZmFjZSBDb25maWdWYWx1ZSB7XHJcbiAgc291cmNlOiAnbGl0ZXJhbCcgfCAndmFyaWFibGUnIHwgJ3RlbXBsYXRlJztcclxuICB2YWx1ZT86IHN0cmluZztcclxuICB2YXJpYWJsZV9wYXRoPzogc3RyaW5nO1xyXG4gIHRlbXBsYXRlPzogc3RyaW5nO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgVmFyaWFibGVPclRleHRJbnB1dFByb3BzIHtcclxuICBsYWJlbDogc3RyaW5nO1xyXG4gIHZhbHVlOiBhbnk7IC8vIENhbiBiZSBzdHJpbmcsIENvbmZpZ1ZhbHVlIG9iamVjdCwgb3IgdW5kZWZpbmVkXHJcbiAgb25DaGFuZ2U6ICh2YWx1ZTogQ29uZmlnVmFsdWUgfCBzdHJpbmcpID0+IHZvaWQ7XHJcbiAgYXZhaWxhYmxlVmFyaWFibGVzOiBBdmFpbGFibGVWYXJpYWJsZVtdO1xyXG4gIHdpZGdldD86ICd0ZXh0JyB8ICd0ZXh0YXJlYScgfCAncGFzc3dvcmQnO1xyXG4gIHBsYWNlaG9sZGVyPzogc3RyaW5nO1xyXG4gIHJlcXVpcmVkPzogYm9vbGVhbjtcclxuICBkZXNjcmlwdGlvbj86IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIFZhcmlhYmxlT3JUZXh0SW5wdXQoe1xyXG4gIGxhYmVsLFxyXG4gIHZhbHVlLFxyXG4gIG9uQ2hhbmdlLFxyXG4gIGF2YWlsYWJsZVZhcmlhYmxlcyxcclxuICB3aWRnZXQgPSAndGV4dCcsXHJcbiAgcGxhY2Vob2xkZXIsXHJcbiAgcmVxdWlyZWQsXHJcbiAgZGVzY3JpcHRpb24sXHJcbn06IFZhcmlhYmxlT3JUZXh0SW5wdXRQcm9wcykge1xyXG4gIC8vIFBhcnNlIGV4aXN0aW5nIHZhbHVlXHJcbiAgY29uc3QgcGFyc2VWYWx1ZSA9ICh2YWw6IGFueSk6IENvbmZpZ1ZhbHVlID0+IHtcclxuICAgIGlmICghdmFsKSB7XHJcbiAgICAgIHJldHVybiB7IHNvdXJjZTogJ2xpdGVyYWwnLCB2YWx1ZTogJycgfTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gSWYgaXQncyBhbHJlYWR5IG91ciBjb25maWcgZm9ybWF0XHJcbiAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgJiYgdmFsLnNvdXJjZSkge1xyXG4gICAgICByZXR1cm4gdmFsO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBJZiBpdCdzIGEgcGxhaW4gc3RyaW5nLCBkZXRlY3QgaWYgaXQgaGFzIHRlbXBsYXRlc1xyXG4gICAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIC8vIENoZWNrIGZvciBib3RoIHt7IChub2RlIHZhcmlhYmxlcykgYW5kIHsgKHN5c3RlbSB2YXJpYWJsZXMpXHJcbiAgICAgIGlmICh2YWwuaW5jbHVkZXMoJ3snKSkge1xyXG4gICAgICAgIHJldHVybiB7IHNvdXJjZTogJ3RlbXBsYXRlJywgdGVtcGxhdGU6IHZhbCB9O1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB7IHNvdXJjZTogJ2xpdGVyYWwnLCB2YWx1ZTogdmFsIH07XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiB7IHNvdXJjZTogJ2xpdGVyYWwnLCB2YWx1ZTogU3RyaW5nKHZhbCkgfTtcclxuICB9O1xyXG5cclxuICBjb25zdCBbY29uZmlnVmFsdWUsIHNldENvbmZpZ1ZhbHVlXSA9IHVzZVN0YXRlPENvbmZpZ1ZhbHVlPihwYXJzZVZhbHVlKHZhbHVlKSk7XHJcbiAgY29uc3QgW3Nob3dBdXRvY29tcGxldGUsIHNldFNob3dBdXRvY29tcGxldGVdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFthdXRvY29tcGxldGVUeXBlLCBzZXRBdXRvY29tcGxldGVUeXBlXSA9IHVzZVN0YXRlPCdub2RlJyB8ICdzeXN0ZW0nPignbm9kZScpOyAvLyBUcmFjayB3aGljaCB0eXBlXHJcbiAgY29uc3QgW2N1cnNvclBvc2l0aW9uLCBzZXRDdXJzb3JQb3NpdGlvbl0gPSB1c2VTdGF0ZSgwKTtcclxuICBjb25zdCBbc2hvd1Bhc3N3b3JkLCBzZXRTaG93UGFzc3dvcmRdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IGlucHV0UmVmID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQgfCBIVE1MVGV4dEFyZWFFbGVtZW50PihudWxsKTtcclxuXHJcbiAgLy8gVXBkYXRlIHdoZW4gdmFsdWUgcHJvcCBjaGFuZ2VzXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIHNldENvbmZpZ1ZhbHVlKHBhcnNlVmFsdWUodmFsdWUpKTtcclxuICB9LCBbdmFsdWVdKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlU291cmNlQ2hhbmdlID0gKG5ld1NvdXJjZTogJ2xpdGVyYWwnIHwgJ3ZhcmlhYmxlJyB8ICd0ZW1wbGF0ZScpID0+IHtcclxuICAgIGNvbnN0IG5ld1ZhbHVlOiBDb25maWdWYWx1ZSA9IHsgc291cmNlOiBuZXdTb3VyY2UgfTtcclxuICAgIFxyXG4gICAgaWYgKG5ld1NvdXJjZSA9PT0gJ2xpdGVyYWwnKSB7XHJcbiAgICAgIG5ld1ZhbHVlLnZhbHVlID0gY29uZmlnVmFsdWUudmFsdWUgfHwgY29uZmlnVmFsdWUudGVtcGxhdGUgfHwgJyc7XHJcbiAgICB9IGVsc2UgaWYgKG5ld1NvdXJjZSA9PT0gJ3ZhcmlhYmxlJykge1xyXG4gICAgICBuZXdWYWx1ZS52YXJpYWJsZV9wYXRoID0gY29uZmlnVmFsdWUudmFyaWFibGVfcGF0aCB8fCAnJztcclxuICAgIH0gZWxzZSBpZiAobmV3U291cmNlID09PSAndGVtcGxhdGUnKSB7XHJcbiAgICAgIG5ld1ZhbHVlLnRlbXBsYXRlID0gY29uZmlnVmFsdWUudGVtcGxhdGUgfHwgY29uZmlnVmFsdWUudmFsdWUgfHwgJyc7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHNldENvbmZpZ1ZhbHVlKG5ld1ZhbHVlKTtcclxuICAgIG9uQ2hhbmdlKG5ld1ZhbHVlKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVUZXh0Q2hhbmdlID0gKHRleHQ6IHN0cmluZykgPT4ge1xyXG4gICAgbGV0IG5ld1ZhbHVlID0geyAuLi5jb25maWdWYWx1ZSB9O1xyXG4gICAgbGV0IHNob3VsZENoZWNrQXV0b2NvbXBsZXRlID0gZmFsc2U7XHJcbiAgICBcclxuICAgIGlmIChjb25maWdWYWx1ZS5zb3VyY2UgPT09ICdsaXRlcmFsJykge1xyXG4gICAgICAvLyBBdXRvLXN3aXRjaCB0byB0ZW1wbGF0ZSBtb2RlIGlmIHVzZXIgdHlwZXMgeyBvciB7e1xyXG4gICAgICBpZiAodGV4dC5pbmNsdWRlcygneycpKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ/CflIQgQXV0by1zd2l0Y2hpbmcgZnJvbSBMSVRFUkFMIHRvIFRFTVBMQVRFIG1vZGUnKTtcclxuICAgICAgICBuZXdWYWx1ZS5zb3VyY2UgPSAndGVtcGxhdGUnO1xyXG4gICAgICAgIG5ld1ZhbHVlLnRlbXBsYXRlID0gdGV4dDtcclxuICAgICAgICBkZWxldGUgbmV3VmFsdWUudmFsdWU7XHJcbiAgICAgICAgc2hvdWxkQ2hlY2tBdXRvY29tcGxldGUgPSB0cnVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG5ld1ZhbHVlLnZhbHVlID0gdGV4dDtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChjb25maWdWYWx1ZS5zb3VyY2UgPT09ICd0ZW1wbGF0ZScpIHtcclxuICAgICAgbmV3VmFsdWUudGVtcGxhdGUgPSB0ZXh0O1xyXG4gICAgICBzaG91bGRDaGVja0F1dG9jb21wbGV0ZSA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIENoZWNrIGZvciBhdXRvY29tcGxldGUgaWYgd2UncmUgaW4gdGVtcGxhdGUgbW9kZSAob3IganVzdCBzd2l0Y2hlZCB0byBpdClcclxuICAgIGlmIChzaG91bGRDaGVja0F1dG9jb21wbGV0ZSkge1xyXG4gICAgICAvLyBTaW1wbGUgY2hlY2s6IGxvb2sgYXQgd2hhdCdzIGF0IHRoZSBjdXJzb3IgcG9zaXRpb25cclxuICAgICAgLy8gRmluZCBsYXN0IHVuY2xvc2VkIGJyYWNlIHNlcXVlbmNlXHJcbiAgICAgIGxldCBzaG93RHJvcGRvd24gPSBmYWxzZTtcclxuICAgICAgbGV0IGRyb3Bkb3duVHlwZTogJ25vZGUnIHwgJ3N5c3RlbScgPSAnbm9kZSc7XHJcbiAgICAgIFxyXG4gICAgICAvLyBDaGVjayBpZiB3ZSdyZSBpbiB0aGUgbWlkZGxlIG9mIHR5cGluZyBhIHZhcmlhYmxlXHJcbiAgICAgIGNvbnN0IGxhc3REb3VibGVPcGVuID0gdGV4dC5sYXN0SW5kZXhPZigne3snKTtcclxuICAgICAgY29uc3QgbGFzdFNpbmdsZU9wZW4gPSB0ZXh0Lmxhc3RJbmRleE9mKCd7Jyk7XHJcbiAgICAgIGNvbnN0IGxhc3REb3VibGVDbG9zZSA9IHRleHQubGFzdEluZGV4T2YoJ319Jyk7XHJcbiAgICAgIGNvbnN0IGxhc3RTaW5nbGVDbG9zZSA9IHRleHQubGFzdEluZGV4T2YoJ30nKTtcclxuICAgICAgXHJcbiAgICAgIC8vIElmIHt7IGV4aXN0cyBhbmQgaXMgbm90IGNsb3NlZFxyXG4gICAgICBpZiAobGFzdERvdWJsZU9wZW4gIT09IC0xICYmIGxhc3REb3VibGVPcGVuID4gbGFzdERvdWJsZUNsb3NlKSB7XHJcbiAgICAgICAgc2hvd0Ryb3Bkb3duID0gdHJ1ZTtcclxuICAgICAgICBkcm9wZG93blR5cGUgPSAnbm9kZSc7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfn6Ige3sgb3BlbiBhbmQgbm90IGNsb3NlZCAtIHNob3dpbmcgTk9ERSB2YXJpYWJsZXMnKTtcclxuICAgICAgfVxyXG4gICAgICAvLyBFbHNlIGlmIHNpbmdsZSB7IGV4aXN0cyBhbmQgaXMgbm90IGNsb3NlZCBBTkQgaXQncyBub3QgcGFydCBvZiB7e1xyXG4gICAgICBlbHNlIGlmIChsYXN0U2luZ2xlT3BlbiAhPT0gLTEgJiYgbGFzdFNpbmdsZU9wZW4gPiBsYXN0U2luZ2xlQ2xvc2UpIHtcclxuICAgICAgICAvLyBNYWtlIHN1cmUgdGhpcyB7IGlzIG5vdCBwYXJ0IG9mIGEge3tcclxuICAgICAgICBjb25zdCBpc1BhcnRPZkRvdWJsZSA9IGxhc3RTaW5nbGVPcGVuID4gMCAmJiB0ZXh0W2xhc3RTaW5nbGVPcGVuIC0gMV0gPT09ICd7JztcclxuICAgICAgICBpZiAoIWlzUGFydE9mRG91YmxlKSB7XHJcbiAgICAgICAgICBzaG93RHJvcGRvd24gPSB0cnVlO1xyXG4gICAgICAgICAgZHJvcGRvd25UeXBlID0gJ3N5c3RlbSc7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+foSB7IG9wZW4gYW5kIG5vdCBjbG9zZWQgLSBzaG93aW5nIFNZU1RFTSB2YXJpYWJsZXMnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHNldFNob3dBdXRvY29tcGxldGUoc2hvd0Ryb3Bkb3duKTtcclxuICAgICAgaWYgKHNob3dEcm9wZG93bikge1xyXG4gICAgICAgIHNldEF1dG9jb21wbGV0ZVR5cGUoZHJvcGRvd25UeXBlKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc2V0U2hvd0F1dG9jb21wbGV0ZShmYWxzZSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHNldENvbmZpZ1ZhbHVlKG5ld1ZhbHVlKTtcclxuICAgIFxyXG4gICAgLy8gRm9yIGJhY2tlbmQgY29tcGF0aWJpbGl0eTogb3V0cHV0IHBsYWluIHN0cmluZ3MgaW5zdGVhZCBvZiBzdHJ1Y3R1cmVkIGZvcm1hdFxyXG4gICAgLy8gQmFja2VuZCdzIHJlc29sdmVfdGVtcGxhdGUoKSBoYW5kbGVzIHt7dmFyfX0gYW5kIHtzeXN0ZW19IGluIHBsYWluIHN0cmluZ3MgYXV0b21hdGljYWxseVxyXG4gICAgaWYgKG5ld1ZhbHVlLnNvdXJjZSA9PT0gJ2xpdGVyYWwnKSB7XHJcbiAgICAgIG9uQ2hhbmdlKHRleHQpOyAgLy8gUGxhaW4gc3RyaW5nXHJcbiAgICB9IGVsc2UgaWYgKG5ld1ZhbHVlLnNvdXJjZSA9PT0gJ3RlbXBsYXRlJykge1xyXG4gICAgICBvbkNoYW5nZSh0ZXh0KTsgIC8vIFBsYWluIHN0cmluZyB3aXRoIHt7fX0gb3Ige31cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG9uQ2hhbmdlKG5ld1ZhbHVlKTsgIC8vIE9ubHkgdmFyaWFibGUgbW9kZSB1c2VzIHN0cnVjdHVyZWQgZm9ybWF0XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlVmFyaWFibGVTZWxlY3QgPSAodmFyUGF0aDogc3RyaW5nLCBpc1N5c3RlbVZhcjogYm9vbGVhbiA9IGZhbHNlKSA9PiB7XHJcbiAgICBpZiAoY29uZmlnVmFsdWUuc291cmNlID09PSAndmFyaWFibGUnKSB7XHJcbiAgICAgIGNvbnN0IG5ld1ZhbHVlID0geyBzb3VyY2U6ICd2YXJpYWJsZScgYXMgY29uc3QsIHZhcmlhYmxlX3BhdGg6IHZhclBhdGggfTtcclxuICAgICAgc2V0Q29uZmlnVmFsdWUobmV3VmFsdWUpO1xyXG4gICAgICAvLyBGb3IgdmFyaWFibGUgbW9kZSwga2VlcCBzdHJ1Y3R1cmVkIGZvcm1hdCBmb3IgY2xhcml0eVxyXG4gICAgICBvbkNoYW5nZShuZXdWYWx1ZSk7XHJcbiAgICB9IGVsc2UgaWYgKGNvbmZpZ1ZhbHVlLnNvdXJjZSA9PT0gJ3RlbXBsYXRlJyAmJiBpbnB1dFJlZi5jdXJyZW50KSB7XHJcbiAgICAgIC8vIEluc2VydCB2YXJpYWJsZSBpbnRvIHRlbXBsYXRlIGF0IGN1cnNvciBwb3NpdGlvblxyXG4gICAgICBjb25zdCB0ZXh0ID0gY29uZmlnVmFsdWUudGVtcGxhdGUgfHwgJyc7XHJcbiAgICAgIGNvbnN0IGJlZm9yZUN1cnNvciA9IHRleHQuc3Vic3RyaW5nKDAsIGN1cnNvclBvc2l0aW9uKTtcclxuICAgICAgY29uc3QgYWZ0ZXJDdXJzb3IgPSB0ZXh0LnN1YnN0cmluZyhjdXJzb3JQb3NpdGlvbik7XHJcbiAgICAgIFxyXG4gICAgICBsZXQgbmV3VGV4dDogc3RyaW5nO1xyXG4gICAgICBcclxuICAgICAgaWYgKGlzU3lzdGVtVmFyKSB7XHJcbiAgICAgICAgLy8gRmluZCB0aGUgeyBiZWZvcmUgY3Vyc29yIChzaW5nbGUgYnJhY2UpXHJcbiAgICAgICAgY29uc3QgbGFzdEJyYWNlSW5kZXggPSBiZWZvcmVDdXJzb3IubGFzdEluZGV4T2YoJ3snKTtcclxuICAgICAgICBuZXdUZXh0ID0gXHJcbiAgICAgICAgICB0ZXh0LnN1YnN0cmluZygwLCBsYXN0QnJhY2VJbmRleCkgKyBcclxuICAgICAgICAgIGB7JHt2YXJQYXRofX1gICsgXHJcbiAgICAgICAgICBhZnRlckN1cnNvcjtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBGaW5kIHRoZSB7eyBiZWZvcmUgY3Vyc29yIChkb3VibGUgYnJhY2UpXHJcbiAgICAgICAgY29uc3QgbGFzdEJyYWNlSW5kZXggPSBiZWZvcmVDdXJzb3IubGFzdEluZGV4T2YoJ3t7Jyk7XHJcbiAgICAgICAgbmV3VGV4dCA9IFxyXG4gICAgICAgICAgdGV4dC5zdWJzdHJpbmcoMCwgbGFzdEJyYWNlSW5kZXgpICsgXHJcbiAgICAgICAgICBge3ske3ZhclBhdGh9fX1gICsgXHJcbiAgICAgICAgICBhZnRlckN1cnNvcjtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc3QgbmV3VmFsdWUgPSB7IHNvdXJjZTogJ3RlbXBsYXRlJyBhcyBjb25zdCwgdGVtcGxhdGU6IG5ld1RleHQgfTtcclxuICAgICAgc2V0Q29uZmlnVmFsdWUobmV3VmFsdWUpO1xyXG4gICAgICAvLyBPdXRwdXQgcGxhaW4gc3RyaW5nIGZvciBiYWNrZW5kXHJcbiAgICAgIG9uQ2hhbmdlKG5ld1RleHQpO1xyXG4gICAgICBzZXRTaG93QXV0b2NvbXBsZXRlKGZhbHNlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBnZXRDdXJyZW50VmFsdWUgPSAoKSA9PiB7XHJcbiAgICBpZiAoY29uZmlnVmFsdWUuc291cmNlID09PSAnbGl0ZXJhbCcpIHJldHVybiBjb25maWdWYWx1ZS52YWx1ZSB8fCAnJztcclxuICAgIGlmIChjb25maWdWYWx1ZS5zb3VyY2UgPT09ICd0ZW1wbGF0ZScpIHJldHVybiBjb25maWdWYWx1ZS50ZW1wbGF0ZSB8fCAnJztcclxuICAgIHJldHVybiAnJztcclxuICB9O1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cclxuICAgICAgey8qIFNvdXJjZSBTZWxlY3RvciAqL31cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0zIGl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMS41IGN1cnNvci1wb2ludGVyXCI+XHJcbiAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgdHlwZT1cInJhZGlvXCJcclxuICAgICAgICAgICAgbmFtZT17YHNvdXJjZS0ke2xhYmVsfWB9XHJcbiAgICAgICAgICAgIGNoZWNrZWQ9e2NvbmZpZ1ZhbHVlLnNvdXJjZSA9PT0gJ2xpdGVyYWwnfVxyXG4gICAgICAgICAgICBvbkNoYW5nZT17KCkgPT4gaGFuZGxlU291cmNlQ2hhbmdlKCdsaXRlcmFsJyl9XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMy41IGgtMy41XCJcclxuICAgICAgICAgICAgc3R5bGU9e3sgYWNjZW50Q29sb3I6ICd2YXIoLS10aGVtZS1wcmltYXJ5KScgfX1cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzXCIgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0LXNlY29uZGFyeSknIH19PlxyXG4gICAgICAgICAgICBMaXRlcmFsXHJcbiAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICBcclxuICAgICAgICB7YXZhaWxhYmxlVmFyaWFibGVzLmxlbmd0aCA+IDAgJiYgKFxyXG4gICAgICAgICAgPD5cclxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xLjUgY3Vyc29yLXBvaW50ZXJcIj5cclxuICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXHJcbiAgICAgICAgICAgICAgICBuYW1lPXtgc291cmNlLSR7bGFiZWx9YH1cclxuICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2NvbmZpZ1ZhbHVlLnNvdXJjZSA9PT0gJ3ZhcmlhYmxlJ31cclxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoKSA9PiBoYW5kbGVTb3VyY2VDaGFuZ2UoJ3ZhcmlhYmxlJyl9XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTMuNSBoLTMuNVwiXHJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBhY2NlbnRDb2xvcjogJ3ZhcigtLXRoZW1lLXByaW1hcnkpJyB9fVxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14c1wiIHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dC1zZWNvbmRhcnkpJyB9fT5cclxuICAgICAgICAgICAgICAgIFZhcmlhYmxlXHJcbiAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xLjUgY3Vyc29yLXBvaW50ZXJcIj5cclxuICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXHJcbiAgICAgICAgICAgICAgICBuYW1lPXtgc291cmNlLSR7bGFiZWx9YH1cclxuICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2NvbmZpZ1ZhbHVlLnNvdXJjZSA9PT0gJ3RlbXBsYXRlJ31cclxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoKSA9PiBoYW5kbGVTb3VyY2VDaGFuZ2UoJ3RlbXBsYXRlJyl9XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTMuNSBoLTMuNVwiXHJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBhY2NlbnRDb2xvcjogJ3ZhcigtLXRoZW1lLXByaW1hcnkpJyB9fVxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14c1wiIHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dC1zZWNvbmRhcnkpJyB9fT5cclxuICAgICAgICAgICAgICAgIFRlbXBsYXRlXHJcbiAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgPC8+XHJcbiAgICAgICAgKX1cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICB7LyogSW5wdXQgRmllbGQgKi99XHJcbiAgICAgIHtjb25maWdWYWx1ZS5zb3VyY2UgPT09ICd2YXJpYWJsZScgPyAoXHJcbiAgICAgICAgLy8gVmFyaWFibGUgUGlja2VyIERyb3Bkb3duIHdpdGggbmVzdGVkIHN0cnVjdHVyZVxyXG4gICAgICAgIDxzZWxlY3RcclxuICAgICAgICAgIHZhbHVlPXtjb25maWdWYWx1ZS52YXJpYWJsZV9wYXRoIHx8ICcnfVxyXG4gICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVWYXJpYWJsZVNlbGVjdChlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciByb3VuZGVkIHRleHQtc20gZm9jdXM6b3V0bGluZS1ub25lXCJcclxuICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICd2YXIoLS10aGVtZS1zdXJmYWNlLXZhcmlhbnQpJyxcclxuICAgICAgICAgICAgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0KScsXHJcbiAgICAgICAgICAgIGJvcmRlckNvbG9yOiAndmFyKC0tdGhlbWUtYm9yZGVyKScsXHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgICAgb25Gb2N1cz17KGUpID0+IGUuY3VycmVudFRhcmdldC5zdHlsZS5ib3JkZXJDb2xvciA9ICd2YXIoLS10aGVtZS1wcmltYXJ5KSd9XHJcbiAgICAgICAgICBvbkJsdXI9eyhlKSA9PiBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYm9yZGVyQ29sb3IgPSAndmFyKC0tdGhlbWUtYm9yZGVyKSd9XHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPlNlbGVjdCB2YXJpYWJsZS4uLjwvb3B0aW9uPlxyXG4gICAgICAgICAge2F2YWlsYWJsZVZhcmlhYmxlcy5tYXAoKG5vZGUpID0+IChcclxuICAgICAgICAgICAgPG9wdGdyb3VwIGtleT17bm9kZS51bmlxdWVLZXl9IGxhYmVsPXtub2RlLm5vZGVOYW1lfT5cclxuICAgICAgICAgICAgICB7bm9kZS5maWVsZHMubWFwKChmaWVsZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gU3lzdGVtIHZhcmlhYmxlcyBhcmUgZmxhdCAoanVzdCB0aGUgZmllbGQgbmFtZSlcclxuICAgICAgICAgICAgICAgIGNvbnN0IGlzU3lzdGVtVmFyID0gbm9kZS5ub2RlSWQgPT09ICdzeXN0ZW0nO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoaXNTeXN0ZW1WYXIpIHtcclxuICAgICAgICAgICAgICAgICAgLy8gU3lzdGVtIHZhcmlhYmxlczoganVzdCB1c2UgZmllbGQgbmFtZVxyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24ga2V5PXtmaWVsZC5uYW1lfSB2YWx1ZT17ZmllbGQubmFtZX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7ZmllbGQubmFtZX1cclxuICAgICAgICAgICAgICAgICAgICA8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gRm9yIG5vZGUgdmFyaWFibGVzLCBhZGQgbmVzdGVkIG9wdGlvbnNcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSBbXHJcbiAgICAgICAgICAgICAgICAgIHsgdmFsdWU6IGAke25vZGUubm9kZUlkfS4ke2ZpZWxkLm5hbWV9YCwgbGFiZWw6IGZpZWxkLm5hbWUgfSxcclxuICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIEFkZCBjb21tb24gbmVzdGVkIHBhdGhzIGZvciBzdHJ1Y3R1cmVkIGRhdGFcclxuICAgICAgICAgICAgICAgIGlmIChmaWVsZC50eXBlID09PSAndW5pdmVyc2FsJyB8fCBmaWVsZC50eXBlID09PSAnb2JqZWN0JyB8fCBmaWVsZC5uYW1lID09PSAnb3V0cHV0Jykge1xyXG4gICAgICAgICAgICAgICAgICBvcHRpb25zLnB1c2goXHJcbiAgICAgICAgICAgICAgICAgICAgeyB2YWx1ZTogYCR7bm9kZS5ub2RlSWR9LiR7ZmllbGQubmFtZX0uZGF0YWAsIGxhYmVsOiBgJHtmaWVsZC5uYW1lfS5kYXRhYCB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgdmFsdWU6IGAke25vZGUubm9kZUlkfS4ke2ZpZWxkLm5hbWV9LnJlc3VsdGAsIGxhYmVsOiBgJHtmaWVsZC5uYW1lfS5yZXN1bHRgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyB2YWx1ZTogYCR7bm9kZS5ub2RlSWR9LiR7ZmllbGQubmFtZX0udmFsdWVgLCBsYWJlbDogYCR7ZmllbGQubmFtZX0udmFsdWVgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyB2YWx1ZTogYCR7bm9kZS5ub2RlSWR9LiR7ZmllbGQubmFtZX0udGV4dGAsIGxhYmVsOiBgJHtmaWVsZC5uYW1lfS50ZXh0YCB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgdmFsdWU6IGAke25vZGUubm9kZUlkfS4ke2ZpZWxkLm5hbWV9LmNvbnRlbnRgLCBsYWJlbDogYCR7ZmllbGQubmFtZX0uY29udGVudGAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IHZhbHVlOiBgJHtub2RlLm5vZGVJZH0uJHtmaWVsZC5uYW1lfS5tZXNzYWdlYCwgbGFiZWw6IGAke2ZpZWxkLm5hbWV9Lm1lc3NhZ2VgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyB2YWx1ZTogYCR7bm9kZS5ub2RlSWR9LiR7ZmllbGQubmFtZX0uYm9keWAsIGxhYmVsOiBgJHtmaWVsZC5uYW1lfS5ib2R5YCB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgdmFsdWU6IGAke25vZGUubm9kZUlkfS4ke2ZpZWxkLm5hbWV9LnN0YXR1c2AsIGxhYmVsOiBgJHtmaWVsZC5uYW1lfS5zdGF0dXNgIH1cclxuICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMubWFwKChvcHQpID0+IChcclxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiBrZXk9e29wdC52YWx1ZX0gdmFsdWU9e29wdC52YWx1ZX0+XHJcbiAgICAgICAgICAgICAgICAgICAge29wdC5sYWJlbH1cclxuICAgICAgICAgICAgICAgICAgPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICApKTtcclxuICAgICAgICAgICAgICB9KX1cclxuICAgICAgICAgICAgPC9vcHRncm91cD5cclxuICAgICAgICAgICkpfVxyXG4gICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICApIDogd2lkZ2V0ID09PSAndGV4dGFyZWEnID8gKFxyXG4gICAgICAgIC8vIFRleHRhcmVhIGZvciBsaXRlcmFsL3RlbXBsYXRlXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiPlxyXG4gICAgICAgICAgPHRleHRhcmVhXHJcbiAgICAgICAgICAgIHJlZj17aW5wdXRSZWYgYXMgUmVhY3QuUmVmT2JqZWN0PEhUTUxUZXh0QXJlYUVsZW1lbnQ+fVxyXG4gICAgICAgICAgICB2YWx1ZT17Z2V0Q3VycmVudFZhbHVlKCl9XHJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICAgIGhhbmRsZVRleHRDaGFuZ2UoZS50YXJnZXQudmFsdWUpO1xyXG4gICAgICAgICAgICAgIHNldEN1cnNvclBvc2l0aW9uKGUudGFyZ2V0LnNlbGVjdGlvblN0YXJ0IHx8IDApO1xyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICBvbktleURvd249eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgaWYgKGUua2V5ID09PSAneycgJiYgZS5jdXJyZW50VGFyZ2V0LnZhbHVlLmVuZHNXaXRoKCd7JykpIHtcclxuICAgICAgICAgICAgICAgIHNldFNob3dBdXRvY29tcGxldGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj17XHJcbiAgICAgICAgICAgICAgY29uZmlnVmFsdWUuc291cmNlID09PSAndGVtcGxhdGUnXHJcbiAgICAgICAgICAgICAgICA/ICdUeXBlIHRleHQgYW5kIHVzZSB7e3ZhcmlhYmxlfX0gb3Ige3N5c3RlbX0gZm9yIGR5bmFtaWMgdmFsdWVzJ1xyXG4gICAgICAgICAgICAgICAgOiBwbGFjZWhvbGRlclxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0zIHB5LTIgYm9yZGVyIHJvdW5kZWQgdGV4dC1zbSByZXNpemUteSBtaW4taC1bODBweF0gZm9jdXM6b3V0bGluZS1ub25lXCJcclxuICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAndmFyKC0tdGhlbWUtc3VyZmFjZS12YXJpYW50KScsXHJcbiAgICAgICAgICAgICAgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0KScsXHJcbiAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6ICd2YXIoLS10aGVtZS1ib3JkZXIpJyxcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgb25Gb2N1cz17KGUpID0+IGUuY3VycmVudFRhcmdldC5zdHlsZS5ib3JkZXJDb2xvciA9ICd2YXIoLS10aGVtZS1wcmltYXJ5KSd9XHJcbiAgICAgICAgICAgIG9uQmx1cj17KGUpID0+IHtcclxuICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYm9yZGVyQ29sb3IgPSAndmFyKC0tdGhlbWUtYm9yZGVyKSc7XHJcbiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRTaG93QXV0b2NvbXBsZXRlKGZhbHNlKSwgMjAwKTtcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgcm93cz17NH1cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHsvKiBBdXRvY29tcGxldGUgZm9yIHRlbXBsYXRlIG1vZGUgKi99XHJcbiAgICAgICAgICB7c2hvd0F1dG9jb21wbGV0ZSAmJiBjb25maWdWYWx1ZS5zb3VyY2UgPT09ICd0ZW1wbGF0ZScgJiYgYXZhaWxhYmxlVmFyaWFibGVzLmxlbmd0aCA+IDAgJiYgKFxyXG4gICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgei0xMCBtdC0xIHctZnVsbCBib3JkZXIgcm91bmRlZCBzaGFkb3ctbGcgbWF4LWgtNDggb3ZlcmZsb3cteS1hdXRvXCJcclxuICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3ZhcigtLXRoZW1lLXN1cmZhY2UpJyxcclxuICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiAndmFyKC0tdGhlbWUtYm9yZGVyKScsXHJcbiAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIHthdmFpbGFibGVWYXJpYWJsZXNcclxuICAgICAgICAgICAgICAgIC5maWx0ZXIobm9kZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIC8vIFNob3cgc3lzdGVtIHZhcmlhYmxlcyBvbmx5IGZvciBzeXN0ZW0gYXV0b2NvbXBsZXRlLCBvdGhlcnMgZm9yIG5vZGVcclxuICAgICAgICAgICAgICAgICAgaWYgKGF1dG9jb21wbGV0ZVR5cGUgPT09ICdzeXN0ZW0nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vZGUubm9kZUlkID09PSAnc3lzdGVtJztcclxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm9kZS5ub2RlSWQgIT09ICdzeXN0ZW0nO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLm1hcCgobm9kZSkgPT4gKFxyXG4gICAgICAgICAgICAgICAgPGRpdiBrZXk9e25vZGUudW5pcXVlS2V5fT5cclxuICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMS41IHRleHQteHMgZm9udC1zZW1pYm9sZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICd2YXIoLS10aGVtZS1zdXJmYWNlLXZhcmlhbnQpJyxcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dC1zZWNvbmRhcnkpJyxcclxuICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAge25vZGUubm9kZU5hbWV9XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICB7bm9kZS5maWVsZHMubWFwKChmaWVsZCkgPT4gKFxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgIGtleT17ZmllbGQubmFtZX1cclxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZURvd249eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNTeXN0ZW1WYXIgPSBub2RlLm5vZGVJZCA9PT0gJ3N5c3RlbSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhclBhdGggPSBpc1N5c3RlbVZhciA/IGZpZWxkLm5hbWUgOiBgJHtub2RlLm5vZGVJZH0uJHtmaWVsZC5uYW1lfWA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVZhcmlhYmxlU2VsZWN0KHZhclBhdGgsIGlzU3lzdGVtVmFyKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgdGV4dC1sZWZ0IHB4LTQgcHktMS41IHRleHQtc20gaG92ZXI6Ymctb3BhY2l0eS04MCB0cmFuc2l0aW9uLWNvbG9yc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQpJyxcclxuICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gJ3ZhcigtLXRoZW1lLXN1cmZhY2UtaG92ZXIpJztcclxuICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gJ3RyYW5zcGFyZW50JztcclxuICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAge2ZpZWxkLm5hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKSA6IChcclxuICAgICAgICAvLyBUZXh0IG9yIFBhc3N3b3JkIGlucHV0IGZvciBsaXRlcmFsL3RlbXBsYXRlXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiPlxyXG4gICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgIHJlZj17aW5wdXRSZWYgYXMgUmVhY3QuUmVmT2JqZWN0PEhUTUxJbnB1dEVsZW1lbnQ+fVxyXG4gICAgICAgICAgICB0eXBlPXt3aWRnZXQgPT09ICdwYXNzd29yZCcgJiYgIXNob3dQYXNzd29yZCA/ICdwYXNzd29yZCcgOiAndGV4dCd9XHJcbiAgICAgICAgICAgIHZhbHVlPXtnZXRDdXJyZW50VmFsdWUoKX1cclxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgaGFuZGxlVGV4dENoYW5nZShlLnRhcmdldC52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgc2V0Q3Vyc29yUG9zaXRpb24oZS50YXJnZXQuc2VsZWN0aW9uU3RhcnQgfHwgMCk7XHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgIG9uS2V5RG93bj17KGUpID0+IHtcclxuICAgICAgICAgICAgICBpZiAoZS5rZXkgPT09ICd7JyAmJiBlLmN1cnJlbnRUYXJnZXQudmFsdWUuZW5kc1dpdGgoJ3snKSkge1xyXG4gICAgICAgICAgICAgICAgc2V0U2hvd0F1dG9jb21wbGV0ZSh0cnVlKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtcclxuICAgICAgICAgICAgICBjb25maWdWYWx1ZS5zb3VyY2UgPT09ICd0ZW1wbGF0ZSdcclxuICAgICAgICAgICAgICAgID8gJ1R5cGUgdGV4dCBhbmQgdXNlIHt7dmFyaWFibGV9fSBvciB7c3lzdGVtfSBmb3IgZHluYW1pYyB2YWx1ZXMnXHJcbiAgICAgICAgICAgICAgICA6IHBsYWNlaG9sZGVyXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy1mdWxsIHB4LTMgcHktMiBib3JkZXIgcm91bmRlZCB0ZXh0LXNtIGZvY3VzOm91dGxpbmUtbm9uZSAke3dpZGdldCA9PT0gJ3Bhc3N3b3JkJyA/ICdwci0xMCcgOiAnJ31gfVxyXG4gICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgIGJhY2tncm91bmQ6ICd2YXIoLS10aGVtZS1zdXJmYWNlLXZhcmlhbnQpJyxcclxuICAgICAgICAgICAgICBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQpJyxcclxuICAgICAgICAgICAgICBib3JkZXJDb2xvcjogJ3ZhcigtLXRoZW1lLWJvcmRlciknLFxyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICBvbkZvY3VzPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJvcmRlckNvbG9yID0gJ3ZhcigtLXRoZW1lLXByaW1hcnkpJ31cclxuICAgICAgICAgICAgb25CbHVyPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5ib3JkZXJDb2xvciA9ICd2YXIoLS10aGVtZS1ib3JkZXIpJztcclxuICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHNldFNob3dBdXRvY29tcGxldGUoZmFsc2UpLCAyMDApO1xyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgey8qIFBhc3N3b3JkIHZpc2liaWxpdHkgdG9nZ2xlIGJ1dHRvbiAqL31cclxuICAgICAgICAgIHt3aWRnZXQgPT09ICdwYXNzd29yZCcgJiYgKFxyXG4gICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXHJcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd1Bhc3N3b3JkKCFzaG93UGFzc3dvcmQpfVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIHJpZ2h0LTMgdG9wLTEvMiB0cmFuc2Zvcm0gLXRyYW5zbGF0ZS15LTEvMiBmb2N1czpvdXRsaW5lLW5vbmVcIlxyXG4gICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICBjb2xvcjogc2hvd1Bhc3N3b3JkID8gJ3ZhcigtLXRoZW1lLXByaW1hcnkpJyA6ICd2YXIoLS10aGVtZS10ZXh0LW11dGVkKScsXHJcbiAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcclxuICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgIHRpdGxlPXtzaG93UGFzc3dvcmQgPyAnSGlkZScgOiAnU2hvdyd9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICB7c2hvd1Bhc3N3b3JkID8gKFxyXG4gICAgICAgICAgICAgICAgLy8gRXllIHNsYXNoIChoaWRlKVxyXG4gICAgICAgICAgICAgICAgPHN2Z1xyXG4gICAgICAgICAgICAgICAgICB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcclxuICAgICAgICAgICAgICAgICAgd2lkdGg9XCIxOFwiXHJcbiAgICAgICAgICAgICAgICAgIGhlaWdodD1cIjE4XCJcclxuICAgICAgICAgICAgICAgICAgdmlld0JveD1cIjAgMCAyNCAyNFwiXHJcbiAgICAgICAgICAgICAgICAgIGZpbGw9XCJub25lXCJcclxuICAgICAgICAgICAgICAgICAgc3Ryb2tlPVwiY3VycmVudENvbG9yXCJcclxuICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9XCIyXCJcclxuICAgICAgICAgICAgICAgICAgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCJcclxuICAgICAgICAgICAgICAgICAgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiXHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMTcuOTQgMTcuOTRBMTAuMDcgMTAuMDcgMCAwIDEgMTIgMjBjLTcgMC0xMS04LTExLThhMTguNDUgMTguNDUgMCAwIDEgNS4wNi01Ljk0TTkuOSA0LjI0QTkuMTIgOS4xMiAwIDAgMSAxMiA0YzcgMCAxMSA4IDExIDhhMTguNSAxOC41IDAgMCAxLTIuMTYgMy4xOW0tNi43Mi0xLjA3YTMgMyAwIDEgMS00LjI0LTQuMjRcIiAvPlxyXG4gICAgICAgICAgICAgICAgICA8bGluZSB4MT1cIjFcIiB5MT1cIjFcIiB4Mj1cIjIzXCIgeTI9XCIyM1wiIC8+XHJcbiAgICAgICAgICAgICAgICA8L3N2Zz5cclxuICAgICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgICAgLy8gRXllIChzaG93KVxyXG4gICAgICAgICAgICAgICAgPHN2Z1xyXG4gICAgICAgICAgICAgICAgICB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcclxuICAgICAgICAgICAgICAgICAgd2lkdGg9XCIxOFwiXHJcbiAgICAgICAgICAgICAgICAgIGhlaWdodD1cIjE4XCJcclxuICAgICAgICAgICAgICAgICAgdmlld0JveD1cIjAgMCAyNCAyNFwiXHJcbiAgICAgICAgICAgICAgICAgIGZpbGw9XCJub25lXCJcclxuICAgICAgICAgICAgICAgICAgc3Ryb2tlPVwiY3VycmVudENvbG9yXCJcclxuICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9XCIyXCJcclxuICAgICAgICAgICAgICAgICAgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCJcclxuICAgICAgICAgICAgICAgICAgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiXHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMSAxMnM0LTggMTEtOCAxMSA4IDExIDgtNCA4LTExIDgtMTEtOC0xMS04elwiIC8+XHJcbiAgICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9XCIxMlwiIGN5PVwiMTJcIiByPVwiM1wiIC8+XHJcbiAgICAgICAgICAgICAgICA8L3N2Zz5cclxuICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICl9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHsvKiBBdXRvY29tcGxldGUgZm9yIHRlbXBsYXRlIG1vZGUgKi99XHJcbiAgICAgICAgICB7c2hvd0F1dG9jb21wbGV0ZSAmJiBjb25maWdWYWx1ZS5zb3VyY2UgPT09ICd0ZW1wbGF0ZScgJiYgYXZhaWxhYmxlVmFyaWFibGVzLmxlbmd0aCA+IDAgJiYgKFxyXG4gICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgei0xMCBtdC0xIHctZnVsbCBib3JkZXIgcm91bmRlZCBzaGFkb3ctbGcgbWF4LWgtNDggb3ZlcmZsb3cteS1hdXRvXCJcclxuICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3ZhcigtLXRoZW1lLXN1cmZhY2UpJyxcclxuICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiAndmFyKC0tdGhlbWUtYm9yZGVyKScsXHJcbiAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIHthdmFpbGFibGVWYXJpYWJsZXNcclxuICAgICAgICAgICAgICAgIC5maWx0ZXIobm9kZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIC8vIFNob3cgc3lzdGVtIHZhcmlhYmxlcyBvbmx5IGZvciBzeXN0ZW0gYXV0b2NvbXBsZXRlLCBvdGhlcnMgZm9yIG5vZGVcclxuICAgICAgICAgICAgICAgICAgaWYgKGF1dG9jb21wbGV0ZVR5cGUgPT09ICdzeXN0ZW0nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vZGUubm9kZUlkID09PSAnc3lzdGVtJztcclxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm9kZS5ub2RlSWQgIT09ICdzeXN0ZW0nO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLm1hcCgobm9kZSkgPT4gKFxyXG4gICAgICAgICAgICAgICAgPGRpdiBrZXk9e25vZGUudW5pcXVlS2V5fT5cclxuICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMS41IHRleHQteHMgZm9udC1zZW1pYm9sZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICd2YXIoLS10aGVtZS1zdXJmYWNlLXZhcmlhbnQpJyxcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dC1zZWNvbmRhcnkpJyxcclxuICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAge25vZGUubm9kZU5hbWV9XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICB7bm9kZS5maWVsZHMubWFwKChmaWVsZCkgPT4gKFxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgIGtleT17ZmllbGQubmFtZX1cclxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZURvd249eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNTeXN0ZW1WYXIgPSBub2RlLm5vZGVJZCA9PT0gJ3N5c3RlbSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhclBhdGggPSBpc1N5c3RlbVZhciA/IGZpZWxkLm5hbWUgOiBgJHtub2RlLm5vZGVJZH0uJHtmaWVsZC5uYW1lfWA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVZhcmlhYmxlU2VsZWN0KHZhclBhdGgsIGlzU3lzdGVtVmFyKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgdGV4dC1sZWZ0IHB4LTQgcHktMS41IHRleHQtc20gaG92ZXI6Ymctb3BhY2l0eS04MCB0cmFuc2l0aW9uLWNvbG9yc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQpJyxcclxuICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gJ3ZhcigtLXRoZW1lLXN1cmZhY2UtaG92ZXIpJztcclxuICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gJ3RyYW5zcGFyZW50JztcclxuICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAge2ZpZWxkLm5hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKX1cclxuXHJcbiAgICAgIHsvKiBIZWxwIFRleHQgKi99XHJcbiAgICAgIHtjb25maWdWYWx1ZS5zb3VyY2UgPT09ICd0ZW1wbGF0ZScgJiYgKFxyXG4gICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIiBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQtbXV0ZWQpJyB9fT5cclxuICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1pbmZvLWNpcmNsZVwiPjwvaT5cclxuICAgICAgICAgIFR5cGUgPGNvZGUgY2xhc3NOYW1lPVwicHgtMSBweS0wLjUgcm91bmRlZFwiIHN0eWxlPXt7IGJhY2tncm91bmQ6ICd2YXIoLS10aGVtZS1zdXJmYWNlLXZhcmlhbnQpJyB9fT5cclxuICAgICAgICAgICAgeyd7eyd9XHJcbiAgICAgICAgICA8L2NvZGU+IGZvciBub2RlIHZhcmlhYmxlcyBvciA8Y29kZSBjbGFzc05hbWU9XCJweC0xIHB5LTAuNSByb3VuZGVkXCIgc3R5bGU9e3sgYmFja2dyb3VuZDogJ3ZhcigtLXRoZW1lLXN1cmZhY2UtdmFyaWFudCknIH19PlxyXG4gICAgICAgICAgICB7J3snfVxyXG4gICAgICAgICAgPC9jb2RlPiBmb3Igc3lzdGVtIHZhcmlhYmxlc1xyXG4gICAgICAgIDwvcD5cclxuICAgICAgKX1cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn1cclxuXHJcbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlUmVmIiwidXNlRWZmZWN0IiwiVmFyaWFibGVPclRleHRJbnB1dCIsImxhYmVsIiwidmFsdWUiLCJvbkNoYW5nZSIsImF2YWlsYWJsZVZhcmlhYmxlcyIsIndpZGdldCIsInBsYWNlaG9sZGVyIiwicmVxdWlyZWQiLCJkZXNjcmlwdGlvbiIsInBhcnNlVmFsdWUiLCJ2YWwiLCJzb3VyY2UiLCJpbmNsdWRlcyIsInRlbXBsYXRlIiwiU3RyaW5nIiwiY29uZmlnVmFsdWUiLCJzZXRDb25maWdWYWx1ZSIsInNob3dBdXRvY29tcGxldGUiLCJzZXRTaG93QXV0b2NvbXBsZXRlIiwiYXV0b2NvbXBsZXRlVHlwZSIsInNldEF1dG9jb21wbGV0ZVR5cGUiLCJjdXJzb3JQb3NpdGlvbiIsInNldEN1cnNvclBvc2l0aW9uIiwic2hvd1Bhc3N3b3JkIiwic2V0U2hvd1Bhc3N3b3JkIiwiaW5wdXRSZWYiLCJoYW5kbGVTb3VyY2VDaGFuZ2UiLCJuZXdTb3VyY2UiLCJuZXdWYWx1ZSIsInZhcmlhYmxlX3BhdGgiLCJoYW5kbGVUZXh0Q2hhbmdlIiwidGV4dCIsInNob3VsZENoZWNrQXV0b2NvbXBsZXRlIiwiY29uc29sZSIsImxvZyIsInNob3dEcm9wZG93biIsImRyb3Bkb3duVHlwZSIsImxhc3REb3VibGVPcGVuIiwibGFzdEluZGV4T2YiLCJsYXN0U2luZ2xlT3BlbiIsImxhc3REb3VibGVDbG9zZSIsImxhc3RTaW5nbGVDbG9zZSIsImlzUGFydE9mRG91YmxlIiwiaGFuZGxlVmFyaWFibGVTZWxlY3QiLCJ2YXJQYXRoIiwiaXNTeXN0ZW1WYXIiLCJjdXJyZW50IiwiYmVmb3JlQ3Vyc29yIiwic3Vic3RyaW5nIiwiYWZ0ZXJDdXJzb3IiLCJuZXdUZXh0IiwibGFzdEJyYWNlSW5kZXgiLCJnZXRDdXJyZW50VmFsdWUiLCJkaXYiLCJjbGFzc05hbWUiLCJpbnB1dCIsInR5cGUiLCJuYW1lIiwiY2hlY2tlZCIsInN0eWxlIiwiYWNjZW50Q29sb3IiLCJzcGFuIiwiY29sb3IiLCJsZW5ndGgiLCJzZWxlY3QiLCJlIiwidGFyZ2V0IiwiYmFja2dyb3VuZCIsImJvcmRlckNvbG9yIiwib25Gb2N1cyIsImN1cnJlbnRUYXJnZXQiLCJvbkJsdXIiLCJvcHRpb24iLCJtYXAiLCJub2RlIiwib3B0Z3JvdXAiLCJub2RlTmFtZSIsImZpZWxkcyIsImZpZWxkIiwibm9kZUlkIiwib3B0aW9ucyIsInB1c2giLCJvcHQiLCJ1bmlxdWVLZXkiLCJ0ZXh0YXJlYSIsInJlZiIsInNlbGVjdGlvblN0YXJ0Iiwib25LZXlEb3duIiwia2V5IiwiZW5kc1dpdGgiLCJzZXRUaW1lb3V0Iiwicm93cyIsImZpbHRlciIsImJ1dHRvbiIsIm9uTW91c2VEb3duIiwicHJldmVudERlZmF1bHQiLCJvbk1vdXNlRW50ZXIiLCJvbk1vdXNlTGVhdmUiLCJvbkNsaWNrIiwiY3Vyc29yIiwidGl0bGUiLCJzdmciLCJ4bWxucyIsIndpZHRoIiwiaGVpZ2h0Iiwidmlld0JveCIsImZpbGwiLCJzdHJva2UiLCJzdHJva2VXaWR0aCIsInN0cm9rZUxpbmVjYXAiLCJzdHJva2VMaW5lam9pbiIsInBhdGgiLCJkIiwibGluZSIsIngxIiwieTEiLCJ4MiIsInkyIiwiY2lyY2xlIiwiY3giLCJjeSIsInIiLCJwIiwiaSIsImNvZGUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/editor-page/VariableOrTextInput.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/app/editor-page/hooks/useCanvasPanZoom.ts":
/*!*******************************************************!*\
  !*** ./src/app/editor-page/hooks/useCanvasPanZoom.ts ***!
  \*******************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useCanvasPanZoom: () => (/* binding */ useCanvasPanZoom)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/**\r\n * Custom hook for managing canvas pan and zoom functionality\r\n */ \nfunction useCanvasPanZoom(viewportRef, gridSettings, onScaleChange) {\n    const editorRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({\n        baseCanvasSize: 5000,\n        canvas: null,\n        viewport: null,\n        connectionLayer: null,\n        _viewportResizeObserver: null,\n        miniMapCanvas: null,\n        isPanning: false,\n        panStart: {\n            x: 0,\n            y: 0\n        },\n        scrollStart: {\n            left: 0,\n            top: 0\n        },\n        scale: 1,\n        onScaleChange\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useCanvasPanZoom.useEffect\": ()=>{\n            if (!viewportRef.current) return;\n            const editor = editorRef.current;\n            // Clean up any existing canvas first (important for navigation)\n            const existingCanvas = viewportRef.current.querySelector('.node-canvas');\n            if (existingCanvas) {\n                existingCanvas.remove();\n            }\n            createCanvasWithGrid(editor, viewportRef.current, gridSettings);\n            initializeCanvasEventListeners(editor);\n            const handleMouseMove = {\n                \"useCanvasPanZoom.useEffect.handleMouseMove\": (e)=>handleDocumentMouseMove(editor, e)\n            }[\"useCanvasPanZoom.useEffect.handleMouseMove\"];\n            const handleMouseUp = {\n                \"useCanvasPanZoom.useEffect.handleMouseUp\": (e)=>handleDocumentMouseUp(editor, e)\n            }[\"useCanvasPanZoom.useEffect.handleMouseUp\"];\n            const handleResize = {\n                \"useCanvasPanZoom.useEffect.handleResize\": ()=>ensureCanvasCoverage(editor)\n            }[\"useCanvasPanZoom.useEffect.handleResize\"];\n            document.addEventListener(\"mousemove\", handleMouseMove);\n            document.addEventListener(\"mouseup\", handleMouseUp);\n            window.addEventListener(\"resize\", handleResize);\n            return ({\n                \"useCanvasPanZoom.useEffect\": ()=>{\n                    // Clean up canvas element\n                    if (editor.canvas && editor.canvas.parentElement) {\n                        editor.canvas.remove();\n                    }\n                    if (editor._viewportResizeObserver) {\n                        editor._viewportResizeObserver.disconnect();\n                    }\n                    document.removeEventListener(\"mousemove\", handleMouseMove);\n                    document.removeEventListener(\"mouseup\", handleMouseUp);\n                    window.removeEventListener(\"resize\", handleResize);\n                }\n            })[\"useCanvasPanZoom.useEffect\"];\n        }\n    }[\"useCanvasPanZoom.useEffect\"], [\n        viewportRef\n    ]); // Only create canvas once!\n    // Separate effect to update grid styling without recreating canvas\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useCanvasPanZoom.useEffect\": ()=>{\n            const editor = editorRef.current;\n            if (!editor.canvas || !gridSettings) return;\n            updateGridStyles(editor.canvas, gridSettings);\n        }\n    }[\"useCanvasPanZoom.useEffect\"], [\n        gridSettings\n    ]); // Update styles when settings change\n    // Update onScaleChange callback when it changes\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useCanvasPanZoom.useEffect\": ()=>{\n            editorRef.current.onScaleChange = onScaleChange;\n        }\n    }[\"useCanvasPanZoom.useEffect\"], [\n        onScaleChange\n    ]);\n    // Zoom control methods\n    const zoomIn = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useCanvasPanZoom.useCallback[zoomIn]\": ()=>{\n            const editor = editorRef.current;\n            const newScale = Math.min(2, editor.scale * 1.1);\n            if (newScale !== editor.scale) {\n                editor.scale = newScale;\n                updateCanvasTransform(editor);\n                if (editor.onScaleChange) {\n                    editor.onScaleChange(newScale);\n                }\n            }\n        }\n    }[\"useCanvasPanZoom.useCallback[zoomIn]\"], []);\n    const zoomOut = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useCanvasPanZoom.useCallback[zoomOut]\": ()=>{\n            const editor = editorRef.current;\n            const newScale = Math.max(0.1, editor.scale * 0.9);\n            if (newScale !== editor.scale) {\n                editor.scale = newScale;\n                updateCanvasTransform(editor);\n                if (editor.onScaleChange) {\n                    editor.onScaleChange(newScale);\n                }\n            }\n        }\n    }[\"useCanvasPanZoom.useCallback[zoomOut]\"], []);\n    const zoomReset = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useCanvasPanZoom.useCallback[zoomReset]\": ()=>{\n            const editor = editorRef.current;\n            if (editor.scale !== 1) {\n                editor.scale = 1;\n                updateCanvasTransform(editor);\n                if (editor.onScaleChange) {\n                    editor.onScaleChange(1);\n                }\n            }\n        }\n    }[\"useCanvasPanZoom.useCallback[zoomReset]\"], []);\n    const setZoom = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useCanvasPanZoom.useCallback[setZoom]\": (scale)=>{\n            const editor = editorRef.current;\n            const newScale = Math.max(0.1, Math.min(2, scale));\n            if (newScale !== editor.scale) {\n                editor.scale = newScale;\n                updateCanvasTransform(editor);\n                if (editor.onScaleChange) {\n                    editor.onScaleChange(newScale);\n                }\n            }\n        }\n    }[\"useCanvasPanZoom.useCallback[setZoom]\"], []);\n    return {\n        canvasRef: editorRef.current.canvas,\n        scale: editorRef.current.scale,\n        zoomIn,\n        zoomOut,\n        zoomReset,\n        setZoom\n    };\n}\nfunction updateGridStyles(canvas, gridSettings) {\n    // Get grid color from CSS variable\n    let gridColor = window.getComputedStyle(document.documentElement).getPropertyValue(\"--canvas-grid-color\").trim() || \"#6c757d\";\n    // Calculate final opacity (0 if disabled)\n    const finalOpacity = gridSettings.enableGrid ? gridSettings.gridOpacity : 0;\n    // Convert color to rgba with opacity\n    if (gridColor.startsWith(\"#\")) {\n        const r = parseInt(gridColor.slice(1, 3), 16);\n        const g = parseInt(gridColor.slice(3, 5), 16);\n        const b = parseInt(gridColor.slice(5, 7), 16);\n        gridColor = `rgba(${r}, ${g}, ${b}, ${finalOpacity})`;\n    } else if (!gridColor.startsWith(\"rgba\")) {\n        gridColor = gridColor.replace(\"rgb(\", \"rgba(\").replace(\")\", `, ${finalOpacity})`);\n    }\n    // Apply new grid pattern\n    const dotSize = 2;\n    const gridPattern = `radial-gradient(circle at ${dotSize}px ${dotSize}px, ${gridColor} ${dotSize}px, transparent 0)`;\n    canvas.style.backgroundImage = gridPattern;\n    canvas.style.backgroundSize = `${gridSettings.gridSize}px ${gridSettings.gridSize}px`;\n}\nfunction createCanvasWithGrid(editor, viewport, gridSettings) {\n    const canvas = document.createElement(\"div\");\n    canvas.className = \"node-canvas\";\n    canvas.id = \"nodeCanvas\";\n    canvas.style.minHeight = editor.baseCanvasSize + \"px\";\n    canvas.style.minWidth = editor.baseCanvasSize + \"px\";\n    canvas.style.position = \"absolute\";\n    canvas.style.top = \"0\";\n    canvas.style.left = \"0\";\n    viewport.appendChild(canvas);\n    editor.canvas = canvas;\n    editor.viewport = viewport;\n    editor.connectionLayer = null;\n    editor.viewport.style.position = \"relative\";\n    editor.viewport.style.overflow = \"auto\";\n    // Use passed-in settings or fall back to CSS variables\n    const gridSize = gridSettings?.gridSize ? `${gridSettings.gridSize}px` : window.getComputedStyle(document.documentElement).getPropertyValue(\"--canvas-grid-size\").trim() || \"20px\";\n    const gridOpacity = gridSettings?.gridOpacity ?? (parseFloat(window.getComputedStyle(document.documentElement).getPropertyValue(\"--canvas-grid-opacity\").trim()) || 0.3);\n    const enableGrid = gridSettings?.enableGrid ?? true;\n    // If grid is disabled, set opacity to 0\n    const finalOpacity = enableGrid ? gridOpacity : 0;\n    let gridColor = window.getComputedStyle(document.documentElement).getPropertyValue(\"--canvas-grid-color\").trim() || \"#6c757d\";\n    if (gridColor.startsWith(\"#\")) {\n        const r = parseInt(gridColor.slice(1, 3), 16);\n        const g = parseInt(gridColor.slice(3, 5), 16);\n        const b = parseInt(gridColor.slice(5, 7), 16);\n        gridColor = `rgba(${r}, ${g}, ${b}, ${finalOpacity})`;\n    } else if (!gridColor.startsWith(\"rgba\")) {\n        gridColor = gridColor.replace(\"rgb(\", \"rgba(\").replace(\")\", `, ${finalOpacity})`);\n    }\n    const dotSize = 2;\n    const gridPattern = `radial-gradient(circle at ${dotSize}px ${dotSize}px, ${gridColor} ${dotSize}px, transparent 0)`;\n    canvas.style.backgroundImage = gridPattern;\n    canvas.style.backgroundSize = `${gridSize} ${gridSize}`;\n    canvas.style.transformOrigin = \"0 0\";\n    canvas.style.transform = `scale(${editor.scale})`;\n    ensureCanvasCoverage(editor);\n    const onResize = ()=>ensureCanvasCoverage(editor);\n    window.addEventListener(\"resize\", onResize);\n    if (window.ResizeObserver) {\n        const ro = new ResizeObserver(onResize);\n        ro.observe(editor.viewport);\n        editor._viewportResizeObserver = ro;\n    }\n}\nfunction initializeCanvasEventListeners(editor) {\n    if (!editor.canvas) return;\n    editor.canvas.addEventListener(\"mousedown\", (e)=>handleCanvasMouseDown(editor, e));\n    if (editor.viewport) {\n        editor.viewport.addEventListener(\"mousedown\", (e)=>handleCanvasMouseDown(editor, e));\n        // Only attach wheel listener to viewport (not canvas) to allow natural scrolling\n        // Use passive: false to allow preventDefault for Ctrl+scroll zoom\n        editor.viewport.addEventListener(\"wheel\", (e)=>handleCanvasWheel(editor, e), {\n            passive: false\n        });\n    }\n}\nfunction ensureCanvasCoverage(editor) {\n    if (!editor.canvas || !editor.viewport) return;\n    const viewportRect = editor.viewport.getBoundingClientRect();\n    const requiredMinWidth = Math.max(editor.baseCanvasSize, Math.ceil(viewportRect.width / Math.max(editor.scale || 1, 0.001)));\n    const requiredMinHeight = Math.max(editor.baseCanvasSize, Math.ceil(viewportRect.height / Math.max(editor.scale || 1, 0.001)));\n    const currentMinWidth = parseInt(editor.canvas.style.minWidth || \"0\", 10) || 0;\n    const currentMinHeight = parseInt(editor.canvas.style.minHeight || \"0\", 10) || 0;\n    if (requiredMinWidth > currentMinWidth) {\n        editor.canvas.style.minWidth = requiredMinWidth + \"px\";\n    }\n    if (requiredMinHeight > currentMinHeight) {\n        editor.canvas.style.minHeight = requiredMinHeight + \"px\";\n    }\n}\nfunction handleCanvasMouseDown(editor, e) {\n    if (e.button !== 0) return;\n    // Only start panning if clicking directly on the canvas, not on nodes\n    const target = e.target;\n    if (target.closest('.workflow-node')) return;\n    // Only pan if Ctrl/Cmd is held down\n    if (!e.ctrlKey && !e.metaKey) return;\n    editor.isPanning = true;\n    editor.panStart = {\n        x: e.clientX,\n        y: e.clientY\n    };\n    editor.scrollStart = {\n        left: editor.viewport.scrollLeft,\n        top: editor.viewport.scrollTop\n    };\n    e.preventDefault();\n    document.body.style.userSelect = \"none\";\n    editor.viewport.style.cursor = \"grabbing\";\n}\nfunction handleCanvasWheel(editor, e) {\n    // Only intercept wheel events when Ctrl/Cmd is pressed for zooming\n    // Otherwise, let the browser handle natural scrolling\n    if (e.ctrlKey || e.metaKey) {\n        // Prevent default zoom behavior and implement custom zoom\n        e.preventDefault();\n        e.stopPropagation();\n        const zoomFactor = e.deltaY > 0 ? 0.9 : 1.1;\n        const newScale = Math.max(0.1, Math.min(2, editor.scale * zoomFactor));\n        if (newScale !== editor.scale) {\n            editor.scale = newScale;\n            updateCanvasTransform(editor);\n            if (editor.onScaleChange) {\n                editor.onScaleChange(newScale);\n            }\n        }\n    }\n// If Ctrl/Cmd is NOT pressed, we don't do anything and let browser handle scroll\n}\nfunction handleDocumentMouseMove(editor, e) {\n    if (!editor.isPanning) return;\n    e.preventDefault();\n    const dx = e.clientX - editor.panStart.x;\n    const dy = e.clientY - editor.panStart.y;\n    editor.viewport.scrollLeft = editor.scrollStart.left - dx;\n    editor.viewport.scrollTop = editor.scrollStart.top - dy;\n}\nfunction handleDocumentMouseUp(editor, e) {\n    if (e.button !== 0) return;\n    editor.isPanning = false;\n    document.body.style.userSelect = \"\";\n    editor.viewport.style.cursor = \"\";\n}\nfunction updateCanvasTransform(editor) {\n    if (!editor.canvas) return;\n    editor.canvas.style.transform = `scale(${editor.scale})`;\n    editor.canvas.style.transformOrigin = \"0 0\";\n    ensureCanvasCoverage(editor);\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvZWRpdG9yLXBhZ2UvaG9va3MvdXNlQ2FudmFzUGFuWm9vbS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7Q0FFQyxHQUVzRDtBQXNCaEQsU0FBU0csaUJBQ2RDLFdBQW1ELEVBQ25EQyxZQUEyQixFQUMzQkMsYUFBdUM7SUFFdkMsTUFBTUMsWUFBWU4sNkNBQU1BLENBQWU7UUFDckNPLGdCQUFnQjtRQUNoQkMsUUFBUTtRQUNSQyxVQUFVO1FBQ1ZDLGlCQUFpQjtRQUNqQkMseUJBQXlCO1FBQ3pCQyxlQUFlO1FBQ2ZDLFdBQVc7UUFDWEMsVUFBVTtZQUFFQyxHQUFHO1lBQUdDLEdBQUc7UUFBRTtRQUN2QkMsYUFBYTtZQUFFQyxNQUFNO1lBQUdDLEtBQUs7UUFBRTtRQUMvQkMsT0FBTztRQUNQZjtJQUNGO0lBRUFOLGdEQUFTQTtzQ0FBQztZQUNSLElBQUksQ0FBQ0ksWUFBWWtCLE9BQU8sRUFBRTtZQUUxQixNQUFNQyxTQUFTaEIsVUFBVWUsT0FBTztZQUVoQyxnRUFBZ0U7WUFDaEUsTUFBTUUsaUJBQWlCcEIsWUFBWWtCLE9BQU8sQ0FBQ0csYUFBYSxDQUFDO1lBQ3pELElBQUlELGdCQUFnQjtnQkFDbEJBLGVBQWVFLE1BQU07WUFDdkI7WUFFQUMscUJBQXFCSixRQUFRbkIsWUFBWWtCLE9BQU8sRUFBRWpCO1lBQ2xEdUIsK0JBQStCTDtZQUUvQixNQUFNTTs4REFBa0IsQ0FBQ0MsSUFBa0JDLHdCQUF3QlIsUUFBUU87O1lBQzNFLE1BQU1FOzREQUFnQixDQUFDRixJQUFrQkcsc0JBQXNCVixRQUFRTzs7WUFDdkUsTUFBTUk7MkRBQWUsSUFBTUMscUJBQXFCWjs7WUFFaERhLFNBQVNDLGdCQUFnQixDQUFDLGFBQWFSO1lBQ3ZDTyxTQUFTQyxnQkFBZ0IsQ0FBQyxXQUFXTDtZQUNyQ00sT0FBT0QsZ0JBQWdCLENBQUMsVUFBVUg7WUFFbEM7OENBQU87b0JBQ0wsMEJBQTBCO29CQUMxQixJQUFJWCxPQUFP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akN6RixPQUFPYixRQUFRLENBQUU0RCxLQUFLLENBQUMyQyxNQUFNLEdBQUc7QUFDbEM7QUFFQSxTQUFTbEUsc0JBQXNCeEIsTUFBb0I7SUFDakQsSUFBSSxDQUFDQSxPQUFPZCxNQUFNLEVBQUU7SUFFcEJjLE9BQU9kLE1BQU0sQ0FBQzZELEtBQUssQ0FBQ2MsU0FBUyxHQUFHLENBQUMsTUFBTSxFQUFFN0QsT0FBT0YsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUN4REUsT0FBT2QsTUFBTSxDQUFDNkQsS0FBSyxDQUFDYSxlQUFlLEdBQUc7SUFDdENoRCxxQkFBcUJaO0FBQ3ZCIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXG5pY2hvbGFzLmxlZVxcRG9jdW1lbnRzXFx6XFxUaWNrZXRpbmdfTmlja1xcVGlja2V0aW5nXFx0YXZfb3BlbnNvdXJjZVxcdWlcXHNyY1xcYXBwXFxlZGl0b3ItcGFnZVxcaG9va3NcXHVzZUNhbnZhc1Bhblpvb20udHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEN1c3RvbSBob29rIGZvciBtYW5hZ2luZyBjYW52YXMgcGFuIGFuZCB6b29tIGZ1bmN0aW9uYWxpdHlcclxuICovXHJcblxyXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XHJcblxyXG5pbnRlcmZhY2UgQ2FudmFzRWRpdG9yIHtcclxuICBiYXNlQ2FudmFzU2l6ZTogbnVtYmVyO1xyXG4gIGNhbnZhczogSFRNTERpdkVsZW1lbnQgfCBudWxsO1xyXG4gIHZpZXdwb3J0OiBIVE1MRGl2RWxlbWVudCB8IG51bGw7XHJcbiAgY29ubmVjdGlvbkxheWVyOiBudWxsO1xyXG4gIF92aWV3cG9ydFJlc2l6ZU9ic2VydmVyOiBSZXNpemVPYnNlcnZlciB8IG51bGw7XHJcbiAgbWluaU1hcENhbnZhczogbnVsbDtcclxuICBpc1Bhbm5pbmc6IGJvb2xlYW47XHJcbiAgcGFuU3RhcnQ6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfTtcclxuICBzY3JvbGxTdGFydDogeyBsZWZ0OiBudW1iZXI7IHRvcDogbnVtYmVyIH07XHJcbiAgc2NhbGU6IG51bWJlcjtcclxuICBvblNjYWxlQ2hhbmdlPzogKHNjYWxlOiBudW1iZXIpID0+IHZvaWQ7XHJcbn1cclxuXHJcbmludGVyZmFjZSBHcmlkU2V0dGluZ3Mge1xyXG4gIGdyaWRTaXplOiBudW1iZXI7XHJcbiAgZ3JpZE9wYWNpdHk6IG51bWJlcjtcclxuICBlbmFibGVHcmlkOiBib29sZWFuO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdXNlQ2FudmFzUGFuWm9vbShcclxuICB2aWV3cG9ydFJlZjogUmVhY3QuUmVmT2JqZWN0PEhUTUxEaXZFbGVtZW50IHwgbnVsbD4sXHJcbiAgZ3JpZFNldHRpbmdzPzogR3JpZFNldHRpbmdzLFxyXG4gIG9uU2NhbGVDaGFuZ2U/OiAoc2NhbGU6IG51bWJlcikgPT4gdm9pZFxyXG4pIHtcclxuICBjb25zdCBlZGl0b3JSZWYgPSB1c2VSZWY8Q2FudmFzRWRpdG9yPih7XHJcbiAgICBiYXNlQ2FudmFzU2l6ZTogNTAwMCxcclxuICAgIGNhbnZhczogbnVsbCxcclxuICAgIHZpZXdwb3J0OiBudWxsLFxyXG4gICAgY29ubmVjdGlvbkxheWVyOiBudWxsLFxyXG4gICAgX3ZpZXdwb3J0UmVzaXplT2JzZXJ2ZXI6IG51bGwsXHJcbiAgICBtaW5pTWFwQ2FudmFzOiBudWxsLFxyXG4gICAgaXNQYW5uaW5nOiBmYWxzZSxcclxuICAgIHBhblN0YXJ0OiB7IHg6IDAsIHk6IDAgfSxcclxuICAgIHNjcm9sbFN0YXJ0OiB7IGxlZnQ6IDAsIHRvcDogMCB9LFxyXG4gICAgc2NhbGU6IDEsXHJcbiAgICBvblNjYWxlQ2hhbmdlLFxyXG4gIH0pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKCF2aWV3cG9ydFJlZi5jdXJyZW50KSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgZWRpdG9yID0gZWRpdG9yUmVmLmN1cnJlbnQ7XHJcbiAgICBcclxuICAgIC8vIENsZWFuIHVwIGFueSBleGlzdGluZyBjYW52YXMgZmlyc3QgKGltcG9ydGFudCBmb3IgbmF2aWdhdGlvbilcclxuICAgIGNvbnN0IGV4aXN0aW5nQ2FudmFzID0gdmlld3BvcnRSZWYuY3VycmVudC5xdWVyeVNlbGVjdG9yKCcubm9kZS1jYW52YXMnKTtcclxuICAgIGlmIChleGlzdGluZ0NhbnZhcykge1xyXG4gICAgICBleGlzdGluZ0NhbnZhcy5yZW1vdmUoKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY3JlYXRlQ2FudmFzV2l0aEdyaWQoZWRpdG9yLCB2aWV3cG9ydFJlZi5jdXJyZW50LCBncmlkU2V0dGluZ3MpO1xyXG4gICAgaW5pdGlhbGl6ZUNhbnZhc0V2ZW50TGlzdGVuZXJzKGVkaXRvcik7XHJcblxyXG4gICAgY29uc3QgaGFuZGxlTW91c2VNb3ZlID0gKGU6IE1vdXNlRXZlbnQpID0+IGhhbmRsZURvY3VtZW50TW91c2VNb3ZlKGVkaXRvciwgZSk7XHJcbiAgICBjb25zdCBoYW5kbGVNb3VzZVVwID0gKGU6IE1vdXNlRXZlbnQpID0+IGhhbmRsZURvY3VtZW50TW91c2VVcChlZGl0b3IsIGUpO1xyXG4gICAgY29uc3QgaGFuZGxlUmVzaXplID0gKCkgPT4gZW5zdXJlQ2FudmFzQ292ZXJhZ2UoZWRpdG9yKTtcclxuXHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIGhhbmRsZU1vdXNlTW92ZSk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBoYW5kbGVNb3VzZVVwKTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGhhbmRsZVJlc2l6ZSk7XHJcblxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgLy8gQ2xlYW4gdXAgY2FudmFzIGVsZW1lbnRcclxuICAgICAgaWYgKGVkaXRvci5jYW52YXMgJiYgZWRpdG9yLmNhbnZhcy5wYXJlbnRFbGVtZW50KSB7XHJcbiAgICAgICAgZWRpdG9yLmNhbnZhcy5yZW1vdmUoKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaWYgKGVkaXRvci5fdmlld3BvcnRSZXNpemVPYnNlcnZlcikge1xyXG4gICAgICAgIGVkaXRvci5fdmlld3BvcnRSZXNpemVPYnNlcnZlci5kaXNjb25uZWN0KCk7XHJcbiAgICAgIH1cclxuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBoYW5kbGVNb3VzZU1vdmUpO1xyXG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBoYW5kbGVNb3VzZVVwKTtcclxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgaGFuZGxlUmVzaXplKTtcclxuICAgIH07XHJcbiAgfSwgW3ZpZXdwb3J0UmVmXSk7IC8vIE9ubHkgY3JlYXRlIGNhbnZhcyBvbmNlIVxyXG5cclxuICAvLyBTZXBhcmF0ZSBlZmZlY3QgdG8gdXBkYXRlIGdyaWQgc3R5bGluZyB3aXRob3V0IHJlY3JlYXRpbmcgY2FudmFzXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGVkaXRvciA9IGVkaXRvclJlZi5jdXJyZW50O1xyXG4gICAgaWYgKCFlZGl0b3IuY2FudmFzIHx8ICFncmlkU2V0dGluZ3MpIHJldHVybjtcclxuXHJcbiAgICB1cGRhdGVHcmlkU3R5bGVzKGVkaXRvci5jYW52YXMsIGdyaWRTZXR0aW5ncyk7XHJcbiAgfSwgW2dyaWRTZXR0aW5nc10pOyAvLyBVcGRhdGUgc3R5bGVzIHdoZW4gc2V0dGluZ3MgY2hhbmdlXHJcblxyXG4gIC8vIFVwZGF0ZSBvblNjYWxlQ2hhbmdlIGNhbGxiYWNrIHdoZW4gaXQgY2hhbmdlc1xyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBlZGl0b3JSZWYuY3VycmVudC5vblNjYWxlQ2hhbmdlID0gb25TY2FsZUNoYW5nZTtcclxuICB9LCBbb25TY2FsZUNoYW5nZV0pO1xyXG5cclxuICAvLyBab29tIGNvbnRyb2wgbWV0aG9kc1xyXG4gIGNvbnN0IHpvb21JbiA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIGNvbnN0IGVkaXRvciA9IGVkaXRvclJlZi5jdXJyZW50O1xyXG4gICAgY29uc3QgbmV3U2NhbGUgPSBNYXRoLm1pbigyLCBlZGl0b3Iuc2NhbGUgKiAxLjEpO1xyXG4gICAgaWYgKG5ld1NjYWxlICE9PSBlZGl0b3Iuc2NhbGUpIHtcclxuICAgICAgZWRpdG9yLnNjYWxlID0gbmV3U2NhbGU7XHJcbiAgICAgIHVwZGF0ZUNhbnZhc1RyYW5zZm9ybShlZGl0b3IpO1xyXG4gICAgICBpZiAoZWRpdG9yLm9uU2NhbGVDaGFuZ2UpIHtcclxuICAgICAgICBlZGl0b3Iub25TY2FsZUNoYW5nZShuZXdTY2FsZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LCBbXSk7XHJcblxyXG4gIGNvbnN0IHpvb21PdXQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBjb25zdCBlZGl0b3IgPSBlZGl0b3JSZWYuY3VycmVudDtcclxuICAgIGNvbnN0IG5ld1NjYWxlID0gTWF0aC5tYXgoMC4xLCBlZGl0b3Iuc2NhbGUgKiAwLjkpO1xyXG4gICAgaWYgKG5ld1NjYWxlICE9PSBlZGl0b3Iuc2NhbGUpIHtcclxuICAgICAgZWRpdG9yLnNjYWxlID0gbmV3U2NhbGU7XHJcbiAgICAgIHVwZGF0ZUNhbnZhc1RyYW5zZm9ybShlZGl0b3IpO1xyXG4gICAgICBpZiAoZWRpdG9yLm9uU2NhbGVDaGFuZ2UpIHtcclxuICAgICAgICBlZGl0b3Iub25TY2FsZUNoYW5nZShuZXdTY2FsZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LCBbXSk7XHJcblxyXG4gIGNvbnN0IHpvb21SZXNldCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIGNvbnN0IGVkaXRvciA9IGVkaXRvclJlZi5jdXJyZW50O1xyXG4gICAgaWYgKGVkaXRvci5zY2FsZSAhPT0gMSkge1xyXG4gICAgICBlZGl0b3Iuc2NhbGUgPSAxO1xyXG4gICAgICB1cGRhdGVDYW52YXNUcmFuc2Zvcm0oZWRpdG9yKTtcclxuICAgICAgaWYgKGVkaXRvci5vblNjYWxlQ2hhbmdlKSB7XHJcbiAgICAgICAgZWRpdG9yLm9uU2NhbGVDaGFuZ2UoMSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LCBbXSk7XHJcblxyXG4gIGNvbnN0IHNldFpvb20gPSB1c2VDYWxsYmFjaygoc2NhbGU6IG51bWJlcikgPT4ge1xyXG4gICAgY29uc3QgZWRpdG9yID0gZWRpdG9yUmVmLmN1cnJlbnQ7XHJcbiAgICBjb25zdCBuZXdTY2FsZSA9IE1hdGgubWF4KDAuMSwgTWF0aC5taW4oMiwgc2NhbGUpKTtcclxuICAgIGlmIChuZXdTY2FsZSAhPT0gZWRpdG9yLnNjYWxlKSB7XHJcbiAgICAgIGVkaXRvci5zY2FsZSA9IG5ld1NjYWxlO1xyXG4gICAgICB1cGRhdGVDYW52YXNUcmFuc2Zvcm0oZWRpdG9yKTtcclxuICAgICAgaWYgKGVkaXRvci5vblNjYWxlQ2hhbmdlKSB7XHJcbiAgICAgICAgZWRpdG9yLm9uU2NhbGVDaGFuZ2UobmV3U2NhbGUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSwgW10pO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgY2FudmFzUmVmOiBlZGl0b3JSZWYuY3VycmVudC5jYW52YXMsXHJcbiAgICBzY2FsZTogZWRpdG9yUmVmLmN1cnJlbnQuc2NhbGUsXHJcbiAgICB6b29tSW4sXHJcbiAgICB6b29tT3V0LFxyXG4gICAgem9vbVJlc2V0LFxyXG4gICAgc2V0Wm9vbSxcclxuICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVHcmlkU3R5bGVzKGNhbnZhczogSFRNTERpdkVsZW1lbnQsIGdyaWRTZXR0aW5nczogR3JpZFNldHRpbmdzKSB7XHJcbiAgLy8gR2V0IGdyaWQgY29sb3IgZnJvbSBDU1MgdmFyaWFibGVcclxuICBsZXQgZ3JpZENvbG9yID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KVxyXG4gICAgLmdldFByb3BlcnR5VmFsdWUoXCItLWNhbnZhcy1ncmlkLWNvbG9yXCIpLnRyaW0oKSB8fCBcIiM2Yzc1N2RcIjtcclxuICBcclxuICAvLyBDYWxjdWxhdGUgZmluYWwgb3BhY2l0eSAoMCBpZiBkaXNhYmxlZClcclxuICBjb25zdCBmaW5hbE9wYWNpdHkgPSBncmlkU2V0dGluZ3MuZW5hYmxlR3JpZCA/IGdyaWRTZXR0aW5ncy5ncmlkT3BhY2l0eSA6IDA7XHJcbiAgXHJcbiAgLy8gQ29udmVydCBjb2xvciB0byByZ2JhIHdpdGggb3BhY2l0eVxyXG4gIGlmIChncmlkQ29sb3Iuc3RhcnRzV2l0aChcIiNcIikpIHtcclxuICAgIGNvbnN0IHIgPSBwYXJzZUludChncmlkQ29sb3Iuc2xpY2UoMSwgMyksIDE2KTtcclxuICAgIGNvbnN0IGcgPSBwYXJzZUludChncmlkQ29sb3Iuc2xpY2UoMywgNSksIDE2KTtcclxuICAgIGNvbnN0IGIgPSBwYXJzZUludChncmlkQ29sb3Iuc2xpY2UoNSwgNyksIDE2KTtcclxuICAgIGdyaWRDb2xvciA9IGByZ2JhKCR7cn0sICR7Z30sICR7Yn0sICR7ZmluYWxPcGFjaXR5fSlgO1xyXG4gIH0gZWxzZSBpZiAoIWdyaWRDb2xvci5zdGFydHNXaXRoKFwicmdiYVwiKSkge1xyXG4gICAgZ3JpZENvbG9yID0gZ3JpZENvbG9yLnJlcGxhY2UoXCJyZ2IoXCIsIFwicmdiYShcIikucmVwbGFjZShcIilcIiwgYCwgJHtmaW5hbE9wYWNpdHl9KWApO1xyXG4gIH1cclxuICBcclxuICAvLyBBcHBseSBuZXcgZ3JpZCBwYXR0ZXJuXHJcbiAgY29uc3QgZG90U2l6ZSA9IDI7XHJcbiAgY29uc3QgZ3JpZFBhdHRlcm4gPSBgcmFkaWFsLWdyYWRpZW50KGNpcmNsZSBhdCAke2RvdFNpemV9cHggJHtkb3RTaXplfXB4LCAke2dyaWRDb2xvcn0gJHtkb3RTaXplfXB4LCB0cmFuc3BhcmVudCAwKWA7XHJcbiAgY2FudmFzLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGdyaWRQYXR0ZXJuO1xyXG4gIGNhbnZhcy5zdHlsZS5iYWNrZ3JvdW5kU2l6ZSA9IGAke2dyaWRTZXR0aW5ncy5ncmlkU2l6ZX1weCAke2dyaWRTZXR0aW5ncy5ncmlkU2l6ZX1weGA7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUNhbnZhc1dpdGhHcmlkKFxyXG4gIGVkaXRvcjogQ2FudmFzRWRpdG9yLCBcclxuICB2aWV3cG9ydDogSFRNTERpdkVsZW1lbnQsXHJcbiAgZ3JpZFNldHRpbmdzPzogR3JpZFNldHRpbmdzXHJcbikge1xyXG4gIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgY2FudmFzLmNsYXNzTmFtZSA9IFwibm9kZS1jYW52YXNcIjtcclxuICBjYW52YXMuaWQgPSBcIm5vZGVDYW52YXNcIjtcclxuICBjYW52YXMuc3R5bGUubWluSGVpZ2h0ID0gZWRpdG9yLmJhc2VDYW52YXNTaXplICsgXCJweFwiO1xyXG4gIGNhbnZhcy5zdHlsZS5taW5XaWR0aCA9IGVkaXRvci5iYXNlQ2FudmFzU2l6ZSArIFwicHhcIjtcclxuICBjYW52YXMuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XHJcbiAgY2FudmFzLnN0eWxlLnRvcCA9IFwiMFwiO1xyXG4gIGNhbnZhcy5zdHlsZS5sZWZ0ID0gXCIwXCI7XHJcblxyXG4gIHZpZXdwb3J0LmFwcGVuZENoaWxkKGNhbnZhcyk7XHJcbiAgZWRpdG9yLmNhbnZhcyA9IGNhbnZhcztcclxuICBlZGl0b3Iudmlld3BvcnQgPSB2aWV3cG9ydDtcclxuICBlZGl0b3IuY29ubmVjdGlvbkxheWVyID0gbnVsbDtcclxuICBlZGl0b3Iudmlld3BvcnQuc3R5bGUucG9zaXRpb24gPSBcInJlbGF0aXZlXCI7XHJcbiAgZWRpdG9yLnZpZXdwb3J0LnN0eWxlLm92ZXJmbG93ID0gXCJhdXRvXCI7XHJcblxyXG4gIC8vIFVzZSBwYXNzZWQtaW4gc2V0dGluZ3Mgb3IgZmFsbCBiYWNrIHRvIENTUyB2YXJpYWJsZXNcclxuICBjb25zdCBncmlkU2l6ZSA9IGdyaWRTZXR0aW5ncz8uZ3JpZFNpemUgXHJcbiAgICA/IGAke2dyaWRTZXR0aW5ncy5ncmlkU2l6ZX1weGBcclxuICAgIDogKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuZ2V0UHJvcGVydHlWYWx1ZShcIi0tY2FudmFzLWdyaWQtc2l6ZVwiKS50cmltKCkgfHwgXCIyMHB4XCIpO1xyXG4gIFxyXG4gIGNvbnN0IGdyaWRPcGFjaXR5ID0gZ3JpZFNldHRpbmdzPy5ncmlkT3BhY2l0eSA/PyBcclxuICAgIChwYXJzZUZsb2F0KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuZ2V0UHJvcGVydHlWYWx1ZShcIi0tY2FudmFzLWdyaWQtb3BhY2l0eVwiKS50cmltKCkpIHx8IDAuMyk7XHJcbiAgXHJcbiAgY29uc3QgZW5hYmxlR3JpZCA9IGdyaWRTZXR0aW5ncz8uZW5hYmxlR3JpZCA/PyB0cnVlO1xyXG5cclxuICAvLyBJZiBncmlkIGlzIGRpc2FibGVkLCBzZXQgb3BhY2l0eSB0byAwXHJcbiAgY29uc3QgZmluYWxPcGFjaXR5ID0gZW5hYmxlR3JpZCA/IGdyaWRPcGFjaXR5IDogMDtcclxuXHJcbiAgbGV0IGdyaWRDb2xvciA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuZ2V0UHJvcGVydHlWYWx1ZShcIi0tY2FudmFzLWdyaWQtY29sb3JcIikudHJpbSgpIHx8IFwiIzZjNzU3ZFwiO1xyXG5cclxuICBpZiAoZ3JpZENvbG9yLnN0YXJ0c1dpdGgoXCIjXCIpKSB7XHJcbiAgICBjb25zdCByID0gcGFyc2VJbnQoZ3JpZENvbG9yLnNsaWNlKDEsIDMpLCAxNik7XHJcbiAgICBjb25zdCBnID0gcGFyc2VJbnQoZ3JpZENvbG9yLnNsaWNlKDMsIDUpLCAxNik7XHJcbiAgICBjb25zdCBiID0gcGFyc2VJbnQoZ3JpZENvbG9yLnNsaWNlKDUsIDcpLCAxNik7XHJcbiAgICBncmlkQ29sb3IgPSBgcmdiYSgke3J9LCAke2d9LCAke2J9LCAke2ZpbmFsT3BhY2l0eX0pYDtcclxuICB9IGVsc2UgaWYgKCFncmlkQ29sb3Iuc3RhcnRzV2l0aChcInJnYmFcIikpIHtcclxuICAgIGdyaWRDb2xvciA9IGdyaWRDb2xvci5yZXBsYWNlKFwicmdiKFwiLCBcInJnYmEoXCIpLnJlcGxhY2UoXCIpXCIsIGAsICR7ZmluYWxPcGFjaXR5fSlgKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGRvdFNpemUgPSAyO1xyXG4gIGNvbnN0IGdyaWRQYXR0ZXJuID0gYHJhZGlhbC1ncmFkaWVudChjaXJjbGUgYXQgJHtkb3RTaXplfXB4ICR7ZG90U2l6ZX1weCwgJHtncmlkQ29sb3J9ICR7ZG90U2l6ZX1weCwgdHJhbnNwYXJlbnQgMClgO1xyXG4gIGNhbnZhcy5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBncmlkUGF0dGVybjtcclxuICBjYW52YXMuc3R5bGUuYmFja2dyb3VuZFNpemUgPSBgJHtncmlkU2l6ZX0gJHtncmlkU2l6ZX1gO1xyXG4gIGNhbnZhcy5zdHlsZS50cmFuc2Zvcm1PcmlnaW4gPSBcIjAgMFwiO1xyXG4gIGNhbnZhcy5zdHlsZS50cmFuc2Zvcm0gPSBgc2NhbGUoJHtlZGl0b3Iuc2NhbGV9KWA7XHJcblxyXG4gIGVuc3VyZUNhbnZhc0NvdmVyYWdlKGVkaXRvcik7XHJcbiAgY29uc3Qgb25SZXNpemUgPSAoKSA9PiBlbnN1cmVDYW52YXNDb3ZlcmFnZShlZGl0b3IpO1xyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIG9uUmVzaXplKTtcclxuICBcclxuICBpZiAod2luZG93LlJlc2l6ZU9ic2VydmVyKSB7XHJcbiAgICBjb25zdCBybyA9IG5ldyBSZXNpemVPYnNlcnZlcihvblJlc2l6ZSk7XHJcbiAgICByby5vYnNlcnZlKGVkaXRvci52aWV3cG9ydCk7XHJcbiAgICBlZGl0b3IuX3ZpZXdwb3J0UmVzaXplT2JzZXJ2ZXIgPSBybztcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluaXRpYWxpemVDYW52YXNFdmVudExpc3RlbmVycyhlZGl0b3I6IENhbnZhc0VkaXRvcikge1xyXG4gIGlmICghZWRpdG9yLmNhbnZhcykgcmV0dXJuO1xyXG5cclxuICBlZGl0b3IuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGU6IE1vdXNlRXZlbnQpID0+IGhhbmRsZUNhbnZhc01vdXNlRG93bihlZGl0b3IsIGUpKTtcclxuICBcclxuICBpZiAoZWRpdG9yLnZpZXdwb3J0KSB7XHJcbiAgICBlZGl0b3Iudmlld3BvcnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZTogTW91c2VFdmVudCkgPT4gaGFuZGxlQ2FudmFzTW91c2VEb3duKGVkaXRvciwgZSkpO1xyXG4gICAgLy8gT25seSBhdHRhY2ggd2hlZWwgbGlzdGVuZXIgdG8gdmlld3BvcnQgKG5vdCBjYW52YXMpIHRvIGFsbG93IG5hdHVyYWwgc2Nyb2xsaW5nXHJcbiAgICAvLyBVc2UgcGFzc2l2ZTogZmFsc2UgdG8gYWxsb3cgcHJldmVudERlZmF1bHQgZm9yIEN0cmwrc2Nyb2xsIHpvb21cclxuICAgIGVkaXRvci52aWV3cG9ydC5hZGRFdmVudExpc3RlbmVyKFwid2hlZWxcIiwgKGU6IFdoZWVsRXZlbnQpID0+IGhhbmRsZUNhbnZhc1doZWVsKGVkaXRvciwgZSksIHsgcGFzc2l2ZTogZmFsc2UgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBlbnN1cmVDYW52YXNDb3ZlcmFnZShlZGl0b3I6IENhbnZhc0VkaXRvcikge1xyXG4gIGlmICghZWRpdG9yLmNhbnZhcyB8fCAhZWRpdG9yLnZpZXdwb3J0KSByZXR1cm47XHJcblxyXG4gIGNvbnN0IHZpZXdwb3J0UmVjdCA9IGVkaXRvci52aWV3cG9ydC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICBjb25zdCByZXF1aXJlZE1pbldpZHRoID0gTWF0aC5tYXgoXHJcbiAgICBlZGl0b3IuYmFzZUNhbnZhc1NpemUsXHJcbiAgICBNYXRoLmNlaWwodmlld3BvcnRSZWN0LndpZHRoIC8gTWF0aC5tYXgoZWRpdG9yLnNjYWxlIHx8IDEsIDAuMDAxKSlcclxuICApO1xyXG4gIGNvbnN0IHJlcXVpcmVkTWluSGVpZ2h0ID0gTWF0aC5tYXgoXHJcbiAgICBlZGl0b3IuYmFzZUNhbnZhc1NpemUsXHJcbiAgICBNYXRoLmNlaWwodmlld3BvcnRSZWN0LmhlaWdodCAvIE1hdGgubWF4KGVkaXRvci5zY2FsZSB8fCAxLCAwLjAwMSkpXHJcbiAgKTtcclxuXHJcbiAgY29uc3QgY3VycmVudE1pbldpZHRoID0gcGFyc2VJbnQoZWRpdG9yLmNhbnZhcy5zdHlsZS5taW5XaWR0aCB8fCBcIjBcIiwgMTApIHx8IDA7XHJcbiAgY29uc3QgY3VycmVudE1pbkhlaWdodCA9IHBhcnNlSW50KGVkaXRvci5jYW52YXMuc3R5bGUubWluSGVpZ2h0IHx8IFwiMFwiLCAxMCkgfHwgMDtcclxuXHJcbiAgaWYgKHJlcXVpcmVkTWluV2lkdGggPiBjdXJyZW50TWluV2lkdGgpIHtcclxuICAgIGVkaXRvci5jYW52YXMuc3R5bGUubWluV2lkdGggPSByZXF1aXJlZE1pbldpZHRoICsgXCJweFwiO1xyXG4gIH1cclxuICBpZiAocmVxdWlyZWRNaW5IZWlnaHQgPiBjdXJyZW50TWluSGVpZ2h0KSB7XHJcbiAgICBlZGl0b3IuY2FudmFzLnN0eWxlLm1pbkhlaWdodCA9IHJlcXVpcmVkTWluSGVpZ2h0ICsgXCJweFwiO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlQ2FudmFzTW91c2VEb3duKGVkaXRvcjogQ2FudmFzRWRpdG9yLCBlOiBNb3VzZUV2ZW50KSB7XHJcbiAgaWYgKGUuYnV0dG9uICE9PSAwKSByZXR1cm47XHJcbiAgXHJcbiAgLy8gT25seSBzdGFydCBwYW5uaW5nIGlmIGNsaWNraW5nIGRpcmVjdGx5IG9uIHRoZSBjYW52YXMsIG5vdCBvbiBub2Rlc1xyXG4gIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xyXG4gIGlmICh0YXJnZXQuY2xvc2VzdCgnLndvcmtmbG93LW5vZGUnKSkgcmV0dXJuO1xyXG5cclxuICAvLyBPbmx5IHBhbiBpZiBDdHJsL0NtZCBpcyBoZWxkIGRvd25cclxuICBpZiAoIWUuY3RybEtleSAmJiAhZS5tZXRhS2V5KSByZXR1cm47XHJcblxyXG4gIGVkaXRvci5pc1Bhbm5pbmcgPSB0cnVlO1xyXG4gIGVkaXRvci5wYW5TdGFydCA9IHsgeDogZS5jbGllbnRYLCB5OiBlLmNsaWVudFkgfTtcclxuICBlZGl0b3Iuc2Nyb2xsU3RhcnQgPSB7XHJcbiAgICBsZWZ0OiBlZGl0b3Iudmlld3BvcnQhLnNjcm9sbExlZnQsXHJcbiAgICB0b3A6IGVkaXRvci52aWV3cG9ydCEuc2Nyb2xsVG9wXHJcbiAgfTtcclxuXHJcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIGRvY3VtZW50LmJvZHkuc3R5bGUudXNlclNlbGVjdCA9IFwibm9uZVwiO1xyXG4gIGVkaXRvci52aWV3cG9ydCEuc3R5bGUuY3Vyc29yID0gXCJncmFiYmluZ1wiO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVDYW52YXNXaGVlbChlZGl0b3I6IENhbnZhc0VkaXRvciwgZTogV2hlZWxFdmVudCkge1xyXG4gIC8vIE9ubHkgaW50ZXJjZXB0IHdoZWVsIGV2ZW50cyB3aGVuIEN0cmwvQ21kIGlzIHByZXNzZWQgZm9yIHpvb21pbmdcclxuICAvLyBPdGhlcndpc2UsIGxldCB0aGUgYnJvd3NlciBoYW5kbGUgbmF0dXJhbCBzY3JvbGxpbmdcclxuICBpZiAoZS5jdHJsS2V5IHx8IGUubWV0YUtleSkge1xyXG4gICAgLy8gUHJldmVudCBkZWZhdWx0IHpvb20gYmVoYXZpb3IgYW5kIGltcGxlbWVudCBjdXN0b20gem9vbVxyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIFxyXG4gICAgY29uc3Qgem9vbUZhY3RvciA9IGUuZGVsdGFZID4gMCA/IDAuOSA6IDEuMTtcclxuICAgIGNvbnN0IG5ld1NjYWxlID0gTWF0aC5tYXgoMC4xLCBNYXRoLm1pbigyLCBlZGl0b3Iuc2NhbGUgKiB6b29tRmFjdG9yKSk7XHJcblxyXG4gICAgaWYgKG5ld1NjYWxlICE9PSBlZGl0b3Iuc2NhbGUpIHtcclxuICAgICAgZWRpdG9yLnNjYWxlID0gbmV3U2NhbGU7XHJcbiAgICAgIHVwZGF0ZUNhbnZhc1RyYW5zZm9ybShlZGl0b3IpO1xyXG4gICAgICBpZiAoZWRpdG9yLm9uU2NhbGVDaGFuZ2UpIHtcclxuICAgICAgICBlZGl0b3Iub25TY2FsZUNoYW5nZShuZXdTY2FsZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgLy8gSWYgQ3RybC9DbWQgaXMgTk9UIHByZXNzZWQsIHdlIGRvbid0IGRvIGFueXRoaW5nIGFuZCBsZXQgYnJvd3NlciBoYW5kbGUgc2Nyb2xsXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZURvY3VtZW50TW91c2VNb3ZlKGVkaXRvcjogQ2FudmFzRWRpdG9yLCBlOiBNb3VzZUV2ZW50KSB7XHJcbiAgaWYgKCFlZGl0b3IuaXNQYW5uaW5nKSByZXR1cm47XHJcblxyXG4gIGUucHJldmVudERlZmF1bHQoKTtcclxuICBjb25zdCBkeCA9IGUuY2xpZW50WCAtIGVkaXRvci5wYW5TdGFydC54O1xyXG4gIGNvbnN0IGR5ID0gZS5jbGllbnRZIC0gZWRpdG9yLnBhblN0YXJ0Lnk7XHJcblxyXG4gIGVkaXRvci52aWV3cG9ydCEuc2Nyb2xsTGVmdCA9IGVkaXRvci5zY3JvbGxTdGFydC5sZWZ0IC0gZHg7XHJcbiAgZWRpdG9yLnZpZXdwb3J0IS5zY3JvbGxUb3AgPSBlZGl0b3Iuc2Nyb2xsU3RhcnQudG9wIC0gZHk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZURvY3VtZW50TW91c2VVcChlZGl0b3I6IENhbnZhc0VkaXRvciwgZTogTW91c2VFdmVudCkge1xyXG4gIGlmIChlLmJ1dHRvbiAhPT0gMCkgcmV0dXJuO1xyXG5cclxuICBlZGl0b3IuaXNQYW5uaW5nID0gZmFsc2U7XHJcbiAgZG9jdW1lbnQuYm9keS5zdHlsZS51c2VyU2VsZWN0ID0gXCJcIjtcclxuICBlZGl0b3Iudmlld3BvcnQhLnN0eWxlLmN1cnNvciA9IFwiXCI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZUNhbnZhc1RyYW5zZm9ybShlZGl0b3I6IENhbnZhc0VkaXRvcikge1xyXG4gIGlmICghZWRpdG9yLmNhbnZhcykgcmV0dXJuO1xyXG5cclxuICBlZGl0b3IuY2FudmFzLnN0eWxlLnRyYW5zZm9ybSA9IGBzY2FsZSgke2VkaXRvci5zY2FsZX0pYDtcclxuICBlZGl0b3IuY2FudmFzLnN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9IFwiMCAwXCI7XHJcbiAgZW5zdXJlQ2FudmFzQ292ZXJhZ2UoZWRpdG9yKTtcclxufVxyXG5cclxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZUNhbGxiYWNrIiwidXNlQ2FudmFzUGFuWm9vbSIsInZpZXdwb3J0UmVmIiwiZ3JpZFNldHRpbmdzIiwib25TY2FsZUNoYW5nZSIsImVkaXRvclJlZiIsImJhc2VDYW52YXNTaXplIiwiY2FudmFzIiwidmlld3BvcnQiLCJjb25uZWN0aW9uTGF5ZXIiLCJfdmlld3BvcnRSZXNpemVPYnNlcnZlciIsIm1pbmlNYXBDYW52YXMiLCJpc1Bhbm5pbmciLCJwYW5TdGFydCIsIngiLCJ5Iiwic2Nyb2xsU3RhcnQiLCJsZWZ0IiwidG9wIiwic2NhbGUiLCJjdXJyZW50IiwiZWRpdG9yIiwiZXhpc3RpbmdDYW52YXMiLCJxdWVyeVNlbGVjdG9yIiwicmVtb3ZlIiwiY3JlYXRlQ2FudmFzV2l0aEdyaWQiLCJpbml0aWFsaXplQ2FudmFzRXZlbnRMaXN0ZW5lcnMiLCJoYW5kbGVNb3VzZU1vdmUiLCJlIiwiaGFuZGxlRG9jdW1lbnRNb3VzZU1vdmUiLCJoYW5kbGVNb3VzZVVwIiwiaGFuZGxlRG9jdW1lbnRNb3VzZVVwIiwiaGFuZGxlUmVzaXplIiwiZW5zdXJlQ2FudmFzQ292ZXJhZ2UiLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ3aW5kb3ciLCJwYXJlbnRFbGVtZW50IiwiZGlzY29ubmVjdCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ1cGRhdGVHcmlkU3R5bGVzIiwiem9vbUluIiwibmV3U2NhbGUiLCJNYXRoIiwibWluIiwidXBkYXRlQ2FudmFzVHJhbnNmb3JtIiwiem9vbU91dCIsIm1heCIsInpvb21SZXNldCIsInNldFpvb20iLCJjYW52YXNSZWYiLCJncmlkQ29sb3IiLCJnZXRDb21wdXRlZFN0eWxlIiwiZG9jdW1lbnRFbGVtZW50IiwiZ2V0UHJvcGVydHlWYWx1ZSIsInRyaW0iLCJmaW5hbE9wYWNpdHkiLCJlbmFibGVHcmlkIiwiZ3JpZE9wYWNpdHkiLCJzdGFydHNXaXRoIiwiciIsInBhcnNlSW50Iiwic2xpY2UiLCJnIiwiYiIsInJlcGxhY2UiLCJkb3RTaXplIiwiZ3JpZFBhdHRlcm4iLCJzdHlsZSIsImJhY2tncm91bmRJbWFnZSIsImJhY2tncm91bmRTaXplIiwiZ3JpZFNpemUiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiaWQiLCJtaW5IZWlnaHQiLCJtaW5XaWR0aCIsInBvc2l0aW9uIiwiYXBwZW5kQ2hpbGQiLCJvdmVyZmxvdyIsInBhcnNlRmxvYXQiLCJ0cmFuc2Zvcm1PcmlnaW4iLCJ0cmFuc2Zvcm0iLCJvblJlc2l6ZSIsIlJlc2l6ZU9ic2VydmVyIiwicm8iLCJvYnNlcnZlIiwiaGFuZGxlQ2FudmFzTW91c2VEb3duIiwiaGFuZGxlQ2FudmFzV2hlZWwiLCJwYXNzaXZlIiwidmlld3BvcnRSZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicmVxdWlyZWRNaW5XaWR0aCIsImNlaWwiLCJ3aWR0aCIsInJlcXVpcmVkTWluSGVpZ2h0IiwiaGVpZ2h0IiwiY3VycmVudE1pbldpZHRoIiwiY3VycmVudE1pbkhlaWdodCIsImJ1dHRvbiIsInRhcmdldCIsImNsb3Nlc3QiLCJjdHJsS2V5IiwibWV0YUtleSIsImNsaWVudFgiLCJjbGllbnRZIiwic2Nyb2xsTGVmdCIsInNjcm9sbFRvcCIsInByZXZlbnREZWZhdWx0IiwiYm9keSIsInVzZXJTZWxlY3QiLCJjdXJzb3IiLCJzdG9wUHJvcGFnYXRpb24iLCJ6b29tRmFjdG9yIiwiZGVsdGFZIiwiZHgiLCJkeSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/editor-page/hooks/useCanvasPanZoom.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/app/editor-page/hooks/useGridSettings.ts":
/*!******************************************************!*\
  !*** ./src/app/editor-page/hooks/useGridSettings.ts ***!
  \******************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useGridSettings: () => (/* binding */ useGridSettings)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_editor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/editor */ \"(app-pages-browser)/./src/lib/editor.ts\");\n/**\r\n * Custom hook for managing grid settings from backend\r\n */ \n\nfunction useGridSettings() {\n    const [settings, setSettings] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        gridSize: 20,\n        gridOpacity: 0.3,\n        enableGrid: true,\n        isLoading: true\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useGridSettings.useEffect\": ()=>{\n            async function loadSettings() {\n                try {\n                    const uiSettings = await (0,_lib_editor__WEBPACK_IMPORTED_MODULE_1__.getUISettings)();\n                    setSettings({\n                        gridSize: uiSettings.default_grid_size,\n                        gridOpacity: uiSettings.grid_opacity,\n                        enableGrid: uiSettings.enable_grid,\n                        isLoading: false\n                    });\n                } catch (error) {\n                    console.error('Failed to load grid settings:', error);\n                    // Keep default fallback values\n                    setSettings({\n                        \"useGridSettings.useEffect.loadSettings\": (prev)=>({\n                                ...prev,\n                                isLoading: false\n                            })\n                    }[\"useGridSettings.useEffect.loadSettings\"]);\n                }\n            }\n            // Load settings on mount\n            loadSettings();\n            // Poll for settings changes every 2 seconds (for cross-tab updates)\n            const interval = setInterval(loadSettings, 2000);\n            // Cleanup\n            return ({\n                \"useGridSettings.useEffect\": ()=>{\n                    clearInterval(interval);\n                }\n            })[\"useGridSettings.useEffect\"];\n        }\n    }[\"useGridSettings.useEffect\"], []);\n    return settings;\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvZWRpdG9yLXBhZ2UvaG9va3MvdXNlR3JpZFNldHRpbmdzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7Q0FFQyxHQUUyQztBQUNrQjtBQVN2RCxTQUFTRztJQUNkLE1BQU0sQ0FBQ0MsVUFBVUMsWUFBWSxHQUFHTCwrQ0FBUUEsQ0FBZTtRQUNyRE0sVUFBVTtRQUNWQyxhQUFhO1FBQ2JDLFlBQVk7UUFDWkMsV0FBVztJQUNiO0lBRUFSLGdEQUFTQTtxQ0FBQztZQUNSLGVBQWVTO2dCQUNiLElBQUk7b0JBQ0YsTUFBTUMsYUFBeUIsTUFBTVQsMERBQWFBO29CQUNsREcsWUFBWTt3QkFDVkMsVUFBVUssV0FBV0MsaUJBQWlCO3dCQUN0Q0wsYUFBYUksV0FBV0UsWUFBWTt3QkFDcENMLFlBQVlHLFdBQVdHLFdBQVc7d0JBQ2xDTCxXQUFXO29CQUNiO2dCQUNGLEVBQUUsT0FBT00sT0FBTztvQkFDZEMsUUFBUUQsS0FBSyxDQUFDLGlDQUFpQ0E7b0JBQy9DLCtCQUErQjtvQkFDL0JWO2tFQUFZWSxDQUFBQSxPQUFTO2dDQUFFLEdBQUdBLElBQUk7Z0NBQUVSLFdBQVc7NEJBQU07O2dCQUNuRDtZQUNGO1lBRUEseUJBQXlCO1lBQ3pCQztZQUVBLG9FQUFvRTtZQUNwRSxNQUFNUSxXQUFXQyxZQUFZVCxjQUFjO1lBRTNDLFVBQVU7WUFDVjs2Q0FBTztvQkFDTFUsY0FBY0Y7Z0JBQ2hCOztRQUNGO29DQUFHLEVBQUU7SUFFTCxPQUFPZDtBQUNUIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXG5pY2hvbGFzLmxlZVxcRG9jdW1lbnRzXFx6XFxUaWNrZXRpbmdfTmlja1xcVGlja2V0aW5nXFx0YXZfb3BlbnNvdXJjZVxcdWlcXHNyY1xcYXBwXFxlZGl0b3ItcGFnZVxcaG9va3NcXHVzZUdyaWRTZXR0aW5ncy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ3VzdG9tIGhvb2sgZm9yIG1hbmFnaW5nIGdyaWQgc2V0dGluZ3MgZnJvbSBiYWNrZW5kXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgZ2V0VUlTZXR0aW5ncywgdHlwZSBVSVNldHRpbmdzIH0gZnJvbSAnQC9saWIvZWRpdG9yJztcclxuXHJcbmludGVyZmFjZSBHcmlkU2V0dGluZ3Mge1xyXG4gIGdyaWRTaXplOiBudW1iZXI7XHJcbiAgZ3JpZE9wYWNpdHk6IG51bWJlcjtcclxuICBlbmFibGVHcmlkOiBib29sZWFuO1xyXG4gIGlzTG9hZGluZzogYm9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHVzZUdyaWRTZXR0aW5ncygpOiBHcmlkU2V0dGluZ3Mge1xyXG4gIGNvbnN0IFtzZXR0aW5ncywgc2V0U2V0dGluZ3NdID0gdXNlU3RhdGU8R3JpZFNldHRpbmdzPih7XHJcbiAgICBncmlkU2l6ZTogMjAsICAgICAgICAgIC8vIERlZmF1bHQgZmFsbGJhY2tcclxuICAgIGdyaWRPcGFjaXR5OiAwLjMsICAgICAgLy8gRGVmYXVsdCBmYWxsYmFja1xyXG4gICAgZW5hYmxlR3JpZDogdHJ1ZSwgICAgICAvLyBEZWZhdWx0IGZhbGxiYWNrXHJcbiAgICBpc0xvYWRpbmc6IHRydWUsXHJcbiAgfSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBhc3luYyBmdW5jdGlvbiBsb2FkU2V0dGluZ3MoKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgdWlTZXR0aW5nczogVUlTZXR0aW5ncyA9IGF3YWl0IGdldFVJU2V0dGluZ3MoKTtcclxuICAgICAgICBzZXRTZXR0aW5ncyh7XHJcbiAgICAgICAgICBncmlkU2l6ZTogdWlTZXR0aW5ncy5kZWZhdWx0X2dyaWRfc2l6ZSxcclxuICAgICAgICAgIGdyaWRPcGFjaXR5OiB1aVNldHRpbmdzLmdyaWRfb3BhY2l0eSxcclxuICAgICAgICAgIGVuYWJsZUdyaWQ6IHVpU2V0dGluZ3MuZW5hYmxlX2dyaWQsXHJcbiAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIGdyaWQgc2V0dGluZ3M6JywgZXJyb3IpO1xyXG4gICAgICAgIC8vIEtlZXAgZGVmYXVsdCBmYWxsYmFjayB2YWx1ZXNcclxuICAgICAgICBzZXRTZXR0aW5ncyhwcmV2ID0+ICh7IC4uLnByZXYsIGlzTG9hZGluZzogZmFsc2UgfSkpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTG9hZCBzZXR0aW5ncyBvbiBtb3VudFxyXG4gICAgbG9hZFNldHRpbmdzKCk7XHJcblxyXG4gICAgLy8gUG9sbCBmb3Igc2V0dGluZ3MgY2hhbmdlcyBldmVyeSAyIHNlY29uZHMgKGZvciBjcm9zcy10YWIgdXBkYXRlcylcclxuICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwobG9hZFNldHRpbmdzLCAyMDAwKTtcclxuXHJcbiAgICAvLyBDbGVhbnVwXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcclxuICAgIH07XHJcbiAgfSwgW10pO1xyXG5cclxuICByZXR1cm4gc2V0dGluZ3M7XHJcbn1cclxuXHJcbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsImdldFVJU2V0dGluZ3MiLCJ1c2VHcmlkU2V0dGluZ3MiLCJzZXR0aW5ncyIsInNldFNldHRpbmdzIiwiZ3JpZFNpemUiLCJncmlkT3BhY2l0eSIsImVuYWJsZUdyaWQiLCJpc0xvYWRpbmciLCJsb2FkU2V0dGluZ3MiLCJ1aVNldHRpbmdzIiwiZGVmYXVsdF9ncmlkX3NpemUiLCJncmlkX29wYWNpdHkiLCJlbmFibGVfZ3JpZCIsImVycm9yIiwiY29uc29sZSIsInByZXYiLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/editor-page/hooks/useGridSettings.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/app/editor-page/hooks/useWorkflowExecution.ts":
/*!***********************************************************!*\
  !*** ./src/app/editor-page/hooks/useWorkflowExecution.ts ***!
  \***********************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useWorkflowExecution: () => (/* binding */ useWorkflowExecution)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_editor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/editor */ \"(app-pages-browser)/./src/lib/editor.ts\");\n/* harmony import */ var _lib_api_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/api-config */ \"(app-pages-browser)/./src/lib/api-config.ts\");\n/**\r\n * Custom hook for managing workflow execution state and controls\r\n */ \n\n\n/**\r\n * Trigger browser download for exported files\r\n * Handles both 'download' (quick download) and 'save_as' (file picker) modes\r\n */ function triggerDownload(downloadInfo) {\n    const { temp_filename, filename, mode } = downloadInfo;\n    // Build download URL\n    const url = `${(0,_lib_api_config__WEBPACK_IMPORTED_MODULE_2__.getApiBaseUrl)()}/api/v1/files/temp/download/${temp_filename}?mode=${mode}`;\n    // Create temporary anchor element\n    const a = document.createElement('a');\n    a.href = url;\n    // For 'download' mode: set download attribute to trigger direct download\n    // For 'save_as' mode: don't set download attribute to trigger \"Save As\" dialog\n    if (mode === 'download') {\n        a.download = filename;\n    }\n    // Note: 'save_as' mode doesn't set download attribute, which triggers browser's Save As dialog\n    // Trigger click\n    document.body.appendChild(a);\n    a.click();\n    // Cleanup\n    setTimeout(()=>{\n        document.body.removeChild(a);\n    }, 100);\n    console.log(` Download triggered: ${filename} (mode=${mode})`);\n}\nfunction useWorkflowExecution(workflowId, addLog, updateNodeState, resetAllNodeStates, setAllNodesPending// Add this new function\n) {\n    const [isExecuting, setIsExecuting] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [isPaused, setIsPaused] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [executionId, setExecutionId] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [isMonitoring, setIsMonitoring] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false); // For trigger workflows\n    const [lastResult, setLastResult] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('none'); // Track last execution result\n    const [retryInfo, setRetryInfo] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null); // Retry info for failed executions\n    const [showRetryWarning, setShowRetryWarning] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false); // Show warning modal\n    const [retryWarnings, setRetryWarnings] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]); // Structure change warnings\n    const sseCleanupRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const isMonitoringRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false); // Ref to avoid closure issues\n    const isRecoveringStateRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false); // Track if we're reconnecting to existing execution\n    const executionIdRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null); // Track current execution ID for SSE callbacks\n    // State recovery: Check if workflow is already running when workflowId changes\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useWorkflowExecution.useEffect\": ()=>{\n            if (!workflowId) return;\n            async function recoverState() {\n                try {\n                    console.log(`[State Recovery] Checking status for workflow: ${workflowId}`);\n                    const response = await fetch(`${(0,_lib_api_config__WEBPACK_IMPORTED_MODULE_2__.getApiBaseUrl)()}/api/v1/workflows/${workflowId}/status`, {\n                        credentials: 'include'\n                    });\n                    if (!response.ok) {\n                        console.warn(`[State Recovery] Failed to get status: ${response.status}`);\n                        return;\n                    }\n                    const status = await response.json();\n                    console.log('[State Recovery] Workflow status:', status);\n                    // Check if workflow is monitoring (use is_monitoring field from TriggerManager)\n                    const isActiveMonitoring = status.is_monitoring === true;\n                    if (isActiveMonitoring) {\n                        addLog(` Reconnecting to monitoring workflow...`);\n                        setIsExecuting(true);\n                        setIsMonitoring(true);\n                        isMonitoringRef.current = true;\n                        isRecoveringStateRef.current = true; // Mark that we're recovering\n                        setAllNodesPending();\n                        // Reconnect to workflow stream\n                        if (workflowId) {\n                            connectToWorkflowStream(workflowId);\n                        }\n                        addLog(` Reconnected to monitoring`);\n                    } else if (status.running_executions > 0 && status.last_execution) {\n                        // One-shot execution is running\n                        const lastExecId = status.last_execution.execution_id;\n                        const wasPaused = status.is_paused === true;\n                        addLog(` Reconnecting to ${wasPaused ? 'paused' : 'running'} execution...`);\n                        setIsExecuting(true);\n                        setIsPaused(wasPaused); // Restore pause state!\n                        setExecutionId(lastExecId);\n                        executionIdRef.current = lastExecId;\n                        isRecoveringStateRef.current = true; // Mark that we're recovering\n                        setAllNodesPending();\n                        // Fetch execution details to restore node states\n                        try {\n                            const execResponse = await fetch(`${(0,_lib_api_config__WEBPACK_IMPORTED_MODULE_2__.getApiBaseUrl)()}/api/v1/workflows/executions/${lastExecId}`, {\n                                credentials: 'include'\n                            });\n                            if (execResponse.ok) {\n                                const execData = await execResponse.json();\n                                console.log('[State Recovery] Execution details:', execData);\n                                console.log('[State Recovery] node_results:', execData.node_results);\n                                // Restore node states from node_results\n                                if (execData.node_results) {\n                                    console.log(`[State Recovery] Restoring ${Object.keys(execData.node_results).length} node states`);\n                                    Object.entries(execData.node_results).forEach({\n                                        \"useWorkflowExecution.useEffect.recoverState\": ([nodeId, result])=>{\n                                            console.log(`[State Recovery] Restoring node ${nodeId}:`, result);\n                                            if (result.success === true) {\n                                                updateNodeState(nodeId, 'completed', undefined, result.outputs?.preview_data, result);\n                                            } else if (result.success === false) {\n                                                // Check if it's currently executing (running) or actually failed\n                                                // A node is only \"running\" if metadata says executing AND completed_at is null\n                                                if (result.metadata?.status === 'executing' && !result.completed_at) {\n                                                    updateNodeState(nodeId, 'executing', undefined, undefined, result);\n                                                } else {\n                                                    // Either explicitly failed, or was running but now stale (has completed_at)\n                                                    updateNodeState(nodeId, 'failed', result.error, undefined, result);\n                                                }\n                                            }\n                                        }\n                                    }[\"useWorkflowExecution.useEffect.recoverState\"]);\n                                    addLog(` Restored ${Object.keys(execData.node_results).length} node states`);\n                                } else {\n                                    console.warn('[State Recovery] No node_results in response');\n                                }\n                            } else {\n                                console.warn('[State Recovery] Failed to fetch execution details:', execResponse.status);\n                            }\n                        } catch (error) {\n                            console.warn('[State Recovery] Failed to fetch execution details:', error);\n                        // Continue anyway - we'll get updates from SSE\n                        }\n                        // Reconnect to execution stream\n                        connectToExecutionStream(lastExecId);\n                        addLog(` Reconnected to execution${wasPaused ? ' (paused)' : ''}`);\n                    } else {\n                        console.log('[State Recovery] Workflow is idle, no reconnection needed');\n                    }\n                } catch (error) {\n                    console.error('[State Recovery] Error:', error);\n                }\n            }\n            recoverState();\n        }\n    }[\"useWorkflowExecution.useEffect\"], [\n        workflowId\n    ]); // Run when workflowId changes\n    async function handleRun() {\n        if (!workflowId) {\n            alert('Please save workflow first');\n            return;\n        }\n        try {\n            addLog(` Running workflow...`);\n            // Clean up any existing SSE connections first\n            if (sseCleanupRef.current) {\n                console.log('[handleRun] Cleaning up existing SSE connection');\n                sseCleanupRef.current();\n                sseCleanupRef.current = null;\n            }\n            // Reset all states for fresh execution\n            setIsExecuting(true);\n            setIsPaused(false);\n            setIsMonitoring(false);\n            isMonitoringRef.current = false;\n            setLastResult('none');\n            setRetryInfo(null);\n            setShowRetryWarning(false);\n            setRetryWarnings([]);\n            resetAllNodeStates(); // Reset all nodes before execution\n            const response = await (0,_lib_editor__WEBPACK_IMPORTED_MODULE_1__.executeWorkflow)(workflowId);\n            console.log('[handleRun] Response:', response);\n            // Check if this is a monitoring workflow (persistent mode)\n            if (response.mode === 'persistent') {\n                // Monitoring workflow - connect to workflow-level SSE\n                addLog(` Monitoring started (${response.trigger_count} trigger(s))`);\n                setIsMonitoring(true);\n                isMonitoringRef.current = true;\n                connectToWorkflowStream(workflowId);\n            } else {\n                // One-shot workflow - connect to execution-level SSE\n                setExecutionId(response.execution_id);\n                executionIdRef.current = response.execution_id;\n                addLog(` Started (${response.mode})`);\n                // Make sure monitoring is off for one-shot\n                setIsMonitoring(false);\n                isMonitoringRef.current = false;\n                if (response.execution_id) {\n                    connectToExecutionStream(response.execution_id);\n                }\n            }\n        } catch (error) {\n            addLog(` Execute failed: ${error}`);\n            setIsExecuting(false);\n            setIsMonitoring(false);\n            isMonitoringRef.current = false;\n        }\n    }\n    async function handleStop() {\n        if (!workflowId) return;\n        try {\n            await (0,_lib_editor__WEBPACK_IMPORTED_MODULE_1__.stopWorkflow)(workflowId);\n            addLog(` Stopped`);\n            setIsExecuting(false);\n            setIsPaused(false);\n            setIsMonitoring(false);\n            isMonitoringRef.current = false;\n            // Reset nodes to idle when stopped\n            resetAllNodeStates();\n            // Disconnect SSE\n            if (sseCleanupRef.current) {\n                sseCleanupRef.current();\n                sseCleanupRef.current = null;\n            }\n        } catch (error) {\n            addLog(` Stop failed: ${error}`);\n        }\n    }\n    async function handlePause() {\n        if (!workflowId) return;\n        try {\n            await (0,_lib_editor__WEBPACK_IMPORTED_MODULE_1__.pauseWorkflow)(workflowId);\n            addLog(` Paused`);\n            setIsPaused(true);\n        } catch (error) {\n            addLog(` Pause failed: ${error}`);\n        }\n    }\n    async function handleResume() {\n        if (!workflowId) return;\n        try {\n            await (0,_lib_editor__WEBPACK_IMPORTED_MODULE_1__.resumeWorkflow)(workflowId);\n            addLog(` Resumed`);\n            setIsPaused(false);\n        } catch (error) {\n            addLog(` Resume failed: ${error}`);\n        }\n    }\n    async function handleRetry(force = false) {\n        if (!executionId) {\n            addLog(` No execution to retry`);\n            return;\n        }\n        try {\n            addLog(` Retrying from checkpoint...`);\n            // Clean up any existing SSE connections first (same as handleRun)\n            if (sseCleanupRef.current) {\n                console.log('[handleRetry] Cleaning up existing SSE connection');\n                sseCleanupRef.current();\n                sseCleanupRef.current = null;\n            }\n            const response = await (0,_lib_editor__WEBPACK_IMPORTED_MODULE_1__.retryExecution)(executionId, force);\n            if (response.requires_confirmation) {\n                // Structure changed - show warning modal\n                setRetryWarnings(response.warnings || []);\n                setShowRetryWarning(true);\n                addLog(` Workflow changed since failure. Review warnings.`);\n                return;\n            }\n            if (response.success && response.execution_id) {\n                // Retry started successfully - reset states (same as handleRun)\n                setIsExecuting(true);\n                setIsPaused(false);\n                setIsMonitoring(false);\n                isMonitoringRef.current = false;\n                setLastResult('none');\n                setShowRetryWarning(false);\n                setRetryInfo(null);\n                // Update execution ID\n                setExecutionId(response.execution_id);\n                executionIdRef.current = response.execution_id;\n                // Mark skipped nodes as completed (they were successful in original execution)\n                const skippedNodes = response.skipped_nodes || [];\n                skippedNodes.forEach((nodeId)=>{\n                    updateNodeState(nodeId, 'completed', undefined, undefined, {\n                        success: true,\n                        skipped: true,\n                        message: 'Skipped - completed in previous execution'\n                    });\n                });\n                const skippedCount = skippedNodes.length;\n                addLog(` Retry started. Skipping ${skippedCount} completed node(s).`);\n                // Connect to new execution stream\n                connectToExecutionStream(response.execution_id);\n            } else {\n                addLog(` Retry failed: ${response.message || 'Unknown error'}`);\n            }\n        } catch (error) {\n            addLog(` Retry failed: ${error}`);\n            // Reset executing state on error (same as handleRun)\n            setIsExecuting(false);\n            setIsMonitoring(false);\n            isMonitoringRef.current = false;\n        }\n    }\n    async function handleRetryForce() {\n        // Called when user confirms retry despite warnings\n        setShowRetryWarning(false);\n        await handleRetry(true);\n    }\n    function handleRetryCancel() {\n        // Called when user cancels retry from warning modal\n        setShowRetryWarning(false);\n        setRetryWarnings([]);\n        addLog(` Retry cancelled`);\n    }\n    async function handleRestart() {\n        // Full restart - same as handleRun but clears the last execution state first\n        // Reset all failure/retry related state\n        setLastResult('none');\n        setExecutionId(null);\n        executionIdRef.current = null;\n        setRetryInfo(null);\n        setShowRetryWarning(false);\n        setRetryWarnings([]);\n        // handleRun will handle the rest (SSE cleanup, node states, etc.)\n        await handleRun();\n    }\n    // Fetch retry info when execution fails (optional - button works without it)\n    async function fetchRetryInfo(execId) {\n        try {\n            const info = await (0,_lib_editor__WEBPACK_IMPORTED_MODULE_1__.getRetryInfo)(execId);\n            setRetryInfo(info);\n        } catch (error) {\n            // Retry info is optional - button will still work without it\n            // Just won't show the count of completed nodes to skip\n            console.debug('Could not fetch retry info (optional):', error);\n            setRetryInfo(null);\n        }\n    }\n    function connectToExecutionStream(execId) {\n        // Store cleanup function so we can disconnect later\n        const cleanup = (0,_lib_editor__WEBPACK_IMPORTED_MODULE_1__.streamExecutionEvents)(execId, (event)=>handleSSEEvent(event), (error)=>{\n            addLog(` Stream error: ${error.message}`);\n            setIsExecuting(false);\n        });\n        sseCleanupRef.current = cleanup;\n    }\n    function connectToWorkflowStream(wfId) {\n        // Connect to workflow-level SSE for monitoring workflows\n        addLog(` Connecting to workflow stream...`);\n        console.log('[SSE] Connecting to workflow stream:', wfId);\n        const cleanup = (0,_lib_editor__WEBPACK_IMPORTED_MODULE_1__.streamWorkflowEvents)(wfId, (event)=>handleSSEEvent(event), (error)=>{\n            addLog(` Stream error: ${error.message}`);\n            console.error('[SSE] Stream error:', error);\n            setIsExecuting(false);\n            setIsMonitoring(false);\n            isMonitoringRef.current = false;\n        });\n        sseCleanupRef.current = cleanup;\n    }\n    function handleSSEEvent(event) {\n        const time = new Date().toLocaleTimeString();\n        console.log('[SSE] Event received:', event.type, event);\n        switch(event.type){\n            case 'connected':\n                addLog(` Connected to stream`);\n                break;\n            case 'workflow_monitoring_start':\n                addLog(` Monitoring workflow: ${event.workflow_name}`);\n                // Set all nodes to pending when monitoring starts\n                setAllNodesPending();\n                break;\n            case 'execution_start':\n                console.log('[SSE] execution_start received, isRecoveringStateRef:', isRecoveringStateRef.current);\n                const isRetry = event.retry_from || event.skipped_nodes?.length > 0;\n                addLog(`[${time}]  ${isRetry ? 'Retry' : 'Execution'} started${event.execution_id ? ` (${event.execution_id.substring(0, 8)}...)` : ''}`);\n                // For retries, mark skipped nodes as completed first\n                if (isRetry && event.skipped_nodes?.length > 0) {\n                    console.log('[SSE] Retry detected, marking skipped nodes as completed:', event.skipped_nodes);\n                    event.skipped_nodes.forEach((nodeId)=>{\n                        updateNodeState(nodeId, 'completed', undefined, undefined, {\n                            success: true,\n                            skipped: true,\n                            message: 'Skipped - completed in previous execution'\n                        });\n                    });\n                }\n                // Only set nodes to pending if this is a NEW execution (not recovering state)\n                // When recovering, we've already restored node states from DB\n                // For retries, we skip this since skipped nodes are already marked completed\n                if (!isRecoveringStateRef.current && !isRetry) {\n                    console.log('[SSE] Setting all nodes to pending (fresh execution)');\n                    setAllNodesPending();\n                } else {\n                    // We're reconnecting or retrying - clear the recovery flag\n                    console.log('[SSE] Skipping setAllNodesPending (recovery or retry)');\n                    isRecoveringStateRef.current = false;\n                }\n                break;\n            case 'node_start':\n                addLog(`[${time}]  Node '${event.node_name || event.node_id}' starting...`);\n                updateNodeState(event.node_id, 'executing');\n                break;\n            case 'node_complete':\n                console.log('[SSE] node_complete event:', event);\n                addLog(`[${time}]  Node '${event.node_name || event.node_id}' completed`);\n                // Check for download marker\n                if (event.outputs?._download) {\n                    const download = event.outputs._download;\n                    addLog(` Triggering download: ${download.filename} (${download.mode})`);\n                    // Trigger download\n                    triggerDownload(download);\n                }\n                // Pass full execution data including inputs and outputs\n                updateNodeState(event.node_id, 'completed', undefined, event.outputs?.preview_data, {\n                    success: true,\n                    inputs: event.inputs,\n                    outputs: event.outputs,\n                    node_name: event.node_name\n                });\n                break;\n            case 'node_failed':\n                addLog(`[${time}]  Node '${event.node_name || event.node_id}' failed: ${event.error}`);\n                updateNodeState(event.node_id, 'failed', event.error, undefined, {\n                    success: false,\n                    error: event.error,\n                    inputs: event.inputs,\n                    node_name: event.node_name\n                });\n                break;\n            case 'execution_complete':\n                addLog(`[${time}]  Execution completed`);\n                if (isMonitoringRef.current) {\n                    // For persistent workflows: wait 2 seconds then reset to pending\n                    addLog(` Waiting for next trigger...`);\n                    setTimeout(()=>{\n                        setAllNodesPending();\n                    }, 2000);\n                } else {\n                    // For one-shot workflows: reset execution state so Run button shows again\n                    setIsExecuting(false);\n                    setIsPaused(false);\n                    setLastResult('completed'); // Track that execution completed successfully\n                    setRetryInfo(null); // Clear retry info on success\n                    if (sseCleanupRef.current) {\n                        sseCleanupRef.current();\n                        sseCleanupRef.current = null;\n                    }\n                }\n                break;\n            case 'execution_failed':\n                addLog(`[${time}]  Execution failed: ${event.error || event.message}`);\n                if (isMonitoringRef.current) {\n                    // For persistent workflows: wait 2 seconds then reset to pending\n                    addLog(` Waiting for next trigger...`);\n                    setTimeout(()=>{\n                        setAllNodesPending();\n                    }, 2000);\n                } else {\n                    // For one-shot workflows: track failure for retry\n                    setIsExecuting(false);\n                    setIsPaused(false);\n                    setLastResult('failed'); // Track that execution failed\n                    // Fetch retry info for the failed execution\n                    const failedExecId = event.execution_id || executionIdRef.current;\n                    if (failedExecId) {\n                        fetchRetryInfo(failedExecId);\n                    }\n                    if (sseCleanupRef.current) {\n                        sseCleanupRef.current();\n                        sseCleanupRef.current = null;\n                    }\n                }\n                break;\n            case 'execution_stopped':\n                addLog(`[${time}]  Stopped`);\n                setIsExecuting(false);\n                setIsMonitoring(false);\n                isMonitoringRef.current = false;\n                setLastResult('stopped'); // Track that execution was stopped\n                // Fetch retry info for stopped execution (can also be retried)\n                const stoppedExecId = event.execution_id || executionIdRef.current;\n                if (stoppedExecId) {\n                    fetchRetryInfo(stoppedExecId);\n                }\n                resetAllNodeStates(); // Return to idle when stopped\n                if (sseCleanupRef.current) {\n                    sseCleanupRef.current();\n                    sseCleanupRef.current = null;\n                }\n                break;\n            case 'heartbeat':\n                // Silent heartbeat\n                console.debug(`Heartbeat received for ${event.workflow_id || event.execution_id}`);\n                break;\n        }\n    }\n    return {\n        isExecuting,\n        isPaused,\n        executionId,\n        isMonitoring,\n        lastResult,\n        retryInfo,\n        showRetryWarning,\n        retryWarnings,\n        handleRun,\n        handleStop,\n        handlePause,\n        handleResume,\n        handleRetry,\n        handleRetryForce,\n        handleRetryCancel,\n        handleRestart\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvZWRpdG9yLXBhZ2UvaG9va3MvdXNlV29ya2Zsb3dFeGVjdXRpb24udHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7Q0FFQyxHQUVtRDtBQVU5QjtBQUMyQjtBQWtCakQ7OztDQUdDLEdBQ0QsU0FBU1ksZ0JBQWdCQyxZQUt4QjtJQUNDLE1BQU0sRUFBRUMsYUFBYSxFQUFFQyxRQUFRLEVBQUVDLElBQUksRUFBRSxHQUFHSDtJQUUxQyxxQkFBcUI7SUFDckIsTUFBTUksTUFBTSxHQUFHTiw4REFBYUEsR0FBRyw0QkFBNEIsRUFBRUcsY0FBYyxNQUFNLEVBQUVFLE1BQU07SUFFekYsa0NBQWtDO0lBQ2xDLE1BQU1FLElBQUlDLFNBQVNDLGFBQWEsQ0FBQztJQUNqQ0YsRUFBRUcsSUFBSSxHQUFHSjtJQUVULHlFQUF5RTtJQUN6RSwrRUFBK0U7SUFDL0UsSUFBSUQsU0FBUyxZQUFZO1FBQ3ZCRSxFQUFFSSxRQUFRLEdBQUdQO0lBQ2Y7SUFDQSwrRkFBK0Y7SUFFL0YsZ0JBQWdCO0lBQ2hCSSxTQUFTSSxJQUFJLENBQUNDLFdBQVcsQ0FBQ047SUFDMUJBLEVBQUVPLEtBQUs7SUFFUCxVQUFVO0lBQ1ZDLFdBQVc7UUFDVFAsU0FBU0ksSUFBSSxDQUFDSSxXQUFXLENBQUNUO0lBQzVCLEdBQUc7SUFFSFUsUUFBUUMsR0FBRyxDQUFDLENBQUMsdUJBQXVCLEVBQUVkLFNBQVMsT0FBTyxFQUFFQyxLQUFLLENBQUMsQ0FBQztBQUNqRTtBQUVPLFNBQVNjLHFCQUNkQyxVQUF5QixFQUN6QkMsTUFBaUMsRUFDakNDLGVBQXlILEVBQ3pIQyxrQkFBOEIsRUFDOUJDLGtCQUE4Qix3QkFBMEI7O0lBRXhELE1BQU0sQ0FBQ0MsYUFBYUMsZUFBZSxHQUFHckMsK0NBQVFBLENBQUM7SUFDL0MsTUFBTSxDQUFDc0MsVUFBVUMsWUFBWSxHQUFHdkMsK0NBQVFBLENBQUM7SUFDekMsTUFBTSxDQUFDd0MsYUFBYUMsZUFBZSxHQUFH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QjtnQkFFQWpHLHNCQUFzQiw4QkFBOEI7Z0JBQ3BELElBQUlrQixjQUFjYyxPQUFPLEVBQUU7b0JBQ3pCZCxjQUFjYyxPQUFPO29CQUNyQmQsY0FBY2MsT0FBTyxHQUFHO2dCQUMxQjtnQkFDQTtZQUVGLEtBQUs7Z0JBQ0gsbUJBQW1CO2dCQUNuQnRDLFFBQVFxRixLQUFLLENBQUMsQ0FBQyx1QkFBdUIsRUFBRUUsTUFBTWlCLFdBQVcsSUFBSWpCLE1BQU01QyxZQUFZLEVBQUU7Z0JBQ2pGO1FBQ0o7SUFDRjtJQUVBLE9BQU87UUFDTG5DO1FBQ0FFO1FBQ0FFO1FBQ0FFO1FBQ0FFO1FBQ0FFO1FBQ0FFO1FBQ0FFO1FBQ0EwQztRQUNBRztRQUNBQztRQUNBQztRQUNBQztRQUNBUztRQUNBQztRQUNBQztJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbmljaG9sYXMubGVlXFxEb2N1bWVudHNcXHpcXFRpY2tldGluZ19OaWNrXFxUaWNrZXRpbmdcXHRhdl9vcGVuc291cmNlXFx1aVxcc3JjXFxhcHBcXGVkaXRvci1wYWdlXFxob29rc1xcdXNlV29ya2Zsb3dFeGVjdXRpb24udHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEN1c3RvbSBob29rIGZvciBtYW5hZ2luZyB3b3JrZmxvdyBleGVjdXRpb24gc3RhdGUgYW5kIGNvbnRyb2xzXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZVJlZiwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQge1xyXG4gIGV4ZWN1dGVXb3JrZmxvdyxcclxuICBzdG9wV29ya2Zsb3csXHJcbiAgcGF1c2VXb3JrZmxvdyxcclxuICByZXN1bWVXb3JrZmxvdyxcclxuICBzdHJlYW1FeGVjdXRpb25FdmVudHMsXHJcbiAgc3RyZWFtV29ya2Zsb3dFdmVudHMsXHJcbiAgcmV0cnlFeGVjdXRpb24sXHJcbiAgZ2V0UmV0cnlJbmZvLFxyXG59IGZyb20gJ0AvbGliL2VkaXRvcic7XHJcbmltcG9ydCB7IGdldEFwaUJhc2VVcmwgfSBmcm9tICdAL2xpYi9hcGktY29uZmlnJztcclxuXHJcbi8vIEV4ZWN1dGlvbiByZXN1bHQgc3RhdHVzIChhZnRlciBleGVjdXRpb24gY29tcGxldGVzKVxyXG50eXBlIEV4ZWN1dGlvblJlc3VsdCA9ICdub25lJyB8ICdjb21wbGV0ZWQnIHwgJ2ZhaWxlZCcgfCAnc3RvcHBlZCc7XHJcblxyXG4vLyBSZXRyeSBpbmZvIGZyb20gYmFja2VuZFxyXG5pbnRlcmZhY2UgUmV0cnlJbmZvIHtcclxuICBjYW5fcmV0cnk6IGJvb2xlYW47XHJcbiAgY29tcGxldGVkX25vZGVzOiBzdHJpbmdbXTtcclxuICBjb21wbGV0ZWRfY291bnQ6IG51bWJlcjtcclxuICBmYWlsZWRfbm9kZXM6IHsgbm9kZV9pZDogc3RyaW5nOyBlcnJvcjogc3RyaW5nIH1bXTtcclxuICBmYWlsZWRfY291bnQ6IG51bWJlcjtcclxuICBoYXNfc3RydWN0dXJlX2NoYW5nZXM6IGJvb2xlYW47XHJcbiAgc3RydWN0dXJlX3dhcm5pbmdzOiBzdHJpbmdbXTtcclxufVxyXG5cclxudHlwZSBOb2RlU3RhdHVzID0gJ2lkbGUnIHwgJ3BlbmRpbmcnIHwgJ2V4ZWN1dGluZycgfCAnY29tcGxldGVkJyB8ICdmYWlsZWQnO1xyXG5cclxuLyoqXHJcbiAqIFRyaWdnZXIgYnJvd3NlciBkb3dubG9hZCBmb3IgZXhwb3J0ZWQgZmlsZXNcclxuICogSGFuZGxlcyBib3RoICdkb3dubG9hZCcgKHF1aWNrIGRvd25sb2FkKSBhbmQgJ3NhdmVfYXMnIChmaWxlIHBpY2tlcikgbW9kZXNcclxuICovXHJcbmZ1bmN0aW9uIHRyaWdnZXJEb3dubG9hZChkb3dubG9hZEluZm86IHtcclxuICBmaWxlbmFtZTogc3RyaW5nO1xyXG4gIHRlbXBfZmlsZW5hbWU6IHN0cmluZztcclxuICBtb2RlOiBzdHJpbmc7XHJcbiAgbWltZV90eXBlOiBzdHJpbmc7XHJcbn0pIHtcclxuICBjb25zdCB7IHRlbXBfZmlsZW5hbWUsIGZpbGVuYW1lLCBtb2RlIH0gPSBkb3dubG9hZEluZm87XHJcbiAgXHJcbiAgLy8gQnVpbGQgZG93bmxvYWQgVVJMXHJcbiAgY29uc3QgdXJsID0gYCR7Z2V0QXBpQmFzZVVybCgpfS9hcGkvdjEvZmlsZXMvdGVtcC9kb3dubG9hZC8ke3RlbXBfZmlsZW5hbWV9P21vZGU9JHttb2RlfWA7XHJcbiAgXHJcbiAgLy8gQ3JlYXRlIHRlbXBvcmFyeSBhbmNob3IgZWxlbWVudFxyXG4gIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgYS5ocmVmID0gdXJsO1xyXG4gIFxyXG4gIC8vIEZvciAnZG93bmxvYWQnIG1vZGU6IHNldCBkb3dubG9hZCBhdHRyaWJ1dGUgdG8gdHJpZ2dlciBkaXJlY3QgZG93bmxvYWRcclxuICAvLyBGb3IgJ3NhdmVfYXMnIG1vZGU6IGRvbid0IHNldCBkb3dubG9hZCBhdHRyaWJ1dGUgdG8gdHJpZ2dlciBcIlNhdmUgQXNcIiBkaWFsb2dcclxuICBpZiAobW9kZSA9PT0gJ2Rvd25sb2FkJykge1xyXG4gICAgYS5kb3dubG9hZCA9IGZpbGVuYW1lO1xyXG4gIH1cclxuICAvLyBOb3RlOiAnc2F2ZV9hcycgbW9kZSBkb2Vzbid0IHNldCBkb3dubG9hZCBhdHRyaWJ1dGUsIHdoaWNoIHRyaWdnZXJzIGJyb3dzZXIncyBTYXZlIEFzIGRpYWxvZ1xyXG4gIFxyXG4gIC8vIFRyaWdnZXIgY2xpY2tcclxuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpO1xyXG4gIGEuY2xpY2soKTtcclxuICBcclxuICAvLyBDbGVhbnVwXHJcbiAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGEpO1xyXG4gIH0sIDEwMCk7XHJcbiAgXHJcbiAgY29uc29sZS5sb2coYPCfk6UgRG93bmxvYWQgdHJpZ2dlcmVkOiAke2ZpbGVuYW1lfSAobW9kZT0ke21vZGV9KWApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdXNlV29ya2Zsb3dFeGVjdXRpb24oXHJcbiAgd29ya2Zsb3dJZDogc3RyaW5nIHwgbnVsbCxcclxuICBhZGRMb2c6IChtZXNzYWdlOiBzdHJpbmcpID0+IHZvaWQsXHJcbiAgdXBkYXRlTm9kZVN0YXRlOiAobm9kZUlkOiBzdHJpbmcsIHN0YXR1czogTm9kZVN0YXR1cywgZXJyb3I/OiBzdHJpbmcsIHByZXZpZXdEYXRhPzogYW55LCBmdWxsRXhlY3V0aW9uRGF0YT86IGFueSkgPT4gdm9pZCxcclxuICByZXNldEFsbE5vZGVTdGF0ZXM6ICgpID0+IHZvaWQsXHJcbiAgc2V0QWxsTm9kZXNQZW5kaW5nOiAoKSA9PiB2b2lkICAvLyBBZGQgdGhpcyBuZXcgZnVuY3Rpb25cclxuKSB7XHJcbiAgY29uc3QgW2lzRXhlY3V0aW5nLCBzZXRJc0V4ZWN1dGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW2lzUGF1c2VkLCBzZXRJc1BhdXNlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW2V4ZWN1dGlvbklkLCBzZXRFeGVjdXRpb25JZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbaXNNb25pdG9yaW5nLCBzZXRJc01vbml0b3JpbmddID0gdXNlU3RhdGUoZmFsc2UpOyAvLyBGb3IgdHJpZ2dlciB3b3JrZmxvd3NcclxuICBjb25zdCBbbGFzdFJlc3VsdCwgc2V0TGFzdFJlc3VsdF0gPSB1c2VTdGF0ZTxFeGVjdXRpb25SZXN1bHQ+KCdub25lJyk7IC8vIFRyYWNrIGxhc3QgZXhlY3V0aW9uIHJlc3VsdFxyXG4gIGNvbnN0IFtyZXRyeUluZm8sIHNldFJldHJ5SW5mb10gPSB1c2VTdGF0ZTxSZXRyeUluZm8gfCBudWxsPihudWxsKTsgLy8gUmV0cnkgaW5mbyBmb3IgZmFpbGVkIGV4ZWN1dGlvbnNcclxuICBjb25zdCBbc2hvd1JldHJ5V2FybmluZywgc2V0U2hvd1JldHJ5V2FybmluZ10gPSB1c2VTdGF0ZShmYWxzZSk7IC8vIFNob3cgd2FybmluZyBtb2RhbFxyXG4gIGNvbnN0IFtyZXRyeVdhcm5pbmdzLCBzZXRSZXRyeVdhcm5pbmdzXSA9IHVzZVN0YXRlPHN0cmluZ1tdPihbXSk7IC8vIFN0cnVjdHVyZSBjaGFuZ2Ugd2FybmluZ3NcclxuICBjb25zdCBzc2VDbGVhbnVwUmVmID0gdXNlUmVmPCgoKSA9PiB2b2lkKSB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IGlzTW9uaXRvcmluZ1JlZiA9IHVzZVJlZjxib29sZWFuPihmYWxzZSk7IC8vIFJlZiB0byBhdm9pZCBjbG9zdXJlIGlzc3Vlc1xyXG4gIGNvbnN0IGlzUmVjb3ZlcmluZ1N0YXRlUmVmID0gdXNlUmVmPGJvb2xlYW4+KGZhbHNlKTsgLy8gVHJhY2sgaWYgd2UncmUgcmVjb25uZWN0aW5nIHRvIGV4aXN0aW5nIGV4ZWN1dGlvblxyXG4gIGNvbnN0IGV4ZWN1dGlvbklkUmVmID0gdXNlUmVmPHN0cmluZyB8IG51bGw+KG51bGwpOyAvLyBUcmFjayBjdXJyZW50IGV4ZWN1dGlvbiBJRCBmb3IgU1NFIGNhbGxiYWNrc1xyXG4gIFxyXG4gIC8vIFN0YXRlIHJlY292ZXJ5OiBDaGVjayBpZiB3b3JrZmxvdyBpcyBhbHJlYWR5IHJ1bm5pbmcgd2hlbiB3b3JrZmxvd0lkIGNoYW5nZXNcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKCF3b3JrZmxvd0lkKSByZXR1cm47XHJcbiAgICBcclxuICAgIGFzeW5jIGZ1bmN0aW9uIHJlY292ZXJTdGF0ZSgpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhgW1N0YXRlIFJlY292ZXJ5XSBDaGVja2luZyBzdGF0dXMgZm9yIHdvcmtmbG93OiAke3dvcmtmbG93SWR9YCk7XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtnZXRBcGlCYXNlVXJsKCl9L2FwaS92MS93b3JrZmxvd3MvJHt3b3JrZmxvd0lkfS9zdGF0dXNgLCB7XHJcbiAgICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKGBbU3RhdGUgUmVjb3ZlcnldIEZhaWxlZCB0byBnZXQgc3RhdHVzOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3Qgc3RhdHVzID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdbU3RhdGUgUmVjb3ZlcnldIFdvcmtmbG93IHN0YXR1czonLCBzdGF0dXMpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENoZWNrIGlmIHdvcmtmbG93IGlzIG1vbml0b3JpbmcgKHVzZSBpc19tb25pdG9yaW5nIGZpZWxkIGZyb20gVHJpZ2dlck1hbmFnZXIpXHJcbiAgICAgICAgY29uc3QgaXNBY3RpdmVNb25pdG9yaW5nID0gc3RhdHVzLmlzX21vbml0b3JpbmcgPT09IHRydWU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGlzQWN0aXZlTW9uaXRvcmluZykge1xyXG4gICAgICAgICAgYWRkTG9nKGDwn5SEIFJlY29ubmVjdGluZyB0byBtb25pdG9yaW5nIHdvcmtmbG93Li4uYCk7XHJcbiAgICAgICAgICBzZXRJc0V4ZWN1dGluZyh0cnVlKTtcclxuICAgICAgICAgIHNldElzTW9uaXRvcmluZyh0cnVlKTtcclxuICAgICAgICAgIGlzTW9uaXRvcmluZ1JlZi5jdXJyZW50ID0gdHJ1ZTtcclxuICAgICAgICAgIGlzUmVjb3ZlcmluZ1N0YXRlUmVmLmN1cnJlbnQgPSB0cnVlOyAvLyBNYXJrIHRoYXQgd2UncmUgcmVjb3ZlcmluZ1xyXG4gICAgICAgICAgc2V0QWxsTm9kZXNQZW5kaW5nKCk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIFJlY29ubmVjdCB0byB3b3JrZmxvdyBzdHJlYW1cclxuICAgICAgICAgIGlmICh3b3JrZmxvd0lkKSB7XHJcbiAgICAgICAgICAgIGNvbm5lY3RUb1dvcmtmbG93U3RyZWFtKHdvcmtmbG93SWQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYWRkTG9nKGDinIUgUmVjb25uZWN0ZWQgdG8gbW9uaXRvcmluZ2ApO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdHVzLnJ1bm5pbmdfZXhlY3V0aW9ucyA+IDAgJiYgc3RhdHVzLmxhc3RfZXhlY3V0aW9uKSB7XHJcbiAgICAgICAgICAvLyBPbmUtc2hvdCBleGVjdXRpb24gaXMgcnVubmluZ1xyXG4gICAgICAgICAgY29uc3QgbGFzdEV4ZWNJZCA9IHN0YXR1cy5sYXN0X2V4ZWN1dGlvbi5leGVjdXRpb25faWQ7XHJcbiAgICAgICAgICBjb25zdCB3YXNQYXVzZWQgPSBzdGF0dXMuaXNfcGF1c2VkID09PSB0cnVlO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBhZGRMb2coYPCflIQgUmVjb25uZWN0aW5nIHRvICR7d2FzUGF1c2VkID8gJ3BhdXNlZCcgOiAncnVubmluZyd9IGV4ZWN1dGlvbi4uLmApO1xyXG4gICAgICAgICAgc2V0SXNFeGVjdXRpbmcodHJ1ZSk7XHJcbiAgICAgICAgICBzZXRJc1BhdXNlZCh3YXNQYXVzZWQpOyAvLyBSZXN0b3JlIHBhdXNlIHN0YXRlIVxyXG4gICAgICAgICAgc2V0RXhlY3V0aW9uSWQobGFzdEV4ZWNJZCk7XHJcbiAgICAgICAgICBleGVjdXRpb25JZFJlZi5jdXJyZW50ID0gbGFzdEV4ZWNJZDtcclxuICAgICAgICAgIGlzUmVjb3ZlcmluZ1N0YXRlUmVmLmN1cnJlbnQgPSB0cnVlOyAvLyBNYXJrIHRoYXQgd2UncmUgcmVjb3ZlcmluZ1xyXG4gICAgICAgICAgc2V0QWxsTm9kZXNQZW5kaW5nKCk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIEZldGNoIGV4ZWN1dGlvbiBkZXRhaWxzIHRvIHJlc3RvcmUgbm9kZSBzdGF0ZXNcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGV4ZWNSZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke2dldEFwaUJhc2VVcmwoKX0vYXBpL3YxL3dvcmtmbG93cy9leGVjdXRpb25zLyR7bGFzdEV4ZWNJZH1gLCB7XHJcbiAgICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJ1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKGV4ZWNSZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICAgIGNvbnN0IGV4ZWNEYXRhID0gYXdhaXQgZXhlY1Jlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW1N0YXRlIFJlY292ZXJ5XSBFeGVjdXRpb24gZGV0YWlsczonLCBleGVjRGF0YSk7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tTdGF0ZSBSZWNvdmVyeV0gbm9kZV9yZXN1bHRzOicsIGV4ZWNEYXRhLm5vZGVfcmVzdWx0cyk7XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgLy8gUmVzdG9yZSBub2RlIHN0YXRlcyBmcm9tIG5vZGVfcmVzdWx0c1xyXG4gICAgICAgICAgICAgIGlmIChleGVjRGF0YS5ub2RlX3Jlc3VsdHMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbU3RhdGUgUmVjb3ZlcnldIFJlc3RvcmluZyAke09iamVjdC5rZXlzKGV4ZWNEYXRhLm5vZGVfcmVzdWx0cykubGVuZ3RofSBub2RlIHN0YXRlc2ApO1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMoZXhlY0RhdGEubm9kZV9yZXN1bHRzKS5mb3JFYWNoKChbbm9kZUlkLCByZXN1bHRdOiBbc3RyaW5nLCBhbnldKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbU3RhdGUgUmVjb3ZlcnldIFJlc3RvcmluZyBub2RlICR7bm9kZUlkfTpgLCByZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVOb2RlU3RhdGUobm9kZUlkLCAnY29tcGxldGVkJywgdW5kZWZpbmVkLCByZXN1bHQub3V0cHV0cz8ucHJldmlld19kYXRhLCByZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGl0J3MgY3VycmVudGx5IGV4ZWN1dGluZyAocnVubmluZykgb3IgYWN0dWFsbHkgZmFpbGVkXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQSBub2RlIGlzIG9ubHkgXCJydW5uaW5nXCIgaWYgbWV0YWRhdGEgc2F5cyBleGVjdXRpbmcgQU5EIGNvbXBsZXRlZF9hdCBpcyBudWxsXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5tZXRhZGF0YT8uc3RhdHVzID09PSAnZXhlY3V0aW5nJyAmJiAhcmVzdWx0LmNvbXBsZXRlZF9hdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdXBkYXRlTm9kZVN0YXRlKG5vZGVJZCwgJ2V4ZWN1dGluZycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCByZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAvLyBFaXRoZXIgZXhwbGljaXRseSBmYWlsZWQsIG9yIHdhcyBydW5uaW5nIGJ1dCBub3cgc3RhbGUgKGhhcyBjb21wbGV0ZWRfYXQpXHJcbiAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVOb2RlU3RhdGUobm9kZUlkLCAnZmFpbGVkJywgcmVzdWx0LmVycm9yLCB1bmRlZmluZWQsIHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGFkZExvZyhg8J+TiiBSZXN0b3JlZCAke09iamVjdC5rZXlzKGV4ZWNEYXRhLm5vZGVfcmVzdWx0cykubGVuZ3RofSBub2RlIHN0YXRlc2ApO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tTdGF0ZSBSZWNvdmVyeV0gTm8gbm9kZV9yZXN1bHRzIGluIHJlc3BvbnNlJyk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybignW1N0YXRlIFJlY292ZXJ5XSBGYWlsZWQgdG8gZmV0Y2ggZXhlY3V0aW9uIGRldGFpbHM6JywgZXhlY1Jlc3BvbnNlLnN0YXR1cyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignW1N0YXRlIFJlY292ZXJ5XSBGYWlsZWQgdG8gZmV0Y2ggZXhlY3V0aW9uIGRldGFpbHM6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICAvLyBDb250aW51ZSBhbnl3YXkgLSB3ZSdsbCBnZXQgdXBkYXRlcyBmcm9tIFNTRVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBSZWNvbm5lY3QgdG8gZXhlY3V0aW9uIHN0cmVhbVxyXG4gICAgICAgICAgY29ubmVjdFRvRXhlY3V0aW9uU3RyZWFtKGxhc3RFeGVjSWQpO1xyXG4gICAgICAgICAgYWRkTG9nKGDinIUgUmVjb25uZWN0ZWQgdG8gZXhlY3V0aW9uJHt3YXNQYXVzZWQgPyAnIChwYXVzZWQpJyA6ICcnfWApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnW1N0YXRlIFJlY292ZXJ5XSBXb3JrZmxvdyBpcyBpZGxlLCBubyByZWNvbm5lY3Rpb24gbmVlZGVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tTdGF0ZSBSZWNvdmVyeV0gRXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJlY292ZXJTdGF0ZSgpO1xyXG4gIH0sIFt3b3JrZmxvd0lkXSk7IC8vIFJ1biB3aGVuIHdvcmtmbG93SWQgY2hhbmdlc1xyXG5cclxuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVSdW4oKSB7XHJcbiAgICBpZiAoIXdvcmtmbG93SWQpIHtcclxuICAgICAgYWxlcnQoJ1BsZWFzZSBzYXZlIHdvcmtmbG93IGZpcnN0Jyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBhZGRMb2coYOKWtu+4jyBSdW5uaW5nIHdvcmtmbG93Li4uYCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBDbGVhbiB1cCBhbnkgZXhpc3RpbmcgU1NFIGNvbm5lY3Rpb25zIGZpcnN0XHJcbiAgICAgIGlmIChzc2VDbGVhbnVwUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnW2hhbmRsZVJ1bl0gQ2xlYW5pbmcgdXAgZXhpc3RpbmcgU1NFIGNvbm5lY3Rpb24nKTtcclxuICAgICAgICBzc2VDbGVhbnVwUmVmLmN1cnJlbnQoKTtcclxuICAgICAgICBzc2VDbGVhbnVwUmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBSZXNldCBhbGwgc3RhdGVzIGZvciBmcmVzaCBleGVjdXRpb25cclxuICAgICAgc2V0SXNFeGVjdXRpbmcodHJ1ZSk7XHJcbiAgICAgIHNldElzUGF1c2VkKGZhbHNlKTtcclxuICAgICAgc2V0SXNNb25pdG9yaW5nKGZhbHNlKTtcclxuICAgICAgaXNNb25pdG9yaW5nUmVmLmN1cnJlbnQgPSBmYWxzZTtcclxuICAgICAgc2V0TGFzdFJlc3VsdCgnbm9uZScpO1xyXG4gICAgICBzZXRSZXRyeUluZm8obnVsbCk7XHJcbiAgICAgIHNldFNob3dSZXRyeVdhcm5pbmcoZmFsc2UpO1xyXG4gICAgICBzZXRSZXRyeVdhcm5pbmdzKFtdKTtcclxuICAgICAgcmVzZXRBbGxOb2RlU3RhdGVzKCk7IC8vIFJlc2V0IGFsbCBub2RlcyBiZWZvcmUgZXhlY3V0aW9uXHJcblxyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGV4ZWN1dGVXb3JrZmxvdyh3b3JrZmxvd0lkKTtcclxuICAgICAgY29uc29sZS5sb2coJ1toYW5kbGVSdW5dIFJlc3BvbnNlOicsIHJlc3BvbnNlKTtcclxuICAgICAgXHJcbiAgICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgYSBtb25pdG9yaW5nIHdvcmtmbG93IChwZXJzaXN0ZW50IG1vZGUpXHJcbiAgICAgIGlmIChyZXNwb25zZS5tb2RlID09PSAncGVyc2lzdGVudCcpIHtcclxuICAgICAgICAvLyBNb25pdG9yaW5nIHdvcmtmbG93IC0gY29ubmVjdCB0byB3b3JrZmxvdy1sZXZlbCBTU0VcclxuICAgICAgICBhZGRMb2coYOKchSBNb25pdG9yaW5nIHN0YXJ0ZWQgKCR7cmVzcG9uc2UudHJpZ2dlcl9jb3VudH0gdHJpZ2dlcihzKSlgKTtcclxuICAgICAgICBzZXRJc01vbml0b3JpbmcodHJ1ZSk7XHJcbiAgICAgICAgaXNNb25pdG9yaW5nUmVmLmN1cnJlbnQgPSB0cnVlO1xyXG4gICAgICAgIGNvbm5lY3RUb1dvcmtmbG93U3RyZWFtKHdvcmtmbG93SWQpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIE9uZS1zaG90IHdvcmtmbG93IC0gY29ubmVjdCB0byBleGVjdXRpb24tbGV2ZWwgU1NFXHJcbiAgICAgICAgc2V0RXhlY3V0aW9uSWQocmVzcG9uc2UuZXhlY3V0aW9uX2lkKTtcclxuICAgICAgICBleGVjdXRpb25JZFJlZi5jdXJyZW50ID0gcmVzcG9uc2UuZXhlY3V0aW9uX2lkO1xyXG4gICAgICAgIGFkZExvZyhg4pyFIFN0YXJ0ZWQgKCR7cmVzcG9uc2UubW9kZX0pYCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gTWFrZSBzdXJlIG1vbml0b3JpbmcgaXMgb2ZmIGZvciBvbmUtc2hvdFxyXG4gICAgICAgIHNldElzTW9uaXRvcmluZyhmYWxzZSk7XHJcbiAgICAgICAgaXNNb25pdG9yaW5nUmVmLmN1cnJlbnQgPSBmYWxzZTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAocmVzcG9uc2UuZXhlY3V0aW9uX2lkKSB7XHJcbiAgICAgICAgICBjb25uZWN0VG9FeGVjdXRpb25TdHJlYW0ocmVzcG9uc2UuZXhlY3V0aW9uX2lkKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGFkZExvZyhg4p2MIEV4ZWN1dGUgZmFpbGVkOiAke2Vycm9yfWApO1xyXG4gICAgICBzZXRJc0V4ZWN1dGluZyhmYWxzZSk7XHJcbiAgICAgIHNldElzTW9uaXRvcmluZyhmYWxzZSk7XHJcbiAgICAgIGlzTW9uaXRvcmluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVTdG9wKCkge1xyXG4gICAgaWYgKCF3b3JrZmxvd0lkKSByZXR1cm47XHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCBzdG9wV29ya2Zsb3cod29ya2Zsb3dJZCk7XHJcbiAgICAgIGFkZExvZyhg4o+577iPIFN0b3BwZWRgKTtcclxuICAgICAgc2V0SXNFeGVjdXRpbmcoZmFsc2UpO1xyXG4gICAgICBzZXRJc1BhdXNlZChmYWxzZSk7XHJcbiAgICAgIHNldElzTW9uaXRvcmluZyhmYWxzZSk7XHJcbiAgICAgIGlzTW9uaXRvcmluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgICAgIFxyXG4gICAgICAvLyBSZXNldCBub2RlcyB0byBpZGxlIHdoZW4gc3RvcHBlZFxyXG4gICAgICByZXNldEFsbE5vZGVTdGF0ZXMoKTtcclxuICAgICAgXHJcbiAgICAgIC8vIERpc2Nvbm5lY3QgU1NFXHJcbiAgICAgIGlmIChzc2VDbGVhbnVwUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICBzc2VDbGVhbnVwUmVmLmN1cnJlbnQoKTtcclxuICAgICAgICBzc2VDbGVhbnVwUmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBhZGRMb2coYOKdjCBTdG9wIGZhaWxlZDogJHtlcnJvcn1gKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZVBhdXNlKCkge1xyXG4gICAgaWYgKCF3b3JrZmxvd0lkKSByZXR1cm47XHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCBwYXVzZVdvcmtmbG93KHdvcmtmbG93SWQpO1xyXG4gICAgICBhZGRMb2coYOKPuO+4jyBQYXVzZWRgKTtcclxuICAgICAgc2V0SXNQYXVzZWQodHJ1ZSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBhZGRMb2coYOKdjCBQYXVzZSBmYWlsZWQ6ICR7ZXJyb3J9YCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVSZXN1bWUoKSB7XHJcbiAgICBpZiAoIXdvcmtmbG93SWQpIHJldHVybjtcclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IHJlc3VtZVdvcmtmbG93KHdvcmtmbG93SWQpO1xyXG4gICAgICBhZGRMb2coYOKWtu+4jyBSZXN1bWVkYCk7XHJcbiAgICAgIHNldElzUGF1c2VkKGZhbHNlKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGFkZExvZyhg4p2MIFJlc3VtZSBmYWlsZWQ6ICR7ZXJyb3J9YCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVSZXRyeShmb3JjZTogYm9vbGVhbiA9IGZhbHNlKSB7XHJcbiAgICBpZiAoIWV4ZWN1dGlvbklkKSB7XHJcbiAgICAgIGFkZExvZyhg4p2MIE5vIGV4ZWN1dGlvbiB0byByZXRyeWApO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgYWRkTG9nKGDwn5SEIFJldHJ5aW5nIGZyb20gY2hlY2twb2ludC4uLmApO1xyXG4gICAgICBcclxuICAgICAgLy8gQ2xlYW4gdXAgYW55IGV4aXN0aW5nIFNTRSBjb25uZWN0aW9ucyBmaXJzdCAoc2FtZSBhcyBoYW5kbGVSdW4pXHJcbiAgICAgIGlmIChzc2VDbGVhbnVwUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnW2hhbmRsZVJldHJ5XSBDbGVhbmluZyB1cCBleGlzdGluZyBTU0UgY29ubmVjdGlvbicpO1xyXG4gICAgICAgIHNzZUNsZWFudXBSZWYuY3VycmVudCgpO1xyXG4gICAgICAgIHNzZUNsZWFudXBSZWYuY3VycmVudCA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmV0cnlFeGVjdXRpb24oZXhlY3V0aW9uSWQsIGZvcmNlKTtcclxuICAgICAgXHJcbiAgICAgIGlmIChyZXNwb25zZS5yZXF1aXJlc19jb25maXJtYXRpb24pIHtcclxuICAgICAgICAvLyBTdHJ1Y3R1cmUgY2hhbmdlZCAtIHNob3cgd2FybmluZyBtb2RhbFxyXG4gICAgICAgIHNldFJldHJ5V2FybmluZ3MocmVzcG9uc2Uud2FybmluZ3MgfHwgW10pO1xyXG4gICAgICAgIHNldFNob3dSZXRyeVdhcm5pbmcodHJ1ZSk7XHJcbiAgICAgICAgYWRkTG9nKGDimqDvuI8gV29ya2Zsb3cgY2hhbmdlZCBzaW5jZSBmYWlsdXJlLiBSZXZpZXcgd2FybmluZ3MuYCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBpZiAocmVzcG9uc2Uuc3VjY2VzcyAmJiByZXNwb25zZS5leGVjdXRpb25faWQpIHtcclxuICAgICAgICAvLyBSZXRyeSBzdGFydGVkIHN1Y2Nlc3NmdWxseSAtIHJlc2V0IHN0YXRlcyAoc2FtZSBhcyBoYW5kbGVSdW4pXHJcbiAgICAgICAgc2V0SXNFeGVjdXRpbmcodHJ1ZSk7XHJcbiAgICAgICAgc2V0SXNQYXVzZWQoZmFsc2UpO1xyXG4gICAgICAgIHNldElzTW9uaXRvcmluZyhmYWxzZSk7XHJcbiAgICAgICAgaXNNb25pdG9yaW5nUmVmLmN1cnJlbnQgPSBmYWxzZTtcclxuICAgICAgICBzZXRMYXN0UmVzdWx0KCdub25lJyk7XHJcbiAgICAgICAgc2V0U2hvd1JldHJ5V2FybmluZyhmYWxzZSk7XHJcbiAgICAgICAgc2V0UmV0cnlJbmZvKG51bGwpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFVwZGF0ZSBleGVjdXRpb24gSURcclxuICAgICAgICBzZXRFeGVjdXRpb25JZChyZXNwb25zZS5leGVjdXRpb25faWQpO1xyXG4gICAgICAgIGV4ZWN1dGlvbklkUmVmLmN1cnJlbnQgPSByZXNwb25zZS5leGVjdXRpb25faWQ7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gTWFyayBza2lwcGVkIG5vZGVzIGFzIGNvbXBsZXRlZCAodGhleSB3ZXJlIHN1Y2Nlc3NmdWwgaW4gb3JpZ2luYWwgZXhlY3V0aW9uKVxyXG4gICAgICAgIGNvbnN0IHNraXBwZWROb2RlcyA9IHJlc3BvbnNlLnNraXBwZWRfbm9kZXMgfHwgW107XHJcbiAgICAgICAgc2tpcHBlZE5vZGVzLmZvckVhY2goKG5vZGVJZDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICB1cGRhdGVOb2RlU3RhdGUobm9kZUlkLCAnY29tcGxldGVkJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHtcclxuICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgICAgc2tpcHBlZDogdHJ1ZSxcclxuICAgICAgICAgICAgbWVzc2FnZTogJ1NraXBwZWQgLSBjb21wbGV0ZWQgaW4gcHJldmlvdXMgZXhlY3V0aW9uJ1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3Qgc2tpcHBlZENvdW50ID0gc2tpcHBlZE5vZGVzLmxlbmd0aDtcclxuICAgICAgICBhZGRMb2coYOKchSBSZXRyeSBzdGFydGVkLiBTa2lwcGluZyAke3NraXBwZWRDb3VudH0gY29tcGxldGVkIG5vZGUocykuYCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ29ubmVjdCB0byBuZXcgZXhlY3V0aW9uIHN0cmVhbVxyXG4gICAgICAgIGNvbm5lY3RUb0V4ZWN1dGlvblN0cmVhbShyZXNwb25zZS5leGVjdXRpb25faWQpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFkZExvZyhg4p2MIFJldHJ5IGZhaWxlZDogJHtyZXNwb25zZS5tZXNzYWdlIHx8ICdVbmtub3duIGVycm9yJ31gKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgYWRkTG9nKGDinYwgUmV0cnkgZmFpbGVkOiAke2Vycm9yfWApO1xyXG4gICAgICAvLyBSZXNldCBleGVjdXRpbmcgc3RhdGUgb24gZXJyb3IgKHNhbWUgYXMgaGFuZGxlUnVuKVxyXG4gICAgICBzZXRJc0V4ZWN1dGluZyhmYWxzZSk7XHJcbiAgICAgIHNldElzTW9uaXRvcmluZyhmYWxzZSk7XHJcbiAgICAgIGlzTW9uaXRvcmluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVSZXRyeUZvcmNlKCkge1xyXG4gICAgLy8gQ2FsbGVkIHdoZW4gdXNlciBjb25maXJtcyByZXRyeSBkZXNwaXRlIHdhcm5pbmdzXHJcbiAgICBzZXRTaG93UmV0cnlXYXJuaW5nKGZhbHNlKTtcclxuICAgIGF3YWl0IGhhbmRsZVJldHJ5KHRydWUpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gaGFuZGxlUmV0cnlDYW5jZWwoKSB7XHJcbiAgICAvLyBDYWxsZWQgd2hlbiB1c2VyIGNhbmNlbHMgcmV0cnkgZnJvbSB3YXJuaW5nIG1vZGFsXHJcbiAgICBzZXRTaG93UmV0cnlXYXJuaW5nKGZhbHNlKTtcclxuICAgIHNldFJldHJ5V2FybmluZ3MoW10pO1xyXG4gICAgYWRkTG9nKGDihLnvuI8gUmV0cnkgY2FuY2VsbGVkYCk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVSZXN0YXJ0KCkge1xyXG4gICAgLy8gRnVsbCByZXN0YXJ0IC0gc2FtZSBhcyBoYW5kbGVSdW4gYnV0IGNsZWFycyB0aGUgbGFzdCBleGVjdXRpb24gc3RhdGUgZmlyc3RcclxuICAgIC8vIFJlc2V0IGFsbCBmYWlsdXJlL3JldHJ5IHJlbGF0ZWQgc3RhdGVcclxuICAgIHNldExhc3RSZXN1bHQoJ25vbmUnKTtcclxuICAgIHNldEV4ZWN1dGlvbklkKG51bGwpO1xyXG4gICAgZXhlY3V0aW9uSWRSZWYuY3VycmVudCA9IG51bGw7XHJcbiAgICBzZXRSZXRyeUluZm8obnVsbCk7XHJcbiAgICBzZXRTaG93UmV0cnlXYXJuaW5nKGZhbHNlKTtcclxuICAgIHNldFJldHJ5V2FybmluZ3MoW10pO1xyXG4gICAgXHJcbiAgICAvLyBoYW5kbGVSdW4gd2lsbCBoYW5kbGUgdGhlIHJlc3QgKFNTRSBjbGVhbnVwLCBub2RlIHN0YXRlcywgZXRjLilcclxuICAgIGF3YWl0IGhhbmRsZVJ1bigpO1xyXG4gIH1cclxuXHJcbiAgLy8gRmV0Y2ggcmV0cnkgaW5mbyB3aGVuIGV4ZWN1dGlvbiBmYWlscyAob3B0aW9uYWwgLSBidXR0b24gd29ya3Mgd2l0aG91dCBpdClcclxuICBhc3luYyBmdW5jdGlvbiBmZXRjaFJldHJ5SW5mbyhleGVjSWQ6IHN0cmluZykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgaW5mbyA9IGF3YWl0IGdldFJldHJ5SW5mbyhleGVjSWQpO1xyXG4gICAgICBzZXRSZXRyeUluZm8oaW5mbyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAvLyBSZXRyeSBpbmZvIGlzIG9wdGlvbmFsIC0gYnV0dG9uIHdpbGwgc3RpbGwgd29yayB3aXRob3V0IGl0XHJcbiAgICAgIC8vIEp1c3Qgd29uJ3Qgc2hvdyB0aGUgY291bnQgb2YgY29tcGxldGVkIG5vZGVzIHRvIHNraXBcclxuICAgICAgY29uc29sZS5kZWJ1ZygnQ291bGQgbm90IGZldGNoIHJldHJ5IGluZm8gKG9wdGlvbmFsKTonLCBlcnJvcik7XHJcbiAgICAgIHNldFJldHJ5SW5mbyhudWxsKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNvbm5lY3RUb0V4ZWN1dGlvblN0cmVhbShleGVjSWQ6IHN0cmluZykge1xyXG4gICAgLy8gU3RvcmUgY2xlYW51cCBmdW5jdGlvbiBzbyB3ZSBjYW4gZGlzY29ubmVjdCBsYXRlclxyXG4gICAgY29uc3QgY2xlYW51cCA9IHN0cmVhbUV4ZWN1dGlvbkV2ZW50cyhcclxuICAgICAgZXhlY0lkLFxyXG4gICAgICAoZXZlbnQpID0+IGhhbmRsZVNTRUV2ZW50KGV2ZW50KSxcclxuICAgICAgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgYWRkTG9nKGDinYwgU3RyZWFtIGVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICAgICAgc2V0SXNFeGVjdXRpbmcoZmFsc2UpO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gICAgc3NlQ2xlYW51cFJlZi5jdXJyZW50ID0gY2xlYW51cDtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNvbm5lY3RUb1dvcmtmbG93U3RyZWFtKHdmSWQ6IHN0cmluZykge1xyXG4gICAgLy8gQ29ubmVjdCB0byB3b3JrZmxvdy1sZXZlbCBTU0UgZm9yIG1vbml0b3Jpbmcgd29ya2Zsb3dzXHJcbiAgICBhZGRMb2coYPCflIwgQ29ubmVjdGluZyB0byB3b3JrZmxvdyBzdHJlYW0uLi5gKTtcclxuICAgIGNvbnNvbGUubG9nKCdbU1NFXSBDb25uZWN0aW5nIHRvIHdvcmtmbG93IHN0cmVhbTonLCB3ZklkKTtcclxuICAgIFxyXG4gICAgY29uc3QgY2xlYW51cCA9IHN0cmVhbVdvcmtmbG93RXZlbnRzKFxyXG4gICAgICB3ZklkLFxyXG4gICAgICAoZXZlbnQpID0+IGhhbmRsZVNTRUV2ZW50KGV2ZW50KSxcclxuICAgICAgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgYWRkTG9nKGDinYwgU3RyZWFtIGVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignW1NTRV0gU3RyZWFtIGVycm9yOicsIGVycm9yKTtcclxuICAgICAgICBzZXRJc0V4ZWN1dGluZyhmYWxzZSk7XHJcbiAgICAgICAgc2V0SXNNb25pdG9yaW5nKGZhbHNlKTtcclxuICAgICAgICBpc01vbml0b3JpbmdSZWYuY3VycmVudCA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gICAgc3NlQ2xlYW51cFJlZi5jdXJyZW50ID0gY2xlYW51cDtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGhhbmRsZVNTRUV2ZW50KGV2ZW50OiBhbnkpIHtcclxuICAgIGNvbnN0IHRpbWUgPSBuZXcgRGF0ZSgpLnRvTG9jYWxlVGltZVN0cmluZygpO1xyXG4gICAgY29uc29sZS5sb2coJ1tTU0VdIEV2ZW50IHJlY2VpdmVkOicsIGV2ZW50LnR5cGUsIGV2ZW50KTtcclxuXHJcbiAgICBzd2l0Y2ggKGV2ZW50LnR5cGUpIHtcclxuICAgICAgY2FzZSAnY29ubmVjdGVkJzpcclxuICAgICAgICBhZGRMb2coYPCfk6EgQ29ubmVjdGVkIHRvIHN0cmVhbWApO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBcclxuICAgICAgY2FzZSAnd29ya2Zsb3dfbW9uaXRvcmluZ19zdGFydCc6XHJcbiAgICAgICAgYWRkTG9nKGDwn5OhIE1vbml0b3Jpbmcgd29ya2Zsb3c6ICR7ZXZlbnQud29ya2Zsb3dfbmFtZX1gKTtcclxuICAgICAgICAvLyBTZXQgYWxsIG5vZGVzIHRvIHBlbmRpbmcgd2hlbiBtb25pdG9yaW5nIHN0YXJ0c1xyXG4gICAgICAgIHNldEFsbE5vZGVzUGVuZGluZygpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBcclxuICAgICAgY2FzZSAnZXhlY3V0aW9uX3N0YXJ0JzpcclxuICAgICAgICBjb25zb2xlLmxvZygnW1NTRV0gZXhlY3V0aW9uX3N0YXJ0IHJlY2VpdmVkLCBpc1JlY292ZXJpbmdTdGF0ZVJlZjonLCBpc1JlY292ZXJpbmdTdGF0ZVJlZi5jdXJyZW50KTtcclxuICAgICAgICBjb25zdCBpc1JldHJ5ID0gZXZlbnQucmV0cnlfZnJvbSB8fCBldmVudC5za2lwcGVkX25vZGVzPy5sZW5ndGggPiAwO1xyXG4gICAgICAgIGFkZExvZyhgWyR7dGltZX1dIPCfmoAgJHtpc1JldHJ5ID8gJ1JldHJ5JyA6ICdFeGVjdXRpb24nfSBzdGFydGVkJHtldmVudC5leGVjdXRpb25faWQgPyBgICgke2V2ZW50LmV4ZWN1dGlvbl9pZC5zdWJzdHJpbmcoMCwgOCl9Li4uKWAgOiAnJ31gKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBGb3IgcmV0cmllcywgbWFyayBza2lwcGVkIG5vZGVzIGFzIGNvbXBsZXRlZCBmaXJzdFxyXG4gICAgICAgIGlmIChpc1JldHJ5ICYmIGV2ZW50LnNraXBwZWRfbm9kZXM/Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdbU1NFXSBSZXRyeSBkZXRlY3RlZCwgbWFya2luZyBza2lwcGVkIG5vZGVzIGFzIGNvbXBsZXRlZDonLCBldmVudC5za2lwcGVkX25vZGVzKTtcclxuICAgICAgICAgIGV2ZW50LnNraXBwZWRfbm9kZXMuZm9yRWFjaCgobm9kZUlkOiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgICAgdXBkYXRlTm9kZVN0YXRlKG5vZGVJZCwgJ2NvbXBsZXRlZCcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB7XHJcbiAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgICAgICBza2lwcGVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgIG1lc3NhZ2U6ICdTa2lwcGVkIC0gY29tcGxldGVkIGluIHByZXZpb3VzIGV4ZWN1dGlvbidcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gT25seSBzZXQgbm9kZXMgdG8gcGVuZGluZyBpZiB0aGlzIGlzIGEgTkVXIGV4ZWN1dGlvbiAobm90IHJlY292ZXJpbmcgc3RhdGUpXHJcbiAgICAgICAgLy8gV2hlbiByZWNvdmVyaW5nLCB3ZSd2ZSBhbHJlYWR5IHJlc3RvcmVkIG5vZGUgc3RhdGVzIGZyb20gREJcclxuICAgICAgICAvLyBGb3IgcmV0cmllcywgd2Ugc2tpcCB0aGlzIHNpbmNlIHNraXBwZWQgbm9kZXMgYXJlIGFscmVhZHkgbWFya2VkIGNvbXBsZXRlZFxyXG4gICAgICAgIGlmICghaXNSZWNvdmVyaW5nU3RhdGVSZWYuY3VycmVudCAmJiAhaXNSZXRyeSkge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ1tTU0VdIFNldHRpbmcgYWxsIG5vZGVzIHRvIHBlbmRpbmcgKGZyZXNoIGV4ZWN1dGlvbiknKTtcclxuICAgICAgICAgIHNldEFsbE5vZGVzUGVuZGluZygpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvLyBXZSdyZSByZWNvbm5lY3Rpbmcgb3IgcmV0cnlpbmcgLSBjbGVhciB0aGUgcmVjb3ZlcnkgZmxhZ1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ1tTU0VdIFNraXBwaW5nIHNldEFsbE5vZGVzUGVuZGluZyAocmVjb3Zlcnkgb3IgcmV0cnkpJyk7XHJcbiAgICAgICAgICBpc1JlY292ZXJpbmdTdGF0ZVJlZi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBcclxuICAgICAgY2FzZSAnbm9kZV9zdGFydCc6XHJcbiAgICAgICAgYWRkTG9nKGBbJHt0aW1lfV0g4pqZ77iPIE5vZGUgJyR7ZXZlbnQubm9kZV9uYW1lIHx8IGV2ZW50Lm5vZGVfaWR9JyBzdGFydGluZy4uLmApO1xyXG4gICAgICAgIHVwZGF0ZU5vZGVTdGF0ZShldmVudC5ub2RlX2lkLCAnZXhlY3V0aW5nJyk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIFxyXG4gICAgICBjYXNlICdub2RlX2NvbXBsZXRlJzpcclxuICAgICAgICBjb25zb2xlLmxvZygnW1NTRV0gbm9kZV9jb21wbGV0ZSBldmVudDonLCBldmVudCk7XHJcbiAgICAgICAgYWRkTG9nKGBbJHt0aW1lfV0g4pyFIE5vZGUgJyR7ZXZlbnQubm9kZV9uYW1lIHx8IGV2ZW50Lm5vZGVfaWR9JyBjb21wbGV0ZWRgKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBDaGVjayBmb3IgZG93bmxvYWQgbWFya2VyXHJcbiAgICAgICAgaWYgKGV2ZW50Lm91dHB1dHM/Ll9kb3dubG9hZCkge1xyXG4gICAgICAgICAgY29uc3QgZG93bmxvYWQgPSBldmVudC5vdXRwdXRzLl9kb3dubG9hZDtcclxuICAgICAgICAgIGFkZExvZyhg8J+TpSBUcmlnZ2VyaW5nIGRvd25sb2FkOiAke2Rvd25sb2FkLmZpbGVuYW1lfSAoJHtkb3dubG9hZC5tb2RlfSlgKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gVHJpZ2dlciBkb3dubG9hZFxyXG4gICAgICAgICAgdHJpZ2dlckRvd25sb2FkKGRvd25sb2FkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gUGFzcyBmdWxsIGV4ZWN1dGlvbiBkYXRhIGluY2x1ZGluZyBpbnB1dHMgYW5kIG91dHB1dHNcclxuICAgICAgICB1cGRhdGVOb2RlU3RhdGUoZXZlbnQubm9kZV9pZCwgJ2NvbXBsZXRlZCcsIHVuZGVmaW5lZCwgZXZlbnQub3V0cHV0cz8ucHJldmlld19kYXRhLCB7XHJcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgaW5wdXRzOiBldmVudC5pbnB1dHMsXHJcbiAgICAgICAgICBvdXRwdXRzOiBldmVudC5vdXRwdXRzLFxyXG4gICAgICAgICAgbm9kZV9uYW1lOiBldmVudC5ub2RlX25hbWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgXHJcbiAgICAgIGNhc2UgJ25vZGVfZmFpbGVkJzpcclxuICAgICAgICBhZGRMb2coYFske3RpbWV9XSDinYwgTm9kZSAnJHtldmVudC5ub2RlX25hbWUgfHwgZXZlbnQubm9kZV9pZH0nIGZhaWxlZDogJHtldmVudC5lcnJvcn1gKTtcclxuICAgICAgICB1cGRhdGVOb2RlU3RhdGUoZXZlbnQubm9kZV9pZCwgJ2ZhaWxlZCcsIGV2ZW50LmVycm9yLCB1bmRlZmluZWQsIHtcclxuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgZXJyb3I6IGV2ZW50LmVycm9yLFxyXG4gICAgICAgICAgaW5wdXRzOiBldmVudC5pbnB1dHMsXHJcbiAgICAgICAgICBub2RlX25hbWU6IGV2ZW50Lm5vZGVfbmFtZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBcclxuICAgICAgY2FzZSAnZXhlY3V0aW9uX2NvbXBsZXRlJzpcclxuICAgICAgICBhZGRMb2coYFske3RpbWV9XSDwn46JIEV4ZWN1dGlvbiBjb21wbGV0ZWRgKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoaXNNb25pdG9yaW5nUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICAgIC8vIEZvciBwZXJzaXN0ZW50IHdvcmtmbG93czogd2FpdCAyIHNlY29uZHMgdGhlbiByZXNldCB0byBwZW5kaW5nXHJcbiAgICAgICAgICBhZGRMb2coYOKPsyBXYWl0aW5nIGZvciBuZXh0IHRyaWdnZXIuLi5gKTtcclxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBzZXRBbGxOb2Rlc1BlbmRpbmcoKTtcclxuICAgICAgICAgIH0sIDIwMDApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvLyBGb3Igb25lLXNob3Qgd29ya2Zsb3dzOiByZXNldCBleGVjdXRpb24gc3RhdGUgc28gUnVuIGJ1dHRvbiBzaG93cyBhZ2FpblxyXG4gICAgICAgICAgc2V0SXNFeGVjdXRpbmcoZmFsc2UpO1xyXG4gICAgICAgICAgc2V0SXNQYXVzZWQoZmFsc2UpO1xyXG4gICAgICAgICAgc2V0TGFzdFJlc3VsdCgnY29tcGxldGVkJyk7IC8vIFRyYWNrIHRoYXQgZXhlY3V0aW9uIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHlcclxuICAgICAgICAgIHNldFJldHJ5SW5mbyhudWxsKTsgLy8gQ2xlYXIgcmV0cnkgaW5mbyBvbiBzdWNjZXNzXHJcbiAgICAgICAgICBpZiAoc3NlQ2xlYW51cFJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgICAgIHNzZUNsZWFudXBSZWYuY3VycmVudCgpO1xyXG4gICAgICAgICAgICBzc2VDbGVhbnVwUmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBicmVhaztcclxuICAgICAgXHJcbiAgICAgIGNhc2UgJ2V4ZWN1dGlvbl9mYWlsZWQnOlxyXG4gICAgICAgIGFkZExvZyhgWyR7dGltZX1dIOKdjCBFeGVjdXRpb24gZmFpbGVkOiAke2V2ZW50LmVycm9yIHx8IGV2ZW50Lm1lc3NhZ2V9YCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGlzTW9uaXRvcmluZ1JlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgICAvLyBGb3IgcGVyc2lzdGVudCB3b3JrZmxvd3M6IHdhaXQgMiBzZWNvbmRzIHRoZW4gcmVzZXQgdG8gcGVuZGluZ1xyXG4gICAgICAgICAgYWRkTG9nKGDij7MgV2FpdGluZyBmb3IgbmV4dCB0cmlnZ2VyLi4uYCk7XHJcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgc2V0QWxsTm9kZXNQZW5kaW5nKCk7XHJcbiAgICAgICAgICB9LCAyMDAwKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gRm9yIG9uZS1zaG90IHdvcmtmbG93czogdHJhY2sgZmFpbHVyZSBmb3IgcmV0cnlcclxuICAgICAgICAgIHNldElzRXhlY3V0aW5nKGZhbHNlKTtcclxuICAgICAgICAgIHNldElzUGF1c2VkKGZhbHNlKTtcclxuICAgICAgICAgIHNldExhc3RSZXN1bHQoJ2ZhaWxlZCcpOyAvLyBUcmFjayB0aGF0IGV4ZWN1dGlvbiBmYWlsZWRcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gRmV0Y2ggcmV0cnkgaW5mbyBmb3IgdGhlIGZhaWxlZCBleGVjdXRpb25cclxuICAgICAgICAgIGNvbnN0IGZhaWxlZEV4ZWNJZCA9IGV2ZW50LmV4ZWN1dGlvbl9pZCB8fCBleGVjdXRpb25JZFJlZi5jdXJyZW50O1xyXG4gICAgICAgICAgaWYgKGZhaWxlZEV4ZWNJZCkge1xyXG4gICAgICAgICAgICBmZXRjaFJldHJ5SW5mbyhmYWlsZWRFeGVjSWQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZiAoc3NlQ2xlYW51cFJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgICAgIHNzZUNsZWFudXBSZWYuY3VycmVudCgpO1xyXG4gICAgICAgICAgICBzc2VDbGVhbnVwUmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBicmVhaztcclxuICAgICAgXHJcbiAgICAgIGNhc2UgJ2V4ZWN1dGlvbl9zdG9wcGVkJzpcclxuICAgICAgICBhZGRMb2coYFske3RpbWV9XSDij7nvuI8gU3RvcHBlZGApO1xyXG4gICAgICAgIHNldElzRXhlY3V0aW5nKGZhbHNlKTtcclxuICAgICAgICBzZXRJc01vbml0b3JpbmcoZmFsc2UpO1xyXG4gICAgICAgIGlzTW9uaXRvcmluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgICAgICAgc2V0TGFzdFJlc3VsdCgnc3RvcHBlZCcpOyAvLyBUcmFjayB0aGF0IGV4ZWN1dGlvbiB3YXMgc3RvcHBlZFxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEZldGNoIHJldHJ5IGluZm8gZm9yIHN0b3BwZWQgZXhlY3V0aW9uIChjYW4gYWxzbyBiZSByZXRyaWVkKVxyXG4gICAgICAgIGNvbnN0IHN0b3BwZWRFeGVjSWQgPSBldmVudC5leGVjdXRpb25faWQgfHwgZXhlY3V0aW9uSWRSZWYuY3VycmVudDtcclxuICAgICAgICBpZiAoc3RvcHBlZEV4ZWNJZCkge1xyXG4gICAgICAgICAgZmV0Y2hSZXRyeUluZm8oc3RvcHBlZEV4ZWNJZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHJlc2V0QWxsTm9kZVN0YXRlcygpOyAvLyBSZXR1cm4gdG8gaWRsZSB3aGVuIHN0b3BwZWRcclxuICAgICAgICBpZiAoc3NlQ2xlYW51cFJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgICBzc2VDbGVhbnVwUmVmLmN1cnJlbnQoKTtcclxuICAgICAgICAgIHNzZUNsZWFudXBSZWYuY3VycmVudCA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBcclxuICAgICAgY2FzZSAnaGVhcnRiZWF0JzpcclxuICAgICAgICAvLyBTaWxlbnQgaGVhcnRiZWF0XHJcbiAgICAgICAgY29uc29sZS5kZWJ1ZyhgSGVhcnRiZWF0IHJlY2VpdmVkIGZvciAke2V2ZW50LndvcmtmbG93X2lkIHx8IGV2ZW50LmV4ZWN1dGlvbl9pZH1gKTtcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBpc0V4ZWN1dGluZyxcclxuICAgIGlzUGF1c2VkLFxyXG4gICAgZXhlY3V0aW9uSWQsXHJcbiAgICBpc01vbml0b3JpbmcsXHJcbiAgICBsYXN0UmVzdWx0LFxyXG4gICAgcmV0cnlJbmZvLFxyXG4gICAgc2hvd1JldHJ5V2FybmluZyxcclxuICAgIHJldHJ5V2FybmluZ3MsXHJcbiAgICBoYW5kbGVSdW4sXHJcbiAgICBoYW5kbGVTdG9wLFxyXG4gICAgaGFuZGxlUGF1c2UsXHJcbiAgICBoYW5kbGVSZXN1bWUsXHJcbiAgICBoYW5kbGVSZXRyeSxcclxuICAgIGhhbmRsZVJldHJ5Rm9yY2UsXHJcbiAgICBoYW5kbGVSZXRyeUNhbmNlbCxcclxuICAgIGhhbmRsZVJlc3RhcnQsXHJcbiAgfTtcclxufVxyXG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VSZWYiLCJ1c2VFZmZlY3QiLCJleGVjdXRlV29ya2Zsb3ciLCJzdG9wV29ya2Zsb3ciLCJwYXVzZVdvcmtmbG93IiwicmVzdW1lV29ya2Zsb3ciLCJzdHJlYW1FeGVjdXRpb25FdmVudHMiLCJzdHJlYW1Xb3JrZmxvd0V2ZW50cyIsInJldHJ5RXhlY3V0aW9uIiwiZ2V0UmV0cnlJbmZvIiwiZ2V0QXBpQmFzZVVybCIsInRyaWdnZXJEb3dubG9hZCIsImRvd25sb2FkSW5mbyIsInRlbXBfZmlsZW5hbWUiLCJmaWxlbmFtZSIsIm1vZGUiLCJ1cmwiLCJhIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaHJlZiIsImRvd25sb2FkIiwiYm9keSIsImFwcGVuZENoaWxkIiwiY2xpY2siLCJzZXRUaW1lb3V0IiwicmVtb3ZlQ2hpbGQiLCJjb25zb2xlIiwibG9nIiwidXNlV29ya2Zsb3dFeGVjdXRpb24iLCJ3b3JrZmxvd0lkIiwiYWRkTG9nIiwidXBkYXRlTm9kZVN0YXRlIiwicmVzZXRBbGxOb2RlU3RhdGVzIiwic2V0QWxsTm9kZXNQZW5kaW5nIiwiaXNFeGVjdXRpbmciLCJzZXRJc0V4ZWN1dGluZyIsImlzUGF1c2VkIiwic2V0SXNQYXVzZWQiLCJleGVjdXRpb25JZCIsInNldEV4ZWN1dGlvbklkIiwiaXNNb25pdG9yaW5nIiwic2V0SXNNb25pdG9yaW5nIiwibGFzdFJlc3VsdCIsInNldExhc3RSZXN1bHQiLCJyZXRyeUluZm8iLCJzZXRSZXRyeUluZm8iLCJzaG93UmV0cnlXYXJuaW5nIiwic2V0U2hvd1JldHJ5V2FybmluZyIsInJldHJ5V2FybmluZ3MiLCJzZXRSZXRyeVdhcm5pbmdzIiwic3NlQ2xlYW51cFJlZiIsImlzTW9uaXRvcmluZ1JlZiIsImlzUmVjb3ZlcmluZ1N0YXRlUmVmIiwiZXhlY3V0aW9uSWRSZWYiLCJyZWNvdmVyU3RhdGUiLCJyZXNwb25zZSIsImZldGNoIiwiY3JlZGVudGlhbHMiLCJvayIsIndhcm4iLCJzdGF0dXMiLCJqc29uIiwiaXNBY3RpdmVNb25pdG9yaW5nIiwiaXNfbW9uaXRvcmluZyIsImN1cnJlbnQiLCJjb25uZWN0VG9Xb3JrZmxvd1N0cmVhbSIsInJ1bm5pbmdfZXhlY3V0aW9ucyIsImxhc3RfZXhlY3V0aW9uIiwibGFzdEV4ZWNJZCIsImV4ZWN1dGlvbl9pZCIsIndhc1BhdXNlZCIsImlzX3BhdXNlZCIsImV4ZWNSZXNwb25zZSIsImV4ZWNEYXRhIiwibm9kZV9yZXN1bHRzIiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsImVudHJpZXMiLCJmb3JFYWNoIiwibm9kZUlkIiwicmVzdWx0Iiwic3VjY2VzcyIsInVuZGVmaW5lZCIsIm91dHB1dHMiLCJwcmV2aWV3X2RhdGEiLCJtZXRhZGF0YSIsImNvbXBsZXRlZF9hdCIsImVycm9yIiwiY29ubmVjdFRvRXhlY3V0aW9uU3RyZWFtIiwiaGFuZGxlUnVuIiwiYWxlcnQiLCJ0cmlnZ2VyX2NvdW50IiwiaGFuZGxlU3RvcCIsImhhbmRsZVBhdXNlIiwiaGFuZGxlUmVzdW1lIiwiaGFuZGxlUmV0cnkiLCJmb3JjZSIsInJlcXVpcmVzX2NvbmZpcm1hdGlvbiIsIndhcm5pbmdzIiwic2tpcHBlZE5vZGVzIiwic2tpcHBlZF9ub2RlcyIsInNraXBwZWQiLCJtZXNzYWdlIiwic2tpcHBlZENvdW50IiwiaGFuZGxlUmV0cnlGb3JjZSIsImhhbmRsZVJldHJ5Q2FuY2VsIiwiaGFuZGxlUmVzdGFydCIsImZldGNoUmV0cnlJbmZvIiwiZXhlY0lkIiwiaW5mbyIsImRlYnVnIiwiY2xlYW51cCIsImV2ZW50IiwiaGFuZGxlU1NFRXZlbnQiLCJ3ZklkIiwidGltZSIsIkRhdGUiLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJ0eXBlIiwid29ya2Zsb3dfbmFtZSIsImlzUmV0cnkiLCJyZXRyeV9mcm9tIiwic3Vic3RyaW5nIiwibm9kZV9uYW1lIiwibm9kZV9pZCIsIl9kb3dubG9hZCIsImlucHV0cyIsImZhaWxlZEV4ZWNJZCIsInN0b3BwZWRFeGVjSWQiLCJ3b3JrZmxvd19pZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/editor-page/hooks/useWorkflowExecution.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/app/editor-page/nodes.css":
/*!***************************************!*\
  !*** ./src/app/editor-page/nodes.css ***!
  \***************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"08869906ae8d\");\nif (true) { module.hot.accept() }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvZWRpdG9yLXBhZ2Uvbm9kZXMuY3NzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRUFBZSxjQUFjO0FBQzdCLElBQUksSUFBVSxJQUFJLGlCQUFpQiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxuaWNob2xhcy5sZWVcXERvY3VtZW50c1xcelxcVGlja2V0aW5nX05pY2tcXFRpY2tldGluZ1xcdGF2X29wZW5zb3VyY2VcXHVpXFxzcmNcXGFwcFxcZWRpdG9yLXBhZ2VcXG5vZGVzLmNzcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcIjA4ODY5OTA2YWU4ZFwiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/editor-page/nodes.css\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/app/editor-page/page.tsx":
/*!**************************************!*\
  !*** ./src/app/editor-page/page.tsx ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ WorkflowEditor)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styled-jsx/style */ \"(app-pages-browser)/./node_modules/styled-jsx/style.js\");\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-dom */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/index.js\");\n/* harmony import */ var _lib_editor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/editor */ \"(app-pages-browser)/./src/lib/editor.ts\");\n/* harmony import */ var _NodeRenderer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./NodeRenderer */ \"(app-pages-browser)/./src/app/editor-page/NodeRenderer.tsx\");\n/* harmony import */ var _ConnectionsLayer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ConnectionsLayer */ \"(app-pages-browser)/./src/app/editor-page/ConnectionsLayer.tsx\");\n/* harmony import */ var _ConfigPanel__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ConfigPanel */ \"(app-pages-browser)/./src/app/editor-page/ConfigPanel.tsx\");\n/* harmony import */ var _hooks_useCanvasPanZoom__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./hooks/useCanvasPanZoom */ \"(app-pages-browser)/./src/app/editor-page/hooks/useCanvasPanZoom.ts\");\n/* harmony import */ var _hooks_useWorkflowExecution__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./hooks/useWorkflowExecution */ \"(app-pages-browser)/./src/app/editor-page/hooks/useWorkflowExecution.ts\");\n/* harmony import */ var _hooks_useGridSettings__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./hooks/useGridSettings */ \"(app-pages-browser)/./src/app/editor-page/hooks/useGridSettings.ts\");\n/* harmony import */ var _lib_hooks_useUndoableState__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/lib/hooks/useUndoableState */ \"(app-pages-browser)/./src/lib/hooks/useUndoableState.tsx\");\n/* harmony import */ var _utils_nodeUtils__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./utils/nodeUtils */ \"(app-pages-browser)/./src/app/editor-page/utils/nodeUtils.ts\");\n/* harmony import */ var _nodes_css__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./nodes.css */ \"(app-pages-browser)/./src/app/editor-page/nodes.css\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction WorkflowEditorInner() {\n    _s();\n    const viewportRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const logBodyRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const logPanelRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    // URL params for workflow ID\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_3__.useSearchParams)();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_3__.useRouter)();\n    // UI State\n    const [isSidebarCollapsed, setIsSidebarCollapsed] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [isConfigPanelOpen, setIsConfigPanelOpen] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [isLogCollapsed, setIsLogCollapsed] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [logHeight, setLogHeight] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(200);\n    const [searchTerm, setSearchTerm] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [isResizing, setIsResizing] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [logs, setLogs] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [collapsedCategories, setCollapsedCategories] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(new Set());\n    // Normalize category keys for stable comparisons (trim + lowercase)\n    const normCategory = (s)=>(s || '').toString().trim().toLowerCase();\n    const [isFullscreen, setIsFullscreen] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [zoomLevel, setZoomLevel] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(100);\n    const [showMinimap, setShowMinimap] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [minimapViewport, setMinimapViewport] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({\n        x: 0,\n        y: 0,\n        width: 0,\n        height: 0\n    });\n    const [isDraggingMinimap, setIsDraggingMinimap] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    // Workflow State\n    const [workflowId, setWorkflowId] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [workflowName, setWorkflowName] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"Untitled Workflow\");\n    const [workflowDescription, setWorkflowDescription] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [nodes, setNodes] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [connections, setConnections] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [isDirty, setIsDirty] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    // Node definitions from backend\n    const [nodeDefinitions, setNodeDefinitions] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    // Canvas rendering state (using node_id and node_type to match backend)\n    const [canvasNodes, setCanvasNodes] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [canvasObjects, setCanvasObjects] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]); // Groups and text annotations\n    const [selectedNode, setSelectedNode] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [selectedNodes, setSelectedNodes] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(new Set());\n    const [selectedObject, setSelectedObject] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null); // Selected group/text\n    // Clipboard for copy/paste (stores deep-cloned nodes + internal connections)\n    const clipboardRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const pasteOffsetRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(0); // increases on repeated pastes to offset placement\n    const [editingText, setEditingText] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null); // ID of text being edited\n    const [resizingGroup, setResizingGroup] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [draggedNode, setDraggedNode] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [dragOffset, setDragOffset] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({\n        x: 0,\n        y: 0\n    });\n    const [isDraggingNode, setIsDraggingNode] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [isDraggingGroup, setIsDraggingGroup] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [isDraggingObject, setIsDraggingObject] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false); // Dragging group/text\n    const [groupDragStart, setGroupDragStart] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [groupDragOffsets, setGroupDragOffsets] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(new Map());\n    const [selectionBox, setSelectionBox] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [contextMenu, setContextMenu] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [nodeContextMenu, setNodeContextMenu] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [tempConnection, setTempConnection] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    // Track sidebar node placement for staircase effect\n    const [sidebarNodeCount, setSidebarNodeCount] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(0);\n    const prevViewportScroll = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)({\n        left: 0,\n        top: 0\n    });\n    const [nodeStates, setNodeStates] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({});\n    const [nodeExecutionData, setNodeExecutionData] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({});\n    // Helper to update node state\n    const updateNodeState = (nodeId, status, error, previewData, fullExecutionData)=>{\n        setNodeStates((prev)=>{\n            const newStates = {\n                ...prev,\n                [nodeId]: {\n                    status,\n                    error,\n                    previewData\n                }\n            };\n            return newStates;\n        });\n        // Store full execution data if provided\n        if (fullExecutionData) {\n            setNodeExecutionData((prev)=>({\n                    ...prev,\n                    [nodeId]: fullExecutionData\n                }));\n        }\n    };\n    // Helper to reset all node states\n    const resetAllNodeStates = ()=>{\n        // Instead of wiping all states, preserve preview data for output nodes\n        const resetStates = {};\n        canvasNodes.forEach((node)=>{\n            const oldState = nodeStates[node.node_id];\n            const shouldPreservePreview = node.category === 'output' || node.node_type?.includes('display');\n            if (shouldPreservePreview && oldState?.previewData) {\n                // Keep preview data but remove status (back to idle)\n                resetStates[node.node_id] = {\n                    status: 'idle',\n                    previewData: oldState.previewData\n                };\n            } else if (oldState?.status === 'failed') {\n                // Reset failed nodes to idle explicitly\n                resetStates[node.node_id] = {\n                    status: 'idle'\n                };\n            }\n        // Other nodes just get cleared (no entry = idle)\n        });\n        setNodeStates(resetStates);\n    };\n    // Helper to set all nodes to pending state\n    const setAllNodesPending = ()=>{\n        const pendingStates = {};\n        canvasNodes.forEach((node)=>{\n            // Preserve preview data for output/display nodes\n            const oldState = nodeStates[node.node_id];\n            const shouldPreservePreview = node.category === 'output' || node.node_type?.includes('display');\n            pendingStates[node.node_id] = {\n                status: 'pending',\n                // Keep previous preview data if this is an output/display node\n                ...shouldPreservePreview && oldState?.previewData ? {\n                    previewData: oldState.previewData\n                } : {}\n            };\n        });\n        setNodeStates(pendingStates);\n    };\n    // Modals & Data\n    const [showLoadModal, setShowLoadModal] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [showSaveAsModal, setShowSaveAsModal] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [showLoadFromFileModal, setShowLoadFromFileModal] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [showSaveOptionsModal, setShowSaveOptionsModal] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [showLoadOptionsModal, setShowLoadOptionsModal] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [saveMode, setSaveMode] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)('save');\n    const [availableWorkflows, setAvailableWorkflows] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [nodeCategories, setNodeCategories] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [confirmClear, setConfirmClear] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const clearButtonRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    // Custom hooks\n    const gridSettings = (0,_hooks_useGridSettings__WEBPACK_IMPORTED_MODULE_11__.useGridSettings)();\n    const canvasPanZoom = (0,_hooks_useCanvasPanZoom__WEBPACK_IMPORTED_MODULE_9__.useCanvasPanZoom)(viewportRef, {\n        gridSize: gridSettings.gridSize,\n        gridOpacity: gridSettings.gridOpacity,\n        enableGrid: gridSettings.enableGrid\n    }, {\n        \"WorkflowEditorInner.useCanvasPanZoom[canvasPanZoom]\": (scale)=>{\n            // Update zoom level when canvas scale changes (from wheel or buttons)\n            setZoomLevel(Math.round(scale * 100));\n        }\n    }[\"WorkflowEditorInner.useCanvasPanZoom[canvasPanZoom]\"]);\n    const execution = (0,_hooks_useWorkflowExecution__WEBPACK_IMPORTED_MODULE_10__.useWorkflowExecution)(workflowId, addLog, updateNodeState, resetAllNodeStates, setAllNodesPending);\n    // Undo / redo support (patch-based via immer)\n    const deepClone = (obj)=>typeof structuredClone === 'function' ? structuredClone(obj) : JSON.parse(JSON.stringify(obj));\n    const getSnapshot = ()=>({\n            canvasNodes: deepClone(canvasNodes),\n            connections: deepClone(connections),\n            canvasObjects: deepClone(canvasObjects),\n            selectedNode\n        });\n    const { present, pushProducer, pushSnapshot, replace: replaceSnapshot, undo, redo, canUndo, canRedo } = (0,_lib_hooks_useUndoableState__WEBPACK_IMPORTED_MODULE_12__.useUndoableState)(getSnapshot(), 200);\n    // Track whether we're in an undo/redo operation\n    const isUndoRedoOperation = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(false);\n    // Keep UI in sync with present (ensures UI updates when undo/redo happen)\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"WorkflowEditorInner.useEffect\": ()=>{\n            const p = present;\n            if (!p) return;\n            setCanvasNodes(p.canvasNodes || []);\n            setConnections(p.connections || []);\n            setCanvasObjects(p.canvasObjects || []);\n            // Only reset selectedNode during undo/redo, not during regular updates\n            if (isUndoRedoOperation.current) {\n                setSelectedNode(p.selectedNode ?? null);\n                isUndoRedoOperation.current = false;\n            }\n        }\n    }[\"WorkflowEditorInner.useEffect\"], [\n        present\n    ]);\n    // Initialize history on mount\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"WorkflowEditorInner.useEffect\": ()=>{\n            replaceSnapshot(getSnapshot());\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        }\n    }[\"WorkflowEditorInner.useEffect\"], []);\n    // Handle log panel resize\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"WorkflowEditorInner.useEffect\": ()=>{\n            const handleMouseMove = {\n                \"WorkflowEditorInner.useEffect.handleMouseMove\": (e)=>{\n                    if (!isResizing || !logPanelRef.current) return;\n                    const rect = logPanelRef.current.getBoundingClientRect();\n                    const newHeight = rect.bottom - e.clientY;\n                    const minHeight = 32;\n                    const maxHeight = window.innerHeight * 0.6;\n                    const constrainedHeight = Math.max(minHeight, Math.min(maxHeight, newHeight));\n                    setLogHeight(constrainedHeight);\n                }\n            }[\"WorkflowEditorInner.useEffect.handleMouseMove\"];\n            const handleMouseUp = {\n                \"WorkflowEditorInner.useEffect.handleMouseUp\": ()=>{\n                    setIsResizing(false);\n                    document.body.style.cursor = \"\";\n                    document.body.style.userSelect = \"\";\n                }\n            }[\"WorkflowEditorInner.useEffect.handleMouseUp\"];\n            if (isResizing) {\n                document.addEventListener(\"mousemove\", handleMouseMove);\n                document.addEventListener(\"mouseup\", handleMouseUp);\n                document.body.style.cursor = \"ns-resize\";\n                document.body.style.userSelect = \"none\";\n            }\n            return ({\n                \"WorkflowEditorInner.useEffect\": ()=>{\n                    document.removeEventListener(\"mousemove\", handleMouseMove);\n                    document.removeEventListener(\"mouseup\", handleMouseUp);\n                }\n            })[\"WorkflowEditorInner.useEffect\"];\n        }\n    }[\"WorkflowEditorInner.useEffect\"], [\n        isResizing\n    ]);\n    const handleResizeStart = (e)=>{\n        e.preventDefault();\n        setIsResizing(true);\n    };\n    // Load nodes on mount\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"WorkflowEditorInner.useEffect\": ()=>{\n            loadNodes();\n        }\n    }[\"WorkflowEditorInner.useEffect\"], []);\n    // Load workflow from URL if workflow ID is present\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"WorkflowEditorInner.useEffect\": ()=>{\n            const urlWorkflowId = searchParams.get('workflow');\n            if (urlWorkflowId && urlWorkflowId !== workflowId) {\n                loadWorkflowById(urlWorkflowId);\n            }\n        }\n    }[\"WorkflowEditorInner.useEffect\"], [\n        searchParams\n    ]);\n    async function loadNodes() {\n        try {\n            const response = await (0,_lib_editor__WEBPACK_IMPORTED_MODULE_5__.fetchNodeDefinitions)();\n            const categories = (0,_utils_nodeUtils__WEBPACK_IMPORTED_MODULE_13__.groupNodesByCategory)(response.nodes || []);\n            setNodeCategories(categories);\n            setNodeDefinitions(response.nodes || []); // Store all node definitions\n            addLog(` Loaded ${response.nodes?.length || 0} nodes from backend`);\n        } catch (error) {\n            console.error('Failed to load nodes:', error);\n            addLog(` Failed to load nodes: ${error}`);\n            setNodeCategories((0,_utils_nodeUtils__WEBPACK_IMPORTED_MODULE_13__.getDummyCategories)());\n        }\n    }\n    // ==================== Workflow CRUD ====================\n    // Helper function to generate UUID\n    const generateUUID = ()=>{\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n            const r = Math.random() * 16 | 0;\n            const v = c === 'x' ? r : r & 0x3 | 0x8;\n            return v.toString(16);\n        });\n    };\n    // Helper to generate workflow data for saving\n    const getWorkflowData = (id)=>{\n        const workflowNodes = canvasNodes.map((node)=>({\n                node_id: node.node_id,\n                node_type: node.node_type,\n                name: node.name,\n                category: node.category,\n                position: node.position,\n                input_ports: (node.inputs || []).map((port)=>({\n                        name: port.id,\n                        type: port.type,\n                        display_name: port.label,\n                        description: port.description || '',\n                        required: port.required !== false\n                    })),\n                output_ports: (node.outputs || []).map((port)=>({\n                        name: port.id,\n                        type: port.type,\n                        display_name: port.label,\n                        description: port.description || '',\n                        required: port.required !== false\n                    })),\n                config: node.config || {},\n                status: node.status || 'idle',\n                icon: node.icon,\n                share_output_to_variables: node.share_output_to_variables || false,\n                variable_name: node.variable_name || undefined,\n                flipped: node.flipped || false\n            }));\n        const workflowConnections = connections.map((conn)=>({\n                connection_id: conn.connection_id || conn.id,\n                source_node_id: conn.source.node_id,\n                source_port: conn.source.port_id,\n                target_node_id: conn.target.node_id,\n                target_port: conn.target.port_id\n            }));\n        return {\n            id: id || workflowId || generateUUID(),\n            name: workflowName,\n            description: workflowDescription,\n            nodes: workflowNodes,\n            connections: workflowConnections,\n            canvas_objects: canvasObjects || [] // Include canvas objects\n        };\n    };\n    // Download workflow as JSON file\n    const handleDownloadJSON = ()=>{\n        const data = getWorkflowData();\n        const jsonStr = JSON.stringify(data, null, 2);\n        const blob = new Blob([\n            jsonStr\n        ], {\n            type: 'application/json'\n        });\n        const url = URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = `${workflowName.replace(/[^a-z0-9]/gi, '_').toLowerCase()}.json`;\n        document.body.appendChild(a);\n        a.click();\n        document.body.removeChild(a);\n        URL.revokeObjectURL(url);\n        addLog(` Downloaded workflow as JSON: ${a.download}`);\n    };\n    // Load workflow from JSON file\n    const handleLoadFromFile = (event)=>{\n        const file = event.target.files?.[0];\n        if (!file) return;\n        const reader = new FileReader();\n        reader.onload = (e)=>{\n            try {\n                const json = JSON.parse(e.target?.result);\n                loadWorkflowFromData(json);\n                setShowLoadFromFileModal(false);\n                addLog(` Loaded workflow from file: ${file.name}`);\n            } catch (error) {\n                addLog(` Failed to parse JSON file: ${error}`);\n                alert('Failed to parse JSON file. Please ensure it\\'s a valid workflow file.');\n            }\n        };\n        reader.readAsText(file);\n    };\n    // Load workflow from data object\n    const loadWorkflowFromData = (workflow)=>{\n        // When loading from file, we should treat it as a new draft but preserve the ID\n        // until the user saves it. However, if we want to run it, we need an ID.\n        // Let's generate a new ID if one isn't present, or use the imported one.\n        // Important: We mark it as dirty so auto-save will pick it up if they run it.\n        // Check if we should generate a new ID to avoid collisions unless it's a direct load\n        // For now, trust the ID from the file, but maybe we should clear it if we want to force \"Save As\"?\n        // The user said: \"When I import a json ... I need to save as first\".\n        // This implies the imported JSON might have an ID but it's not \"saved\" in the backend yet.\n        setWorkflowId(workflow.id); // This ID might not exist in backend yet!\n        setWorkflowName(workflow.name);\n        setWorkflowDescription(workflow.description || \"\");\n        setNodes(workflow.nodes);\n        const convertedConnections = workflow.connections.map((conn)=>({\n                id: conn.connection_id || conn.id,\n                connection_id: conn.connection_id || conn.id,\n                source: {\n                    node_id: conn.source_node_id,\n                    port_id: conn.source_port\n                },\n                target: {\n                    node_id: conn.target_node_id,\n                    port_id: conn.target_port\n                }\n            }));\n        setConnections(convertedConnections);\n        const canvas = workflow.nodes.map((node)=>({\n                node_id: node.node_id,\n                node_type: node.node_type,\n                name: node.name || node.node_type,\n                category: node.category || 'default',\n                position: node.position || {\n                    x: 100,\n                    y: 100\n                },\n                inputs: (node.input_ports || []).filter((port)=>port && port.name).map((port)=>({\n                        id: port.name,\n                        label: port.display_name || port.name,\n                        type: port.type || 'universal',\n                        description: port.description || '',\n                        required: port.required !== false\n                    })),\n                outputs: (node.output_ports || []).filter((port)=>port && port.name).map((port)=>({\n                        id: port.name,\n                        label: port.display_name || port.name,\n                        type: port.type || 'universal',\n                        description: port.description || '',\n                        required: port.required !== false\n                    })),\n                config: node.config || {},\n                status: 'idle',\n                icon: node.icon,\n                share_output_to_variables: node.share_output_to_variables || false,\n                variable_name: node.variable_name || undefined,\n                flipped: node.flipped || false\n            }));\n        setCanvasNodes(canvas);\n        // Load canvas objects (groups and text annotations)\n        setCanvasObjects(workflow.canvas_objects || []);\n        // Mark as dirty so it gets saved on next run or auto-save\n        // If we mark it as dirty, the auto-save effect will kick in after 1s and save it to backend.\n        // This solves the \"I need to save as first\" problem.\n        setIsDirty(true);\n        setSidebarNodeCount(0);\n    };\n    // Handle \"Save As\" with name/description prompt\n    const handleSaveAs = ()=>{\n        setSaveMode('save_as');\n        setShowSaveAsModal(true);\n    };\n    // Handle \"Save a Copy\" with auto-incremented name\n    const handleSaveCopy = async ()=>{\n        try {\n            // Find an available name with (N) suffix\n            let copyNumber = 1;\n            let newName = `${workflowName} (${copyNumber})`;\n            // Check if name exists\n            const workflows = await (0,_lib_editor__WEBPACK_IMPORTED_MODULE_5__.listWorkflows)();\n            const existingNames = new Set(workflows.map((w)=>w.name));\n            while(existingNames.has(newName)){\n                copyNumber++;\n                newName = `${workflowName} (${copyNumber})`;\n            }\n            const newId = generateUUID();\n            const workflowData = getWorkflowData(newId);\n            workflowData.name = newName;\n            addLog(`Saving copy: ${newName}...`);\n            const created = await (0,_lib_editor__WEBPACK_IMPORTED_MODULE_5__.createWorkflow)(workflowData);\n            setWorkflowId(created.id);\n            setWorkflowName(newName);\n            // Update URL with new workflow ID\n            router.push(`/editor-page?workflow=${created.id}`);\n            setIsDirty(false);\n            addLog(` Created copy: ${newName}`);\n        } catch (error) {\n            addLog(` Save copy failed: ${error}`);\n            console.error('Save copy error:', error);\n        }\n    };\n    // Confirm and execute save from modal\n    const confirmSaveAs = async (newName, newDescription)=>{\n        try {\n            const newId = generateUUID();\n            const workflowData = getWorkflowData(newId);\n            workflowData.name = newName;\n            workflowData.description = newDescription;\n            addLog(`Saving as: ${newName}...`);\n            const created = await (0,_lib_editor__WEBPACK_IMPORTED_MODULE_5__.createWorkflow)(workflowData);\n            setWorkflowId(created.id);\n            setWorkflowName(newName);\n            setWorkflowDescription(newDescription);\n            // Update URL with new workflow ID\n            router.push(`/editor-page?workflow=${created.id}`);\n            setIsDirty(false);\n            setShowSaveAsModal(false);\n            addLog(` Saved as: ${newName}`);\n        } catch (error) {\n            addLog(` Save as failed: ${error}`);\n            console.error('Save as error:', error);\n        }\n    };\n    async function handleSave(isAutoSave = false) {\n        try {\n            if (!isAutoSave) {\n                addLog(`Saving workflow: ${workflowName}...`);\n            }\n            const workflowData = getWorkflowData(workflowId || undefined);\n            console.log('Saving workflow:', workflowData.id);\n            if (workflowId) {\n                // Update existing workflow\n                await (0,_lib_editor__WEBPACK_IMPORTED_MODULE_5__.updateWorkflow)(workflowId, workflowData);\n                // Update URL with workflow ID (in case it was loaded without URL parameter)\n                router.push(`/editor-page?workflow=${workflowId}`);\n                if (!isAutoSave) {\n                    addLog(` Updated: ${workflowName}`);\n                }\n            } else {\n                // Create new workflow\n                const created = await (0,_lib_editor__WEBPACK_IMPORTED_MODULE_5__.createWorkflow)(workflowData);\n                setWorkflowId(created.id);\n                // Update URL with workflow ID\n                router.push(`/editor-page?workflow=${created.id}`);\n                if (!isAutoSave) {\n                    addLog(` Created: ${workflowName} (${created.id})`);\n                }\n            }\n            setIsDirty(false);\n        } catch (error) {\n            if (!isAutoSave) {\n                addLog(` Save failed: ${error}`);\n            }\n            console.error('Save error:', error);\n        }\n    }\n    // Auto-save effect\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"WorkflowEditorInner.useEffect\": ()=>{\n            if (isDirty) {\n                const timer = setTimeout({\n                    \"WorkflowEditorInner.useEffect.timer\": ()=>{\n                        handleSave(true);\n                    }\n                }[\"WorkflowEditorInner.useEffect.timer\"], 1000);\n                return ({\n                    \"WorkflowEditorInner.useEffect\": ()=>clearTimeout(timer)\n                })[\"WorkflowEditorInner.useEffect\"];\n            }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        }\n    }[\"WorkflowEditorInner.useEffect\"], [\n        isDirty,\n        canvasNodes,\n        connections,\n        workflowName,\n        workflowDescription,\n        workflowId,\n        canvasObjects\n    ]);\n    async function handleLoad() {\n        try {\n            const workflows = await (0,_lib_editor__WEBPACK_IMPORTED_MODULE_5__.listWorkflows)();\n            setAvailableWorkflows(workflows);\n            setShowLoadModal(true);\n            addLog(` Found ${workflows.length} workflows`);\n        } catch (error) {\n            addLog(` Load failed: ${error}`);\n        }\n    }\n    async function loadWorkflowById(id) {\n        try {\n            const workflow = await (0,_lib_editor__WEBPACK_IMPORTED_MODULE_5__.getWorkflow)(id);\n            setWorkflowId(workflow.id);\n            setWorkflowName(workflow.name);\n            setWorkflowDescription(workflow.description || \"\");\n            setNodes(workflow.nodes);\n            // Convert connections from backend format to frontend format\n            const convertedConnections = workflow.connections.map((conn)=>({\n                    id: conn.connection_id || conn.id,\n                    connection_id: conn.connection_id || conn.id,\n                    source: {\n                        node_id: conn.source_node_id,\n                        port_id: conn.source_port\n                    },\n                    target: {\n                        node_id: conn.target_node_id,\n                        port_id: conn.target_port\n                    }\n                }));\n            setConnections(convertedConnections);\n            // Backend returns node_id and node_type - use them as-is\n            const canvas = workflow.nodes.map((node)=>({\n                    node_id: node.node_id,\n                    node_type: node.node_type,\n                    name: node.name || node.node_type,\n                    category: node.category || 'default',\n                    position: node.position || {\n                        x: 100,\n                        y: 100\n                    },\n                    // Convert backend port format to frontend format\n                    inputs: (node.input_ports || []).filter((port)=>port && port.name) // Filter out invalid ports\n                    .map((port)=>({\n                            id: port.name,\n                            label: port.display_name || port.name,\n                            type: port.type || 'universal',\n                            description: port.description || '',\n                            required: port.required !== false\n                        })),\n                    outputs: (node.output_ports || []).filter((port)=>port && port.name) // Filter out invalid ports\n                    .map((port)=>({\n                            id: port.name,\n                            label: port.display_name || port.name,\n                            type: port.type || 'universal',\n                            description: port.description || '',\n                            required: port.required !== false\n                        })),\n                    config: node.config || {},\n                    status: 'idle',\n                    icon: node.icon,\n                    share_output_to_variables: node.share_output_to_variables || false,\n                    variable_name: node.variable_name || undefined,\n                    flipped: node.flipped || false //  Load flipped state\n                }));\n            setIsDirty(false);\n            setShowLoadModal(false);\n            setSidebarNodeCount(0); // Reset staircase counter for loaded workflows\n            // Update URL with workflow ID\n            router.push(`/editor-page?workflow=${workflow.id}`);\n            setCanvasNodes(canvas);\n            setCanvasObjects(workflow.canvas_objects || []); // Load canvas objects\n            // Replace undo history with this loaded workflow snapshot\n            replaceSnapshot({\n                canvasNodes: canvas,\n                connections: convertedConnections,\n                canvasObjects: workflow.canvas_objects || [],\n                selectedNode: null\n            });\n            addLog(` Loaded: ${workflow.name}`);\n        } catch (error) {\n            addLog(` Failed to load: ${error}`);\n        }\n    }\n    function handleClear(allowUndo = false) {\n        setWorkflowId(null);\n        setWorkflowName('Untitled Workflow');\n        setWorkflowDescription('');\n        setNodes([]);\n        if (allowUndo) {\n            // Use a producer to record the clear action so it can be undone\n            pushProducer((draft)=>{\n                draft.canvasNodes = [];\n                draft.connections = [];\n                draft.canvasObjects = [];\n                draft.selectedNode = null;\n            });\n            // Remove focus from Clear button so subsequent Ctrl+Z triggers undo rather than another clear\n            if (clearButtonRef.current) clearButtonRef.current.blur();\n        } else {\n            setConnections([]);\n            setCanvasNodes([]);\n            setCanvasObjects([]);\n        }\n        setSidebarNodeCount(0); // Reset staircase counter\n        setIsDirty(false);\n        setLogs([]);\n        // Clear URL by navigating to editor page without workflow parameter\n        router.push('/editor-page');\n        addLog(' Cleared');\n        // If we didn't allow undo, replace the snapshot (reset history). Otherwise, we've pushed a patch and clear will be undoable.\n        if (!allowUndo) {\n            replaceSnapshot({\n                canvasNodes: [],\n                connections: [],\n                canvasObjects: [],\n                selectedNode: null\n            });\n        }\n    }\n    const handleClearClick = (e)=>{\n        e.stopPropagation();\n        if (confirmClear) {\n            handleClear(true);\n            setConfirmClear(false);\n        } else {\n            setConfirmClear(true);\n        }\n    };\n    // ==================== Canvas Node Interaction ====================\n    // ==================== Canvas Objects (Groups & Text) ====================\n    function createGroup(x, y) {\n        const newGroup = {\n            id: generateUUID(),\n            type: 'group',\n            position: {\n                x,\n                y\n            },\n            size: {\n                width: 400,\n                height: 300\n            },\n            color: '#fef3c7',\n            title: 'New Group',\n            zIndex: -1\n        };\n        pushProducer((draft)=>{\n            draft.canvasObjects = [\n                ...draft.canvasObjects || [],\n                newGroup\n            ];\n        });\n        setIsDirty(true);\n        addLog(` Added group: ${newGroup.title}`);\n        return newGroup.id;\n    }\n    function createTextAnnotation(x, y) {\n        const newText = {\n            id: generateUUID(),\n            type: 'text',\n            position: {\n                x,\n                y\n            },\n            content: 'Type here...',\n            fontSize: 16,\n            color: '#374151',\n            zIndex: 0\n        };\n        pushProducer((draft)=>{\n            draft.canvasObjects = [\n                ...draft.canvasObjects || [],\n                newText\n            ];\n        });\n        setIsDirty(true);\n        addLog(` Added text annotation`);\n        // Automatically start editing the new text\n        setTimeout(()=>{\n            setEditingText(newText.id);\n            setSelectedObject(newText.id);\n        }, 0);\n        return newText.id;\n    }\n    function deleteCanvasObject(objectId) {\n        const obj = canvasObjects.find((o)=>o.id === objectId);\n        pushProducer((draft)=>{\n            draft.canvasObjects = (draft.canvasObjects || []).filter((o)=>o.id !== objectId);\n        });\n        setIsDirty(true);\n        addLog(` Deleted ${obj?.type || 'object'}`);\n        if (selectedObject === objectId) {\n            setSelectedObject(null);\n        }\n    }\n    function updateCanvasObject(objectId, updates) {\n        pushProducer((draft)=>{\n            draft.canvasObjects = (draft.canvasObjects || []).map((o)=>o.id === objectId ? {\n                    ...o,\n                    ...updates\n                } : o);\n        });\n        setIsDirty(true);\n    }\n    function handleObjectDragStart(objectId, e) {\n        e.stopPropagation();\n        setIsDraggingObject(true);\n        setSelectedObject(objectId);\n        const obj = canvasObjects.find((o)=>o.id === objectId);\n        if (obj && viewportRef.current) {\n            const scale = canvasPanZoom.scale || 1;\n            const canvasRect = viewportRef.current.getBoundingClientRect();\n            const scrollLeft = viewportRef.current.scrollLeft;\n            const scrollTop = viewportRef.current.scrollTop;\n            const canvasX = (e.clientX - canvasRect.left + scrollLeft) / scale;\n            const canvasY = (e.clientY - canvasRect.top + scrollTop) / scale;\n            setDragOffset({\n                x: canvasX - obj.position.x,\n                y: canvasY - obj.position.y\n            });\n        }\n    }\n    function handleObjectDrag(e) {\n        if (!isDraggingObject || !selectedObject || !viewportRef.current) return;\n        const scale = canvasPanZoom.scale || 1;\n        const canvasRect = viewportRef.current.getBoundingClientRect();\n        const scrollLeft = viewportRef.current.scrollLeft;\n        const scrollTop = viewportRef.current.scrollTop;\n        const canvasX = (e.clientX - canvasRect.left + scrollLeft) / scale;\n        const canvasY = (e.clientY - canvasRect.top + scrollTop) / scale;\n        const x = canvasX - dragOffset.x;\n        const y = canvasY - dragOffset.y;\n        setCanvasObjects((prev)=>prev.map((o)=>o.id === selectedObject ? {\n                    ...o,\n                    position: {\n                        x,\n                        y\n                    }\n                } : o));\n        setIsDirty(true);\n    }\n    function handleObjectDragEnd() {\n        if (isDraggingObject && selectedObject) {\n            const obj = canvasObjects.find((o)=>o.id === selectedObject);\n            if (obj) {\n                pushProducer((draft)=>{\n                    const dobj = (draft.canvasObjects || []).find((o)=>o.id === selectedObject);\n                    if (dobj) dobj.position = {\n                        ...obj.position\n                    };\n                });\n            }\n        }\n        setIsDraggingObject(false);\n    }\n    // Group resizing\n    function handleGroupResizeStart(groupId, handle, e) {\n        e.stopPropagation();\n        const group = canvasObjects.find((o)=>o.id === groupId && o.type === 'group');\n        if (!group || !viewportRef.current) return;\n        const scale = canvasPanZoom.scale || 1;\n        const canvasRect = viewportRef.current.getBoundingClientRect();\n        const scrollLeft = viewportRef.current.scrollLeft;\n        const scrollTop = viewportRef.current.scrollTop;\n        const canvasX = (e.clientX - canvasRect.left + scrollLeft) / scale;\n        const canvasY = (e.clientY - canvasRect.top + scrollTop) / scale;\n        setResizingGroup({\n            id: groupId,\n            handle,\n            startX: canvasX,\n            startY: canvasY,\n            startSize: {\n                ...group.size\n            },\n            startPos: {\n                ...group.position\n            }\n        });\n    }\n    function handleGroupResize(e) {\n        if (!resizingGroup || !viewportRef.current) return;\n        const scale = canvasPanZoom.scale || 1;\n        const canvasRect = viewportRef.current.getBoundingClientRect();\n        const scrollLeft = viewportRef.current.scrollLeft;\n        const scrollTop = viewportRef.current.scrollTop;\n        const canvasX = (e.clientX - canvasRect.left + scrollLeft) / scale;\n        const canvasY = (e.clientY - canvasRect.top + scrollTop) / scale;\n        const deltaX = canvasX - resizingGroup.startX;\n        const deltaY = canvasY - resizingGroup.startY;\n        const handle = resizingGroup.handle;\n        let newSize = {\n            ...resizingGroup.startSize\n        };\n        let newPos = {\n            ...resizingGroup.startPos\n        };\n        // Handle different resize directions\n        if (handle.includes('e')) {\n            newSize.width = Math.max(200, resizingGroup.startSize.width + deltaX);\n        }\n        if (handle.includes('w')) {\n            const newWidth = Math.max(200, resizingGroup.startSize.width - deltaX);\n            if (newWidth > 200) {\n                newPos.x = resizingGroup.startPos.x + deltaX;\n                newSize.width = newWidth;\n            }\n        }\n        if (handle.includes('s')) {\n            newSize.height = Math.max(150, resizingGroup.startSize.height + deltaY);\n        }\n        if (handle.includes('n')) {\n            const newHeight = Math.max(150, resizingGroup.startSize.height - deltaY);\n            if (newHeight > 150) {\n                newPos.y = resizingGroup.startPos.y + deltaY;\n                newSize.height = newHeight;\n            }\n        }\n        setCanvasObjects((prev)=>prev.map((o)=>o.id === resizingGroup.id ? {\n                    ...o,\n                    size: newSize,\n                    position: newPos\n                } : o));\n    }\n    function handleGroupResizeEnd() {\n        if (resizingGroup) {\n            const group = canvasObjects.find((o)=>o.id === resizingGroup.id);\n            if (group) {\n                pushProducer((draft)=>{\n                    const dobj = (draft.canvasObjects || []).find((o)=>o.id === resizingGroup.id);\n                    if (dobj) {\n                        dobj.size = {\n                            ...group.size\n                        };\n                        dobj.position = {\n                            ...group.position\n                        };\n                    }\n                });\n            }\n        }\n        setResizingGroup(null);\n    }\n    function addNodeToCanvas(nodeType, nodeName, category, position, icon, inputPorts, outputPorts) {\n        // Generate UUID matching backend format\n        const generateUUID = ()=>{\n            return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n                const r = Math.random() * 16 | 0;\n                const v = c === 'x' ? r : r & 0x3 | 0x8;\n                return v.toString(16);\n            });\n        };\n        const newNode = {\n            node_id: generateUUID(),\n            node_type: nodeType,\n            name: nodeName,\n            category: category,\n            position: position,\n            // Convert API port format to UI format\n            inputs: (inputPorts || []).map((port)=>({\n                    id: port.name,\n                    label: port.display_name || port.name,\n                    type: port.type,\n                    required: port.required || false\n                })),\n            outputs: (outputPorts || []).map((port)=>({\n                    id: port.name,\n                    label: port.display_name || port.name,\n                    type: port.type\n                })),\n            config: {},\n            status: 'idle',\n            icon: icon\n        };\n        // Use pushProducer so the change is applied with patches and recorded\n        pushProducer((draft)=>{\n            draft.canvasNodes = [\n                ...draft.canvasNodes || [],\n                newNode\n            ];\n        });\n        setIsDirty(true);\n        addLog(` Added: ${nodeName}`);\n    }\n    function handleNodeSelect(nodeId, event) {\n        // Only open config if we weren't just dragging\n        if (!isDraggingNode && !isDraggingGroup) {\n            // Check if Ctrl/Cmd is held for multi-selection\n            if (event && (event.ctrlKey || event.metaKey)) {\n                // Toggle node in multi-selection\n                setSelectedNodes((prev)=>{\n                    const next = new Set(prev);\n                    if (next.has(nodeId)) {\n                        // Remove from selection\n                        next.delete(nodeId);\n                    } else {\n                        // Add to selection\n                        next.add(nodeId);\n                    }\n                    // Update visual selection on canvas nodes to match the Set\n                    setCanvasNodes((cnodes)=>cnodes.map((n)=>({\n                                ...n,\n                                selected: next.has(n.node_id)\n                            })));\n                    // Close config panel when multiple nodes are selected\n                    if (next.size > 1) {\n                        setSelectedNode(null);\n                        setIsConfigPanelOpen(false);\n                    } else if (next.size === 1) {\n                        // Only one node selected, open config for it\n                        const singleNodeId = Array.from(next)[0];\n                        setSelectedNode(singleNodeId);\n                        setIsConfigPanelOpen(true);\n                    } else {\n                        // No nodes selected\n                        setSelectedNode(null);\n                        setIsConfigPanelOpen(false);\n                    }\n                    return next;\n                });\n            } else {\n                // Normal single selection (no Ctrl/Cmd)\n                setSelectedNode(nodeId);\n                setCanvasNodes((prev)=>prev.map((n)=>({\n                            ...n,\n                            selected: n.node_id === nodeId\n                        })));\n                setIsConfigPanelOpen(true);\n                // Clear multi-selection when selecting single node\n                setSelectedNodes(new Set([\n                    nodeId\n                ]));\n            }\n        }\n    }\n    function handleNodeDelete(nodeId) {\n        const nodeToDelete = canvasNodes.find((n)=>n.node_id === nodeId);\n        const nodeName = nodeToDelete?.name || nodeId;\n        // Apply delete via producer and record as patch-based history\n        pushProducer((draft)=>{\n            draft.canvasNodes = (draft.canvasNodes || []).filter((n)=>n.node_id !== nodeId);\n            draft.connections = (draft.connections || []).filter((c)=>c.source.node_id !== nodeId && c.target.node_id !== nodeId);\n        });\n        setIsDirty(true);\n        addLog(` Deleted node: ${nodeName}`);\n        if (selectedNode === nodeId) {\n            setSelectedNode(null);\n            setIsConfigPanelOpen(false);\n        }\n        // Remove from multi-selection\n        setSelectedNodes((prev)=>{\n            const next = new Set(prev);\n            next.delete(nodeId);\n            return next;\n        });\n    }\n    function handleNodeFlip(nodeId) {\n        pushProducer((draft)=>{\n            const node = (draft.canvasNodes || []).find((n)=>n.node_id === nodeId);\n            if (node) {\n                node.flipped = !node.flipped;\n            }\n        });\n        setIsDirty(true);\n        addLog(` Flipped node horizontally`);\n    }\n    function handleNodeContextMenu(nodeId, e) {\n        e.preventDefault();\n        e.stopPropagation();\n        if (!viewportRef.current) return;\n        const rect = viewportRef.current.getBoundingClientRect();\n        const scale = canvasPanZoom.scale || 1;\n        const scrollLeft = viewportRef.current.scrollLeft;\n        const scrollTop = viewportRef.current.scrollTop;\n        const canvasX = (e.clientX - rect.left + scrollLeft) / scale;\n        const canvasY = (e.clientY - rect.top + scrollTop) / scale;\n        setNodeContextMenu({\n            x: canvasX,\n            y: canvasY,\n            nodeId\n        });\n        setContextMenu(null); // Close canvas context menu if open\n    }\n    // ==================== Selection Box Management ====================\n    function handleSelectionBoxStart(e) {\n        if (!viewportRef.current) return;\n        // Don't start selection box if clicking on a node\n        const target = e.target;\n        if (target.closest('.workflow-node') || target.closest('.canvas-group') || target.closest('.canvas-text')) return;\n        // Handle right-click for context menu\n        if (e.button === 2) {\n            e.preventDefault();\n            const rect = viewportRef.current.getBoundingClientRect();\n            const scale = canvasPanZoom.scale || 1;\n            const scrollLeft = viewportRef.current.scrollLeft;\n            const scrollTop = viewportRef.current.scrollTop;\n            const canvasX = (e.clientX - rect.left + scrollLeft) / scale;\n            const canvasY = (e.clientY - rect.top + scrollTop) / scale;\n            setContextMenu({\n                x: canvasX,\n                y: canvasY\n            });\n            return;\n        }\n        // Don't start selection box if Ctrl is held (that's for panning)\n        if (e.ctrlKey || e.metaKey) return;\n        const rect = viewportRef.current.getBoundingClientRect();\n        const scale = canvasPanZoom.scale || 1;\n        const scrollLeft = viewportRef.current.scrollLeft;\n        const scrollTop = viewportRef.current.scrollTop;\n        const canvasX = (e.clientX - rect.left + scrollLeft) / scale;\n        const canvasY = (e.clientY - rect.top + scrollTop) / scale;\n        setSelectionBox({\n            startX: canvasX,\n            startY: canvasY,\n            currentX: canvasX,\n            currentY: canvasY\n        });\n    }\n    function handleSelectionBoxMove(e) {\n        if (!selectionBox || !viewportRef.current) return;\n        const rect = viewportRef.current.getBoundingClientRect();\n        const scale = canvasPanZoom.scale || 1;\n        const scrollLeft = viewportRef.current.scrollLeft;\n        const scrollTop = viewportRef.current.scrollTop;\n        const canvasX = (e.clientX - rect.left + scrollLeft) / scale;\n        const canvasY = (e.clientY - rect.top + scrollTop) / scale;\n        setSelectionBox((prev)=>prev ? {\n                ...prev,\n                currentX: canvasX,\n                currentY: canvasY\n            } : null);\n        // Update selected nodes based on intersection with selection box\n        const minX = Math.min(selectionBox.startX, canvasX);\n        const maxX = Math.max(selectionBox.startX, canvasX);\n        const minY = Math.min(selectionBox.startY, canvasY);\n        const maxY = Math.max(selectionBox.startY, canvasY);\n        const selectedNodeIds = new Set();\n        canvasNodes.forEach((node)=>{\n            const nodeRight = node.position.x + 240; // Approximate node width\n            const nodeBottom = node.position.y + 100; // Approximate node height\n            // Check if node intersects with selection box\n            if (node.position.x < maxX && nodeRight > minX && node.position.y < maxY && nodeBottom > minY) {\n                selectedNodeIds.add(node.node_id);\n            }\n        });\n        setSelectedNodes(selectedNodeIds);\n    }\n    function handleSelectionBoxEnd() {\n        if (!selectionBox) return;\n        // Check if this was just a click (no drag) by measuring the distance\n        const dragDistance = Math.sqrt(Math.pow(selectionBox.currentX - selectionBox.startX, 2) + Math.pow(selectionBox.currentY - selectionBox.startY, 2));\n        // If drag distance is very small (less than 5 pixels), treat it as a click on empty space\n        if (dragDistance < 5) {\n            // Clear selection when clicking on empty canvas\n            setSelectedNodes(new Set());\n            setSelectedNode(null);\n            setSelectedObject(null);\n            setIsConfigPanelOpen(false);\n        } else {\n            // It was a drag, so handle the selection box result\n            if (selectedNodes.size === 0) {\n                setSelectedNode(null);\n                setIsConfigPanelOpen(false);\n            } else if (selectedNodes.size === 1) {\n                // If only one node selected, treat it as single selection\n                const nodeId = Array.from(selectedNodes)[0];\n                setSelectedNode(nodeId);\n                setIsConfigPanelOpen(true);\n            } else {\n                // Multiple nodes selected, close config panel\n                setSelectedNode(null);\n                setIsConfigPanelOpen(false);\n            }\n        }\n        setSelectionBox(null);\n    }\n    // ==================== Group Dragging Management ====================\n    function handleGroupDragStart(nodeId, e) {\n        e.stopPropagation();\n        // If Ctrl/Cmd is held, don't start dragging - let the click handler deal with selection\n        if (e.ctrlKey || e.metaKey) {\n            return;\n        }\n        // If the clicked node is not in the selection, select only it\n        if (!selectedNodes.has(nodeId)) {\n            setSelectedNodes(new Set([\n                nodeId\n            ]));\n            setSelectedNode(nodeId);\n        }\n        setIsDraggingGroup(true);\n        if (viewportRef.current) {\n            const scale = canvasPanZoom.scale || 1;\n            const canvasRect = viewportRef.current.getBoundingClientRect();\n            const scrollLeft = viewportRef.current.scrollLeft;\n            const scrollTop = viewportRef.current.scrollTop;\n            const canvasX = (e.clientX - canvasRect.left + scrollLeft) / scale;\n            const canvasY = (e.clientY - canvasRect.top + scrollTop) / scale;\n            setGroupDragStart({\n                x: canvasX,\n                y: canvasY\n            });\n            // Calculate offsets for all selected nodes\n            const offsets = new Map();\n            const nodesToDrag = selectedNodes.has(nodeId) ? selectedNodes : new Set([\n                nodeId\n            ]);\n            nodesToDrag.forEach((id)=>{\n                const node = canvasNodes.find((n)=>n.node_id === id);\n                if (node) {\n                    offsets.set(id, {\n                        x: canvasX - node.position.x,\n                        y: canvasY - node.position.y\n                    });\n                }\n            });\n            setGroupDragOffsets(offsets);\n        }\n    }\n    function handleGroupDrag(e) {\n        if (!isDraggingGroup || !groupDragStart || !viewportRef.current) return;\n        const scale = canvasPanZoom.scale || 1;\n        const canvasRect = viewportRef.current.getBoundingClientRect();\n        const scrollLeft = viewportRef.current.scrollLeft;\n        const scrollTop = viewportRef.current.scrollTop;\n        const canvasX = (e.clientX - canvasRect.left + scrollLeft) / scale;\n        const canvasY = (e.clientY - canvasRect.top + scrollTop) / scale;\n        // Move all selected nodes\n        setCanvasNodes((prev)=>prev.map((node)=>{\n                if (selectedNodes.has(node.node_id)) {\n                    const offset = groupDragOffsets.get(node.node_id);\n                    if (offset) {\n                        return {\n                            ...node,\n                            position: {\n                                x: canvasX - offset.x,\n                                y: canvasY - offset.y\n                            }\n                        };\n                    }\n                }\n                return node;\n            }));\n        setIsDirty(true);\n    }\n    function handleGroupDragEnd() {\n        if (isDraggingGroup) {\n            // Record final positions\n            const movedNodes = canvasNodes.filter((n)=>selectedNodes.has(n.node_id));\n            if (movedNodes.length > 0) {\n                pushProducer((draft)=>{\n                    movedNodes.forEach((moved)=>{\n                        const dnode = (draft.canvasNodes || []).find((n)=>n.node_id === moved.node_id);\n                        if (dnode) dnode.position = {\n                            ...moved.position\n                        };\n                    });\n                });\n            }\n        }\n        setIsDraggingGroup(false);\n        setGroupDragStart(null);\n        setGroupDragOffsets(new Map());\n        // Reset dragging flag after a small delay\n        setTimeout(()=>setIsDraggingNode(false), 100);\n    }\n    function handleConfigUpdate(nodeId, newConfig) {\n        pushProducer((draft)=>{\n            draft.canvasNodes = (draft.canvasNodes || []).map((n)=>n.node_id === nodeId ? {\n                    ...n,\n                    config: newConfig\n                } : n);\n        });\n        setIsDirty(true);\n        addLog(` Updated configuration for node`);\n    }\n    function handleNodeUpdate(nodeId, updates) {\n        pushProducer((draft)=>{\n            draft.canvasNodes = (draft.canvasNodes || []).map((n)=>n.node_id === nodeId ? {\n                    ...n,\n                    ...updates\n                } : n);\n        });\n        setIsDirty(true);\n        if (updates.share_output_to_variables !== undefined) {\n            addLog(` ${updates.share_output_to_variables ? 'Enabled' : 'Disabled'} output sharing for node`);\n        }\n    }\n    function handleNodeDragStart(nodeId, e) {\n        // Use the new group drag functionality\n        handleGroupDragStart(nodeId, e);\n    }\n    function handleNodeDrag(e) {\n        // Use the new group drag functionality\n        handleGroupDrag(e);\n    }\n    function handleNodeDragEnd() {\n        // Use the new group drag functionality\n        handleGroupDragEnd();\n    }\n    // ==================== Copy / Paste ====================\n    // Copy selected nodes (and internal connections between them) into clipboardRef\n    function copySelectedNodes() {\n        if (!selectedNodes || selectedNodes.size === 0) return;\n        const nodesToCopy = canvasNodes.filter((n)=>selectedNodes.has(n.node_id));\n        const connectionsToCopy = connections.filter((c)=>selectedNodes.has(c.source.node_id) && selectedNodes.has(c.target.node_id));\n        clipboardRef.current = {\n            nodes: deepClone(nodesToCopy),\n            connections: deepClone(connectionsToCopy)\n        };\n        pasteOffsetRef.current = 0;\n        addLog(` Copied ${nodesToCopy.length} node(s)`);\n    }\n    // Paste nodes from clipboard, remapping IDs and offsetting positions\n    function pasteClipboard() {\n        const clip = clipboardRef.current;\n        if (!clip || !clip.nodes || clip.nodes.length === 0) return;\n        const remap = new Map();\n        // Compute paste target: center of viewport in canvas coordinates\n        let centerX = null;\n        let centerY = null;\n        const scale = canvasPanZoom.scale || 1;\n        if (viewportRef.current) {\n            const rect = viewportRef.current.getBoundingClientRect();\n            const scrollLeft = viewportRef.current.scrollLeft;\n            const scrollTop = viewportRef.current.scrollTop;\n            const centerClientX = rect.left + rect.width / 2;\n            const centerClientY = rect.top + rect.height / 2;\n            centerX = (centerClientX - rect.left + scrollLeft) / scale;\n            centerY = (centerClientY - rect.top + scrollTop) / scale;\n        }\n        // Compute centroid of copied nodes to translate them so their center lands in viewport center\n        let centroidX = 0;\n        let centroidY = 0;\n        const nodeCount = clip.nodes.length;\n        if (nodeCount > 0) {\n            clip.nodes.forEach((n)=>{\n                centroidX += n.position?.x || 0;\n                centroidY += n.position?.y || 0;\n            });\n            centroidX /= nodeCount;\n            centroidY /= nodeCount;\n        }\n        // If we couldn't compute viewport center, fall back to small offset behavior\n        const baseOffset = 40;\n        const incremental = pasteOffsetRef.current || 0;\n        // Default bias to nudge pasted nodes slightly up and left (negative values)\n        const DEFAULT_UP_LEFT_BIAS = -100;\n        const dx = centerX !== null ? centerX - centroidX + incremental + DEFAULT_UP_LEFT_BIAS : baseOffset + incremental + DEFAULT_UP_LEFT_BIAS;\n        const dy = centerY !== null ? centerY - centroidY + incremental + DEFAULT_UP_LEFT_BIAS : baseOffset + incremental + DEFAULT_UP_LEFT_BIAS;\n        const newNodes = clip.nodes.map((n)=>{\n            const newId = generateUUID();\n            remap.set(n.node_id, newId);\n            const copied = deepClone(n);\n            copied.node_id = newId;\n            // Translate nodes so centroid moves to viewport center (or apply fallback offset)\n            const origX = copied.position?.x || 0;\n            const origY = copied.position?.y || 0;\n            copied.position = {\n                x: origX + dx,\n                y: origY + dy\n            };\n            return copied;\n        });\n        const newConnections = (clip.connections || []).map((c)=>{\n            const newConn = deepClone(c);\n            newConn.id = `conn_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n            newConn.connection_id = newConn.id;\n            if (newConn.source && remap.has(newConn.source.node_id)) newConn.source.node_id = remap.get(newConn.source.node_id);\n            if (newConn.target && remap.has(newConn.target.node_id)) newConn.target.node_id = remap.get(newConn.target.node_id);\n            return newConn;\n        });\n        pushProducer((draft)=>{\n            draft.canvasNodes = [\n                ...draft.canvasNodes || [],\n                ...newNodes\n            ];\n            draft.connections = [\n                ...draft.connections || [],\n                ...newConnections\n            ];\n        });\n        setIsDirty(true);\n        // Select newly pasted nodes\n        setSelectedNodes(new Set(newNodes.map((n)=>n.node_id)));\n        setSelectedNode(newNodes[0]?.node_id || null);\n        pasteOffsetRef.current = (pasteOffsetRef.current || 0) + 20; // next paste will offset further\n        addLog(` Pasted ${newNodes.length} node(s)`);\n    }\n    // Cut = copy + delete\n    function cutSelectedNodes() {\n        if (!selectedNodes || selectedNodes.size === 0) return;\n        copySelectedNodes();\n        // Remove nodes and any connections that reference them\n        pushProducer((draft)=>{\n            draft.canvasNodes = (draft.canvasNodes || []).filter((n)=>!selectedNodes.has(n.node_id));\n            draft.connections = (draft.connections || []).filter((c)=>!selectedNodes.has(c.source.node_id) && !selectedNodes.has(c.target.node_id));\n        });\n        setSelectedNodes(new Set());\n        setSelectedNode(null);\n        setIsDirty(true);\n        addLog(` Cut selection`);\n    }\n    // Keyboard shortcuts for copy/paste/cut (Ctrl/Cmd + C / V / X)\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"WorkflowEditorInner.useEffect\": ()=>{\n            const onKeyDown = {\n                \"WorkflowEditorInner.useEffect.onKeyDown\": (e)=>{\n                    const key = (e.key || '').toLowerCase();\n                    const isMod = e.ctrlKey || e.metaKey;\n                    if (!isMod) return;\n                    const active = document.activeElement;\n                    const tag = active?.tagName?.toLowerCase();\n                    const isTyping = tag === 'input' || tag === 'textarea' || active?.isContentEditable;\n                    if (isTyping) return; // don't intercept when typing in fields\n                    if (key === 'c') {\n                        e.preventDefault();\n                        copySelectedNodes();\n                    } else if (key === 'v') {\n                        e.preventDefault();\n                        pasteClipboard();\n                    } else if (key === 'x') {\n                        e.preventDefault();\n                        cutSelectedNodes();\n                    }\n                }\n            }[\"WorkflowEditorInner.useEffect.onKeyDown\"];\n            window.addEventListener('keydown', onKeyDown);\n            return ({\n                \"WorkflowEditorInner.useEffect\": ()=>window.removeEventListener('keydown', onKeyDown)\n            })[\"WorkflowEditorInner.useEffect\"];\n        }\n    }[\"WorkflowEditorInner.useEffect\"], [\n        canvasNodes,\n        connections,\n        selectedNodes\n    ]);\n    // ==================== Connection Management ====================\n    function handlePortMouseDown(nodeId, portId, portType, e) {\n        e.stopPropagation();\n        if (viewportRef.current) {\n            const rect = viewportRef.current.getBoundingClientRect();\n            const scrollLeft = viewportRef.current.scrollLeft;\n            const scrollTop = viewportRef.current.scrollTop;\n            // Get canvas scale from the hook\n            const scale = canvasPanZoom.scale || 1;\n            // Calculate mouse position relative to canvas, accounting for scale and scroll\n            const mouseX = (e.clientX - rect.left + scrollLeft) / scale;\n            const mouseY = (e.clientY - rect.top + scrollTop) / scale;\n            setTempConnection({\n                fromNode: nodeId,\n                fromPort: portId,\n                fromType: portType,\n                currentX: mouseX,\n                currentY: mouseY\n            });\n        }\n    }\n    function handleConnectionMouseMove(e) {\n        if (tempConnection && viewportRef.current) {\n            const rect = viewportRef.current.getBoundingClientRect();\n            const scrollLeft = viewportRef.current.scrollLeft;\n            const scrollTop = viewportRef.current.scrollTop;\n            // Get canvas scale from the hook\n            const scale = canvasPanZoom.scale || 1;\n            // Calculate mouse position relative to canvas, accounting for scale and scroll\n            const mouseX = (e.clientX - rect.left + scrollLeft) / scale;\n            const mouseY = (e.clientY - rect.top + scrollTop) / scale;\n            setTempConnection((prev)=>prev ? {\n                    ...prev,\n                    currentX: mouseX,\n                    currentY: mouseY\n                } : null);\n        }\n    }\n    function handleConnectionMouseUp(e) {\n        if (!tempConnection) return;\n        const target = e.target;\n        const portHandle = target.closest('.port-handle');\n        if (portHandle) {\n            const portElement = portHandle.parentElement;\n            const nodeElement = portHandle.closest('.workflow-node');\n            if (portElement && nodeElement) {\n                const targetNodeId = nodeElement.getAttribute('data-node-id');\n                const targetPortId = portElement.getAttribute('data-port');\n                const targetPortType = portHandle.classList.contains('input-handle') ? 'input' : 'output';\n                if (canCreateConnection(tempConnection, targetNodeId, targetPortId, targetPortType)) {\n                    createConnection(tempConnection, targetNodeId, targetPortId, targetPortType);\n                }\n            }\n        }\n        setTempConnection(null);\n    }\n    function canCreateConnection(from, toNodeId, toPortId, toType) {\n        if (!toNodeId || !toPortId) return false;\n        const isValidDirection = from.fromType === 'output' && toType === 'input' || from.fromType === 'input' && toType === 'output';\n        if (!isValidDirection) return false;\n        const sourceNodeId = from.fromType === 'output' ? from.fromNode : toNodeId;\n        const sourcePortId = from.fromType === 'output' ? from.fromPort : toPortId;\n        const targetNodeId = from.fromType === 'output' ? toNodeId : from.fromNode;\n        const targetPortId = from.fromType === 'output' ? toPortId : from.fromPort;\n        return !connections.some((c)=>c.source.node_id === sourceNodeId && c.source.port_id === sourcePortId && c.target.node_id === targetNodeId && c.target.port_id === targetPortId);\n    }\n    function createConnection(from, toNodeId, toPortId, toType) {\n        const sourceNodeId = from.fromType === 'output' ? from.fromNode : toNodeId;\n        const sourcePortId = from.fromType === 'output' ? from.fromPort : toPortId;\n        const targetNodeId = from.fromType === 'output' ? toNodeId : from.fromNode;\n        const targetPortId = from.fromType === 'output' ? toPortId : from.fromPort;\n        const newConnection = {\n            id: `conn_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n            source: {\n                node_id: sourceNodeId,\n                port_id: sourcePortId\n            },\n            target: {\n                node_id: targetNodeId,\n                port_id: targetPortId\n            }\n        };\n        // Get node names for logging\n        const sourceNode = canvasNodes.find((n)=>n.node_id === sourceNodeId);\n        const targetNode = canvasNodes.find((n)=>n.node_id === targetNodeId);\n        const sourceNodeName = sourceNode?.name || sourceNodeId;\n        const targetNodeName = targetNode?.name || targetNodeId;\n        pushProducer((draft)=>{\n            draft.connections = [\n                ...draft.connections || [],\n                newConnection\n            ];\n        });\n        setIsDirty(true);\n        addLog(` Connected: ${sourceNodeName}.${sourcePortId}  ${targetNodeName}.${targetPortId}`);\n    }\n    function handleConnectionClick(connectionId) {\n        // Delete connection without confirmation (consistent with node deletion)\n        pushProducer((draft)=>{\n            draft.connections = (draft.connections || []).filter((c)=>c.id !== connectionId);\n        });\n        setIsDirty(true);\n        addLog(` Deleted connection`);\n    }\n    // Helper to add log entries\n    function addLog(message) {\n        setLogs((prev)=>[\n                ...prev,\n                message\n            ]);\n        setTimeout(()=>{\n            if (logBodyRef.current) {\n                logBodyRef.current.scrollTop = logBodyRef.current.scrollHeight;\n            }\n        }, 10);\n    }\n    // Fullscreen toggle\n    const toggleFullscreen = ()=>{\n        if (!document.fullscreenElement) {\n            document.documentElement.requestFullscreen().then(()=>{\n                setIsFullscreen(true);\n            }).catch((err)=>{\n                addLog(` Fullscreen error: ${err}`);\n            });\n        } else {\n            document.exitFullscreen().then(()=>{\n                setIsFullscreen(false);\n            });\n        }\n    };\n    // Zoom controls\n    const handleZoomIn = ()=>{\n        canvasPanZoom.zoomIn();\n    };\n    const handleZoomOut = ()=>{\n        canvasPanZoom.zoomOut();\n    };\n    const handleZoomReset = ()=>{\n        canvasPanZoom.zoomReset();\n    };\n    // Listen for fullscreen changes\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"WorkflowEditorInner.useEffect\": ()=>{\n            const handleFullscreenChange = {\n                \"WorkflowEditorInner.useEffect.handleFullscreenChange\": ()=>{\n                    setIsFullscreen(!!document.fullscreenElement);\n                }\n            }[\"WorkflowEditorInner.useEffect.handleFullscreenChange\"];\n            document.addEventListener('fullscreenchange', handleFullscreenChange);\n            return ({\n                \"WorkflowEditorInner.useEffect\": ()=>{\n                    document.removeEventListener('fullscreenchange', handleFullscreenChange);\n                }\n            })[\"WorkflowEditorInner.useEffect\"];\n        }\n    }[\"WorkflowEditorInner.useEffect\"], []);\n    // Keyboard shortcuts: undo/redo\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"WorkflowEditorInner.useEffect\": ()=>{\n            const handler = {\n                \"WorkflowEditorInner.useEffect.handler\": (e)=>{\n                    const active = document.activeElement;\n                    if (active && (active.tagName === 'INPUT' || active.tagName === 'TEXTAREA' || active.isContentEditable)) return;\n                    const key = (e.key || '').toLowerCase();\n                    const isUndo = (e.ctrlKey || e.metaKey) && !e.shiftKey && key === 'z';\n                    const isRedo = e.ctrlKey && key === 'y' || (e.ctrlKey || e.metaKey) && e.shiftKey && key === 'z';\n                    const isDelete = key === 'delete' || key === 'backspace';\n                    const isEscape = key === 'escape';\n                    const isSelectAll = (e.ctrlKey || e.metaKey) && key === 'a';\n                    const isSave = (e.ctrlKey || e.metaKey) && key === 's';\n                    const isLoad = (e.ctrlKey || e.metaKey) && key === 'l';\n                    // If the Clear button is focused, intercept Ctrl+Z/Ctrl+Y to toggle/confirm clear\n                    const isClearButtonFocused = clearButtonRef.current && active === clearButtonRef.current;\n                    if (isClearButtonFocused && (isUndo || isRedo)) {\n                        if (true) console.debug('[key] clear button shortcut pressed - immediate clear');\n                        e.preventDefault();\n                        // Immediately clear and make it undoable (keyboard-triggered clear should be undoable)\n                        handleClear(true);\n                        setConfirmClear(false);\n                        return;\n                    }\n                    if (isUndo && canUndo) {\n                        if (true) console.debug('[key] undo pressed');\n                        e.preventDefault();\n                        isUndoRedoOperation.current = true;\n                        undo();\n                    } else if (isRedo && canRedo) {\n                        if (true) console.debug('[key] redo pressed');\n                        e.preventDefault();\n                        isUndoRedoOperation.current = true;\n                        redo();\n                    } else if (isSave) {\n                        // Open save options modal\n                        e.preventDefault();\n                        setShowSaveOptionsModal(true);\n                    } else if (isLoad) {\n                        // Open load options modal\n                        e.preventDefault();\n                        setShowLoadOptionsModal(true);\n                    } else if (isDelete && selectedNodes.size > 0) {\n                        // Delete all selected nodes\n                        e.preventDefault();\n                        const nodesToDelete = Array.from(selectedNodes);\n                        pushProducer({\n                            \"WorkflowEditorInner.useEffect.handler\": (draft)=>{\n                                draft.canvasNodes = (draft.canvasNodes || []).filter({\n                                    \"WorkflowEditorInner.useEffect.handler\": (n)=>!nodesToDelete.includes(n.node_id)\n                                }[\"WorkflowEditorInner.useEffect.handler\"]);\n                                draft.connections = (draft.connections || []).filter({\n                                    \"WorkflowEditorInner.useEffect.handler\": (c)=>!nodesToDelete.includes(c.source.node_id) && !nodesToDelete.includes(c.target.node_id)\n                                }[\"WorkflowEditorInner.useEffect.handler\"]);\n                            }\n                        }[\"WorkflowEditorInner.useEffect.handler\"]);\n                        setIsDirty(true);\n                        setSelectedNodes(new Set());\n                        setSelectedNode(null);\n                        setIsConfigPanelOpen(false);\n                        addLog(` Deleted ${nodesToDelete.length} node(s)`);\n                    } else if (isEscape) {\n                        // Clear selection on Escape\n                        e.preventDefault();\n                        setSelectedNodes(new Set());\n                        setSelectedNode(null);\n                        setIsConfigPanelOpen(false);\n                    } else if (isSelectAll) {\n                        // Select all nodes\n                        e.preventDefault();\n                        const allNodeIds = new Set(canvasNodes.map({\n                            \"WorkflowEditorInner.useEffect.handler\": (n)=>n.node_id\n                        }[\"WorkflowEditorInner.useEffect.handler\"]));\n                        setSelectedNodes(allNodeIds);\n                        setSelectedNode(null);\n                        setIsConfigPanelOpen(false);\n                    }\n                }\n            }[\"WorkflowEditorInner.useEffect.handler\"];\n            document.addEventListener('keydown', handler);\n            return ({\n                \"WorkflowEditorInner.useEffect\": ()=>document.removeEventListener('keydown', handler)\n            })[\"WorkflowEditorInner.useEffect\"];\n        }\n    }[\"WorkflowEditorInner.useEffect\"], [\n        undo,\n        redo,\n        canUndo,\n        canRedo,\n        selectedNodes,\n        canvasNodes\n    ]);\n    // Update minimap viewport indicator - more responsive\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"WorkflowEditorInner.useEffect\": ()=>{\n            if (!viewportRef.current) return;\n            let animationFrameId;\n            const updateMinimapViewport = {\n                \"WorkflowEditorInner.useEffect.updateMinimapViewport\": ()=>{\n                    if (!viewportRef.current) return;\n                    const viewport = viewportRef.current;\n                    const scale = canvasPanZoom.scale || 1;\n                    const minimapScale = 0.04;\n                    // Cancel any pending animation frame\n                    if (animationFrameId) {\n                        cancelAnimationFrame(animationFrameId);\n                    }\n                    // Use requestAnimationFrame for smooth updates\n                    animationFrameId = requestAnimationFrame({\n                        \"WorkflowEditorInner.useEffect.updateMinimapViewport\": ()=>{\n                            setMinimapViewport({\n                                x: viewport.scrollLeft / scale * minimapScale,\n                                y: viewport.scrollTop / scale * minimapScale,\n                                width: viewport.clientWidth / scale * minimapScale,\n                                height: viewport.clientHeight / scale * minimapScale\n                            });\n                        }\n                    }[\"WorkflowEditorInner.useEffect.updateMinimapViewport\"]);\n                    // Initialize previous scroll state if unset\n                    prevViewportScroll.current = {\n                        left: viewport.scrollLeft,\n                        top: viewport.scrollTop\n                    };\n                }\n            }[\"WorkflowEditorInner.useEffect.updateMinimapViewport\"];\n            updateMinimapViewport();\n            const viewport = viewportRef.current;\n            // Add more event listeners for better responsiveness\n            viewport.addEventListener('scroll', updateMinimapViewport);\n            viewport.addEventListener('wheel', updateMinimapViewport);\n            viewport.addEventListener('mousemove', updateMinimapViewport);\n            window.addEventListener('resize', updateMinimapViewport);\n            return ({\n                \"WorkflowEditorInner.useEffect\": ()=>{\n                    viewport.removeEventListener('scroll', updateMinimapViewport);\n                    viewport.removeEventListener('wheel', updateMinimapViewport);\n                    viewport.removeEventListener('mousemove', updateMinimapViewport);\n                    window.removeEventListener('resize', updateMinimapViewport);\n                    if (animationFrameId) {\n                        cancelAnimationFrame(animationFrameId);\n                    }\n                }\n            })[\"WorkflowEditorInner.useEffect\"];\n        }\n    }[\"WorkflowEditorInner.useEffect\"], [\n        canvasPanZoom.scale,\n        viewportRef,\n        canvasNodes\n    ]);\n    // Reset paste offset when zoom changes so pasted nodes remain centered after zoom\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"WorkflowEditorInner.useEffect\": ()=>{\n            if (pasteOffsetRef) pasteOffsetRef.current = 0;\n            if (true) console.debug('[zoom] Reset paste offset due to zoom change');\n        }\n    }[\"WorkflowEditorInner.useEffect\"], [\n        canvasPanZoom.scale\n    ]);\n    // Reset the sidebar cascade (staircase) when the viewport scrolls/pans\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"WorkflowEditorInner.useEffect\": ()=>{\n            if (!viewportRef.current) return;\n            const viewport = viewportRef.current;\n            // Throttle resets by a very small threshold to detect intentional viewport moves\n            const SCROLL_RESET_THRESHOLD = 1; // px\n            const handleViewportScroll = {\n                \"WorkflowEditorInner.useEffect.handleViewportScroll\": ()=>{\n                    const left = viewport.scrollLeft;\n                    const top = viewport.scrollTop;\n                    const prev = prevViewportScroll.current || {\n                        left: 0,\n                        top: 0\n                    };\n                    const delta = Math.abs(left - prev.left) + Math.abs(top - prev.top);\n                    if (delta >= SCROLL_RESET_THRESHOLD) {\n                        // Reset staircase counter so next sidebar-added node anchors to the current viewport\n                        setSidebarNodeCount(0);\n                        // Reset paste offset so pasted nodes will center again after viewport move\n                        if (pasteOffsetRef) pasteOffsetRef.current = 0;\n                        // Update prev to avoid repeated resets while still scrolling\n                        prevViewportScroll.current = {\n                            left,\n                            top\n                        };\n                        // Debug/log for development ease\n                        if (true) {\n                            console.debug('[viewport] Reset sidebar cascade due to scroll', {\n                                left,\n                                top\n                            });\n                            console.debug('[viewport] Reset paste offset due to scroll');\n                        // addLog(' Reset node cascade due to viewport scroll');\n                        }\n                    }\n                }\n            }[\"WorkflowEditorInner.useEffect.handleViewportScroll\"];\n            // Initialize prev scroll\n            prevViewportScroll.current = {\n                left: viewport.scrollLeft,\n                top: viewport.scrollTop\n            };\n            viewport.addEventListener('scroll', handleViewportScroll);\n            viewport.addEventListener('wheel', handleViewportScroll);\n            return ({\n                \"WorkflowEditorInner.useEffect\": ()=>{\n                    viewport.removeEventListener('scroll', handleViewportScroll);\n                    viewport.removeEventListener('wheel', handleViewportScroll);\n                }\n            })[\"WorkflowEditorInner.useEffect\"];\n        }\n    }[\"WorkflowEditorInner.useEffect\"], [\n        viewportRef\n    ]);\n    // Auto-hide minimap when idle with smooth fade\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"WorkflowEditorInner.useEffect\": ()=>{\n            let hideTimer;\n            const showMinimapTemporarily = {\n                \"WorkflowEditorInner.useEffect.showMinimapTemporarily\": ()=>{\n                    setShowMinimap(true);\n                    clearTimeout(hideTimer);\n                    hideTimer = setTimeout({\n                        \"WorkflowEditorInner.useEffect.showMinimapTemporarily\": ()=>{\n                            setShowMinimap(false);\n                        }\n                    }[\"WorkflowEditorInner.useEffect.showMinimapTemporarily\"], 3000); // Hide after 3 seconds of inactivity\n                }\n            }[\"WorkflowEditorInner.useEffect.showMinimapTemporarily\"];\n            if (viewportRef.current) {\n                const viewport = viewportRef.current;\n                // Show minimap on various interactions\n                viewport.addEventListener('scroll', showMinimapTemporarily);\n                viewport.addEventListener('wheel', showMinimapTemporarily);\n                viewport.addEventListener('mousedown', showMinimapTemporarily);\n                document.addEventListener('keydown', showMinimapTemporarily);\n                return ({\n                    \"WorkflowEditorInner.useEffect\": ()=>{\n                        viewport.removeEventListener('scroll', showMinimapTemporarily);\n                        viewport.removeEventListener('wheel', showMinimapTemporarily);\n                        viewport.removeEventListener('mousedown', showMinimapTemporarily);\n                        document.removeEventListener('keydown', showMinimapTemporarily);\n                        clearTimeout(hideTimer);\n                    }\n                })[\"WorkflowEditorInner.useEffect\"];\n            }\n        }\n    }[\"WorkflowEditorInner.useEffect\"], [\n        viewportRef\n    ]);\n    // Helper function to get node category color\n    const getNodeCategoryColor = (category)=>{\n        const colors = {\n            triggers: '#fbbf24',\n            actions: '#22c55e',\n            ai: '#a855f7',\n            communication: '#3b82f6',\n            processing: '#f97316',\n            workflow: '#6366f1',\n            input: '#06b6d4',\n            output: '#ec4899',\n            control: '#8b5cf6',\n            business: '#10b981',\n            analytics: '#f43f5e'\n        };\n        return colors[category.toLowerCase()] || '#9ca3af';\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        onClick: ()=>setConfirmClear(false),\n        style: {\n            background: 'var(--theme-background)'\n        },\n        className: \"jsx-2f9b26b773af7534\" + \" \" + \"w-full h-full flex overflow-hidden\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default()), {\n                id: \"2f9b26b773af7534\",\n                children: \".custom-scrollbar.jsx-2f9b26b773af7534::-webkit-scrollbar{width:8px;height:8px}.custom-scrollbar.jsx-2f9b26b773af7534::-webkit-scrollbar-track{background:transparent}.custom-scrollbar.jsx-2f9b26b773af7534::-webkit-scrollbar-thumb{background:var(--theme-border);border-radius:4px}.custom-scrollbar.jsx-2f9b26b773af7534::-webkit-scrollbar-thumb:hover{background:var(--theme-text-muted)}\"\n            }, void 0, false, void 0, this),\n            !isSidebarCollapsed && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    background: 'var(--theme-surface)',\n                    borderColor: 'var(--theme-border)'\n                },\n                className: \"jsx-2f9b26b773af7534\" + \" \" + \"border-r flex flex-col transition-all duration-300 shrink-0 w-90\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            borderColor: 'var(--theme-border)'\n                        },\n                        className: \"jsx-2f9b26b773af7534\" + \" \" + \"flex items-center justify-between p-3 border-b shrink-0\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                style: {\n                                    color: 'var(--theme-text)'\n                                },\n                                className: \"jsx-2f9b26b773af7534\" + \" \" + \"text-sm font-semibold flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                        className: \"jsx-2f9b26b773af7534\" + \" \" + \"fa-solid fa-cubes\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                        lineNumber: 1893,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"jsx-2f9b26b773af7534\",\n                                        children: \"Nodes\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                        lineNumber: 1893,\n                                        columnNumber: 54\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                lineNumber: 1892,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"jsx-2f9b26b773af7534\" + \" \" + \"flex items-center\",\n                                children: [\n                                    (()=>{\n                                        // Compute categories dynamically from loaded nodeCategories\n                                        const allCategories = (nodeCategories || []).map((c)=>c.name || '');\n                                        const allCollapsed = allCategories.every((cat)=>collapsedCategories.has(normCategory(cat)));\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>{\n                                                if (allCollapsed) {\n                                                    // Expand all categories\n                                                    setCollapsedCategories(new Set());\n                                                } else {\n                                                    // Collapse all categories (store normalized keys)\n                                                    setCollapsedCategories(new Set(allCategories.map(normCategory)));\n                                                }\n                                            },\n                                            style: {\n                                                color: 'var(--theme-text-secondary)'\n                                            },\n                                            onMouseEnter: (e)=>{\n                                                e.currentTarget.style.background = 'var(--theme-surface-hover)';\n                                                e.currentTarget.style.color = 'var(--theme-text)';\n                                            },\n                                            onMouseLeave: (e)=>{\n                                                e.currentTarget.style.background = 'transparent';\n                                                e.currentTarget.style.color = 'var(--theme-text-secondary)';\n                                            },\n                                            title: allCollapsed ? \"Expand all categories\" : \"Collapse all categories\",\n                                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"px-3 py-2 rounded transition-colors font-bold text-lg\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                style: {\n                                                    fontSize: '12px'\n                                                },\n                                                className: \"jsx-2f9b26b773af7534\" + \" \" + `fas fa-${allCollapsed ? 'plus' : 'minus'}`\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                lineNumber: 1925,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                            lineNumber: 1901,\n                                            columnNumber: 19\n                                        }, this);\n                                    })(),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setIsSidebarCollapsed(true),\n                                        style: {\n                                            color: 'var(--theme-text-secondary)'\n                                        },\n                                        onMouseEnter: (e)=>{\n                                            e.currentTarget.style.background = 'var(--theme-surface-hover)';\n                                            e.currentTarget.style.color = 'var(--theme-text)';\n                                        },\n                                        onMouseLeave: (e)=>{\n                                            e.currentTarget.style.background = 'transparent';\n                                            e.currentTarget.style.color = 'var(--theme-text-secondary)';\n                                        },\n                                        title: \"Collapse sidebar\",\n                                        className: \"jsx-2f9b26b773af7534\" + \" \" + \"px-4 py-3 rounded transition-colors font-black text-2xl\",\n                                        children: \"\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                        lineNumber: 1929,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                lineNumber: 1895,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                        lineNumber: 1888,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            borderColor: 'var(--theme-border)'\n                        },\n                        className: \"jsx-2f9b26b773af7534\" + \" \" + \"p-3 border-b shrink-0\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                            type: \"text\",\n                            value: searchTerm,\n                            onChange: (e)=>setSearchTerm(e.target.value),\n                            style: {\n                                background: 'var(--theme-surface-variant)',\n                                color: 'var(--theme-text)',\n                                borderColor: 'var(--theme-border)'\n                            },\n                            onFocus: (e)=>e.currentTarget.style.borderColor = 'var(--theme-primary)',\n                            onBlur: (e)=>e.currentTarget.style.borderColor = 'var(--theme-border)',\n                            placeholder: \"Search nodes...\",\n                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"w-full px-3 py-2 rounded text-sm border focus:outline-none\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                            lineNumber: 1951,\n                            columnNumber: 15\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                        lineNumber: 1950,\n                        columnNumber: 13\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            scrollbarGutter: 'stable'\n                        },\n                        className: \"jsx-2f9b26b773af7534\" + \" \" + \"flex-1 overflow-y-auto p-2 custom-scrollbar\",\n                        children: nodeCategories.map((category, idx)=>{\n                            // Pre-filter nodes for this category based on search term\n                            const nodesForCategory = (category.nodes || []).filter((node)=>{\n                                const term = searchTerm.trim().toLowerCase();\n                                if (!term) return true;\n                                return node.name && node.name.toLowerCase().includes(term) || node.description && node.description.toLowerCase().includes(term);\n                            });\n                            // If this category has no matching nodes, don't render it\n                            if (nodesForCategory.length === 0) {\n                                return null;\n                            }\n                            const catKey = normCategory(category.name);\n                            const isCollapsed = collapsedCategories.has(catKey);\n                            const toggleCollapse = ()=>{\n                                setCollapsedCategories((prev)=>{\n                                    const next = new Set(prev);\n                                    if (next.has(catKey)) {\n                                        next.delete(catKey);\n                                    } else {\n                                        next.add(catKey);\n                                    }\n                                    return next;\n                                });\n                            };\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"jsx-2f9b26b773af7534\" + \" \" + \"mb-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            color: 'var(--theme-text-muted)'\n                                        },\n                                        onClick: toggleCollapse,\n                                        onMouseEnter: (e)=>e.currentTarget.style.background = 'var(--theme-surface-hover)',\n                                        onMouseLeave: (e)=>e.currentTarget.style.background = 'transparent',\n                                        className: \"jsx-2f9b26b773af7534\" + \" \" + \"flex items-center justify-between px-2 py-1 text-xs font-semibold uppercase cursor-pointer rounded transition-colors\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"jsx-2f9b26b773af7534\" + \" \" + \"flex items-center gap-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                        style: {\n                                                            width: '15px'\n                                                        },\n                                                        className: \"jsx-2f9b26b773af7534\" + \" \" + (category.icon || \"\")\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                        lineNumber: 2004,\n                                                        columnNumber: 25\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"jsx-2f9b26b773af7534\",\n                                                        children: category.name\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                        lineNumber: 2005,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                lineNumber: 2003,\n                                                columnNumber: 23\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                className: \"jsx-2f9b26b773af7534\" + \" \" + `fas fa-chevron-${isCollapsed ? 'right' : 'down'} text-xs transition-transform`\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                lineNumber: 2007,\n                                                columnNumber: 23\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                        lineNumber: 1996,\n                                        columnNumber: 21\n                                    }, this),\n                                    !isCollapsed && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"jsx-2f9b26b773af7534\" + \" \" + \"space-y-1 mt-1\",\n                                        children: nodesForCategory.map((node, nodeIdx)=>{\n                                            const nodeIconInfo = (0,_utils_nodeUtils__WEBPACK_IMPORTED_MODULE_13__.getNodeIcon)(node.category || 'default');\n                                            const iconClass = node.icon || nodeIconInfo.icon;\n                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    background: 'var(--theme-surface-variant)',\n                                                    borderColor: 'var(--theme-border)'\n                                                },\n                                                onMouseEnter: (e)=>e.currentTarget.style.background = 'var(--theme-surface-hover)',\n                                                onMouseLeave: (e)=>e.currentTarget.style.background = 'var(--theme-surface-variant)',\n                                                draggable: true,\n                                                onDragStart: (e)=>{\n                                                    e.dataTransfer.setData('application/node', JSON.stringify({\n                                                        type: node.type,\n                                                        name: node.name,\n                                                        category: node.category,\n                                                        icon: node.icon,\n                                                        input_ports: node.input_ports,\n                                                        output_ports: node.output_ports\n                                                    }));\n                                                    e.dataTransfer.effectAllowed = 'copy';\n                                                },\n                                                onClick: ()=>{\n                                                    if (viewportRef.current) {\n                                                        const viewport = viewportRef.current;\n                                                        const scale = canvasPanZoom.scale || 1;\n                                                        // Calculate top-left anchor of the current viewport in canvas coordinates\n                                                        const marginLeft = 20; // left margin from the viewport\n                                                        const marginTop = 20; // top margin from the viewport\n                                                        const offsetY = 30; // Vertical spacing for each new node so they don't overlap (approx node height)\n                                                        const offsetX = 15; // Small horizontal shift per node to the right (staircase)\n                                                        const x = (viewport.scrollLeft + marginLeft + sidebarNodeCount * offsetX) / scale;\n                                                        const y = (viewport.scrollTop + marginTop + sidebarNodeCount * offsetY) / scale;\n                                                        addNodeToCanvas(node.type, node.name, node.category, {\n                                                            x,\n                                                            y\n                                                        }, node.icon, node.input_ports, node.output_ports);\n                                                        // Increment staircase counter\n                                                        setSidebarNodeCount((prev)=>prev + 1);\n                                                    }\n                                                },\n                                                className: \"jsx-2f9b26b773af7534\" + \" \" + \"px-3 py-2.5 rounded cursor-grab active:cursor-grabbing transition-colors border\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"flex items-start gap-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            style: {\n                                                                background: nodeIconInfo.bgColor\n                                                            },\n                                                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"flex-shrink-0 w-8 h-8 rounded flex items-center justify-center mt-0.5\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                                style: {\n                                                                    color: nodeIconInfo.color\n                                                                },\n                                                                className: \"jsx-2f9b26b773af7534\" + \" \" + `${iconClass} text-sm`\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                                lineNumber: 2066,\n                                                                columnNumber: 31\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                            lineNumber: 2065,\n                                                            columnNumber: 29\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"flex-1 min-w-0\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    style: {\n                                                                        color: 'var(--theme-text)'\n                                                                    },\n                                                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"text-sm font-semibold leading-tight\",\n                                                                    children: node.name || 'Unnamed Node'\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                                    lineNumber: 2069,\n                                                                    columnNumber: 31\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    style: {\n                                                                        color: 'var(--theme-text-muted)'\n                                                                    },\n                                                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"text-xs mt-0.5 leading-snug\",\n                                                                    children: node.description || 'No description'\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                                    lineNumber: 2070,\n                                                                    columnNumber: 31\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                            lineNumber: 2068,\n                                                            columnNumber: 29\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                    lineNumber: 2064,\n                                                    columnNumber: 27\n                                                }, this)\n                                            }, nodeIdx, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                lineNumber: 2015,\n                                                columnNumber: 25\n                                            }, this);\n                                        })\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                        lineNumber: 2010,\n                                        columnNumber: 23\n                                    }, this)\n                                ]\n                            }, idx, true, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                lineNumber: 1995,\n                                columnNumber: 19\n                            }, this);\n                        })\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                        lineNumber: 1966,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                lineNumber: 1881,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"jsx-2f9b26b773af7534\" + \" \" + \"flex-1 flex flex-col overflow-hidden\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            background: 'var(--theme-surface)',\n                            borderColor: 'var(--theme-border)'\n                        },\n                        className: \"jsx-2f9b26b773af7534\" + \" \" + \"flex items-center justify-between px-4 py-2 border-b shrink-0\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"jsx-2f9b26b773af7534\" + \" \" + \"flex items-center gap-2\",\n                                children: [\n                                    isSidebarCollapsed && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setIsSidebarCollapsed(false),\n                                        style: {\n                                            background: 'var(--theme-surface-variant)',\n                                            color: 'var(--theme-text)',\n                                            borderColor: 'var(--theme-border)'\n                                        },\n                                        onMouseEnter: (e)=>e.currentTarget.style.background = 'var(--theme-surface-hover)',\n                                        onMouseLeave: (e)=>e.currentTarget.style.background = 'var(--theme-surface-variant)',\n                                        title: \"Expand sidebar\",\n                                        className: \"jsx-2f9b26b773af7534\" + \" \" + \"px-3 py-1 rounded text-sm transition-colors border flex items-center gap-1.5\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                className: \"jsx-2f9b26b773af7534\" + \" \" + \"fas fa-bars\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                lineNumber: 2109,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"jsx-2f9b26b773af7534\",\n                                                children: \"Nodes\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                lineNumber: 2110,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                        lineNumber: 2097,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"text\",\n                                        style: {\n                                            background: 'var(--theme-surface-variant)',\n                                            color: 'var(--theme-text)',\n                                            borderColor: 'var(--theme-border)'\n                                        },\n                                        onFocus: (e)=>e.currentTarget.style.borderColor = 'var(--theme-primary)',\n                                        onBlur: (e)=>e.currentTarget.style.borderColor = 'var(--theme-border)',\n                                        placeholder: \"Untitled Workflow\",\n                                        value: workflowName,\n                                        onChange: (e)=>{\n                                            setWorkflowName(e.target.value);\n                                            setIsDirty(true);\n                                        },\n                                        className: \"jsx-2f9b26b773af7534\" + \" \" + \"px-3 py-1 rounded text-sm border focus:outline-none\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                        lineNumber: 2113,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"text\",\n                                        style: {\n                                            background: 'var(--theme-surface-variant)',\n                                            color: 'var(--theme-text)',\n                                            borderColor: 'var(--theme-border)',\n                                            width: '500px'\n                                        },\n                                        onFocus: (e)=>e.currentTarget.style.borderColor = 'var(--theme-primary)',\n                                        onBlur: (e)=>e.currentTarget.style.borderColor = 'var(--theme-border)',\n                                        placeholder: \"Workflow description...\",\n                                        value: workflowDescription,\n                                        maxLength: 50,\n                                        onChange: (e)=>{\n                                            setWorkflowDescription(e.target.value);\n                                            setIsDirty(true);\n                                        },\n                                        className: \"jsx-2f9b26b773af7534\" + \" \" + \"px-3 py-1 rounded text-sm border focus:outline-none\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                        lineNumber: 2127,\n                                        columnNumber: 13\n                                    }, this),\n                                    isDirty && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        style: {\n                                            color: 'var(--theme-warning)'\n                                        },\n                                        className: \"jsx-2f9b26b773af7534\" + \" \" + \"text-xs\",\n                                        children: \"\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                        lineNumber: 2143,\n                                        columnNumber: 25\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                lineNumber: 2095,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"jsx-2f9b26b773af7534\" + \" \" + \"flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setShowSaveOptionsModal(true),\n                                        style: {\n                                            background: 'var(--theme-success)'\n                                        },\n                                        onMouseEnter: (e)=>e.currentTarget.style.background = 'var(--theme-success-hover)',\n                                        onMouseLeave: (e)=>e.currentTarget.style.background = 'var(--theme-success)',\n                                        title: \"Save workflow (Ctrl+S)\",\n                                        className: \"jsx-2f9b26b773af7534\" + \" \" + \"px-3 py-1 text-white rounded text-sm transition-colors\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                className: \"jsx-2f9b26b773af7534\" + \" \" + \"\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                lineNumber: 2155,\n                                                columnNumber: 15\n                                            }, this),\n                                            \"Save\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                        lineNumber: 2147,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setShowLoadOptionsModal(true),\n                                        style: {\n                                            background: 'var(--theme-surface-variant)',\n                                            color: 'var(--theme-text)',\n                                            borderColor: 'var(--theme-border)'\n                                        },\n                                        onMouseEnter: (e)=>e.currentTarget.style.background = 'var(--theme-surface-hover)',\n                                        onMouseLeave: (e)=>e.currentTarget.style.background = 'var(--theme-surface-variant)',\n                                        title: \"Load workflow (Ctrl+L)\",\n                                        className: \"jsx-2f9b26b773af7534\" + \" \" + \"px-3 py-1 rounded text-sm transition-colors border\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                className: \"jsx-2f9b26b773af7534\" + \" \" + \"\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                lineNumber: 2172,\n                                                columnNumber: 15\n                                            }, this),\n                                            \"Load\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                        lineNumber: 2160,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"jsx-2f9b26b773af7534\" + \" \" + \"flex items-center gap-1\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                ref: clearButtonRef,\n                                                onClick: handleClearClick,\n                                                style: {\n                                                    background: 'var(--theme-surface-variant)',\n                                                    color: confirmClear ? 'var(--theme-danger)' : 'var(--theme-text)',\n                                                    borderColor: 'var(--theme-border)'\n                                                },\n                                                onMouseEnter: (e)=>e.currentTarget.style.background = 'var(--theme-surface-hover)',\n                                                onMouseLeave: (e)=>e.currentTarget.style.background = 'var(--theme-surface-variant)',\n                                                className: \"jsx-2f9b26b773af7534\" + \" \" + \"px-3 py-1 rounded text-sm transition-colors border\",\n                                                children: confirmClear ? \"Confirm?\" : \"Clear\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                lineNumber: 2177,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>{\n                                                    isUndoRedoOperation.current = true;\n                                                    undo();\n                                                },\n                                                disabled: !canUndo,\n                                                style: {\n                                                    background: 'var(--theme-surface-variant)',\n                                                    color: canUndo ? 'var(--theme-text)' : 'var(--theme-text-muted)',\n                                                    borderColor: 'var(--theme-border)'\n                                                },\n                                                title: 'Undo (Ctrl+Z/Cmd+Z)',\n                                                className: \"jsx-2f9b26b773af7534\" + \" \" + \"px-3 py-1 rounded text-sm transition-colors border mx-1\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"fas fa-undo\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                    lineNumber: 2204,\n                                                    columnNumber: 17\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                lineNumber: 2190,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>{\n                                                    isUndoRedoOperation.current = true;\n                                                    redo();\n                                                },\n                                                disabled: !canRedo,\n                                                style: {\n                                                    background: 'var(--theme-surface-variant)',\n                                                    color: canRedo ? 'var(--theme-text)' : 'var(--theme-text-muted)',\n                                                    borderColor: 'var(--theme-border)'\n                                                },\n                                                title: 'Redo (Ctrl+Y / Cmd+Shift+Z)',\n                                                className: \"jsx-2f9b26b773af7534\" + \" \" + \"px-3 py-1 rounded text-sm transition-colors border\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"fas fa-redo\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                    lineNumber: 2220,\n                                                    columnNumber: 17\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                lineNumber: 2206,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                        lineNumber: 2176,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            background: 'var(--theme-border)'\n                                        },\n                                        className: \"jsx-2f9b26b773af7534\" + \" \" + \"w-px h-6\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                        lineNumber: 2223,\n                                        columnNumber: 13\n                                    }, this),\n                                    execution.isExecuting ? /* RUNNING STATE: Show Pause/Resume + Stop */ /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                        children: [\n                                            !execution.isPaused ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: execution.handlePause,\n                                                style: {\n                                                    background: 'var(--theme-warning)'\n                                                },\n                                                onMouseEnter: (e)=>e.currentTarget.style.opacity = '0.9',\n                                                onMouseLeave: (e)=>e.currentTarget.style.opacity = '1',\n                                                className: \"jsx-2f9b26b773af7534\" + \" \" + \"px-3 py-1 text-white rounded text-sm transition-colors\",\n                                                children: \"Pause\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                lineNumber: 2229,\n                                                columnNumber: 19\n                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: execution.handleResume,\n                                                style: {\n                                                    background: 'var(--theme-success)'\n                                                },\n                                                onMouseEnter: (e)=>e.currentTarget.style.background = 'var(--theme-success-hover)',\n                                                onMouseLeave: (e)=>e.currentTarget.style.background = 'var(--theme-success)',\n                                                className: \"jsx-2f9b26b773af7534\" + \" \" + \"px-3 py-1 text-white rounded text-sm transition-colors\",\n                                                children: \"Resume\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                lineNumber: 2237,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: execution.handleStop,\n                                                style: {\n                                                    background: 'var(--theme-danger)'\n                                                },\n                                                onMouseEnter: (e)=>e.currentTarget.style.background = 'var(--theme-danger-hover)',\n                                                onMouseLeave: (e)=>e.currentTarget.style.background = 'var(--theme-danger)',\n                                                className: \"jsx-2f9b26b773af7534\" + \" \" + \"px-3 py-1 text-white rounded text-sm transition-colors\",\n                                                children: \"Stop\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                lineNumber: 2245,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true) : execution.lastResult === 'failed' || execution.lastResult === 'stopped' ? /* FAILED/STOPPED STATE: Show Retry + Restart */ /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>execution.handleRetry(false),\n                                                style: {\n                                                    background: 'var(--theme-warning)'\n                                                },\n                                                onMouseEnter: (e)=>e.currentTarget.style.opacity = '0.9',\n                                                onMouseLeave: (e)=>e.currentTarget.style.opacity = '1',\n                                                title: execution.retryInfo ? `Retry from checkpoint - skip ${execution.retryInfo.completed_count || 0} completed node(s)` : 'Retry from checkpoint',\n                                                className: \"jsx-2f9b26b773af7534\" + \" \" + \"px-3 py-1 text-white rounded text-sm font-medium transition-colors flex items-center gap-1\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                        className: \"jsx-2f9b26b773af7534\" + \" \" + \"fas fa-redo text-xs\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                        lineNumber: 2264,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    \"Retry\",\n                                                    execution.retryInfo?.completed_count != null && execution.retryInfo.completed_count > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"jsx-2f9b26b773af7534\" + \" \" + \"text-xs opacity-75\",\n                                                        children: [\n                                                            \"(\",\n                                                            execution.retryInfo.completed_count,\n                                                            \")\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                        lineNumber: 2267,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                lineNumber: 2256,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: async ()=>{\n                                                    if (isDirty) await handleSave(true);\n                                                    execution.handleRestart();\n                                                },\n                                                style: {\n                                                    background: 'var(--theme-primary)'\n                                                },\n                                                onMouseEnter: (e)=>e.currentTarget.style.background = 'var(--theme-primary-hover)',\n                                                onMouseLeave: (e)=>e.currentTarget.style.background = 'var(--theme-primary)',\n                                                title: \"Run workflow from the beginning\",\n                                                className: \"jsx-2f9b26b773af7534\" + \" \" + \"px-3 py-1 text-white rounded text-sm transition-colors\",\n                                                children: \"Restart\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                lineNumber: 2270,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true) : /* IDLE/COMPLETED STATE: Show Run */ /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: async ()=>{\n                                            if (isDirty) await handleSave(true);\n                                            execution.handleRun();\n                                        },\n                                        style: {\n                                            background: 'var(--theme-primary)'\n                                        },\n                                        onMouseEnter: (e)=>e.currentTarget.style.background = 'var(--theme-primary-hover)',\n                                        onMouseLeave: (e)=>e.currentTarget.style.background = 'var(--theme-primary)',\n                                        className: \"jsx-2f9b26b773af7534\" + \" \" + \"px-4 py-1 text-white rounded text-sm font-medium transition-colors\",\n                                        children: \"Run\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                        lineNumber: 2286,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            background: 'var(--theme-border)'\n                                        },\n                                        className: \"jsx-2f9b26b773af7534\" + \" \" + \"w-px h-6\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                        lineNumber: 2297,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            background: 'var(--theme-surface-variant)',\n                                            borderColor: 'var(--theme-border)'\n                                        },\n                                        className: \"jsx-2f9b26b773af7534\" + \" \" + \"flex items-center gap-1 px-2 py-1 rounded border\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: handleZoomOut,\n                                                style: {\n                                                    color: 'var(--theme-text)'\n                                                },\n                                                onMouseEnter: (e)=>e.currentTarget.style.background = 'var(--theme-surface-hover)',\n                                                onMouseLeave: (e)=>e.currentTarget.style.background = 'transparent',\n                                                title: \"Zoom out\",\n                                                className: \"jsx-2f9b26b773af7534\" + \" \" + \"px-2 py-0.5 rounded text-xs transition-colors\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"fas fa-minus\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                    lineNumber: 2314,\n                                                    columnNumber: 17\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                lineNumber: 2306,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                style: {\n                                                    color: 'var(--theme-text-secondary)',\n                                                    minWidth: '45px',\n                                                    textAlign: 'center'\n                                                },\n                                                className: \"jsx-2f9b26b773af7534\" + \" \" + \"text-xs px-2\",\n                                                children: [\n                                                    zoomLevel,\n                                                    \"%\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                lineNumber: 2316,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: handleZoomIn,\n                                                style: {\n                                                    color: 'var(--theme-text)'\n                                                },\n                                                onMouseEnter: (e)=>e.currentTarget.style.background = 'var(--theme-surface-hover)',\n                                                onMouseLeave: (e)=>e.currentTarget.style.background = 'transparent',\n                                                title: \"Zoom in\",\n                                                className: \"jsx-2f9b26b773af7534\" + \" \" + \"px-2 py-0.5 rounded text-xs transition-colors\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"fas fa-plus\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                    lineNumber: 2327,\n                                                    columnNumber: 17\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                lineNumber: 2319,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: handleZoomReset,\n                                                style: {\n                                                    color: 'var(--theme-text)'\n                                                },\n                                                onMouseEnter: (e)=>e.currentTarget.style.background = 'var(--theme-surface-hover)',\n                                                onMouseLeave: (e)=>e.currentTarget.style.background = 'transparent',\n                                                title: \"Reset zoom\",\n                                                className: \"jsx-2f9b26b773af7534\" + \" \" + \"px-2 py-0.5 rounded text-xs transition-colors\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"fas fa-undo\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                    lineNumber: 2337,\n                                                    columnNumber: 17\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                lineNumber: 2329,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                        lineNumber: 2300,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: toggleFullscreen,\n                                        style: {\n                                            background: 'var(--theme-surface-variant)',\n                                            color: 'var(--theme-text)',\n                                            borderColor: 'var(--theme-border)'\n                                        },\n                                        onMouseEnter: (e)=>e.currentTarget.style.background = 'var(--theme-surface-hover)',\n                                        onMouseLeave: (e)=>e.currentTarget.style.background = 'var(--theme-surface-variant)',\n                                        title: isFullscreen ? \"Exit fullscreen\" : \"Enter fullscreen\",\n                                        className: \"jsx-2f9b26b773af7534\" + \" \" + \"px-3 py-1 rounded text-sm transition-colors border\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                            className: \"jsx-2f9b26b773af7534\" + \" \" + `fas fa-${isFullscreen ? 'compress' : 'expand'}`\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                            lineNumber: 2354,\n                                            columnNumber: 15\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                        lineNumber: 2342,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                lineNumber: 2145,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                        lineNumber: 2088,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"jsx-2f9b26b773af7534\" + \" \" + \"flex-1 overflow-hidden relative\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                ref: viewportRef,\n                                id: \"canvasViewport\",\n                                style: {\n                                    background: 'var(--theme-background)',\n                                    \"--canvas-grid-size\": `${gridSettings.gridSize}px`,\n                                    \"--canvas-grid-color\": \"var(--theme-border)\",\n                                    \"--canvas-grid-opacity\": gridSettings.enableGrid ? gridSettings.gridOpacity.toString() : \"0\"\n                                },\n                                onMouseMove: (e)=>{\n                                    handleNodeDrag(e);\n                                    handleConnectionMouseMove(e);\n                                    handleSelectionBoxMove(e);\n                                    handleObjectDrag(e);\n                                    handleGroupResize(e);\n                                },\n                                onMouseUp: (e)=>{\n                                    handleNodeDragEnd();\n                                    handleConnectionMouseUp(e);\n                                    handleSelectionBoxEnd();\n                                    handleObjectDragEnd();\n                                    handleGroupResizeEnd();\n                                },\n                                onMouseLeave: ()=>{\n                                    handleNodeDragEnd();\n                                    setTempConnection(null);\n                                    handleSelectionBoxEnd();\n                                    handleObjectDragEnd();\n                                    handleGroupResizeEnd();\n                                },\n                                onMouseDown: (e)=>{\n                                    // Close context menu when clicking elsewhere\n                                    if (contextMenu || nodeContextMenu) {\n                                        const target = e.target;\n                                        if (!target.closest('.context-menu')) {\n                                            setContextMenu(null);\n                                            setNodeContextMenu(null);\n                                        }\n                                    }\n                                    handleSelectionBoxStart(e);\n                                },\n                                onContextMenu: (e)=>{\n                                    e.preventDefault(); // Prevent default browser context menu\n                                },\n                                onDragOver: (e)=>{\n                                    e.preventDefault();\n                                    e.dataTransfer.dropEffect = 'copy';\n                                },\n                                onDrop: (e)=>{\n                                    e.preventDefault();\n                                    const nodeData = e.dataTransfer.getData('application/node');\n                                    if (nodeData && viewportRef.current) {\n                                        const node = JSON.parse(nodeData);\n                                        const rect = viewportRef.current.getBoundingClientRect();\n                                        const scale = canvasPanZoom.scale || 1;\n                                        // Calculate position relative to canvas, accounting for scroll and zoom\n                                        const x = (e.clientX - rect.left + viewportRef.current.scrollLeft) / scale;\n                                        const y = (e.clientY - rect.top + viewportRef.current.scrollTop) / scale;\n                                        addNodeToCanvas(node.type, node.name, node.category, {\n                                            x,\n                                            y\n                                        }, node.icon, node.input_ports, node.output_ports);\n                                    }\n                                },\n                                className: \"jsx-2f9b26b773af7534\" + \" \" + \"w-full h-full overflow-auto\",\n                                children: canvasPanZoom.canvasRef && /*#__PURE__*/ (0,react_dom__WEBPACK_IMPORTED_MODULE_4__.createPortal)(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                    children: [\n                                        canvasObjects.filter((obj)=>obj.type === 'group').sort((a, b)=>(a.zIndex || 0) - (b.zIndex || 0)).map((group)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    position: 'absolute',\n                                                    left: `${group.position.x}px`,\n                                                    top: `${group.position.y}px`,\n                                                    width: `${group.size.width}px`,\n                                                    height: `${group.size.height}px`,\n                                                    backgroundColor: group.color,\n                                                    border: selectedObject === group.id ? '2px solid #3b82f6' : '2px solid rgba(0,0,0,0.1)',\n                                                    borderRadius: '8px',\n                                                    zIndex: group.zIndex || -1,\n                                                    cursor: 'move',\n                                                    opacity: 0.5\n                                                },\n                                                onMouseDown: (e)=>{\n                                                    const target = e.target;\n                                                    if (!target.classList.contains('resize-handle') && !target.closest('.group-controls')) {\n                                                        handleObjectDragStart(group.id, e);\n                                                    }\n                                                },\n                                                onClick: (e)=>{\n                                                    e.stopPropagation();\n                                                    setSelectedObject(group.id);\n                                                },\n                                                className: \"jsx-2f9b26b773af7534\" + \" \" + `canvas-group ${selectedObject === group.id ? 'selected' : ''}`,\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        type: \"text\",\n                                                        value: group.title,\n                                                        onChange: (e)=>{\n                                                            e.stopPropagation();\n                                                            updateCanvasObject(group.id, {\n                                                                title: e.target.value\n                                                            });\n                                                        },\n                                                        onClick: (e)=>e.stopPropagation(),\n                                                        style: {\n                                                            position: 'absolute',\n                                                            top: '8px',\n                                                            left: '12px',\n                                                            fontSize: '14px',\n                                                            fontWeight: 600,\n                                                            color: '#374151',\n                                                            background: 'transparent',\n                                                            border: selectedObject === group.id ? '1px dashed rgba(0,0,0,0.2)' : '1px solid transparent',\n                                                            padding: '2px 4px',\n                                                            borderRadius: '3px',\n                                                            maxWidth: `${group.size.width - 100}px`\n                                                        },\n                                                        className: \"jsx-2f9b26b773af7534\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                        lineNumber: 2459,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    selectedObject === group.id && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        style: {\n                                                            position: 'absolute',\n                                                            top: '8px',\n                                                            right: '8px',\n                                                            display: 'flex',\n                                                            gap: '4px'\n                                                        },\n                                                        className: \"jsx-2f9b26b773af7534\" + \" \" + \"group-controls\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                type: \"color\",\n                                                                value: group.color,\n                                                                onChange: (e)=>{\n                                                                    e.stopPropagation();\n                                                                    updateCanvasObject(group.id, {\n                                                                        color: e.target.value\n                                                                    });\n                                                                },\n                                                                onClick: (e)=>e.stopPropagation(),\n                                                                style: {\n                                                                    width: '28px',\n                                                                    height: '28px',\n                                                                    border: 'none',\n                                                                    borderRadius: '4px',\n                                                                    cursor: 'pointer'\n                                                                },\n                                                                title: \"Change color\",\n                                                                className: \"jsx-2f9b26b773af7534\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                                lineNumber: 2485,\n                                                                columnNumber: 27\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                onClick: (e)=>{\n                                                                    e.stopPropagation();\n                                                                    deleteCanvasObject(group.id);\n                                                                },\n                                                                style: {\n                                                                    background: '#ef4444',\n                                                                    color: 'white',\n                                                                    border: 'none',\n                                                                    borderRadius: '4px',\n                                                                    padding: '4px 8px',\n                                                                    cursor: 'pointer',\n                                                                    fontSize: '12px'\n                                                                },\n                                                                className: \"jsx-2f9b26b773af7534\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"fas fa-trash\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                                    lineNumber: 2517,\n                                                                    columnNumber: 29\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                                lineNumber: 2502,\n                                                                columnNumber: 27\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                        lineNumber: 2484,\n                                                        columnNumber: 25\n                                                    }, this),\n                                                    selectedObject === group.id && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                        children: [\n                                                            [\n                                                                'nw',\n                                                                'ne',\n                                                                'sw',\n                                                                'se'\n                                                            ].map((handle)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    onMouseDown: (e)=>handleGroupResizeStart(group.id, handle, e),\n                                                                    style: {\n                                                                        position: 'absolute',\n                                                                        width: '12px',\n                                                                        height: '12px',\n                                                                        background: '#3b82f6',\n                                                                        border: '2px solid white',\n                                                                        borderRadius: '50%',\n                                                                        cursor: `${handle}-resize`,\n                                                                        zIndex: 10,\n                                                                        ...handle === 'nw' && {\n                                                                            top: '-6px',\n                                                                            left: '-6px'\n                                                                        },\n                                                                        ...handle === 'ne' && {\n                                                                            top: '-6px',\n                                                                            right: '-6px'\n                                                                        },\n                                                                        ...handle === 'sw' && {\n                                                                            bottom: '-6px',\n                                                                            left: '-6px'\n                                                                        },\n                                                                        ...handle === 'se' && {\n                                                                            bottom: '-6px',\n                                                                            right: '-6px'\n                                                                        }\n                                                                    },\n                                                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"resize-handle\"\n                                                                }, handle, false, {\n                                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                                    lineNumber: 2527,\n                                                                    columnNumber: 29\n                                                                }, this)),\n                                                            [\n                                                                'n',\n                                                                'e',\n                                                                's',\n                                                                'w'\n                                                            ].map((handle)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    onMouseDown: (e)=>handleGroupResizeStart(group.id, handle, e),\n                                                                    style: {\n                                                                        position: 'absolute',\n                                                                        background: '#3b82f6',\n                                                                        border: '1px solid white',\n                                                                        cursor: `${handle === 'n' || handle === 's' ? 'ns' : 'ew'}-resize`,\n                                                                        zIndex: 10,\n                                                                        ...handle === 'n' && {\n                                                                            top: '-3px',\n                                                                            left: '50%',\n                                                                            transform: 'translateX(-50%)',\n                                                                            width: '40px',\n                                                                            height: '6px',\n                                                                            borderRadius: '3px'\n                                                                        },\n                                                                        ...handle === 's' && {\n                                                                            bottom: '-3px',\n                                                                            left: '50%',\n                                                                            transform: 'translateX(-50%)',\n                                                                            width: '40px',\n                                                                            height: '6px',\n                                                                            borderRadius: '3px'\n                                                                        },\n                                                                        ...handle === 'e' && {\n                                                                            right: '-3px',\n                                                                            top: '50%',\n                                                                            transform: 'translateY(-50%)',\n                                                                            width: '6px',\n                                                                            height: '40px',\n                                                                            borderRadius: '3px'\n                                                                        },\n                                                                        ...handle === 'w' && {\n                                                                            left: '-3px',\n                                                                            top: '50%',\n                                                                            transform: 'translateY(-50%)',\n                                                                            width: '6px',\n                                                                            height: '40px',\n                                                                            borderRadius: '3px'\n                                                                        }\n                                                                    },\n                                                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"resize-handle\"\n                                                                }, handle, false, {\n                                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                                    lineNumber: 2549,\n                                                                    columnNumber: 29\n                                                                }, this))\n                                                        ]\n                                                    }, void 0, true)\n                                                ]\n                                            }, group.id, true, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                lineNumber: 2431,\n                                                columnNumber: 21\n                                            }, this)),\n                                        canvasObjects.filter((obj)=>obj.type === 'text').map((text)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    position: 'absolute',\n                                                    left: `${text.position.x}px`,\n                                                    top: `${text.position.y}px`,\n                                                    fontSize: `${text.fontSize}px`,\n                                                    color: text.color,\n                                                    zIndex: text.zIndex || 0,\n                                                    cursor: editingText === text.id ? 'text' : 'move',\n                                                    padding: '4px 8px',\n                                                    border: selectedObject === text.id ? '2px dashed #3b82f6' : '2px dashed transparent',\n                                                    borderRadius: '4px',\n                                                    backgroundColor: selectedObject === text.id ? 'rgba(59, 130, 246, 0.05)' : 'transparent',\n                                                    minWidth: '100px',\n                                                    whiteSpace: 'pre-wrap'\n                                                },\n                                                onMouseDown: (e)=>{\n                                                    if (editingText !== text.id) {\n                                                        handleObjectDragStart(text.id, e);\n                                                    }\n                                                },\n                                                onClick: (e)=>{\n                                                    e.stopPropagation();\n                                                    if (editingText !== text.id) {\n                                                        setSelectedObject(text.id);\n                                                    }\n                                                },\n                                                onDoubleClick: (e)=>{\n                                                    e.stopPropagation();\n                                                    setEditingText(text.id);\n                                                    setSelectedObject(text.id);\n                                                    // Focus the contentEditable div\n                                                    setTimeout(()=>{\n                                                        const el = document.getElementById(`text-edit-${text.id}`);\n                                                        if (el) {\n                                                            el.focus();\n                                                            // Move cursor to end\n                                                            const range = document.createRange();\n                                                            const sel = window.getSelection();\n                                                            range.selectNodeContents(el);\n                                                            range.collapse(false);\n                                                            sel?.removeAllRanges();\n                                                            sel?.addRange(range);\n                                                        }\n                                                    }, 0);\n                                                },\n                                                className: \"jsx-2f9b26b773af7534\" + \" \" + `canvas-text ${selectedObject === text.id ? 'selected' : ''}`,\n                                                children: [\n                                                    editingText === text.id ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        id: `text-edit-${text.id}`,\n                                                        contentEditable: true,\n                                                        suppressContentEditableWarning: true,\n                                                        onBlur: (e)=>{\n                                                            const newContent = e.currentTarget.textContent || '';\n                                                            if (newContent.trim()) {\n                                                                updateCanvasObject(text.id, {\n                                                                    content: newContent\n                                                                });\n                                                            }\n                                                            setEditingText(null);\n                                                        },\n                                                        onKeyDown: (e)=>{\n                                                            if (e.key === 'Enter' && !e.shiftKey) {\n                                                                e.preventDefault();\n                                                                const newContent = e.currentTarget.textContent || '';\n                                                                if (newContent.trim()) {\n                                                                    updateCanvasObject(text.id, {\n                                                                        content: newContent\n                                                                    });\n                                                                }\n                                                                setEditingText(null);\n                                                            }\n                                                            if (e.key === 'Escape') {\n                                                                setEditingText(null);\n                                                            }\n                                                            e.stopPropagation(); // Prevent keyboard shortcuts while editing\n                                                        },\n                                                        onClick: (e)=>e.stopPropagation(),\n                                                        style: {\n                                                            outline: 'none',\n                                                            minWidth: '100px',\n                                                            whiteSpace: 'pre-wrap'\n                                                        },\n                                                        className: \"jsx-2f9b26b773af7534\",\n                                                        children: text.content\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                        lineNumber: 2625,\n                                                        columnNumber: 25\n                                                    }, this) : text.content,\n                                                    selectedObject === text.id && editingText !== text.id && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: (e)=>{\n                                                            e.stopPropagation();\n                                                            deleteCanvasObject(text.id);\n                                                        },\n                                                        style: {\n                                                            position: 'absolute',\n                                                            top: '-10px',\n                                                            right: '-10px',\n                                                            background: '#ef4444',\n                                                            color: 'white',\n                                                            border: 'none',\n                                                            borderRadius: '50%',\n                                                            width: '20px',\n                                                            height: '20px',\n                                                            cursor: 'pointer',\n                                                            fontSize: '10px',\n                                                            display: 'flex',\n                                                            alignItems: 'center',\n                                                            justifyContent: 'center'\n                                                        },\n                                                        className: \"jsx-2f9b26b773af7534\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"fas fa-times\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                            lineNumber: 2685,\n                                                            columnNumber: 27\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                        lineNumber: 2663,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                ]\n                                            }, text.id, true, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                lineNumber: 2575,\n                                                columnNumber: 21\n                                            }, this)),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ConnectionsLayer__WEBPACK_IMPORTED_MODULE_7__.ConnectionsLayer, {\n                                            connections: connections,\n                                            nodes: canvasNodes,\n                                            tempConnection: tempConnection,\n                                            onConnectionClick: handleConnectionClick\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                            lineNumber: 2691,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_NodeRenderer__WEBPACK_IMPORTED_MODULE_6__.NodesLayer, {\n                                            nodes: canvasNodes,\n                                            nodeStates: nodeStates,\n                                            nodeExecutionData: nodeExecutionData,\n                                            onNodeSelect: handleNodeSelect,\n                                            onNodeDelete: handleNodeDelete,\n                                            onNodeDragStart: handleNodeDragStart,\n                                            onPortMouseDown: handlePortMouseDown,\n                                            onNodeContextMenu: handleNodeContextMenu,\n                                            selectedNodes: selectedNodes\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                            lineNumber: 2692,\n                                            columnNumber: 17\n                                        }, this),\n                                        selectionBox && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                position: 'absolute',\n                                                left: `${Math.min(selectionBox.startX, selectionBox.currentX)}px`,\n                                                top: `${Math.min(selectionBox.startY, selectionBox.currentY)}px`,\n                                                width: `${Math.abs(selectionBox.currentX - selectionBox.startX)}px`,\n                                                height: `${Math.abs(selectionBox.currentY - selectionBox.startY)}px`,\n                                                border: '2px dashed var(--theme-primary)',\n                                                background: 'rgba(59, 130, 246, 0.1)',\n                                                pointerEvents: 'none',\n                                                zIndex: 1000\n                                            },\n                                            className: \"jsx-2f9b26b773af7534\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                            lineNumber: 2705,\n                                            columnNumber: 19\n                                        }, this),\n                                        contextMenu && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                position: 'absolute',\n                                                left: `${contextMenu.x}px`,\n                                                top: `${contextMenu.y}px`,\n                                                background: 'var(--theme-surface)',\n                                                border: '1px solid var(--theme-border)',\n                                                borderRadius: '8px',\n                                                boxShadow: '0 4px 12px rgba(0, 0, 0, 0.15)',\n                                                zIndex: 2000,\n                                                minWidth: '180px',\n                                                padding: '4px'\n                                            },\n                                            onClick: (e)=>e.stopPropagation(),\n                                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"context-menu\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: (e)=>{\n                                                        e.stopPropagation();\n                                                        createGroup(contextMenu.x, contextMenu.y);\n                                                        setContextMenu(null);\n                                                    },\n                                                    style: {\n                                                        color: 'var(--theme-text)'\n                                                    },\n                                                    onMouseEnter: (e)=>e.currentTarget.style.background = 'var(--theme-surface-hover)',\n                                                    onMouseLeave: (e)=>e.currentTarget.style.background = 'transparent',\n                                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"w-full text-left px-3 py-2 text-sm rounded transition-colors flex items-center gap-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"fas fa-object-group w-4\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                            lineNumber: 2749,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"jsx-2f9b26b773af7534\",\n                                                            children: \"Add Group\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                            lineNumber: 2750,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                    lineNumber: 2738,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: (e)=>{\n                                                        e.stopPropagation();\n                                                        createTextAnnotation(contextMenu.x, contextMenu.y);\n                                                        setContextMenu(null);\n                                                    },\n                                                    style: {\n                                                        color: 'var(--theme-text)'\n                                                    },\n                                                    onMouseEnter: (e)=>e.currentTarget.style.background = 'var(--theme-surface-hover)',\n                                                    onMouseLeave: (e)=>e.currentTarget.style.background = 'transparent',\n                                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"w-full text-left px-3 py-2 text-sm rounded transition-colors flex items-center gap-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"fas fa-font w-4\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                            lineNumber: 2763,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"jsx-2f9b26b773af7534\",\n                                                            children: \"Add Text\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                            lineNumber: 2764,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                    lineNumber: 2752,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                            lineNumber: 2722,\n                                            columnNumber: 19\n                                        }, this),\n                                        nodeContextMenu && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                position: 'absolute',\n                                                left: `${nodeContextMenu.x}px`,\n                                                top: `${nodeContextMenu.y}px`,\n                                                background: 'var(--theme-surface)',\n                                                border: '1px solid var(--theme-border)',\n                                                borderRadius: '8px',\n                                                boxShadow: '0 4px 12px rgba(0, 0, 0, 0.15)',\n                                                zIndex: 2000,\n                                                minWidth: '180px',\n                                                padding: '4px'\n                                            },\n                                            onClick: (e)=>e.stopPropagation(),\n                                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"context-menu\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: (e)=>{\n                                                        e.stopPropagation();\n                                                        handleNodeFlip(nodeContextMenu.nodeId);\n                                                        setNodeContextMenu(null);\n                                                    },\n                                                    style: {\n                                                        color: 'var(--theme-text)'\n                                                    },\n                                                    onMouseEnter: (e)=>e.currentTarget.style.background = 'var(--theme-surface-hover)',\n                                                    onMouseLeave: (e)=>e.currentTarget.style.background = 'transparent',\n                                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"w-full text-left px-3 py-2 text-sm rounded transition-colors flex items-center gap-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"fas fa-left-right w-4\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                            lineNumber: 2798,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"jsx-2f9b26b773af7534\",\n                                                            children: \"Flip Horizontally\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                            lineNumber: 2799,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                    lineNumber: 2787,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: (e)=>{\n                                                        e.stopPropagation();\n                                                        handleNodeDelete(nodeContextMenu.nodeId);\n                                                        setNodeContextMenu(null);\n                                                    },\n                                                    style: {\n                                                        color: '#ef4444'\n                                                    },\n                                                    onMouseEnter: (e)=>e.currentTarget.style.background = 'var(--theme-surface-hover)',\n                                                    onMouseLeave: (e)=>e.currentTarget.style.background = 'transparent',\n                                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"w-full text-left px-3 py-2 text-sm rounded transition-colors flex items-center gap-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"fas fa-trash w-4\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                            lineNumber: 2812,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"jsx-2f9b26b773af7534\",\n                                                            children: \"Delete\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                            lineNumber: 2813,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                    lineNumber: 2801,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                            lineNumber: 2771,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true), canvasPanZoom.canvasRef)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                lineNumber: 2361,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    width: '200px',\n                                    height: '150px',\n                                    background: 'var(--theme-surface)',\n                                    borderColor: 'var(--theme-border)',\n                                    zIndex: 30,\n                                    opacity: showMinimap ? 1 : 0,\n                                    pointerEvents: showMinimap ? 'auto' : 'none',\n                                    transition: 'opacity 0.5s ease-in-out',\n                                    cursor: isDraggingMinimap ? 'grabbing' : 'grab'\n                                },\n                                onMouseDown: (e)=>{\n                                    if (!viewportRef.current) return;\n                                    // Start dragging minimap\n                                    setIsDraggingMinimap(true);\n                                    e.preventDefault();\n                                    e.stopPropagation();\n                                    // Immediately update position on mousedown\n                                    const minimapRect = e.currentTarget.getBoundingClientRect();\n                                    const clickX = e.clientX - minimapRect.left;\n                                    const clickY = e.clientY - minimapRect.top;\n                                    const minimapScale = 0.04;\n                                    const scale = canvasPanZoom.scale || 1;\n                                    // Convert minimap coordinates to canvas coordinates\n                                    const canvasX = clickX / minimapScale;\n                                    const canvasY = clickY / minimapScale;\n                                    // Center the viewport on the clicked position\n                                    const viewport = viewportRef.current;\n                                    const scrollX = canvasX * scale - viewport.clientWidth / 2;\n                                    const scrollY = canvasY * scale - viewport.clientHeight / 2;\n                                    viewport.scrollTo({\n                                        left: scrollX,\n                                        top: scrollY,\n                                        behavior: 'auto'\n                                    });\n                                },\n                                onMouseMove: (e)=>{\n                                    if (!isDraggingMinimap || !viewportRef.current) return;\n                                    e.preventDefault();\n                                    e.stopPropagation();\n                                    const minimapRect = e.currentTarget.getBoundingClientRect();\n                                    const clickX = e.clientX - minimapRect.left;\n                                    const clickY = e.clientY - minimapRect.top;\n                                    const minimapScale = 0.04;\n                                    const scale = canvasPanZoom.scale || 1;\n                                    // Convert minimap coordinates to canvas coordinates\n                                    const canvasX = clickX / minimapScale;\n                                    const canvasY = clickY / minimapScale;\n                                    // Center the viewport on the dragged position\n                                    const viewport = viewportRef.current;\n                                    const scrollX = canvasX * scale - viewport.clientWidth / 2;\n                                    const scrollY = canvasY * scale - viewport.clientHeight / 2;\n                                    viewport.scrollTo({\n                                        left: scrollX,\n                                        top: scrollY,\n                                        behavior: 'auto'\n                                    });\n                                },\n                                onMouseUp: ()=>{\n                                    setIsDraggingMinimap(false);\n                                },\n                                onMouseLeave: ()=>{\n                                    setIsDraggingMinimap(false);\n                                },\n                                className: \"jsx-2f9b26b773af7534\" + \" \" + \"absolute bottom-4 right-4 rounded shadow-lg border overflow-hidden\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        background: 'var(--theme-background)'\n                                    },\n                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"w-full h-full relative\",\n                                    children: [\n                                        canvasNodes.map((node)=>{\n                                            const minimapScale = 0.04;\n                                            const x = node.position.x * minimapScale;\n                                            const y = node.position.y * minimapScale;\n                                            const width = 240 * minimapScale;\n                                            const height = 100 * minimapScale;\n                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    left: `${x}px`,\n                                                    top: `${y}px`,\n                                                    width: `${width}px`,\n                                                    height: `${height}px`,\n                                                    background: getNodeCategoryColor(node.category),\n                                                    opacity: 0.8\n                                                },\n                                                className: \"jsx-2f9b26b773af7534\" + \" \" + \"absolute rounded\"\n                                            }, node.node_id, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                lineNumber: 2912,\n                                                columnNumber: 19\n                                            }, this);\n                                        }),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                borderColor: 'var(--theme-primary)',\n                                                left: `${minimapViewport.x}px`,\n                                                top: `${minimapViewport.y}px`,\n                                                width: `${minimapViewport.width}px`,\n                                                height: `${minimapViewport.height}px`,\n                                                backgroundColor: 'rgba(59, 130, 246, 0.15)',\n                                                transition: 'none'\n                                            },\n                                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"absolute border-2 pointer-events-none\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                            lineNumber: 2928,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                    lineNumber: 2902,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                lineNumber: 2823,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                        lineNumber: 2360,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        ref: logPanelRef,\n                        style: {\n                            background: 'var(--theme-surface)',\n                            borderColor: 'var(--theme-border)',\n                            height: isLogCollapsed ? \"32px\" : `${logHeight}px`,\n                            minHeight: \"32px\",\n                            maxHeight: \"60vh\"\n                        },\n                        className: \"jsx-2f9b26b773af7534\" + \" \" + \"border-t flex flex-col shrink-0 relative\",\n                        children: [\n                            !isLogCollapsed && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    background: 'transparent'\n                                },\n                                onMouseEnter: (e)=>e.currentTarget.style.background = 'var(--theme-primary)',\n                                onMouseLeave: (e)=>e.currentTarget.style.background = 'transparent',\n                                onMouseDown: handleResizeStart,\n                                title: \"Drag to resize\",\n                                className: \"jsx-2f9b26b773af7534\" + \" \" + \"h-2 cursor-ns-resize transition-colors absolute -top-1 left-0 right-0 z-10\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                lineNumber: 2957,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    borderColor: 'var(--theme-border)'\n                                },\n                                className: \"jsx-2f9b26b773af7534\" + \" \" + \"flex items-center justify-between px-3 py-1.5 border-b shrink-0\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"jsx-2f9b26b773af7534\" + \" \" + \"flex items-center gap-2\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            style: {\n                                                color: 'var(--theme-text-secondary)'\n                                            },\n                                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"text-xs font-semibold\",\n                                            children: \"Workflow Log\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                            lineNumber: 2973,\n                                            columnNumber: 15\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                        lineNumber: 2972,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"jsx-2f9b26b773af7534\" + \" \" + \"flex items-center gap-2\",\n                                        children: [\n                                            !isLogCollapsed && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                style: {\n                                                    color: 'var(--theme-text-muted)'\n                                                },\n                                                className: \"jsx-2f9b26b773af7534\" + \" \" + \"text-xs\",\n                                                children: \"Drag top edge to resize\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                lineNumber: 2977,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>setIsLogCollapsed(!isLogCollapsed),\n                                                style: {\n                                                    color: 'var(--theme-text-secondary)'\n                                                },\n                                                onMouseEnter: (e)=>{\n                                                    e.currentTarget.style.background = 'var(--theme-surface-hover)';\n                                                    e.currentTarget.style.color = 'var(--theme-text)';\n                                                },\n                                                onMouseLeave: (e)=>{\n                                                    e.currentTarget.style.background = 'transparent';\n                                                    e.currentTarget.style.color = 'var(--theme-text-secondary)';\n                                                },\n                                                title: isLogCollapsed ? \"Expand log panel\" : \"Collapse log panel\",\n                                                className: \"jsx-2f9b26b773af7534\" + \" \" + \"p-1 rounded transition-colors text-xs\",\n                                                children: isLogCollapsed ? \"\" : \"\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                lineNumber: 2979,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                        lineNumber: 2975,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                lineNumber: 2968,\n                                columnNumber: 11\n                            }, this),\n                            !isLogCollapsed && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                ref: logBodyRef,\n                                style: {\n                                    overflowY: \"scroll\",\n                                    minHeight: \"100px\",\n                                    color: 'var(--theme-text)'\n                                },\n                                className: \"jsx-2f9b26b773af7534\" + \" \" + \"flex-1 p-3 text-xs space-y-1 custom-scrollbar\",\n                                children: logs.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        color: 'var(--theme-text-muted)'\n                                    },\n                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"text-center py-8\",\n                                    children: \"No logs yet. Run a workflow to see execution logs.\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                    lineNumber: 3008,\n                                    columnNumber: 17\n                                }, this) : logs.map((log, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"jsx-2f9b26b773af7534\" + \" \" + \"whitespace-pre-wrap\",\n                                        children: log\n                                    }, idx, false, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                        lineNumber: 3013,\n                                        columnNumber: 19\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                lineNumber: 2998,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                        lineNumber: 2945,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                lineNumber: 2086,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    height: '70vh',\n                    width: '384px'\n                },\n                className: \"jsx-2f9b26b773af7534\" + \" \" + `fixed top-1/2 -translate-y-1/2 transition-transform duration-300 ease-in-out z-40 rounded-l-lg overflow-hidden shadow-2xl ${isConfigPanelOpen ? 'right-5' : '-right-96'}`,\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ConfigPanel__WEBPACK_IMPORTED_MODULE_8__.ConfigPanel, {\n                    selectedNode: canvasNodes.find((n)=>n.node_id === selectedNode) || null,\n                    nodeDefinition: selectedNode && canvasNodes.find((cn)=>cn.node_id === selectedNode) ? nodeDefinitions.find((n)=>{\n                        const canvasNode = canvasNodes.find((cn)=>cn.node_id === selectedNode);\n                        // Try exact match first, then try with underscores replaced\n                        return n.node_type === canvasNode?.node_type || n.node_type.replace(/_/g, '') === canvasNode?.node_type.replace(/_/g, '');\n                    }) : null,\n                    onConfigUpdate: handleConfigUpdate,\n                    onNodeUpdate: handleNodeUpdate,\n                    workflowNodes: canvasNodes,\n                    workflowConnections: connections,\n                    nodeDefinitions: nodeDefinitions,\n                    nodeExecutionData: nodeExecutionData,\n                    onClose: ()=>{\n                        setIsConfigPanelOpen(false);\n                        setSelectedNode(null);\n                        setCanvasNodes((prev)=>prev.map((n)=>({\n                                    ...n,\n                                    selected: false\n                                })));\n                    }\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                    lineNumber: 3028,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                lineNumber: 3022,\n                columnNumber: 7\n            }, this),\n            showSaveAsModal && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    background: 'rgba(0, 0, 0, 0.5)'\n                },\n                className: \"jsx-2f9b26b773af7534\" + \" \" + \"fixed inset-0 flex items-center justify-center z-50\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        background: 'var(--theme-surface)'\n                    },\n                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"rounded-lg shadow-xl w-full max-w-md\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                borderColor: 'var(--theme-border)'\n                            },\n                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"flex items-center justify-between p-4 border-b\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    style: {\n                                        color: 'var(--theme-text)'\n                                    },\n                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"text-lg font-semibold\",\n                                    children: \"Save As New Workflow\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                    lineNumber: 3065,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>setShowSaveAsModal(false),\n                                    style: {\n                                        color: 'var(--theme-text-secondary)'\n                                    },\n                                    onMouseEnter: (e)=>e.currentTarget.style.color = 'var(--theme-text)',\n                                    onMouseLeave: (e)=>e.currentTarget.style.color = 'var(--theme-text-secondary)',\n                                    className: \"jsx-2f9b26b773af7534\",\n                                    children: \"\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                    lineNumber: 3066,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                            lineNumber: 3061,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"p-4 space-y-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"jsx-2f9b26b773af7534\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            style: {\n                                                color: 'var(--theme-text)'\n                                            },\n                                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"block text-sm font-medium mb-2\",\n                                            children: [\n                                                \"Workflow Name \",\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    style: {\n                                                        color: 'var(--theme-danger)'\n                                                    },\n                                                    className: \"jsx-2f9b26b773af7534\",\n                                                    children: \"*\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                    lineNumber: 3076,\n                                                    columnNumber: 33\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                            lineNumber: 3075,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"text\",\n                                            defaultValue: workflowName,\n                                            id: \"saveAsName\",\n                                            style: {\n                                                background: 'var(--theme-surface-variant)',\n                                                color: 'var(--theme-text)',\n                                                borderColor: 'var(--theme-border)'\n                                            },\n                                            onFocus: (e)=>e.currentTarget.style.borderColor = 'var(--theme-primary)',\n                                            onBlur: (e)=>e.currentTarget.style.borderColor = 'var(--theme-border)',\n                                            placeholder: \"Enter workflow name\",\n                                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"w-full px-3 py-2 border rounded text-sm focus:outline-none\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                            lineNumber: 3078,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                    lineNumber: 3074,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"jsx-2f9b26b773af7534\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            style: {\n                                                color: 'var(--theme-text)'\n                                            },\n                                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"block text-sm font-medium mb-2\",\n                                            children: \"Description\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                            lineNumber: 3094,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                            defaultValue: workflowDescription,\n                                            id: \"saveAsDescription\",\n                                            rows: 3,\n                                            style: {\n                                                background: 'var(--theme-surface-variant)',\n                                                color: 'var(--theme-text)',\n                                                borderColor: 'var(--theme-border)'\n                                            },\n                                            onFocus: (e)=>e.currentTarget.style.borderColor = 'var(--theme-primary)',\n                                            onBlur: (e)=>e.currentTarget.style.borderColor = 'var(--theme-border)',\n                                            placeholder: \"Enter workflow description\",\n                                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"w-full px-3 py-2 border rounded text-sm resize-y focus:outline-none\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                            lineNumber: 3097,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                    lineNumber: 3093,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                            lineNumber: 3073,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                borderColor: 'var(--theme-border)'\n                            },\n                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"flex items-center justify-end gap-2 p-4 border-t\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>setShowSaveAsModal(false),\n                                    style: {\n                                        background: 'var(--theme-surface-variant)',\n                                        color: 'var(--theme-text)'\n                                    },\n                                    onMouseEnter: (e)=>e.currentTarget.style.background = 'var(--theme-surface-hover)',\n                                    onMouseLeave: (e)=>e.currentTarget.style.background = 'var(--theme-surface-variant)',\n                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"px-4 py-2 rounded\",\n                                    children: \"Cancel\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                    lineNumber: 3117,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>{\n                                        const nameInput = document.getElementById('saveAsName');\n                                        const descInput = document.getElementById('saveAsDescription');\n                                        if (nameInput && nameInput.value.trim()) {\n                                            confirmSaveAs(nameInput.value.trim(), descInput?.value || '');\n                                        } else {\n                                            alert('Please enter a workflow name');\n                                        }\n                                    },\n                                    style: {\n                                        background: 'var(--theme-success)'\n                                    },\n                                    onMouseEnter: (e)=>e.currentTarget.style.background = 'var(--theme-success-hover)',\n                                    onMouseLeave: (e)=>e.currentTarget.style.background = 'var(--theme-success)',\n                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"px-4 py-2 text-white rounded\",\n                                    children: \"Save\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                    lineNumber: 3127,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                            lineNumber: 3113,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                    lineNumber: 3057,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                lineNumber: 3056,\n                columnNumber: 9\n            }, this),\n            showSaveOptionsModal && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    background: 'rgba(0, 0, 0, 0.5)'\n                },\n                onClick: ()=>setShowSaveOptionsModal(false),\n                className: \"jsx-2f9b26b773af7534\" + \" \" + \"fixed inset-0 flex items-center justify-center z-50\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        background: 'var(--theme-surface)'\n                    },\n                    onClick: (e)=>e.stopPropagation(),\n                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"rounded-lg shadow-xl w-full max-w-sm\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                borderColor: 'var(--theme-border)'\n                            },\n                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"flex items-center justify-between p-4 border-b\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    style: {\n                                        color: 'var(--theme-text)'\n                                    },\n                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"text-lg font-semibold\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"fas fa-save mr-2\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                            lineNumber: 3160,\n                                            columnNumber: 17\n                                        }, this),\n                                        \"Save Workflow\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                    lineNumber: 3159,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>setShowSaveOptionsModal(false),\n                                    style: {\n                                        color: 'var(--theme-text-secondary)'\n                                    },\n                                    onMouseEnter: (e)=>e.currentTarget.style.color = 'var(--theme-text)',\n                                    onMouseLeave: (e)=>e.currentTarget.style.color = 'var(--theme-text-secondary)',\n                                    className: \"jsx-2f9b26b773af7534\",\n                                    children: \"\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                    lineNumber: 3163,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                            lineNumber: 3155,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"p-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>{\n                                        setShowSaveOptionsModal(false);\n                                        handleSaveAs();\n                                    },\n                                    style: {\n                                        color: 'var(--theme-text)'\n                                    },\n                                    onMouseEnter: (e)=>e.currentTarget.style.background = 'var(--theme-surface-hover)',\n                                    onMouseLeave: (e)=>e.currentTarget.style.background = 'transparent',\n                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"w-full text-left px-4 py-3 text-sm rounded transition-colors flex items-center gap-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"fas fa-edit w-5\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                            lineNumber: 3181,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"jsx-2f9b26b773af7534\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"font-medium\",\n                                                    children: \"Save As...\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                    lineNumber: 3183,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        color: 'var(--theme-text-muted)'\n                                                    },\n                                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"text-xs\",\n                                                    children: \"Save with a new name\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                    lineNumber: 3184,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                            lineNumber: 3182,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                    lineNumber: 3171,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>{\n                                        setShowSaveOptionsModal(false);\n                                        handleSaveCopy();\n                                    },\n                                    style: {\n                                        color: 'var(--theme-text)'\n                                    },\n                                    onMouseEnter: (e)=>e.currentTarget.style.background = 'var(--theme-surface-hover)',\n                                    onMouseLeave: (e)=>e.currentTarget.style.background = 'transparent',\n                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"w-full text-left px-4 py-3 text-sm rounded transition-colors flex items-center gap-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"fas fa-copy w-5\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                            lineNumber: 3197,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"jsx-2f9b26b773af7534\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"font-medium\",\n                                                    children: \"Save a Copy\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                    lineNumber: 3199,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        color: 'var(--theme-text-muted)'\n                                                    },\n                                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"text-xs\",\n                                                    children: \"Create a duplicate with auto-naming\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                    lineNumber: 3200,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                            lineNumber: 3198,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                    lineNumber: 3187,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        borderColor: 'var(--theme-border)'\n                                    },\n                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"border-t my-2\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                    lineNumber: 3203,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>{\n                                        setShowSaveOptionsModal(false);\n                                        handleDownloadJSON();\n                                    },\n                                    style: {\n                                        color: 'var(--theme-text)'\n                                    },\n                                    onMouseEnter: (e)=>e.currentTarget.style.background = 'var(--theme-surface-hover)',\n                                    onMouseLeave: (e)=>e.currentTarget.style.background = 'transparent',\n                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"w-full text-left px-4 py-3 text-sm rounded transition-colors flex items-center gap-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"fas fa-download w-5\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                            lineNumber: 3214,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"jsx-2f9b26b773af7534\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"font-medium\",\n                                                    children: \"Download JSON\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                    lineNumber: 3216,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        color: 'var(--theme-text-muted)'\n                                                    },\n                                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"text-xs\",\n                                                    children: \"Export workflow to file\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                    lineNumber: 3217,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                            lineNumber: 3215,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                    lineNumber: 3204,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                            lineNumber: 3170,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                    lineNumber: 3150,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                lineNumber: 3149,\n                columnNumber: 9\n            }, this),\n            showLoadOptionsModal && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    background: 'rgba(0, 0, 0, 0.5)'\n                },\n                onClick: ()=>setShowLoadOptionsModal(false),\n                className: \"jsx-2f9b26b773af7534\" + \" \" + \"fixed inset-0 flex items-center justify-center z-50\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        background: 'var(--theme-surface)'\n                    },\n                    onClick: (e)=>e.stopPropagation(),\n                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"rounded-lg shadow-xl w-full max-w-sm\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                borderColor: 'var(--theme-border)'\n                            },\n                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"flex items-center justify-between p-4 border-b\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    style: {\n                                        color: 'var(--theme-text)'\n                                    },\n                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"text-lg font-semibold\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"fas fa-folder-open mr-2\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                            lineNumber: 3238,\n                                            columnNumber: 17\n                                        }, this),\n                                        \"Load Workflow\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                    lineNumber: 3237,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>setShowLoadOptionsModal(false),\n                                    style: {\n                                        color: 'var(--theme-text-secondary)'\n                                    },\n                                    onMouseEnter: (e)=>e.currentTarget.style.color = 'var(--theme-text)',\n                                    onMouseLeave: (e)=>e.currentTarget.style.color = 'var(--theme-text-secondary)',\n                                    className: \"jsx-2f9b26b773af7534\",\n                                    children: \"\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                    lineNumber: 3241,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                            lineNumber: 3233,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"p-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>{\n                                        setShowLoadOptionsModal(false);\n                                        handleLoad();\n                                    },\n                                    style: {\n                                        color: 'var(--theme-text)'\n                                    },\n                                    onMouseEnter: (e)=>e.currentTarget.style.background = 'var(--theme-surface-hover)',\n                                    onMouseLeave: (e)=>e.currentTarget.style.background = 'transparent',\n                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"w-full text-left px-4 py-3 text-sm rounded transition-colors flex items-center gap-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"fas fa-database w-5\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                            lineNumber: 3259,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"jsx-2f9b26b773af7534\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"font-medium\",\n                                                    children: \"From Database\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                    lineNumber: 3261,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        color: 'var(--theme-text-muted)'\n                                                    },\n                                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"text-xs\",\n                                                    children: \"Load from saved workflows\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                    lineNumber: 3262,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                            lineNumber: 3260,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                    lineNumber: 3249,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>{\n                                        setShowLoadOptionsModal(false);\n                                        setShowLoadFromFileModal(true);\n                                    },\n                                    style: {\n                                        color: 'var(--theme-text)'\n                                    },\n                                    onMouseEnter: (e)=>e.currentTarget.style.background = 'var(--theme-surface-hover)',\n                                    onMouseLeave: (e)=>e.currentTarget.style.background = 'transparent',\n                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"w-full text-left px-4 py-3 text-sm rounded transition-colors flex items-center gap-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"fas fa-file-upload w-5\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                            lineNumber: 3275,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"jsx-2f9b26b773af7534\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"font-medium\",\n                                                    children: \"From File\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                    lineNumber: 3277,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        color: 'var(--theme-text-muted)'\n                                                    },\n                                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"text-xs\",\n                                                    children: \"Import JSON workflow file\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                    lineNumber: 3278,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                            lineNumber: 3276,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                    lineNumber: 3265,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                            lineNumber: 3248,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                    lineNumber: 3228,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                lineNumber: 3227,\n                columnNumber: 9\n            }, this),\n            showLoadFromFileModal && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    background: 'rgba(0, 0, 0, 0.5)'\n                },\n                className: \"jsx-2f9b26b773af7534\" + \" \" + \"fixed inset-0 flex items-center justify-center z-50\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        background: 'var(--theme-surface)'\n                    },\n                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"rounded-lg shadow-xl w-full max-w-md\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                borderColor: 'var(--theme-border)'\n                            },\n                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"flex items-center justify-between p-4 border-b\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    style: {\n                                        color: 'var(--theme-text)'\n                                    },\n                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"text-lg font-semibold\",\n                                    children: \"Load Workflow from File\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                    lineNumber: 3297,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>setShowLoadFromFileModal(false),\n                                    style: {\n                                        color: 'var(--theme-text-secondary)'\n                                    },\n                                    onMouseEnter: (e)=>e.currentTarget.style.color = 'var(--theme-text)',\n                                    onMouseLeave: (e)=>e.currentTarget.style.color = 'var(--theme-text-secondary)',\n                                    className: \"jsx-2f9b26b773af7534\",\n                                    children: \"\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                    lineNumber: 3298,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                            lineNumber: 3293,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"p-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    style: {\n                                        color: 'var(--theme-text-secondary)'\n                                    },\n                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"text-sm mb-4\",\n                                    children: \"Select a JSON workflow file to load\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                    lineNumber: 3306,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"file\",\n                                    accept: \".json,application/json\",\n                                    onChange: handleLoadFromFile,\n                                    style: {\n                                        background: 'var(--theme-surface-variant)',\n                                        color: 'var(--theme-text)',\n                                        borderColor: 'var(--theme-border)'\n                                    },\n                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"w-full px-3 py-2 border rounded text-sm\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                    lineNumber: 3309,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                            lineNumber: 3305,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                borderColor: 'var(--theme-border)'\n                            },\n                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"flex items-center justify-end gap-2 p-4 border-t\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setShowLoadFromFileModal(false),\n                                style: {\n                                    background: 'var(--theme-surface-variant)',\n                                    color: 'var(--theme-text)'\n                                },\n                                onMouseEnter: (e)=>e.currentTarget.style.background = 'var(--theme-surface-hover)',\n                                onMouseLeave: (e)=>e.currentTarget.style.background = 'var(--theme-surface-variant)',\n                                className: \"jsx-2f9b26b773af7534\" + \" \" + \"px-4 py-2 rounded\",\n                                children: \"Close\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                lineNumber: 3325,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                            lineNumber: 3321,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                    lineNumber: 3289,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                lineNumber: 3288,\n                columnNumber: 9\n            }, this),\n            showLoadModal && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    background: 'rgba(0, 0, 0, 0.5)'\n                },\n                className: \"jsx-2f9b26b773af7534\" + \" \" + \"fixed inset-0 flex items-center justify-center z-50\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        background: 'var(--theme-surface)'\n                    },\n                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"rounded-lg shadow-xl w-full max-w-2xl max-h-[80vh] flex flex-col\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                borderColor: 'var(--theme-border)'\n                            },\n                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"flex items-center justify-between p-4 border-b\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    style: {\n                                        color: 'var(--theme-text)'\n                                    },\n                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"text-lg font-semibold\",\n                                    children: \"Load Workflow\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                    lineNumber: 3351,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>setShowLoadModal(false),\n                                    style: {\n                                        color: 'var(--theme-text-secondary)'\n                                    },\n                                    onMouseEnter: (e)=>e.currentTarget.style.color = 'var(--theme-text)',\n                                    onMouseLeave: (e)=>e.currentTarget.style.color = 'var(--theme-text-secondary)',\n                                    className: \"jsx-2f9b26b773af7534\",\n                                    children: \"\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                    lineNumber: 3352,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                            lineNumber: 3347,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"flex-1 overflow-y-auto p-4\",\n                            children: availableWorkflows.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    color: 'var(--theme-text-muted)'\n                                },\n                                className: \"jsx-2f9b26b773af7534\" + \" \" + \"text-center py-8\",\n                                children: \"No workflows saved yet.\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                lineNumber: 3361,\n                                columnNumber: 17\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"jsx-2f9b26b773af7534\" + \" \" + \"space-y-2\",\n                                children: availableWorkflows.map((workflow)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        onClick: ()=>loadWorkflowById(workflow.id),\n                                        style: {\n                                            background: 'var(--theme-surface-variant)'\n                                        },\n                                        onMouseEnter: (e)=>e.currentTarget.style.background = 'var(--theme-surface-hover)',\n                                        onMouseLeave: (e)=>e.currentTarget.style.background = 'var(--theme-surface-variant)',\n                                        className: \"jsx-2f9b26b773af7534\" + \" \" + \"p-3 rounded cursor-pointer transition-colors\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"flex items-center justify-between\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"jsx-2f9b26b773af7534\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            style: {\n                                                                color: 'var(--theme-text)'\n                                                            },\n                                                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"font-medium\",\n                                                            children: workflow.name\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                            lineNumber: 3375,\n                                                            columnNumber: 27\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            style: {\n                                                                color: 'var(--theme-text-muted)'\n                                                            },\n                                                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"text-xs\",\n                                                            children: [\n                                                                workflow.node_count || 0,\n                                                                \" nodes  Updated \",\n                                                                new Date(workflow.updated_at).toLocaleDateString()\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                            lineNumber: 3376,\n                                                            columnNumber: 27\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                    lineNumber: 3374,\n                                                    columnNumber: 25\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    style: {\n                                                        background: 'var(--theme-primary)'\n                                                    },\n                                                    onMouseEnter: (e)=>e.currentTarget.style.background = 'var(--theme-primary-hover)',\n                                                    onMouseLeave: (e)=>e.currentTarget.style.background = 'var(--theme-primary)',\n                                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"px-3 py-1 text-white rounded text-sm\",\n                                                    children: \"Load\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                    lineNumber: 3380,\n                                                    columnNumber: 25\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                            lineNumber: 3373,\n                                            columnNumber: 23\n                                        }, this)\n                                    }, workflow.id, false, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                        lineNumber: 3365,\n                                        columnNumber: 21\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                lineNumber: 3363,\n                                columnNumber: 17\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                            lineNumber: 3359,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                borderColor: 'var(--theme-border)'\n                            },\n                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"flex items-center justify-end gap-2 p-4 border-t\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setShowLoadModal(false),\n                                style: {\n                                    background: 'var(--theme-surface-variant)',\n                                    color: 'var(--theme-text)'\n                                },\n                                onMouseEnter: (e)=>e.currentTarget.style.background = 'var(--theme-surface-hover)',\n                                onMouseLeave: (e)=>e.currentTarget.style.background = 'var(--theme-surface-variant)',\n                                className: \"jsx-2f9b26b773af7534\" + \" \" + \"px-4 py-2 rounded\",\n                                children: \"Cancel\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                lineNumber: 3396,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                            lineNumber: 3392,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                    lineNumber: 3343,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                lineNumber: 3342,\n                columnNumber: 9\n            }, this),\n            execution.showRetryWarning && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    background: 'rgba(0, 0, 0, 0.5)'\n                },\n                className: \"jsx-2f9b26b773af7534\" + \" \" + \"fixed inset-0 flex items-center justify-center z-50\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        background: 'var(--theme-surface)'\n                    },\n                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"rounded-lg shadow-xl w-full max-w-lg\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                borderColor: 'var(--theme-border)'\n                            },\n                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"flex items-center justify-between p-4 border-b\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    style: {\n                                        color: 'var(--theme-warning)'\n                                    },\n                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"text-lg font-semibold flex items-center gap-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"fas fa-exclamation-triangle\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                            lineNumber: 3423,\n                                            columnNumber: 17\n                                        }, this),\n                                        \"Workflow Structure Changed\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                    lineNumber: 3422,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: execution.handleRetryCancel,\n                                    style: {\n                                        color: 'var(--theme-text-secondary)'\n                                    },\n                                    onMouseEnter: (e)=>e.currentTarget.style.color = 'var(--theme-text)',\n                                    onMouseLeave: (e)=>e.currentTarget.style.color = 'var(--theme-text-secondary)',\n                                    className: \"jsx-2f9b26b773af7534\",\n                                    children: \"\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                    lineNumber: 3426,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                            lineNumber: 3418,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"p-4 space-y-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    style: {\n                                        color: 'var(--theme-text-secondary)'\n                                    },\n                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"text-sm\",\n                                    children: \"The workflow has been modified since the last execution. Retrying may produce unexpected results.\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                    lineNumber: 3434,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        background: 'var(--theme-surface-variant)'\n                                    },\n                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"rounded p-3 space-y-2 max-h-48 overflow-y-auto\",\n                                    children: execution.retryWarnings.map((warning, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"flex items-start gap-2 text-sm\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                    style: {\n                                                        color: 'var(--theme-warning)'\n                                                    },\n                                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"fas fa-info-circle mt-0.5\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                    lineNumber: 3445,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    style: {\n                                                        color: 'var(--theme-text)'\n                                                    },\n                                                    className: \"jsx-2f9b26b773af7534\",\n                                                    children: warning\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                                    lineNumber: 3446,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, idx, true, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                            lineNumber: 3444,\n                                            columnNumber: 19\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                    lineNumber: 3439,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        background: 'var(--theme-info-bg)',\n                                        color: 'var(--theme-info)'\n                                    },\n                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"rounded p-3 text-sm\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                            className: \"jsx-2f9b26b773af7534\",\n                                            children: \"Tip:\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                            lineNumber: 3455,\n                                            columnNumber: 17\n                                        }, this),\n                                        ' If you\\'ve fixed the failing node, you can safely retry. Use \"Restart\" to run the entire workflow from scratch.'\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                    lineNumber: 3451,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                            lineNumber: 3433,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                borderColor: 'var(--theme-border)'\n                            },\n                            className: \"jsx-2f9b26b773af7534\" + \" \" + \"flex items-center justify-end gap-2 p-4 border-t\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: execution.handleRetryCancel,\n                                    style: {\n                                        background: 'var(--theme-surface-variant)',\n                                        color: 'var(--theme-text)'\n                                    },\n                                    onMouseEnter: (e)=>e.currentTarget.style.background = 'var(--theme-surface-hover)',\n                                    onMouseLeave: (e)=>e.currentTarget.style.background = 'var(--theme-surface-variant)',\n                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"px-4 py-2 rounded text-sm\",\n                                    children: \"Cancel\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                    lineNumber: 3463,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: async ()=>{\n                                        if (isDirty) await handleSave(true);\n                                        execution.handleRestart();\n                                    },\n                                    style: {\n                                        background: 'var(--theme-surface)',\n                                        color: 'var(--theme-text)',\n                                        borderColor: 'var(--theme-border)'\n                                    },\n                                    onMouseEnter: (e)=>e.currentTarget.style.background = 'var(--theme-surface-hover)',\n                                    onMouseLeave: (e)=>e.currentTarget.style.background = 'var(--theme-surface)',\n                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"px-4 py-2 rounded text-sm border\",\n                                    children: \"Restart Instead\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                    lineNumber: 3473,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: execution.handleRetryForce,\n                                    style: {\n                                        background: 'var(--theme-warning)'\n                                    },\n                                    onMouseEnter: (e)=>e.currentTarget.style.opacity = '0.9',\n                                    onMouseLeave: (e)=>e.currentTarget.style.opacity = '1',\n                                    className: \"jsx-2f9b26b773af7534\" + \" \" + \"px-4 py-2 text-white rounded text-sm font-medium\",\n                                    children: \"Retry Anyway\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                                    lineNumber: 3487,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                            lineNumber: 3459,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                    lineNumber: 3414,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n                lineNumber: 3413,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n        lineNumber: 1871,\n        columnNumber: 5\n    }, this);\n}\n_s(WorkflowEditorInner, \"9QY9HExRKgWddCQofwQLuhlbjkU=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_3__.useSearchParams,\n        next_navigation__WEBPACK_IMPORTED_MODULE_3__.useRouter,\n        _hooks_useGridSettings__WEBPACK_IMPORTED_MODULE_11__.useGridSettings,\n        _hooks_useCanvasPanZoom__WEBPACK_IMPORTED_MODULE_9__.useCanvasPanZoom,\n        _hooks_useWorkflowExecution__WEBPACK_IMPORTED_MODULE_10__.useWorkflowExecution,\n        _lib_hooks_useUndoableState__WEBPACK_IMPORTED_MODULE_12__.useUndoableState\n    ];\n});\n_c = WorkflowEditorInner;\nfunction WorkflowEditor() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react__WEBPACK_IMPORTED_MODULE_2__.Suspense, {\n        fallback: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            children: \"Loading workflow editor...\"\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n            lineNumber: 3504,\n            columnNumber: 25\n        }, void 0),\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(WorkflowEditorInner, {}, void 0, false, {\n            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n            lineNumber: 3505,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\app\\\\editor-page\\\\page.tsx\",\n        lineNumber: 3504,\n        columnNumber: 5\n    }, this);\n}\n_c1 = WorkflowEditor;\nvar _c, _c1;\n$RefreshReg$(_c, \"WorkflowEditorInner\");\n$RefreshReg$(_c1, \"WorkflowEditor\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvZWRpdG9yLXBhZ2UvcGFnZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRThEO0FBQ0Q7QUFDcEI7QUFPbkI7QUFDc0I7QUFDVTtBQUNWO0FBQ2dCO0FBQ1E7QUFDVjtBQUNNO0FBQzBCO0FBQ3JFO0FBRXJCLFNBQVNzQjs7SUFDUCxNQUFNQyxjQUFjdEIsNkNBQU1BLENBQWlCO0lBQzNDLE1BQU11QixhQUFhdkIsNkNBQU1BLENBQWlCO0lBQzFDLE1BQU13QixjQUFjeEIsNkNBQU1BLENBQWlCO0lBRTNDLDZCQUE2QjtJQUM3QixNQUFNeUIsZUFBZXRCLGdFQUFlQTtJQUNwQyxNQUFNdUIsU0FBU3RCLDBEQUFTQTtJQUV4QixXQUFXO0lBQ1gsTUFBTSxDQUFDdUIsb0JBQW9CQyxzQkFBc0IsR0FBRzNCLCtDQUFRQSxDQUFDO0lBQzdELE1BQU0sQ0FBQzRCLG1CQUFtQkMscUJBQXFCLEdBQUc3QiwrQ0FBUUEsQ0FBQztJQUMzRCxNQUFNLENBQUM4QixnQkFBZ0JDLGtCQUFrQixHQUFHL0IsK0NBQVFBLENBQUM7SUFDckQsTUFBTSxDQUFDZ0MsV0FBV0MsYUFBYSxHQUFHakMsK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDa0MsWUFBWUMsY0FBYyxHQUFHbkMsK0NBQVFBLENBQUM7SUFDN0MsTUFBTSxDQUFDb0MsWUFBWUMsY0FBYyxHQUFHckMsK0NBQVFBLENBQUM7SUFDN0MsTUFBTSxDQUFDc0MsTUFBTUMsUUFBUSxHQUFHdkMsK0NBQVFBLENBQVcsRUFBRTtJQUM3QyxNQUFNLENBQUN3QyxxQkFBcUJDLHVCQUF1QixHQUFHekMsK0NBQVFBLENBQWMsSUFBSTBDO0lBQ2hGLG9FQUFvRTtJQUNwRSxNQUFNQyxlQUFlLENBQUNDLElBQWMsQ0FBQ0EsS0FBSyxFQUFDLEVBQUdDLFFBQVEsR0FBR0MsSUFBSSxHQUFHQyxXQUFXO0lBQzNFLE1BQU0sQ0FBQ0MsY0FBY0MsZ0JBQWdC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Q0FBQzlWLEtBQUssQ0FBQytYLE9BQU8sR0FBRzs4RUFIM0M7OENBSVg7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBT2Y7R0FyNUdTNWpCOztRQU1jbEIsNERBQWVBO1FBQ3JCQyxzREFBU0E7UUF5SkhZLG9FQUFlQTtRQUNkRixxRUFBZ0JBO1FBUXBCQyw4RUFBb0JBO1FBWWtFRSwwRUFBZ0JBOzs7S0FyTGpISTtBQXU1R00sU0FBU3dwQjtJQUN0QixxQkFDRSw4REFBQzNxQiwyQ0FBUUE7UUFBQzRxQix3QkFBVSw4REFBQzFJO3NCQUFJOzs7Ozs7a0JBQ3ZCLDRFQUFDL2dCOzs7Ozs7Ozs7O0FBR1A7TUFOd0J3cEIiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbmljaG9sYXMubGVlXFxEb2N1bWVudHNcXHpcXFRpY2tldGluZ19OaWNrXFxUaWNrZXRpbmdcXHRhdl9vcGVuc291cmNlXFx1aVxcc3JjXFxhcHBcXGVkaXRvci1wYWdlXFxwYWdlLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcclxuXHJcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSwgU3VzcGVuc2UgfSBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IHsgdXNlU2VhcmNoUGFyYW1zLCB1c2VSb3V0ZXIgfSBmcm9tIFwibmV4dC9uYXZpZ2F0aW9uXCI7XHJcbmltcG9ydCB7IGNyZWF0ZVBvcnRhbCB9IGZyb20gXCJyZWFjdC1kb21cIjtcclxuaW1wb3J0IHtcclxuICBjcmVhdGVXb3JrZmxvdyxcclxuICB1cGRhdGVXb3JrZmxvdyxcclxuICBnZXRXb3JrZmxvdyxcclxuICBsaXN0V29ya2Zsb3dzLFxyXG4gIGZldGNoTm9kZURlZmluaXRpb25zLFxyXG59IGZyb20gXCJAL2xpYi9lZGl0b3JcIjtcclxuaW1wb3J0IHsgTm9kZXNMYXllciB9IGZyb20gXCIuL05vZGVSZW5kZXJlclwiO1xyXG5pbXBvcnQgeyBDb25uZWN0aW9uc0xheWVyIH0gZnJvbSBcIi4vQ29ubmVjdGlvbnNMYXllclwiO1xyXG5pbXBvcnQgeyBDb25maWdQYW5lbCB9IGZyb20gXCIuL0NvbmZpZ1BhbmVsXCI7XHJcbmltcG9ydCB7IHVzZUNhbnZhc1Bhblpvb20gfSBmcm9tIFwiLi9ob29rcy91c2VDYW52YXNQYW5ab29tXCI7XHJcbmltcG9ydCB7IHVzZVdvcmtmbG93RXhlY3V0aW9uIH0gZnJvbSBcIi4vaG9va3MvdXNlV29ya2Zsb3dFeGVjdXRpb25cIjtcclxuaW1wb3J0IHsgdXNlR3JpZFNldHRpbmdzIH0gZnJvbSBcIi4vaG9va3MvdXNlR3JpZFNldHRpbmdzXCI7XHJcbmltcG9ydCB7IHVzZVVuZG9hYmxlU3RhdGUgfSBmcm9tIFwiQC9saWIvaG9va3MvdXNlVW5kb2FibGVTdGF0ZVwiO1xyXG5pbXBvcnQgeyBncm91cE5vZGVzQnlDYXRlZ29yeSwgZ2V0Tm9kZUljb24sIGdldER1bW15Q2F0ZWdvcmllcyB9IGZyb20gXCIuL3V0aWxzL25vZGVVdGlsc1wiO1xyXG5pbXBvcnQgXCIuL25vZGVzLmNzc1wiO1xyXG5cclxuZnVuY3Rpb24gV29ya2Zsb3dFZGl0b3JJbm5lcigpIHtcclxuICBjb25zdCB2aWV3cG9ydFJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XHJcbiAgY29uc3QgbG9nQm9keVJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XHJcbiAgY29uc3QgbG9nUGFuZWxSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xyXG4gIFxyXG4gIC8vIFVSTCBwYXJhbXMgZm9yIHdvcmtmbG93IElEXHJcbiAgY29uc3Qgc2VhcmNoUGFyYW1zID0gdXNlU2VhcmNoUGFyYW1zKCk7XHJcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XHJcbiAgXHJcbiAgLy8gVUkgU3RhdGVcclxuICBjb25zdCBbaXNTaWRlYmFyQ29sbGFwc2VkLCBzZXRJc1NpZGViYXJDb2xsYXBzZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtpc0NvbmZpZ1BhbmVsT3Blbiwgc2V0SXNDb25maWdQYW5lbE9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtpc0xvZ0NvbGxhcHNlZCwgc2V0SXNMb2dDb2xsYXBzZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtsb2dIZWlnaHQsIHNldExvZ0hlaWdodF0gPSB1c2VTdGF0ZSgyMDApO1xyXG4gIGNvbnN0IFtzZWFyY2hUZXJtLCBzZXRTZWFyY2hUZXJtXSA9IHVzZVN0YXRlKFwiXCIpO1xyXG4gIGNvbnN0IFtpc1Jlc2l6aW5nLCBzZXRJc1Jlc2l6aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbbG9ncywgc2V0TG9nc10gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oW10pO1xyXG4gIGNvbnN0IFtjb2xsYXBzZWRDYXRlZ29yaWVzLCBzZXRDb2xsYXBzZWRDYXRlZ29yaWVzXSA9IHVzZVN0YXRlPFNldDxzdHJpbmc+PihuZXcgU2V0KCkpO1xyXG4gIC8vIE5vcm1hbGl6ZSBjYXRlZ29yeSBrZXlzIGZvciBzdGFibGUgY29tcGFyaXNvbnMgKHRyaW0gKyBsb3dlcmNhc2UpXHJcbiAgY29uc3Qgbm9ybUNhdGVnb3J5ID0gKHM6IHN0cmluZykgPT4gKHMgfHwgJycpLnRvU3RyaW5nKCkudHJpbSgpLnRvTG93ZXJDYXNlKCk7XHJcbiAgY29uc3QgW2lzRnVsbHNjcmVlbiwgc2V0SXNGdWxsc2NyZWVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbem9vbUxldmVsLCBzZXRab29tTGV2ZWxdID0gdXNlU3RhdGUoMTAwKTtcclxuICBjb25zdCBbc2hvd01pbmltYXAsIHNldFNob3dNaW5pbWFwXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbbWluaW1hcFZpZXdwb3J0LCBzZXRNaW5pbWFwVmlld3BvcnRdID0gdXNlU3RhdGUoeyB4OiAwLCB5OiAwLCB3aWR0aDogMCwgaGVpZ2h0OiAwIH0pO1xyXG4gIGNvbnN0IFtpc0RyYWdnaW5nTWluaW1hcCwgc2V0SXNEcmFnZ2luZ01pbmltYXBdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG5cclxuICAvLyBXb3JrZmxvdyBTdGF0ZVxyXG4gIGNvbnN0IFt3b3JrZmxvd0lkLCBzZXRXb3JrZmxvd0lkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IFt3b3JrZmxvd05hbWUsIHNldFdvcmtmbG93TmFtZV0gPSB1c2VTdGF0ZShcIlVudGl0bGVkIFdvcmtmbG93XCIpO1xyXG4gIGNvbnN0IFt3b3JrZmxvd0Rlc2NyaXB0aW9uLCBzZXRXb3JrZmxvd0Rlc2NyaXB0aW9uXSA9IHVzZVN0YXRlKFwiXCIpO1xyXG4gIGNvbnN0IFtub2Rlcywgc2V0Tm9kZXNdID0gdXNlU3RhdGU8YW55W10+KFtdKTtcclxuICBjb25zdCBbY29ubmVjdGlvbnMsIHNldENvbm5lY3Rpb25zXSA9IHVzZVN0YXRlPGFueVtdPihbXSk7XHJcbiAgY29uc3QgW2lzRGlydHksIHNldElzRGlydHldID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIFxyXG4gIC8vIE5vZGUgZGVmaW5pdGlvbnMgZnJvbSBiYWNrZW5kXHJcbiAgY29uc3QgW25vZGVEZWZpbml0aW9ucywgc2V0Tm9kZURlZmluaXRpb25zXSA9IHVzZVN0YXRlPGFueVtdPihbXSk7XHJcbiAgXHJcbiAgLy8gQ2FudmFzIHJlbmRlcmluZyBzdGF0ZSAodXNpbmcgbm9kZV9pZCBhbmQgbm9kZV90eXBlIHRvIG1hdGNoIGJhY2tlbmQpXHJcbiAgY29uc3QgW2NhbnZhc05vZGVzLCBzZXRDYW52YXNOb2Rlc10gPSB1c2VTdGF0ZTxhbnlbXT4oW10pO1xyXG4gIGNvbnN0IFtjYW52YXNPYmplY3RzLCBzZXRDYW52YXNPYmplY3RzXSA9IHVzZVN0YXRlPGFueVtdPihbXSk7IC8vIEdyb3VwcyBhbmQgdGV4dCBhbm5vdGF0aW9uc1xyXG4gIGNvbnN0IFtzZWxlY3RlZE5vZGUsIHNldFNlbGVjdGVkTm9kZV0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbc2VsZWN0ZWROb2Rlcywgc2V0U2VsZWN0ZWROb2Rlc10gPSB1c2VTdGF0ZTxTZXQ8c3RyaW5nPj4obmV3IFNldCgpKTtcclxuICBjb25zdCBbc2VsZWN0ZWRPYmplY3QsIHNldFNlbGVjdGVkT2JqZWN0XSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpOyAvLyBTZWxlY3RlZCBncm91cC90ZXh0XHJcbiAgXHJcbiAgLy8gQ2xpcGJvYXJkIGZvciBjb3B5L3Bhc3RlIChzdG9yZXMgZGVlcC1jbG9uZWQgbm9kZXMgKyBpbnRlcm5hbCBjb25uZWN0aW9ucylcclxuICBjb25zdCBjbGlwYm9hcmRSZWYgPSB1c2VSZWY8eyBub2RlczogYW55W107IGNvbm5lY3Rpb25zOiBhbnlbXSB9IHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgcGFzdGVPZmZzZXRSZWYgPSB1c2VSZWYoMCk7IC8vIGluY3JlYXNlcyBvbiByZXBlYXRlZCBwYXN0ZXMgdG8gb2Zmc2V0IHBsYWNlbWVudFxyXG4gIGNvbnN0IFtlZGl0aW5nVGV4dCwgc2V0RWRpdGluZ1RleHRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7IC8vIElEIG9mIHRleHQgYmVpbmcgZWRpdGVkXHJcbiAgY29uc3QgW3Jlc2l6aW5nR3JvdXAsIHNldFJlc2l6aW5nR3JvdXBdID0gdXNlU3RhdGU8eyBpZDogc3RyaW5nOyBoYW5kbGU6IHN0cmluZzsgc3RhcnRYOiBudW1iZXI7IHN0YXJ0WTogbnVtYmVyOyBzdGFydFNpemU6IHsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXIgfTsgc3RhcnRQb3M6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSB9IHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW2RyYWdnZWROb2RlLCBzZXREcmFnZ2VkTm9kZV0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbZHJhZ09mZnNldCwgc2V0RHJhZ09mZnNldF0gPSB1c2VTdGF0ZSh7IHg6IDAsIHk6IDAgfSk7XHJcbiAgY29uc3QgW2lzRHJhZ2dpbmdOb2RlLCBzZXRJc0RyYWdnaW5nTm9kZV0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW2lzRHJhZ2dpbmdHcm91cCwgc2V0SXNEcmFnZ2luZ0dyb3VwXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbaXNEcmFnZ2luZ09iamVjdCwgc2V0SXNEcmFnZ2luZ09iamVjdF0gPSB1c2VTdGF0ZShmYWxzZSk7IC8vIERyYWdnaW5nIGdyb3VwL3RleHRcclxuICBjb25zdCBbZ3JvdXBEcmFnU3RhcnQsIHNldEdyb3VwRHJhZ1N0YXJ0XSA9IHVzZVN0YXRlPHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IFtncm91cERyYWdPZmZzZXRzLCBzZXRHcm91cERyYWdPZmZzZXRzXSA9IHVzZVN0YXRlPE1hcDxzdHJpbmcsIHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfT4+KG5ldyBNYXAoKSk7XHJcbiAgY29uc3QgW3NlbGVjdGlvbkJveCwgc2V0U2VsZWN0aW9uQm94XSA9IHVzZVN0YXRlPHtcclxuICAgIHN0YXJ0WDogbnVtYmVyO1xyXG4gICAgc3RhcnRZOiBudW1iZXI7XHJcbiAgICBjdXJyZW50WDogbnVtYmVyO1xyXG4gICAgY3VycmVudFk6IG51bWJlcjtcclxuICB9IHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW2NvbnRleHRNZW51LCBzZXRDb250ZXh0TWVudV0gPSB1c2VTdGF0ZTx7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0gfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbbm9kZUNvbnRleHRNZW51LCBzZXROb2RlQ29udGV4dE1lbnVdID0gdXNlU3RhdGU8eyB4OiBudW1iZXI7IHk6IG51bWJlcjsgbm9kZUlkOiBzdHJpbmcgfSB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IFt0ZW1wQ29ubmVjdGlvbiwgc2V0VGVtcENvbm5lY3Rpb25dID0gdXNlU3RhdGU8e1xyXG4gICAgZnJvbU5vZGU6IHN0cmluZztcclxuICAgIGZyb21Qb3J0OiBzdHJpbmc7XHJcbiAgICBmcm9tVHlwZTogJ2lucHV0JyB8ICdvdXRwdXQnO1xyXG4gICAgY3VycmVudFg6IG51bWJlcjtcclxuICAgIGN1cnJlbnRZOiBudW1iZXI7XHJcbiAgfSB8IG51bGw+KG51bGwpO1xyXG4gIFxyXG4gIC8vIFRyYWNrIHNpZGViYXIgbm9kZSBwbGFjZW1lbnQgZm9yIHN0YWlyY2FzZSBlZmZlY3RcclxuICBjb25zdCBbc2lkZWJhck5vZGVDb3VudCwgc2V0U2lkZWJhck5vZGVDb3VudF0gPSB1c2VTdGF0ZSgwKTtcclxuICBjb25zdCBwcmV2Vmlld3BvcnRTY3JvbGwgPSB1c2VSZWYoeyBsZWZ0OiAwLCB0b3A6IDAgfSk7XHJcblxyXG4gIC8vIE5vZGUgZXhlY3V0aW9uIHN0YXRlcyAobm9kZV9pZCAtPiBzdGF0dXMpXHJcbiAgdHlwZSBOb2RlU3RhdHVzID0gJ2lkbGUnIHwgJ3BlbmRpbmcnIHwgJ2V4ZWN1dGluZycgfCAnY29tcGxldGVkJyB8ICdmYWlsZWQnO1xyXG4gIGludGVyZmFjZSBOb2RlU3RhdGUgeyBcclxuICAgIHN0YXR1czogTm9kZVN0YXR1czsgXHJcbiAgICBlcnJvcj86IHN0cmluZzsgXHJcbiAgICBwcmV2aWV3RGF0YT86IGFueTsgIC8vIEV4ZWN1dGlvbiByZXN1bHQgZGF0YSBmb3IgcHJldmlldyAodGV4dCwgaW1hZ2VzLCBldGMuKVxyXG4gIH1cclxuICBjb25zdCBbbm9kZVN0YXRlcywgc2V0Tm9kZVN0YXRlc10gPSB1c2VTdGF0ZTxSZWNvcmQ8c3RyaW5nLCBOb2RlU3RhdGU+Pih7fSk7XHJcbiAgY29uc3QgW25vZGVFeGVjdXRpb25EYXRhLCBzZXROb2RlRXhlY3V0aW9uRGF0YV0gPSB1c2VTdGF0ZTxSZWNvcmQ8c3RyaW5nLCBhbnk+Pih7fSk7XHJcbiAgXHJcbiAgLy8gSGVscGVyIHRvIHVwZGF0ZSBub2RlIHN0YXRlXHJcbiAgY29uc3QgdXBkYXRlTm9kZVN0YXRlID0gKG5vZGVJZDogc3RyaW5nLCBzdGF0dXM6IE5vZGVTdGF0dXMsIGVycm9yPzogc3RyaW5nLCBwcmV2aWV3RGF0YT86IGFueSwgZnVsbEV4ZWN1dGlvbkRhdGE/OiBhbnkpID0+IHtcclxuICAgIHNldE5vZGVTdGF0ZXMocHJldiA9PiB7XHJcbiAgICAgIGNvbnN0IG5ld1N0YXRlcyA9IHtcclxuICAgICAgICAuLi5wcmV2LFxyXG4gICAgICAgIFtub2RlSWRdOiB7IHN0YXR1cywgZXJyb3IsIHByZXZpZXdEYXRhIH1cclxuICAgICAgfTtcclxuICAgICAgcmV0dXJuIG5ld1N0YXRlcztcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICAvLyBTdG9yZSBmdWxsIGV4ZWN1dGlvbiBkYXRhIGlmIHByb3ZpZGVkXHJcbiAgICBpZiAoZnVsbEV4ZWN1dGlvbkRhdGEpIHtcclxuICAgICAgc2V0Tm9kZUV4ZWN1dGlvbkRhdGEocHJldiA9PiAoe1xyXG4gICAgICAgIC4uLnByZXYsXHJcbiAgICAgICAgW25vZGVJZF06IGZ1bGxFeGVjdXRpb25EYXRhXHJcbiAgICAgIH0pKTtcclxuICAgIH1cclxuICB9O1xyXG4gIFxyXG4gIC8vIEhlbHBlciB0byByZXNldCBhbGwgbm9kZSBzdGF0ZXNcclxuICBjb25zdCByZXNldEFsbE5vZGVTdGF0ZXMgPSAoKSA9PiB7XHJcbiAgICAvLyBJbnN0ZWFkIG9mIHdpcGluZyBhbGwgc3RhdGVzLCBwcmVzZXJ2ZSBwcmV2aWV3IGRhdGEgZm9yIG91dHB1dCBub2Rlc1xyXG4gICAgY29uc3QgcmVzZXRTdGF0ZXM6IFJlY29yZDxzdHJpbmcsIE5vZGVTdGF0ZT4gPSB7fTtcclxuICAgIGNhbnZhc05vZGVzLmZvckVhY2gobm9kZSA9PiB7XHJcbiAgICAgIGNvbnN0IG9sZFN0YXRlID0gbm9kZVN0YXRlc1tub2RlLm5vZGVfaWRdO1xyXG4gICAgICBjb25zdCBzaG91bGRQcmVzZXJ2ZVByZXZpZXcgPSBub2RlLmNhdGVnb3J5ID09PSAnb3V0cHV0JyB8fCBub2RlLm5vZGVfdHlwZT8uaW5jbHVkZXMoJ2Rpc3BsYXknKTtcclxuICAgICAgXHJcbiAgICAgIGlmIChzaG91bGRQcmVzZXJ2ZVByZXZpZXcgJiYgb2xkU3RhdGU/LnByZXZpZXdEYXRhKSB7XHJcbiAgICAgICAgLy8gS2VlcCBwcmV2aWV3IGRhdGEgYnV0IHJlbW92ZSBzdGF0dXMgKGJhY2sgdG8gaWRsZSlcclxuICAgICAgICByZXNldFN0YXRlc1tub2RlLm5vZGVfaWRdID0geyBcclxuICAgICAgICAgIHN0YXR1czogJ2lkbGUnLFxyXG4gICAgICAgICAgcHJldmlld0RhdGE6IG9sZFN0YXRlLnByZXZpZXdEYXRhIFxyXG4gICAgICAgIH07XHJcbiAgICAgIH0gZWxzZSBpZiAob2xkU3RhdGU/LnN0YXR1cyA9PT0gJ2ZhaWxlZCcpIHtcclxuICAgICAgICAvLyBSZXNldCBmYWlsZWQgbm9kZXMgdG8gaWRsZSBleHBsaWNpdGx5XHJcbiAgICAgICAgcmVzZXRTdGF0ZXNbbm9kZS5ub2RlX2lkXSA9IHsgXHJcbiAgICAgICAgICBzdGF0dXM6ICdpZGxlJ1xyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgICAgLy8gT3RoZXIgbm9kZXMganVzdCBnZXQgY2xlYXJlZCAobm8gZW50cnkgPSBpZGxlKVxyXG4gICAgfSk7XHJcbiAgICBzZXROb2RlU3RhdGVzKHJlc2V0U3RhdGVzKTtcclxuICB9O1xyXG4gIFxyXG4gIC8vIEhlbHBlciB0byBzZXQgYWxsIG5vZGVzIHRvIHBlbmRpbmcgc3RhdGVcclxuICBjb25zdCBzZXRBbGxOb2Rlc1BlbmRpbmcgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBwZW5kaW5nU3RhdGVzOiBSZWNvcmQ8c3RyaW5nLCBOb2RlU3RhdGU+ID0ge307XHJcbiAgICBjYW52YXNOb2Rlcy5mb3JFYWNoKG5vZGUgPT4ge1xyXG4gICAgICAvLyBQcmVzZXJ2ZSBwcmV2aWV3IGRhdGEgZm9yIG91dHB1dC9kaXNwbGF5IG5vZGVzXHJcbiAgICAgIGNvbnN0IG9sZFN0YXRlID0gbm9kZVN0YXRlc1tub2RlLm5vZGVfaWRdO1xyXG4gICAgICBjb25zdCBzaG91bGRQcmVzZXJ2ZVByZXZpZXcgPSBub2RlLmNhdGVnb3J5ID09PSAnb3V0cHV0JyB8fCBub2RlLm5vZGVfdHlwZT8uaW5jbHVkZXMoJ2Rpc3BsYXknKTtcclxuICAgICAgXHJcbiAgICAgIHBlbmRpbmdTdGF0ZXNbbm9kZS5ub2RlX2lkXSA9IHsgXHJcbiAgICAgICAgc3RhdHVzOiAncGVuZGluZycsXHJcbiAgICAgICAgLy8gS2VlcCBwcmV2aW91cyBwcmV2aWV3IGRhdGEgaWYgdGhpcyBpcyBhbiBvdXRwdXQvZGlzcGxheSBub2RlXHJcbiAgICAgICAgLi4uKHNob3VsZFByZXNlcnZlUHJldmlldyAmJiBvbGRTdGF0ZT8ucHJldmlld0RhdGEgPyB7IHByZXZpZXdEYXRhOiBvbGRTdGF0ZS5wcmV2aWV3RGF0YSB9IDoge30pXHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuICAgIHNldE5vZGVTdGF0ZXMocGVuZGluZ1N0YXRlcyk7XHJcbiAgfTtcclxuICBcclxuICAvLyBNb2RhbHMgJiBEYXRhXHJcbiAgY29uc3QgW3Nob3dMb2FkTW9kYWwsIHNldFNob3dMb2FkTW9kYWxdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtzaG93U2F2ZUFzTW9kYWwsIHNldFNob3dTYXZlQXNNb2RhbF0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW3Nob3dMb2FkRnJvbUZpbGVNb2RhbCwgc2V0U2hvd0xvYWRGcm9tRmlsZU1vZGFsXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbc2hvd1NhdmVPcHRpb25zTW9kYWwsIHNldFNob3dTYXZlT3B0aW9uc01vZGFsXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbc2hvd0xvYWRPcHRpb25zTW9kYWwsIHNldFNob3dMb2FkT3B0aW9uc01vZGFsXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbc2F2ZU1vZGUsIHNldFNhdmVNb2RlXSA9IHVzZVN0YXRlPCdzYXZlJyB8ICdzYXZlX2FzJyB8ICdzYXZlX2NvcHknPignc2F2ZScpO1xyXG4gIGNvbnN0IFthdmFpbGFibGVXb3JrZmxvd3MsIHNldEF2YWlsYWJsZVdvcmtmbG93c10gPSB1c2VTdGF0ZTxhbnlbXT4oW10pO1xyXG4gIGNvbnN0IFtub2RlQ2F0ZWdvcmllcywgc2V0Tm9kZUNhdGVnb3JpZXNdID0gdXNlU3RhdGU8YW55W10+KFtdKTtcclxuICBjb25zdCBbY29uZmlybUNsZWFyLCBzZXRDb25maXJtQ2xlYXJdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IGNsZWFyQnV0dG9uUmVmID0gdXNlUmVmPEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbD4obnVsbCk7XHJcblxyXG4gIC8vIEN1c3RvbSBob29rc1xyXG4gIGNvbnN0IGdyaWRTZXR0aW5ncyA9IHVzZUdyaWRTZXR0aW5ncygpO1xyXG4gIGNvbnN0IGNhbnZhc1Bhblpvb20gPSB1c2VDYW52YXNQYW5ab29tKHZpZXdwb3J0UmVmLCB7XHJcbiAgICBncmlkU2l6ZTogZ3JpZFNldHRpbmdzLmdyaWRTaXplLFxyXG4gICAgZ3JpZE9wYWNpdHk6IGdyaWRTZXR0aW5ncy5ncmlkT3BhY2l0eSxcclxuICAgIGVuYWJsZUdyaWQ6IGdyaWRTZXR0aW5ncy5lbmFibGVHcmlkXHJcbiAgfSwgKHNjYWxlKSA9PiB7XHJcbiAgICAvLyBVcGRhdGUgem9vbSBsZXZlbCB3aGVuIGNhbnZhcyBzY2FsZSBjaGFuZ2VzIChmcm9tIHdoZWVsIG9yIGJ1dHRvbnMpXHJcbiAgICBzZXRab29tTGV2ZWwoTWF0aC5yb3VuZChzY2FsZSAqIDEwMCkpO1xyXG4gIH0pO1xyXG4gIGNvbnN0IGV4ZWN1dGlvbiA9IHVzZVdvcmtmbG93RXhlY3V0aW9uKHdvcmtmbG93SWQsIGFkZExvZywgdXBkYXRlTm9kZVN0YXRlLCByZXNldEFsbE5vZGVTdGF0ZXMsIHNldEFsbE5vZGVzUGVuZGluZyk7XHJcblxyXG4gIC8vIFVuZG8gLyByZWRvIHN1cHBvcnQgKHBhdGNoLWJhc2VkIHZpYSBpbW1lcilcclxuICBjb25zdCBkZWVwQ2xvbmUgPSAob2JqOiBhbnkpID0+IHR5cGVvZiBzdHJ1Y3R1cmVkQ2xvbmUgPT09ICdmdW5jdGlvbicgPyBzdHJ1Y3R1cmVkQ2xvbmUob2JqKSA6IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSk7XHJcblxyXG4gIGNvbnN0IGdldFNuYXBzaG90ID0gKCkgPT4gKHtcclxuICAgIGNhbnZhc05vZGVzOiBkZWVwQ2xvbmUoY2FudmFzTm9kZXMpLFxyXG4gICAgY29ubmVjdGlvbnM6IGRlZXBDbG9uZShjb25uZWN0aW9ucyksXHJcbiAgICBjYW52YXNPYmplY3RzOiBkZWVwQ2xvbmUoY2FudmFzT2JqZWN0cyksXHJcbiAgICBzZWxlY3RlZE5vZGUsXHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IHsgcHJlc2VudCwgcHVzaFByb2R1Y2VyLCBwdXNoU25hcHNob3QsIHJlcGxhY2U6IHJlcGxhY2VTbmFwc2hvdCwgdW5kbywgcmVkbywgY2FuVW5kbywgY2FuUmVkbyB9ID0gdXNlVW5kb2FibGVTdGF0ZShnZXRTbmFwc2hvdCgpLCAyMDApO1xyXG5cclxuICAvLyBUcmFjayB3aGV0aGVyIHdlJ3JlIGluIGFuIHVuZG8vcmVkbyBvcGVyYXRpb25cclxuICBjb25zdCBpc1VuZG9SZWRvT3BlcmF0aW9uID0gdXNlUmVmKGZhbHNlKTtcclxuXHJcbiAgLy8gS2VlcCBVSSBpbiBzeW5jIHdpdGggcHJlc2VudCAoZW5zdXJlcyBVSSB1cGRhdGVzIHdoZW4gdW5kby9yZWRvIGhhcHBlbilcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgcCA9IHByZXNlbnQgYXMgYW55O1xyXG4gICAgaWYgKCFwKSByZXR1cm47XHJcbiAgICBzZXRDYW52YXNOb2RlcyhwLmNhbnZhc05vZGVzIHx8IFtdKTtcclxuICAgIHNldENvbm5lY3Rpb25zKHAuY29ubmVjdGlvbnMgfHwgW10pO1xyXG4gICAgc2V0Q2FudmFzT2JqZWN0cyhwLmNhbnZhc09iamVjdHMgfHwgW10pO1xyXG4gICAgLy8gT25seSByZXNldCBzZWxlY3RlZE5vZGUgZHVyaW5nIHVuZG8vcmVkbywgbm90IGR1cmluZyByZWd1bGFyIHVwZGF0ZXNcclxuICAgIGlmIChpc1VuZG9SZWRvT3BlcmF0aW9uLmN1cnJlbnQpIHtcclxuICAgICAgc2V0U2VsZWN0ZWROb2RlKHAuc2VsZWN0ZWROb2RlID8/IG51bGwpO1xyXG4gICAgICBpc1VuZG9SZWRvT3BlcmF0aW9uLmN1cnJlbnQgPSBmYWxzZTtcclxuICAgIH1cclxuICB9LCBbcHJlc2VudF0pO1xyXG5cclxuICAvLyBJbml0aWFsaXplIGhpc3Rvcnkgb24gbW91bnRcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgcmVwbGFjZVNuYXBzaG90KGdldFNuYXBzaG90KCkpO1xyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgLy8gSGFuZGxlIGxvZyBwYW5lbCByZXNpemVcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgaGFuZGxlTW91c2VNb3ZlID0gKGU6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgaWYgKCFpc1Jlc2l6aW5nIHx8ICFsb2dQYW5lbFJlZi5jdXJyZW50KSByZXR1cm47XHJcbiAgICAgIGNvbnN0IHJlY3QgPSBsb2dQYW5lbFJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICBjb25zdCBuZXdIZWlnaHQgPSByZWN0LmJvdHRvbSAtIGUuY2xpZW50WTtcclxuICAgICAgY29uc3QgbWluSGVpZ2h0ID0gMzI7XHJcbiAgICAgIGNvbnN0IG1heEhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCAqIDAuNjtcclxuICAgICAgY29uc3QgY29uc3RyYWluZWRIZWlnaHQgPSBNYXRoLm1heChtaW5IZWlnaHQsIE1hdGgubWluKG1heEhlaWdodCwgbmV3SGVpZ2h0KSk7XHJcbiAgICAgIHNldExvZ0hlaWdodChjb25zdHJhaW5lZEhlaWdodCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGhhbmRsZU1vdXNlVXAgPSAoKSA9PiB7XHJcbiAgICAgIHNldElzUmVzaXppbmcoZmFsc2UpO1xyXG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwiXCI7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUudXNlclNlbGVjdCA9IFwiXCI7XHJcbiAgICB9O1xyXG5cclxuICAgIGlmIChpc1Jlc2l6aW5nKSB7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIGhhbmRsZU1vdXNlTW92ZSk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBoYW5kbGVNb3VzZVVwKTtcclxuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSBcIm5zLXJlc2l6ZVwiO1xyXG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnVzZXJTZWxlY3QgPSBcIm5vbmVcIjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIGhhbmRsZU1vdXNlTW92ZSk7XHJcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIGhhbmRsZU1vdXNlVXApO1xyXG4gICAgfTtcclxuICB9LCBbaXNSZXNpemluZ10pO1xyXG5cclxuICBjb25zdCBoYW5kbGVSZXNpemVTdGFydCA9IChlOiBSZWFjdC5Nb3VzZUV2ZW50KSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBzZXRJc1Jlc2l6aW5nKHRydWUpO1xyXG4gIH07XHJcblxyXG4gIC8vIExvYWQgbm9kZXMgb24gbW91bnRcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgbG9hZE5vZGVzKCk7XHJcbiAgfSwgW10pO1xyXG4gIFxyXG4gIC8vIExvYWQgd29ya2Zsb3cgZnJvbSBVUkwgaWYgd29ya2Zsb3cgSUQgaXMgcHJlc2VudFxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCB1cmxXb3JrZmxvd0lkID0gc2VhcmNoUGFyYW1zLmdldCgnd29ya2Zsb3cnKTtcclxuICAgIGlmICh1cmxXb3JrZmxvd0lkICYmIHVybFdvcmtmbG93SWQgIT09IHdvcmtmbG93SWQpIHtcclxuICAgICAgbG9hZFdvcmtmbG93QnlJZCh1cmxXb3JrZmxvd0lkKTtcclxuICAgIH1cclxuICB9LCBbc2VhcmNoUGFyYW1zXSk7XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIGxvYWROb2RlcygpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2hOb2RlRGVmaW5pdGlvbnMoKTtcclxuXHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBjYXRlZ29yaWVzID0gZ3JvdXBOb2Rlc0J5Q2F0ZWdvcnkocmVzcG9uc2Uubm9kZXMgfHwgW10pO1xyXG4gICAgICBzZXROb2RlQ2F0ZWdvcmllcyhjYXRlZ29yaWVzKTtcclxuICAgICAgc2V0Tm9kZURlZmluaXRpb25zKHJlc3BvbnNlLm5vZGVzIHx8IFtdKTsgLy8gU3RvcmUgYWxsIG5vZGUgZGVmaW5pdGlvbnNcclxuICAgICAgYWRkTG9nKGDinIUgTG9hZGVkICR7cmVzcG9uc2Uubm9kZXM/Lmxlbmd0aCB8fCAwfSBub2RlcyBmcm9tIGJhY2tlbmRgKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIG5vZGVzOicsIGVycm9yKTtcclxuICAgICAgYWRkTG9nKGDinYwgRmFpbGVkIHRvIGxvYWQgbm9kZXM6ICR7ZXJyb3J9YCk7XHJcbiAgICAgIHNldE5vZGVDYXRlZ29yaWVzKGdldER1bW15Q2F0ZWdvcmllcygpKTtcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT0gV29ya2Zsb3cgQ1JVRCA9PT09PT09PT09PT09PT09PT09PVxyXG4gIFxyXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBnZW5lcmF0ZSBVVUlEXHJcbiAgY29uc3QgZ2VuZXJhdGVVVUlEID0gKCkgPT4ge1xyXG4gICAgcmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24oYykge1xyXG4gICAgICBjb25zdCByID0gTWF0aC5yYW5kb20oKSAqIDE2IHwgMDtcclxuICAgICAgY29uc3QgdiA9IGMgPT09ICd4JyA/IHIgOiAociAmIDB4MyB8IDB4OCk7XHJcbiAgICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcclxuICAgIH0pO1xyXG4gIH07XHJcbiAgXHJcbiAgLy8gSGVscGVyIHRvIGdlbmVyYXRlIHdvcmtmbG93IGRhdGEgZm9yIHNhdmluZ1xyXG4gIGNvbnN0IGdldFdvcmtmbG93RGF0YSA9IChpZD86IHN0cmluZykgPT4ge1xyXG4gICAgY29uc3Qgd29ya2Zsb3dOb2RlcyA9IGNhbnZhc05vZGVzLm1hcChub2RlID0+ICh7XHJcbiAgICAgIG5vZGVfaWQ6IG5vZGUubm9kZV9pZCxcclxuICAgICAgbm9kZV90eXBlOiBub2RlLm5vZGVfdHlwZSxcclxuICAgICAgbmFtZTogbm9kZS5uYW1lLFxyXG4gICAgICBjYXRlZ29yeTogbm9kZS5jYXRlZ29yeSxcclxuICAgICAgcG9zaXRpb246IG5vZGUucG9zaXRpb24sXHJcbiAgICAgIGlucHV0X3BvcnRzOiAobm9kZS5pbnB1dHMgfHwgW10pLm1hcCgocG9ydDogYW55KSA9PiAoe1xyXG4gICAgICAgIG5hbWU6IHBvcnQuaWQsXHJcbiAgICAgICAgdHlwZTogcG9ydC50eXBlLFxyXG4gICAgICAgIGRpc3BsYXlfbmFtZTogcG9ydC5sYWJlbCxcclxuICAgICAgICBkZXNjcmlwdGlvbjogcG9ydC5kZXNjcmlwdGlvbiB8fCAnJyxcclxuICAgICAgICByZXF1aXJlZDogcG9ydC5yZXF1aXJlZCAhPT0gZmFsc2VcclxuICAgICAgfSkpLFxyXG4gICAgICBvdXRwdXRfcG9ydHM6IChub2RlLm91dHB1dHMgfHwgW10pLm1hcCgocG9ydDogYW55KSA9PiAoe1xyXG4gICAgICAgIG5hbWU6IHBvcnQuaWQsXHJcbiAgICAgICAgdHlwZTogcG9ydC50eXBlLFxyXG4gICAgICAgIGRpc3BsYXlfbmFtZTogcG9ydC5sYWJlbCxcclxuICAgICAgICBkZXNjcmlwdGlvbjogcG9ydC5kZXNjcmlwdGlvbiB8fCAnJyxcclxuICAgICAgICByZXF1aXJlZDogcG9ydC5yZXF1aXJlZCAhPT0gZmFsc2VcclxuICAgICAgfSkpLFxyXG4gICAgICBjb25maWc6IG5vZGUuY29uZmlnIHx8IHt9LFxyXG4gICAgICBzdGF0dXM6IG5vZGUuc3RhdHVzIHx8ICdpZGxlJyxcclxuICAgICAgaWNvbjogbm9kZS5pY29uLFxyXG4gICAgICBzaGFyZV9vdXRwdXRfdG9fdmFyaWFibGVzOiBub2RlLnNoYXJlX291dHB1dF90b192YXJpYWJsZXMgfHwgZmFsc2UsXHJcbiAgICAgIHZhcmlhYmxlX25hbWU6IG5vZGUudmFyaWFibGVfbmFtZSB8fCB1bmRlZmluZWQsXHJcbiAgICAgIGZsaXBwZWQ6IG5vZGUuZmxpcHBlZCB8fCBmYWxzZSxcclxuICAgIH0pKTtcclxuICAgIFxyXG4gICAgY29uc3Qgd29ya2Zsb3dDb25uZWN0aW9ucyA9IGNvbm5lY3Rpb25zLm1hcChjb25uID0+ICh7XHJcbiAgICAgIGNvbm5lY3Rpb25faWQ6IGNvbm4uY29ubmVjdGlvbl9pZCB8fCBjb25uLmlkLFxyXG4gICAgICBzb3VyY2Vfbm9kZV9pZDogY29ubi5zb3VyY2Uubm9kZV9pZCxcclxuICAgICAgc291cmNlX3BvcnQ6IGNvbm4uc291cmNlLnBvcnRfaWQsXHJcbiAgICAgIHRhcmdldF9ub2RlX2lkOiBjb25uLnRhcmdldC5ub2RlX2lkLFxyXG4gICAgICB0YXJnZXRfcG9ydDogY29ubi50YXJnZXQucG9ydF9pZCxcclxuICAgIH0pKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaWQ6IGlkIHx8IHdvcmtmbG93SWQgfHwgZ2VuZXJhdGVVVUlEKCksXHJcbiAgICAgIG5hbWU6IHdvcmtmbG93TmFtZSxcclxuICAgICAgZGVzY3JpcHRpb246IHdvcmtmbG93RGVzY3JpcHRpb24sXHJcbiAgICAgIG5vZGVzOiB3b3JrZmxvd05vZGVzLFxyXG4gICAgICBjb25uZWN0aW9uczogd29ya2Zsb3dDb25uZWN0aW9ucyxcclxuICAgICAgY2FudmFzX29iamVjdHM6IGNhbnZhc09iamVjdHMgfHwgW10gLy8gSW5jbHVkZSBjYW52YXMgb2JqZWN0c1xyXG4gICAgfTtcclxuICB9O1xyXG4gIFxyXG4gIC8vIERvd25sb2FkIHdvcmtmbG93IGFzIEpTT04gZmlsZVxyXG4gIGNvbnN0IGhhbmRsZURvd25sb2FkSlNPTiA9ICgpID0+IHtcclxuICAgIGNvbnN0IGRhdGEgPSBnZXRXb3JrZmxvd0RhdGEoKTtcclxuICAgIGNvbnN0IGpzb25TdHIgPSBKU09OLnN0cmluZ2lmeShkYXRhLCBudWxsLCAyKTtcclxuICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbanNvblN0cl0sIHsgdHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nIH0pO1xyXG4gICAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgICBhLmhyZWYgPSB1cmw7XHJcbiAgICBhLmRvd25sb2FkID0gYCR7d29ya2Zsb3dOYW1lLnJlcGxhY2UoL1teYS16MC05XS9naSwgJ18nKS50b0xvd2VyQ2FzZSgpfS5qc29uYDtcclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7XHJcbiAgICBhLmNsaWNrKCk7XHJcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGEpO1xyXG4gICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xyXG4gICAgYWRkTG9nKGDwn5OlIERvd25sb2FkZWQgd29ya2Zsb3cgYXMgSlNPTjogJHthLmRvd25sb2FkfWApO1xyXG4gIH07XHJcbiAgXHJcbiAgLy8gTG9hZCB3b3JrZmxvdyBmcm9tIEpTT04gZmlsZVxyXG4gIGNvbnN0IGhhbmRsZUxvYWRGcm9tRmlsZSA9IChldmVudDogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcclxuICAgIGNvbnN0IGZpbGUgPSBldmVudC50YXJnZXQuZmlsZXM/LlswXTtcclxuICAgIGlmICghZmlsZSkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgcmVhZGVyLm9ubG9hZCA9IChlKSA9PiB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QganNvbiA9IEpTT04ucGFyc2UoZS50YXJnZXQ/LnJlc3VsdCBhcyBzdHJpbmcpO1xyXG4gICAgICAgIGxvYWRXb3JrZmxvd0Zyb21EYXRhKGpzb24pO1xyXG4gICAgICAgIHNldFNob3dMb2FkRnJvbUZpbGVNb2RhbChmYWxzZSk7XHJcbiAgICAgICAgYWRkTG9nKGDwn5OkIExvYWRlZCB3b3JrZmxvdyBmcm9tIGZpbGU6ICR7ZmlsZS5uYW1lfWApO1xyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGFkZExvZyhg4p2MIEZhaWxlZCB0byBwYXJzZSBKU09OIGZpbGU6ICR7ZXJyb3J9YCk7XHJcbiAgICAgICAgYWxlcnQoJ0ZhaWxlZCB0byBwYXJzZSBKU09OIGZpbGUuIFBsZWFzZSBlbnN1cmUgaXRcXCdzIGEgdmFsaWQgd29ya2Zsb3cgZmlsZS4nKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJlYWRlci5yZWFkQXNUZXh0KGZpbGUpO1xyXG4gIH07XHJcbiAgXHJcbiAgLy8gTG9hZCB3b3JrZmxvdyBmcm9tIGRhdGEgb2JqZWN0XHJcbiAgY29uc3QgbG9hZFdvcmtmbG93RnJvbURhdGEgPSAod29ya2Zsb3c6IGFueSkgPT4ge1xyXG4gICAgLy8gV2hlbiBsb2FkaW5nIGZyb20gZmlsZSwgd2Ugc2hvdWxkIHRyZWF0IGl0IGFzIGEgbmV3IGRyYWZ0IGJ1dCBwcmVzZXJ2ZSB0aGUgSURcclxuICAgIC8vIHVudGlsIHRoZSB1c2VyIHNhdmVzIGl0LiBIb3dldmVyLCBpZiB3ZSB3YW50IHRvIHJ1biBpdCwgd2UgbmVlZCBhbiBJRC5cclxuICAgIC8vIExldCdzIGdlbmVyYXRlIGEgbmV3IElEIGlmIG9uZSBpc24ndCBwcmVzZW50LCBvciB1c2UgdGhlIGltcG9ydGVkIG9uZS5cclxuICAgIC8vIEltcG9ydGFudDogV2UgbWFyayBpdCBhcyBkaXJ0eSBzbyBhdXRvLXNhdmUgd2lsbCBwaWNrIGl0IHVwIGlmIHRoZXkgcnVuIGl0LlxyXG4gICAgXHJcbiAgICAvLyBDaGVjayBpZiB3ZSBzaG91bGQgZ2VuZXJhdGUgYSBuZXcgSUQgdG8gYXZvaWQgY29sbGlzaW9ucyB1bmxlc3MgaXQncyBhIGRpcmVjdCBsb2FkXHJcbiAgICAvLyBGb3Igbm93LCB0cnVzdCB0aGUgSUQgZnJvbSB0aGUgZmlsZSwgYnV0IG1heWJlIHdlIHNob3VsZCBjbGVhciBpdCBpZiB3ZSB3YW50IHRvIGZvcmNlIFwiU2F2ZSBBc1wiP1xyXG4gICAgLy8gVGhlIHVzZXIgc2FpZDogXCJXaGVuIEkgaW1wb3J0IGEganNvbiAuLi4gSSBuZWVkIHRvIHNhdmUgYXMgZmlyc3RcIi5cclxuICAgIC8vIFRoaXMgaW1wbGllcyB0aGUgaW1wb3J0ZWQgSlNPTiBtaWdodCBoYXZlIGFuIElEIGJ1dCBpdCdzIG5vdCBcInNhdmVkXCIgaW4gdGhlIGJhY2tlbmQgeWV0LlxyXG4gICAgXHJcbiAgICBzZXRXb3JrZmxvd0lkKHdvcmtmbG93LmlkKTsgLy8gVGhpcyBJRCBtaWdodCBub3QgZXhpc3QgaW4gYmFja2VuZCB5ZXQhXHJcbiAgICBzZXRXb3JrZmxvd05hbWUod29ya2Zsb3cubmFtZSk7XHJcbiAgICBzZXRXb3JrZmxvd0Rlc2NyaXB0aW9uKHdvcmtmbG93LmRlc2NyaXB0aW9uIHx8IFwiXCIpO1xyXG4gICAgc2V0Tm9kZXMod29ya2Zsb3cubm9kZXMpO1xyXG4gICAgXHJcbiAgICBjb25zdCBjb252ZXJ0ZWRDb25uZWN0aW9ucyA9IHdvcmtmbG93LmNvbm5lY3Rpb25zLm1hcCgoY29ubjogYW55KSA9PiAoe1xyXG4gICAgICBpZDogY29ubi5jb25uZWN0aW9uX2lkIHx8IGNvbm4uaWQsXHJcbiAgICAgIGNvbm5lY3Rpb25faWQ6IGNvbm4uY29ubmVjdGlvbl9pZCB8fCBjb25uLmlkLFxyXG4gICAgICBzb3VyY2U6IHtcclxuICAgICAgICBub2RlX2lkOiBjb25uLnNvdXJjZV9ub2RlX2lkLFxyXG4gICAgICAgIHBvcnRfaWQ6IGNvbm4uc291cmNlX3BvcnRcclxuICAgICAgfSxcclxuICAgICAgdGFyZ2V0OiB7XHJcbiAgICAgICAgbm9kZV9pZDogY29ubi50YXJnZXRfbm9kZV9pZCxcclxuICAgICAgICBwb3J0X2lkOiBjb25uLnRhcmdldF9wb3J0XHJcbiAgICAgIH1cclxuICAgIH0pKTtcclxuICAgIHNldENvbm5lY3Rpb25zKGNvbnZlcnRlZENvbm5lY3Rpb25zKTtcclxuICAgIFxyXG4gICAgY29uc3QgY2FudmFzID0gd29ya2Zsb3cubm9kZXMubWFwKChub2RlOiBhbnkpID0+ICh7XHJcbiAgICAgIG5vZGVfaWQ6IG5vZGUubm9kZV9pZCxcclxuICAgICAgbm9kZV90eXBlOiBub2RlLm5vZGVfdHlwZSxcclxuICAgICAgbmFtZTogbm9kZS5uYW1lIHx8IG5vZGUubm9kZV90eXBlLFxyXG4gICAgICBjYXRlZ29yeTogbm9kZS5jYXRlZ29yeSB8fCAnZGVmYXVsdCcsXHJcbiAgICAgIHBvc2l0aW9uOiBub2RlLnBvc2l0aW9uIHx8IHsgeDogMTAwLCB5OiAxMDAgfSxcclxuICAgICAgaW5wdXRzOiAobm9kZS5pbnB1dF9wb3J0cyB8fCBbXSlcclxuICAgICAgICAuZmlsdGVyKChwb3J0OiBhbnkpID0+IHBvcnQgJiYgcG9ydC5uYW1lKVxyXG4gICAgICAgIC5tYXAoKHBvcnQ6IGFueSkgPT4gKHtcclxuICAgICAgICAgIGlkOiBwb3J0Lm5hbWUsXHJcbiAgICAgICAgICBsYWJlbDogcG9ydC5kaXNwbGF5X25hbWUgfHwgcG9ydC5uYW1lLFxyXG4gICAgICAgICAgdHlwZTogcG9ydC50eXBlIHx8ICd1bml2ZXJzYWwnLFxyXG4gICAgICAgICAgZGVzY3JpcHRpb246IHBvcnQuZGVzY3JpcHRpb24gfHwgJycsXHJcbiAgICAgICAgICByZXF1aXJlZDogcG9ydC5yZXF1aXJlZCAhPT0gZmFsc2VcclxuICAgICAgICB9KSksXHJcbiAgICAgIG91dHB1dHM6IChub2RlLm91dHB1dF9wb3J0cyB8fCBbXSlcclxuICAgICAgICAuZmlsdGVyKChwb3J0OiBhbnkpID0+IHBvcnQgJiYgcG9ydC5uYW1lKVxyXG4gICAgICAgIC5tYXAoKHBvcnQ6IGFueSkgPT4gKHtcclxuICAgICAgICAgIGlkOiBwb3J0Lm5hbWUsXHJcbiAgICAgICAgICBsYWJlbDogcG9ydC5kaXNwbGF5X25hbWUgfHwgcG9ydC5uYW1lLFxyXG4gICAgICAgICAgdHlwZTogcG9ydC50eXBlIHx8ICd1bml2ZXJzYWwnLFxyXG4gICAgICAgICAgZGVzY3JpcHRpb246IHBvcnQuZGVzY3JpcHRpb24gfHwgJycsXHJcbiAgICAgICAgICByZXF1aXJlZDogcG9ydC5yZXF1aXJlZCAhPT0gZmFsc2VcclxuICAgICAgICB9KSksXHJcbiAgICAgIGNvbmZpZzogbm9kZS5jb25maWcgfHwge30sXHJcbiAgICAgIHN0YXR1czogJ2lkbGUnLFxyXG4gICAgICBpY29uOiBub2RlLmljb24sXHJcbiAgICAgIHNoYXJlX291dHB1dF90b192YXJpYWJsZXM6IG5vZGUuc2hhcmVfb3V0cHV0X3RvX3ZhcmlhYmxlcyB8fCBmYWxzZSxcclxuICAgICAgdmFyaWFibGVfbmFtZTogbm9kZS52YXJpYWJsZV9uYW1lIHx8IHVuZGVmaW5lZCxcclxuICAgICAgZmxpcHBlZDogbm9kZS5mbGlwcGVkIHx8IGZhbHNlXHJcbiAgICB9KSk7XHJcbiAgICBzZXRDYW52YXNOb2RlcyhjYW52YXMpO1xyXG4gICAgXHJcbiAgICAvLyBMb2FkIGNhbnZhcyBvYmplY3RzIChncm91cHMgYW5kIHRleHQgYW5ub3RhdGlvbnMpXHJcbiAgICBzZXRDYW52YXNPYmplY3RzKHdvcmtmbG93LmNhbnZhc19vYmplY3RzIHx8IFtdKTtcclxuICAgIFxyXG4gICAgLy8gTWFyayBhcyBkaXJ0eSBzbyBpdCBnZXRzIHNhdmVkIG9uIG5leHQgcnVuIG9yIGF1dG8tc2F2ZVxyXG4gICAgLy8gSWYgd2UgbWFyayBpdCBhcyBkaXJ0eSwgdGhlIGF1dG8tc2F2ZSBlZmZlY3Qgd2lsbCBraWNrIGluIGFmdGVyIDFzIGFuZCBzYXZlIGl0IHRvIGJhY2tlbmQuXHJcbiAgICAvLyBUaGlzIHNvbHZlcyB0aGUgXCJJIG5lZWQgdG8gc2F2ZSBhcyBmaXJzdFwiIHByb2JsZW0uXHJcbiAgICBzZXRJc0RpcnR5KHRydWUpO1xyXG4gICAgc2V0U2lkZWJhck5vZGVDb3VudCgwKTtcclxuICB9O1xyXG4gIFxyXG4gIC8vIEhhbmRsZSBcIlNhdmUgQXNcIiB3aXRoIG5hbWUvZGVzY3JpcHRpb24gcHJvbXB0XHJcbiAgY29uc3QgaGFuZGxlU2F2ZUFzID0gKCkgPT4ge1xyXG4gICAgc2V0U2F2ZU1vZGUoJ3NhdmVfYXMnKTtcclxuICAgIHNldFNob3dTYXZlQXNNb2RhbCh0cnVlKTtcclxuICB9O1xyXG4gIFxyXG4gIC8vIEhhbmRsZSBcIlNhdmUgYSBDb3B5XCIgd2l0aCBhdXRvLWluY3JlbWVudGVkIG5hbWVcclxuICBjb25zdCBoYW5kbGVTYXZlQ29weSA9IGFzeW5jICgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIEZpbmQgYW4gYXZhaWxhYmxlIG5hbWUgd2l0aCAoTikgc3VmZml4XHJcbiAgICAgIGxldCBjb3B5TnVtYmVyID0gMTtcclxuICAgICAgbGV0IG5ld05hbWUgPSBgJHt3b3JrZmxvd05hbWV9ICgke2NvcHlOdW1iZXJ9KWA7XHJcbiAgICAgIFxyXG4gICAgICAvLyBDaGVjayBpZiBuYW1lIGV4aXN0c1xyXG4gICAgICBjb25zdCB3b3JrZmxvd3MgPSBhd2FpdCBsaXN0V29ya2Zsb3dzKCk7XHJcbiAgICAgIGNvbnN0IGV4aXN0aW5nTmFtZXMgPSBuZXcgU2V0KHdvcmtmbG93cy5tYXAoKHc6IGFueSkgPT4gdy5uYW1lKSk7XHJcbiAgICAgIFxyXG4gICAgICB3aGlsZSAoZXhpc3RpbmdOYW1lcy5oYXMobmV3TmFtZSkpIHtcclxuICAgICAgICBjb3B5TnVtYmVyKys7XHJcbiAgICAgICAgbmV3TmFtZSA9IGAke3dvcmtmbG93TmFtZX0gKCR7Y29weU51bWJlcn0pYDtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc3QgbmV3SWQgPSBnZW5lcmF0ZVVVSUQoKTtcclxuICAgICAgY29uc3Qgd29ya2Zsb3dEYXRhID0gZ2V0V29ya2Zsb3dEYXRhKG5ld0lkKTtcclxuICAgICAgd29ya2Zsb3dEYXRhLm5hbWUgPSBuZXdOYW1lO1xyXG4gICAgICBcclxuICAgICAgYWRkTG9nKGBTYXZpbmcgY29weTogJHtuZXdOYW1lfS4uLmApO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgY3JlYXRlZCA9IGF3YWl0IGNyZWF0ZVdvcmtmbG93KHdvcmtmbG93RGF0YSk7XHJcbiAgICAgIHNldFdvcmtmbG93SWQoY3JlYXRlZC5pZCk7XHJcbiAgICAgIHNldFdvcmtmbG93TmFtZShuZXdOYW1lKTtcclxuICAgICAgXHJcbiAgICAgIC8vIFVwZGF0ZSBVUkwgd2l0aCBuZXcgd29ya2Zsb3cgSURcclxuICAgICAgcm91dGVyLnB1c2goYC9lZGl0b3ItcGFnZT93b3JrZmxvdz0ke2NyZWF0ZWQuaWR9YCk7XHJcbiAgICAgIFxyXG4gICAgICBzZXRJc0RpcnR5KGZhbHNlKTtcclxuICAgICAgYWRkTG9nKGDinIUgQ3JlYXRlZCBjb3B5OiAke25ld05hbWV9YCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBhZGRMb2coYOKdjCBTYXZlIGNvcHkgZmFpbGVkOiAke2Vycm9yfWApO1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdTYXZlIGNvcHkgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgXHJcbiAgLy8gQ29uZmlybSBhbmQgZXhlY3V0ZSBzYXZlIGZyb20gbW9kYWxcclxuICBjb25zdCBjb25maXJtU2F2ZUFzID0gYXN5bmMgKG5ld05hbWU6IHN0cmluZywgbmV3RGVzY3JpcHRpb246IHN0cmluZykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgbmV3SWQgPSBnZW5lcmF0ZVVVSUQoKTtcclxuICAgICAgY29uc3Qgd29ya2Zsb3dEYXRhID0gZ2V0V29ya2Zsb3dEYXRhKG5ld0lkKTtcclxuICAgICAgd29ya2Zsb3dEYXRhLm5hbWUgPSBuZXdOYW1lO1xyXG4gICAgICB3b3JrZmxvd0RhdGEuZGVzY3JpcHRpb24gPSBuZXdEZXNjcmlwdGlvbjtcclxuICAgICAgXHJcbiAgICAgIGFkZExvZyhgU2F2aW5nIGFzOiAke25ld05hbWV9Li4uYCk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBjcmVhdGVkID0gYXdhaXQgY3JlYXRlV29ya2Zsb3cod29ya2Zsb3dEYXRhKTtcclxuICAgICAgc2V0V29ya2Zsb3dJZChjcmVhdGVkLmlkKTtcclxuICAgICAgc2V0V29ya2Zsb3dOYW1lKG5ld05hbWUpO1xyXG4gICAgICBzZXRXb3JrZmxvd0Rlc2NyaXB0aW9uKG5ld0Rlc2NyaXB0aW9uKTtcclxuICAgICAgXHJcbiAgICAgIC8vIFVwZGF0ZSBVUkwgd2l0aCBuZXcgd29ya2Zsb3cgSURcclxuICAgICAgcm91dGVyLnB1c2goYC9lZGl0b3ItcGFnZT93b3JrZmxvdz0ke2NyZWF0ZWQuaWR9YCk7XHJcbiAgICAgIFxyXG4gICAgICBzZXRJc0RpcnR5KGZhbHNlKTtcclxuICAgICAgc2V0U2hvd1NhdmVBc01vZGFsKGZhbHNlKTtcclxuICAgICAgYWRkTG9nKGDinIUgU2F2ZWQgYXM6ICR7bmV3TmFtZX1gKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGFkZExvZyhg4p2MIFNhdmUgYXMgZmFpbGVkOiAke2Vycm9yfWApO1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdTYXZlIGFzIGVycm9yOicsIGVycm9yKTtcclxuICAgIH1cclxuICB9O1xyXG4gIFxyXG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZVNhdmUoaXNBdXRvU2F2ZSA9IGZhbHNlKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAoIWlzQXV0b1NhdmUpIHtcclxuICAgICAgICBhZGRMb2coYFNhdmluZyB3b3JrZmxvdzogJHt3b3JrZmxvd05hbWV9Li4uYCk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHdvcmtmbG93RGF0YSA9IGdldFdvcmtmbG93RGF0YSh3b3JrZmxvd0lkIHx8IHVuZGVmaW5lZCk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZygnU2F2aW5nIHdvcmtmbG93OicsIHdvcmtmbG93RGF0YS5pZCk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAod29ya2Zsb3dJZCkge1xyXG4gICAgICAgIC8vIFVwZGF0ZSBleGlzdGluZyB3b3JrZmxvd1xyXG4gICAgICAgIGF3YWl0IHVwZGF0ZVdvcmtmbG93KHdvcmtmbG93SWQsIHdvcmtmbG93RGF0YSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gVXBkYXRlIFVSTCB3aXRoIHdvcmtmbG93IElEIChpbiBjYXNlIGl0IHdhcyBsb2FkZWQgd2l0aG91dCBVUkwgcGFyYW1ldGVyKVxyXG4gICAgICAgIHJvdXRlci5wdXNoKGAvZWRpdG9yLXBhZ2U/d29ya2Zsb3c9JHt3b3JrZmxvd0lkfWApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICghaXNBdXRvU2F2ZSkge1xyXG4gICAgICAgICAgYWRkTG9nKGDinIUgVXBkYXRlZDogJHt3b3JrZmxvd05hbWV9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIENyZWF0ZSBuZXcgd29ya2Zsb3dcclxuICAgICAgICBjb25zdCBjcmVhdGVkID0gYXdhaXQgY3JlYXRlV29ya2Zsb3cod29ya2Zsb3dEYXRhKTtcclxuICAgICAgICBzZXRXb3JrZmxvd0lkKGNyZWF0ZWQuaWQpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFVwZGF0ZSBVUkwgd2l0aCB3b3JrZmxvdyBJRFxyXG4gICAgICAgIHJvdXRlci5wdXNoKGAvZWRpdG9yLXBhZ2U/d29ya2Zsb3c9JHtjcmVhdGVkLmlkfWApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICghaXNBdXRvU2F2ZSkge1xyXG4gICAgICAgICAgYWRkTG9nKGDinIUgQ3JlYXRlZDogJHt3b3JrZmxvd05hbWV9ICgke2NyZWF0ZWQuaWR9KWApO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBzZXRJc0RpcnR5KGZhbHNlKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGlmICghaXNBdXRvU2F2ZSkge1xyXG4gICAgICAgIGFkZExvZyhg4p2MIFNhdmUgZmFpbGVkOiAke2Vycm9yfWApO1xyXG4gICAgICB9XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1NhdmUgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gQXV0by1zYXZlIGVmZmVjdFxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoaXNEaXJ0eSkge1xyXG4gICAgICBjb25zdCB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIGhhbmRsZVNhdmUodHJ1ZSk7XHJcbiAgICAgIH0sIDEwMDApO1xyXG4gICAgICByZXR1cm4gKCkgPT4gY2xlYXJUaW1lb3V0KHRpbWVyKTtcclxuICAgIH1cclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcclxuICB9LCBbaXNEaXJ0eSwgY2FudmFzTm9kZXMsIGNvbm5lY3Rpb25zLCB3b3JrZmxvd05hbWUsIHdvcmtmbG93RGVzY3JpcHRpb24sIHdvcmtmbG93SWQsIGNhbnZhc09iamVjdHNdKTtcclxuICBcclxuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVMb2FkKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3Qgd29ya2Zsb3dzID0gYXdhaXQgbGlzdFdvcmtmbG93cygpO1xyXG4gICAgICBzZXRBdmFpbGFibGVXb3JrZmxvd3Mod29ya2Zsb3dzKTtcclxuICAgICAgc2V0U2hvd0xvYWRNb2RhbCh0cnVlKTtcclxuICAgICAgYWRkTG9nKGDwn5OCIEZvdW5kICR7d29ya2Zsb3dzLmxlbmd0aH0gd29ya2Zsb3dzYCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBhZGRMb2coYOKdjCBMb2FkIGZhaWxlZDogJHtlcnJvcn1gKTtcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgYXN5bmMgZnVuY3Rpb24gbG9hZFdvcmtmbG93QnlJZChpZDogc3RyaW5nKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB3b3JrZmxvdyA9IGF3YWl0IGdldFdvcmtmbG93KGlkKTtcclxuICAgICAgc2V0V29ya2Zsb3dJZCh3b3JrZmxvdy5pZCk7XHJcbiAgICAgIHNldFdvcmtmbG93TmFtZSh3b3JrZmxvdy5uYW1lKTtcclxuICAgICAgc2V0V29ya2Zsb3dEZXNjcmlwdGlvbih3b3JrZmxvdy5kZXNjcmlwdGlvbiB8fCBcIlwiKTtcclxuICAgICAgc2V0Tm9kZXMod29ya2Zsb3cubm9kZXMpO1xyXG4gICAgICBcclxuICAgICAgLy8gQ29udmVydCBjb25uZWN0aW9ucyBmcm9tIGJhY2tlbmQgZm9ybWF0IHRvIGZyb250ZW5kIGZvcm1hdFxyXG4gICAgICBjb25zdCBjb252ZXJ0ZWRDb25uZWN0aW9ucyA9IHdvcmtmbG93LmNvbm5lY3Rpb25zLm1hcCgoY29ubjogYW55KSA9PiAoe1xyXG4gICAgICAgIGlkOiBjb25uLmNvbm5lY3Rpb25faWQgfHwgY29ubi5pZCxcclxuICAgICAgICBjb25uZWN0aW9uX2lkOiBjb25uLmNvbm5lY3Rpb25faWQgfHwgY29ubi5pZCxcclxuICAgICAgICBzb3VyY2U6IHtcclxuICAgICAgICAgIG5vZGVfaWQ6IGNvbm4uc291cmNlX25vZGVfaWQsXHJcbiAgICAgICAgICBwb3J0X2lkOiBjb25uLnNvdXJjZV9wb3J0XHJcbiAgICAgICAgfSxcclxuICAgICAgICB0YXJnZXQ6IHtcclxuICAgICAgICAgIG5vZGVfaWQ6IGNvbm4udGFyZ2V0X25vZGVfaWQsXHJcbiAgICAgICAgICBwb3J0X2lkOiBjb25uLnRhcmdldF9wb3J0XHJcbiAgICAgICAgfVxyXG4gICAgICB9KSk7XHJcbiAgICAgIHNldENvbm5lY3Rpb25zKGNvbnZlcnRlZENvbm5lY3Rpb25zKTtcclxuICAgICAgXHJcbiAgICAgIC8vIEJhY2tlbmQgcmV0dXJucyBub2RlX2lkIGFuZCBub2RlX3R5cGUgLSB1c2UgdGhlbSBhcy1pc1xyXG4gICAgICBjb25zdCBjYW52YXMgPSB3b3JrZmxvdy5ub2Rlcy5tYXAoKG5vZGU6IGFueSkgPT4gKHtcclxuICAgICAgICBub2RlX2lkOiBub2RlLm5vZGVfaWQsXHJcbiAgICAgICAgbm9kZV90eXBlOiBub2RlLm5vZGVfdHlwZSxcclxuICAgICAgICBuYW1lOiBub2RlLm5hbWUgfHwgbm9kZS5ub2RlX3R5cGUsXHJcbiAgICAgICAgY2F0ZWdvcnk6IG5vZGUuY2F0ZWdvcnkgfHwgJ2RlZmF1bHQnLFxyXG4gICAgICAgIHBvc2l0aW9uOiBub2RlLnBvc2l0aW9uIHx8IHsgeDogMTAwLCB5OiAxMDAgfSxcclxuICAgICAgICAvLyBDb252ZXJ0IGJhY2tlbmQgcG9ydCBmb3JtYXQgdG8gZnJvbnRlbmQgZm9ybWF0XHJcbiAgICAgICAgaW5wdXRzOiAobm9kZS5pbnB1dF9wb3J0cyB8fCBbXSlcclxuICAgICAgICAgIC5maWx0ZXIoKHBvcnQ6IGFueSkgPT4gcG9ydCAmJiBwb3J0Lm5hbWUpIC8vIEZpbHRlciBvdXQgaW52YWxpZCBwb3J0c1xyXG4gICAgICAgICAgLm1hcCgocG9ydDogYW55KSA9PiAoe1xyXG4gICAgICAgICAgICBpZDogcG9ydC5uYW1lLCAgICAgICAgICAgICAgICAgICAgIC8vIEJhY2tlbmQgJ25hbWUnIOKGkiBGcm9udGVuZCAnaWQnXHJcbiAgICAgICAgICAgIGxhYmVsOiBwb3J0LmRpc3BsYXlfbmFtZSB8fCBwb3J0Lm5hbWUsIC8vIEJhY2tlbmQgJ2Rpc3BsYXlfbmFtZScg4oaSIEZyb250ZW5kICdsYWJlbCdcclxuICAgICAgICAgICAgdHlwZTogcG9ydC50eXBlIHx8ICd1bml2ZXJzYWwnLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogcG9ydC5kZXNjcmlwdGlvbiB8fCAnJyxcclxuICAgICAgICAgICAgcmVxdWlyZWQ6IHBvcnQucmVxdWlyZWQgIT09IGZhbHNlXHJcbiAgICAgICAgICB9KSksXHJcbiAgICAgICAgb3V0cHV0czogKG5vZGUub3V0cHV0X3BvcnRzIHx8IFtdKVxyXG4gICAgICAgICAgLmZpbHRlcigocG9ydDogYW55KSA9PiBwb3J0ICYmIHBvcnQubmFtZSkgLy8gRmlsdGVyIG91dCBpbnZhbGlkIHBvcnRzXHJcbiAgICAgICAgICAubWFwKChwb3J0OiBhbnkpID0+ICh7XHJcbiAgICAgICAgICAgIGlkOiBwb3J0Lm5hbWUsICAgICAgICAgICAgICAgICAgICAgLy8gQmFja2VuZCAnbmFtZScg4oaSIEZyb250ZW5kICdpZCdcclxuICAgICAgICAgICAgbGFiZWw6IHBvcnQuZGlzcGxheV9uYW1lIHx8IHBvcnQubmFtZSwgLy8gQmFja2VuZCAnZGlzcGxheV9uYW1lJyDihpIgRnJvbnRlbmQgJ2xhYmVsJ1xyXG4gICAgICAgICAgICB0eXBlOiBwb3J0LnR5cGUgfHwgJ3VuaXZlcnNhbCcsXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBwb3J0LmRlc2NyaXB0aW9uIHx8ICcnLFxyXG4gICAgICAgICAgICByZXF1aXJlZDogcG9ydC5yZXF1aXJlZCAhPT0gZmFsc2VcclxuICAgICAgICAgIH0pKSxcclxuICAgICAgICBjb25maWc6IG5vZGUuY29uZmlnIHx8IHt9LFxyXG4gICAgICAgIHN0YXR1czogJ2lkbGUnLFxyXG4gICAgICAgIGljb246IG5vZGUuaWNvbixcclxuICAgICAgICBzaGFyZV9vdXRwdXRfdG9fdmFyaWFibGVzOiBub2RlLnNoYXJlX291dHB1dF90b192YXJpYWJsZXMgfHwgZmFsc2UsICAvLyDinIUgTG9hZCBzaGFyaW5nIHNldHRpbmdcclxuICAgICAgICB2YXJpYWJsZV9uYW1lOiBub2RlLnZhcmlhYmxlX25hbWUgfHwgdW5kZWZpbmVkLCAgLy8g4pyFIExvYWQgY3VzdG9tIHZhcmlhYmxlIG5hbWVcclxuICAgICAgICBmbGlwcGVkOiBub2RlLmZsaXBwZWQgfHwgZmFsc2UgIC8vIOKchSBMb2FkIGZsaXBwZWQgc3RhdGVcclxuICAgICAgfSkpO1xyXG4gICAgICBcclxuICAgICAgc2V0SXNEaXJ0eShmYWxzZSk7XHJcbiAgICAgIHNldFNob3dMb2FkTW9kYWwoZmFsc2UpO1xyXG4gICAgICBzZXRTaWRlYmFyTm9kZUNvdW50KDApOyAvLyBSZXNldCBzdGFpcmNhc2UgY291bnRlciBmb3IgbG9hZGVkIHdvcmtmbG93c1xyXG4gICAgICBcclxuICAgICAgLy8gVXBkYXRlIFVSTCB3aXRoIHdvcmtmbG93IElEXHJcbiAgICAgIHJvdXRlci5wdXNoKGAvZWRpdG9yLXBhZ2U/d29ya2Zsb3c9JHt3b3JrZmxvdy5pZH1gKTtcclxuICAgICAgXHJcbiAgICAgIHNldENhbnZhc05vZGVzKGNhbnZhcyk7XHJcbiAgICAgIHNldENhbnZhc09iamVjdHMod29ya2Zsb3cuY2FudmFzX29iamVjdHMgfHwgW10pOyAvLyBMb2FkIGNhbnZhcyBvYmplY3RzXHJcbiAgICAgIC8vIFJlcGxhY2UgdW5kbyBoaXN0b3J5IHdpdGggdGhpcyBsb2FkZWQgd29ya2Zsb3cgc25hcHNob3RcclxuICAgICAgcmVwbGFjZVNuYXBzaG90KHsgY2FudmFzTm9kZXM6IGNhbnZhcywgY29ubmVjdGlvbnM6IGNvbnZlcnRlZENvbm5lY3Rpb25zLCBjYW52YXNPYmplY3RzOiB3b3JrZmxvdy5jYW52YXNfb2JqZWN0cyB8fCBbXSwgc2VsZWN0ZWROb2RlOiBudWxsIH0pO1xyXG4gICAgICBhZGRMb2coYOKchSBMb2FkZWQ6ICR7d29ya2Zsb3cubmFtZX1gKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGFkZExvZyhg4p2MIEZhaWxlZCB0byBsb2FkOiAke2Vycm9yfWApO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICBmdW5jdGlvbiBoYW5kbGVDbGVhcihhbGxvd1VuZG86IGJvb2xlYW4gPSBmYWxzZSkge1xyXG4gICAgc2V0V29ya2Zsb3dJZChudWxsKTtcclxuICAgIHNldFdvcmtmbG93TmFtZSgnVW50aXRsZWQgV29ya2Zsb3cnKTtcclxuICAgIHNldFdvcmtmbG93RGVzY3JpcHRpb24oJycpO1xyXG4gICAgc2V0Tm9kZXMoW10pO1xyXG4gICAgaWYgKGFsbG93VW5kbykge1xyXG4gICAgICAvLyBVc2UgYSBwcm9kdWNlciB0byByZWNvcmQgdGhlIGNsZWFyIGFjdGlvbiBzbyBpdCBjYW4gYmUgdW5kb25lXHJcbiAgICAgIHB1c2hQcm9kdWNlcigoZHJhZnQ6IGFueSkgPT4ge1xyXG4gICAgICAgIGRyYWZ0LmNhbnZhc05vZGVzID0gW107XHJcbiAgICAgICAgZHJhZnQuY29ubmVjdGlvbnMgPSBbXTtcclxuICAgICAgICBkcmFmdC5jYW52YXNPYmplY3RzID0gW107XHJcbiAgICAgICAgZHJhZnQuc2VsZWN0ZWROb2RlID0gbnVsbDtcclxuICAgICAgfSk7XHJcbiAgICAgIC8vIFJlbW92ZSBmb2N1cyBmcm9tIENsZWFyIGJ1dHRvbiBzbyBzdWJzZXF1ZW50IEN0cmwrWiB0cmlnZ2VycyB1bmRvIHJhdGhlciB0aGFuIGFub3RoZXIgY2xlYXJcclxuICAgICAgaWYgKGNsZWFyQnV0dG9uUmVmLmN1cnJlbnQpIGNsZWFyQnV0dG9uUmVmLmN1cnJlbnQuYmx1cigpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc2V0Q29ubmVjdGlvbnMoW10pO1xyXG4gICAgICBzZXRDYW52YXNOb2RlcyhbXSk7XHJcbiAgICAgIHNldENhbnZhc09iamVjdHMoW10pO1xyXG4gICAgfVxyXG4gICAgc2V0U2lkZWJhck5vZGVDb3VudCgwKTsgLy8gUmVzZXQgc3RhaXJjYXNlIGNvdW50ZXJcclxuICAgIHNldElzRGlydHkoZmFsc2UpO1xyXG4gICAgc2V0TG9ncyhbXSk7XHJcbiAgICBcclxuICAgIC8vIENsZWFyIFVSTCBieSBuYXZpZ2F0aW5nIHRvIGVkaXRvciBwYWdlIHdpdGhvdXQgd29ya2Zsb3cgcGFyYW1ldGVyXHJcbiAgICByb3V0ZXIucHVzaCgnL2VkaXRvci1wYWdlJyk7XHJcbiAgICBcclxuICAgIGFkZExvZygn8J+Xke+4jyBDbGVhcmVkJyk7XHJcbiAgICAvLyBJZiB3ZSBkaWRuJ3QgYWxsb3cgdW5kbywgcmVwbGFjZSB0aGUgc25hcHNob3QgKHJlc2V0IGhpc3RvcnkpLiBPdGhlcndpc2UsIHdlJ3ZlIHB1c2hlZCBhIHBhdGNoIGFuZCBjbGVhciB3aWxsIGJlIHVuZG9hYmxlLlxyXG4gICAgaWYgKCFhbGxvd1VuZG8pIHtcclxuICAgICAgcmVwbGFjZVNuYXBzaG90KHsgY2FudmFzTm9kZXM6IFtdLCBjb25uZWN0aW9uczogW10sIGNhbnZhc09iamVjdHM6IFtdLCBzZWxlY3RlZE5vZGU6IG51bGwgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIGNvbnN0IGhhbmRsZUNsZWFyQ2xpY2sgPSAoZTogUmVhY3QuTW91c2VFdmVudCkgPT4ge1xyXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIGlmIChjb25maXJtQ2xlYXIpIHtcclxuICAgICAgaGFuZGxlQ2xlYXIodHJ1ZSk7XHJcbiAgICAgIHNldENvbmZpcm1DbGVhcihmYWxzZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzZXRDb25maXJtQ2xlYXIodHJ1ZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuICBcclxuICAvLyA9PT09PT09PT09PT09PT09PT09PSBDYW52YXMgTm9kZSBJbnRlcmFjdGlvbiA9PT09PT09PT09PT09PT09PT09PVxyXG4gIFxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09IENhbnZhcyBPYmplY3RzIChHcm91cHMgJiBUZXh0KSA9PT09PT09PT09PT09PT09PT09PVxyXG4gIFxyXG4gIGZ1bmN0aW9uIGNyZWF0ZUdyb3VwKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XHJcbiAgICBjb25zdCBuZXdHcm91cCA9IHtcclxuICAgICAgaWQ6IGdlbmVyYXRlVVVJRCgpLFxyXG4gICAgICB0eXBlOiAnZ3JvdXAnLFxyXG4gICAgICBwb3NpdGlvbjogeyB4LCB5IH0sXHJcbiAgICAgIHNpemU6IHsgd2lkdGg6IDQwMCwgaGVpZ2h0OiAzMDAgfSxcclxuICAgICAgY29sb3I6ICcjZmVmM2M3JywgLy8gTGlnaHQgeWVsbG93XHJcbiAgICAgIHRpdGxlOiAnTmV3IEdyb3VwJyxcclxuICAgICAgekluZGV4OiAtMVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgcHVzaFByb2R1Y2VyKChkcmFmdDogYW55KSA9PiB7XHJcbiAgICAgIGRyYWZ0LmNhbnZhc09iamVjdHMgPSBbLi4uKGRyYWZ0LmNhbnZhc09iamVjdHMgfHwgW10pLCBuZXdHcm91cF07XHJcbiAgICB9KTtcclxuICAgIHNldElzRGlydHkodHJ1ZSk7XHJcbiAgICBhZGRMb2coYOKelSBBZGRlZCBncm91cDogJHtuZXdHcm91cC50aXRsZX1gKTtcclxuICAgIHJldHVybiBuZXdHcm91cC5pZDtcclxuICB9XHJcbiAgXHJcbiAgZnVuY3Rpb24gY3JlYXRlVGV4dEFubm90YXRpb24oeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcclxuICAgIGNvbnN0IG5ld1RleHQgPSB7XHJcbiAgICAgIGlkOiBnZW5lcmF0ZVVVSUQoKSxcclxuICAgICAgdHlwZTogJ3RleHQnLFxyXG4gICAgICBwb3NpdGlvbjogeyB4LCB5IH0sXHJcbiAgICAgIGNvbnRlbnQ6ICdUeXBlIGhlcmUuLi4nLFxyXG4gICAgICBmb250U2l6ZTogMTYsXHJcbiAgICAgIGNvbG9yOiAnIzM3NDE1MScsXHJcbiAgICAgIHpJbmRleDogMFxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgcHVzaFByb2R1Y2VyKChkcmFmdDogYW55KSA9PiB7XHJcbiAgICAgIGRyYWZ0LmNhbnZhc09iamVjdHMgPSBbLi4uKGRyYWZ0LmNhbnZhc09iamVjdHMgfHwgW10pLCBuZXdUZXh0XTtcclxuICAgIH0pO1xyXG4gICAgc2V0SXNEaXJ0eSh0cnVlKTtcclxuICAgIGFkZExvZyhg4p6VIEFkZGVkIHRleHQgYW5ub3RhdGlvbmApO1xyXG4gICAgXHJcbiAgICAvLyBBdXRvbWF0aWNhbGx5IHN0YXJ0IGVkaXRpbmcgdGhlIG5ldyB0ZXh0XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgc2V0RWRpdGluZ1RleHQobmV3VGV4dC5pZCk7XHJcbiAgICAgIHNldFNlbGVjdGVkT2JqZWN0KG5ld1RleHQuaWQpO1xyXG4gICAgfSwgMCk7XHJcbiAgICBcclxuICAgIHJldHVybiBuZXdUZXh0LmlkO1xyXG4gIH1cclxuICBcclxuICBmdW5jdGlvbiBkZWxldGVDYW52YXNPYmplY3Qob2JqZWN0SWQ6IHN0cmluZykge1xyXG4gICAgY29uc3Qgb2JqID0gY2FudmFzT2JqZWN0cy5maW5kKG8gPT4gby5pZCA9PT0gb2JqZWN0SWQpO1xyXG4gICAgcHVzaFByb2R1Y2VyKChkcmFmdDogYW55KSA9PiB7XHJcbiAgICAgIGRyYWZ0LmNhbnZhc09iamVjdHMgPSAoZHJhZnQuY2FudmFzT2JqZWN0cyB8fCBbXSkuZmlsdGVyKChvOiBhbnkpID0+IG8uaWQgIT09IG9iamVjdElkKTtcclxuICAgIH0pO1xyXG4gICAgc2V0SXNEaXJ0eSh0cnVlKTtcclxuICAgIGFkZExvZyhg8J+Xke+4jyBEZWxldGVkICR7b2JqPy50eXBlIHx8ICdvYmplY3QnfWApO1xyXG4gICAgaWYgKHNlbGVjdGVkT2JqZWN0ID09PSBvYmplY3RJZCkge1xyXG4gICAgICBzZXRTZWxlY3RlZE9iamVjdChudWxsKTtcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgZnVuY3Rpb24gdXBkYXRlQ2FudmFzT2JqZWN0KG9iamVjdElkOiBzdHJpbmcsIHVwZGF0ZXM6IGFueSkge1xyXG4gICAgcHVzaFByb2R1Y2VyKChkcmFmdDogYW55KSA9PiB7XHJcbiAgICAgIGRyYWZ0LmNhbnZhc09iamVjdHMgPSAoZHJhZnQuY2FudmFzT2JqZWN0cyB8fCBbXSkubWFwKChvOiBhbnkpID0+XHJcbiAgICAgICAgby5pZCA9PT0gb2JqZWN0SWQgPyB7IC4uLm8sIC4uLnVwZGF0ZXMgfSA6IG9cclxuICAgICAgKTtcclxuICAgIH0pO1xyXG4gICAgc2V0SXNEaXJ0eSh0cnVlKTtcclxuICB9XHJcbiAgXHJcbiAgZnVuY3Rpb24gaGFuZGxlT2JqZWN0RHJhZ1N0YXJ0KG9iamVjdElkOiBzdHJpbmcsIGU6IFJlYWN0Lk1vdXNlRXZlbnQpIHtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICBzZXRJc0RyYWdnaW5nT2JqZWN0KHRydWUpO1xyXG4gICAgc2V0U2VsZWN0ZWRPYmplY3Qob2JqZWN0SWQpO1xyXG4gICAgXHJcbiAgICBjb25zdCBvYmogPSBjYW52YXNPYmplY3RzLmZpbmQobyA9PiBvLmlkID09PSBvYmplY3RJZCk7XHJcbiAgICBpZiAob2JqICYmIHZpZXdwb3J0UmVmLmN1cnJlbnQpIHtcclxuICAgICAgY29uc3Qgc2NhbGUgPSBjYW52YXNQYW5ab29tLnNjYWxlIHx8IDE7XHJcbiAgICAgIGNvbnN0IGNhbnZhc1JlY3QgPSB2aWV3cG9ydFJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICBjb25zdCBzY3JvbGxMZWZ0ID0gdmlld3BvcnRSZWYuY3VycmVudC5zY3JvbGxMZWZ0O1xyXG4gICAgICBjb25zdCBzY3JvbGxUb3AgPSB2aWV3cG9ydFJlZi5jdXJyZW50LnNjcm9sbFRvcDtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGNhbnZhc1ggPSAoZS5jbGllbnRYIC0gY2FudmFzUmVjdC5sZWZ0ICsgc2Nyb2xsTGVmdCkgLyBzY2FsZTtcclxuICAgICAgY29uc3QgY2FudmFzWSA9IChlLmNsaWVudFkgLSBjYW52YXNSZWN0LnRvcCArIHNjcm9sbFRvcCkgLyBzY2FsZTtcclxuICAgICAgXHJcbiAgICAgIHNldERyYWdPZmZzZXQoe1xyXG4gICAgICAgIHg6IGNhbnZhc1ggLSBvYmoucG9zaXRpb24ueCxcclxuICAgICAgICB5OiBjYW52YXNZIC0gb2JqLnBvc2l0aW9uLnlcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIGZ1bmN0aW9uIGhhbmRsZU9iamVjdERyYWcoZTogUmVhY3QuTW91c2VFdmVudCkge1xyXG4gICAgaWYgKCFpc0RyYWdnaW5nT2JqZWN0IHx8ICFzZWxlY3RlZE9iamVjdCB8fCAhdmlld3BvcnRSZWYuY3VycmVudCkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICBjb25zdCBzY2FsZSA9IGNhbnZhc1Bhblpvb20uc2NhbGUgfHwgMTtcclxuICAgIGNvbnN0IGNhbnZhc1JlY3QgPSB2aWV3cG9ydFJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgY29uc3Qgc2Nyb2xsTGVmdCA9IHZpZXdwb3J0UmVmLmN1cnJlbnQuc2Nyb2xsTGVmdDtcclxuICAgIGNvbnN0IHNjcm9sbFRvcCA9IHZpZXdwb3J0UmVmLmN1cnJlbnQuc2Nyb2xsVG9wO1xyXG4gICAgXHJcbiAgICBjb25zdCBjYW52YXNYID0gKGUuY2xpZW50WCAtIGNhbnZhc1JlY3QubGVmdCArIHNjcm9sbExlZnQpIC8gc2NhbGU7XHJcbiAgICBjb25zdCBjYW52YXNZID0gKGUuY2xpZW50WSAtIGNhbnZhc1JlY3QudG9wICsgc2Nyb2xsVG9wKSAvIHNjYWxlO1xyXG4gICAgXHJcbiAgICBjb25zdCB4ID0gY2FudmFzWCAtIGRyYWdPZmZzZXQueDtcclxuICAgIGNvbnN0IHkgPSBjYW52YXNZIC0gZHJhZ09mZnNldC55O1xyXG4gICAgXHJcbiAgICBzZXRDYW52YXNPYmplY3RzKHByZXYgPT4gcHJldi5tYXAobyA9PiBcclxuICAgICAgby5pZCA9PT0gc2VsZWN0ZWRPYmplY3QgPyB7IC4uLm8sIHBvc2l0aW9uOiB7IHgsIHkgfSB9IDogb1xyXG4gICAgKSk7XHJcbiAgICBzZXRJc0RpcnR5KHRydWUpO1xyXG4gIH1cclxuICBcclxuICBmdW5jdGlvbiBoYW5kbGVPYmplY3REcmFnRW5kKCkge1xyXG4gICAgaWYgKGlzRHJhZ2dpbmdPYmplY3QgJiYgc2VsZWN0ZWRPYmplY3QpIHtcclxuICAgICAgY29uc3Qgb2JqID0gY2FudmFzT2JqZWN0cy5maW5kKG8gPT4gby5pZCA9PT0gc2VsZWN0ZWRPYmplY3QpO1xyXG4gICAgICBpZiAob2JqKSB7XHJcbiAgICAgICAgcHVzaFByb2R1Y2VyKChkcmFmdDogYW55KSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBkb2JqID0gKGRyYWZ0LmNhbnZhc09iamVjdHMgfHwgW10pLmZpbmQoKG86IGFueSkgPT4gby5pZCA9PT0gc2VsZWN0ZWRPYmplY3QpO1xyXG4gICAgICAgICAgaWYgKGRvYmopIGRvYmoucG9zaXRpb24gPSB7IC4uLm9iai5wb3NpdGlvbiB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBzZXRJc0RyYWdnaW5nT2JqZWN0KGZhbHNlKTtcclxuICB9XHJcbiAgXHJcbiAgLy8gR3JvdXAgcmVzaXppbmdcclxuICBmdW5jdGlvbiBoYW5kbGVHcm91cFJlc2l6ZVN0YXJ0KGdyb3VwSWQ6IHN0cmluZywgaGFuZGxlOiBzdHJpbmcsIGU6IFJlYWN0Lk1vdXNlRXZlbnQpIHtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICBjb25zdCBncm91cCA9IGNhbnZhc09iamVjdHMuZmluZChvID0+IG8uaWQgPT09IGdyb3VwSWQgJiYgby50eXBlID09PSAnZ3JvdXAnKTtcclxuICAgIGlmICghZ3JvdXAgfHwgIXZpZXdwb3J0UmVmLmN1cnJlbnQpIHJldHVybjtcclxuICAgIFxyXG4gICAgY29uc3Qgc2NhbGUgPSBjYW52YXNQYW5ab29tLnNjYWxlIHx8IDE7XHJcbiAgICBjb25zdCBjYW52YXNSZWN0ID0gdmlld3BvcnRSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIGNvbnN0IHNjcm9sbExlZnQgPSB2aWV3cG9ydFJlZi5jdXJyZW50LnNjcm9sbExlZnQ7XHJcbiAgICBjb25zdCBzY3JvbGxUb3AgPSB2aWV3cG9ydFJlZi5jdXJyZW50LnNjcm9sbFRvcDtcclxuICAgIFxyXG4gICAgY29uc3QgY2FudmFzWCA9IChlLmNsaWVudFggLSBjYW52YXNSZWN0LmxlZnQgKyBzY3JvbGxMZWZ0KSAvIHNjYWxlO1xyXG4gICAgY29uc3QgY2FudmFzWSA9IChlLmNsaWVudFkgLSBjYW52YXNSZWN0LnRvcCArIHNjcm9sbFRvcCkgLyBzY2FsZTtcclxuICAgIFxyXG4gICAgc2V0UmVzaXppbmdHcm91cCh7XHJcbiAgICAgIGlkOiBncm91cElkLFxyXG4gICAgICBoYW5kbGUsXHJcbiAgICAgIHN0YXJ0WDogY2FudmFzWCxcclxuICAgICAgc3RhcnRZOiBjYW52YXNZLFxyXG4gICAgICBzdGFydFNpemU6IHsgLi4uZ3JvdXAuc2l6ZSB9LFxyXG4gICAgICBzdGFydFBvczogeyAuLi5ncm91cC5wb3NpdGlvbiB9XHJcbiAgICB9KTtcclxuICB9XHJcbiAgXHJcbiAgZnVuY3Rpb24gaGFuZGxlR3JvdXBSZXNpemUoZTogUmVhY3QuTW91c2VFdmVudCkge1xyXG4gICAgaWYgKCFyZXNpemluZ0dyb3VwIHx8ICF2aWV3cG9ydFJlZi5jdXJyZW50KSByZXR1cm47XHJcbiAgICBcclxuICAgIGNvbnN0IHNjYWxlID0gY2FudmFzUGFuWm9vbS5zY2FsZSB8fCAxO1xyXG4gICAgY29uc3QgY2FudmFzUmVjdCA9IHZpZXdwb3J0UmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICBjb25zdCBzY3JvbGxMZWZ0ID0gdmlld3BvcnRSZWYuY3VycmVudC5zY3JvbGxMZWZ0O1xyXG4gICAgY29uc3Qgc2Nyb2xsVG9wID0gdmlld3BvcnRSZWYuY3VycmVudC5zY3JvbGxUb3A7XHJcbiAgICBcclxuICAgIGNvbnN0IGNhbnZhc1ggPSAoZS5jbGllbnRYIC0gY2FudmFzUmVjdC5sZWZ0ICsgc2Nyb2xsTGVmdCkgLyBzY2FsZTtcclxuICAgIGNvbnN0IGNhbnZhc1kgPSAoZS5jbGllbnRZIC0gY2FudmFzUmVjdC50b3AgKyBzY3JvbGxUb3ApIC8gc2NhbGU7XHJcbiAgICBcclxuICAgIGNvbnN0IGRlbHRhWCA9IGNhbnZhc1ggLSByZXNpemluZ0dyb3VwLnN0YXJ0WDtcclxuICAgIGNvbnN0IGRlbHRhWSA9IGNhbnZhc1kgLSByZXNpemluZ0dyb3VwLnN0YXJ0WTtcclxuICAgIFxyXG4gICAgY29uc3QgaGFuZGxlID0gcmVzaXppbmdHcm91cC5oYW5kbGU7XHJcbiAgICBsZXQgbmV3U2l6ZSA9IHsgLi4ucmVzaXppbmdHcm91cC5zdGFydFNpemUgfTtcclxuICAgIGxldCBuZXdQb3MgPSB7IC4uLnJlc2l6aW5nR3JvdXAuc3RhcnRQb3MgfTtcclxuICAgIFxyXG4gICAgLy8gSGFuZGxlIGRpZmZlcmVudCByZXNpemUgZGlyZWN0aW9uc1xyXG4gICAgaWYgKGhhbmRsZS5pbmNsdWRlcygnZScpKSB7XHJcbiAgICAgIG5ld1NpemUud2lkdGggPSBNYXRoLm1heCgyMDAsIHJlc2l6aW5nR3JvdXAuc3RhcnRTaXplLndpZHRoICsgZGVsdGFYKTtcclxuICAgIH1cclxuICAgIGlmIChoYW5kbGUuaW5jbHVkZXMoJ3cnKSkge1xyXG4gICAgICBjb25zdCBuZXdXaWR0aCA9IE1hdGgubWF4KDIwMCwgcmVzaXppbmdHcm91cC5zdGFydFNpemUud2lkdGggLSBkZWx0YVgpO1xyXG4gICAgICBpZiAobmV3V2lkdGggPiAyMDApIHtcclxuICAgICAgICBuZXdQb3MueCA9IHJlc2l6aW5nR3JvdXAuc3RhcnRQb3MueCArIGRlbHRhWDtcclxuICAgICAgICBuZXdTaXplLndpZHRoID0gbmV3V2lkdGg7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChoYW5kbGUuaW5jbHVkZXMoJ3MnKSkge1xyXG4gICAgICBuZXdTaXplLmhlaWdodCA9IE1hdGgubWF4KDE1MCwgcmVzaXppbmdHcm91cC5zdGFydFNpemUuaGVpZ2h0ICsgZGVsdGFZKTtcclxuICAgIH1cclxuICAgIGlmIChoYW5kbGUuaW5jbHVkZXMoJ24nKSkge1xyXG4gICAgICBjb25zdCBuZXdIZWlnaHQgPSBNYXRoLm1heCgxNTAsIHJlc2l6aW5nR3JvdXAuc3RhcnRTaXplLmhlaWdodCAtIGRlbHRhWSk7XHJcbiAgICAgIGlmIChuZXdIZWlnaHQgPiAxNTApIHtcclxuICAgICAgICBuZXdQb3MueSA9IHJlc2l6aW5nR3JvdXAuc3RhcnRQb3MueSArIGRlbHRhWTtcclxuICAgICAgICBuZXdTaXplLmhlaWdodCA9IG5ld0hlaWdodDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBzZXRDYW52YXNPYmplY3RzKHByZXYgPT4gcHJldi5tYXAobyA9PiBcclxuICAgICAgby5pZCA9PT0gcmVzaXppbmdHcm91cC5pZCA/IHsgLi4ubywgc2l6ZTogbmV3U2l6ZSwgcG9zaXRpb246IG5ld1BvcyB9IDogb1xyXG4gICAgKSk7XHJcbiAgfVxyXG4gIFxyXG4gIGZ1bmN0aW9uIGhhbmRsZUdyb3VwUmVzaXplRW5kKCkge1xyXG4gICAgaWYgKHJlc2l6aW5nR3JvdXApIHtcclxuICAgICAgY29uc3QgZ3JvdXAgPSBjYW52YXNPYmplY3RzLmZpbmQobyA9PiBvLmlkID09PSByZXNpemluZ0dyb3VwLmlkKTtcclxuICAgICAgaWYgKGdyb3VwKSB7XHJcbiAgICAgICAgcHVzaFByb2R1Y2VyKChkcmFmdDogYW55KSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBkb2JqID0gKGRyYWZ0LmNhbnZhc09iamVjdHMgfHwgW10pLmZpbmQoKG86IGFueSkgPT4gby5pZCA9PT0gcmVzaXppbmdHcm91cC5pZCk7XHJcbiAgICAgICAgICBpZiAoZG9iaikge1xyXG4gICAgICAgICAgICBkb2JqLnNpemUgPSB7IC4uLmdyb3VwLnNpemUgfTtcclxuICAgICAgICAgICAgZG9iai5wb3NpdGlvbiA9IHsgLi4uZ3JvdXAucG9zaXRpb24gfTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2V0UmVzaXppbmdHcm91cChudWxsKTtcclxuICB9XHJcbiAgXHJcbiAgZnVuY3Rpb24gYWRkTm9kZVRvQ2FudmFzKFxyXG4gICAgbm9kZVR5cGU6IHN0cmluZywgXHJcbiAgICBub2RlTmFtZTogc3RyaW5nLCBcclxuICAgIGNhdGVnb3J5OiBzdHJpbmcsIFxyXG4gICAgcG9zaXRpb246IHsgeDogbnVtYmVyLCB5OiBudW1iZXIgfSwgXHJcbiAgICBpY29uPzogc3RyaW5nLFxyXG4gICAgaW5wdXRQb3J0cz86IGFueVtdLFxyXG4gICAgb3V0cHV0UG9ydHM/OiBhbnlbXVxyXG4gICkge1xyXG4gICAgLy8gR2VuZXJhdGUgVVVJRCBtYXRjaGluZyBiYWNrZW5kIGZvcm1hdFxyXG4gICAgY29uc3QgZ2VuZXJhdGVVVUlEID0gKCkgPT4ge1xyXG4gICAgICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbihjKSB7XHJcbiAgICAgICAgY29uc3QgciA9IE1hdGgucmFuZG9tKCkgKiAxNiB8IDA7XHJcbiAgICAgICAgY29uc3QgdiA9IGMgPT09ICd4JyA/IHIgOiAociAmIDB4MyB8IDB4OCk7XHJcbiAgICAgICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xyXG4gICAgICB9KTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIGNvbnN0IG5ld05vZGUgPSB7XHJcbiAgICAgIG5vZGVfaWQ6IGdlbmVyYXRlVVVJRCgpLCAgLy8gVXNlIG5vZGVfaWQgKGJhY2tlbmQgZm9ybWF0KVxyXG4gICAgICBub2RlX3R5cGU6IG5vZGVUeXBlLCAgICAgICAvLyBVc2Ugbm9kZV90eXBlIChiYWNrZW5kIGZvcm1hdClcclxuICAgICAgbmFtZTogbm9kZU5hbWUsXHJcbiAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeSxcclxuICAgICAgcG9zaXRpb246IHBvc2l0aW9uLFxyXG4gICAgICAvLyBDb252ZXJ0IEFQSSBwb3J0IGZvcm1hdCB0byBVSSBmb3JtYXRcclxuICAgICAgaW5wdXRzOiAoaW5wdXRQb3J0cyB8fCBbXSkubWFwKChwb3J0OiBhbnkpID0+ICh7XHJcbiAgICAgICAgaWQ6IHBvcnQubmFtZSxcclxuICAgICAgICBsYWJlbDogcG9ydC5kaXNwbGF5X25hbWUgfHwgcG9ydC5uYW1lLFxyXG4gICAgICAgIHR5cGU6IHBvcnQudHlwZSxcclxuICAgICAgICByZXF1aXJlZDogcG9ydC5yZXF1aXJlZCB8fCBmYWxzZSxcclxuICAgICAgfSkpLFxyXG4gICAgICBvdXRwdXRzOiAob3V0cHV0UG9ydHMgfHwgW10pLm1hcCgocG9ydDogYW55KSA9PiAoe1xyXG4gICAgICAgIGlkOiBwb3J0Lm5hbWUsXHJcbiAgICAgICAgbGFiZWw6IHBvcnQuZGlzcGxheV9uYW1lIHx8IHBvcnQubmFtZSxcclxuICAgICAgICB0eXBlOiBwb3J0LnR5cGUsXHJcbiAgICAgIH0pKSxcclxuICAgICAgY29uZmlnOiB7fSxcclxuICAgICAgc3RhdHVzOiAnaWRsZScgYXMgY29uc3QsXHJcbiAgICAgIGljb246IGljb25cclxuICAgIH07XHJcbiAgICBcclxuICAgIC8vIFVzZSBwdXNoUHJvZHVjZXIgc28gdGhlIGNoYW5nZSBpcyBhcHBsaWVkIHdpdGggcGF0Y2hlcyBhbmQgcmVjb3JkZWRcclxuICAgIHB1c2hQcm9kdWNlcigoZHJhZnQ6IGFueSkgPT4ge1xyXG4gICAgICBkcmFmdC5jYW52YXNOb2RlcyA9IFsuLi4oZHJhZnQuY2FudmFzTm9kZXMgfHwgW10pLCBuZXdOb2RlXTtcclxuICAgIH0pO1xyXG4gICAgc2V0SXNEaXJ0eSh0cnVlKTtcclxuICAgIGFkZExvZyhg4p6VIEFkZGVkOiAke25vZGVOYW1lfWApO1xyXG4gIH1cclxuICBcclxuICBmdW5jdGlvbiBoYW5kbGVOb2RlU2VsZWN0KG5vZGVJZDogc3RyaW5nLCBldmVudD86IFJlYWN0Lk1vdXNlRXZlbnQpIHtcclxuICAgIC8vIE9ubHkgb3BlbiBjb25maWcgaWYgd2Ugd2VyZW4ndCBqdXN0IGRyYWdnaW5nXHJcbiAgICBpZiAoIWlzRHJhZ2dpbmdOb2RlICYmICFpc0RyYWdnaW5nR3JvdXApIHtcclxuICAgICAgLy8gQ2hlY2sgaWYgQ3RybC9DbWQgaXMgaGVsZCBmb3IgbXVsdGktc2VsZWN0aW9uXHJcbiAgICAgIGlmIChldmVudCAmJiAoZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5KSkge1xyXG4gICAgICAgIC8vIFRvZ2dsZSBub2RlIGluIG11bHRpLXNlbGVjdGlvblxyXG4gICAgICAgIHNldFNlbGVjdGVkTm9kZXMocHJldiA9PiB7XHJcbiAgICAgICAgICBjb25zdCBuZXh0ID0gbmV3IFNldChwcmV2KTtcclxuICAgICAgICAgIGlmIChuZXh0Lmhhcyhub2RlSWQpKSB7XHJcbiAgICAgICAgICAgIC8vIFJlbW92ZSBmcm9tIHNlbGVjdGlvblxyXG4gICAgICAgICAgICBuZXh0LmRlbGV0ZShub2RlSWQpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gQWRkIHRvIHNlbGVjdGlvblxyXG4gICAgICAgICAgICBuZXh0LmFkZChub2RlSWQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBVcGRhdGUgdmlzdWFsIHNlbGVjdGlvbiBvbiBjYW52YXMgbm9kZXMgdG8gbWF0Y2ggdGhlIFNldFxyXG4gICAgICAgICAgc2V0Q2FudmFzTm9kZXMoY25vZGVzID0+IGNub2Rlcy5tYXAobiA9PiAoeyBcclxuICAgICAgICAgICAgLi4ubiwgXHJcbiAgICAgICAgICAgIHNlbGVjdGVkOiBuZXh0LmhhcyhuLm5vZGVfaWQpXHJcbiAgICAgICAgICB9KSkpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBDbG9zZSBjb25maWcgcGFuZWwgd2hlbiBtdWx0aXBsZSBub2RlcyBhcmUgc2VsZWN0ZWRcclxuICAgICAgICAgIGlmIChuZXh0LnNpemUgPiAxKSB7XHJcbiAgICAgICAgICAgIHNldFNlbGVjdGVkTm9kZShudWxsKTtcclxuICAgICAgICAgICAgc2V0SXNDb25maWdQYW5lbE9wZW4oZmFsc2UpO1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChuZXh0LnNpemUgPT09IDEpIHtcclxuICAgICAgICAgICAgLy8gT25seSBvbmUgbm9kZSBzZWxlY3RlZCwgb3BlbiBjb25maWcgZm9yIGl0XHJcbiAgICAgICAgICAgIGNvbnN0IHNpbmdsZU5vZGVJZCA9IEFycmF5LmZyb20obmV4dClbMF07XHJcbiAgICAgICAgICAgIHNldFNlbGVjdGVkTm9kZShzaW5nbGVOb2RlSWQpO1xyXG4gICAgICAgICAgICBzZXRJc0NvbmZpZ1BhbmVsT3Blbih0cnVlKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIE5vIG5vZGVzIHNlbGVjdGVkXHJcbiAgICAgICAgICAgIHNldFNlbGVjdGVkTm9kZShudWxsKTtcclxuICAgICAgICAgICAgc2V0SXNDb25maWdQYW5lbE9wZW4oZmFsc2UpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICByZXR1cm4gbmV4dDtcclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBOb3JtYWwgc2luZ2xlIHNlbGVjdGlvbiAobm8gQ3RybC9DbWQpXHJcbiAgICAgICAgc2V0U2VsZWN0ZWROb2RlKG5vZGVJZCk7XHJcbiAgICAgICAgc2V0Q2FudmFzTm9kZXMocHJldiA9PiBwcmV2Lm1hcChuID0+ICh7IC4uLm4sIHNlbGVjdGVkOiBuLm5vZGVfaWQgPT09IG5vZGVJZCB9KSkpO1xyXG4gICAgICAgIHNldElzQ29uZmlnUGFuZWxPcGVuKHRydWUpO1xyXG4gICAgICAgIC8vIENsZWFyIG11bHRpLXNlbGVjdGlvbiB3aGVuIHNlbGVjdGluZyBzaW5nbGUgbm9kZVxyXG4gICAgICAgIHNldFNlbGVjdGVkTm9kZXMobmV3IFNldChbbm9kZUlkXSkpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIGZ1bmN0aW9uIGhhbmRsZU5vZGVEZWxldGUobm9kZUlkOiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IG5vZGVUb0RlbGV0ZSA9IGNhbnZhc05vZGVzLmZpbmQobiA9PiBuLm5vZGVfaWQgPT09IG5vZGVJZCk7XHJcbiAgICBjb25zdCBub2RlTmFtZSA9IG5vZGVUb0RlbGV0ZT8ubmFtZSB8fCBub2RlSWQ7XHJcbiAgICBcclxuICAgIC8vIEFwcGx5IGRlbGV0ZSB2aWEgcHJvZHVjZXIgYW5kIHJlY29yZCBhcyBwYXRjaC1iYXNlZCBoaXN0b3J5XHJcbiAgICBwdXNoUHJvZHVjZXIoKGRyYWZ0OiBhbnkpID0+IHtcclxuICAgICAgZHJhZnQuY2FudmFzTm9kZXMgPSAoZHJhZnQuY2FudmFzTm9kZXMgfHwgW10pLmZpbHRlcigobjogYW55KSA9PiBuLm5vZGVfaWQgIT09IG5vZGVJZCk7XHJcbiAgICAgIGRyYWZ0LmNvbm5lY3Rpb25zID0gKGRyYWZ0LmNvbm5lY3Rpb25zIHx8IFtdKS5maWx0ZXIoKGM6IGFueSkgPT4gYy5zb3VyY2Uubm9kZV9pZCAhPT0gbm9kZUlkICYmIGMudGFyZ2V0Lm5vZGVfaWQgIT09IG5vZGVJZCk7XHJcbiAgICB9KTtcclxuICAgIHNldElzRGlydHkodHJ1ZSk7XHJcbiAgICBhZGRMb2coYPCfl5HvuI8gRGVsZXRlZCBub2RlOiAke25vZGVOYW1lfWApO1xyXG4gICAgaWYgKHNlbGVjdGVkTm9kZSA9PT0gbm9kZUlkKSB7XHJcbiAgICAgIHNldFNlbGVjdGVkTm9kZShudWxsKTtcclxuICAgICAgc2V0SXNDb25maWdQYW5lbE9wZW4oZmFsc2UpO1xyXG4gICAgfVxyXG4gICAgLy8gUmVtb3ZlIGZyb20gbXVsdGktc2VsZWN0aW9uXHJcbiAgICBzZXRTZWxlY3RlZE5vZGVzKHByZXYgPT4ge1xyXG4gICAgICBjb25zdCBuZXh0ID0gbmV3IFNldChwcmV2KTtcclxuICAgICAgbmV4dC5kZWxldGUobm9kZUlkKTtcclxuICAgICAgcmV0dXJuIG5leHQ7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgXHJcbiAgZnVuY3Rpb24gaGFuZGxlTm9kZUZsaXAobm9kZUlkOiBzdHJpbmcpIHtcclxuICAgIHB1c2hQcm9kdWNlcigoZHJhZnQ6IGFueSkgPT4ge1xyXG4gICAgICBjb25zdCBub2RlID0gKGRyYWZ0LmNhbnZhc05vZGVzIHx8IFtdKS5maW5kKChuOiBhbnkpID0+IG4ubm9kZV9pZCA9PT0gbm9kZUlkKTtcclxuICAgICAgaWYgKG5vZGUpIHtcclxuICAgICAgICBub2RlLmZsaXBwZWQgPSAhbm9kZS5mbGlwcGVkO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHNldElzRGlydHkodHJ1ZSk7XHJcbiAgICBhZGRMb2coYPCflIQgRmxpcHBlZCBub2RlIGhvcml6b250YWxseWApO1xyXG4gIH1cclxuICBcclxuICBmdW5jdGlvbiBoYW5kbGVOb2RlQ29udGV4dE1lbnUobm9kZUlkOiBzdHJpbmcsIGU6IFJlYWN0Lk1vdXNlRXZlbnQpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICBcclxuICAgIGlmICghdmlld3BvcnRSZWYuY3VycmVudCkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICBjb25zdCByZWN0ID0gdmlld3BvcnRSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIGNvbnN0IHNjYWxlID0gY2FudmFzUGFuWm9vbS5zY2FsZSB8fCAxO1xyXG4gICAgY29uc3Qgc2Nyb2xsTGVmdCA9IHZpZXdwb3J0UmVmLmN1cnJlbnQuc2Nyb2xsTGVmdDtcclxuICAgIGNvbnN0IHNjcm9sbFRvcCA9IHZpZXdwb3J0UmVmLmN1cnJlbnQuc2Nyb2xsVG9wO1xyXG4gICAgXHJcbiAgICBjb25zdCBjYW52YXNYID0gKGUuY2xpZW50WCAtIHJlY3QubGVmdCArIHNjcm9sbExlZnQpIC8gc2NhbGU7XHJcbiAgICBjb25zdCBjYW52YXNZID0gKGUuY2xpZW50WSAtIHJlY3QudG9wICsgc2Nyb2xsVG9wKSAvIHNjYWxlO1xyXG4gICAgXHJcbiAgICBzZXROb2RlQ29udGV4dE1lbnUoeyB4OiBjYW52YXNYLCB5OiBjYW52YXNZLCBub2RlSWQgfSk7XHJcbiAgICBzZXRDb250ZXh0TWVudShudWxsKTsgLy8gQ2xvc2UgY2FudmFzIGNvbnRleHQgbWVudSBpZiBvcGVuXHJcbiAgfVxyXG4gIFxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09IFNlbGVjdGlvbiBCb3ggTWFuYWdlbWVudCA9PT09PT09PT09PT09PT09PT09PVxyXG4gIFxyXG4gIGZ1bmN0aW9uIGhhbmRsZVNlbGVjdGlvbkJveFN0YXJ0KGU6IFJlYWN0Lk1vdXNlRXZlbnQpIHtcclxuICAgIGlmICghdmlld3BvcnRSZWYuY3VycmVudCkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICAvLyBEb24ndCBzdGFydCBzZWxlY3Rpb24gYm94IGlmIGNsaWNraW5nIG9uIGEgbm9kZVxyXG4gICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoJy53b3JrZmxvdy1ub2RlJykgfHwgdGFyZ2V0LmNsb3Nlc3QoJy5jYW52YXMtZ3JvdXAnKSB8fCB0YXJnZXQuY2xvc2VzdCgnLmNhbnZhcy10ZXh0JykpIHJldHVybjtcclxuICAgIFxyXG4gICAgLy8gSGFuZGxlIHJpZ2h0LWNsaWNrIGZvciBjb250ZXh0IG1lbnVcclxuICAgIGlmIChlLmJ1dHRvbiA9PT0gMikge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGNvbnN0IHJlY3QgPSB2aWV3cG9ydFJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICBjb25zdCBzY2FsZSA9IGNhbnZhc1Bhblpvb20uc2NhbGUgfHwgMTtcclxuICAgICAgY29uc3Qgc2Nyb2xsTGVmdCA9IHZpZXdwb3J0UmVmLmN1cnJlbnQuc2Nyb2xsTGVmdDtcclxuICAgICAgY29uc3Qgc2Nyb2xsVG9wID0gdmlld3BvcnRSZWYuY3VycmVudC5zY3JvbGxUb3A7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBjYW52YXNYID0gKGUuY2xpZW50WCAtIHJlY3QubGVmdCArIHNjcm9sbExlZnQpIC8gc2NhbGU7XHJcbiAgICAgIGNvbnN0IGNhbnZhc1kgPSAoZS5jbGllbnRZIC0gcmVjdC50b3AgKyBzY3JvbGxUb3ApIC8gc2NhbGU7XHJcbiAgICAgIFxyXG4gICAgICBzZXRDb250ZXh0TWVudSh7IHg6IGNhbnZhc1gsIHk6IGNhbnZhc1kgfSk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gRG9uJ3Qgc3RhcnQgc2VsZWN0aW9uIGJveCBpZiBDdHJsIGlzIGhlbGQgKHRoYXQncyBmb3IgcGFubmluZylcclxuICAgIGlmIChlLmN0cmxLZXkgfHwgZS5tZXRhS2V5KSByZXR1cm47XHJcbiAgICBcclxuICAgIGNvbnN0IHJlY3QgPSB2aWV3cG9ydFJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgY29uc3Qgc2NhbGUgPSBjYW52YXNQYW5ab29tLnNjYWxlIHx8IDE7XHJcbiAgICBjb25zdCBzY3JvbGxMZWZ0ID0gdmlld3BvcnRSZWYuY3VycmVudC5zY3JvbGxMZWZ0O1xyXG4gICAgY29uc3Qgc2Nyb2xsVG9wID0gdmlld3BvcnRSZWYuY3VycmVudC5zY3JvbGxUb3A7XHJcbiAgICBcclxuICAgIGNvbnN0IGNhbnZhc1ggPSAoZS5jbGllbnRYIC0gcmVjdC5sZWZ0ICsgc2Nyb2xsTGVmdCkgLyBzY2FsZTtcclxuICAgIGNvbnN0IGNhbnZhc1kgPSAoZS5jbGllbnRZIC0gcmVjdC50b3AgKyBzY3JvbGxUb3ApIC8gc2NhbGU7XHJcbiAgICBcclxuICAgIHNldFNlbGVjdGlvbkJveCh7XHJcbiAgICAgIHN0YXJ0WDogY2FudmFzWCxcclxuICAgICAgc3RhcnRZOiBjYW52YXNZLFxyXG4gICAgICBjdXJyZW50WDogY2FudmFzWCxcclxuICAgICAgY3VycmVudFk6IGNhbnZhc1ksXHJcbiAgICB9KTtcclxuICB9XHJcbiAgXHJcbiAgZnVuY3Rpb24gaGFuZGxlU2VsZWN0aW9uQm94TW92ZShlOiBSZWFjdC5Nb3VzZUV2ZW50KSB7XHJcbiAgICBpZiAoIXNlbGVjdGlvbkJveCB8fCAhdmlld3BvcnRSZWYuY3VycmVudCkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICBjb25zdCByZWN0ID0gdmlld3BvcnRSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIGNvbnN0IHNjYWxlID0gY2FudmFzUGFuWm9vbS5zY2FsZSB8fCAxO1xyXG4gICAgY29uc3Qgc2Nyb2xsTGVmdCA9IHZpZXdwb3J0UmVmLmN1cnJlbnQuc2Nyb2xsTGVmdDtcclxuICAgIGNvbnN0IHNjcm9sbFRvcCA9IHZpZXdwb3J0UmVmLmN1cnJlbnQuc2Nyb2xsVG9wO1xyXG4gICAgXHJcbiAgICBjb25zdCBjYW52YXNYID0gKGUuY2xpZW50WCAtIHJlY3QubGVmdCArIHNjcm9sbExlZnQpIC8gc2NhbGU7XHJcbiAgICBjb25zdCBjYW52YXNZID0gKGUuY2xpZW50WSAtIHJlY3QudG9wICsgc2Nyb2xsVG9wKSAvIHNjYWxlO1xyXG4gICAgXHJcbiAgICBzZXRTZWxlY3Rpb25Cb3gocHJldiA9PiBwcmV2ID8ge1xyXG4gICAgICAuLi5wcmV2LFxyXG4gICAgICBjdXJyZW50WDogY2FudmFzWCxcclxuICAgICAgY3VycmVudFk6IGNhbnZhc1ksXHJcbiAgICB9IDogbnVsbCk7XHJcbiAgICBcclxuICAgIC8vIFVwZGF0ZSBzZWxlY3RlZCBub2RlcyBiYXNlZCBvbiBpbnRlcnNlY3Rpb24gd2l0aCBzZWxlY3Rpb24gYm94XHJcbiAgICBjb25zdCBtaW5YID0gTWF0aC5taW4oc2VsZWN0aW9uQm94LnN0YXJ0WCwgY2FudmFzWCk7XHJcbiAgICBjb25zdCBtYXhYID0gTWF0aC5tYXgoc2VsZWN0aW9uQm94LnN0YXJ0WCwgY2FudmFzWCk7XHJcbiAgICBjb25zdCBtaW5ZID0gTWF0aC5taW4oc2VsZWN0aW9uQm94LnN0YXJ0WSwgY2FudmFzWSk7XHJcbiAgICBjb25zdCBtYXhZID0gTWF0aC5tYXgoc2VsZWN0aW9uQm94LnN0YXJ0WSwgY2FudmFzWSk7XHJcbiAgICBcclxuICAgIGNvbnN0IHNlbGVjdGVkTm9kZUlkcyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xyXG4gICAgY2FudmFzTm9kZXMuZm9yRWFjaChub2RlID0+IHtcclxuICAgICAgY29uc3Qgbm9kZVJpZ2h0ID0gbm9kZS5wb3NpdGlvbi54ICsgMjQwOyAvLyBBcHByb3hpbWF0ZSBub2RlIHdpZHRoXHJcbiAgICAgIGNvbnN0IG5vZGVCb3R0b20gPSBub2RlLnBvc2l0aW9uLnkgKyAxMDA7IC8vIEFwcHJveGltYXRlIG5vZGUgaGVpZ2h0XHJcbiAgICAgIFxyXG4gICAgICAvLyBDaGVjayBpZiBub2RlIGludGVyc2VjdHMgd2l0aCBzZWxlY3Rpb24gYm94XHJcbiAgICAgIGlmIChcclxuICAgICAgICBub2RlLnBvc2l0aW9uLnggPCBtYXhYICYmXHJcbiAgICAgICAgbm9kZVJpZ2h0ID4gbWluWCAmJlxyXG4gICAgICAgIG5vZGUucG9zaXRpb24ueSA8IG1heFkgJiZcclxuICAgICAgICBub2RlQm90dG9tID4gbWluWVxyXG4gICAgICApIHtcclxuICAgICAgICBzZWxlY3RlZE5vZGVJZHMuYWRkKG5vZGUubm9kZV9pZCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBzZXRTZWxlY3RlZE5vZGVzKHNlbGVjdGVkTm9kZUlkcyk7XHJcbiAgfVxyXG4gIFxyXG4gIGZ1bmN0aW9uIGhhbmRsZVNlbGVjdGlvbkJveEVuZCgpIHtcclxuICAgIGlmICghc2VsZWN0aW9uQm94KSByZXR1cm47XHJcbiAgICBcclxuICAgIC8vIENoZWNrIGlmIHRoaXMgd2FzIGp1c3QgYSBjbGljayAobm8gZHJhZykgYnkgbWVhc3VyaW5nIHRoZSBkaXN0YW5jZVxyXG4gICAgY29uc3QgZHJhZ0Rpc3RhbmNlID0gTWF0aC5zcXJ0KFxyXG4gICAgICBNYXRoLnBvdyhzZWxlY3Rpb25Cb3guY3VycmVudFggLSBzZWxlY3Rpb25Cb3guc3RhcnRYLCAyKSArXHJcbiAgICAgIE1hdGgucG93KHNlbGVjdGlvbkJveC5jdXJyZW50WSAtIHNlbGVjdGlvbkJveC5zdGFydFksIDIpXHJcbiAgICApO1xyXG4gICAgXHJcbiAgICAvLyBJZiBkcmFnIGRpc3RhbmNlIGlzIHZlcnkgc21hbGwgKGxlc3MgdGhhbiA1IHBpeGVscyksIHRyZWF0IGl0IGFzIGEgY2xpY2sgb24gZW1wdHkgc3BhY2VcclxuICAgIGlmIChkcmFnRGlzdGFuY2UgPCA1KSB7XHJcbiAgICAgIC8vIENsZWFyIHNlbGVjdGlvbiB3aGVuIGNsaWNraW5nIG9uIGVtcHR5IGNhbnZhc1xyXG4gICAgICBzZXRTZWxlY3RlZE5vZGVzKG5ldyBTZXQoKSk7XHJcbiAgICAgIHNldFNlbGVjdGVkTm9kZShudWxsKTtcclxuICAgICAgc2V0U2VsZWN0ZWRPYmplY3QobnVsbCk7XHJcbiAgICAgIHNldElzQ29uZmlnUGFuZWxPcGVuKGZhbHNlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIEl0IHdhcyBhIGRyYWcsIHNvIGhhbmRsZSB0aGUgc2VsZWN0aW9uIGJveCByZXN1bHRcclxuICAgICAgaWYgKHNlbGVjdGVkTm9kZXMuc2l6ZSA9PT0gMCkge1xyXG4gICAgICAgIHNldFNlbGVjdGVkTm9kZShudWxsKTtcclxuICAgICAgICBzZXRJc0NvbmZpZ1BhbmVsT3BlbihmYWxzZSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoc2VsZWN0ZWROb2Rlcy5zaXplID09PSAxKSB7XHJcbiAgICAgICAgLy8gSWYgb25seSBvbmUgbm9kZSBzZWxlY3RlZCwgdHJlYXQgaXQgYXMgc2luZ2xlIHNlbGVjdGlvblxyXG4gICAgICAgIGNvbnN0IG5vZGVJZCA9IEFycmF5LmZyb20oc2VsZWN0ZWROb2RlcylbMF07XHJcbiAgICAgICAgc2V0U2VsZWN0ZWROb2RlKG5vZGVJZCk7XHJcbiAgICAgICAgc2V0SXNDb25maWdQYW5lbE9wZW4odHJ1ZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gTXVsdGlwbGUgbm9kZXMgc2VsZWN0ZWQsIGNsb3NlIGNvbmZpZyBwYW5lbFxyXG4gICAgICAgIHNldFNlbGVjdGVkTm9kZShudWxsKTtcclxuICAgICAgICBzZXRJc0NvbmZpZ1BhbmVsT3BlbihmYWxzZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgc2V0U2VsZWN0aW9uQm94KG51bGwpO1xyXG4gIH1cclxuICBcclxuICAvLyA9PT09PT09PT09PT09PT09PT09PSBHcm91cCBEcmFnZ2luZyBNYW5hZ2VtZW50ID09PT09PT09PT09PT09PT09PT09XHJcbiAgXHJcbiAgZnVuY3Rpb24gaGFuZGxlR3JvdXBEcmFnU3RhcnQobm9kZUlkOiBzdHJpbmcsIGU6IFJlYWN0Lk1vdXNlRXZlbnQpIHtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICBcclxuICAgIC8vIElmIEN0cmwvQ21kIGlzIGhlbGQsIGRvbid0IHN0YXJ0IGRyYWdnaW5nIC0gbGV0IHRoZSBjbGljayBoYW5kbGVyIGRlYWwgd2l0aCBzZWxlY3Rpb25cclxuICAgIGlmIChlLmN0cmxLZXkgfHwgZS5tZXRhS2V5KSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gSWYgdGhlIGNsaWNrZWQgbm9kZSBpcyBub3QgaW4gdGhlIHNlbGVjdGlvbiwgc2VsZWN0IG9ubHkgaXRcclxuICAgIGlmICghc2VsZWN0ZWROb2Rlcy5oYXMobm9kZUlkKSkge1xyXG4gICAgICBzZXRTZWxlY3RlZE5vZGVzKG5ldyBTZXQoW25vZGVJZF0pKTtcclxuICAgICAgc2V0U2VsZWN0ZWROb2RlKG5vZGVJZCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHNldElzRHJhZ2dpbmdHcm91cCh0cnVlKTtcclxuICAgIFxyXG4gICAgaWYgKHZpZXdwb3J0UmVmLmN1cnJlbnQpIHtcclxuICAgICAgY29uc3Qgc2NhbGUgPSBjYW52YXNQYW5ab29tLnNjYWxlIHx8IDE7XHJcbiAgICAgIGNvbnN0IGNhbnZhc1JlY3QgPSB2aWV3cG9ydFJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICBjb25zdCBzY3JvbGxMZWZ0ID0gdmlld3BvcnRSZWYuY3VycmVudC5zY3JvbGxMZWZ0O1xyXG4gICAgICBjb25zdCBzY3JvbGxUb3AgPSB2aWV3cG9ydFJlZi5jdXJyZW50LnNjcm9sbFRvcDtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGNhbnZhc1ggPSAoZS5jbGllbnRYIC0gY2FudmFzUmVjdC5sZWZ0ICsgc2Nyb2xsTGVmdCkgLyBzY2FsZTtcclxuICAgICAgY29uc3QgY2FudmFzWSA9IChlLmNsaWVudFkgLSBjYW52YXNSZWN0LnRvcCArIHNjcm9sbFRvcCkgLyBzY2FsZTtcclxuICAgICAgXHJcbiAgICAgIHNldEdyb3VwRHJhZ1N0YXJ0KHsgeDogY2FudmFzWCwgeTogY2FudmFzWSB9KTtcclxuICAgICAgXHJcbiAgICAgIC8vIENhbGN1bGF0ZSBvZmZzZXRzIGZvciBhbGwgc2VsZWN0ZWQgbm9kZXNcclxuICAgICAgY29uc3Qgb2Zmc2V0cyA9IG5ldyBNYXA8c3RyaW5nLCB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0+KCk7XHJcbiAgICAgIGNvbnN0IG5vZGVzVG9EcmFnID0gc2VsZWN0ZWROb2Rlcy5oYXMobm9kZUlkKSA/IHNlbGVjdGVkTm9kZXMgOiBuZXcgU2V0KFtub2RlSWRdKTtcclxuICAgICAgXHJcbiAgICAgIG5vZGVzVG9EcmFnLmZvckVhY2goaWQgPT4ge1xyXG4gICAgICAgIGNvbnN0IG5vZGUgPSBjYW52YXNOb2Rlcy5maW5kKG4gPT4gbi5ub2RlX2lkID09PSBpZCk7XHJcbiAgICAgICAgaWYgKG5vZGUpIHtcclxuICAgICAgICAgIG9mZnNldHMuc2V0KGlkLCB7XHJcbiAgICAgICAgICAgIHg6IGNhbnZhc1ggLSBub2RlLnBvc2l0aW9uLngsXHJcbiAgICAgICAgICAgIHk6IGNhbnZhc1kgLSBub2RlLnBvc2l0aW9uLnlcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBzZXRHcm91cERyYWdPZmZzZXRzKG9mZnNldHMpO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICBmdW5jdGlvbiBoYW5kbGVHcm91cERyYWcoZTogUmVhY3QuTW91c2VFdmVudCkge1xyXG4gICAgaWYgKCFpc0RyYWdnaW5nR3JvdXAgfHwgIWdyb3VwRHJhZ1N0YXJ0IHx8ICF2aWV3cG9ydFJlZi5jdXJyZW50KSByZXR1cm47XHJcbiAgICBcclxuICAgIGNvbnN0IHNjYWxlID0gY2FudmFzUGFuWm9vbS5zY2FsZSB8fCAxO1xyXG4gICAgY29uc3QgY2FudmFzUmVjdCA9IHZpZXdwb3J0UmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICBjb25zdCBzY3JvbGxMZWZ0ID0gdmlld3BvcnRSZWYuY3VycmVudC5zY3JvbGxMZWZ0O1xyXG4gICAgY29uc3Qgc2Nyb2xsVG9wID0gdmlld3BvcnRSZWYuY3VycmVudC5zY3JvbGxUb3A7XHJcbiAgICBcclxuICAgIGNvbnN0IGNhbnZhc1ggPSAoZS5jbGllbnRYIC0gY2FudmFzUmVjdC5sZWZ0ICsgc2Nyb2xsTGVmdCkgLyBzY2FsZTtcclxuICAgIGNvbnN0IGNhbnZhc1kgPSAoZS5jbGllbnRZIC0gY2FudmFzUmVjdC50b3AgKyBzY3JvbGxUb3ApIC8gc2NhbGU7XHJcbiAgICBcclxuICAgIC8vIE1vdmUgYWxsIHNlbGVjdGVkIG5vZGVzXHJcbiAgICBzZXRDYW52YXNOb2RlcyhwcmV2ID0+IHByZXYubWFwKG5vZGUgPT4ge1xyXG4gICAgICBpZiAoc2VsZWN0ZWROb2Rlcy5oYXMobm9kZS5ub2RlX2lkKSkge1xyXG4gICAgICAgIGNvbnN0IG9mZnNldCA9IGdyb3VwRHJhZ09mZnNldHMuZ2V0KG5vZGUubm9kZV9pZCk7XHJcbiAgICAgICAgaWYgKG9mZnNldCkge1xyXG4gICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgLi4ubm9kZSxcclxuICAgICAgICAgICAgcG9zaXRpb246IHtcclxuICAgICAgICAgICAgICB4OiBjYW52YXNYIC0gb2Zmc2V0LngsXHJcbiAgICAgICAgICAgICAgeTogY2FudmFzWSAtIG9mZnNldC55XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBub2RlO1xyXG4gICAgfSkpO1xyXG4gICAgXHJcbiAgICBzZXRJc0RpcnR5KHRydWUpO1xyXG4gIH1cclxuICBcclxuICBmdW5jdGlvbiBoYW5kbGVHcm91cERyYWdFbmQoKSB7XHJcbiAgICBpZiAoaXNEcmFnZ2luZ0dyb3VwKSB7XHJcbiAgICAgIC8vIFJlY29yZCBmaW5hbCBwb3NpdGlvbnNcclxuICAgICAgY29uc3QgbW92ZWROb2RlcyA9IGNhbnZhc05vZGVzLmZpbHRlcihuID0+IHNlbGVjdGVkTm9kZXMuaGFzKG4ubm9kZV9pZCkpO1xyXG4gICAgICBpZiAobW92ZWROb2Rlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgcHVzaFByb2R1Y2VyKChkcmFmdDogYW55KSA9PiB7XHJcbiAgICAgICAgICBtb3ZlZE5vZGVzLmZvckVhY2gobW92ZWQgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBkbm9kZSA9IChkcmFmdC5jYW52YXNOb2RlcyB8fCBbXSkuZmluZCgobjogYW55KSA9PiBuLm5vZGVfaWQgPT09IG1vdmVkLm5vZGVfaWQpO1xyXG4gICAgICAgICAgICBpZiAoZG5vZGUpIGRub2RlLnBvc2l0aW9uID0geyAuLi5tb3ZlZC5wb3NpdGlvbiB9O1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgc2V0SXNEcmFnZ2luZ0dyb3VwKGZhbHNlKTtcclxuICAgIHNldEdyb3VwRHJhZ1N0YXJ0KG51bGwpO1xyXG4gICAgc2V0R3JvdXBEcmFnT2Zmc2V0cyhuZXcgTWFwKCkpO1xyXG4gICAgXHJcbiAgICAvLyBSZXNldCBkcmFnZ2luZyBmbGFnIGFmdGVyIGEgc21hbGwgZGVsYXlcclxuICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0SXNEcmFnZ2luZ05vZGUoZmFsc2UpLCAxMDApO1xyXG4gIH1cclxuICBcclxuICBmdW5jdGlvbiBoYW5kbGVDb25maWdVcGRhdGUobm9kZUlkOiBzdHJpbmcsIG5ld0NvbmZpZzogeyBba2V5OiBzdHJpbmddOiBhbnkgfSkge1xyXG4gICAgcHVzaFByb2R1Y2VyKChkcmFmdDogYW55KSA9PiB7XHJcbiAgICAgIGRyYWZ0LmNhbnZhc05vZGVzID0gKGRyYWZ0LmNhbnZhc05vZGVzIHx8IFtdKS5tYXAoKG46IGFueSkgPT5cclxuICAgICAgICBuLm5vZGVfaWQgPT09IG5vZGVJZCA/IHsgLi4ubiwgY29uZmlnOiBuZXdDb25maWcgfSA6IG5cclxuICAgICAgKTtcclxuICAgIH0pO1xyXG4gICAgc2V0SXNEaXJ0eSh0cnVlKTtcclxuICAgIGFkZExvZyhg4pqZ77iPIFVwZGF0ZWQgY29uZmlndXJhdGlvbiBmb3Igbm9kZWApO1xyXG4gIH1cclxuICBcclxuICBmdW5jdGlvbiBoYW5kbGVOb2RlVXBkYXRlKG5vZGVJZDogc3RyaW5nLCB1cGRhdGVzOiBQYXJ0aWFsPGFueT4pIHtcclxuICAgIHB1c2hQcm9kdWNlcigoZHJhZnQ6IGFueSkgPT4ge1xyXG4gICAgICBkcmFmdC5jYW52YXNOb2RlcyA9IChkcmFmdC5jYW52YXNOb2RlcyB8fCBbXSkubWFwKChuOiBhbnkpID0+XHJcbiAgICAgICAgbi5ub2RlX2lkID09PSBub2RlSWQgPyB7IC4uLm4sIC4uLnVwZGF0ZXMgfSA6IG5cclxuICAgICAgKTtcclxuICAgIH0pO1xyXG4gICAgc2V0SXNEaXJ0eSh0cnVlKTtcclxuICAgIGlmICh1cGRhdGVzLnNoYXJlX291dHB1dF90b192YXJpYWJsZXMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICBhZGRMb2coYPCfk6QgJHt1cGRhdGVzLnNoYXJlX291dHB1dF90b192YXJpYWJsZXMgPyAnRW5hYmxlZCcgOiAnRGlzYWJsZWQnfSBvdXRwdXQgc2hhcmluZyBmb3Igbm9kZWApO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICBmdW5jdGlvbiBoYW5kbGVOb2RlRHJhZ1N0YXJ0KG5vZGVJZDogc3RyaW5nLCBlOiBSZWFjdC5Nb3VzZUV2ZW50KSB7XHJcbiAgICAvLyBVc2UgdGhlIG5ldyBncm91cCBkcmFnIGZ1bmN0aW9uYWxpdHlcclxuICAgIGhhbmRsZUdyb3VwRHJhZ1N0YXJ0KG5vZGVJZCwgZSk7XHJcbiAgfVxyXG4gIFxyXG4gIGZ1bmN0aW9uIGhhbmRsZU5vZGVEcmFnKGU6IFJlYWN0Lk1vdXNlRXZlbnQpIHtcclxuICAgIC8vIFVzZSB0aGUgbmV3IGdyb3VwIGRyYWcgZnVuY3Rpb25hbGl0eVxyXG4gICAgaGFuZGxlR3JvdXBEcmFnKGUpO1xyXG4gIH1cclxuICBcclxuICBmdW5jdGlvbiBoYW5kbGVOb2RlRHJhZ0VuZCgpIHtcclxuICAgIC8vIFVzZSB0aGUgbmV3IGdyb3VwIGRyYWcgZnVuY3Rpb25hbGl0eVxyXG4gICAgaGFuZGxlR3JvdXBEcmFnRW5kKCk7XHJcbiAgfVxyXG5cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PSBDb3B5IC8gUGFzdGUgPT09PT09PT09PT09PT09PT09PT1cclxuICAvLyBDb3B5IHNlbGVjdGVkIG5vZGVzIChhbmQgaW50ZXJuYWwgY29ubmVjdGlvbnMgYmV0d2VlbiB0aGVtKSBpbnRvIGNsaXBib2FyZFJlZlxyXG4gIGZ1bmN0aW9uIGNvcHlTZWxlY3RlZE5vZGVzKCkge1xyXG4gICAgaWYgKCFzZWxlY3RlZE5vZGVzIHx8IHNlbGVjdGVkTm9kZXMuc2l6ZSA9PT0gMCkgcmV0dXJuO1xyXG4gICAgY29uc3Qgbm9kZXNUb0NvcHkgPSBjYW52YXNOb2Rlcy5maWx0ZXIobiA9PiBzZWxlY3RlZE5vZGVzLmhhcyhuLm5vZGVfaWQpKTtcclxuICAgIGNvbnN0IGNvbm5lY3Rpb25zVG9Db3B5ID0gY29ubmVjdGlvbnMuZmlsdGVyKGMgPT4gc2VsZWN0ZWROb2Rlcy5oYXMoYy5zb3VyY2Uubm9kZV9pZCkgJiYgc2VsZWN0ZWROb2Rlcy5oYXMoYy50YXJnZXQubm9kZV9pZCkpO1xyXG4gICAgY2xpcGJvYXJkUmVmLmN1cnJlbnQgPSB7XHJcbiAgICAgIG5vZGVzOiBkZWVwQ2xvbmUobm9kZXNUb0NvcHkpLFxyXG4gICAgICBjb25uZWN0aW9uczogZGVlcENsb25lKGNvbm5lY3Rpb25zVG9Db3B5KVxyXG4gICAgfTtcclxuICAgIHBhc3RlT2Zmc2V0UmVmLmN1cnJlbnQgPSAwO1xyXG4gICAgYWRkTG9nKGDwn5OLIENvcGllZCAke25vZGVzVG9Db3B5Lmxlbmd0aH0gbm9kZShzKWApO1xyXG4gIH1cclxuXHJcbiAgLy8gUGFzdGUgbm9kZXMgZnJvbSBjbGlwYm9hcmQsIHJlbWFwcGluZyBJRHMgYW5kIG9mZnNldHRpbmcgcG9zaXRpb25zXHJcbiAgZnVuY3Rpb24gcGFzdGVDbGlwYm9hcmQoKSB7XHJcbiAgICBjb25zdCBjbGlwID0gY2xpcGJvYXJkUmVmLmN1cnJlbnQ7XHJcbiAgICBpZiAoIWNsaXAgfHwgIWNsaXAubm9kZXMgfHwgY2xpcC5ub2Rlcy5sZW5ndGggPT09IDApIHJldHVybjtcclxuXHJcbiAgICBjb25zdCByZW1hcCA9IG5ldyBNYXA8c3RyaW5nLCBzdHJpbmc+KCk7XHJcblxyXG4gICAgLy8gQ29tcHV0ZSBwYXN0ZSB0YXJnZXQ6IGNlbnRlciBvZiB2aWV3cG9ydCBpbiBjYW52YXMgY29vcmRpbmF0ZXNcclxuICAgIGxldCBjZW50ZXJYOiBudW1iZXIgfCBudWxsID0gbnVsbDtcclxuICAgIGxldCBjZW50ZXJZOiBudW1iZXIgfCBudWxsID0gbnVsbDtcclxuICAgIGNvbnN0IHNjYWxlID0gY2FudmFzUGFuWm9vbS5zY2FsZSB8fCAxO1xyXG4gICAgaWYgKHZpZXdwb3J0UmVmLmN1cnJlbnQpIHtcclxuICAgICAgY29uc3QgcmVjdCA9IHZpZXdwb3J0UmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgIGNvbnN0IHNjcm9sbExlZnQgPSB2aWV3cG9ydFJlZi5jdXJyZW50LnNjcm9sbExlZnQ7XHJcbiAgICAgIGNvbnN0IHNjcm9sbFRvcCA9IHZpZXdwb3J0UmVmLmN1cnJlbnQuc2Nyb2xsVG9wO1xyXG4gICAgICBjb25zdCBjZW50ZXJDbGllbnRYID0gcmVjdC5sZWZ0ICsgcmVjdC53aWR0aCAvIDI7XHJcbiAgICAgIGNvbnN0IGNlbnRlckNsaWVudFkgPSByZWN0LnRvcCArIHJlY3QuaGVpZ2h0IC8gMjtcclxuICAgICAgY2VudGVyWCA9IChjZW50ZXJDbGllbnRYIC0gcmVjdC5sZWZ0ICsgc2Nyb2xsTGVmdCkgLyBzY2FsZTtcclxuICAgICAgY2VudGVyWSA9IChjZW50ZXJDbGllbnRZIC0gcmVjdC50b3AgKyBzY3JvbGxUb3ApIC8gc2NhbGU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ29tcHV0ZSBjZW50cm9pZCBvZiBjb3BpZWQgbm9kZXMgdG8gdHJhbnNsYXRlIHRoZW0gc28gdGhlaXIgY2VudGVyIGxhbmRzIGluIHZpZXdwb3J0IGNlbnRlclxyXG4gICAgbGV0IGNlbnRyb2lkWCA9IDA7XHJcbiAgICBsZXQgY2VudHJvaWRZID0gMDtcclxuICAgIGNvbnN0IG5vZGVDb3VudCA9IGNsaXAubm9kZXMubGVuZ3RoO1xyXG4gICAgaWYgKG5vZGVDb3VudCA+IDApIHtcclxuICAgICAgY2xpcC5ub2Rlcy5mb3JFYWNoKChuOiBhbnkpID0+IHtcclxuICAgICAgICBjZW50cm9pZFggKz0gKG4ucG9zaXRpb24/LnggfHwgMCk7XHJcbiAgICAgICAgY2VudHJvaWRZICs9IChuLnBvc2l0aW9uPy55IHx8IDApO1xyXG4gICAgICB9KTtcclxuICAgICAgY2VudHJvaWRYIC89IG5vZGVDb3VudDtcclxuICAgICAgY2VudHJvaWRZIC89IG5vZGVDb3VudDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiB3ZSBjb3VsZG4ndCBjb21wdXRlIHZpZXdwb3J0IGNlbnRlciwgZmFsbCBiYWNrIHRvIHNtYWxsIG9mZnNldCBiZWhhdmlvclxyXG4gICAgY29uc3QgYmFzZU9mZnNldCA9IDQwO1xyXG4gICAgY29uc3QgaW5jcmVtZW50YWwgPSBwYXN0ZU9mZnNldFJlZi5jdXJyZW50IHx8IDA7XHJcbiAgICAvLyBEZWZhdWx0IGJpYXMgdG8gbnVkZ2UgcGFzdGVkIG5vZGVzIHNsaWdodGx5IHVwIGFuZCBsZWZ0IChuZWdhdGl2ZSB2YWx1ZXMpXHJcbiAgICBjb25zdCBERUZBVUxUX1VQX0xFRlRfQklBUyA9IC0xMDA7XHJcblxyXG4gICAgY29uc3QgZHggPSBjZW50ZXJYICE9PSBudWxsID8gKGNlbnRlclggLSBjZW50cm9pZFggKyBpbmNyZW1lbnRhbCArIERFRkFVTFRfVVBfTEVGVF9CSUFTKSA6IGJhc2VPZmZzZXQgKyBpbmNyZW1lbnRhbCArIERFRkFVTFRfVVBfTEVGVF9CSUFTO1xyXG4gICAgY29uc3QgZHkgPSBjZW50ZXJZICE9PSBudWxsID8gKGNlbnRlclkgLSBjZW50cm9pZFkgKyBpbmNyZW1lbnRhbCArIERFRkFVTFRfVVBfTEVGVF9CSUFTKSA6IGJhc2VPZmZzZXQgKyBpbmNyZW1lbnRhbCArIERFRkFVTFRfVVBfTEVGVF9CSUFTO1xyXG5cclxuICAgIGNvbnN0IG5ld05vZGVzID0gY2xpcC5ub2Rlcy5tYXAoKG46IGFueSkgPT4ge1xyXG4gICAgICBjb25zdCBuZXdJZCA9IGdlbmVyYXRlVVVJRCgpO1xyXG4gICAgICByZW1hcC5zZXQobi5ub2RlX2lkLCBuZXdJZCk7XHJcbiAgICAgIGNvbnN0IGNvcGllZCA9IGRlZXBDbG9uZShuKTtcclxuICAgICAgY29waWVkLm5vZGVfaWQgPSBuZXdJZDtcclxuICAgICAgLy8gVHJhbnNsYXRlIG5vZGVzIHNvIGNlbnRyb2lkIG1vdmVzIHRvIHZpZXdwb3J0IGNlbnRlciAob3IgYXBwbHkgZmFsbGJhY2sgb2Zmc2V0KVxyXG4gICAgICBjb25zdCBvcmlnWCA9IGNvcGllZC5wb3NpdGlvbj8ueCB8fCAwO1xyXG4gICAgICBjb25zdCBvcmlnWSA9IGNvcGllZC5wb3NpdGlvbj8ueSB8fCAwO1xyXG4gICAgICBjb3BpZWQucG9zaXRpb24gPSB7IHg6IG9yaWdYICsgZHgsIHk6IG9yaWdZICsgZHkgfTtcclxuICAgICAgcmV0dXJuIGNvcGllZDtcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IG5ld0Nvbm5lY3Rpb25zID0gKGNsaXAuY29ubmVjdGlvbnMgfHwgW10pLm1hcCgoYzogYW55KSA9PiB7XHJcbiAgICAgIGNvbnN0IG5ld0Nvbm4gPSBkZWVwQ2xvbmUoYyk7XHJcbiAgICAgIG5ld0Nvbm4uaWQgPSBgY29ubl8ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsOSl9YDtcclxuICAgICAgbmV3Q29ubi5jb25uZWN0aW9uX2lkID0gbmV3Q29ubi5pZDtcclxuICAgICAgaWYgKG5ld0Nvbm4uc291cmNlICYmIHJlbWFwLmhhcyhuZXdDb25uLnNvdXJjZS5ub2RlX2lkKSkgbmV3Q29ubi5zb3VyY2Uubm9kZV9pZCA9IHJlbWFwLmdldChuZXdDb25uLnNvdXJjZS5ub2RlX2lkKTtcclxuICAgICAgaWYgKG5ld0Nvbm4udGFyZ2V0ICYmIHJlbWFwLmhhcyhuZXdDb25uLnRhcmdldC5ub2RlX2lkKSkgbmV3Q29ubi50YXJnZXQubm9kZV9pZCA9IHJlbWFwLmdldChuZXdDb25uLnRhcmdldC5ub2RlX2lkKTtcclxuICAgICAgcmV0dXJuIG5ld0Nvbm47XHJcbiAgICB9KTtcclxuXHJcbiAgICBwdXNoUHJvZHVjZXIoKGRyYWZ0OiBhbnkpID0+IHtcclxuICAgICAgZHJhZnQuY2FudmFzTm9kZXMgPSBbLi4uKGRyYWZ0LmNhbnZhc05vZGVzIHx8IFtdKSwgLi4ubmV3Tm9kZXNdO1xyXG4gICAgICBkcmFmdC5jb25uZWN0aW9ucyA9IFsuLi4oZHJhZnQuY29ubmVjdGlvbnMgfHwgW10pLCAuLi5uZXdDb25uZWN0aW9uc107XHJcbiAgICB9KTtcclxuXHJcbiAgICBzZXRJc0RpcnR5KHRydWUpO1xyXG4gICAgLy8gU2VsZWN0IG5ld2x5IHBhc3RlZCBub2Rlc1xyXG4gICAgc2V0U2VsZWN0ZWROb2RlcyhuZXcgU2V0KG5ld05vZGVzLm1hcChuID0+IG4ubm9kZV9pZCkpKTtcclxuICAgIHNldFNlbGVjdGVkTm9kZShuZXdOb2Rlc1swXT8ubm9kZV9pZCB8fCBudWxsKTtcclxuICAgIHBhc3RlT2Zmc2V0UmVmLmN1cnJlbnQgPSAocGFzdGVPZmZzZXRSZWYuY3VycmVudCB8fCAwKSArIDIwOyAvLyBuZXh0IHBhc3RlIHdpbGwgb2Zmc2V0IGZ1cnRoZXJcclxuICAgIGFkZExvZyhg8J+TpSBQYXN0ZWQgJHtuZXdOb2Rlcy5sZW5ndGh9IG5vZGUocylgKTtcclxuICB9XHJcblxyXG4gIC8vIEN1dCA9IGNvcHkgKyBkZWxldGVcclxuICBmdW5jdGlvbiBjdXRTZWxlY3RlZE5vZGVzKCkge1xyXG4gICAgaWYgKCFzZWxlY3RlZE5vZGVzIHx8IHNlbGVjdGVkTm9kZXMuc2l6ZSA9PT0gMCkgcmV0dXJuO1xyXG4gICAgY29weVNlbGVjdGVkTm9kZXMoKTtcclxuICAgIC8vIFJlbW92ZSBub2RlcyBhbmQgYW55IGNvbm5lY3Rpb25zIHRoYXQgcmVmZXJlbmNlIHRoZW1cclxuICAgIHB1c2hQcm9kdWNlcigoZHJhZnQ6IGFueSkgPT4ge1xyXG4gICAgICBkcmFmdC5jYW52YXNOb2RlcyA9IChkcmFmdC5jYW52YXNOb2RlcyB8fCBbXSkuZmlsdGVyKChuOiBhbnkpID0+ICFzZWxlY3RlZE5vZGVzLmhhcyhuLm5vZGVfaWQpKTtcclxuICAgICAgZHJhZnQuY29ubmVjdGlvbnMgPSAoZHJhZnQuY29ubmVjdGlvbnMgfHwgW10pLmZpbHRlcigoYzogYW55KSA9PiAhc2VsZWN0ZWROb2Rlcy5oYXMoYy5zb3VyY2Uubm9kZV9pZCkgJiYgIXNlbGVjdGVkTm9kZXMuaGFzKGMudGFyZ2V0Lm5vZGVfaWQpKTtcclxuICAgIH0pO1xyXG4gICAgc2V0U2VsZWN0ZWROb2RlcyhuZXcgU2V0KCkpO1xyXG4gICAgc2V0U2VsZWN0ZWROb2RlKG51bGwpO1xyXG4gICAgc2V0SXNEaXJ0eSh0cnVlKTtcclxuICAgIGFkZExvZyhg4pyC77iPIEN1dCBzZWxlY3Rpb25gKTtcclxuICB9XHJcblxyXG4gIC8vIEtleWJvYXJkIHNob3J0Y3V0cyBmb3IgY29weS9wYXN0ZS9jdXQgKEN0cmwvQ21kICsgQyAvIFYgLyBYKVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBvbktleURvd24gPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xyXG4gICAgICBjb25zdCBrZXkgPSAoZS5rZXkgfHwgJycpLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgIGNvbnN0IGlzTW9kID0gZS5jdHJsS2V5IHx8IGUubWV0YUtleTtcclxuICAgICAgaWYgKCFpc01vZCkgcmV0dXJuO1xyXG5cclxuICAgICAgY29uc3QgYWN0aXZlID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBhcyBIVE1MRWxlbWVudCB8IG51bGw7XHJcbiAgICAgIGNvbnN0IHRhZyA9IGFjdGl2ZT8udGFnTmFtZT8udG9Mb3dlckNhc2UoKTtcclxuICAgICAgY29uc3QgaXNUeXBpbmcgPSB0YWcgPT09ICdpbnB1dCcgfHwgdGFnID09PSAndGV4dGFyZWEnIHx8IGFjdGl2ZT8uaXNDb250ZW50RWRpdGFibGU7XHJcbiAgICAgIGlmIChpc1R5cGluZykgcmV0dXJuOyAvLyBkb24ndCBpbnRlcmNlcHQgd2hlbiB0eXBpbmcgaW4gZmllbGRzXHJcblxyXG4gICAgICBpZiAoa2V5ID09PSAnYycpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgY29weVNlbGVjdGVkTm9kZXMoKTtcclxuICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICd2Jykge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBwYXN0ZUNsaXBib2FyZCgpO1xyXG4gICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3gnKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGN1dFNlbGVjdGVkTm9kZXMoKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIG9uS2V5RG93bik7XHJcbiAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBvbktleURvd24pO1xyXG4gIH0sIFtjYW52YXNOb2RlcywgY29ubmVjdGlvbnMsIHNlbGVjdGVkTm9kZXNdKTtcclxuICBcclxuICAvLyA9PT09PT09PT09PT09PT09PT09PSBDb25uZWN0aW9uIE1hbmFnZW1lbnQgPT09PT09PT09PT09PT09PT09PT1cclxuICBcclxuICBmdW5jdGlvbiBoYW5kbGVQb3J0TW91c2VEb3duKG5vZGVJZDogc3RyaW5nLCBwb3J0SWQ6IHN0cmluZywgcG9ydFR5cGU6ICdpbnB1dCcgfCAnb3V0cHV0JywgZTogUmVhY3QuTW91c2VFdmVudCkge1xyXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIGlmICh2aWV3cG9ydFJlZi5jdXJyZW50KSB7XHJcbiAgICAgIGNvbnN0IHJlY3QgPSB2aWV3cG9ydFJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICBjb25zdCBzY3JvbGxMZWZ0ID0gdmlld3BvcnRSZWYuY3VycmVudC5zY3JvbGxMZWZ0O1xyXG4gICAgICBjb25zdCBzY3JvbGxUb3AgPSB2aWV3cG9ydFJlZi5jdXJyZW50LnNjcm9sbFRvcDtcclxuICAgICAgXHJcbiAgICAgIC8vIEdldCBjYW52YXMgc2NhbGUgZnJvbSB0aGUgaG9va1xyXG4gICAgICBjb25zdCBzY2FsZSA9IGNhbnZhc1Bhblpvb20uc2NhbGUgfHwgMTtcclxuICAgICAgXHJcbiAgICAgIC8vIENhbGN1bGF0ZSBtb3VzZSBwb3NpdGlvbiByZWxhdGl2ZSB0byBjYW52YXMsIGFjY291bnRpbmcgZm9yIHNjYWxlIGFuZCBzY3JvbGxcclxuICAgICAgY29uc3QgbW91c2VYID0gKGUuY2xpZW50WCAtIHJlY3QubGVmdCArIHNjcm9sbExlZnQpIC8gc2NhbGU7XHJcbiAgICAgIGNvbnN0IG1vdXNlWSA9IChlLmNsaWVudFkgLSByZWN0LnRvcCArIHNjcm9sbFRvcCkgLyBzY2FsZTtcclxuICAgICAgXHJcbiAgICAgIHNldFRlbXBDb25uZWN0aW9uKHtcclxuICAgICAgICBmcm9tTm9kZTogbm9kZUlkLFxyXG4gICAgICAgIGZyb21Qb3J0OiBwb3J0SWQsXHJcbiAgICAgICAgZnJvbVR5cGU6IHBvcnRUeXBlLFxyXG4gICAgICAgIGN1cnJlbnRYOiBtb3VzZVgsXHJcbiAgICAgICAgY3VycmVudFk6IG1vdXNlWSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIGZ1bmN0aW9uIGhhbmRsZUNvbm5lY3Rpb25Nb3VzZU1vdmUoZTogUmVhY3QuTW91c2VFdmVudCkge1xyXG4gICAgaWYgKHRlbXBDb25uZWN0aW9uICYmIHZpZXdwb3J0UmVmLmN1cnJlbnQpIHtcclxuICAgICAgY29uc3QgcmVjdCA9IHZpZXdwb3J0UmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgIGNvbnN0IHNjcm9sbExlZnQgPSB2aWV3cG9ydFJlZi5jdXJyZW50LnNjcm9sbExlZnQ7XHJcbiAgICAgIGNvbnN0IHNjcm9sbFRvcCA9IHZpZXdwb3J0UmVmLmN1cnJlbnQuc2Nyb2xsVG9wO1xyXG4gICAgICBcclxuICAgICAgLy8gR2V0IGNhbnZhcyBzY2FsZSBmcm9tIHRoZSBob29rXHJcbiAgICAgIGNvbnN0IHNjYWxlID0gY2FudmFzUGFuWm9vbS5zY2FsZSB8fCAxO1xyXG4gICAgICBcclxuICAgICAgLy8gQ2FsY3VsYXRlIG1vdXNlIHBvc2l0aW9uIHJlbGF0aXZlIHRvIGNhbnZhcywgYWNjb3VudGluZyBmb3Igc2NhbGUgYW5kIHNjcm9sbFxyXG4gICAgICBjb25zdCBtb3VzZVggPSAoZS5jbGllbnRYIC0gcmVjdC5sZWZ0ICsgc2Nyb2xsTGVmdCkgLyBzY2FsZTtcclxuICAgICAgY29uc3QgbW91c2VZID0gKGUuY2xpZW50WSAtIHJlY3QudG9wICsgc2Nyb2xsVG9wKSAvIHNjYWxlO1xyXG4gICAgICBcclxuICAgICAgc2V0VGVtcENvbm5lY3Rpb24ocHJldiA9PiBwcmV2ID8ge1xyXG4gICAgICAgIC4uLnByZXYsXHJcbiAgICAgICAgY3VycmVudFg6IG1vdXNlWCxcclxuICAgICAgICBjdXJyZW50WTogbW91c2VZLFxyXG4gICAgICB9IDogbnVsbCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIGZ1bmN0aW9uIGhhbmRsZUNvbm5lY3Rpb25Nb3VzZVVwKGU6IFJlYWN0Lk1vdXNlRXZlbnQpIHtcclxuICAgIGlmICghdGVtcENvbm5lY3Rpb24pIHJldHVybjtcclxuICAgIFxyXG4gICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICBjb25zdCBwb3J0SGFuZGxlID0gdGFyZ2V0LmNsb3Nlc3QoJy5wb3J0LWhhbmRsZScpO1xyXG4gICAgXHJcbiAgICBpZiAocG9ydEhhbmRsZSkge1xyXG4gICAgICBjb25zdCBwb3J0RWxlbWVudCA9IHBvcnRIYW5kbGUucGFyZW50RWxlbWVudDtcclxuICAgICAgY29uc3Qgbm9kZUVsZW1lbnQgPSBwb3J0SGFuZGxlLmNsb3Nlc3QoJy53b3JrZmxvdy1ub2RlJyk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAocG9ydEVsZW1lbnQgJiYgbm9kZUVsZW1lbnQpIHtcclxuICAgICAgICBjb25zdCB0YXJnZXROb2RlSWQgPSBub2RlRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtbm9kZS1pZCcpO1xyXG4gICAgICAgIGNvbnN0IHRhcmdldFBvcnRJZCA9IHBvcnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1wb3J0Jyk7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0UG9ydFR5cGUgPSBwb3J0SGFuZGxlLmNsYXNzTGlzdC5jb250YWlucygnaW5wdXQtaGFuZGxlJykgPyAnaW5wdXQnIDogJ291dHB1dCc7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGNhbkNyZWF0ZUNvbm5lY3Rpb24odGVtcENvbm5lY3Rpb24sIHRhcmdldE5vZGVJZCwgdGFyZ2V0UG9ydElkLCB0YXJnZXRQb3J0VHlwZSkpIHtcclxuICAgICAgICAgIGNyZWF0ZUNvbm5lY3Rpb24odGVtcENvbm5lY3Rpb24sIHRhcmdldE5vZGVJZCEsIHRhcmdldFBvcnRJZCEsIHRhcmdldFBvcnRUeXBlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgc2V0VGVtcENvbm5lY3Rpb24obnVsbCk7XHJcbiAgfVxyXG4gIFxyXG4gIGZ1bmN0aW9uIGNhbkNyZWF0ZUNvbm5lY3Rpb24oZnJvbTogYW55LCB0b05vZGVJZDogc3RyaW5nIHwgbnVsbCwgdG9Qb3J0SWQ6IHN0cmluZyB8IG51bGwsIHRvVHlwZTogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICBpZiAoIXRvTm9kZUlkIHx8ICF0b1BvcnRJZCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgXHJcbiAgICBjb25zdCBpc1ZhbGlkRGlyZWN0aW9uID0gXHJcbiAgICAgIChmcm9tLmZyb21UeXBlID09PSAnb3V0cHV0JyAmJiB0b1R5cGUgPT09ICdpbnB1dCcpIHx8XHJcbiAgICAgIChmcm9tLmZyb21UeXBlID09PSAnaW5wdXQnICYmIHRvVHlwZSA9PT0gJ291dHB1dCcpO1xyXG4gICAgXHJcbiAgICBpZiAoIWlzVmFsaWREaXJlY3Rpb24pIHJldHVybiBmYWxzZTtcclxuICAgIFxyXG4gICAgY29uc3Qgc291cmNlTm9kZUlkID0gZnJvbS5mcm9tVHlwZSA9PT0gJ291dHB1dCcgPyBmcm9tLmZyb21Ob2RlIDogdG9Ob2RlSWQ7XHJcbiAgICBjb25zdCBzb3VyY2VQb3J0SWQgPSBmcm9tLmZyb21UeXBlID09PSAnb3V0cHV0JyA/IGZyb20uZnJvbVBvcnQgOiB0b1BvcnRJZDtcclxuICAgIGNvbnN0IHRhcmdldE5vZGVJZCA9IGZyb20uZnJvbVR5cGUgPT09ICdvdXRwdXQnID8gdG9Ob2RlSWQgOiBmcm9tLmZyb21Ob2RlO1xyXG4gICAgY29uc3QgdGFyZ2V0UG9ydElkID0gZnJvbS5mcm9tVHlwZSA9PT0gJ291dHB1dCcgPyB0b1BvcnRJZCA6IGZyb20uZnJvbVBvcnQ7XHJcbiAgICBcclxuICAgIHJldHVybiAhY29ubmVjdGlvbnMuc29tZShjID0+XHJcbiAgICAgIGMuc291cmNlLm5vZGVfaWQgPT09IHNvdXJjZU5vZGVJZCAmJlxyXG4gICAgICBjLnNvdXJjZS5wb3J0X2lkID09PSBzb3VyY2VQb3J0SWQgJiZcclxuICAgICAgYy50YXJnZXQubm9kZV9pZCA9PT0gdGFyZ2V0Tm9kZUlkICYmXHJcbiAgICAgIGMudGFyZ2V0LnBvcnRfaWQgPT09IHRhcmdldFBvcnRJZFxyXG4gICAgKTtcclxuICB9XHJcbiAgXHJcbiAgZnVuY3Rpb24gY3JlYXRlQ29ubmVjdGlvbihmcm9tOiBhbnksIHRvTm9kZUlkOiBzdHJpbmcsIHRvUG9ydElkOiBzdHJpbmcsIHRvVHlwZTogc3RyaW5nKSB7XHJcbiAgICBjb25zdCBzb3VyY2VOb2RlSWQgPSBmcm9tLmZyb21UeXBlID09PSAnb3V0cHV0JyA/IGZyb20uZnJvbU5vZGUgOiB0b05vZGVJZDtcclxuICAgIGNvbnN0IHNvdXJjZVBvcnRJZCA9IGZyb20uZnJvbVR5cGUgPT09ICdvdXRwdXQnID8gZnJvbS5mcm9tUG9ydCA6IHRvUG9ydElkO1xyXG4gICAgY29uc3QgdGFyZ2V0Tm9kZUlkID0gZnJvbS5mcm9tVHlwZSA9PT0gJ291dHB1dCcgPyB0b05vZGVJZCA6IGZyb20uZnJvbU5vZGU7XHJcbiAgICBjb25zdCB0YXJnZXRQb3J0SWQgPSBmcm9tLmZyb21UeXBlID09PSAnb3V0cHV0JyA/IHRvUG9ydElkIDogZnJvbS5mcm9tUG9ydDtcclxuICAgIFxyXG4gICAgY29uc3QgbmV3Q29ubmVjdGlvbiA9IHtcclxuICAgICAgaWQ6IGBjb25uXyR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YCxcclxuICAgICAgc291cmNlOiB7IG5vZGVfaWQ6IHNvdXJjZU5vZGVJZCwgcG9ydF9pZDogc291cmNlUG9ydElkIH0sXHJcbiAgICAgIHRhcmdldDogeyBub2RlX2lkOiB0YXJnZXROb2RlSWQsIHBvcnRfaWQ6IHRhcmdldFBvcnRJZCB9LFxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLy8gR2V0IG5vZGUgbmFtZXMgZm9yIGxvZ2dpbmdcclxuICAgIGNvbnN0IHNvdXJjZU5vZGUgPSBjYW52YXNOb2Rlcy5maW5kKG4gPT4gbi5ub2RlX2lkID09PSBzb3VyY2VOb2RlSWQpO1xyXG4gICAgY29uc3QgdGFyZ2V0Tm9kZSA9IGNhbnZhc05vZGVzLmZpbmQobiA9PiBuLm5vZGVfaWQgPT09IHRhcmdldE5vZGVJZCk7XHJcbiAgICBjb25zdCBzb3VyY2VOb2RlTmFtZSA9IHNvdXJjZU5vZGU/Lm5hbWUgfHwgc291cmNlTm9kZUlkO1xyXG4gICAgY29uc3QgdGFyZ2V0Tm9kZU5hbWUgPSB0YXJnZXROb2RlPy5uYW1lIHx8IHRhcmdldE5vZGVJZDtcclxuICAgIFxyXG4gICAgcHVzaFByb2R1Y2VyKChkcmFmdDogYW55KSA9PiB7XHJcbiAgICAgIGRyYWZ0LmNvbm5lY3Rpb25zID0gWy4uLihkcmFmdC5jb25uZWN0aW9ucyB8fCBbXSksIG5ld0Nvbm5lY3Rpb25dO1xyXG4gICAgfSk7XHJcbiAgICBzZXRJc0RpcnR5KHRydWUpO1xyXG4gICAgYWRkTG9nKGDwn5SXIENvbm5lY3RlZDogJHtzb3VyY2VOb2RlTmFtZX0uJHtzb3VyY2VQb3J0SWR9IOKGkiAke3RhcmdldE5vZGVOYW1lfS4ke3RhcmdldFBvcnRJZH1gKTtcclxuICB9XHJcbiAgXHJcbiAgZnVuY3Rpb24gaGFuZGxlQ29ubmVjdGlvbkNsaWNrKGNvbm5lY3Rpb25JZDogc3RyaW5nKSB7XHJcbiAgICAvLyBEZWxldGUgY29ubmVjdGlvbiB3aXRob3V0IGNvbmZpcm1hdGlvbiAoY29uc2lzdGVudCB3aXRoIG5vZGUgZGVsZXRpb24pXHJcbiAgICBwdXNoUHJvZHVjZXIoKGRyYWZ0OiBhbnkpID0+IHtcclxuICAgICAgZHJhZnQuY29ubmVjdGlvbnMgPSAoZHJhZnQuY29ubmVjdGlvbnMgfHwgW10pLmZpbHRlcigoYzogYW55KSA9PiBjLmlkICE9PSBjb25uZWN0aW9uSWQpO1xyXG4gICAgfSk7XHJcbiAgICBzZXRJc0RpcnR5KHRydWUpO1xyXG4gICAgYWRkTG9nKGDwn5eR77iPIERlbGV0ZWQgY29ubmVjdGlvbmApO1xyXG4gIH1cclxuICBcclxuICAvLyBIZWxwZXIgdG8gYWRkIGxvZyBlbnRyaWVzXHJcbiAgZnVuY3Rpb24gYWRkTG9nKG1lc3NhZ2U6IHN0cmluZykge1xyXG4gICAgc2V0TG9ncyhwcmV2ID0+IFsuLi5wcmV2LCBtZXNzYWdlXSk7XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgaWYgKGxvZ0JvZHlSZWYuY3VycmVudCkge1xyXG4gICAgICAgIGxvZ0JvZHlSZWYuY3VycmVudC5zY3JvbGxUb3AgPSBsb2dCb2R5UmVmLmN1cnJlbnQuc2Nyb2xsSGVpZ2h0O1xyXG4gICAgICB9XHJcbiAgICB9LCAxMCk7XHJcbiAgfVxyXG4gIFxyXG4gIC8vIEZ1bGxzY3JlZW4gdG9nZ2xlXHJcbiAgY29uc3QgdG9nZ2xlRnVsbHNjcmVlbiA9ICgpID0+IHtcclxuICAgIGlmICghZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQpIHtcclxuICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnJlcXVlc3RGdWxsc2NyZWVuKCkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgc2V0SXNGdWxsc2NyZWVuKHRydWUpO1xyXG4gICAgICB9KS5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgIGFkZExvZyhg4p2MIEZ1bGxzY3JlZW4gZXJyb3I6ICR7ZXJyfWApO1xyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKCkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgc2V0SXNGdWxsc2NyZWVuKGZhbHNlKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfTtcclxuICBcclxuICAvLyBab29tIGNvbnRyb2xzXHJcbiAgY29uc3QgaGFuZGxlWm9vbUluID0gKCkgPT4ge1xyXG4gICAgY2FudmFzUGFuWm9vbS56b29tSW4oKTtcclxuICB9O1xyXG4gIFxyXG4gIGNvbnN0IGhhbmRsZVpvb21PdXQgPSAoKSA9PiB7XHJcbiAgICBjYW52YXNQYW5ab29tLnpvb21PdXQoKTtcclxuICB9O1xyXG4gIFxyXG4gIGNvbnN0IGhhbmRsZVpvb21SZXNldCA9ICgpID0+IHtcclxuICAgIGNhbnZhc1Bhblpvb20uem9vbVJlc2V0KCk7XHJcbiAgfTtcclxuICBcclxuICAvLyBMaXN0ZW4gZm9yIGZ1bGxzY3JlZW4gY2hhbmdlc1xyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBoYW5kbGVGdWxsc2NyZWVuQ2hhbmdlID0gKCkgPT4ge1xyXG4gICAgICBzZXRJc0Z1bGxzY3JlZW4oISFkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdmdWxsc2NyZWVuY2hhbmdlJywgaGFuZGxlRnVsbHNjcmVlbkNoYW5nZSk7XHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdmdWxsc2NyZWVuY2hhbmdlJywgaGFuZGxlRnVsbHNjcmVlbkNoYW5nZSk7XHJcbiAgICB9O1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgLy8gS2V5Ym9hcmQgc2hvcnRjdXRzOiB1bmRvL3JlZG9cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgaGFuZGxlciA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XHJcbiAgICAgIGNvbnN0IGFjdGl2ZSA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgYXMgSFRNTEVsZW1lbnQgfCBudWxsO1xyXG4gICAgICBpZiAoYWN0aXZlICYmIChhY3RpdmUudGFnTmFtZSA9PT0gJ0lOUFVUJyB8fCBhY3RpdmUudGFnTmFtZSA9PT0gJ1RFWFRBUkVBJyB8fCBhY3RpdmUuaXNDb250ZW50RWRpdGFibGUpKSByZXR1cm47XHJcblxyXG4gICAgICBjb25zdCBrZXkgPSAoZS5rZXkgfHwgJycpLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgIGNvbnN0IGlzVW5kbyA9IChlLmN0cmxLZXkgfHwgZS5tZXRhS2V5KSAmJiAhZS5zaGlmdEtleSAmJiBrZXkgPT09ICd6JztcclxuICAgICAgY29uc3QgaXNSZWRvID0gKGUuY3RybEtleSAmJiBrZXkgPT09ICd5JykgfHwgKChlLmN0cmxLZXkgfHwgZS5tZXRhS2V5KSAmJiBlLnNoaWZ0S2V5ICYmIGtleSA9PT0gJ3onKTtcclxuICAgICAgY29uc3QgaXNEZWxldGUgPSBrZXkgPT09ICdkZWxldGUnIHx8IGtleSA9PT0gJ2JhY2tzcGFjZSc7XHJcbiAgICAgIGNvbnN0IGlzRXNjYXBlID0ga2V5ID09PSAnZXNjYXBlJztcclxuICAgICAgY29uc3QgaXNTZWxlY3RBbGwgPSAoZS5jdHJsS2V5IHx8IGUubWV0YUtleSkgJiYga2V5ID09PSAnYSc7XHJcbiAgICAgIGNvbnN0IGlzU2F2ZSA9IChlLmN0cmxLZXkgfHwgZS5tZXRhS2V5KSAmJiBrZXkgPT09ICdzJztcclxuICAgICAgY29uc3QgaXNMb2FkID0gKGUuY3RybEtleSB8fCBlLm1ldGFLZXkpICYmIGtleSA9PT0gJ2wnO1xyXG5cclxuICAgICAgLy8gSWYgdGhlIENsZWFyIGJ1dHRvbiBpcyBmb2N1c2VkLCBpbnRlcmNlcHQgQ3RybCtaL0N0cmwrWSB0byB0b2dnbGUvY29uZmlybSBjbGVhclxyXG4gICAgICBjb25zdCBpc0NsZWFyQnV0dG9uRm9jdXNlZCA9IGNsZWFyQnV0dG9uUmVmLmN1cnJlbnQgJiYgYWN0aXZlID09PSBjbGVhckJ1dHRvblJlZi5jdXJyZW50O1xyXG4gICAgICBpZiAoaXNDbGVhckJ1dHRvbkZvY3VzZWQgJiYgKGlzVW5kbyB8fCBpc1JlZG8pKSB7XHJcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIGNvbnNvbGUuZGVidWcoJ1trZXldIGNsZWFyIGJ1dHRvbiBzaG9ydGN1dCBwcmVzc2VkIC0gaW1tZWRpYXRlIGNsZWFyJyk7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIC8vIEltbWVkaWF0ZWx5IGNsZWFyIGFuZCBtYWtlIGl0IHVuZG9hYmxlIChrZXlib2FyZC10cmlnZ2VyZWQgY2xlYXIgc2hvdWxkIGJlIHVuZG9hYmxlKVxyXG4gICAgICAgIGhhbmRsZUNsZWFyKHRydWUpO1xyXG4gICAgICAgIHNldENvbmZpcm1DbGVhcihmYWxzZSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoaXNVbmRvICYmIGNhblVuZG8pIHtcclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgY29uc29sZS5kZWJ1ZygnW2tleV0gdW5kbyBwcmVzc2VkJyk7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGlzVW5kb1JlZG9PcGVyYXRpb24uY3VycmVudCA9IHRydWU7XHJcbiAgICAgICAgdW5kbygpO1xyXG4gICAgICB9IGVsc2UgaWYgKGlzUmVkbyAmJiBjYW5SZWRvKSB7XHJcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIGNvbnNvbGUuZGVidWcoJ1trZXldIHJlZG8gcHJlc3NlZCcpO1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBpc1VuZG9SZWRvT3BlcmF0aW9uLmN1cnJlbnQgPSB0cnVlO1xyXG4gICAgICAgIHJlZG8oKTtcclxuICAgICAgfSBlbHNlIGlmIChpc1NhdmUpIHtcclxuICAgICAgICAvLyBPcGVuIHNhdmUgb3B0aW9ucyBtb2RhbFxyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBzZXRTaG93U2F2ZU9wdGlvbnNNb2RhbCh0cnVlKTtcclxuICAgICAgfSBlbHNlIGlmIChpc0xvYWQpIHtcclxuICAgICAgICAvLyBPcGVuIGxvYWQgb3B0aW9ucyBtb2RhbFxyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBzZXRTaG93TG9hZE9wdGlvbnNNb2RhbCh0cnVlKTtcclxuICAgICAgfSBlbHNlIGlmIChpc0RlbGV0ZSAmJiBzZWxlY3RlZE5vZGVzLnNpemUgPiAwKSB7XHJcbiAgICAgICAgLy8gRGVsZXRlIGFsbCBzZWxlY3RlZCBub2Rlc1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBjb25zdCBub2Rlc1RvRGVsZXRlID0gQXJyYXkuZnJvbShzZWxlY3RlZE5vZGVzKTtcclxuICAgICAgICBwdXNoUHJvZHVjZXIoKGRyYWZ0OiBhbnkpID0+IHtcclxuICAgICAgICAgIGRyYWZ0LmNhbnZhc05vZGVzID0gKGRyYWZ0LmNhbnZhc05vZGVzIHx8IFtdKS5maWx0ZXIoKG46IGFueSkgPT4gIW5vZGVzVG9EZWxldGUuaW5jbHVkZXMobi5ub2RlX2lkKSk7XHJcbiAgICAgICAgICBkcmFmdC5jb25uZWN0aW9ucyA9IChkcmFmdC5jb25uZWN0aW9ucyB8fCBbXSkuZmlsdGVyKChjOiBhbnkpID0+IFxyXG4gICAgICAgICAgICAhbm9kZXNUb0RlbGV0ZS5pbmNsdWRlcyhjLnNvdXJjZS5ub2RlX2lkKSAmJiAhbm9kZXNUb0RlbGV0ZS5pbmNsdWRlcyhjLnRhcmdldC5ub2RlX2lkKVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBzZXRJc0RpcnR5KHRydWUpO1xyXG4gICAgICAgIHNldFNlbGVjdGVkTm9kZXMobmV3IFNldCgpKTtcclxuICAgICAgICBzZXRTZWxlY3RlZE5vZGUobnVsbCk7XHJcbiAgICAgICAgc2V0SXNDb25maWdQYW5lbE9wZW4oZmFsc2UpO1xyXG4gICAgICAgIGFkZExvZyhg8J+Xke+4jyBEZWxldGVkICR7bm9kZXNUb0RlbGV0ZS5sZW5ndGh9IG5vZGUocylgKTtcclxuICAgICAgfSBlbHNlIGlmIChpc0VzY2FwZSkge1xyXG4gICAgICAgIC8vIENsZWFyIHNlbGVjdGlvbiBvbiBFc2NhcGVcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgc2V0U2VsZWN0ZWROb2RlcyhuZXcgU2V0KCkpO1xyXG4gICAgICAgIHNldFNlbGVjdGVkTm9kZShudWxsKTtcclxuICAgICAgICBzZXRJc0NvbmZpZ1BhbmVsT3BlbihmYWxzZSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoaXNTZWxlY3RBbGwpIHtcclxuICAgICAgICAvLyBTZWxlY3QgYWxsIG5vZGVzXHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGNvbnN0IGFsbE5vZGVJZHMgPSBuZXcgU2V0KGNhbnZhc05vZGVzLm1hcChuID0+IG4ubm9kZV9pZCkpO1xyXG4gICAgICAgIHNldFNlbGVjdGVkTm9kZXMoYWxsTm9kZUlkcyk7XHJcbiAgICAgICAgc2V0U2VsZWN0ZWROb2RlKG51bGwpO1xyXG4gICAgICAgIHNldElzQ29uZmlnUGFuZWxPcGVuKGZhbHNlKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlcik7XHJcbiAgICByZXR1cm4gKCkgPT4gZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZXIpO1xyXG4gIH0sIFt1bmRvLCByZWRvLCBjYW5VbmRvLCBjYW5SZWRvLCBzZWxlY3RlZE5vZGVzLCBjYW52YXNOb2Rlc10pO1xyXG4gIFxyXG4gIC8vIFVwZGF0ZSBtaW5pbWFwIHZpZXdwb3J0IGluZGljYXRvciAtIG1vcmUgcmVzcG9uc2l2ZVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIXZpZXdwb3J0UmVmLmN1cnJlbnQpIHJldHVybjtcclxuICAgIFxyXG4gICAgbGV0IGFuaW1hdGlvbkZyYW1lSWQ6IG51bWJlcjtcclxuICAgIFxyXG4gICAgY29uc3QgdXBkYXRlTWluaW1hcFZpZXdwb3J0ID0gKCkgPT4ge1xyXG4gICAgICBpZiAoIXZpZXdwb3J0UmVmLmN1cnJlbnQpIHJldHVybjtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHZpZXdwb3J0ID0gdmlld3BvcnRSZWYuY3VycmVudDtcclxuICAgICAgY29uc3Qgc2NhbGUgPSBjYW52YXNQYW5ab29tLnNjYWxlIHx8IDE7XHJcbiAgICAgIGNvbnN0IG1pbmltYXBTY2FsZSA9IDAuMDQ7XHJcbiAgICAgIFxyXG4gICAgICAvLyBDYW5jZWwgYW55IHBlbmRpbmcgYW5pbWF0aW9uIGZyYW1lXHJcbiAgICAgIGlmIChhbmltYXRpb25GcmFtZUlkKSB7XHJcbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoYW5pbWF0aW9uRnJhbWVJZCk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIFVzZSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgZm9yIHNtb290aCB1cGRhdGVzXHJcbiAgICAgIGFuaW1hdGlvbkZyYW1lSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgIHNldE1pbmltYXBWaWV3cG9ydCh7XHJcbiAgICAgICAgICB4OiAodmlld3BvcnQuc2Nyb2xsTGVmdCAvIHNjYWxlKSAqIG1pbmltYXBTY2FsZSxcclxuICAgICAgICAgIHk6ICh2aWV3cG9ydC5zY3JvbGxUb3AgLyBzY2FsZSkgKiBtaW5pbWFwU2NhbGUsXHJcbiAgICAgICAgICB3aWR0aDogKHZpZXdwb3J0LmNsaWVudFdpZHRoIC8gc2NhbGUpICogbWluaW1hcFNjYWxlLFxyXG4gICAgICAgICAgaGVpZ2h0OiAodmlld3BvcnQuY2xpZW50SGVpZ2h0IC8gc2NhbGUpICogbWluaW1hcFNjYWxlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgICAgICAvLyBJbml0aWFsaXplIHByZXZpb3VzIHNjcm9sbCBzdGF0ZSBpZiB1bnNldFxyXG4gICAgICAgIHByZXZWaWV3cG9ydFNjcm9sbC5jdXJyZW50ID0geyBsZWZ0OiB2aWV3cG9ydC5zY3JvbGxMZWZ0LCB0b3A6IHZpZXdwb3J0LnNjcm9sbFRvcCB9O1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdXBkYXRlTWluaW1hcFZpZXdwb3J0KCk7XHJcbiAgICBcclxuICAgIGNvbnN0IHZpZXdwb3J0ID0gdmlld3BvcnRSZWYuY3VycmVudDtcclxuICAgIC8vIEFkZCBtb3JlIGV2ZW50IGxpc3RlbmVycyBmb3IgYmV0dGVyIHJlc3BvbnNpdmVuZXNzXHJcbiAgICB2aWV3cG9ydC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB1cGRhdGVNaW5pbWFwVmlld3BvcnQpO1xyXG4gICAgdmlld3BvcnQuYWRkRXZlbnRMaXN0ZW5lcignd2hlZWwnLCB1cGRhdGVNaW5pbWFwVmlld3BvcnQpO1xyXG4gICAgdmlld3BvcnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdXBkYXRlTWluaW1hcFZpZXdwb3J0KTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB1cGRhdGVNaW5pbWFwVmlld3BvcnQpO1xyXG4gICAgXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICB2aWV3cG9ydC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB1cGRhdGVNaW5pbWFwVmlld3BvcnQpO1xyXG4gICAgICB2aWV3cG9ydC5yZW1vdmVFdmVudExpc3RlbmVyKCd3aGVlbCcsIHVwZGF0ZU1pbmltYXBWaWV3cG9ydCk7XHJcbiAgICAgIHZpZXdwb3J0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHVwZGF0ZU1pbmltYXBWaWV3cG9ydCk7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB1cGRhdGVNaW5pbWFwVmlld3BvcnQpO1xyXG4gICAgICBpZiAoYW5pbWF0aW9uRnJhbWVJZCkge1xyXG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvbkZyYW1lSWQpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH0sIFtjYW52YXNQYW5ab29tLnNjYWxlLCB2aWV3cG9ydFJlZiwgY2FudmFzTm9kZXNdKTtcclxuXHJcbiAgLy8gUmVzZXQgcGFzdGUgb2Zmc2V0IHdoZW4gem9vbSBjaGFuZ2VzIHNvIHBhc3RlZCBub2RlcyByZW1haW4gY2VudGVyZWQgYWZ0ZXIgem9vbVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAocGFzdGVPZmZzZXRSZWYpIHBhc3RlT2Zmc2V0UmVmLmN1cnJlbnQgPSAwO1xyXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIGNvbnNvbGUuZGVidWcoJ1t6b29tXSBSZXNldCBwYXN0ZSBvZmZzZXQgZHVlIHRvIHpvb20gY2hhbmdlJyk7XHJcbiAgfSwgW2NhbnZhc1Bhblpvb20uc2NhbGVdKTtcclxuXHJcbiAgLy8gUmVzZXQgdGhlIHNpZGViYXIgY2FzY2FkZSAoc3RhaXJjYXNlKSB3aGVuIHRoZSB2aWV3cG9ydCBzY3JvbGxzL3BhbnNcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKCF2aWV3cG9ydFJlZi5jdXJyZW50KSByZXR1cm47XHJcbiAgICBjb25zdCB2aWV3cG9ydCA9IHZpZXdwb3J0UmVmLmN1cnJlbnQ7XHJcblxyXG4gICAgLy8gVGhyb3R0bGUgcmVzZXRzIGJ5IGEgdmVyeSBzbWFsbCB0aHJlc2hvbGQgdG8gZGV0ZWN0IGludGVudGlvbmFsIHZpZXdwb3J0IG1vdmVzXHJcbiAgICBjb25zdCBTQ1JPTExfUkVTRVRfVEhSRVNIT0xEID0gMTsgLy8gcHhcclxuXHJcbiAgICBjb25zdCBoYW5kbGVWaWV3cG9ydFNjcm9sbCA9ICgpID0+IHtcclxuICAgICAgY29uc3QgbGVmdCA9IHZpZXdwb3J0LnNjcm9sbExlZnQ7XHJcbiAgICAgIGNvbnN0IHRvcCA9IHZpZXdwb3J0LnNjcm9sbFRvcDtcclxuICAgICAgY29uc3QgcHJldiA9IHByZXZWaWV3cG9ydFNjcm9sbC5jdXJyZW50IHx8IHsgbGVmdDogMCwgdG9wOiAwIH07XHJcbiAgICAgIGNvbnN0IGRlbHRhID0gTWF0aC5hYnMobGVmdCAtIHByZXYubGVmdCkgKyBNYXRoLmFicyh0b3AgLSBwcmV2LnRvcCk7XHJcbiAgICAgIGlmIChkZWx0YSA+PSBTQ1JPTExfUkVTRVRfVEhSRVNIT0xEKSB7XHJcbiAgICAgICAgLy8gUmVzZXQgc3RhaXJjYXNlIGNvdW50ZXIgc28gbmV4dCBzaWRlYmFyLWFkZGVkIG5vZGUgYW5jaG9ycyB0byB0aGUgY3VycmVudCB2aWV3cG9ydFxyXG4gICAgICAgIHNldFNpZGViYXJOb2RlQ291bnQoMCk7XHJcbiAgICAgICAgLy8gUmVzZXQgcGFzdGUgb2Zmc2V0IHNvIHBhc3RlZCBub2RlcyB3aWxsIGNlbnRlciBhZ2FpbiBhZnRlciB2aWV3cG9ydCBtb3ZlXHJcbiAgICAgICAgaWYgKHBhc3RlT2Zmc2V0UmVmKSBwYXN0ZU9mZnNldFJlZi5jdXJyZW50ID0gMDtcclxuICAgICAgICAvLyBVcGRhdGUgcHJldiB0byBhdm9pZCByZXBlYXRlZCByZXNldHMgd2hpbGUgc3RpbGwgc2Nyb2xsaW5nXHJcbiAgICAgICAgcHJldlZpZXdwb3J0U2Nyb2xsLmN1cnJlbnQgPSB7IGxlZnQsIHRvcCB9O1xyXG4gICAgICAgIC8vIERlYnVnL2xvZyBmb3IgZGV2ZWxvcG1lbnQgZWFzZVxyXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmRlYnVnKCdbdmlld3BvcnRdIFJlc2V0IHNpZGViYXIgY2FzY2FkZSBkdWUgdG8gc2Nyb2xsJywgeyBsZWZ0LCB0b3AgfSk7XHJcbiAgICAgICAgICBjb25zb2xlLmRlYnVnKCdbdmlld3BvcnRdIFJlc2V0IHBhc3RlIG9mZnNldCBkdWUgdG8gc2Nyb2xsJyk7XHJcbiAgICAgICAgICAvLyBhZGRMb2coJ+KGqe+4jyBSZXNldCBub2RlIGNhc2NhZGUgZHVlIHRvIHZpZXdwb3J0IHNjcm9sbCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBJbml0aWFsaXplIHByZXYgc2Nyb2xsXHJcbiAgICBwcmV2Vmlld3BvcnRTY3JvbGwuY3VycmVudCA9IHsgbGVmdDogdmlld3BvcnQuc2Nyb2xsTGVmdCwgdG9wOiB2aWV3cG9ydC5zY3JvbGxUb3AgfTtcclxuXHJcbiAgICB2aWV3cG9ydC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBoYW5kbGVWaWV3cG9ydFNjcm9sbCk7XHJcbiAgICB2aWV3cG9ydC5hZGRFdmVudExpc3RlbmVyKCd3aGVlbCcsIGhhbmRsZVZpZXdwb3J0U2Nyb2xsKTtcclxuXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICB2aWV3cG9ydC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBoYW5kbGVWaWV3cG9ydFNjcm9sbCk7XHJcbiAgICAgIHZpZXdwb3J0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3doZWVsJywgaGFuZGxlVmlld3BvcnRTY3JvbGwpO1xyXG4gICAgfTtcclxuICB9LCBbdmlld3BvcnRSZWZdKTtcclxuICBcclxuICAvLyBBdXRvLWhpZGUgbWluaW1hcCB3aGVuIGlkbGUgd2l0aCBzbW9vdGggZmFkZVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBsZXQgaGlkZVRpbWVyOiBOb2RlSlMuVGltZW91dDtcclxuICAgIFxyXG4gICAgY29uc3Qgc2hvd01pbmltYXBUZW1wb3JhcmlseSA9ICgpID0+IHtcclxuICAgICAgc2V0U2hvd01pbmltYXAodHJ1ZSk7XHJcbiAgICAgIGNsZWFyVGltZW91dChoaWRlVGltZXIpO1xyXG4gICAgICBoaWRlVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBzZXRTaG93TWluaW1hcChmYWxzZSk7XHJcbiAgICAgIH0sIDMwMDApOyAvLyBIaWRlIGFmdGVyIDMgc2Vjb25kcyBvZiBpbmFjdGl2aXR5XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBpZiAodmlld3BvcnRSZWYuY3VycmVudCkge1xyXG4gICAgICBjb25zdCB2aWV3cG9ydCA9IHZpZXdwb3J0UmVmLmN1cnJlbnQ7XHJcbiAgICAgIFxyXG4gICAgICAvLyBTaG93IG1pbmltYXAgb24gdmFyaW91cyBpbnRlcmFjdGlvbnNcclxuICAgICAgdmlld3BvcnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgc2hvd01pbmltYXBUZW1wb3JhcmlseSk7XHJcbiAgICAgIHZpZXdwb3J0LmFkZEV2ZW50TGlzdGVuZXIoJ3doZWVsJywgc2hvd01pbmltYXBUZW1wb3JhcmlseSk7XHJcbiAgICAgIHZpZXdwb3J0LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHNob3dNaW5pbWFwVGVtcG9yYXJpbHkpO1xyXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgc2hvd01pbmltYXBUZW1wb3JhcmlseSk7XHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgIHZpZXdwb3J0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHNob3dNaW5pbWFwVGVtcG9yYXJpbHkpO1xyXG4gICAgICAgIHZpZXdwb3J0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3doZWVsJywgc2hvd01pbmltYXBUZW1wb3JhcmlseSk7XHJcbiAgICAgICAgdmlld3BvcnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgc2hvd01pbmltYXBUZW1wb3JhcmlseSk7XHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHNob3dNaW5pbWFwVGVtcG9yYXJpbHkpO1xyXG4gICAgICAgIGNsZWFyVGltZW91dChoaWRlVGltZXIpO1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gIH0sIFt2aWV3cG9ydFJlZl0pO1xyXG4gIFxyXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBnZXQgbm9kZSBjYXRlZ29yeSBjb2xvclxyXG4gIGNvbnN0IGdldE5vZGVDYXRlZ29yeUNvbG9yID0gKGNhdGVnb3J5OiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xyXG4gICAgY29uc3QgY29sb3JzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xyXG4gICAgICB0cmlnZ2VyczogJyNmYmJmMjQnLCAgICAgLy8gQW1iZXJcclxuICAgICAgYWN0aW9uczogJyMyMmM1NWUnLCAgICAgIC8vIEdyZWVuXHJcbiAgICAgIGFpOiAnI2E4NTVmNycsICAgICAgICAgICAvLyBQdXJwbGVcclxuICAgICAgY29tbXVuaWNhdGlvbjogJyMzYjgyZjYnLCAvLyBCbHVlXHJcbiAgICAgIHByb2Nlc3Npbmc6ICcjZjk3MzE2JywgICAvLyBPcmFuZ2VcclxuICAgICAgd29ya2Zsb3c6ICcjNjM2NmYxJywgICAgIC8vIEluZGlnb1xyXG4gICAgICBpbnB1dDogJyMwNmI2ZDQnLCAgICAgICAgLy8gQ3lhblxyXG4gICAgICBvdXRwdXQ6ICcjZWM0ODk5JywgICAgICAgLy8gUGlua1xyXG4gICAgICBjb250cm9sOiAnIzhiNWNmNicsICAgICAgLy8gVmlvbGV0XHJcbiAgICAgIGJ1c2luZXNzOiAnIzEwYjk4MScsICAgICAvLyBFbWVyYWxkXHJcbiAgICAgIGFuYWx5dGljczogJyNmNDNmNWUnLCAgICAvLyBSb3NlXHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGNvbG9yc1tjYXRlZ29yeS50b0xvd2VyQ2FzZSgpXSB8fCAnIzljYTNhZic7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGgtZnVsbCBmbGV4IG92ZXJmbG93LWhpZGRlblwiIG9uQ2xpY2s9eygpID0+IHNldENvbmZpcm1DbGVhcihmYWxzZSl9IHN0eWxlPXt7IGJhY2tncm91bmQ6ICd2YXIoLS10aGVtZS1iYWNrZ3JvdW5kKScgfX0+XHJcbiAgICAgIDxzdHlsZSBqc3g+e2BcclxuICAgICAgICAuY3VzdG9tLXNjcm9sbGJhcjo6LXdlYmtpdC1zY3JvbGxiYXIgeyB3aWR0aDogOHB4OyBoZWlnaHQ6IDhweDsgfVxyXG4gICAgICAgIC5jdXN0b20tc2Nyb2xsYmFyOjotd2Via2l0LXNjcm9sbGJhci10cmFjayB7IGJhY2tncm91bmQ6IHRyYW5zcGFyZW50OyB9XHJcbiAgICAgICAgLmN1c3RvbS1zY3JvbGxiYXI6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHsgYmFja2dyb3VuZDogdmFyKC0tdGhlbWUtYm9yZGVyKTsgYm9yZGVyLXJhZGl1czogNHB4OyB9XHJcbiAgICAgICAgLmN1c3RvbS1zY3JvbGxiYXI6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iOmhvdmVyIHsgYmFja2dyb3VuZDogdmFyKC0tdGhlbWUtdGV4dC1tdXRlZCk7IH1cclxuICAgICAgYH08L3N0eWxlPlxyXG5cclxuICAgICAgey8qIFNpZGViYXIgKi99XHJcbiAgICAgIHshaXNTaWRlYmFyQ29sbGFwc2VkICYmIChcclxuICAgICAgICA8ZGl2IFxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYm9yZGVyLXIgZmxleCBmbGV4LWNvbCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgc2hyaW5rLTAgdy05MFwiXHJcbiAgICAgICAgICBzdHlsZT17eyBcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogJ3ZhcigtLXRoZW1lLXN1cmZhY2UpJywgXHJcbiAgICAgICAgICAgIGJvcmRlckNvbG9yOiAndmFyKC0tdGhlbWUtYm9yZGVyKScgXHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgID5cclxuICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHAtMyBib3JkZXItYiBzaHJpbmstMFwiXHJcbiAgICAgICAgICAgIHN0eWxlPXt7IGJvcmRlckNvbG9yOiAndmFyKC0tdGhlbWUtYm9yZGVyKScgfX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LXNlbWlib2xkIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCIgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0KScgfX0+XHJcbiAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYS1zb2xpZCBmYS1jdWJlc1wiPjwvaT48c3Bhbj5Ob2Rlczwvc3Bhbj5cclxuICAgICAgICAgICAgICA8L2gyPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgeygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBDb21wdXRlIGNhdGVnb3JpZXMgZHluYW1pY2FsbHkgZnJvbSBsb2FkZWQgbm9kZUNhdGVnb3JpZXNcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFsbENhdGVnb3JpZXMgPSAobm9kZUNhdGVnb3JpZXMgfHwgW10pLm1hcCgoYzogYW55KSA9PiBjLm5hbWUgfHwgJycpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYWxsQ29sbGFwc2VkID0gYWxsQ2F0ZWdvcmllcy5ldmVyeShjYXQgPT4gY29sbGFwc2VkQ2F0ZWdvcmllcy5oYXMobm9ybUNhdGVnb3J5KGNhdCkpKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoYWxsQ29sbGFwc2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEV4cGFuZCBhbGwgY2F0ZWdvcmllc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRDb2xsYXBzZWRDYXRlZ29yaWVzKG5ldyBTZXQoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb2xsYXBzZSBhbGwgY2F0ZWdvcmllcyAoc3RvcmUgbm9ybWFsaXplZCBrZXlzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRDb2xsYXBzZWRDYXRlZ29yaWVzKG5ldyBTZXQoYWxsQ2F0ZWdvcmllcy5tYXAobm9ybUNhdGVnb3J5KSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMyBweS0yIHJvdW5kZWQgdHJhbnNpdGlvbi1jb2xvcnMgZm9udC1ib2xkIHRleHQtbGdcIlxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQtc2Vjb25kYXJ5KSdcclxuICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgIG9uTW91c2VFbnRlcj17KGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gJ3ZhcigtLXRoZW1lLXN1cmZhY2UtaG92ZXIpJztcclxuICAgICAgICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5jb2xvciA9ICd2YXIoLS10aGVtZS10ZXh0KSc7XHJcbiAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZCA9ICd0cmFuc3BhcmVudCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuY29sb3IgPSAndmFyKC0tdGhlbWUtdGV4dC1zZWNvbmRhcnkpJztcclxuICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlPXthbGxDb2xsYXBzZWQgPyBcIkV4cGFuZCBhbGwgY2F0ZWdvcmllc1wiIDogXCJDb2xsYXBzZSBhbGwgY2F0ZWdvcmllc1wifVxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPXtgZmFzIGZhLSR7YWxsQ29sbGFwc2VkID8gJ3BsdXMnIDogJ21pbnVzJ31gfSBzdHlsZT17eyBmb250U2l6ZTogJzEycHgnIH19PjwvaT5cclxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgIH0pKCl9XHJcbiAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0SXNTaWRlYmFyQ29sbGFwc2VkKHRydWUpfVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0zIHJvdW5kZWQgdHJhbnNpdGlvbi1jb2xvcnMgZm9udC1ibGFjayB0ZXh0LTJ4bFwiXHJcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQtc2Vjb25kYXJ5KSdcclxuICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gJ3ZhcigtLXRoZW1lLXN1cmZhY2UtaG92ZXIpJztcclxuICAgICAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmNvbG9yID0gJ3ZhcigtLXRoZW1lLXRleHQpJztcclxuICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gJ3RyYW5zcGFyZW50JztcclxuICAgICAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmNvbG9yID0gJ3ZhcigtLXRoZW1lLXRleHQtc2Vjb25kYXJ5KSc7XHJcbiAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgdGl0bGU9XCJDb2xsYXBzZSBzaWRlYmFyXCJcclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIOKGkFxyXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC0zIGJvcmRlci1iIHNocmluay0wXCIgc3R5bGU9e3sgYm9yZGVyQ29sb3I6ICd2YXIoLS10aGVtZS1ib3JkZXIpJyB9fT5cclxuICAgICAgICAgICAgICA8aW5wdXQgXHJcbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiIFxyXG4gICAgICAgICAgICAgICAgdmFsdWU9e3NlYXJjaFRlcm19IFxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRTZWFyY2hUZXJtKGUudGFyZ2V0LnZhbHVlKX0gXHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMyBweS0yIHJvdW5kZWQgdGV4dC1zbSBib3JkZXIgZm9jdXM6b3V0bGluZS1ub25lXCIgXHJcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAndmFyKC0tdGhlbWUtc3VyZmFjZS12YXJpYW50KScsXHJcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dCknLFxyXG4gICAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogJ3ZhcigtLXRoZW1lLWJvcmRlciknLFxyXG4gICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgIG9uRm9jdXM9eyhlKSA9PiBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYm9yZGVyQ29sb3IgPSAndmFyKC0tdGhlbWUtcHJpbWFyeSknfVxyXG4gICAgICAgICAgICAgICAgb25CbHVyPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJvcmRlckNvbG9yID0gJ3ZhcigtLXRoZW1lLWJvcmRlciknfVxyXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTZWFyY2ggbm9kZXMuLi5cIiBcclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgb3ZlcmZsb3cteS1hdXRvIHAtMiBjdXN0b20tc2Nyb2xsYmFyXCIgc3R5bGU9e3sgc2Nyb2xsYmFyR3V0dGVyOiAnc3RhYmxlJyB9fT5cclxuICAgICAgICAgICAgICB7bm9kZUNhdGVnb3JpZXMubWFwKChjYXRlZ29yeSwgaWR4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBQcmUtZmlsdGVyIG5vZGVzIGZvciB0aGlzIGNhdGVnb3J5IGJhc2VkIG9uIHNlYXJjaCB0ZXJtXHJcbiAgICAgICAgICAgICAgICBjb25zdCBub2Rlc0ZvckNhdGVnb3J5ID0gKGNhdGVnb3J5Lm5vZGVzIHx8IFtdKS5maWx0ZXIoKG5vZGU6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBjb25zdCB0ZXJtID0gc2VhcmNoVGVybS50cmltKCkudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgICAgaWYgKCF0ZXJtKSByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIChub2RlLm5hbWUgJiYgbm9kZS5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXModGVybSkpIHx8IChub2RlLmRlc2NyaXB0aW9uICYmIG5vZGUuZGVzY3JpcHRpb24udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh0ZXJtKSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIGNhdGVnb3J5IGhhcyBubyBtYXRjaGluZyBub2RlcywgZG9uJ3QgcmVuZGVyIGl0XHJcbiAgICAgICAgICAgICAgICBpZiAobm9kZXNGb3JDYXRlZ29yeS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgY2F0S2V5ID0gbm9ybUNhdGVnb3J5KGNhdGVnb3J5Lm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaXNDb2xsYXBzZWQgPSBjb2xsYXBzZWRDYXRlZ29yaWVzLmhhcyhjYXRLZXkpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdG9nZ2xlQ29sbGFwc2UgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIHNldENvbGxhcHNlZENhdGVnb3JpZXMocHJldiA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IG5ldyBTZXQocHJldik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQuaGFzKGNhdEtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIG5leHQuZGVsZXRlKGNhdEtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgIG5leHQuYWRkKGNhdEtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0O1xyXG4gICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2lkeH0gY2xhc3NOYW1lPVwibWItMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgXHJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gcHgtMiBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCB1cHBlcmNhc2UgY3Vyc29yLXBvaW50ZXIgcm91bmRlZCB0cmFuc2l0aW9uLWNvbG9yc1wiIFxyXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0LW11dGVkKScgfX1cclxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RvZ2dsZUNvbGxhcHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSAndmFyKC0tdGhlbWUtc3VyZmFjZS1ob3ZlciknfVxyXG4gICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSAndHJhbnNwYXJlbnQnfVxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPXtjYXRlZ29yeS5pY29ufSBzdHlsZT17eyB3aWR0aDogJzE1cHgnIH19PjwvaT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+e2NhdGVnb3J5Lm5hbWV9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9e2BmYXMgZmEtY2hldnJvbi0ke2lzQ29sbGFwc2VkID8gJ3JpZ2h0JyA6ICdkb3duJ30gdGV4dC14cyB0cmFuc2l0aW9uLXRyYW5zZm9ybWB9PjwvaT5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICB7IWlzQ29sbGFwc2VkICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0xIG10LTFcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAge25vZGVzRm9yQ2F0ZWdvcnkubWFwKChub2RlOiBhbnksIG5vZGVJZHg6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm9kZUljb25JbmZvID0gZ2V0Tm9kZUljb24obm9kZS5jYXRlZ29yeSB8fCAnZGVmYXVsdCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWNvbkNsYXNzID0gbm9kZS5pY29uIHx8IG5vZGVJY29uSW5mby5pY29uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e25vZGVJZHh9IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMi41IHJvdW5kZWQgY3Vyc29yLWdyYWIgYWN0aXZlOmN1cnNvci1ncmFiYmluZyB0cmFuc2l0aW9uLWNvbG9ycyBib3JkZXJcIiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3ZhcigtLXRoZW1lLXN1cmZhY2UtdmFyaWFudCknLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6ICd2YXIoLS10aGVtZS1ib3JkZXIpJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSAndmFyKC0tdGhlbWUtc3VyZmFjZS1ob3ZlciknfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17KGUpID0+IGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gJ3ZhcigtLXRoZW1lLXN1cmZhY2UtdmFyaWFudCknfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdnYWJsZSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkRyYWdTdGFydD17KGUpID0+IHsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLmRhdGFUcmFuc2Zlci5zZXREYXRhKCdhcHBsaWNhdGlvbi9ub2RlJywgSlNPTi5zdHJpbmdpZnkoeyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogbm9kZS50eXBlLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbm9kZS5uYW1lLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IG5vZGUuY2F0ZWdvcnksIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBub2RlLmljb24sIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dF9wb3J0czogbm9kZS5pbnB1dF9wb3J0cywgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dF9wb3J0czogbm9kZS5vdXRwdXRfcG9ydHMgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9ICdjb3B5JzsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX0gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4geyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2aWV3cG9ydFJlZi5jdXJyZW50KSB7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2aWV3cG9ydCA9IHZpZXdwb3J0UmVmLmN1cnJlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gY2FudmFzUGFuWm9vbS5zY2FsZSB8fCAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHRvcC1sZWZ0IGFuY2hvciBvZiB0aGUgY3VycmVudCB2aWV3cG9ydCBpbiBjYW52YXMgY29vcmRpbmF0ZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWFyZ2luTGVmdCA9IDIwOyAvLyBsZWZ0IG1hcmdpbiBmcm9tIHRoZSB2aWV3cG9ydFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXJnaW5Ub3AgPSAyMDsgLy8gdG9wIG1hcmdpbiBmcm9tIHRoZSB2aWV3cG9ydFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXRZID0gMzA7IC8vIFZlcnRpY2FsIHNwYWNpbmcgZm9yIGVhY2ggbmV3IG5vZGUgc28gdGhleSBkb24ndCBvdmVybGFwIChhcHByb3ggbm9kZSBoZWlnaHQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldFggPSAxNTsgLy8gU21hbGwgaG9yaXpvbnRhbCBzaGlmdCBwZXIgbm9kZSB0byB0aGUgcmlnaHQgKHN0YWlyY2FzZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeCA9ICh2aWV3cG9ydC5zY3JvbGxMZWZ0ICsgbWFyZ2luTGVmdCArIChzaWRlYmFyTm9kZUNvdW50ICogb2Zmc2V0WCkpIC8gc2NhbGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHkgPSAodmlld3BvcnQuc2Nyb2xsVG9wICsgbWFyZ2luVG9wICsgKHNpZGViYXJOb2RlQ291bnQgKiBvZmZzZXRZKSkgLyBzY2FsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZE5vZGVUb0NhbnZhcyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLnR5cGUsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUubmFtZSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5jYXRlZ29yeSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB4LCB5IH0sIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuaWNvbiwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5pbnB1dF9wb3J0cywgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5vdXRwdXRfcG9ydHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEluY3JlbWVudCBzdGFpcmNhc2UgY291bnRlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTaWRlYmFyTm9kZUNvdW50KHByZXYgPT4gcHJldiArIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtc2hyaW5rLTAgdy04IGgtOCByb3VuZGVkIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG10LTAuNVwiIHN0eWxlPXt7IGJhY2tncm91bmQ6IG5vZGVJY29uSW5mby5iZ0NvbG9yIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9e2Ake2ljb25DbGFzc30gdGV4dC1zbWB9IHN0eWxlPXt7IGNvbG9yOiBub2RlSWNvbkluZm8uY29sb3IgfX0+PC9pPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBtaW4tdy0wXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LXNlbWlib2xkIGxlYWRpbmctdGlnaHRcIiBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQpJyB9fT57bm9kZS5uYW1lIHx8ICdVbm5hbWVkIE5vZGUnfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgbXQtMC41IGxlYWRpbmctc251Z1wiIHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dC1tdXRlZCknIH19Pntub2RlLmRlc2NyaXB0aW9uIHx8ICdObyBkZXNjcmlwdGlvbid9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICB9KX1cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICB9KX1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICl9XHJcblxyXG4gICAgICB7LyogTWFpbiBDb250ZW50ICovfVxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBmbGV4IGZsZXgtY29sIG92ZXJmbG93LWhpZGRlblwiPlxyXG4gICAgICAgIHsvKiBUb3AgQ29udHJvbCBCYXIgKi99XHJcbiAgICAgICAgPGRpdiBcclxuICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBweC00IHB5LTIgYm9yZGVyLWIgc2hyaW5rLTBcIlxyXG4gICAgICAgICAgc3R5bGU9e3sgXHJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICd2YXIoLS10aGVtZS1zdXJmYWNlKScsIFxyXG4gICAgICAgICAgICBib3JkZXJDb2xvcjogJ3ZhcigtLXRoZW1lLWJvcmRlciknIFxyXG4gICAgICAgICAgfX1cclxuICAgICAgICA+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XHJcbiAgICAgICAgICAgIHtpc1NpZGViYXJDb2xsYXBzZWQgJiYgKFxyXG4gICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldElzU2lkZWJhckNvbGxhcHNlZChmYWxzZSl9XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0zIHB5LTEgcm91bmRlZCB0ZXh0LXNtIHRyYW5zaXRpb24tY29sb3JzIGJvcmRlciBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMS41XCJcclxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICd2YXIoLS10aGVtZS1zdXJmYWNlLXZhcmlhbnQpJyxcclxuICAgICAgICAgICAgICAgICAgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0KScsXHJcbiAgICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiAndmFyKC0tdGhlbWUtYm9yZGVyKScsXHJcbiAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSAndmFyKC0tdGhlbWUtc3VyZmFjZS1ob3ZlciknfVxyXG4gICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSAndmFyKC0tdGhlbWUtc3VyZmFjZS12YXJpYW50KSd9XHJcbiAgICAgICAgICAgICAgICB0aXRsZT1cIkV4cGFuZCBzaWRlYmFyXCJcclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYXMgZmEtYmFyc1wiPjwvaT5cclxuICAgICAgICAgICAgICAgIDxzcGFuPk5vZGVzPC9zcGFuPlxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgICAgICA8aW5wdXQgXHJcbiAgICAgICAgICAgICAgdHlwZT1cInRleHRcIiBcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0zIHB5LTEgcm91bmRlZCB0ZXh0LXNtIGJvcmRlciBmb2N1czpvdXRsaW5lLW5vbmVcIiBcclxuICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3ZhcigtLXRoZW1lLXN1cmZhY2UtdmFyaWFudCknLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0KScsXHJcbiAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogJ3ZhcigtLXRoZW1lLWJvcmRlciknLFxyXG4gICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgb25Gb2N1cz17KGUpID0+IGUuY3VycmVudFRhcmdldC5zdHlsZS5ib3JkZXJDb2xvciA9ICd2YXIoLS10aGVtZS1wcmltYXJ5KSd9XHJcbiAgICAgICAgICAgICAgb25CbHVyPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJvcmRlckNvbG9yID0gJ3ZhcigtLXRoZW1lLWJvcmRlciknfVxyXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiVW50aXRsZWQgV29ya2Zsb3dcIiBcclxuICAgICAgICAgICAgICB2YWx1ZT17d29ya2Zsb3dOYW1lfSBcclxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHsgc2V0V29ya2Zsb3dOYW1lKGUudGFyZ2V0LnZhbHVlKTsgc2V0SXNEaXJ0eSh0cnVlKTsgfX0gXHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDxpbnB1dCBcclxuICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiIFxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMSByb3VuZGVkIHRleHQtc20gYm9yZGVyIGZvY3VzOm91dGxpbmUtbm9uZVwiIFxyXG4gICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAndmFyKC0tdGhlbWUtc3VyZmFjZS12YXJpYW50KScsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQpJyxcclxuICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiAndmFyKC0tdGhlbWUtYm9yZGVyKScsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogJzUwMHB4JyxcclxuICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgIG9uRm9jdXM9eyhlKSA9PiBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYm9yZGVyQ29sb3IgPSAndmFyKC0tdGhlbWUtcHJpbWFyeSknfVxyXG4gICAgICAgICAgICAgIG9uQmx1cj17KGUpID0+IGUuY3VycmVudFRhcmdldC5zdHlsZS5ib3JkZXJDb2xvciA9ICd2YXIoLS10aGVtZS1ib3JkZXIpJ31cclxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIldvcmtmbG93IGRlc2NyaXB0aW9uLi4uXCIgXHJcbiAgICAgICAgICAgICAgdmFsdWU9e3dvcmtmbG93RGVzY3JpcHRpb259IFxyXG4gICAgICAgICAgICAgIG1heExlbmd0aD17NTB9XHJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7IHNldFdvcmtmbG93RGVzY3JpcHRpb24oZS50YXJnZXQudmFsdWUpOyBzZXRJc0RpcnR5KHRydWUpOyB9fSBcclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAge2lzRGlydHkgJiYgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14c1wiIHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tdGhlbWUtd2FybmluZyknIH19PuKXjzwvc3Bhbj59XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cclxuICAgICAgICAgICAgey8qIFNhdmUgYnV0dG9uICovfVxyXG4gICAgICAgICAgICA8YnV0dG9uIFxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dTYXZlT3B0aW9uc01vZGFsKHRydWUpfVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMSB0ZXh0LXdoaXRlIHJvdW5kZWQgdGV4dC1zbSB0cmFuc2l0aW9uLWNvbG9yc1wiXHJcbiAgICAgICAgICAgICAgc3R5bGU9e3sgYmFja2dyb3VuZDogJ3ZhcigtLXRoZW1lLXN1Y2Nlc3MpJyB9fVxyXG4gICAgICAgICAgICAgIG9uTW91c2VFbnRlcj17KGUpID0+IGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gJ3ZhcigtLXRoZW1lLXN1Y2Nlc3MtaG92ZXIpJ31cclxuICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9eyhlKSA9PiBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZCA9ICd2YXIoLS10aGVtZS1zdWNjZXNzKSd9XHJcbiAgICAgICAgICAgICAgdGl0bGU9XCJTYXZlIHdvcmtmbG93IChDdHJsK1MpXCJcclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cIlwiPjwvaT5cclxuICAgICAgICAgICAgICBTYXZlXHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgey8qIExvYWQgYnV0dG9uICovfVxyXG4gICAgICAgICAgICA8YnV0dG9uIFxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dMb2FkT3B0aW9uc01vZGFsKHRydWUpfVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMSByb3VuZGVkIHRleHQtc20gdHJhbnNpdGlvbi1jb2xvcnMgYm9yZGVyXCJcclxuICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3ZhcigtLXRoZW1lLXN1cmZhY2UtdmFyaWFudCknLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0KScsXHJcbiAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogJ3ZhcigtLXRoZW1lLWJvcmRlciknLFxyXG4gICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSAndmFyKC0tdGhlbWUtc3VyZmFjZS1ob3ZlciknfVxyXG4gICAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17KGUpID0+IGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gJ3ZhcigtLXRoZW1lLXN1cmZhY2UtdmFyaWFudCknfVxyXG4gICAgICAgICAgICAgIHRpdGxlPVwiTG9hZCB3b3JrZmxvdyAoQ3RybCtMKVwiXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJcIj48L2k+XHJcbiAgICAgICAgICAgICAgTG9hZFxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIj5cclxuICAgICAgICAgICAgICA8YnV0dG9uIFxyXG4gICAgICAgICAgICAgICAgcmVmPXtjbGVhckJ1dHRvblJlZn1cclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNsZWFyQ2xpY2t9IFxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMyBweS0xIHJvdW5kZWQgdGV4dC1zbSB0cmFuc2l0aW9uLWNvbG9ycyBib3JkZXJcIlxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3ZhcigtLXRoZW1lLXN1cmZhY2UtdmFyaWFudCknLFxyXG4gICAgICAgICAgICAgICAgICBjb2xvcjogY29uZmlybUNsZWFyID8gJ3ZhcigtLXRoZW1lLWRhbmdlciknIDogJ3ZhcigtLXRoZW1lLXRleHQpJyxcclxuICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6ICd2YXIoLS10aGVtZS1ib3JkZXIpJyxcclxuICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9eyhlKSA9PiBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZCA9ICd2YXIoLS10aGVtZS1zdXJmYWNlLWhvdmVyKSd9XHJcbiAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9eyhlKSA9PiBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZCA9ICd2YXIoLS10aGVtZS1zdXJmYWNlLXZhcmlhbnQpJ31cclxuICAgICAgICAgICAgICA+e2NvbmZpcm1DbGVhciA/IFwiQ29uZmlybT9cIiA6IFwiQ2xlYXJcIn08L2J1dHRvbj5cclxuXHJcbiAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBpc1VuZG9SZWRvT3BlcmF0aW9uLmN1cnJlbnQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICB1bmRvKCk7XHJcbiAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFjYW5VbmRvfVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMyBweS0xIHJvdW5kZWQgdGV4dC1zbSB0cmFuc2l0aW9uLWNvbG9ycyBib3JkZXIgbXgtMVwiXHJcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAndmFyKC0tdGhlbWUtc3VyZmFjZS12YXJpYW50KScsXHJcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBjYW5VbmRvID8gJ3ZhcigtLXRoZW1lLXRleHQpJyA6ICd2YXIoLS10aGVtZS10ZXh0LW11dGVkKScsXHJcbiAgICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiAndmFyKC0tdGhlbWUtYm9yZGVyKSdcclxuICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICB0aXRsZT17J1VuZG8gKEN0cmwrWi9DbWQrWiknfVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS11bmRvXCI+PC9pPlxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcclxuICAgICAgICAgICAgICAgICAgaXNVbmRvUmVkb09wZXJhdGlvbi5jdXJyZW50ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgcmVkbygpO1xyXG4gICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXshY2FuUmVkb31cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMSByb3VuZGVkIHRleHQtc20gdHJhbnNpdGlvbi1jb2xvcnMgYm9yZGVyXCJcclxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICd2YXIoLS10aGVtZS1zdXJmYWNlLXZhcmlhbnQpJyxcclxuICAgICAgICAgICAgICAgICAgY29sb3I6IGNhblJlZG8gPyAndmFyKC0tdGhlbWUtdGV4dCknIDogJ3ZhcigtLXRoZW1lLXRleHQtbXV0ZWQpJyxcclxuICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6ICd2YXIoLS10aGVtZS1ib3JkZXIpJ1xyXG4gICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgIHRpdGxlPXsnUmVkbyAoQ3RybCtZIC8gQ21kK1NoaWZ0K1opJ31cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYXMgZmEtcmVkb1wiPjwvaT5cclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1weCBoLTZcIiBzdHlsZT17eyBiYWNrZ3JvdW5kOiAndmFyKC0tdGhlbWUtYm9yZGVyKScgfX0gLz5cclxuICAgICAgICAgICAgey8qIEV4ZWN1dGlvbiBjb250cm9sIGJ1dHRvbnMgLSBzdGF0ZSBtYWNoaW5lICovfVxyXG4gICAgICAgICAgICB7ZXhlY3V0aW9uLmlzRXhlY3V0aW5nID8gKFxyXG4gICAgICAgICAgICAgIC8qIFJVTk5JTkcgU1RBVEU6IFNob3cgUGF1c2UvUmVzdW1lICsgU3RvcCAqL1xyXG4gICAgICAgICAgICAgIDw+XHJcbiAgICAgICAgICAgICAgICB7IWV4ZWN1dGlvbi5pc1BhdXNlZCA/IChcclxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcclxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtleGVjdXRpb24uaGFuZGxlUGF1c2V9IFxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMSB0ZXh0LXdoaXRlIHJvdW5kZWQgdGV4dC1zbSB0cmFuc2l0aW9uLWNvbG9yc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgYmFja2dyb3VuZDogJ3ZhcigtLXRoZW1lLXdhcm5pbmcpJyB9fVxyXG4gICAgICAgICAgICAgICAgICAgIG9uTW91c2VFbnRlcj17KGUpID0+IGUuY3VycmVudFRhcmdldC5zdHlsZS5vcGFjaXR5ID0gJzAuOSd9XHJcbiAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLm9wYWNpdHkgPSAnMSd9XHJcbiAgICAgICAgICAgICAgICAgID5QYXVzZTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcclxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtleGVjdXRpb24uaGFuZGxlUmVzdW1lfSBcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0zIHB5LTEgdGV4dC13aGl0ZSByb3VuZGVkIHRleHQtc20gdHJhbnNpdGlvbi1jb2xvcnNcIlxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGJhY2tncm91bmQ6ICd2YXIoLS10aGVtZS1zdWNjZXNzKScgfX1cclxuICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9eyhlKSA9PiBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZCA9ICd2YXIoLS10aGVtZS1zdWNjZXNzLWhvdmVyKSd9XHJcbiAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSAndmFyKC0tdGhlbWUtc3VjY2VzcyknfVxyXG4gICAgICAgICAgICAgICAgICA+UmVzdW1lPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBcclxuICAgICAgICAgICAgICAgICAgb25DbGljaz17ZXhlY3V0aW9uLmhhbmRsZVN0b3B9IFxyXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0zIHB5LTEgdGV4dC13aGl0ZSByb3VuZGVkIHRleHQtc20gdHJhbnNpdGlvbi1jb2xvcnNcIlxyXG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kOiAndmFyKC0tdGhlbWUtZGFuZ2VyKScgfX1cclxuICAgICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSAndmFyKC0tdGhlbWUtZGFuZ2VyLWhvdmVyKSd9XHJcbiAgICAgICAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17KGUpID0+IGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gJ3ZhcigtLXRoZW1lLWRhbmdlciknfVxyXG4gICAgICAgICAgICAgICAgPlN0b3A8L2J1dHRvbj5cclxuICAgICAgICAgICAgICA8Lz5cclxuICAgICAgICAgICAgKSA6IChleGVjdXRpb24ubGFzdFJlc3VsdCA9PT0gJ2ZhaWxlZCcgfHwgZXhlY3V0aW9uLmxhc3RSZXN1bHQgPT09ICdzdG9wcGVkJykgPyAoXHJcbiAgICAgICAgICAgICAgLyogRkFJTEVEL1NUT1BQRUQgU1RBVEU6IFNob3cgUmV0cnkgKyBSZXN0YXJ0ICovXHJcbiAgICAgICAgICAgICAgPD5cclxuICAgICAgICAgICAgICAgIDxidXR0b24gXHJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGV4ZWN1dGlvbi5oYW5kbGVSZXRyeShmYWxzZSl9XHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMSB0ZXh0LXdoaXRlIHJvdW5kZWQgdGV4dC1zbSBmb250LW1lZGl1bSB0cmFuc2l0aW9uLWNvbG9ycyBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiXHJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGJhY2tncm91bmQ6ICd2YXIoLS10aGVtZS13YXJuaW5nKScgfX1cclxuICAgICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLm9wYWNpdHkgPSAnMC45J31cclxuICAgICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLm9wYWNpdHkgPSAnMSd9XHJcbiAgICAgICAgICAgICAgICAgIHRpdGxlPXtleGVjdXRpb24ucmV0cnlJbmZvID8gYFJldHJ5IGZyb20gY2hlY2twb2ludCAtIHNraXAgJHtleGVjdXRpb24ucmV0cnlJbmZvLmNvbXBsZXRlZF9jb3VudCB8fCAwfSBjb21wbGV0ZWQgbm9kZShzKWAgOiAnUmV0cnkgZnJvbSBjaGVja3BvaW50J31cclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmFzIGZhLXJlZG8gdGV4dC14c1wiPjwvaT5cclxuICAgICAgICAgICAgICAgICAgUmV0cnlcclxuICAgICAgICAgICAgICAgICAge2V4ZWN1dGlvbi5yZXRyeUluZm8/LmNvbXBsZXRlZF9jb3VudCAhPSBudWxsICYmIGV4ZWN1dGlvbi5yZXRyeUluZm8uY29tcGxldGVkX2NvdW50ID4gMCAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyBvcGFjaXR5LTc1XCI+KHtleGVjdXRpb24ucmV0cnlJbmZvLmNvbXBsZXRlZF9jb3VudH0pPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIFxyXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXthc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRGlydHkpIGF3YWl0IGhhbmRsZVNhdmUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZXhlY3V0aW9uLmhhbmRsZVJlc3RhcnQoKTtcclxuICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMyBweS0xIHRleHQtd2hpdGUgcm91bmRlZCB0ZXh0LXNtIHRyYW5zaXRpb24tY29sb3JzXCJcclxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgYmFja2dyb3VuZDogJ3ZhcigtLXRoZW1lLXByaW1hcnkpJyB9fVxyXG4gICAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9eyhlKSA9PiBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZCA9ICd2YXIoLS10aGVtZS1wcmltYXJ5LWhvdmVyKSd9XHJcbiAgICAgICAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17KGUpID0+IGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gJ3ZhcigtLXRoZW1lLXByaW1hcnkpJ31cclxuICAgICAgICAgICAgICAgICAgdGl0bGU9XCJSdW4gd29ya2Zsb3cgZnJvbSB0aGUgYmVnaW5uaW5nXCJcclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgUmVzdGFydFxyXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgPC8+XHJcbiAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgLyogSURMRS9DT01QTEVURUQgU1RBVEU6IFNob3cgUnVuICovXHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiBcclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2FzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgaWYgKGlzRGlydHkpIGF3YWl0IGhhbmRsZVNhdmUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgIGV4ZWN1dGlvbi5oYW5kbGVSdW4oKTtcclxuICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTEgdGV4dC13aGl0ZSByb3VuZGVkIHRleHQtc20gZm9udC1tZWRpdW0gdHJhbnNpdGlvbi1jb2xvcnNcIlxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgYmFja2dyb3VuZDogJ3ZhcigtLXRoZW1lLXByaW1hcnkpJyB9fVxyXG4gICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSAndmFyKC0tdGhlbWUtcHJpbWFyeS1ob3ZlciknfVxyXG4gICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSAndmFyKC0tdGhlbWUtcHJpbWFyeSknfVxyXG4gICAgICAgICAgICAgID5SdW48L2J1dHRvbj5cclxuICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LXB4IGgtNlwiIHN0eWxlPXt7IGJhY2tncm91bmQ6ICd2YXIoLS10aGVtZS1ib3JkZXIpJyB9fSAvPlxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgey8qIFpvb20gY29udHJvbHMgKi99XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgcHgtMiBweS0xIHJvdW5kZWQgYm9yZGVyXCJcclxuICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3ZhcigtLXRoZW1lLXN1cmZhY2UtdmFyaWFudCknLFxyXG4gICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6ICd2YXIoLS10aGVtZS1ib3JkZXIpJyxcclxuICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlWm9vbU91dH1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTIgcHktMC41IHJvdW5kZWQgdGV4dC14cyB0cmFuc2l0aW9uLWNvbG9yc1wiXHJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQpJyB9fVxyXG4gICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSAndmFyKC0tdGhlbWUtc3VyZmFjZS1ob3ZlciknfVxyXG4gICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSAndHJhbnNwYXJlbnQnfVxyXG4gICAgICAgICAgICAgICAgdGl0bGU9XCJab29tIG91dFwiXHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmFzIGZhLW1pbnVzXCI+PC9pPlxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgcHgtMlwiIHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dC1zZWNvbmRhcnkpJywgbWluV2lkdGg6ICc0NXB4JywgdGV4dEFsaWduOiAnY2VudGVyJyB9fT5cclxuICAgICAgICAgICAgICAgIHt6b29tTGV2ZWx9JVxyXG4gICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVab29tSW59XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0yIHB5LTAuNSByb3VuZGVkIHRleHQteHMgdHJhbnNpdGlvbi1jb2xvcnNcIlxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0KScgfX1cclxuICAgICAgICAgICAgICAgIG9uTW91c2VFbnRlcj17KGUpID0+IGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gJ3ZhcigtLXRoZW1lLXN1cmZhY2UtaG92ZXIpJ31cclxuICAgICAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17KGUpID0+IGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gJ3RyYW5zcGFyZW50J31cclxuICAgICAgICAgICAgICAgIHRpdGxlPVwiWm9vbSBpblwiXHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmFzIGZhLXBsdXNcIj48L2k+XHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlWm9vbVJlc2V0fVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMiBweS0wLjUgcm91bmRlZCB0ZXh0LXhzIHRyYW5zaXRpb24tY29sb3JzXCJcclxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dCknIH19XHJcbiAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9eyhlKSA9PiBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZCA9ICd2YXIoLS10aGVtZS1zdXJmYWNlLWhvdmVyKSd9XHJcbiAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9eyhlKSA9PiBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZCA9ICd0cmFuc3BhcmVudCd9XHJcbiAgICAgICAgICAgICAgICB0aXRsZT1cIlJlc2V0IHpvb21cIlxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS11bmRvXCI+PC9pPlxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHsvKiBGdWxsc2NyZWVuIGJ1dHRvbiAqL31cclxuICAgICAgICAgICAgPGJ1dHRvbiBcclxuICAgICAgICAgICAgICBvbkNsaWNrPXt0b2dnbGVGdWxsc2NyZWVufVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMSByb3VuZGVkIHRleHQtc20gdHJhbnNpdGlvbi1jb2xvcnMgYm9yZGVyXCJcclxuICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3ZhcigtLXRoZW1lLXN1cmZhY2UtdmFyaWFudCknLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0KScsXHJcbiAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogJ3ZhcigtLXRoZW1lLWJvcmRlciknLFxyXG4gICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSAndmFyKC0tdGhlbWUtc3VyZmFjZS1ob3ZlciknfVxyXG4gICAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17KGUpID0+IGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gJ3ZhcigtLXRoZW1lLXN1cmZhY2UtdmFyaWFudCknfVxyXG4gICAgICAgICAgICAgIHRpdGxlPXtpc0Z1bGxzY3JlZW4gPyBcIkV4aXQgZnVsbHNjcmVlblwiIDogXCJFbnRlciBmdWxsc2NyZWVuXCJ9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9e2BmYXMgZmEtJHtpc0Z1bGxzY3JlZW4gPyAnY29tcHJlc3MnIDogJ2V4cGFuZCd9YH0+PC9pPlxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICB7LyogQ2FudmFzIEFyZWEgKi99XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgb3ZlcmZsb3ctaGlkZGVuIHJlbGF0aXZlXCI+XHJcbiAgICAgICAgICA8ZGl2IFxyXG4gICAgICAgICAgICByZWY9e3ZpZXdwb3J0UmVmfSBcclxuICAgICAgICAgICAgaWQ9XCJjYW52YXNWaWV3cG9ydFwiIFxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsIG92ZXJmbG93LWF1dG9cIiBcclxuICAgICAgICAgICAgc3R5bGU9e3sgXHJcbiAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3ZhcigtLXRoZW1lLWJhY2tncm91bmQpJyxcclxuICAgICAgICAgICAgICBcIi0tY2FudmFzLWdyaWQtc2l6ZVwiOiBgJHtncmlkU2V0dGluZ3MuZ3JpZFNpemV9cHhgLCBcclxuICAgICAgICAgICAgICBcIi0tY2FudmFzLWdyaWQtY29sb3JcIjogXCJ2YXIoLS10aGVtZS1ib3JkZXIpXCIsIFxyXG4gICAgICAgICAgICAgIFwiLS1jYW52YXMtZ3JpZC1vcGFjaXR5XCI6IGdyaWRTZXR0aW5ncy5lbmFibGVHcmlkID8gZ3JpZFNldHRpbmdzLmdyaWRPcGFjaXR5LnRvU3RyaW5nKCkgOiBcIjBcIlxyXG4gICAgICAgICAgICB9IGFzIFJlYWN0LkNTU1Byb3BlcnRpZXN9IFxyXG4gICAgICAgICAgICBvbk1vdXNlTW92ZT17KGUpID0+IHsgXHJcbiAgICAgICAgICAgICAgaGFuZGxlTm9kZURyYWcoZSk7IFxyXG4gICAgICAgICAgICAgIGhhbmRsZUNvbm5lY3Rpb25Nb3VzZU1vdmUoZSk7IFxyXG4gICAgICAgICAgICAgIGhhbmRsZVNlbGVjdGlvbkJveE1vdmUoZSk7XHJcbiAgICAgICAgICAgICAgaGFuZGxlT2JqZWN0RHJhZyhlKTtcclxuICAgICAgICAgICAgICBoYW5kbGVHcm91cFJlc2l6ZShlKTtcclxuICAgICAgICAgICAgfX0gXHJcbiAgICAgICAgICAgIG9uTW91c2VVcD17KGUpID0+IHsgXHJcbiAgICAgICAgICAgICAgaGFuZGxlTm9kZURyYWdFbmQoKTsgXHJcbiAgICAgICAgICAgICAgaGFuZGxlQ29ubmVjdGlvbk1vdXNlVXAoZSk7IFxyXG4gICAgICAgICAgICAgIGhhbmRsZVNlbGVjdGlvbkJveEVuZCgpO1xyXG4gICAgICAgICAgICAgIGhhbmRsZU9iamVjdERyYWdFbmQoKTtcclxuICAgICAgICAgICAgICBoYW5kbGVHcm91cFJlc2l6ZUVuZCgpO1xyXG4gICAgICAgICAgICB9fSBcclxuICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXsoKSA9PiB7IFxyXG4gICAgICAgICAgICAgIGhhbmRsZU5vZGVEcmFnRW5kKCk7IFxyXG4gICAgICAgICAgICAgIHNldFRlbXBDb25uZWN0aW9uKG51bGwpOyBcclxuICAgICAgICAgICAgICBoYW5kbGVTZWxlY3Rpb25Cb3hFbmQoKTtcclxuICAgICAgICAgICAgICBoYW5kbGVPYmplY3REcmFnRW5kKCk7XHJcbiAgICAgICAgICAgICAgaGFuZGxlR3JvdXBSZXNpemVFbmQoKTtcclxuICAgICAgICAgICAgfX0gXHJcbiAgICAgICAgICAgIG9uTW91c2VEb3duPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICAgIC8vIENsb3NlIGNvbnRleHQgbWVudSB3aGVuIGNsaWNraW5nIGVsc2V3aGVyZVxyXG4gICAgICAgICAgICAgIGlmIChjb250ZXh0TWVudSB8fCBub2RlQ29udGV4dE1lbnUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0YXJnZXQuY2xvc2VzdCgnLmNvbnRleHQtbWVudScpKSB7XHJcbiAgICAgICAgICAgICAgICAgIHNldENvbnRleHRNZW51KG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICBzZXROb2RlQ29udGV4dE1lbnUobnVsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGhhbmRsZVNlbGVjdGlvbkJveFN0YXJ0KGUpO1xyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICBvbkNvbnRleHRNZW51PXsoZSkgPT4ge1xyXG4gICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsgLy8gUHJldmVudCBkZWZhdWx0IGJyb3dzZXIgY29udGV4dCBtZW51XHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgIG9uRHJhZ092ZXI9eyhlKSA9PiB7IGUucHJldmVudERlZmF1bHQoKTsgZS5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9ICdjb3B5JzsgfX0gXHJcbiAgICAgICAgICAgIG9uRHJvcD17KGUpID0+IHsgXHJcbiAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOyBcclxuICAgICAgICAgICAgICBjb25zdCBub2RlRGF0YSA9IGUuZGF0YVRyYW5zZmVyLmdldERhdGEoJ2FwcGxpY2F0aW9uL25vZGUnKTsgXHJcbiAgICAgICAgICAgICAgaWYgKG5vZGVEYXRhICYmIHZpZXdwb3J0UmVmLmN1cnJlbnQpIHsgXHJcbiAgICAgICAgICAgICAgICBjb25zdCBub2RlID0gSlNPTi5wYXJzZShub2RlRGF0YSk7IFxyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVjdCA9IHZpZXdwb3J0UmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7IFxyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSBjYW52YXNQYW5ab29tLnNjYWxlIHx8IDE7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBwb3NpdGlvbiByZWxhdGl2ZSB0byBjYW52YXMsIGFjY291bnRpbmcgZm9yIHNjcm9sbCBhbmQgem9vbVxyXG4gICAgICAgICAgICAgICAgY29uc3QgeCA9IChlLmNsaWVudFggLSByZWN0LmxlZnQgKyB2aWV3cG9ydFJlZi5jdXJyZW50LnNjcm9sbExlZnQpIC8gc2NhbGU7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB5ID0gKGUuY2xpZW50WSAtIHJlY3QudG9wICsgdmlld3BvcnRSZWYuY3VycmVudC5zY3JvbGxUb3ApIC8gc2NhbGU7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGFkZE5vZGVUb0NhbnZhcyhub2RlLnR5cGUsIG5vZGUubmFtZSwgbm9kZS5jYXRlZ29yeSwgeyB4LCB5IH0sIG5vZGUuaWNvbiwgbm9kZS5pbnB1dF9wb3J0cywgbm9kZS5vdXRwdXRfcG9ydHMpOyBcclxuICAgICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICB7LyogUmVuZGVyIG5vZGVzIGFuZCBjb25uZWN0aW9ucyBpbnRvIHRoZSBjYW52YXMgZGl2IHVzaW5nIHBvcnRhbCAqL31cclxuICAgICAgICAgICAge2NhbnZhc1Bhblpvb20uY2FudmFzUmVmICYmIGNyZWF0ZVBvcnRhbChcclxuICAgICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgICAgey8qIFJlbmRlciBncm91cHMgZmlyc3QgKGJlaGluZCBldmVyeXRoaW5nKSAqL31cclxuICAgICAgICAgICAgICAgIHtjYW52YXNPYmplY3RzXHJcbiAgICAgICAgICAgICAgICAgIC5maWx0ZXIob2JqID0+IG9iai50eXBlID09PSAnZ3JvdXAnKVxyXG4gICAgICAgICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gKGEuekluZGV4IHx8IDApIC0gKGIuekluZGV4IHx8IDApKVxyXG4gICAgICAgICAgICAgICAgICAubWFwKGdyb3VwID0+IChcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgICBrZXk9e2dyb3VwLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgY2FudmFzLWdyb3VwICR7c2VsZWN0ZWRPYmplY3QgPT09IGdyb3VwLmlkID8gJ3NlbGVjdGVkJyA6ICcnfWB9XHJcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogYCR7Z3JvdXAucG9zaXRpb24ueH1weGAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogYCR7Z3JvdXAucG9zaXRpb24ueX1weGAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBgJHtncm91cC5zaXplLndpZHRofXB4YCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBgJHtncm91cC5zaXplLmhlaWdodH1weGAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogZ3JvdXAuY29sb3IsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogc2VsZWN0ZWRPYmplY3QgPT09IGdyb3VwLmlkID8gJzJweCBzb2xpZCAjM2I4MmY2JyA6ICcycHggc29saWQgcmdiYSgwLDAsMCwwLjEpJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnOHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgekluZGV4OiBncm91cC56SW5kZXggfHwgLTEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ21vdmUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLjUsXHJcbiAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZURvd249eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3Jlc2l6ZS1oYW5kbGUnKSAmJiAhdGFyZ2V0LmNsb3Nlc3QoJy5ncm91cC1jb250cm9scycpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlT2JqZWN0RHJhZ1N0YXJ0KGdyb3VwLmlkLCBlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkT2JqZWN0KGdyb3VwLmlkKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgey8qIFRpdGxlICovfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2dyb3VwLnRpdGxlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNhbnZhc09iamVjdChncm91cC5pZCwgeyB0aXRsZTogZS50YXJnZXQudmFsdWUgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogJzhweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogJzEycHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTRweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogNjAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnIzM3NDE1MScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3RyYW5zcGFyZW50JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IHNlbGVjdGVkT2JqZWN0ID09PSBncm91cC5pZCA/ICcxcHggZGFzaGVkIHJnYmEoMCwwLDAsMC4yKScgOiAnMXB4IHNvbGlkIHRyYW5zcGFyZW50JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMnB4IDRweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnM3B4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhXaWR0aDogYCR7Z3JvdXAuc2l6ZS53aWR0aCAtIDEwMH1weGAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICB7LyogQ29udHJvbHMgKi99XHJcbiAgICAgICAgICAgICAgICAgICAgICB7c2VsZWN0ZWRPYmplY3QgPT09IGdyb3VwLmlkICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncm91cC1jb250cm9sc1wiIHN0eWxlPXt7IHBvc2l0aW9uOiAnYWJzb2x1dGUnLCB0b3A6ICc4cHgnLCByaWdodDogJzhweCcsIGRpc3BsYXk6ICdmbGV4JywgZ2FwOiAnNHB4JyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjb2xvclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17Z3JvdXAuY29sb3J9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ2FudmFzT2JqZWN0KGdyb3VwLmlkLCB7IGNvbG9yOiBlLnRhcmdldC52YWx1ZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4gZS5zdG9wUHJvcGFnYXRpb24oKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnMjhweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJzI4cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICdub25lJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJDaGFuZ2UgY29sb3JcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlQ2FudmFzT2JqZWN0KGdyb3VwLmlkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAnI2VmNDQ0NCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICdub25lJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzRweCA4cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxMnB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmFzIGZhLXRyYXNoXCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgIHsvKiBSZXNpemUgaGFuZGxlcyAqL31cclxuICAgICAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZE9iamVjdCA9PT0gZ3JvdXAuaWQgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBDb3JuZXIgaGFuZGxlcyAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7WydudycsICduZScsICdzdycsICdzZSddLm1hcChoYW5kbGUgPT4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2hhbmRsZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicmVzaXplLWhhbmRsZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VEb3duPXsoZSkgPT4gaGFuZGxlR3JvdXBSZXNpemVTdGFydChncm91cC5pZCwgaGFuZGxlLCBlKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzEycHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJzEycHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICcjM2I4MmY2JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICcycHggc29saWQgd2hpdGUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzUwJScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBgJHtoYW5kbGV9LXJlc2l6ZWAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgekluZGV4OiAxMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi4oaGFuZGxlID09PSAnbncnICYmIHsgdG9wOiAnLTZweCcsIGxlZnQ6ICctNnB4JyB9KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi4oaGFuZGxlID09PSAnbmUnICYmIHsgdG9wOiAnLTZweCcsIHJpZ2h0OiAnLTZweCcgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uKGhhbmRsZSA9PT0gJ3N3JyAmJiB7IGJvdHRvbTogJy02cHgnLCBsZWZ0OiAnLTZweCcgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uKGhhbmRsZSA9PT0gJ3NlJyAmJiB7IGJvdHRvbTogJy02cHgnLCByaWdodDogJy02cHgnIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogRWRnZSBoYW5kbGVzICovfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtbJ24nLCAnZScsICdzJywgJ3cnXS5tYXAoaGFuZGxlID0+IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtoYW5kbGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJlc2l6ZS1oYW5kbGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRG93bj17KGUpID0+IGhhbmRsZUdyb3VwUmVzaXplU3RhcnQoZ3JvdXAuaWQsIGhhbmRsZSwgZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJyMzYjgyZjYnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCB3aGl0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBgJHtoYW5kbGUgPT09ICduJyB8fCBoYW5kbGUgPT09ICdzJyA/ICducycgOiAnZXcnfS1yZXNpemVgLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpJbmRleDogMTAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uKGhhbmRsZSA9PT0gJ24nICYmIHsgdG9wOiAnLTNweCcsIGxlZnQ6ICc1MCUnLCB0cmFuc2Zvcm06ICd0cmFuc2xhdGVYKC01MCUpJywgd2lkdGg6ICc0MHB4JywgaGVpZ2h0OiAnNnB4JywgYm9yZGVyUmFkaXVzOiAnM3B4JyB9KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi4oaGFuZGxlID09PSAncycgJiYgeyBib3R0b206ICctM3B4JywgbGVmdDogJzUwJScsIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVgoLTUwJSknLCB3aWR0aDogJzQwcHgnLCBoZWlnaHQ6ICc2cHgnLCBib3JkZXJSYWRpdXM6ICczcHgnIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLihoYW5kbGUgPT09ICdlJyAmJiB7IHJpZ2h0OiAnLTNweCcsIHRvcDogJzUwJScsIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVkoLTUwJSknLCB3aWR0aDogJzZweCcsIGhlaWdodDogJzQwcHgnLCBib3JkZXJSYWRpdXM6ICczcHgnIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLihoYW5kbGUgPT09ICd3JyAmJiB7IGxlZnQ6ICctM3B4JywgdG9wOiAnNTAlJywgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgtNTAlKScsIHdpZHRoOiAnNnB4JywgaGVpZ2h0OiAnNDBweCcsIGJvcmRlclJhZGl1czogJzNweCcgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8Lz5cclxuICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB7LyogUmVuZGVyIHRleHQgYW5ub3RhdGlvbnMgKi99XHJcbiAgICAgICAgICAgICAgICB7Y2FudmFzT2JqZWN0c1xyXG4gICAgICAgICAgICAgICAgICAuZmlsdGVyKG9iaiA9PiBvYmoudHlwZSA9PT0gJ3RleHQnKVxyXG4gICAgICAgICAgICAgICAgICAubWFwKHRleHQgPT4gKFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgIGtleT17dGV4dC5pZH1cclxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGNhbnZhcy10ZXh0ICR7c2VsZWN0ZWRPYmplY3QgPT09IHRleHQuaWQgPyAnc2VsZWN0ZWQnIDogJyd9YH1cclxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBgJHt0ZXh0LnBvc2l0aW9uLnh9cHhgLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3A6IGAke3RleHQucG9zaXRpb24ueX1weGAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBgJHt0ZXh0LmZvbnRTaXplfXB4YCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHRleHQuY29sb3IsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHpJbmRleDogdGV4dC56SW5kZXggfHwgMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBlZGl0aW5nVGV4dCA9PT0gdGV4dC5pZCA/ICd0ZXh0JyA6ICdtb3ZlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzRweCA4cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IHNlbGVjdGVkT2JqZWN0ID09PSB0ZXh0LmlkID8gJzJweCBkYXNoZWQgIzNiODJmNicgOiAnMnB4IGRhc2hlZCB0cmFuc3BhcmVudCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogc2VsZWN0ZWRPYmplY3QgPT09IHRleHQuaWQgPyAncmdiYSg1OSwgMTMwLCAyNDYsIDAuMDUpJyA6ICd0cmFuc3BhcmVudCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbldpZHRoOiAnMTAwcHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGl0ZVNwYWNlOiAncHJlLXdyYXAnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VEb3duPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWRpdGluZ1RleHQgIT09IHRleHQuaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVPYmplY3REcmFnU3RhcnQodGV4dC5pZCwgZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWRpdGluZ1RleHQgIT09IHRleHQuaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZE9iamVjdCh0ZXh0LmlkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgIG9uRG91YmxlQ2xpY2s9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEVkaXRpbmdUZXh0KHRleHQuaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZE9iamVjdCh0ZXh0LmlkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm9jdXMgdGhlIGNvbnRlbnRFZGl0YWJsZSBkaXZcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgdGV4dC1lZGl0LSR7dGV4dC5pZH1gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNb3ZlIGN1cnNvciB0byBlbmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbCA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyhlbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5jb2xsYXBzZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWw/LnJlbW92ZUFsbFJhbmdlcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsPy5hZGRSYW5nZShyYW5nZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAge2VkaXRpbmdUZXh0ID09PSB0ZXh0LmlkID8gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9e2B0ZXh0LWVkaXQtJHt0ZXh0LmlkfWB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudEVkaXRhYmxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25CbHVyPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3Q29udGVudCA9IGUuY3VycmVudFRhcmdldC50ZXh0Q29udGVudCB8fCAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdDb250ZW50LnRyaW0oKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVDYW52YXNPYmplY3QodGV4dC5pZCwgeyBjb250ZW50OiBuZXdDb250ZW50IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0RWRpdGluZ1RleHQobnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbktleURvd249eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicgJiYgIWUuc2hpZnRLZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdDb250ZW50ID0gZS5jdXJyZW50VGFyZ2V0LnRleHRDb250ZW50IHx8ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3Q29udGVudC50cmltKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVDYW52YXNPYmplY3QodGV4dC5pZCwgeyBjb250ZW50OiBuZXdDb250ZW50IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEVkaXRpbmdUZXh0KG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRFZGl0aW5nVGV4dChudWxsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7IC8vIFByZXZlbnQga2V5Ym9hcmQgc2hvcnRjdXRzIHdoaWxlIGVkaXRpbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRsaW5lOiAnbm9uZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5XaWR0aDogJzEwMHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaXRlU3BhY2U6ICdwcmUtd3JhcCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHt0ZXh0LmNvbnRlbnR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC5jb250ZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgICAge3NlbGVjdGVkT2JqZWN0ID09PSB0ZXh0LmlkICYmIGVkaXRpbmdUZXh0ICE9PSB0ZXh0LmlkICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlQ2FudmFzT2JqZWN0KHRleHQuaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAnLTEwcHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6ICctMTBweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAnI2VmNDQ0NCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJ25vbmUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNTAlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnMjBweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICcyMHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxMHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYXMgZmEtdGltZXNcIj48L2k+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIDxDb25uZWN0aW9uc0xheWVyIGNvbm5lY3Rpb25zPXtjb25uZWN0aW9uc30gbm9kZXM9e2NhbnZhc05vZGVzfSB0ZW1wQ29ubmVjdGlvbj17dGVtcENvbm5lY3Rpb259IG9uQ29ubmVjdGlvbkNsaWNrPXtoYW5kbGVDb25uZWN0aW9uQ2xpY2t9IC8+XHJcbiAgICAgICAgICAgICAgICA8Tm9kZXNMYXllciBcclxuICAgICAgICAgICAgICAgICAgbm9kZXM9e2NhbnZhc05vZGVzfSBcclxuICAgICAgICAgICAgICAgICAgbm9kZVN0YXRlcz17bm9kZVN0YXRlc30gXHJcbiAgICAgICAgICAgICAgICAgIG5vZGVFeGVjdXRpb25EYXRhPXtub2RlRXhlY3V0aW9uRGF0YX0gXHJcbiAgICAgICAgICAgICAgICAgIG9uTm9kZVNlbGVjdD17aGFuZGxlTm9kZVNlbGVjdH0gXHJcbiAgICAgICAgICAgICAgICAgIG9uTm9kZURlbGV0ZT17aGFuZGxlTm9kZURlbGV0ZX0gXHJcbiAgICAgICAgICAgICAgICAgIG9uTm9kZURyYWdTdGFydD17aGFuZGxlTm9kZURyYWdTdGFydH0gXHJcbiAgICAgICAgICAgICAgICAgIG9uUG9ydE1vdXNlRG93bj17aGFuZGxlUG9ydE1vdXNlRG93bn1cclxuICAgICAgICAgICAgICAgICAgb25Ob2RlQ29udGV4dE1lbnU9e2hhbmRsZU5vZGVDb250ZXh0TWVudX1cclxuICAgICAgICAgICAgICAgICAgc2VsZWN0ZWROb2Rlcz17c2VsZWN0ZWROb2Rlc31cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICB7LyogU2VsZWN0aW9uIGJveCB2aXN1YWxpemF0aW9uICovfVxyXG4gICAgICAgICAgICAgICAge3NlbGVjdGlvbkJveCAmJiAoXHJcbiAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBgJHtNYXRoLm1pbihzZWxlY3Rpb25Cb3guc3RhcnRYLCBzZWxlY3Rpb25Cb3guY3VycmVudFgpfXB4YCxcclxuICAgICAgICAgICAgICAgICAgICAgIHRvcDogYCR7TWF0aC5taW4oc2VsZWN0aW9uQm94LnN0YXJ0WSwgc2VsZWN0aW9uQm94LmN1cnJlbnRZKX1weGAsXHJcbiAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogYCR7TWF0aC5hYnMoc2VsZWN0aW9uQm94LmN1cnJlbnRYIC0gc2VsZWN0aW9uQm94LnN0YXJ0WCl9cHhgLFxyXG4gICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBgJHtNYXRoLmFicyhzZWxlY3Rpb25Cb3guY3VycmVudFkgLSBzZWxlY3Rpb25Cb3guc3RhcnRZKX1weGAsXHJcbiAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICcycHggZGFzaGVkIHZhcigtLXRoZW1lLXByaW1hcnkpJyxcclxuICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICdyZ2JhKDU5LCAxMzAsIDI0NiwgMC4xKScsXHJcbiAgICAgICAgICAgICAgICAgICAgICBwb2ludGVyRXZlbnRzOiAnbm9uZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IDEwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHsvKiBDb250ZXh0IG1lbnUgKi99XHJcbiAgICAgICAgICAgICAgICB7Y29udGV4dE1lbnUgJiYgKFxyXG4gICAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY29udGV4dC1tZW51XCJcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBgJHtjb250ZXh0TWVudS54fXB4YCxcclxuICAgICAgICAgICAgICAgICAgICAgIHRvcDogYCR7Y29udGV4dE1lbnUueX1weGAsXHJcbiAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAndmFyKC0tdGhlbWUtc3VyZmFjZSknLFxyXG4gICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkIHZhcigtLXRoZW1lLWJvcmRlciknLFxyXG4gICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnOHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgIGJveFNoYWRvdzogJzAgNHB4IDEycHggcmdiYSgwLCAwLCAwLCAwLjE1KScsXHJcbiAgICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IDIwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICBtaW5XaWR0aDogJzE4MHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICc0cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IGUuc3RvcFByb3BhZ2F0aW9uKCl9XHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVHcm91cChjb250ZXh0TWVudS54LCBjb250ZXh0TWVudS55KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q29udGV4dE1lbnUobnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHRleHQtbGVmdCBweC0zIHB5LTIgdGV4dC1zbSByb3VuZGVkIHRyYW5zaXRpb24tY29sb3JzIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCJcclxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dCknIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9eyhlKSA9PiBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZCA9ICd2YXIoLS10aGVtZS1zdXJmYWNlLWhvdmVyKSd9XHJcbiAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9eyhlKSA9PiBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZCA9ICd0cmFuc3BhcmVudCd9XHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmFzIGZhLW9iamVjdC1ncm91cCB3LTRcIj48L2k+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5BZGQgR3JvdXA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlVGV4dEFubm90YXRpb24oY29udGV4dE1lbnUueCwgY29udGV4dE1lbnUueSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldENvbnRleHRNZW51KG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCB0ZXh0LWxlZnQgcHgtMyBweS0yIHRleHQtc20gcm91bmRlZCB0cmFuc2l0aW9uLWNvbG9ycyBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQpJyB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSAndmFyKC0tdGhlbWUtc3VyZmFjZS1ob3ZlciknfVxyXG4gICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSAndHJhbnNwYXJlbnQnfVxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1mb250IHctNFwiPjwvaT5cclxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPkFkZCBUZXh0PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHsvKiBOb2RlIGNvbnRleHQgbWVudSAqL31cclxuICAgICAgICAgICAgICAgIHtub2RlQ29udGV4dE1lbnUgJiYgKFxyXG4gICAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY29udGV4dC1tZW51XCJcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBgJHtub2RlQ29udGV4dE1lbnUueH1weGAsXHJcbiAgICAgICAgICAgICAgICAgICAgICB0b3A6IGAke25vZGVDb250ZXh0TWVudS55fXB4YCxcclxuICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICd2YXIoLS10aGVtZS1zdXJmYWNlKScsXHJcbiAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgdmFyKC0tdGhlbWUtYm9yZGVyKScsXHJcbiAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc4cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgYm94U2hhZG93OiAnMCA0cHggMTJweCByZ2JhKDAsIDAsIDAsIDAuMTUpJyxcclxuICAgICAgICAgICAgICAgICAgICAgIHpJbmRleDogMjAwMCxcclxuICAgICAgICAgICAgICAgICAgICAgIG1pbldpZHRoOiAnMTgwcHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzRweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4gZS5zdG9wUHJvcGFnYXRpb24oKX1cclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZU5vZGVGbGlwKG5vZGVDb250ZXh0TWVudS5ub2RlSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXROb2RlQ29udGV4dE1lbnUobnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHRleHQtbGVmdCBweC0zIHB5LTIgdGV4dC1zbSByb3VuZGVkIHRyYW5zaXRpb24tY29sb3JzIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCJcclxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dCknIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9eyhlKSA9PiBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZCA9ICd2YXIoLS10aGVtZS1zdXJmYWNlLWhvdmVyKSd9XHJcbiAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9eyhlKSA9PiBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZCA9ICd0cmFuc3BhcmVudCd9XHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmFzIGZhLWxlZnQtcmlnaHQgdy00XCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4+RmxpcCBIb3Jpem9udGFsbHk8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlTm9kZURlbGV0ZShub2RlQ29udGV4dE1lbnUubm9kZUlkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Tm9kZUNvbnRleHRNZW51KG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCB0ZXh0LWxlZnQgcHgtMyBweS0yIHRleHQtc20gcm91bmRlZCB0cmFuc2l0aW9uLWNvbG9ycyBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBjb2xvcjogJyNlZjQ0NDQnIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9eyhlKSA9PiBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZCA9ICd2YXIoLS10aGVtZS1zdXJmYWNlLWhvdmVyKSd9XHJcbiAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9eyhlKSA9PiBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZCA9ICd0cmFuc3BhcmVudCd9XHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmFzIGZhLXRyYXNoIHctNFwiPjwvaT5cclxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPkRlbGV0ZTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgIDwvPixcclxuICAgICAgICAgICAgICBjYW52YXNQYW5ab29tLmNhbnZhc1JlZlxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHsvKiBNaW5pbWFwIC0gcG9zaXRpb25lZCBvdXRzaWRlIGNhbnZhcyB2aWV3cG9ydCwgb3ZlcmxhaWQgb24gdG9wICovfVxyXG4gICAgICAgICAgPGRpdiBcclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLTQgcmlnaHQtNCByb3VuZGVkIHNoYWRvdy1sZyBib3JkZXIgb3ZlcmZsb3ctaGlkZGVuXCJcclxuICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICB3aWR0aDogJzIwMHB4JyxcclxuICAgICAgICAgICAgICBoZWlnaHQ6ICcxNTBweCcsXHJcbiAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3ZhcigtLXRoZW1lLXN1cmZhY2UpJyxcclxuICAgICAgICAgICAgICBib3JkZXJDb2xvcjogJ3ZhcigtLXRoZW1lLWJvcmRlciknLFxyXG4gICAgICAgICAgICAgIHpJbmRleDogMzAsXHJcbiAgICAgICAgICAgICAgb3BhY2l0eTogc2hvd01pbmltYXAgPyAxIDogMCxcclxuICAgICAgICAgICAgICBwb2ludGVyRXZlbnRzOiBzaG93TWluaW1hcCA/ICdhdXRvJyA6ICdub25lJyxcclxuICAgICAgICAgICAgICB0cmFuc2l0aW9uOiAnb3BhY2l0eSAwLjVzIGVhc2UtaW4tb3V0JyxcclxuICAgICAgICAgICAgICBjdXJzb3I6IGlzRHJhZ2dpbmdNaW5pbWFwID8gJ2dyYWJiaW5nJyA6ICdncmFiJyxcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgb25Nb3VzZURvd249eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgaWYgKCF2aWV3cG9ydFJlZi5jdXJyZW50KSByZXR1cm47XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgLy8gU3RhcnQgZHJhZ2dpbmcgbWluaW1hcFxyXG4gICAgICAgICAgICAgIHNldElzRHJhZ2dpbmdNaW5pbWFwKHRydWUpO1xyXG4gICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIC8vIEltbWVkaWF0ZWx5IHVwZGF0ZSBwb3NpdGlvbiBvbiBtb3VzZWRvd25cclxuICAgICAgICAgICAgICBjb25zdCBtaW5pbWFwUmVjdCA9IGUuY3VycmVudFRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgICBjb25zdCBjbGlja1ggPSBlLmNsaWVudFggLSBtaW5pbWFwUmVjdC5sZWZ0O1xyXG4gICAgICAgICAgICAgIGNvbnN0IGNsaWNrWSA9IGUuY2xpZW50WSAtIG1pbmltYXBSZWN0LnRvcDtcclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICBjb25zdCBtaW5pbWFwU2NhbGUgPSAwLjA0O1xyXG4gICAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gY2FudmFzUGFuWm9vbS5zY2FsZSB8fCAxO1xyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIC8vIENvbnZlcnQgbWluaW1hcCBjb29yZGluYXRlcyB0byBjYW52YXMgY29vcmRpbmF0ZXNcclxuICAgICAgICAgICAgICBjb25zdCBjYW52YXNYID0gY2xpY2tYIC8gbWluaW1hcFNjYWxlO1xyXG4gICAgICAgICAgICAgIGNvbnN0IGNhbnZhc1kgPSBjbGlja1kgLyBtaW5pbWFwU2NhbGU7XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgLy8gQ2VudGVyIHRoZSB2aWV3cG9ydCBvbiB0aGUgY2xpY2tlZCBwb3NpdGlvblxyXG4gICAgICAgICAgICAgIGNvbnN0IHZpZXdwb3J0ID0gdmlld3BvcnRSZWYuY3VycmVudDtcclxuICAgICAgICAgICAgICBjb25zdCBzY3JvbGxYID0gKGNhbnZhc1ggKiBzY2FsZSkgLSAodmlld3BvcnQuY2xpZW50V2lkdGggLyAyKTtcclxuICAgICAgICAgICAgICBjb25zdCBzY3JvbGxZID0gKGNhbnZhc1kgKiBzY2FsZSkgLSAodmlld3BvcnQuY2xpZW50SGVpZ2h0IC8gMik7XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgdmlld3BvcnQuc2Nyb2xsVG8oe1xyXG4gICAgICAgICAgICAgICAgbGVmdDogc2Nyb2xsWCxcclxuICAgICAgICAgICAgICAgIHRvcDogc2Nyb2xsWSxcclxuICAgICAgICAgICAgICAgIGJlaGF2aW9yOiAnYXV0bydcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgb25Nb3VzZU1vdmU9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgaWYgKCFpc0RyYWdnaW5nTWluaW1hcCB8fCAhdmlld3BvcnRSZWYuY3VycmVudCkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIGNvbnN0IG1pbmltYXBSZWN0ID0gZS5jdXJyZW50VGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgICAgICAgIGNvbnN0IGNsaWNrWCA9IGUuY2xpZW50WCAtIG1pbmltYXBSZWN0LmxlZnQ7XHJcbiAgICAgICAgICAgICAgY29uc3QgY2xpY2tZID0gZS5jbGllbnRZIC0gbWluaW1hcFJlY3QudG9wO1xyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIGNvbnN0IG1pbmltYXBTY2FsZSA9IDAuMDQ7XHJcbiAgICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSBjYW52YXNQYW5ab29tLnNjYWxlIHx8IDE7XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgLy8gQ29udmVydCBtaW5pbWFwIGNvb3JkaW5hdGVzIHRvIGNhbnZhcyBjb29yZGluYXRlc1xyXG4gICAgICAgICAgICAgIGNvbnN0IGNhbnZhc1ggPSBjbGlja1ggLyBtaW5pbWFwU2NhbGU7XHJcbiAgICAgICAgICAgICAgY29uc3QgY2FudmFzWSA9IGNsaWNrWSAvIG1pbmltYXBTY2FsZTtcclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAvLyBDZW50ZXIgdGhlIHZpZXdwb3J0IG9uIHRoZSBkcmFnZ2VkIHBvc2l0aW9uXHJcbiAgICAgICAgICAgICAgY29uc3Qgdmlld3BvcnQgPSB2aWV3cG9ydFJlZi5jdXJyZW50O1xyXG4gICAgICAgICAgICAgIGNvbnN0IHNjcm9sbFggPSAoY2FudmFzWCAqIHNjYWxlKSAtICh2aWV3cG9ydC5jbGllbnRXaWR0aCAvIDIpO1xyXG4gICAgICAgICAgICAgIGNvbnN0IHNjcm9sbFkgPSAoY2FudmFzWSAqIHNjYWxlKSAtICh2aWV3cG9ydC5jbGllbnRIZWlnaHQgLyAyKTtcclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICB2aWV3cG9ydC5zY3JvbGxUbyh7XHJcbiAgICAgICAgICAgICAgICBsZWZ0OiBzY3JvbGxYLFxyXG4gICAgICAgICAgICAgICAgdG9wOiBzY3JvbGxZLFxyXG4gICAgICAgICAgICAgICAgYmVoYXZpb3I6ICdhdXRvJ1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICBvbk1vdXNlVXA9eygpID0+IHtcclxuICAgICAgICAgICAgICBzZXRJc0RyYWdnaW5nTWluaW1hcChmYWxzZSk7XHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17KCkgPT4ge1xyXG4gICAgICAgICAgICAgIHNldElzRHJhZ2dpbmdNaW5pbWFwKGZhbHNlKTtcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsIHJlbGF0aXZlXCIgc3R5bGU9e3sgYmFja2dyb3VuZDogJ3ZhcigtLXRoZW1lLWJhY2tncm91bmQpJyB9fT5cclxuICAgICAgICAgICAgICB7LyogTWluaW1hcCBub2RlcyAqL31cclxuICAgICAgICAgICAgICB7Y2FudmFzTm9kZXMubWFwKChub2RlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtaW5pbWFwU2NhbGUgPSAwLjA0O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeCA9IG5vZGUucG9zaXRpb24ueCAqIG1pbmltYXBTY2FsZTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHkgPSBub2RlLnBvc2l0aW9uLnkgKiBtaW5pbWFwU2NhbGU7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB3aWR0aCA9IDI0MCAqIG1pbmltYXBTY2FsZTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IDEwMCAqIG1pbmltYXBTY2FsZTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgIGtleT17bm9kZS5ub2RlX2lkfVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIHJvdW5kZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBgJHt4fXB4YCxcclxuICAgICAgICAgICAgICAgICAgICAgIHRvcDogYCR7eX1weGAsXHJcbiAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogYCR7d2lkdGh9cHhgLFxyXG4gICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBgJHtoZWlnaHR9cHhgLFxyXG4gICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogZ2V0Tm9kZUNhdGVnb3J5Q29sb3Iobm9kZS5jYXRlZ29yeSksXHJcbiAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLjgsXHJcbiAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgfSl9XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgey8qIFZpZXdwb3J0IGluZGljYXRvciAtIG1vdmVzIHdpdGggc2Nyb2xsICovfVxyXG4gICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIGJvcmRlci0yIHBvaW50ZXItZXZlbnRzLW5vbmVcIlxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6ICd2YXIoLS10aGVtZS1wcmltYXJ5KScsXHJcbiAgICAgICAgICAgICAgICAgIGxlZnQ6IGAke21pbmltYXBWaWV3cG9ydC54fXB4YCxcclxuICAgICAgICAgICAgICAgICAgdG9wOiBgJHttaW5pbWFwVmlld3BvcnQueX1weGAsXHJcbiAgICAgICAgICAgICAgICAgIHdpZHRoOiBgJHttaW5pbWFwVmlld3BvcnQud2lkdGh9cHhgLFxyXG4gICAgICAgICAgICAgICAgICBoZWlnaHQ6IGAke21pbmltYXBWaWV3cG9ydC5oZWlnaHR9cHhgLFxyXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDU5LCAxMzAsIDI0NiwgMC4xNSknLFxyXG4gICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiAnbm9uZScsIC8vIFJlbW92ZSB0cmFuc2l0aW9uIGZvciBpbnN0YW50IHVwZGF0ZXNcclxuICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICB7LyogQm90dG9tIExvZyBQYW5lbCAqL31cclxuICAgICAgICA8ZGl2IFxyXG4gICAgICAgICAgcmVmPXtsb2dQYW5lbFJlZn0gXHJcbiAgICAgICAgICBjbGFzc05hbWU9XCJib3JkZXItdCBmbGV4IGZsZXgtY29sIHNocmluay0wIHJlbGF0aXZlXCIgXHJcbiAgICAgICAgICBzdHlsZT17eyBcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogJ3ZhcigtLXRoZW1lLXN1cmZhY2UpJywgXHJcbiAgICAgICAgICAgIGJvcmRlckNvbG9yOiAndmFyKC0tdGhlbWUtYm9yZGVyKScsXHJcbiAgICAgICAgICAgIGhlaWdodDogaXNMb2dDb2xsYXBzZWQgPyBcIjMycHhcIiA6IGAke2xvZ0hlaWdodH1weGAsIFxyXG4gICAgICAgICAgICBtaW5IZWlnaHQ6IFwiMzJweFwiLCBcclxuICAgICAgICAgICAgbWF4SGVpZ2h0OiBcIjYwdmhcIiBcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgeyFpc0xvZ0NvbGxhcHNlZCAmJiAoXHJcbiAgICAgICAgICAgIDxkaXYgXHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaC0yIGN1cnNvci1ucy1yZXNpemUgdHJhbnNpdGlvbi1jb2xvcnMgYWJzb2x1dGUgLXRvcC0xIGxlZnQtMCByaWdodC0wIHotMTBcIiBcclxuICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3RyYW5zcGFyZW50J1xyXG4gICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSAndmFyKC0tdGhlbWUtcHJpbWFyeSknfVxyXG4gICAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17KGUpID0+IGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gJ3RyYW5zcGFyZW50J31cclxuICAgICAgICAgICAgICBvbk1vdXNlRG93bj17aGFuZGxlUmVzaXplU3RhcnR9IFxyXG4gICAgICAgICAgICAgIHRpdGxlPVwiRHJhZyB0byByZXNpemVcIiBcclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgICl9XHJcbiAgICAgICAgICA8ZGl2IFxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gcHgtMyBweS0xLjUgYm9yZGVyLWIgc2hyaW5rLTBcIlxyXG4gICAgICAgICAgICBzdHlsZT17eyBib3JkZXJDb2xvcjogJ3ZhcigtLXRoZW1lLWJvcmRlciknIH19XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cclxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZvbnQtc2VtaWJvbGRcIiBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQtc2Vjb25kYXJ5KScgfX0+V29ya2Zsb3cgTG9nPC9zcGFuPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgeyFpc0xvZ0NvbGxhcHNlZCAmJiAoXHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzXCIgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0LW11dGVkKScgfX0+RHJhZyB0b3AgZWRnZSB0byByZXNpemU8L3NwYW4+XHJcbiAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICA8YnV0dG9uIFxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0SXNMb2dDb2xsYXBzZWQoIWlzTG9nQ29sbGFwc2VkKX0gXHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJwLTEgcm91bmRlZCB0cmFuc2l0aW9uLWNvbG9ycyB0ZXh0LXhzXCIgXHJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQtc2Vjb25kYXJ5KScgfX1cclxuICAgICAgICAgICAgICAgIG9uTW91c2VFbnRlcj17KGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSAndmFyKC0tdGhlbWUtc3VyZmFjZS1ob3ZlciknO1xyXG4gICAgICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuY29sb3IgPSAndmFyKC0tdGhlbWUtdGV4dCknO1xyXG4gICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17KGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSAndHJhbnNwYXJlbnQnO1xyXG4gICAgICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuY29sb3IgPSAndmFyKC0tdGhlbWUtdGV4dC1zZWNvbmRhcnkpJztcclxuICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICB0aXRsZT17aXNMb2dDb2xsYXBzZWQgPyBcIkV4cGFuZCBsb2cgcGFuZWxcIiA6IFwiQ29sbGFwc2UgbG9nIHBhbmVsXCJ9XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAge2lzTG9nQ29sbGFwc2VkID8gXCLihpFcIiA6IFwi4oaTXCJ9XHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIHshaXNMb2dDb2xsYXBzZWQgJiYgKFxyXG4gICAgICAgICAgICA8ZGl2IFxyXG4gICAgICAgICAgICAgIHJlZj17bG9nQm9keVJlZn0gXHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC0xIHAtMyB0ZXh0LXhzIHNwYWNlLXktMSBjdXN0b20tc2Nyb2xsYmFyXCIgXHJcbiAgICAgICAgICAgICAgc3R5bGU9e3sgXHJcbiAgICAgICAgICAgICAgICBvdmVyZmxvd1k6IFwic2Nyb2xsXCIsIFxyXG4gICAgICAgICAgICAgICAgbWluSGVpZ2h0OiBcIjEwMHB4XCIsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQpJ1xyXG4gICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICB7bG9ncy5sZW5ndGggPT09IDAgPyAoXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LThcIiBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQtbXV0ZWQpJyB9fT5cclxuICAgICAgICAgICAgICAgICAgTm8gbG9ncyB5ZXQuIFJ1biBhIHdvcmtmbG93IHRvIHNlZSBleGVjdXRpb24gbG9ncy5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICBsb2dzLm1hcCgobG9nLCBpZHgpID0+IChcclxuICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2lkeH0gY2xhc3NOYW1lPVwid2hpdGVzcGFjZS1wcmUtd3JhcFwiPntsb2d9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICApKVxyXG4gICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICB7LyogQ29uZmlndXJhdGlvbiBQYW5lbCAtIFNsaWRlcyBpbiBmcm9tIHJpZ2h0ICovfVxyXG4gICAgICA8ZGl2IFxyXG4gICAgICAgIGNsYXNzTmFtZT17YGZpeGVkIHRvcC0xLzIgLXRyYW5zbGF0ZS15LTEvMiB0cmFuc2l0aW9uLXRyYW5zZm9ybSBkdXJhdGlvbi0zMDAgZWFzZS1pbi1vdXQgei00MCByb3VuZGVkLWwtbGcgb3ZlcmZsb3ctaGlkZGVuIHNoYWRvdy0yeGwgJHtcclxuICAgICAgICAgIGlzQ29uZmlnUGFuZWxPcGVuID8gJ3JpZ2h0LTUnIDogJy1yaWdodC05NidcclxuICAgICAgICB9YH1cclxuICAgICAgICBzdHlsZT17eyBoZWlnaHQ6ICc3MHZoJywgd2lkdGg6ICczODRweCcgfX1cclxuICAgICAgPlxyXG4gICAgICAgIDxDb25maWdQYW5lbFxyXG4gICAgICAgICAgc2VsZWN0ZWROb2RlPXtjYW52YXNOb2Rlcy5maW5kKG4gPT4gbi5ub2RlX2lkID09PSBzZWxlY3RlZE5vZGUpIHx8IG51bGx9XHJcbiAgICAgICAgICBub2RlRGVmaW5pdGlvbj17XHJcbiAgICAgICAgICAgIHNlbGVjdGVkTm9kZSAmJiBjYW52YXNOb2Rlcy5maW5kKGNuID0+IGNuLm5vZGVfaWQgPT09IHNlbGVjdGVkTm9kZSlcclxuICAgICAgICAgICAgICA/IG5vZGVEZWZpbml0aW9ucy5maW5kKG4gPT4ge1xyXG4gICAgICAgICAgICAgICAgICBjb25zdCBjYW52YXNOb2RlID0gY2FudmFzTm9kZXMuZmluZChjbiA9PiBjbi5ub2RlX2lkID09PSBzZWxlY3RlZE5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAvLyBUcnkgZXhhY3QgbWF0Y2ggZmlyc3QsIHRoZW4gdHJ5IHdpdGggdW5kZXJzY29yZXMgcmVwbGFjZWRcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIG4ubm9kZV90eXBlID09PSBjYW52YXNOb2RlPy5ub2RlX3R5cGUgfHwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBuLm5vZGVfdHlwZS5yZXBsYWNlKC9fL2csICcnKSA9PT0gY2FudmFzTm9kZT8ubm9kZV90eXBlLnJlcGxhY2UoL18vZywgJycpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICA6IG51bGxcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIG9uQ29uZmlnVXBkYXRlPXtoYW5kbGVDb25maWdVcGRhdGV9XHJcbiAgICAgICAgICBvbk5vZGVVcGRhdGU9e2hhbmRsZU5vZGVVcGRhdGV9XHJcbiAgICAgICAgICB3b3JrZmxvd05vZGVzPXtjYW52YXNOb2Rlc31cclxuICAgICAgICAgIHdvcmtmbG93Q29ubmVjdGlvbnM9e2Nvbm5lY3Rpb25zfVxyXG4gICAgICAgICAgbm9kZURlZmluaXRpb25zPXtub2RlRGVmaW5pdGlvbnN9XHJcbiAgICAgICAgICBub2RlRXhlY3V0aW9uRGF0YT17bm9kZUV4ZWN1dGlvbkRhdGF9XHJcbiAgICAgICAgICBvbkNsb3NlPXsoKSA9PiB7XHJcbiAgICAgICAgICAgIHNldElzQ29uZmlnUGFuZWxPcGVuKGZhbHNlKTtcclxuICAgICAgICAgICAgc2V0U2VsZWN0ZWROb2RlKG51bGwpO1xyXG4gICAgICAgICAgICBzZXRDYW52YXNOb2RlcyhwcmV2ID0+IHByZXYubWFwKG4gPT4gKHsgLi4ubiwgc2VsZWN0ZWQ6IGZhbHNlIH0pKSk7XHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgIC8+XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgey8qIFNhdmUgQXMgTW9kYWwgKi99XHJcbiAgICAgIHtzaG93U2F2ZUFzTW9kYWwgJiYgKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB6LTUwXCIgc3R5bGU9e3sgYmFja2dyb3VuZDogJ3JnYmEoMCwgMCwgMCwgMC41KScgfX0+XHJcbiAgICAgICAgICA8ZGl2IFxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLWxnIHNoYWRvdy14bCB3LWZ1bGwgbWF4LXctbWRcIlxyXG4gICAgICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kOiAndmFyKC0tdGhlbWUtc3VyZmFjZSknIH19XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxkaXYgXHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHAtNCBib3JkZXItYlwiXHJcbiAgICAgICAgICAgICAgc3R5bGU9e3sgYm9yZGVyQ29sb3I6ICd2YXIoLS10aGVtZS1ib3JkZXIpJyB9fVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZFwiIHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dCknIH19PlNhdmUgQXMgTmV3IFdvcmtmbG93PC9oMj5cclxuICAgICAgICAgICAgICA8YnV0dG9uIFxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd1NhdmVBc01vZGFsKGZhbHNlKX0gXHJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQtc2Vjb25kYXJ5KScgfX1cclxuICAgICAgICAgICAgICAgIG9uTW91c2VFbnRlcj17KGUpID0+IGUuY3VycmVudFRhcmdldC5zdHlsZS5jb2xvciA9ICd2YXIoLS10aGVtZS10ZXh0KSd9XHJcbiAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9eyhlKSA9PiBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuY29sb3IgPSAndmFyKC0tdGhlbWUtdGV4dC1zZWNvbmRhcnkpJ31cclxuICAgICAgICAgICAgICA+4pyVPC9idXR0b24+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBzcGFjZS15LTRcIj5cclxuICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gbWItMlwiIHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dCknIH19PlxyXG4gICAgICAgICAgICAgICAgICBXb3JrZmxvdyBOYW1lIDxzcGFuIHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tdGhlbWUtZGFuZ2VyKScgfX0+Kjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e3dvcmtmbG93TmFtZX1cclxuICAgICAgICAgICAgICAgICAgaWQ9XCJzYXZlQXNOYW1lXCJcclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTMgcHktMiBib3JkZXIgcm91bmRlZCB0ZXh0LXNtIGZvY3VzOm91dGxpbmUtbm9uZVwiXHJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3ZhcigtLXRoZW1lLXN1cmZhY2UtdmFyaWFudCknLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dCknLFxyXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiAndmFyKC0tdGhlbWUtYm9yZGVyKScsXHJcbiAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgIG9uRm9jdXM9eyhlKSA9PiBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYm9yZGVyQ29sb3IgPSAndmFyKC0tdGhlbWUtcHJpbWFyeSknfVxyXG4gICAgICAgICAgICAgICAgICBvbkJsdXI9eyhlKSA9PiBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYm9yZGVyQ29sb3IgPSAndmFyKC0tdGhlbWUtYm9yZGVyKSd9XHJcbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRW50ZXIgd29ya2Zsb3cgbmFtZVwiXHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSBtYi0yXCIgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0KScgfX0+XHJcbiAgICAgICAgICAgICAgICAgIERlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgPHRleHRhcmVhXHJcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17d29ya2Zsb3dEZXNjcmlwdGlvbn1cclxuICAgICAgICAgICAgICAgICAgaWQ9XCJzYXZlQXNEZXNjcmlwdGlvblwiXHJcbiAgICAgICAgICAgICAgICAgIHJvd3M9ezN9XHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0zIHB5LTIgYm9yZGVyIHJvdW5kZWQgdGV4dC1zbSByZXNpemUteSBmb2N1czpvdXRsaW5lLW5vbmVcIlxyXG4gICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICd2YXIoLS10aGVtZS1zdXJmYWNlLXZhcmlhbnQpJyxcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQpJyxcclxuICAgICAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogJ3ZhcigtLXRoZW1lLWJvcmRlciknLFxyXG4gICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICBvbkZvY3VzPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJvcmRlckNvbG9yID0gJ3ZhcigtLXRoZW1lLXByaW1hcnkpJ31cclxuICAgICAgICAgICAgICAgICAgb25CbHVyPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJvcmRlckNvbG9yID0gJ3ZhcigtLXRoZW1lLWJvcmRlciknfVxyXG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVudGVyIHdvcmtmbG93IGRlc2NyaXB0aW9uXCJcclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IFxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktZW5kIGdhcC0yIHAtNCBib3JkZXItdFwiXHJcbiAgICAgICAgICAgICAgc3R5bGU9e3sgYm9yZGVyQ29sb3I6ICd2YXIoLS10aGVtZS1ib3JkZXIpJyB9fVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiBcclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dTYXZlQXNNb2RhbChmYWxzZSl9IFxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yIHJvdW5kZWRcIlxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3ZhcigtLXRoZW1lLXN1cmZhY2UtdmFyaWFudCknLFxyXG4gICAgICAgICAgICAgICAgICBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQpJyxcclxuICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9eyhlKSA9PiBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZCA9ICd2YXIoLS10aGVtZS1zdXJmYWNlLWhvdmVyKSd9XHJcbiAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9eyhlKSA9PiBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZCA9ICd2YXIoLS10aGVtZS1zdXJmYWNlLXZhcmlhbnQpJ31cclxuICAgICAgICAgICAgICA+Q2FuY2VsPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiBcclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcclxuICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NhdmVBc05hbWUnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgICBjb25zdCBkZXNjSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2F2ZUFzRGVzY3JpcHRpb24nKSBhcyBIVE1MVGV4dEFyZWFFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgICBpZiAobmFtZUlucHV0ICYmIG5hbWVJbnB1dC52YWx1ZS50cmltKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25maXJtU2F2ZUFzKG5hbWVJbnB1dC52YWx1ZS50cmltKCksIGRlc2NJbnB1dD8udmFsdWUgfHwgJycpO1xyXG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdQbGVhc2UgZW50ZXIgYSB3b3JrZmxvdyBuYW1lJyk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgdGV4dC13aGl0ZSByb3VuZGVkXCJcclxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IGJhY2tncm91bmQ6ICd2YXIoLS10aGVtZS1zdWNjZXNzKScgfX1cclxuICAgICAgICAgICAgICAgIG9uTW91c2VFbnRlcj17KGUpID0+IGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gJ3ZhcigtLXRoZW1lLXN1Y2Nlc3MtaG92ZXIpJ31cclxuICAgICAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17KGUpID0+IGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gJ3ZhcigtLXRoZW1lLXN1Y2Nlc3MpJ31cclxuICAgICAgICAgICAgICA+U2F2ZTwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApfVxyXG5cclxuICAgICAgey8qIFNhdmUgT3B0aW9ucyBNb2RhbCAqL31cclxuICAgICAge3Nob3dTYXZlT3B0aW9uc01vZGFsICYmIChcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgei01MFwiIHN0eWxlPXt7IGJhY2tncm91bmQ6ICdyZ2JhKDAsIDAsIDAsIDAuNSknIH19IG9uQ2xpY2s9eygpID0+IHNldFNob3dTYXZlT3B0aW9uc01vZGFsKGZhbHNlKX0+XHJcbiAgICAgICAgICA8ZGl2IFxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLWxnIHNoYWRvdy14bCB3LWZ1bGwgbWF4LXctc21cIlxyXG4gICAgICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kOiAndmFyKC0tdGhlbWUtc3VyZmFjZSknIH19XHJcbiAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpfVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8ZGl2IFxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBwLTQgYm9yZGVyLWJcIlxyXG4gICAgICAgICAgICAgIHN0eWxlPXt7IGJvcmRlckNvbG9yOiAndmFyKC0tdGhlbWUtYm9yZGVyKScgfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGRcIiBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQpJyB9fT5cclxuICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1zYXZlIG1yLTJcIj48L2k+XHJcbiAgICAgICAgICAgICAgICBTYXZlIFdvcmtmbG93XHJcbiAgICAgICAgICAgICAgPC9oMj5cclxuICAgICAgICAgICAgICA8YnV0dG9uIFxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd1NhdmVPcHRpb25zTW9kYWwoZmFsc2UpfSBcclxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dC1zZWNvbmRhcnkpJyB9fVxyXG4gICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmNvbG9yID0gJ3ZhcigtLXRoZW1lLXRleHQpJ31cclxuICAgICAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17KGUpID0+IGUuY3VycmVudFRhcmdldC5zdHlsZS5jb2xvciA9ICd2YXIoLS10aGVtZS10ZXh0LXNlY29uZGFyeSknfVxyXG4gICAgICAgICAgICAgID7inJU8L2J1dHRvbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC0yXCI+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBzZXRTaG93U2F2ZU9wdGlvbnNNb2RhbChmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgIGhhbmRsZVNhdmVBcygpO1xyXG4gICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCB0ZXh0LWxlZnQgcHgtNCBweS0zIHRleHQtc20gcm91bmRlZCB0cmFuc2l0aW9uLWNvbG9ycyBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiXHJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQpJyB9fVxyXG4gICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSAndmFyKC0tdGhlbWUtc3VyZmFjZS1ob3ZlciknfVxyXG4gICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSAndHJhbnNwYXJlbnQnfVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1lZGl0IHctNVwiPjwvaT5cclxuICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj5TYXZlIEFzLi4uPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14c1wiIHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dC1tdXRlZCknIH19PlNhdmUgd2l0aCBhIG5ldyBuYW1lPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIHNldFNob3dTYXZlT3B0aW9uc01vZGFsKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgaGFuZGxlU2F2ZUNvcHkoKTtcclxuICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgdGV4dC1sZWZ0IHB4LTQgcHktMyB0ZXh0LXNtIHJvdW5kZWQgdHJhbnNpdGlvbi1jb2xvcnMgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIlxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0KScgfX1cclxuICAgICAgICAgICAgICAgIG9uTW91c2VFbnRlcj17KGUpID0+IGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gJ3ZhcigtLXRoZW1lLXN1cmZhY2UtaG92ZXIpJ31cclxuICAgICAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17KGUpID0+IGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gJ3RyYW5zcGFyZW50J31cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYXMgZmEtY29weSB3LTVcIj48L2k+XHJcbiAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+U2F2ZSBhIENvcHk8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzXCIgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0LW11dGVkKScgfX0+Q3JlYXRlIGEgZHVwbGljYXRlIHdpdGggYXV0by1uYW1pbmc8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyLXQgbXktMlwiIHN0eWxlPXt7IGJvcmRlckNvbG9yOiAndmFyKC0tdGhlbWUtYm9yZGVyKScgfX0gLz5cclxuICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIHNldFNob3dTYXZlT3B0aW9uc01vZGFsKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgaGFuZGxlRG93bmxvYWRKU09OKCk7XHJcbiAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHRleHQtbGVmdCBweC00IHB5LTMgdGV4dC1zbSByb3VuZGVkIHRyYW5zaXRpb24tY29sb3JzIGZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCJcclxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dCknIH19XHJcbiAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9eyhlKSA9PiBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZCA9ICd2YXIoLS10aGVtZS1zdXJmYWNlLWhvdmVyKSd9XHJcbiAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9eyhlKSA9PiBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZCA9ICd0cmFuc3BhcmVudCd9XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmFzIGZhLWRvd25sb2FkIHctNVwiPjwvaT5cclxuICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj5Eb3dubG9hZCBKU09OPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14c1wiIHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dC1tdXRlZCknIH19PkV4cG9ydCB3b3JrZmxvdyB0byBmaWxlPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKX1cclxuXHJcbiAgICAgIHsvKiBMb2FkIE9wdGlvbnMgTW9kYWwgKi99XHJcbiAgICAgIHtzaG93TG9hZE9wdGlvbnNNb2RhbCAmJiAoXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHotNTBcIiBzdHlsZT17eyBiYWNrZ3JvdW5kOiAncmdiYSgwLCAwLCAwLCAwLjUpJyB9fSBvbkNsaWNrPXsoKSA9PiBzZXRTaG93TG9hZE9wdGlvbnNNb2RhbChmYWxzZSl9PlxyXG4gICAgICAgICAgPGRpdiBcclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC1sZyBzaGFkb3cteGwgdy1mdWxsIG1heC13LXNtXCJcclxuICAgICAgICAgICAgc3R5bGU9e3sgYmFja2dyb3VuZDogJ3ZhcigtLXRoZW1lLXN1cmZhY2UpJyB9fVxyXG4gICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4gZS5zdG9wUHJvcGFnYXRpb24oKX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPGRpdiBcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gcC00IGJvcmRlci1iXCJcclxuICAgICAgICAgICAgICBzdHlsZT17eyBib3JkZXJDb2xvcjogJ3ZhcigtLXRoZW1lLWJvcmRlciknIH19XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkXCIgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0KScgfX0+XHJcbiAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYXMgZmEtZm9sZGVyLW9wZW4gbXItMlwiPjwvaT5cclxuICAgICAgICAgICAgICAgIExvYWQgV29ya2Zsb3dcclxuICAgICAgICAgICAgICA8L2gyPlxyXG4gICAgICAgICAgICAgIDxidXR0b24gXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93TG9hZE9wdGlvbnNNb2RhbChmYWxzZSl9IFxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0LXNlY29uZGFyeSknIH19XHJcbiAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9eyhlKSA9PiBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuY29sb3IgPSAndmFyKC0tdGhlbWUtdGV4dCknfVxyXG4gICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmNvbG9yID0gJ3ZhcigtLXRoZW1lLXRleHQtc2Vjb25kYXJ5KSd9XHJcbiAgICAgICAgICAgICAgPuKclTwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTJcIj5cclxuICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIHNldFNob3dMb2FkT3B0aW9uc01vZGFsKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgaGFuZGxlTG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCB0ZXh0LWxlZnQgcHgtNCBweS0zIHRleHQtc20gcm91bmRlZCB0cmFuc2l0aW9uLWNvbG9ycyBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiXHJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQpJyB9fVxyXG4gICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSAndmFyKC0tdGhlbWUtc3VyZmFjZS1ob3ZlciknfVxyXG4gICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSAndHJhbnNwYXJlbnQnfVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1kYXRhYmFzZSB3LTVcIj48L2k+XHJcbiAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+RnJvbSBEYXRhYmFzZTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHNcIiBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQtbXV0ZWQpJyB9fT5Mb2FkIGZyb20gc2F2ZWQgd29ya2Zsb3dzPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIHNldFNob3dMb2FkT3B0aW9uc01vZGFsKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgc2V0U2hvd0xvYWRGcm9tRmlsZU1vZGFsKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCB0ZXh0LWxlZnQgcHgtNCBweS0zIHRleHQtc20gcm91bmRlZCB0cmFuc2l0aW9uLWNvbG9ycyBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiXHJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQpJyB9fVxyXG4gICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSAndmFyKC0tdGhlbWUtc3VyZmFjZS1ob3ZlciknfVxyXG4gICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSAndHJhbnNwYXJlbnQnfVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1maWxlLXVwbG9hZCB3LTVcIj48L2k+XHJcbiAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+RnJvbSBGaWxlPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14c1wiIHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dC1tdXRlZCknIH19PkltcG9ydCBKU09OIHdvcmtmbG93IGZpbGU8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApfVxyXG5cclxuICAgICAgey8qIExvYWQgZnJvbSBGaWxlIE1vZGFsICovfVxyXG4gICAgICB7c2hvd0xvYWRGcm9tRmlsZU1vZGFsICYmIChcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgei01MFwiIHN0eWxlPXt7IGJhY2tncm91bmQ6ICdyZ2JhKDAsIDAsIDAsIDAuNSknIH19PlxyXG4gICAgICAgICAgPGRpdiBcclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC1sZyBzaGFkb3cteGwgdy1mdWxsIG1heC13LW1kXCJcclxuICAgICAgICAgICAgc3R5bGU9e3sgYmFja2dyb3VuZDogJ3ZhcigtLXRoZW1lLXN1cmZhY2UpJyB9fVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8ZGl2IFxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBwLTQgYm9yZGVyLWJcIlxyXG4gICAgICAgICAgICAgIHN0eWxlPXt7IGJvcmRlckNvbG9yOiAndmFyKC0tdGhlbWUtYm9yZGVyKScgfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGRcIiBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQpJyB9fT5Mb2FkIFdvcmtmbG93IGZyb20gRmlsZTwvaDI+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiBcclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dMb2FkRnJvbUZpbGVNb2RhbChmYWxzZSl9IFxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0LXNlY29uZGFyeSknIH19XHJcbiAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9eyhlKSA9PiBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuY29sb3IgPSAndmFyKC0tdGhlbWUtdGV4dCknfVxyXG4gICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmNvbG9yID0gJ3ZhcigtLXRoZW1lLXRleHQtc2Vjb25kYXJ5KSd9XHJcbiAgICAgICAgICAgICAgPuKclTwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTRcIj5cclxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIG1iLTRcIiBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQtc2Vjb25kYXJ5KScgfX0+XHJcbiAgICAgICAgICAgICAgICBTZWxlY3QgYSBKU09OIHdvcmtmbG93IGZpbGUgdG8gbG9hZFxyXG4gICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgIHR5cGU9XCJmaWxlXCJcclxuICAgICAgICAgICAgICAgIGFjY2VwdD1cIi5qc29uLGFwcGxpY2F0aW9uL2pzb25cIlxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUxvYWRGcm9tRmlsZX1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0zIHB5LTIgYm9yZGVyIHJvdW5kZWQgdGV4dC1zbVwiXHJcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAndmFyKC0tdGhlbWUtc3VyZmFjZS12YXJpYW50KScsXHJcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dCknLFxyXG4gICAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogJ3ZhcigtLXRoZW1lLWJvcmRlciknLFxyXG4gICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWVuZCBnYXAtMiBwLTQgYm9yZGVyLXRcIlxyXG4gICAgICAgICAgICAgIHN0eWxlPXt7IGJvcmRlckNvbG9yOiAndmFyKC0tdGhlbWUtYm9yZGVyKScgfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxidXR0b24gXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93TG9hZEZyb21GaWxlTW9kYWwoZmFsc2UpfSBcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiByb3VuZGVkXCJcclxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICd2YXIoLS10aGVtZS1zdXJmYWNlLXZhcmlhbnQpJyxcclxuICAgICAgICAgICAgICAgICAgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0KScsXHJcbiAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSAndmFyKC0tdGhlbWUtc3VyZmFjZS1ob3ZlciknfVxyXG4gICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSAndmFyKC0tdGhlbWUtc3VyZmFjZS12YXJpYW50KSd9XHJcbiAgICAgICAgICAgICAgPkNsb3NlPC9idXR0b24+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICl9XHJcblxyXG4gICAgICB7LyogTG9hZCBXb3JrZmxvdyBNb2RhbCAqL31cclxuICAgICAge3Nob3dMb2FkTW9kYWwgJiYgKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB6LTUwXCIgc3R5bGU9e3sgYmFja2dyb3VuZDogJ3JnYmEoMCwgMCwgMCwgMC41KScgfX0+XHJcbiAgICAgICAgICA8ZGl2IFxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLWxnIHNoYWRvdy14bCB3LWZ1bGwgbWF4LXctMnhsIG1heC1oLVs4MHZoXSBmbGV4IGZsZXgtY29sXCJcclxuICAgICAgICAgICAgc3R5bGU9e3sgYmFja2dyb3VuZDogJ3ZhcigtLXRoZW1lLXN1cmZhY2UpJyB9fVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8ZGl2IFxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBwLTQgYm9yZGVyLWJcIlxyXG4gICAgICAgICAgICAgIHN0eWxlPXt7IGJvcmRlckNvbG9yOiAndmFyKC0tdGhlbWUtYm9yZGVyKScgfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGRcIiBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQpJyB9fT5Mb2FkIFdvcmtmbG93PC9oMj5cclxuICAgICAgICAgICAgICA8YnV0dG9uIFxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd0xvYWRNb2RhbChmYWxzZSl9IFxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0LXNlY29uZGFyeSknIH19XHJcbiAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9eyhlKSA9PiBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuY29sb3IgPSAndmFyKC0tdGhlbWUtdGV4dCknfVxyXG4gICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmNvbG9yID0gJ3ZhcigtLXRoZW1lLXRleHQtc2Vjb25kYXJ5KSd9XHJcbiAgICAgICAgICAgICAgPuKclTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgb3ZlcmZsb3cteS1hdXRvIHAtNFwiPlxyXG4gICAgICAgICAgICAgIHthdmFpbGFibGVXb3JrZmxvd3MubGVuZ3RoID09PSAwID8gKFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBweS04XCIgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0LW11dGVkKScgfX0+Tm8gd29ya2Zsb3dzIHNhdmVkIHlldC48L2Rpdj5cclxuICAgICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cclxuICAgICAgICAgICAgICAgICAge2F2YWlsYWJsZVdvcmtmbG93cy5tYXAoKHdvcmtmbG93KSA9PiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBcclxuICAgICAgICAgICAgICAgICAgICAgIGtleT17d29ya2Zsb3cuaWR9IFxyXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gbG9hZFdvcmtmbG93QnlJZCh3b3JrZmxvdy5pZCl9IFxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicC0zIHJvdW5kZWQgY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbi1jb2xvcnNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgYmFja2dyb3VuZDogJ3ZhcigtLXRoZW1lLXN1cmZhY2UtdmFyaWFudCknIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9eyhlKSA9PiBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZCA9ICd2YXIoLS10aGVtZS1zdXJmYWNlLWhvdmVyKSd9XHJcbiAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9eyhlKSA9PiBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZCA9ICd2YXIoLS10aGVtZS1zdXJmYWNlLXZhcmlhbnQpJ31cclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIiBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQpJyB9fT57d29ya2Zsb3cubmFtZX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHNcIiBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQtbXV0ZWQpJyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt3b3JrZmxvdy5ub2RlX2NvdW50IHx8IDB9IG5vZGVzIOKAoiBVcGRhdGVkIHtuZXcgRGF0ZSh3b3JrZmxvdy51cGRhdGVkX2F0KS50b0xvY2FsZURhdGVTdHJpbmcoKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMyBweS0xIHRleHQtd2hpdGUgcm91bmRlZCB0ZXh0LXNtXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kOiAndmFyKC0tdGhlbWUtcHJpbWFyeSknIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSAndmFyKC0tdGhlbWUtcHJpbWFyeS1ob3ZlciknfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17KGUpID0+IGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gJ3ZhcigtLXRoZW1lLXByaW1hcnkpJ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgPkxvYWQ8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICApKX1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWVuZCBnYXAtMiBwLTQgYm9yZGVyLXRcIlxyXG4gICAgICAgICAgICAgIHN0eWxlPXt7IGJvcmRlckNvbG9yOiAndmFyKC0tdGhlbWUtYm9yZGVyKScgfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxidXR0b24gXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93TG9hZE1vZGFsKGZhbHNlKX0gXHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgcm91bmRlZFwiXHJcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAndmFyKC0tdGhlbWUtc3VyZmFjZS12YXJpYW50KScsXHJcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dCknLFxyXG4gICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgIG9uTW91c2VFbnRlcj17KGUpID0+IGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gJ3ZhcigtLXRoZW1lLXN1cmZhY2UtaG92ZXIpJ31cclxuICAgICAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17KGUpID0+IGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gJ3ZhcigtLXRoZW1lLXN1cmZhY2UtdmFyaWFudCknfVxyXG4gICAgICAgICAgICAgID5DYW5jZWw8L2J1dHRvbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKX1cclxuXHJcbiAgICAgIHsvKiBSZXRyeSBXYXJuaW5nIE1vZGFsICovfVxyXG4gICAgICB7ZXhlY3V0aW9uLnNob3dSZXRyeVdhcm5pbmcgJiYgKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB6LTUwXCIgc3R5bGU9e3sgYmFja2dyb3VuZDogJ3JnYmEoMCwgMCwgMCwgMC41KScgfX0+XHJcbiAgICAgICAgICA8ZGl2IFxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLWxnIHNoYWRvdy14bCB3LWZ1bGwgbWF4LXctbGdcIlxyXG4gICAgICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kOiAndmFyKC0tdGhlbWUtc3VyZmFjZSknIH19XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxkaXYgXHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHAtNCBib3JkZXItYlwiXHJcbiAgICAgICAgICAgICAgc3R5bGU9e3sgYm9yZGVyQ29sb3I6ICd2YXIoLS10aGVtZS1ib3JkZXIpJyB9fVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiIHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tdGhlbWUtd2FybmluZyknIH19PlxyXG4gICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmFzIGZhLWV4Y2xhbWF0aW9uLXRyaWFuZ2xlXCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgV29ya2Zsb3cgU3RydWN0dXJlIENoYW5nZWRcclxuICAgICAgICAgICAgICA8L2gyPlxyXG4gICAgICAgICAgICAgIDxidXR0b24gXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtleGVjdXRpb24uaGFuZGxlUmV0cnlDYW5jZWx9XHJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQtc2Vjb25kYXJ5KScgfX1cclxuICAgICAgICAgICAgICAgIG9uTW91c2VFbnRlcj17KGUpID0+IGUuY3VycmVudFRhcmdldC5zdHlsZS5jb2xvciA9ICd2YXIoLS10aGVtZS10ZXh0KSd9XHJcbiAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9eyhlKSA9PiBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuY29sb3IgPSAndmFyKC0tdGhlbWUtdGV4dC1zZWNvbmRhcnkpJ31cclxuICAgICAgICAgICAgICA+4pyVPC9idXR0b24+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBzcGFjZS15LTRcIj5cclxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtXCIgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0LXNlY29uZGFyeSknIH19PlxyXG4gICAgICAgICAgICAgICAgVGhlIHdvcmtmbG93IGhhcyBiZWVuIG1vZGlmaWVkIHNpbmNlIHRoZSBsYXN0IGV4ZWN1dGlvbi4gUmV0cnlpbmcgbWF5IHByb2R1Y2UgdW5leHBlY3RlZCByZXN1bHRzLlxyXG4gICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICB7LyogTGlzdCBvZiB3YXJuaW5ncyAqL31cclxuICAgICAgICAgICAgICA8ZGl2IFxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBwLTMgc3BhY2UteS0yIG1heC1oLTQ4IG92ZXJmbG93LXktYXV0b1wiXHJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kOiAndmFyKC0tdGhlbWUtc3VyZmFjZS12YXJpYW50KScgfX1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICB7ZXhlY3V0aW9uLnJldHJ5V2FybmluZ3MubWFwKCh3YXJuaW5nLCBpZHgpID0+IChcclxuICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2lkeH0gY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBnYXAtMiB0ZXh0LXNtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmFzIGZhLWluZm8tY2lyY2xlIG10LTAuNVwiIHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tdGhlbWUtd2FybmluZyknIH19PjwvaT5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQpJyB9fT57d2FybmluZ308L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgIDxkaXYgXHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIHAtMyB0ZXh0LXNtXCJcclxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IGJhY2tncm91bmQ6ICd2YXIoLS10aGVtZS1pbmZvLWJnKScsIGNvbG9yOiAndmFyKC0tdGhlbWUtaW5mbyknIH19XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPHN0cm9uZz5UaXA6PC9zdHJvbmc+IElmIHlvdSd2ZSBmaXhlZCB0aGUgZmFpbGluZyBub2RlLCB5b3UgY2FuIHNhZmVseSByZXRyeS4gXHJcbiAgICAgICAgICAgICAgICBVc2UgXCJSZXN0YXJ0XCIgdG8gcnVuIHRoZSBlbnRpcmUgd29ya2Zsb3cgZnJvbSBzY3JhdGNoLlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWVuZCBnYXAtMiBwLTQgYm9yZGVyLXRcIlxyXG4gICAgICAgICAgICAgIHN0eWxlPXt7IGJvcmRlckNvbG9yOiAndmFyKC0tdGhlbWUtYm9yZGVyKScgfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxidXR0b24gXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtleGVjdXRpb24uaGFuZGxlUmV0cnlDYW5jZWx9XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgcm91bmRlZCB0ZXh0LXNtXCJcclxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICd2YXIoLS10aGVtZS1zdXJmYWNlLXZhcmlhbnQpJyxcclxuICAgICAgICAgICAgICAgICAgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0KScsXHJcbiAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSAndmFyKC0tdGhlbWUtc3VyZmFjZS1ob3ZlciknfVxyXG4gICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSAndmFyKC0tdGhlbWUtc3VyZmFjZS12YXJpYW50KSd9XHJcbiAgICAgICAgICAgICAgPkNhbmNlbDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgIDxidXR0b24gXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXthc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGlmIChpc0RpcnR5KSBhd2FpdCBoYW5kbGVTYXZlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICBleGVjdXRpb24uaGFuZGxlUmVzdGFydCgpO1xyXG4gICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiByb3VuZGVkIHRleHQtc20gYm9yZGVyXCJcclxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICd2YXIoLS10aGVtZS1zdXJmYWNlKScsXHJcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dCknLFxyXG4gICAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogJ3ZhcigtLXRoZW1lLWJvcmRlciknLFxyXG4gICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgIG9uTW91c2VFbnRlcj17KGUpID0+IGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gJ3ZhcigtLXRoZW1lLXN1cmZhY2UtaG92ZXIpJ31cclxuICAgICAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17KGUpID0+IGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gJ3ZhcigtLXRoZW1lLXN1cmZhY2UpJ31cclxuICAgICAgICAgICAgICA+UmVzdGFydCBJbnN0ZWFkPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiBcclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2V4ZWN1dGlvbi5oYW5kbGVSZXRyeUZvcmNlfVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yIHRleHQtd2hpdGUgcm91bmRlZCB0ZXh0LXNtIGZvbnQtbWVkaXVtXCJcclxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IGJhY2tncm91bmQ6ICd2YXIoLS10aGVtZS13YXJuaW5nKScgfX1cclxuICAgICAgICAgICAgICAgIG9uTW91c2VFbnRlcj17KGUpID0+IGUuY3VycmVudFRhcmdldC5zdHlsZS5vcGFjaXR5ID0gJzAuOSd9XHJcbiAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9eyhlKSA9PiBlLmN1cnJlbnRUYXJnZXQuc3R5bGUub3BhY2l0eSA9ICcxJ31cclxuICAgICAgICAgICAgICA+UmV0cnkgQW55d2F5PC9idXR0b24+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICl9XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBXb3JrZmxvd0VkaXRvcigpIHtcclxuICByZXR1cm4gKFxyXG4gICAgPFN1c3BlbnNlIGZhbGxiYWNrPXs8ZGl2PkxvYWRpbmcgd29ya2Zsb3cgZWRpdG9yLi4uPC9kaXY+fT5cclxuICAgICAgPFdvcmtmbG93RWRpdG9ySW5uZXIgLz5cclxuICAgIDwvU3VzcGVuc2U+XHJcbiAgKTtcclxufVxyXG5cclxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVN0YXRlIiwiU3VzcGVuc2UiLCJ1c2VTZWFyY2hQYXJhbXMiLCJ1c2VSb3V0ZXIiLCJjcmVhdGVQb3J0YWwiLCJjcmVhdGVXb3JrZmxvdyIsInVwZGF0ZVdvcmtmbG93IiwiZ2V0V29ya2Zsb3ciLCJsaXN0V29ya2Zsb3dzIiwiZmV0Y2hOb2RlRGVmaW5pdGlvbnMiLCJOb2Rlc0xheWVyIiwiQ29ubmVjdGlvbnNMYXllciIsIkNvbmZpZ1BhbmVsIiwidXNlQ2FudmFzUGFuWm9vbSIsInVzZVdvcmtmbG93RXhlY3V0aW9uIiwidXNlR3JpZFNldHRpbmdzIiwidXNlVW5kb2FibGVTdGF0ZSIsImdyb3VwTm9kZXNCeUNhdGVnb3J5IiwiZ2V0Tm9kZUljb24iLCJnZXREdW1teUNhdGVnb3JpZXMiLCJXb3JrZmxvd0VkaXRvcklubmVyIiwidmlld3BvcnRSZWYiLCJsb2dCb2R5UmVmIiwibG9nUGFuZWxSZWYiLCJzZWFyY2hQYXJhbXMiLCJyb3V0ZXIiLCJpc1NpZGViYXJDb2xsYXBzZWQiLCJzZXRJc1NpZGViYXJDb2xsYXBzZWQiLCJpc0NvbmZpZ1BhbmVsT3BlbiIsInNldElzQ29uZmlnUGFuZWxPcGVuIiwiaXNMb2dDb2xsYXBzZWQiLCJzZXRJc0xvZ0NvbGxhcHNlZCIsImxvZ0hlaWdodCIsInNldExvZ0hlaWdodCIsInNlYXJjaFRlcm0iLCJzZXRTZWFyY2hUZXJtIiwiaXNSZXNpemluZyIsInNldElzUmVzaXppbmciLCJsb2dzIiwic2V0TG9ncyIsImNvbGxhcHNlZENhdGVnb3JpZXMiLCJzZXRDb2xsYXBzZWRDYXRlZ29yaWVzIiwiU2V0Iiwibm9ybUNhdGVnb3J5IiwicyIsInRvU3RyaW5nIiwidHJpbSIsInRvTG93ZXJDYXNlIiwiaXNGdWxsc2NyZWVuIiwic2V0SXNGdWxsc2NyZWVuIiwiem9vbUxldmVsIiwic2V0Wm9vbUxldmVsIiwic2hvd01pbmltYXAiLCJzZXRTaG93TWluaW1hcCIsIm1pbmltYXBWaWV3cG9ydCIsInNldE1pbmltYXBWaWV3cG9ydCIsIngiLCJ5Iiwid2lkdGgiLCJoZWlnaHQiLCJpc0RyYWdnaW5nTWluaW1hcCIsInNldElzRHJhZ2dpbmdNaW5pbWFwIiwid29ya2Zsb3dJZCIsInNldFdvcmtmbG93SWQiLCJ3b3JrZmxvd05hbWUiLCJzZXRXb3JrZmxvd05hbWUiLCJ3b3JrZmxvd0Rlc2NyaXB0aW9uIiwic2V0V29ya2Zsb3dEZXNjcmlwdGlvbiIsIm5vZGVzIiwic2V0Tm9kZXMiLCJjb25uZWN0aW9ucyIsInNldENvbm5lY3Rpb25zIiwiaXNEaXJ0eSIsInNldElzRGlydHkiLCJub2RlRGVmaW5pdGlvbnMiLCJzZXROb2RlRGVmaW5pdGlvbnMiLCJjYW52YXNOb2RlcyIsInNldENhbnZhc05vZGVzIiwiY2FudmFzT2JqZWN0cyIsInNldENhbnZhc09iamVjdHMiLCJzZWxlY3RlZE5vZGUiLCJzZXRTZWxlY3RlZE5vZGUiLCJzZWxlY3RlZE5vZGVzIiwic2V0U2VsZWN0ZWROb2RlcyIsInNlbGVjdGVkT2JqZWN0Iiwic2V0U2VsZWN0ZWRPYmplY3QiLCJjbGlwYm9hcmRSZWYiLCJwYXN0ZU9mZnNldFJlZiIsImVkaXRpbmdUZXh0Iiwic2V0RWRpdGluZ1RleHQiLCJyZXNpemluZ0dyb3VwIiwic2V0UmVzaXppbmdHcm91cCIsImRyYWdnZWROb2RlIiwic2V0RHJhZ2dlZE5vZGUiLCJkcmFnT2Zmc2V0Iiwic2V0RHJhZ09mZnNldCIsImlzRHJhZ2dpbmdOb2RlIiwic2V0SXNEcmFnZ2luZ05vZGUiLCJpc0RyYWdnaW5nR3JvdXAiLCJzZXRJc0RyYWdnaW5nR3JvdXAiLCJpc0RyYWdnaW5nT2JqZWN0Iiwic2V0SXNEcmFnZ2luZ09iamVjdCIsImdyb3VwRHJhZ1N0YXJ0Iiwic2V0R3JvdXBEcmFnU3RhcnQiLCJncm91cERyYWdPZmZzZXRzIiwic2V0R3JvdXBEcmFnT2Zmc2V0cyIsIk1hcCIsInNlbGVjdGlvbkJveCIsInNldFNlbGVjdGlvbkJveCIsImNvbnRleHRNZW51Iiwic2V0Q29udGV4dE1lbnUiLCJub2RlQ29udGV4dE1lbnUiLCJzZXROb2RlQ29udGV4dE1lbnUiLCJ0ZW1wQ29ubmVjdGlvbiIsInNldFRlbXBDb25uZWN0aW9uIiwic2lkZWJhck5vZGVDb3VudCIsInNldFNpZGViYXJOb2RlQ291bnQiLCJwcmV2Vmlld3BvcnRTY3JvbGwiLCJsZWZ0IiwidG9wIiwibm9kZVN0YXRlcyIsInNldE5vZGVTdGF0ZXMiLCJub2RlRXhlY3V0aW9uRGF0YSIsInNldE5vZGVFeGVjdXRpb25EYXRhIiwidXBkYXRlTm9kZVN0YXRlIiwibm9kZUlkIiwic3RhdHVzIiwiZXJyb3IiLCJwcmV2aWV3RGF0YSIsImZ1bGxFeGVjdXRpb25EYXRhIiwicHJldiIsIm5ld1N0YXRlcyIsInJlc2V0QWxsTm9kZVN0YXRlcyIsInJlc2V0U3RhdGVzIiwiZm9yRWFjaCIsIm5vZGUiLCJvbGRTdGF0ZSIsIm5vZGVfaWQiLCJzaG91bGRQcmVzZXJ2ZVByZXZpZXciLCJjYXRlZ29yeSIsIm5vZGVfdHlwZSIsImluY2x1ZGVzIiwic2V0QWxsTm9kZXNQZW5kaW5nIiwicGVuZGluZ1N0YXRlcyIsInNob3dMb2FkTW9kYWwiLCJzZXRTaG93TG9hZE1vZGFsIiwic2hvd1NhdmVBc01vZGFsIiwic2V0U2hvd1NhdmVBc01vZGFsIiwic2hvd0xvYWRGcm9tRmlsZU1vZGFsIiwic2V0U2hvd0xvYWRGcm9tRmlsZU1vZGFsIiwic2hvd1NhdmVPcHRpb25zTW9kYWwiLCJzZXRTaG93U2F2ZU9wdGlvbnNNb2RhbCIsInNob3dMb2FkT3B0aW9uc01vZGFsIiwic2V0U2hvd0xvYWRPcHRpb25zTW9kYWwiLCJzYXZlTW9kZSIsInNldFNhdmVNb2RlIiwiYXZhaWxhYmxlV29ya2Zsb3dzIiwic2V0QXZhaWxhYmxlV29ya2Zsb3dzIiwibm9kZUNhdGVnb3JpZXMiLCJzZXROb2RlQ2F0ZWdvcmllcyIsImNvbmZpcm1DbGVhciIsInNldENvbmZpcm1DbGVhciIsImNsZWFyQnV0dG9uUmVmIiwiZ3JpZFNldHRpbmdzIiwiY2FudmFzUGFuWm9vbSIsImdyaWRTaXplIiwiZ3JpZE9wYWNpdHkiLCJlbmFibGVHcmlkIiwic2NhbGUiLCJNYXRoIiwicm91bmQiLCJleGVjdXRpb24iLCJhZGRMb2ciLCJkZWVwQ2xvbmUiLCJvYmoiLCJzdHJ1Y3R1cmVkQ2xvbmUiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJnZXRTbmFwc2hvdCIsInByZXNlbnQiLCJwdXNoUHJvZHVjZXIiLCJwdXNoU25hcHNob3QiLCJyZXBsYWNlIiwicmVwbGFjZVNuYXBzaG90IiwidW5kbyIsInJlZG8iLCJjYW5VbmRvIiwiY2FuUmVkbyIsImlzVW5kb1JlZG9PcGVyYXRpb24iLCJwIiwiY3VycmVudCIsImhhbmRsZU1vdXNlTW92ZSIsImUiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwibmV3SGVpZ2h0IiwiYm90dG9tIiwiY2xpZW50WSIsIm1pbkhlaWdodCIsIm1heEhlaWdodCIsIndpbmRvdyIsImlubmVySGVpZ2h0IiwiY29uc3RyYWluZWRIZWlnaHQiLCJtYXgiLCJtaW4iLCJoYW5kbGVNb3VzZVVwIiwiZG9jdW1lbnQiLCJib2R5Iiwic3R5bGUiLCJjdXJzb3IiLCJ1c2VyU2VsZWN0IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJoYW5kbGVSZXNpemVTdGFydCIsInByZXZlbnREZWZhdWx0IiwibG9hZE5vZGVzIiwidXJsV29ya2Zsb3dJZCIsImdldCIsImxvYWRXb3JrZmxvd0J5SWQiLCJyZXNwb25zZSIsImNhdGVnb3JpZXMiLCJsZW5ndGgiLCJjb25zb2xlIiwiZ2VuZXJhdGVVVUlEIiwiYyIsInIiLCJyYW5kb20iLCJ2IiwiZ2V0V29ya2Zsb3dEYXRhIiwiaWQiLCJ3b3JrZmxvd05vZGVzIiwibWFwIiwibmFtZSIsInBvc2l0aW9uIiwiaW5wdXRfcG9ydHMiLCJpbnB1dHMiLCJwb3J0IiwidHlwZSIsImRpc3BsYXlfbmFtZSIsImxhYmVsIiwiZGVzY3JpcHRpb24iLCJyZXF1aXJlZCIsIm91dHB1dF9wb3J0cyIsIm91dHB1dHMiLCJjb25maWciLCJpY29uIiwic2hhcmVfb3V0cHV0X3RvX3ZhcmlhYmxlcyIsInZhcmlhYmxlX25hbWUiLCJ1bmRlZmluZWQiLCJmbGlwcGVkIiwid29ya2Zsb3dDb25uZWN0aW9ucyIsImNvbm4iLCJjb25uZWN0aW9uX2lkIiwic291cmNlX25vZGVfaWQiLCJzb3VyY2UiLCJzb3VyY2VfcG9ydCIsInBvcnRfaWQiLCJ0YXJnZXRfbm9kZV9pZCIsInRhcmdldCIsInRhcmdldF9wb3J0IiwiY2FudmFzX29iamVjdHMiLCJoYW5kbGVEb3dubG9hZEpTT04iLCJkYXRhIiwianNvblN0ciIsImJsb2IiLCJCbG9iIiwidXJsIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiYSIsImNyZWF0ZUVsZW1lbnQiLCJocmVmIiwiZG93bmxvYWQiLCJhcHBlbmRDaGlsZCIsImNsaWNrIiwicmVtb3ZlQ2hpbGQiLCJyZXZva2VPYmplY3RVUkwiLCJoYW5kbGVMb2FkRnJvbUZpbGUiLCJldmVudCIsImZpbGUiLCJmaWxlcyIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJqc29uIiwicmVzdWx0IiwibG9hZFdvcmtmbG93RnJvbURhdGEiLCJhbGVydCIsInJlYWRBc1RleHQiLCJ3b3JrZmxvdyIsImNvbnZlcnRlZENvbm5lY3Rpb25zIiwiY2FudmFzIiwiZmlsdGVyIiwiaGFuZGxlU2F2ZUFzIiwiaGFuZGxlU2F2ZUNvcHkiLCJjb3B5TnVtYmVyIiwibmV3TmFtZSIsIndvcmtmbG93cyIsImV4aXN0aW5nTmFtZXMiLCJ3IiwiaGFzIiwibmV3SWQiLCJ3b3JrZmxvd0RhdGEiLCJjcmVhdGVkIiwicHVzaCIsImNvbmZpcm1TYXZlQXMiLCJuZXdEZXNjcmlwdGlvbiIsImhhbmRsZVNhdmUiLCJpc0F1dG9TYXZlIiwibG9nIiwidGltZXIiLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiaGFuZGxlTG9hZCIsImhhbmRsZUNsZWFyIiwiYWxsb3dVbmRvIiwiZHJhZnQiLCJibHVyIiwiaGFuZGxlQ2xlYXJDbGljayIsInN0b3BQcm9wYWdhdGlvbiIsImNyZWF0ZUdyb3VwIiwibmV3R3JvdXAiLCJzaXplIiwiY29sb3IiLCJ0aXRsZSIsInpJbmRleCIsImNyZWF0ZVRleHRBbm5vdGF0aW9uIiwibmV3VGV4dCIsImNvbnRlbnQiLCJmb250U2l6ZSIsImRlbGV0ZUNhbnZhc09iamVjdCIsIm9iamVjdElkIiwiZmluZCIsIm8iLCJ1cGRhdGVDYW52YXNPYmplY3QiLCJ1cGRhdGVzIiwiaGFuZGxlT2JqZWN0RHJhZ1N0YXJ0IiwiY2FudmFzUmVjdCIsInNjcm9sbExlZnQiLCJzY3JvbGxUb3AiLCJjYW52YXNYIiwiY2xpZW50WCIsImNhbnZhc1kiLCJoYW5kbGVPYmplY3REcmFnIiwiaGFuZGxlT2JqZWN0RHJhZ0VuZCIsImRvYmoiLCJoYW5kbGVHcm91cFJlc2l6ZVN0YXJ0IiwiZ3JvdXBJZCIsImhhbmRsZSIsImdyb3VwIiwic3RhcnRYIiwic3RhcnRZIiwic3RhcnRTaXplIiwic3RhcnRQb3MiLCJoYW5kbGVHcm91cFJlc2l6ZSIsImRlbHRhWCIsImRlbHRhWSIsIm5ld1NpemUiLCJuZXdQb3MiLCJuZXdXaWR0aCIsImhhbmRsZUdyb3VwUmVzaXplRW5kIiwiYWRkTm9kZVRvQ2FudmFzIiwibm9kZVR5cGUiLCJub2RlTmFtZSIsImlucHV0UG9ydHMiLCJvdXRwdXRQb3J0cyIsIm5ld05vZGUiLCJoYW5kbGVOb2RlU2VsZWN0IiwiY3RybEtleSIsIm1ldGFLZXkiLCJuZXh0IiwiZGVsZXRlIiwiYWRkIiwiY25vZGVzIiwibiIsInNlbGVjdGVkIiwic2luZ2xlTm9kZUlkIiwiQXJyYXkiLCJmcm9tIiwiaGFuZGxlTm9kZURlbGV0ZSIsIm5vZGVUb0RlbGV0ZSIsImhhbmRsZU5vZGVGbGlwIiwiaGFuZGxlTm9kZUNvbnRleHRNZW51IiwiaGFuZGxlU2VsZWN0aW9uQm94U3RhcnQiLCJjbG9zZXN0IiwiYnV0dG9uIiwiY3VycmVudFgiLCJjdXJyZW50WSIsImhhbmRsZVNlbGVjdGlvbkJveE1vdmUiLCJtaW5YIiwibWF4WCIsIm1pblkiLCJtYXhZIiwic2VsZWN0ZWROb2RlSWRzIiwibm9kZVJpZ2h0Iiwibm9kZUJvdHRvbSIsImhhbmRsZVNlbGVjdGlvbkJveEVuZCIsImRyYWdEaXN0YW5jZSIsInNxcnQiLCJwb3ciLCJoYW5kbGVHcm91cERyYWdTdGFydCIsIm9mZnNldHMiLCJub2Rlc1RvRHJhZyIsInNldCIsImhhbmRsZUdyb3VwRHJhZyIsIm9mZnNldCIsImhhbmRsZUdyb3VwRHJhZ0VuZCIsIm1vdmVkTm9kZXMiLCJtb3ZlZCIsImRub2RlIiwiaGFuZGxlQ29uZmlnVXBkYXRlIiwibmV3Q29uZmlnIiwiaGFuZGxlTm9kZVVwZGF0ZSIsImhhbmRsZU5vZGVEcmFnU3RhcnQiLCJoYW5kbGVOb2RlRHJhZyIsImhhbmRsZU5vZGVEcmFnRW5kIiwiY29weVNlbGVjdGVkTm9kZXMiLCJub2Rlc1RvQ29weSIsImNvbm5lY3Rpb25zVG9Db3B5IiwicGFzdGVDbGlwYm9hcmQiLCJjbGlwIiwicmVtYXAiLCJjZW50ZXJYIiwiY2VudGVyWSIsImNlbnRlckNsaWVudFgiLCJjZW50ZXJDbGllbnRZIiwiY2VudHJvaWRYIiwiY2VudHJvaWRZIiwibm9kZUNvdW50IiwiYmFzZU9mZnNldCIsImluY3JlbWVudGFsIiwiREVGQVVMVF9VUF9MRUZUX0JJQVMiLCJkeCIsImR5IiwibmV3Tm9kZXMiLCJjb3BpZWQiLCJvcmlnWCIsIm9yaWdZIiwibmV3Q29ubmVjdGlvbnMiLCJuZXdDb25uIiwiRGF0ZSIsIm5vdyIsInN1YnN0ciIsImN1dFNlbGVjdGVkTm9kZXMiLCJvbktleURvd24iLCJrZXkiLCJpc01vZCIsImFjdGl2ZSIsImFjdGl2ZUVsZW1lbnQiLCJ0YWciLCJ0YWdOYW1lIiwiaXNUeXBpbmciLCJpc0NvbnRlbnRFZGl0YWJsZSIsImhhbmRsZVBvcnRNb3VzZURvd24iLCJwb3J0SWQiLCJwb3J0VHlwZSIsIm1vdXNlWCIsIm1vdXNlWSIsImZyb21Ob2RlIiwiZnJvbVBvcnQiLCJmcm9tVHlwZSIsImhhbmRsZUNvbm5lY3Rpb25Nb3VzZU1vdmUiLCJoYW5kbGVDb25uZWN0aW9uTW91c2VVcCIsInBvcnRIYW5kbGUiLCJwb3J0RWxlbWVudCIsInBhcmVudEVsZW1lbnQiLCJub2RlRWxlbWVudCIsInRhcmdldE5vZGVJZCIsImdldEF0dHJpYnV0ZSIsInRhcmdldFBvcnRJZCIsInRhcmdldFBvcnRUeXBlIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJjYW5DcmVhdGVDb25uZWN0aW9uIiwiY3JlYXRlQ29ubmVjdGlvbiIsInRvTm9kZUlkIiwidG9Qb3J0SWQiLCJ0b1R5cGUiLCJpc1ZhbGlkRGlyZWN0aW9uIiwic291cmNlTm9kZUlkIiwic291cmNlUG9ydElkIiwic29tZSIsIm5ld0Nvbm5lY3Rpb24iLCJzb3VyY2VOb2RlIiwidGFyZ2V0Tm9kZSIsInNvdXJjZU5vZGVOYW1lIiwidGFyZ2V0Tm9kZU5hbWUiLCJoYW5kbGVDb25uZWN0aW9uQ2xpY2siLCJjb25uZWN0aW9uSWQiLCJtZXNzYWdlIiwic2Nyb2xsSGVpZ2h0IiwidG9nZ2xlRnVsbHNjcmVlbiIsImZ1bGxzY3JlZW5FbGVtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwicmVxdWVzdEZ1bGxzY3JlZW4iLCJ0aGVuIiwiY2F0Y2giLCJlcnIiLCJleGl0RnVsbHNjcmVlbiIsImhhbmRsZVpvb21JbiIsInpvb21JbiIsImhhbmRsZVpvb21PdXQiLCJ6b29tT3V0IiwiaGFuZGxlWm9vbVJlc2V0Iiwiem9vbVJlc2V0IiwiaGFuZGxlRnVsbHNjcmVlbkNoYW5nZSIsImhhbmRsZXIiLCJpc1VuZG8iLCJzaGlmdEtleSIsImlzUmVkbyIsImlzRGVsZXRlIiwiaXNFc2NhcGUiLCJpc1NlbGVjdEFsbCIsImlzU2F2ZSIsImlzTG9hZCIsImlzQ2xlYXJCdXR0b25Gb2N1c2VkIiwicHJvY2VzcyIsImRlYnVnIiwibm9kZXNUb0RlbGV0ZSIsImFsbE5vZGVJZHMiLCJhbmltYXRpb25GcmFtZUlkIiwidXBkYXRlTWluaW1hcFZpZXdwb3J0Iiwidmlld3BvcnQiLCJtaW5pbWFwU2NhbGUiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0IiwiU0NST0xMX1JFU0VUX1RIUkVTSE9MRCIsImhhbmRsZVZpZXdwb3J0U2Nyb2xsIiwiZGVsdGEiLCJhYnMiLCJoaWRlVGltZXIiLCJzaG93TWluaW1hcFRlbXBvcmFyaWx5IiwiZ2V0Tm9kZUNhdGVnb3J5Q29sb3IiLCJjb2xvcnMiLCJ0cmlnZ2VycyIsImFjdGlvbnMiLCJhaSIsImNvbW11bmljYXRpb24iLCJwcm9jZXNzaW5nIiwiaW5wdXQiLCJvdXRwdXQiLCJjb250cm9sIiwiYnVzaW5lc3MiLCJhbmFseXRpY3MiLCJkaXYiLCJvbkNsaWNrIiwiYmFja2dyb3VuZCIsImJvcmRlckNvbG9yIiwiaDIiLCJpIiwic3BhbiIsImFsbENhdGVnb3JpZXMiLCJhbGxDb2xsYXBzZWQiLCJldmVyeSIsImNhdCIsIm9uTW91c2VFbnRlciIsImN1cnJlbnRUYXJnZXQiLCJvbk1vdXNlTGVhdmUiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwib25Gb2N1cyIsIm9uQmx1ciIsInBsYWNlaG9sZGVyIiwic2Nyb2xsYmFyR3V0dGVyIiwiaWR4Iiwibm9kZXNGb3JDYXRlZ29yeSIsInRlcm0iLCJjYXRLZXkiLCJpc0NvbGxhcHNlZCIsInRvZ2dsZUNvbGxhcHNlIiwibm9kZUlkeCIsIm5vZGVJY29uSW5mbyIsImljb25DbGFzcyIsImRyYWdnYWJsZSIsIm9uRHJhZ1N0YXJ0IiwiZGF0YVRyYW5zZmVyIiwic2V0RGF0YSIsImVmZmVjdEFsbG93ZWQiLCJtYXJnaW5MZWZ0IiwibWFyZ2luVG9wIiwib2Zmc2V0WSIsIm9mZnNldFgiLCJiZ0NvbG9yIiwibWF4TGVuZ3RoIiwicmVmIiwiZGlzYWJsZWQiLCJpc0V4ZWN1dGluZyIsImlzUGF1c2VkIiwiaGFuZGxlUGF1c2UiLCJvcGFjaXR5IiwiaGFuZGxlUmVzdW1lIiwiaGFuZGxlU3RvcCIsImxhc3RSZXN1bHQiLCJoYW5kbGVSZXRyeSIsInJldHJ5SW5mbyIsImNvbXBsZXRlZF9jb3VudCIsImhhbmRsZVJlc3RhcnQiLCJoYW5kbGVSdW4iLCJtaW5XaWR0aCIsInRleHRBbGlnbiIsIm9uTW91c2VNb3ZlIiwib25Nb3VzZVVwIiwib25Nb3VzZURvd24iLCJvbkNvbnRleHRNZW51Iiwib25EcmFnT3ZlciIsImRyb3BFZmZlY3QiLCJvbkRyb3AiLCJub2RlRGF0YSIsImdldERhdGEiLCJjYW52YXNSZWYiLCJzb3J0IiwiYiIsImJhY2tncm91bmRDb2xvciIsImJvcmRlciIsImJvcmRlclJhZGl1cyIsImZvbnRXZWlnaHQiLCJwYWRkaW5nIiwibWF4V2lkdGgiLCJyaWdodCIsImRpc3BsYXkiLCJnYXAiLCJ0cmFuc2Zvcm0iLCJ0ZXh0Iiwid2hpdGVTcGFjZSIsIm9uRG91YmxlQ2xpY2siLCJlbCIsImdldEVsZW1lbnRCeUlkIiwiZm9jdXMiLCJyYW5nZSIsImNyZWF0ZVJhbmdlIiwic2VsIiwiZ2V0U2VsZWN0aW9uIiwic2VsZWN0Tm9kZUNvbnRlbnRzIiwiY29sbGFwc2UiLCJyZW1vdmVBbGxSYW5nZXMiLCJhZGRSYW5nZSIsImNvbnRlbnRFZGl0YWJsZSIsInN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZyIsIm5ld0NvbnRlbnQiLCJ0ZXh0Q29udGVudCIsIm91dGxpbmUiLCJhbGlnbkl0ZW1zIiwianVzdGlmeUNvbnRlbnQiLCJvbkNvbm5lY3Rpb25DbGljayIsIm9uTm9kZVNlbGVjdCIsIm9uTm9kZURlbGV0ZSIsIm9uTm9kZURyYWdTdGFydCIsIm9uUG9ydE1vdXNlRG93biIsIm9uTm9kZUNvbnRleHRNZW51IiwicG9pbnRlckV2ZW50cyIsImJveFNoYWRvdyIsInRyYW5zaXRpb24iLCJtaW5pbWFwUmVjdCIsImNsaWNrWCIsImNsaWNrWSIsInNjcm9sbFgiLCJzY3JvbGxZIiwic2Nyb2xsVG8iLCJiZWhhdmlvciIsIm92ZXJmbG93WSIsIm5vZGVEZWZpbml0aW9uIiwiY24iLCJjYW52YXNOb2RlIiwib25Db25maWdVcGRhdGUiLCJvbk5vZGVVcGRhdGUiLCJvbkNsb3NlIiwiZGVmYXVsdFZhbHVlIiwidGV4dGFyZWEiLCJyb3dzIiwibmFtZUlucHV0IiwiZGVzY0lucHV0IiwiYWNjZXB0Iiwibm9kZV9jb3VudCIsInVwZGF0ZWRfYXQiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJzaG93UmV0cnlXYXJuaW5nIiwiaGFuZGxlUmV0cnlDYW5jZWwiLCJyZXRyeVdhcm5pbmdzIiwid2FybmluZyIsInN0cm9uZyIsImhhbmRsZVJldHJ5Rm9yY2UiLCJXb3JrZmxvd0VkaXRvciIsImZhbGxiYWNrIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/editor-page/page.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/app/editor-page/utils/nodeUtils.ts":
/*!************************************************!*\
  !*** ./src/app/editor-page/utils/nodeUtils.ts ***!
  \************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getCategoryIcon: () => (/* binding */ getCategoryIcon),\n/* harmony export */   getDummyCategories: () => (/* binding */ getDummyCategories),\n/* harmony export */   getNodeIcon: () => (/* binding */ getNodeIcon),\n/* harmony export */   groupNodesByCategory: () => (/* binding */ groupNodesByCategory)\n/* harmony export */ });\n/**\r\n * Utility functions for node categorization and icons\r\n */ function groupNodesByCategory(nodes) {\n    const grouped = new Map();\n    nodes.forEach((node)=>{\n        if (!grouped.has(node.category)) {\n            grouped.set(node.category, []);\n        }\n        grouped.get(node.category).push({\n            type: node.node_type || node.type,\n            name: node.display_name || node.name,\n            description: node.description,\n            category: node.category,\n            icon: node.icon,\n            input_ports: node.input_ports || [],\n            output_ports: node.output_ports || []\n        });\n    });\n    return Array.from(grouped.entries()).map(([name, nodes])=>({\n            name: name.charAt(0).toUpperCase() + name.slice(1),\n            icon: getCategoryIcon(name),\n            nodes\n        }));\n}\nfunction getCategoryIcon(category) {\n    const icons = {\n        triggers: \"fa-solid fa-bolt\",\n        actions: \"fa-solid fa-play\",\n        ai: \"fa-solid fa-brain\",\n        communication: \"fa-solid fa-paper-plane\",\n        processing: \"fa-solid fa-gears\",\n        workflow: \"fa-solid fa-sitemap\",\n        input: \"fa-solid fa-keyboard\",\n        output: \"fa-solid fa-display\",\n        business: \"fa-solid fa-briefcase\",\n        analytics: \"fa-solid fa-chart-line\"\n    };\n    return icons[category.toLowerCase()] || \"fa-solid fa-cube\";\n}\nfunction getNodeIcon(category) {\n    const icons = {\n        triggers: {\n            icon: \"fa-solid fa-bolt\",\n            color: \"#d97706\",\n            bgColor: \"rgba(251, 191, 36, 0.15)\" // Amber\n        },\n        actions: {\n            icon: \"fa-solid fa-play\",\n            color: \"#16a34a\",\n            bgColor: \"rgba(34, 197, 94, 0.15)\" // Green\n        },\n        ai: {\n            icon: \"fa-solid fa-brain\",\n            color: \"#9333ea\",\n            bgColor: \"rgba(168, 85, 247, 0.15)\" // Purple\n        },\n        communication: {\n            icon: \"fa-solid fa-paper-plane\",\n            color: \"#2563eb\",\n            bgColor: \"rgba(59, 130, 246, 0.15)\" // Blue\n        },\n        processing: {\n            icon: \"fa-solid fa-gears\",\n            color: \"#ea580c\",\n            bgColor: \"rgba(249, 115, 22, 0.15)\" // Orange\n        },\n        workflow: {\n            icon: \"fa-solid fa-sitemap\",\n            color: \"#4f46e5\",\n            bgColor: \"rgba(99, 102, 241, 0.15)\" // Indigo\n        },\n        input: {\n            icon: \"fa-solid fa-keyboard\",\n            color: \"#0891b2\",\n            bgColor: \"rgba(6, 182, 212, 0.15)\" // Cyan\n        },\n        output: {\n            icon: \"fa-solid fa-display\",\n            color: \"#db2777\",\n            bgColor: \"rgba(236, 72, 153, 0.15)\" // Pink\n        },\n        control: {\n            icon: \"fa-solid fa-code-branch\",\n            color: \"#7c3aed\",\n            bgColor: \"rgba(139, 92, 246, 0.15)\" // Violet\n        },\n        business: {\n            icon: \"fa-solid fa-briefcase\",\n            color: \"#059669\",\n            bgColor: \"rgba(16, 185, 129, 0.15)\" // Emerald\n        },\n        analytics: {\n            icon: \"fa-solid fa-chart-line\",\n            color: \"#e11d48\",\n            bgColor: \"rgba(244, 63, 94, 0.15)\" // Rose\n        }\n    };\n    return icons[category.toLowerCase()] || {\n        icon: \"fa-solid fa-cube\",\n        color: \"#4b5563\",\n        bgColor: \"rgba(107, 114, 128, 0.15)\" // Gray\n    };\n}\nfunction getDummyCategories() {\n    return [\n        {\n            name: \"Triggers\",\n            icon: \"fa-solid fa-bolt\",\n            nodes: [\n                {\n                    name: \"Manual Trigger\",\n                    description: \"Start workflow manually\"\n                },\n                {\n                    name: \"Schedule\",\n                    description: \"Run on schedule\"\n                }\n            ]\n        },\n        {\n            name: \"Actions\",\n            icon: \"fa-solid fa-play\",\n            nodes: [\n                {\n                    name: \"HTTP Request\",\n                    description: \"Make HTTP request\"\n                },\n                {\n                    name: \"Send Email\",\n                    description: \"Send email\"\n                }\n            ]\n        }\n    ];\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvZWRpdG9yLXBhZ2UvdXRpbHMvbm9kZVV0aWxzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7Q0FFQyxHQUVNLFNBQVNBLHFCQUFxQkMsS0FBWTtJQUMvQyxNQUFNQyxVQUFVLElBQUlDO0lBQ3BCRixNQUFNRyxPQUFPLENBQUNDLENBQUFBO1FBQ1osSUFBSSxDQUFDSCxRQUFRSSxHQUFHLENBQUNELEtBQUtFLFFBQVEsR0FBRztZQUMvQkwsUUFBUU0sR0FBRyxDQUFDSCxLQUFLRSxRQUFRLEVBQUUsRUFBRTtRQUMvQjtRQUNBTCxRQUFRTyxHQUFHLENBQUNKLEtBQUtFLFFBQVEsRUFBRUcsSUFBSSxDQUFDO1lBQzlCQyxNQUFNTixLQUFLTyxTQUFTLElBQUlQLEtBQUtNLElBQUk7WUFDakNFLE1BQU1SLEtBQUtTLFlBQVksSUFBSVQsS0FBS1EsSUFBSTtZQUNwQ0UsYUFBYVYsS0FBS1UsV0FBVztZQUM3QlIsVUFBVUYsS0FBS0UsUUFBUTtZQUN2QlMsTUFBTVgsS0FBS1csSUFBSTtZQUNmQyxhQUFhWixLQUFLWSxXQUFXLElBQUksRUFBRTtZQUNuQ0MsY0FBY2IsS0FBS2EsWUFBWSxJQUFJLEVBQUU7UUFDdkM7SUFDRjtJQUVBLE9BQU9DLE1BQU1DLElBQUksQ0FBQ2xCLFFBQVFtQixPQUFPLElBQUlDLEdBQUcsQ0FBQyxDQUFDLENBQUNULE1BQU1aLE1BQU0sR0FBTTtZQUMzRFksTUFBTUEsS0FBS1UsTUFBTSxDQUFDLEdBQUdDLFdBQVcsS0FBS1gsS0FBS1ksS0FBSyxDQUFDO1lBQ2hEVCxNQUFNVSxnQkFBZ0JiO1lBQ3RCWjtRQUNGO0FBQ0Y7QUFFTyxTQUFTeUIsZ0JBQWdCbkIsUUFBZ0I7SUFDOUMsTUFBTW9CLFFBQWdDO1FBQ3BDQyxVQUFVO1FBQ1ZDLFNBQVM7UUFDVEMsSUFBSTtRQUNKQyxlQUFlO1FBQ2ZDLFlBQVk7UUFDWkMsVUFBVTtRQUNWQyxPQUFPO1FBQ1BDLFFBQVE7UUFDUkMsVUFBVTtRQUNWQyxXQUFXO0lBQ2I7SUFDQSxPQUFPVixLQUFLLENBQUNwQixTQUFTK0IsV0FBVyxHQUFHLElBQUk7QUFDMUM7QUFFTyxTQUFTQyxZQUFZaEMsUUFBZ0I7SUFDMUMsTUFBTW9CLFFBQTBFO1FBQzlFQyxVQUFVO1lBQ1JaLE1BQU07WUFDTndCLE9BQU87WUFDUEMsU0FBUywyQkFBMkIsUUFBUTtRQUM5QztRQUNBWixTQUFTO1lBQ1BiLE1BQU07WUFDTndCLE9BQU87WUFDUEMsU0FBUywwQkFBMEIsUUFBUTtRQUM3QztRQUNBWCxJQUFJO1lBQ0ZkLE1BQU07WUFDTndCLE9BQU87WUFDUEMsU0FBUywyQkFBMkIsU0FBUztRQUMvQztRQUNBVixlQUFlO1lBQ2JmLE1BQU07WUFDTndCLE9BQU87WUFDUEMsU0FBUywyQkFBMkIsT0FBTztRQUM3QztRQUNBVCxZQUFZO1lBQ1ZoQixNQUFNO1lBQ053QixPQUFPO1lBQ1BDLFNBQVMsMkJBQTJCLFNBQVM7UUFDL0M7UUFDQVIsVUFBVTtZQUNSakIsTUFBTTtZQUNOd0IsT0FBTztZQUNQQyxTQUFTLDJCQUEyQixTQUFTO1FBQy9DO1FBQ0FQLE9BQU87WUFDTGxCLE1BQU07WUFDTndCLE9BQU87WUFDUEMsU0FBUywwQkFBMEIsT0FBTztRQUM1QztRQUNBTixRQUFRO1lBQ05uQixNQUFNO1lBQ053QixPQUFPO1lBQ1BDLFNBQVMsMkJBQTJCLE9BQU87UUFDN0M7UUFDQUMsU0FBUztZQUNQMUIsTUFBTTtZQUNOd0IsT0FBTztZQUNQQyxTQUFTLDJCQUEyQixTQUFTO1FBQy9DO1FBQ0FMLFVBQVU7WUFDUnBCLE1BQU07WUFDTndCLE9BQU87WUFDUEMsU0FBUywyQkFBMkIsVUFBVTtRQUNoRDtRQUNBSixXQUFXO1lBQ1RyQixNQUFNO1lBQ053QixPQUFPO1lBQ1BDLFNBQVMsMEJBQTBCLE9BQU87UUFDNUM7SUFDRjtJQUNBLE9BQU9kLEtBQUssQ0FBQ3BCLFNBQVMrQixXQUFXLEdBQUcsSUFBSTtRQUN0Q3RCLE1BQU07UUFDTndCLE9BQU87UUFDUEMsU0FBUyw0QkFBNEIsT0FBTztJQUM5QztBQUNGO0FBRU8sU0FBU0U7SUFDZCxPQUFPO1FBQ0w7WUFDRTlCLE1BQU07WUFDTkcsTUFBTTtZQUNOZixPQUFPO2dCQUNMO29CQUFFWSxNQUFNO29CQUFrQkUsYUFBYTtnQkFBMEI7Z0JBQ2pFO29CQUFFRixNQUFNO29CQUFZRSxhQUFhO2dCQUFrQjthQUNwRDtRQUNIO1FBQ0E7WUFDRUYsTUFBTTtZQUNORyxNQUFNO1lBQ05mLE9BQU87Z0JBQ0w7b0JBQUVZLE1BQU07b0JBQWdCRSxhQUFhO2dCQUFvQjtnQkFDekQ7b0JBQUVGLE1BQU07b0JBQWNFLGFBQWE7Z0JBQWE7YUFDakQ7UUFDSDtLQUNEO0FBQ0giLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbmljaG9sYXMubGVlXFxEb2N1bWVudHNcXHpcXFRpY2tldGluZ19OaWNrXFxUaWNrZXRpbmdcXHRhdl9vcGVuc291cmNlXFx1aVxcc3JjXFxhcHBcXGVkaXRvci1wYWdlXFx1dGlsc1xcbm9kZVV0aWxzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBVdGlsaXR5IGZ1bmN0aW9ucyBmb3Igbm9kZSBjYXRlZ29yaXphdGlvbiBhbmQgaWNvbnNcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ3JvdXBOb2Rlc0J5Q2F0ZWdvcnkobm9kZXM6IGFueVtdKSB7XHJcbiAgY29uc3QgZ3JvdXBlZCA9IG5ldyBNYXAoKTtcclxuICBub2Rlcy5mb3JFYWNoKG5vZGUgPT4ge1xyXG4gICAgaWYgKCFncm91cGVkLmhhcyhub2RlLmNhdGVnb3J5KSkge1xyXG4gICAgICBncm91cGVkLnNldChub2RlLmNhdGVnb3J5LCBbXSk7XHJcbiAgICB9XHJcbiAgICBncm91cGVkLmdldChub2RlLmNhdGVnb3J5KS5wdXNoKHtcclxuICAgICAgdHlwZTogbm9kZS5ub2RlX3R5cGUgfHwgbm9kZS50eXBlLFxyXG4gICAgICBuYW1lOiBub2RlLmRpc3BsYXlfbmFtZSB8fCBub2RlLm5hbWUsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiBub2RlLmRlc2NyaXB0aW9uLFxyXG4gICAgICBjYXRlZ29yeTogbm9kZS5jYXRlZ29yeSxcclxuICAgICAgaWNvbjogbm9kZS5pY29uLFxyXG4gICAgICBpbnB1dF9wb3J0czogbm9kZS5pbnB1dF9wb3J0cyB8fCBbXSwgICAvLyDinIUgUHJlc2VydmUgcG9ydHNcclxuICAgICAgb3V0cHV0X3BvcnRzOiBub2RlLm91dHB1dF9wb3J0cyB8fCBbXSwgLy8g4pyFIFByZXNlcnZlIHBvcnRzXHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIEFycmF5LmZyb20oZ3JvdXBlZC5lbnRyaWVzKCkpLm1hcCgoW25hbWUsIG5vZGVzXSkgPT4gKHtcclxuICAgIG5hbWU6IG5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBuYW1lLnNsaWNlKDEpLFxyXG4gICAgaWNvbjogZ2V0Q2F0ZWdvcnlJY29uKG5hbWUpLFxyXG4gICAgbm9kZXMsXHJcbiAgfSkpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2F0ZWdvcnlJY29uKGNhdGVnb3J5OiBzdHJpbmcpIHtcclxuICBjb25zdCBpY29uczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcclxuICAgIHRyaWdnZXJzOiBcImZhLXNvbGlkIGZhLWJvbHRcIixcclxuICAgIGFjdGlvbnM6IFwiZmEtc29saWQgZmEtcGxheVwiLFxyXG4gICAgYWk6IFwiZmEtc29saWQgZmEtYnJhaW5cIixcclxuICAgIGNvbW11bmljYXRpb246IFwiZmEtc29saWQgZmEtcGFwZXItcGxhbmVcIixcclxuICAgIHByb2Nlc3Npbmc6IFwiZmEtc29saWQgZmEtZ2VhcnNcIixcclxuICAgIHdvcmtmbG93OiBcImZhLXNvbGlkIGZhLXNpdGVtYXBcIixcclxuICAgIGlucHV0OiBcImZhLXNvbGlkIGZhLWtleWJvYXJkXCIsXHJcbiAgICBvdXRwdXQ6IFwiZmEtc29saWQgZmEtZGlzcGxheVwiLFxyXG4gICAgYnVzaW5lc3M6IFwiZmEtc29saWQgZmEtYnJpZWZjYXNlXCIsXHJcbiAgICBhbmFseXRpY3M6IFwiZmEtc29saWQgZmEtY2hhcnQtbGluZVwiLFxyXG4gIH07XHJcbiAgcmV0dXJuIGljb25zW2NhdGVnb3J5LnRvTG93ZXJDYXNlKCldIHx8IFwiZmEtc29saWQgZmEtY3ViZVwiO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0Tm9kZUljb24oY2F0ZWdvcnk6IHN0cmluZykge1xyXG4gIGNvbnN0IGljb25zOiBSZWNvcmQ8c3RyaW5nLCB7IGljb246IHN0cmluZzsgY29sb3I6IHN0cmluZzsgYmdDb2xvcjogc3RyaW5nIH0+ID0ge1xyXG4gICAgdHJpZ2dlcnM6IHtcclxuICAgICAgaWNvbjogXCJmYS1zb2xpZCBmYS1ib2x0XCIsXHJcbiAgICAgIGNvbG9yOiBcIiNkOTc3MDZcIixcclxuICAgICAgYmdDb2xvcjogXCJyZ2JhKDI1MSwgMTkxLCAzNiwgMC4xNSlcIiAvLyBBbWJlclxyXG4gICAgfSxcclxuICAgIGFjdGlvbnM6IHtcclxuICAgICAgaWNvbjogXCJmYS1zb2xpZCBmYS1wbGF5XCIsXHJcbiAgICAgIGNvbG9yOiBcIiMxNmEzNGFcIixcclxuICAgICAgYmdDb2xvcjogXCJyZ2JhKDM0LCAxOTcsIDk0LCAwLjE1KVwiIC8vIEdyZWVuXHJcbiAgICB9LFxyXG4gICAgYWk6IHtcclxuICAgICAgaWNvbjogXCJmYS1zb2xpZCBmYS1icmFpblwiLFxyXG4gICAgICBjb2xvcjogXCIjOTMzM2VhXCIsXHJcbiAgICAgIGJnQ29sb3I6IFwicmdiYSgxNjgsIDg1LCAyNDcsIDAuMTUpXCIgLy8gUHVycGxlXHJcbiAgICB9LFxyXG4gICAgY29tbXVuaWNhdGlvbjoge1xyXG4gICAgICBpY29uOiBcImZhLXNvbGlkIGZhLXBhcGVyLXBsYW5lXCIsXHJcbiAgICAgIGNvbG9yOiBcIiMyNTYzZWJcIixcclxuICAgICAgYmdDb2xvcjogXCJyZ2JhKDU5LCAxMzAsIDI0NiwgMC4xNSlcIiAvLyBCbHVlXHJcbiAgICB9LFxyXG4gICAgcHJvY2Vzc2luZzoge1xyXG4gICAgICBpY29uOiBcImZhLXNvbGlkIGZhLWdlYXJzXCIsXHJcbiAgICAgIGNvbG9yOiBcIiNlYTU4MGNcIixcclxuICAgICAgYmdDb2xvcjogXCJyZ2JhKDI0OSwgMTE1LCAyMiwgMC4xNSlcIiAvLyBPcmFuZ2VcclxuICAgIH0sXHJcbiAgICB3b3JrZmxvdzoge1xyXG4gICAgICBpY29uOiBcImZhLXNvbGlkIGZhLXNpdGVtYXBcIixcclxuICAgICAgY29sb3I6IFwiIzRmNDZlNVwiLFxyXG4gICAgICBiZ0NvbG9yOiBcInJnYmEoOTksIDEwMiwgMjQxLCAwLjE1KVwiIC8vIEluZGlnb1xyXG4gICAgfSxcclxuICAgIGlucHV0OiB7XHJcbiAgICAgIGljb246IFwiZmEtc29saWQgZmEta2V5Ym9hcmRcIixcclxuICAgICAgY29sb3I6IFwiIzA4OTFiMlwiLFxyXG4gICAgICBiZ0NvbG9yOiBcInJnYmEoNiwgMTgyLCAyMTIsIDAuMTUpXCIgLy8gQ3lhblxyXG4gICAgfSxcclxuICAgIG91dHB1dDoge1xyXG4gICAgICBpY29uOiBcImZhLXNvbGlkIGZhLWRpc3BsYXlcIixcclxuICAgICAgY29sb3I6IFwiI2RiMjc3N1wiLFxyXG4gICAgICBiZ0NvbG9yOiBcInJnYmEoMjM2LCA3MiwgMTUzLCAwLjE1KVwiIC8vIFBpbmtcclxuICAgIH0sXHJcbiAgICBjb250cm9sOiB7XHJcbiAgICAgIGljb246IFwiZmEtc29saWQgZmEtY29kZS1icmFuY2hcIixcclxuICAgICAgY29sb3I6IFwiIzdjM2FlZFwiLFxyXG4gICAgICBiZ0NvbG9yOiBcInJnYmEoMTM5LCA5MiwgMjQ2LCAwLjE1KVwiIC8vIFZpb2xldFxyXG4gICAgfSxcclxuICAgIGJ1c2luZXNzOiB7XHJcbiAgICAgIGljb246IFwiZmEtc29saWQgZmEtYnJpZWZjYXNlXCIsXHJcbiAgICAgIGNvbG9yOiBcIiMwNTk2NjlcIixcclxuICAgICAgYmdDb2xvcjogXCJyZ2JhKDE2LCAxODUsIDEyOSwgMC4xNSlcIiAvLyBFbWVyYWxkXHJcbiAgICB9LFxyXG4gICAgYW5hbHl0aWNzOiB7XHJcbiAgICAgIGljb246IFwiZmEtc29saWQgZmEtY2hhcnQtbGluZVwiLFxyXG4gICAgICBjb2xvcjogXCIjZTExZDQ4XCIsXHJcbiAgICAgIGJnQ29sb3I6IFwicmdiYSgyNDQsIDYzLCA5NCwgMC4xNSlcIiAvLyBSb3NlXHJcbiAgICB9LFxyXG4gIH07XHJcbiAgcmV0dXJuIGljb25zW2NhdGVnb3J5LnRvTG93ZXJDYXNlKCldIHx8IHtcclxuICAgIGljb246IFwiZmEtc29saWQgZmEtY3ViZVwiLFxyXG4gICAgY29sb3I6IFwiIzRiNTU2M1wiLFxyXG4gICAgYmdDb2xvcjogXCJyZ2JhKDEwNywgMTE0LCAxMjgsIDAuMTUpXCIgLy8gR3JheVxyXG4gIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXREdW1teUNhdGVnb3JpZXMoKSB7XHJcbiAgcmV0dXJuIFtcclxuICAgIHtcclxuICAgICAgbmFtZTogXCJUcmlnZ2Vyc1wiLFxyXG4gICAgICBpY29uOiBcImZhLXNvbGlkIGZhLWJvbHRcIixcclxuICAgICAgbm9kZXM6IFtcclxuICAgICAgICB7IG5hbWU6IFwiTWFudWFsIFRyaWdnZXJcIiwgZGVzY3JpcHRpb246IFwiU3RhcnQgd29ya2Zsb3cgbWFudWFsbHlcIiB9LFxyXG4gICAgICAgIHsgbmFtZTogXCJTY2hlZHVsZVwiLCBkZXNjcmlwdGlvbjogXCJSdW4gb24gc2NoZWR1bGVcIiB9LFxyXG4gICAgICBdLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgbmFtZTogXCJBY3Rpb25zXCIsXHJcbiAgICAgIGljb246IFwiZmEtc29saWQgZmEtcGxheVwiLFxyXG4gICAgICBub2RlczogW1xyXG4gICAgICAgIHsgbmFtZTogXCJIVFRQIFJlcXVlc3RcIiwgZGVzY3JpcHRpb246IFwiTWFrZSBIVFRQIHJlcXVlc3RcIiB9LFxyXG4gICAgICAgIHsgbmFtZTogXCJTZW5kIEVtYWlsXCIsIGRlc2NyaXB0aW9uOiBcIlNlbmQgZW1haWxcIiB9LFxyXG4gICAgICBdLFxyXG4gICAgfSxcclxuICBdO1xyXG59XHJcblxyXG4iXSwibmFtZXMiOlsiZ3JvdXBOb2Rlc0J5Q2F0ZWdvcnkiLCJub2RlcyIsImdyb3VwZWQiLCJNYXAiLCJmb3JFYWNoIiwibm9kZSIsImhhcyIsImNhdGVnb3J5Iiwic2V0IiwiZ2V0IiwicHVzaCIsInR5cGUiLCJub2RlX3R5cGUiLCJuYW1lIiwiZGlzcGxheV9uYW1lIiwiZGVzY3JpcHRpb24iLCJpY29uIiwiaW5wdXRfcG9ydHMiLCJvdXRwdXRfcG9ydHMiLCJBcnJheSIsImZyb20iLCJlbnRyaWVzIiwibWFwIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJzbGljZSIsImdldENhdGVnb3J5SWNvbiIsImljb25zIiwidHJpZ2dlcnMiLCJhY3Rpb25zIiwiYWkiLCJjb21tdW5pY2F0aW9uIiwicHJvY2Vzc2luZyIsIndvcmtmbG93IiwiaW5wdXQiLCJvdXRwdXQiLCJidXNpbmVzcyIsImFuYWx5dGljcyIsInRvTG93ZXJDYXNlIiwiZ2V0Tm9kZUljb24iLCJjb2xvciIsImJnQ29sb3IiLCJjb250cm9sIiwiZ2V0RHVtbXlDYXRlZ29yaWVzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/editor-page/utils/nodeUtils.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/app/editor-page/utils/variableUtils.ts":
/*!****************************************************!*\
  !*** ./src/app/editor-page/utils/variableUtils.ts ***!
  \****************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   extractVariablePaths: () => (/* binding */ extractVariablePaths),\n/* harmony export */   getAvailableVariables: () => (/* binding */ getAvailableVariables),\n/* harmony export */   shouldUseVariableInput: () => (/* binding */ shouldUseVariableInput),\n/* harmony export */   validateVariableReferences: () => (/* binding */ validateVariableReferences)\n/* harmony export */ });\n/**\r\n * Workflow Variable Utilities\r\n * \r\n * Helper functions for working with shared space variables in workflows.\r\n */ /**\r\n * Sanitize node name to create a valid variable identifier.\r\n * Removes spaces, special chars, converts to snake_case.\r\n */ function sanitizeVariableName(name) {\n    return name.trim().replace(/\\s+/g, '_') // Replace spaces with underscores\n    .replace(/[^a-zA-Z0-9_]/g, '') // Remove special characters\n    .replace(/^[0-9]/, '_$&') // Prepend underscore if starts with number\n    .toLowerCase();\n}\n/**\r\n * Get all available variables for a specific node.\r\n * Scans all predecessor nodes that have sharing enabled.\r\n * \r\n * @param workflow - Current workflow with nodes and connections\r\n * @param currentNodeId - The node we're configuring\r\n * @param nodeDefinitions - Node type definitions with port info\r\n * @returns Array of available variables grouped by source node\r\n */ function getAvailableVariables(nodes, connections, currentNodeId, nodeDefinitions) {\n    const availableVars = [];\n    // Add system variables (always available)\n    availableVars.push({\n        nodeName: ' System Variables',\n        nodeId: 'system',\n        uniqueKey: 'system-variables',\n        fields: [\n            {\n                name: 'current_date',\n                type: 'string'\n            },\n            {\n                name: 'current_time',\n                type: 'string'\n            },\n            {\n                name: 'current_datetime',\n                type: 'string'\n            },\n            {\n                name: 'timestamp',\n                type: 'string'\n            }\n        ]\n    });\n    // Find all predecessor nodes (nodes that come before current node in the graph)\n    const predecessorIds = findPredecessorNodes(nodes, connections, currentNodeId);\n    // Count occurrences of each node name across ALL sharing nodes in the workflow\n    // This is important: backend assigns suffixes (_1, _2) based on ALL nodes with same name,\n    // not just predecessors. So we need to match that behavior.\n    const nameCount = new Map();\n    const nameToNodeIds = new Map();\n    for (const node of nodes){\n        if (node.share_output_to_variables) {\n            const sanitizedName = sanitizeVariableName(node.name);\n            nameCount.set(sanitizedName, (nameCount.get(sanitizedName) || 0) + 1);\n            if (!nameToNodeIds.has(sanitizedName)) {\n                nameToNodeIds.set(sanitizedName, []);\n            }\n            nameToNodeIds.get(sanitizedName).push(node.node_id);\n        }\n    }\n    // Sort node IDs for each name group to match backend's deterministic ordering\n    for (const [name, nodeIds] of nameToNodeIds.entries()){\n        nameToNodeIds.set(name, nodeIds.sort());\n    }\n    // For each predecessor\n    for (const nodeId of predecessorIds){\n        const node = nodes.find((n)=>n.node_id === nodeId);\n        if (!node || !node.share_output_to_variables) {\n            continue; // Skip if node doesn't share outputs\n        }\n        // Get node definition to find output ports\n        const nodeDef = nodeDefinitions.find((def)=>def.node_type === node.node_type || def.node_type.replace(/_/g, '') === node.node_type.replace(/_/g, ''));\n        if (!nodeDef) {\n            console.warn(` Node definition not found for node type \"${node.node_type}\" (node ${nodeId})`);\n            console.warn(`  Available node definitions:`, nodeDefinitions.length, nodeDefinitions.map((d)=>d.node_type));\n            continue;\n        }\n        // Extract output port names as available fields\n        const fields = [];\n        // If node has output ports defined\n        if (nodeDef.output_ports && Array.isArray(nodeDef.output_ports)) {\n            for (const port of nodeDef.output_ports){\n                // Check if port has a schema with properties (detailed field info)\n                if (port.schema && port.schema.properties) {\n                    // IMPORTANT: Backend flattens single \"output\" port dicts\n                    // So {\"output\": {\"text\": \"...\"}} becomes {\"text\": \"...\"}\n                    // We need to generate field paths that match backend's flattening behavior\n                    const willBeFlattenedByBackend = port.name === 'output' && nodeDef.output_ports.length === 1;\n                    // Parse schema to extract nested fields\n                    for (const [propName, propDef] of Object.entries(port.schema.properties)){\n                        // Generate field path based on whether backend will flatten\n                        const fieldPath = willBeFlattenedByBackend ? propName : `${port.name}.${propName}`;\n                        fields.push({\n                            name: fieldPath,\n                            type: propDef.type || 'unknown'\n                        });\n                        // For arrays, also add indexed access hints for first few items\n                        if (propDef.type === 'array' && propDef.items?.properties) {\n                            for(let i = 0; i < 3; i++){\n                                for (const [itemProp, itemPropDef] of Object.entries(propDef.items.properties)){\n                                    fields.push({\n                                        name: `${fieldPath}.${i}.${itemProp}`,\n                                        type: itemPropDef.type || 'unknown'\n                                    });\n                                }\n                            }\n                        }\n                    }\n                } else {\n                    // No schema - use generic approach\n                    // If it's a single \"output\" port with universal type,\n                    // we know backend will flatten it, so we can't predict fields\n                    // Show generic field hints (without \"output.\" prefix since it gets flattened)\n                    if (port.name === 'output' && nodeDef.output_ports.length === 1) {\n                        // Backend flattens, so these are top-level fields\n                        fields.push({\n                            name: 'data',\n                            type: 'unknown'\n                        });\n                        fields.push({\n                            name: 'result',\n                            type: 'unknown'\n                        });\n                        fields.push({\n                            name: 'value',\n                            type: 'unknown'\n                        });\n                        fields.push({\n                            name: 'text',\n                            type: 'unknown'\n                        });\n                    } else {\n                        fields.push({\n                            name: port.name,\n                            type: port.type\n                        });\n                    }\n                }\n            }\n        }\n        // If no fields detected, add generic ones\n        if (fields.length === 0) {\n            fields.push({\n                name: 'output',\n                type: 'universal'\n            });\n        }\n        // Determine display name with duplicate indicator\n        const baseName = node.name;\n        const sanitizedName = sanitizeVariableName(node.name);\n        const count = nameCount.get(sanitizedName) || 1;\n        let displayName = baseName;\n        // Get the variable name for building paths (what backend expects)\n        let variableName = node.variable_name || sanitizedName;\n        if (node.variable_name) {\n            // User set a custom variable name - show it in the display name\n            // Format: \"Node Name  custom_var_name\" so user can see both\n            displayName = `${baseName}  ${node.variable_name}`;\n        } else if (count > 1) {\n            // Multiple nodes with same name - find this node's position in sorted order\n            const sortedNodeIds = nameToNodeIds.get(sanitizedName) || [];\n            const occurrence = sortedNodeIds.indexOf(node.node_id) + 1; // 1-based index\n            displayName = `${baseName} (${occurrence})`;\n            // Also append suffix to variable name to make it unique\n            variableName = `${variableName}_${occurrence}`;\n        }\n        availableVars.push({\n            nodeName: displayName,\n            nodeId: variableName,\n            uniqueKey: node.node_id,\n            fields\n        });\n    }\n    return availableVars;\n}\n/**\r\n * Find all nodes that are predecessors of the target node.\r\n * Uses BFS to traverse the graph backwards from target node.\r\n */ function findPredecessorNodes(nodes, connections, targetNodeId) {\n    const predecessors = new Set();\n    const queue = [\n        targetNodeId\n    ];\n    const visited = new Set([\n        targetNodeId\n    ]);\n    while(queue.length > 0){\n        const currentId = queue.shift();\n        // Find all connections pointing TO current node\n        // Support both flat and nested connection formats\n        const incomingConnections = connections.filter((conn)=>{\n            const targetId = conn.target_node_id || conn.target?.node_id;\n            return targetId === currentId;\n        });\n        for (const conn of incomingConnections){\n            const sourceId = conn.source_node_id || conn.source?.node_id;\n            if (!sourceId) {\n                console.warn(' Connection has no source node ID:', conn);\n                continue;\n            }\n            if (!visited.has(sourceId)) {\n                visited.add(sourceId);\n                predecessors.add(sourceId);\n                queue.push(sourceId);\n            }\n        }\n    }\n    return Array.from(predecessors);\n}\n/**\r\n * Check if a field config should use variable input.\r\n * \r\n * @param field - Config field definition\r\n * @returns true if field should support variables\r\n */ function shouldUseVariableInput(field) {\n    // 1. Explicitly enabled via allow_template flag (takes precedence)\n    if (field.allow_template === true) {\n        return true;\n    }\n    // 2. Explicitly disabled via allow_template flag (takes precedence)\n    if (field.allow_template === false) {\n        return false;\n    }\n    // 3. Type-based explicit opt-in\n    if (field.type === 'variable_or_text') {\n        return true;\n    }\n    // 4. Auto-detection based on widget type\n    //    ALLOWLIST: Only simple text inputs should support variables\n    //    Everything else (dropdowns, pickers, etc.) has specialized UI\n    const allowedWidgets = [\n        'text',\n        'textarea',\n        'password'\n    ];\n    // If widget is specified and NOT in allowlist, block it\n    if (field.widget && !allowedWidgets.includes(field.widget)) {\n        return false;\n    }\n    // 5. String fields with allowed widgets (or no widget) can use variables\n    //    This includes: text, textarea\n    if (field.type === 'string') {\n        return true;\n    }\n    return false;\n}\n/**\r\n * Parse variable paths from a template string.\r\n * \r\n * @param template - Template string like \"Hello {{var1}} and {{var2}}\"\r\n * @returns Array of variable paths found\r\n */ function extractVariablePaths(template) {\n    const regex = /\\{\\{([^}]+)\\}\\}/g;\n    const paths = [];\n    let match;\n    while((match = regex.exec(template)) !== null){\n        paths.push(match[1].trim());\n    }\n    return paths;\n}\n/**\r\n * Validate that all variable references in a config exist.\r\n * \r\n * @param configValue - Config value to validate\r\n * @param availableVars - Available variables in workflow\r\n * @returns Array of missing variable paths\r\n */ function validateVariableReferences(configValue, availableVars) {\n    const missing = [];\n    // Build set of available paths\n    const availablePaths = new Set();\n    for (const node of availableVars){\n        for (const field of node.fields){\n            availablePaths.add(`${node.nodeId}.${field.name}`);\n        }\n    }\n    // Check based on config type\n    if (typeof configValue === 'object' && configValue !== null) {\n        if (configValue.source === 'variable' && configValue.variable_path) {\n            if (!availablePaths.has(configValue.variable_path)) {\n                missing.push(configValue.variable_path);\n            }\n        } else if (configValue.source === 'template' && configValue.template) {\n            const paths = extractVariablePaths(configValue.template);\n            for (const path of paths){\n                if (!availablePaths.has(path)) {\n                    missing.push(path);\n                }\n            }\n        }\n    } else if (typeof configValue === 'string') {\n        const paths = extractVariablePaths(configValue);\n        for (const path of paths){\n            if (!availablePaths.has(path)) {\n                missing.push(path);\n            }\n        }\n    }\n    return missing;\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvZWRpdG9yLXBhZ2UvdXRpbHMvdmFyaWFibGVVdGlscy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7Q0FJQyxHQUVEOzs7Q0FHQyxHQUNELFNBQVNBLHFCQUFxQkMsSUFBWTtJQUN4QyxPQUFPQSxLQUNKQyxJQUFJLEdBQ0pDLE9BQU8sQ0FBQyxRQUFRLEtBQWUsa0NBQWtDO0tBQ2pFQSxPQUFPLENBQUMsa0JBQWtCLElBQUssNEJBQTRCO0tBQzNEQSxPQUFPLENBQUMsVUFBVSxPQUFhLDJDQUEyQztLQUMxRUMsV0FBVztBQUNoQjtBQTBCQTs7Ozs7Ozs7Q0FRQyxHQUNNLFNBQVNDLHNCQUNkQyxLQUFxQixFQUNyQkMsV0FBaUMsRUFDakNDLGFBQXFCLEVBQ3JCQyxlQUFzQjtJQUd0QixNQUFNQyxnQkFBcUMsRUFBRTtJQUU3QywwQ0FBMEM7SUFDMUNBLGNBQWNDLElBQUksQ0FBQztRQUNqQkMsVUFBVTtRQUNWQyxRQUFRO1FBQ1JDLFdBQVc7UUFDWEMsUUFBUTtZQUNOO2dCQUFFZCxNQUFNO2dCQUFnQmUsTUFBTTtZQUFTO1lBQ3ZDO2dCQUFFZixNQUFNO2dCQUFnQmUsTUFBTTtZQUFTO1lBQ3ZDO2dCQUFFZixNQUFNO2dCQUFvQmUsTUFBTTtZQUFTO1lBQzNDO2dCQUFFZixNQUFNO2dCQUFhZSxNQUFNO1lBQVM7U0FDckM7SUFDSDtJQUVBLGdGQUFnRjtJQUNoRixNQUFNQyxpQkFBaUJDLHFCQUFxQlosT0FBT0MsYUFBYUM7SUFHaEUsK0VBQStFO0lBQy9FLDBGQUEwRjtJQUMxRiw0REFBNEQ7SUFDNUQsTUFBTVcsWUFBWSxJQUFJQztJQUN0QixNQUFNQyxnQkFBZ0IsSUFBSUQ7SUFFMUIsS0FBSyxNQUFNRSxRQUFRaEIsTUFBTztRQUN4QixJQUFJZ0IsS0FBS0MseUJBQXlCLEVBQUU7WUFDbEMsTUFBTUMsZ0JBQWdCeEIscUJBQXFCc0IsS0FBS3JCLElBQUk7WUFDcERrQixVQUFVTSxHQUFHLENB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cy5sZWVcXERvY3VtZW50c1xcelxcVGlja2V0aW5nX05pY2tcXFRpY2tldGluZ1xcdGF2X29wZW5zb3VyY2VcXHVpXFxzcmNcXGFwcFxcZWRpdG9yLXBhZ2VcXHV0aWxzXFx2YXJpYWJsZVV0aWxzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBXb3JrZmxvdyBWYXJpYWJsZSBVdGlsaXRpZXNcclxuICogXHJcbiAqIEhlbHBlciBmdW5jdGlvbnMgZm9yIHdvcmtpbmcgd2l0aCBzaGFyZWQgc3BhY2UgdmFyaWFibGVzIGluIHdvcmtmbG93cy5cclxuICovXHJcblxyXG4vKipcclxuICogU2FuaXRpemUgbm9kZSBuYW1lIHRvIGNyZWF0ZSBhIHZhbGlkIHZhcmlhYmxlIGlkZW50aWZpZXIuXHJcbiAqIFJlbW92ZXMgc3BhY2VzLCBzcGVjaWFsIGNoYXJzLCBjb252ZXJ0cyB0byBzbmFrZV9jYXNlLlxyXG4gKi9cclxuZnVuY3Rpb24gc2FuaXRpemVWYXJpYWJsZU5hbWUobmFtZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICByZXR1cm4gbmFtZVxyXG4gICAgLnRyaW0oKVxyXG4gICAgLnJlcGxhY2UoL1xccysvZywgJ18nKSAgICAgICAgICAgLy8gUmVwbGFjZSBzcGFjZXMgd2l0aCB1bmRlcnNjb3Jlc1xyXG4gICAgLnJlcGxhY2UoL1teYS16QS1aMC05X10vZywgJycpICAvLyBSZW1vdmUgc3BlY2lhbCBjaGFyYWN0ZXJzXHJcbiAgICAucmVwbGFjZSgvXlswLTldLywgJ18kJicpICAgICAgIC8vIFByZXBlbmQgdW5kZXJzY29yZSBpZiBzdGFydHMgd2l0aCBudW1iZXJcclxuICAgIC50b0xvd2VyQ2FzZSgpO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgV29ya2Zsb3dOb2RlIHtcclxuICBub2RlX2lkOiBzdHJpbmc7XHJcbiAgbm9kZV90eXBlOiBzdHJpbmc7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIHNoYXJlX291dHB1dF90b192YXJpYWJsZXM/OiBib29sZWFuO1xyXG4gIHZhcmlhYmxlX25hbWU/OiBzdHJpbmc7XHJcbiAgb3V0cHV0X3BvcnRzPzogQXJyYXk8eyBuYW1lOiBzdHJpbmc7IHR5cGU/OiBzdHJpbmcgfT47XHJcbn1cclxuXHJcbmludGVyZmFjZSBXb3JrZmxvd0Nvbm5lY3Rpb24ge1xyXG4gIHNvdXJjZV9ub2RlX2lkPzogc3RyaW5nO1xyXG4gIHRhcmdldF9ub2RlX2lkPzogc3RyaW5nO1xyXG4gIC8vIFN1cHBvcnQgYm90aCBmb3JtYXRzXHJcbiAgc291cmNlPzogeyBub2RlX2lkOiBzdHJpbmc7IHBvcnRfaWQ6IHN0cmluZyB9O1xyXG4gIHRhcmdldD86IHsgbm9kZV9pZDogc3RyaW5nOyBwb3J0X2lkOiBzdHJpbmcgfTtcclxufVxyXG5cclxuaW50ZXJmYWNlIEF2YWlsYWJsZVZhcmlhYmxlIHtcclxuICBub2RlTmFtZTogc3RyaW5nO1xyXG4gIG5vZGVJZDogc3RyaW5nO1xyXG4gIHVuaXF1ZUtleTogc3RyaW5nOyAvLyBGb3IgUmVhY3Qga2V5cyB0byBhdm9pZCBkdXBsaWNhdGVzXHJcbiAgZmllbGRzOiBBcnJheTx7IG5hbWU6IHN0cmluZzsgdHlwZT86IHN0cmluZyB9PjtcclxufVxyXG5cclxuLyoqXHJcbiAqIEdldCBhbGwgYXZhaWxhYmxlIHZhcmlhYmxlcyBmb3IgYSBzcGVjaWZpYyBub2RlLlxyXG4gKiBTY2FucyBhbGwgcHJlZGVjZXNzb3Igbm9kZXMgdGhhdCBoYXZlIHNoYXJpbmcgZW5hYmxlZC5cclxuICogXHJcbiAqIEBwYXJhbSB3b3JrZmxvdyAtIEN1cnJlbnQgd29ya2Zsb3cgd2l0aCBub2RlcyBhbmQgY29ubmVjdGlvbnNcclxuICogQHBhcmFtIGN1cnJlbnROb2RlSWQgLSBUaGUgbm9kZSB3ZSdyZSBjb25maWd1cmluZ1xyXG4gKiBAcGFyYW0gbm9kZURlZmluaXRpb25zIC0gTm9kZSB0eXBlIGRlZmluaXRpb25zIHdpdGggcG9ydCBpbmZvXHJcbiAqIEByZXR1cm5zIEFycmF5IG9mIGF2YWlsYWJsZSB2YXJpYWJsZXMgZ3JvdXBlZCBieSBzb3VyY2Ugbm9kZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEF2YWlsYWJsZVZhcmlhYmxlcyhcclxuICBub2RlczogV29ya2Zsb3dOb2RlW10sXHJcbiAgY29ubmVjdGlvbnM6IFdvcmtmbG93Q29ubmVjdGlvbltdLFxyXG4gIGN1cnJlbnROb2RlSWQ6IHN0cmluZyxcclxuICBub2RlRGVmaW5pdGlvbnM6IGFueVtdXHJcbik6IEF2YWlsYWJsZVZhcmlhYmxlW10ge1xyXG4gIFxyXG4gIGNvbnN0IGF2YWlsYWJsZVZhcnM6IEF2YWlsYWJsZVZhcmlhYmxlW10gPSBbXTtcclxuICBcclxuICAvLyBBZGQgc3lzdGVtIHZhcmlhYmxlcyAoYWx3YXlzIGF2YWlsYWJsZSlcclxuICBhdmFpbGFibGVWYXJzLnB1c2goe1xyXG4gICAgbm9kZU5hbWU6ICfwn5SnIFN5c3RlbSBWYXJpYWJsZXMnLFxyXG4gICAgbm9kZUlkOiAnc3lzdGVtJyxcclxuICAgIHVuaXF1ZUtleTogJ3N5c3RlbS12YXJpYWJsZXMnLFxyXG4gICAgZmllbGRzOiBbXHJcbiAgICAgIHsgbmFtZTogJ2N1cnJlbnRfZGF0ZScsIHR5cGU6ICdzdHJpbmcnIH0sXHJcbiAgICAgIHsgbmFtZTogJ2N1cnJlbnRfdGltZScsIHR5cGU6ICdzdHJpbmcnIH0sXHJcbiAgICAgIHsgbmFtZTogJ2N1cnJlbnRfZGF0ZXRpbWUnLCB0eXBlOiAnc3RyaW5nJyB9LFxyXG4gICAgICB7IG5hbWU6ICd0aW1lc3RhbXAnLCB0eXBlOiAnc3RyaW5nJyB9LFxyXG4gICAgXSxcclxuICB9KTtcclxuICBcclxuICAvLyBGaW5kIGFsbCBwcmVkZWNlc3NvciBub2RlcyAobm9kZXMgdGhhdCBjb21lIGJlZm9yZSBjdXJyZW50IG5vZGUgaW4gdGhlIGdyYXBoKVxyXG4gIGNvbnN0IHByZWRlY2Vzc29ySWRzID0gZmluZFByZWRlY2Vzc29yTm9kZXMobm9kZXMsIGNvbm5lY3Rpb25zLCBjdXJyZW50Tm9kZUlkKTtcclxuICBcclxuICBcclxuICAvLyBDb3VudCBvY2N1cnJlbmNlcyBvZiBlYWNoIG5vZGUgbmFtZSBhY3Jvc3MgQUxMIHNoYXJpbmcgbm9kZXMgaW4gdGhlIHdvcmtmbG93XHJcbiAgLy8gVGhpcyBpcyBpbXBvcnRhbnQ6IGJhY2tlbmQgYXNzaWducyBzdWZmaXhlcyAoXzEsIF8yKSBiYXNlZCBvbiBBTEwgbm9kZXMgd2l0aCBzYW1lIG5hbWUsXHJcbiAgLy8gbm90IGp1c3QgcHJlZGVjZXNzb3JzLiBTbyB3ZSBuZWVkIHRvIG1hdGNoIHRoYXQgYmVoYXZpb3IuXHJcbiAgY29uc3QgbmFtZUNvdW50ID0gbmV3IE1hcDxzdHJpbmcsIG51bWJlcj4oKTtcclxuICBjb25zdCBuYW1lVG9Ob2RlSWRzID0gbmV3IE1hcDxzdHJpbmcsIHN0cmluZ1tdPigpO1xyXG4gIFxyXG4gIGZvciAoY29uc3Qgbm9kZSBvZiBub2Rlcykge1xyXG4gICAgaWYgKG5vZGUuc2hhcmVfb3V0cHV0X3RvX3ZhcmlhYmxlcykge1xyXG4gICAgICBjb25zdCBzYW5pdGl6ZWROYW1lID0gc2FuaXRpemVWYXJpYWJsZU5hbWUobm9kZS5uYW1lKTtcclxuICAgICAgbmFtZUNvdW50LnNldChzYW5pdGl6ZWROYW1lLCAobmFtZUNvdW50LmdldChzYW5pdGl6ZWROYW1lKSB8fCAwKSArIDEpO1xyXG4gICAgICBcclxuICAgICAgaWYgKCFuYW1lVG9Ob2RlSWRzLmhhcyhzYW5pdGl6ZWROYW1lKSkge1xyXG4gICAgICAgIG5hbWVUb05vZGVJZHMuc2V0KHNhbml0aXplZE5hbWUsIFtdKTtcclxuICAgICAgfVxyXG4gICAgICBuYW1lVG9Ob2RlSWRzLmdldChzYW5pdGl6ZWROYW1lKSEucHVzaChub2RlLm5vZGVfaWQpO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICAvLyBTb3J0IG5vZGUgSURzIGZvciBlYWNoIG5hbWUgZ3JvdXAgdG8gbWF0Y2ggYmFja2VuZCdzIGRldGVybWluaXN0aWMgb3JkZXJpbmdcclxuICBmb3IgKGNvbnN0IFtuYW1lLCBub2RlSWRzXSBvZiBuYW1lVG9Ob2RlSWRzLmVudHJpZXMoKSkge1xyXG4gICAgbmFtZVRvTm9kZUlkcy5zZXQobmFtZSwgbm9kZUlkcy5zb3J0KCkpO1xyXG4gIH1cclxuICBcclxuICAvLyBGb3IgZWFjaCBwcmVkZWNlc3NvclxyXG4gIGZvciAoY29uc3Qgbm9kZUlkIG9mIHByZWRlY2Vzc29ySWRzKSB7XHJcbiAgICBjb25zdCBub2RlID0gbm9kZXMuZmluZChuID0+IG4ubm9kZV9pZCA9PT0gbm9kZUlkKTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBpZiAoIW5vZGUgfHwgIW5vZGUuc2hhcmVfb3V0cHV0X3RvX3ZhcmlhYmxlcykge1xyXG4gICAgICBjb250aW51ZTsgLy8gU2tpcCBpZiBub2RlIGRvZXNuJ3Qgc2hhcmUgb3V0cHV0c1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBHZXQgbm9kZSBkZWZpbml0aW9uIHRvIGZpbmQgb3V0cHV0IHBvcnRzXHJcbiAgICBjb25zdCBub2RlRGVmID0gbm9kZURlZmluaXRpb25zLmZpbmQoZGVmID0+IFxyXG4gICAgICBkZWYubm9kZV90eXBlID09PSBub2RlLm5vZGVfdHlwZSB8fFxyXG4gICAgICBkZWYubm9kZV90eXBlLnJlcGxhY2UoL18vZywgJycpID09PSBub2RlLm5vZGVfdHlwZS5yZXBsYWNlKC9fL2csICcnKVxyXG4gICAgKTtcclxuICAgIFxyXG4gICAgaWYgKCFub2RlRGVmKSB7XHJcbiAgICAgIGNvbnNvbGUud2Fybihg4pqg77iPIE5vZGUgZGVmaW5pdGlvbiBub3QgZm91bmQgZm9yIG5vZGUgdHlwZSBcIiR7bm9kZS5ub2RlX3R5cGV9XCIgKG5vZGUgJHtub2RlSWR9KWApO1xyXG4gICAgICBjb25zb2xlLndhcm4oYCAgQXZhaWxhYmxlIG5vZGUgZGVmaW5pdGlvbnM6YCwgbm9kZURlZmluaXRpb25zLmxlbmd0aCwgbm9kZURlZmluaXRpb25zLm1hcChkID0+IGQubm9kZV90eXBlKSk7XHJcbiAgICAgIGNvbnRpbnVlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBFeHRyYWN0IG91dHB1dCBwb3J0IG5hbWVzIGFzIGF2YWlsYWJsZSBmaWVsZHNcclxuICAgIGNvbnN0IGZpZWxkczogQXJyYXk8eyBuYW1lOiBzdHJpbmc7IHR5cGU/OiBzdHJpbmcgfT4gPSBbXTtcclxuICAgIFxyXG4gICAgLy8gSWYgbm9kZSBoYXMgb3V0cHV0IHBvcnRzIGRlZmluZWRcclxuICAgIGlmIChub2RlRGVmLm91dHB1dF9wb3J0cyAmJiBBcnJheS5pc0FycmF5KG5vZGVEZWYub3V0cHV0X3BvcnRzKSkge1xyXG4gICAgICBmb3IgKGNvbnN0IHBvcnQgb2Ygbm9kZURlZi5vdXRwdXRfcG9ydHMpIHtcclxuICAgICAgICAvLyBDaGVjayBpZiBwb3J0IGhhcyBhIHNjaGVtYSB3aXRoIHByb3BlcnRpZXMgKGRldGFpbGVkIGZpZWxkIGluZm8pXHJcbiAgICAgICAgaWYgKHBvcnQuc2NoZW1hICYmIHBvcnQuc2NoZW1hLnByb3BlcnRpZXMpIHtcclxuICAgICAgICAgIC8vIElNUE9SVEFOVDogQmFja2VuZCBmbGF0dGVucyBzaW5nbGUgXCJvdXRwdXRcIiBwb3J0IGRpY3RzXHJcbiAgICAgICAgICAvLyBTbyB7XCJvdXRwdXRcIjoge1widGV4dFwiOiBcIi4uLlwifX0gYmVjb21lcyB7XCJ0ZXh0XCI6IFwiLi4uXCJ9XHJcbiAgICAgICAgICAvLyBXZSBuZWVkIHRvIGdlbmVyYXRlIGZpZWxkIHBhdGhzIHRoYXQgbWF0Y2ggYmFja2VuZCdzIGZsYXR0ZW5pbmcgYmVoYXZpb3JcclxuICAgICAgICAgIGNvbnN0IHdpbGxCZUZsYXR0ZW5lZEJ5QmFja2VuZCA9IChwb3J0Lm5hbWUgPT09ICdvdXRwdXQnICYmIG5vZGVEZWYub3V0cHV0X3BvcnRzLmxlbmd0aCA9PT0gMSk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIFBhcnNlIHNjaGVtYSB0byBleHRyYWN0IG5lc3RlZCBmaWVsZHNcclxuICAgICAgICAgIGZvciAoY29uc3QgW3Byb3BOYW1lLCBwcm9wRGVmXSBvZiBPYmplY3QuZW50cmllcyhwb3J0LnNjaGVtYS5wcm9wZXJ0aWVzIGFzIFJlY29yZDxzdHJpbmcsIGFueT4pKSB7XHJcbiAgICAgICAgICAgIC8vIEdlbmVyYXRlIGZpZWxkIHBhdGggYmFzZWQgb24gd2hldGhlciBiYWNrZW5kIHdpbGwgZmxhdHRlblxyXG4gICAgICAgICAgICBjb25zdCBmaWVsZFBhdGggPSB3aWxsQmVGbGF0dGVuZWRCeUJhY2tlbmQgPyBwcm9wTmFtZSA6IGAke3BvcnQubmFtZX0uJHtwcm9wTmFtZX1gO1xyXG4gICAgICAgICAgICBmaWVsZHMucHVzaCh7IFxyXG4gICAgICAgICAgICAgIG5hbWU6IGZpZWxkUGF0aCwgXHJcbiAgICAgICAgICAgICAgdHlwZTogcHJvcERlZi50eXBlIHx8ICd1bmtub3duJ1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIEZvciBhcnJheXMsIGFsc28gYWRkIGluZGV4ZWQgYWNjZXNzIGhpbnRzIGZvciBmaXJzdCBmZXcgaXRlbXNcclxuICAgICAgICAgICAgaWYgKHByb3BEZWYudHlwZSA9PT0gJ2FycmF5JyAmJiBwcm9wRGVmLml0ZW1zPy5wcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2l0ZW1Qcm9wLCBpdGVtUHJvcERlZl0gb2YgT2JqZWN0LmVudHJpZXMocHJvcERlZi5pdGVtcy5wcm9wZXJ0aWVzIGFzIFJlY29yZDxzdHJpbmcsIGFueT4pKSB7XHJcbiAgICAgICAgICAgICAgICAgIGZpZWxkcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBgJHtmaWVsZFBhdGh9LiR7aX0uJHtpdGVtUHJvcH1gLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IGl0ZW1Qcm9wRGVmLnR5cGUgfHwgJ3Vua25vd24nXHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvLyBObyBzY2hlbWEgLSB1c2UgZ2VuZXJpYyBhcHByb2FjaFxyXG4gICAgICAgICAgLy8gSWYgaXQncyBhIHNpbmdsZSBcIm91dHB1dFwiIHBvcnQgd2l0aCB1bml2ZXJzYWwgdHlwZSxcclxuICAgICAgICAgIC8vIHdlIGtub3cgYmFja2VuZCB3aWxsIGZsYXR0ZW4gaXQsIHNvIHdlIGNhbid0IHByZWRpY3QgZmllbGRzXHJcbiAgICAgICAgICAvLyBTaG93IGdlbmVyaWMgZmllbGQgaGludHMgKHdpdGhvdXQgXCJvdXRwdXQuXCIgcHJlZml4IHNpbmNlIGl0IGdldHMgZmxhdHRlbmVkKVxyXG4gICAgICAgICAgaWYgKHBvcnQubmFtZSA9PT0gJ291dHB1dCcgJiYgbm9kZURlZi5vdXRwdXRfcG9ydHMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgIC8vIEJhY2tlbmQgZmxhdHRlbnMsIHNvIHRoZXNlIGFyZSB0b3AtbGV2ZWwgZmllbGRzXHJcbiAgICAgICAgICAgIGZpZWxkcy5wdXNoKHsgbmFtZTogJ2RhdGEnLCB0eXBlOiAndW5rbm93bicgfSk7XHJcbiAgICAgICAgICAgIGZpZWxkcy5wdXNoKHsgbmFtZTogJ3Jlc3VsdCcsIHR5cGU6ICd1bmtub3duJyB9KTtcclxuICAgICAgICAgICAgZmllbGRzLnB1c2goeyBuYW1lOiAndmFsdWUnLCB0eXBlOiAndW5rbm93bicgfSk7XHJcbiAgICAgICAgICAgIGZpZWxkcy5wdXNoKHsgbmFtZTogJ3RleHQnLCB0eXBlOiAndW5rbm93bicgfSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBmaWVsZHMucHVzaCh7IG5hbWU6IHBvcnQubmFtZSwgdHlwZTogcG9ydC50eXBlIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBJZiBubyBmaWVsZHMgZGV0ZWN0ZWQsIGFkZCBnZW5lcmljIG9uZXNcclxuICAgIGlmIChmaWVsZHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIGZpZWxkcy5wdXNoKHsgbmFtZTogJ291dHB1dCcsIHR5cGU6ICd1bml2ZXJzYWwnIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBEZXRlcm1pbmUgZGlzcGxheSBuYW1lIHdpdGggZHVwbGljYXRlIGluZGljYXRvclxyXG4gICAgY29uc3QgYmFzZU5hbWUgPSBub2RlLm5hbWU7XHJcbiAgICBjb25zdCBzYW5pdGl6ZWROYW1lID0gc2FuaXRpemVWYXJpYWJsZU5hbWUobm9kZS5uYW1lKTtcclxuICAgIGNvbnN0IGNvdW50ID0gbmFtZUNvdW50LmdldChzYW5pdGl6ZWROYW1lKSB8fCAxO1xyXG4gICAgbGV0IGRpc3BsYXlOYW1lID0gYmFzZU5hbWU7XHJcbiAgICBcclxuICAgIC8vIEdldCB0aGUgdmFyaWFibGUgbmFtZSBmb3IgYnVpbGRpbmcgcGF0aHMgKHdoYXQgYmFja2VuZCBleHBlY3RzKVxyXG4gICAgbGV0IHZhcmlhYmxlTmFtZSA9IG5vZGUudmFyaWFibGVfbmFtZSB8fCBzYW5pdGl6ZWROYW1lO1xyXG4gICAgXHJcbiAgICBpZiAobm9kZS52YXJpYWJsZV9uYW1lKSB7XHJcbiAgICAgIC8vIFVzZXIgc2V0IGEgY3VzdG9tIHZhcmlhYmxlIG5hbWUgLSBzaG93IGl0IGluIHRoZSBkaXNwbGF5IG5hbWVcclxuICAgICAgLy8gRm9ybWF0OiBcIk5vZGUgTmFtZSDihpIgY3VzdG9tX3Zhcl9uYW1lXCIgc28gdXNlciBjYW4gc2VlIGJvdGhcclxuICAgICAgZGlzcGxheU5hbWUgPSBgJHtiYXNlTmFtZX0g4oaSICR7bm9kZS52YXJpYWJsZV9uYW1lfWA7XHJcbiAgICB9IGVsc2UgaWYgKGNvdW50ID4gMSkge1xyXG4gICAgICAvLyBNdWx0aXBsZSBub2RlcyB3aXRoIHNhbWUgbmFtZSAtIGZpbmQgdGhpcyBub2RlJ3MgcG9zaXRpb24gaW4gc29ydGVkIG9yZGVyXHJcbiAgICAgIGNvbnN0IHNvcnRlZE5vZGVJZHMgPSBuYW1lVG9Ob2RlSWRzLmdldChzYW5pdGl6ZWROYW1lKSB8fCBbXTtcclxuICAgICAgY29uc3Qgb2NjdXJyZW5jZSA9IHNvcnRlZE5vZGVJZHMuaW5kZXhPZihub2RlLm5vZGVfaWQpICsgMTsgLy8gMS1iYXNlZCBpbmRleFxyXG4gICAgICBcclxuICAgICAgZGlzcGxheU5hbWUgPSBgJHtiYXNlTmFtZX0gKCR7b2NjdXJyZW5jZX0pYDtcclxuICAgICAgXHJcbiAgICAgIC8vIEFsc28gYXBwZW5kIHN1ZmZpeCB0byB2YXJpYWJsZSBuYW1lIHRvIG1ha2UgaXQgdW5pcXVlXHJcbiAgICAgIHZhcmlhYmxlTmFtZSA9IGAke3ZhcmlhYmxlTmFtZX1fJHtvY2N1cnJlbmNlfWA7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGF2YWlsYWJsZVZhcnMucHVzaCh7XHJcbiAgICAgIG5vZGVOYW1lOiBkaXNwbGF5TmFtZSxcclxuICAgICAgbm9kZUlkOiB2YXJpYWJsZU5hbWUsICAvLyBVc2UgdmFyaWFibGUgbmFtZSBmb3IgcGF0aHMgKGJhY2tlbmQgY29tcGF0aWJpbGl0eSlcclxuICAgICAgdW5pcXVlS2V5OiBub2RlLm5vZGVfaWQsICAvLyBVc2UgdW5pcXVlIG5vZGVfaWQgZm9yIFJlYWN0IGtleXNcclxuICAgICAgZmllbGRzLFxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiBhdmFpbGFibGVWYXJzO1xyXG59XHJcblxyXG4vKipcclxuICogRmluZCBhbGwgbm9kZXMgdGhhdCBhcmUgcHJlZGVjZXNzb3JzIG9mIHRoZSB0YXJnZXQgbm9kZS5cclxuICogVXNlcyBCRlMgdG8gdHJhdmVyc2UgdGhlIGdyYXBoIGJhY2t3YXJkcyBmcm9tIHRhcmdldCBub2RlLlxyXG4gKi9cclxuZnVuY3Rpb24gZmluZFByZWRlY2Vzc29yTm9kZXMoXHJcbiAgbm9kZXM6IFdvcmtmbG93Tm9kZVtdLFxyXG4gIGNvbm5lY3Rpb25zOiBXb3JrZmxvd0Nvbm5lY3Rpb25bXSxcclxuICB0YXJnZXROb2RlSWQ6IHN0cmluZ1xyXG4pOiBzdHJpbmdbXSB7XHJcbiAgY29uc3QgcHJlZGVjZXNzb3JzID0gbmV3IFNldDxzdHJpbmc+KCk7XHJcbiAgY29uc3QgcXVldWU6IHN0cmluZ1tdID0gW3RhcmdldE5vZGVJZF07XHJcbiAgY29uc3QgdmlzaXRlZCA9IG5ldyBTZXQ8c3RyaW5nPihbdGFyZ2V0Tm9kZUlkXSk7XHJcbiAgXHJcbiAgXHJcbiAgd2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDApIHtcclxuICAgIGNvbnN0IGN1cnJlbnRJZCA9IHF1ZXVlLnNoaWZ0KCkhO1xyXG4gICAgXHJcbiAgICAvLyBGaW5kIGFsbCBjb25uZWN0aW9ucyBwb2ludGluZyBUTyBjdXJyZW50IG5vZGVcclxuICAgIC8vIFN1cHBvcnQgYm90aCBmbGF0IGFuZCBuZXN0ZWQgY29ubmVjdGlvbiBmb3JtYXRzXHJcbiAgICBjb25zdCBpbmNvbWluZ0Nvbm5lY3Rpb25zID0gY29ubmVjdGlvbnMuZmlsdGVyKGNvbm4gPT4ge1xyXG4gICAgICBjb25zdCB0YXJnZXRJZCA9IGNvbm4udGFyZ2V0X25vZGVfaWQgfHwgY29ubi50YXJnZXQ/Lm5vZGVfaWQ7XHJcbiAgICAgIHJldHVybiB0YXJnZXRJZCA9PT0gY3VycmVudElkO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIFxyXG4gICAgZm9yIChjb25zdCBjb25uIG9mIGluY29taW5nQ29ubmVjdGlvbnMpIHtcclxuICAgICAgY29uc3Qgc291cmNlSWQgPSBjb25uLnNvdXJjZV9ub2RlX2lkIHx8IGNvbm4uc291cmNlPy5ub2RlX2lkO1xyXG4gICAgICBcclxuICAgICAgaWYgKCFzb3VyY2VJZCkge1xyXG4gICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIENvbm5lY3Rpb24gaGFzIG5vIHNvdXJjZSBub2RlIElEOicsIGNvbm4pO1xyXG4gICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBcclxuICAgICAgaWYgKCF2aXNpdGVkLmhhcyhzb3VyY2VJZCkpIHtcclxuICAgICAgICB2aXNpdGVkLmFkZChzb3VyY2VJZCk7XHJcbiAgICAgICAgcHJlZGVjZXNzb3JzLmFkZChzb3VyY2VJZCk7XHJcbiAgICAgICAgcXVldWUucHVzaChzb3VyY2VJZCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgcmV0dXJuIEFycmF5LmZyb20ocHJlZGVjZXNzb3JzKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENoZWNrIGlmIGEgZmllbGQgY29uZmlnIHNob3VsZCB1c2UgdmFyaWFibGUgaW5wdXQuXHJcbiAqIFxyXG4gKiBAcGFyYW0gZmllbGQgLSBDb25maWcgZmllbGQgZGVmaW5pdGlvblxyXG4gKiBAcmV0dXJucyB0cnVlIGlmIGZpZWxkIHNob3VsZCBzdXBwb3J0IHZhcmlhYmxlc1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNob3VsZFVzZVZhcmlhYmxlSW5wdXQoZmllbGQ6IGFueSk6IGJvb2xlYW4ge1xyXG4gIC8vIDEuIEV4cGxpY2l0bHkgZW5hYmxlZCB2aWEgYWxsb3dfdGVtcGxhdGUgZmxhZyAodGFrZXMgcHJlY2VkZW5jZSlcclxuICBpZiAoZmllbGQuYWxsb3dfdGVtcGxhdGUgPT09IHRydWUpIHtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuICBcclxuICAvLyAyLiBFeHBsaWNpdGx5IGRpc2FibGVkIHZpYSBhbGxvd190ZW1wbGF0ZSBmbGFnICh0YWtlcyBwcmVjZWRlbmNlKVxyXG4gIGlmIChmaWVsZC5hbGxvd190ZW1wbGF0ZSA9PT0gZmFsc2UpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbiAgXHJcbiAgLy8gMy4gVHlwZS1iYXNlZCBleHBsaWNpdCBvcHQtaW5cclxuICBpZiAoZmllbGQudHlwZSA9PT0gJ3ZhcmlhYmxlX29yX3RleHQnKSB7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcbiAgXHJcbiAgLy8gNC4gQXV0by1kZXRlY3Rpb24gYmFzZWQgb24gd2lkZ2V0IHR5cGVcclxuICAvLyAgICBBTExPV0xJU1Q6IE9ubHkgc2ltcGxlIHRleHQgaW5wdXRzIHNob3VsZCBzdXBwb3J0IHZhcmlhYmxlc1xyXG4gIC8vICAgIEV2ZXJ5dGhpbmcgZWxzZSAoZHJvcGRvd25zLCBwaWNrZXJzLCBldGMuKSBoYXMgc3BlY2lhbGl6ZWQgVUlcclxuICBjb25zdCBhbGxvd2VkV2lkZ2V0cyA9IFtcclxuICAgICd0ZXh0JywgICAgICAgICAgICAvLyBTaW1wbGUgdGV4dCBpbnB1dFxyXG4gICAgJ3RleHRhcmVhJywgICAgICAgIC8vIE11bHRpLWxpbmUgdGV4dFxyXG4gICAgJ3Bhc3N3b3JkJywgICAgICAgIC8vIFBhc3N3b3JkIGlucHV0IChjYW4gdXNlIHZhcmlhYmxlcyBmb3IgZHluYW1pYyBwYXNzd29yZHMpXHJcbiAgICAvLyBUaGF0J3MgaXQhIEV2ZXJ5dGhpbmcgZWxzZSBoYXMgaXRzIG93biBzcGVjaWFsaXplZCBVSVxyXG4gIF07XHJcbiAgXHJcbiAgLy8gSWYgd2lkZ2V0IGlzIHNwZWNpZmllZCBhbmQgTk9UIGluIGFsbG93bGlzdCwgYmxvY2sgaXRcclxuICBpZiAoZmllbGQud2lkZ2V0ICYmICFhbGxvd2VkV2lkZ2V0cy5pbmNsdWRlcyhmaWVsZC53aWRnZXQpKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG4gIFxyXG4gIC8vIDUuIFN0cmluZyBmaWVsZHMgd2l0aCBhbGxvd2VkIHdpZGdldHMgKG9yIG5vIHdpZGdldCkgY2FuIHVzZSB2YXJpYWJsZXNcclxuICAvLyAgICBUaGlzIGluY2x1ZGVzOiB0ZXh0LCB0ZXh0YXJlYVxyXG4gIGlmIChmaWVsZC50eXBlID09PSAnc3RyaW5nJykge1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFBhcnNlIHZhcmlhYmxlIHBhdGhzIGZyb20gYSB0ZW1wbGF0ZSBzdHJpbmcuXHJcbiAqIFxyXG4gKiBAcGFyYW0gdGVtcGxhdGUgLSBUZW1wbGF0ZSBzdHJpbmcgbGlrZSBcIkhlbGxvIHt7dmFyMX19IGFuZCB7e3ZhcjJ9fVwiXHJcbiAqIEByZXR1cm5zIEFycmF5IG9mIHZhcmlhYmxlIHBhdGhzIGZvdW5kXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdFZhcmlhYmxlUGF0aHModGVtcGxhdGU6IHN0cmluZyk6IHN0cmluZ1tdIHtcclxuICBjb25zdCByZWdleCA9IC9cXHtcXHsoW159XSspXFx9XFx9L2c7XHJcbiAgY29uc3QgcGF0aHM6IHN0cmluZ1tdID0gW107XHJcbiAgbGV0IG1hdGNoO1xyXG4gIFxyXG4gIHdoaWxlICgobWF0Y2ggPSByZWdleC5leGVjKHRlbXBsYXRlKSkgIT09IG51bGwpIHtcclxuICAgIHBhdGhzLnB1c2gobWF0Y2hbMV0udHJpbSgpKTtcclxuICB9XHJcbiAgXHJcbiAgcmV0dXJuIHBhdGhzO1xyXG59XHJcblxyXG4vKipcclxuICogVmFsaWRhdGUgdGhhdCBhbGwgdmFyaWFibGUgcmVmZXJlbmNlcyBpbiBhIGNvbmZpZyBleGlzdC5cclxuICogXHJcbiAqIEBwYXJhbSBjb25maWdWYWx1ZSAtIENvbmZpZyB2YWx1ZSB0byB2YWxpZGF0ZVxyXG4gKiBAcGFyYW0gYXZhaWxhYmxlVmFycyAtIEF2YWlsYWJsZSB2YXJpYWJsZXMgaW4gd29ya2Zsb3dcclxuICogQHJldHVybnMgQXJyYXkgb2YgbWlzc2luZyB2YXJpYWJsZSBwYXRoc1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlVmFyaWFibGVSZWZlcmVuY2VzKFxyXG4gIGNvbmZpZ1ZhbHVlOiBhbnksXHJcbiAgYXZhaWxhYmxlVmFyczogQXZhaWxhYmxlVmFyaWFibGVbXVxyXG4pOiBzdHJpbmdbXSB7XHJcbiAgY29uc3QgbWlzc2luZzogc3RyaW5nW10gPSBbXTtcclxuICBcclxuICAvLyBCdWlsZCBzZXQgb2YgYXZhaWxhYmxlIHBhdGhzXHJcbiAgY29uc3QgYXZhaWxhYmxlUGF0aHMgPSBuZXcgU2V0PHN0cmluZz4oKTtcclxuICBmb3IgKGNvbnN0IG5vZGUgb2YgYXZhaWxhYmxlVmFycykge1xyXG4gICAgZm9yIChjb25zdCBmaWVsZCBvZiBub2RlLmZpZWxkcykge1xyXG4gICAgICBhdmFpbGFibGVQYXRocy5hZGQoYCR7bm9kZS5ub2RlSWR9LiR7ZmllbGQubmFtZX1gKTtcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgLy8gQ2hlY2sgYmFzZWQgb24gY29uZmlnIHR5cGVcclxuICBpZiAodHlwZW9mIGNvbmZpZ1ZhbHVlID09PSAnb2JqZWN0JyAmJiBjb25maWdWYWx1ZSAhPT0gbnVsbCkge1xyXG4gICAgaWYgKGNvbmZpZ1ZhbHVlLnNvdXJjZSA9PT0gJ3ZhcmlhYmxlJyAmJiBjb25maWdWYWx1ZS52YXJpYWJsZV9wYXRoKSB7XHJcbiAgICAgIGlmICghYXZhaWxhYmxlUGF0aHMuaGFzKGNvbmZpZ1ZhbHVlLnZhcmlhYmxlX3BhdGgpKSB7XHJcbiAgICAgICAgbWlzc2luZy5wdXNoKGNvbmZpZ1ZhbHVlLnZhcmlhYmxlX3BhdGgpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKGNvbmZpZ1ZhbHVlLnNvdXJjZSA9PT0gJ3RlbXBsYXRlJyAmJiBjb25maWdWYWx1ZS50ZW1wbGF0ZSkge1xyXG4gICAgICBjb25zdCBwYXRocyA9IGV4dHJhY3RWYXJpYWJsZVBhdGhzKGNvbmZpZ1ZhbHVlLnRlbXBsYXRlKTtcclxuICAgICAgZm9yIChjb25zdCBwYXRoIG9mIHBhdGhzKSB7XHJcbiAgICAgICAgaWYgKCFhdmFpbGFibGVQYXRocy5oYXMocGF0aCkpIHtcclxuICAgICAgICAgIG1pc3NpbmcucHVzaChwYXRoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9IGVsc2UgaWYgKHR5cGVvZiBjb25maWdWYWx1ZSA9PT0gJ3N0cmluZycpIHtcclxuICAgIGNvbnN0IHBhdGhzID0gZXh0cmFjdFZhcmlhYmxlUGF0aHMoY29uZmlnVmFsdWUpO1xyXG4gICAgZm9yIChjb25zdCBwYXRoIG9mIHBhdGhzKSB7XHJcbiAgICAgIGlmICghYXZhaWxhYmxlUGF0aHMuaGFzKHBhdGgpKSB7XHJcbiAgICAgICAgbWlzc2luZy5wdXNoKHBhdGgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiBtaXNzaW5nO1xyXG59XHJcblxyXG4iXSwibmFtZXMiOlsic2FuaXRpemVWYXJpYWJsZU5hbWUiLCJuYW1lIiwidHJpbSIsInJlcGxhY2UiLCJ0b0xvd2VyQ2FzZSIsImdldEF2YWlsYWJsZVZhcmlhYmxlcyIsIm5vZGVzIiwiY29ubmVjdGlvbnMiLCJjdXJyZW50Tm9kZUlkIiwibm9kZURlZmluaXRpb25zIiwiYXZhaWxhYmxlVmFycyIsInB1c2giLCJub2RlTmFtZSIsIm5vZGVJZCIsInVuaXF1ZUtleSIsImZpZWxkcyIsInR5cGUiLCJwcmVkZWNlc3NvcklkcyIsImZpbmRQcmVkZWNlc3Nvck5vZGVzIiwibmFtZUNvdW50IiwiTWFwIiwibmFtZVRvTm9kZUlkcyIsIm5vZGUiLCJzaGFyZV9vdXRwdXRfdG9fdmFyaWFibGVzIiwic2FuaXRpemVkTmFtZSIsInNldCIsImdldCIsImhhcyIsIm5vZGVfaWQiLCJub2RlSWRzIiwiZW50cmllcyIsInNvcnQiLCJmaW5kIiwibiIsIm5vZGVEZWYiLCJkZWYiLCJub2RlX3R5cGUiLCJjb25zb2xlIiwid2FybiIsImxlbmd0aCIsIm1hcCIsImQiLCJvdXRwdXRfcG9ydHMiLCJBcnJheSIsImlzQXJyYXkiLCJwb3J0Iiwic2NoZW1hIiwicHJvcGVydGllcyIsIndpbGxCZUZsYXR0ZW5lZEJ5QmFja2VuZCIsInByb3BOYW1lIiwicHJvcERlZiIsIk9iamVjdCIsImZpZWxkUGF0aCIsIml0ZW1zIiwiaSIsIml0ZW1Qcm9wIiwiaXRlbVByb3BEZWYiLCJiYXNlTmFtZSIsImNvdW50IiwiZGlzcGxheU5hbWUiLCJ2YXJpYWJsZU5hbWUiLCJ2YXJpYWJsZV9uYW1lIiwic29ydGVkTm9kZUlkcyIsIm9jY3VycmVuY2UiLCJpbmRleE9mIiwidGFyZ2V0Tm9kZUlkIiwicHJlZGVjZXNzb3JzIiwiU2V0IiwicXVldWUiLCJ2aXNpdGVkIiwiY3VycmVudElkIiwic2hpZnQiLCJpbmNvbWluZ0Nvbm5lY3Rpb25zIiwiZmlsdGVyIiwiY29ubiIsInRhcmdldElkIiwidGFyZ2V0X25vZGVfaWQiLCJ0YXJnZXQiLCJzb3VyY2VJZCIsInNvdXJjZV9ub2RlX2lkIiwic291cmNlIiwiYWRkIiwiZnJvbSIsInNob3VsZFVzZVZhcmlhYmxlSW5wdXQiLCJmaWVsZCIsImFsbG93X3RlbXBsYXRlIiwiYWxsb3dlZFdpZGdldHMiLCJ3aWRnZXQiLCJpbmNsdWRlcyIsImV4dHJhY3RWYXJpYWJsZVBhdGhzIiwidGVtcGxhdGUiLCJyZWdleCIsInBhdGhzIiwibWF0Y2giLCJleGVjIiwidmFsaWRhdGVWYXJpYWJsZVJlZmVyZW5jZXMiLCJjb25maWdWYWx1ZSIsIm1pc3NpbmciLCJhdmFpbGFibGVQYXRocyIsInZhcmlhYmxlX3BhdGgiLCJwYXRoIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/editor-page/utils/variableUtils.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/DocumentAnnotationEditor.tsx":
/*!*****************************************************!*\
  !*** ./src/components/DocumentAnnotationEditor.tsx ***!
  \*****************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DocumentAnnotationEditor: () => (/* binding */ DocumentAnnotationEditor)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/index.js\");\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dynamic */ \"(app-pages-browser)/./node_modules/next/dist/api/app-dynamic.js\");\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! fabric */ \"(app-pages-browser)/./node_modules/fabric/dist/index.min.mjs\");\n/* harmony import */ var _lib_api_config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/api-config */ \"(app-pages-browser)/./src/lib/api-config.ts\");\n/* harmony import */ var _react_pdf_viewer_core_lib_styles_index_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @react-pdf-viewer/core/lib/styles/index.css */ \"(app-pages-browser)/./node_modules/@react-pdf-viewer/core/lib/styles/index.css\");\n/**\r\n * Document Annotation Editor Component\r\n * \r\n * Uses @react-pdf-viewer/core for PDF rendering with Fabric.js overlay for annotations.\r\n * Properly handles Next.js SSR.\r\n */ /* __next_internal_client_entry_do_not_use__ DocumentAnnotationEditor auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n// Import PDF viewer styles\n\n// Dynamically import PDF viewer components with SSR disabled\nconst Viewer = (0,next_dynamic__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(()=>__webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_react-pdf-viewer_core_lib_index_js\").then(__webpack_require__.t.bind(__webpack_require__, /*! @react-pdf-viewer/core */ \"(app-pages-browser)/./node_modules/@react-pdf-viewer/core/lib/index.js\", 19)).then((mod)=>mod.Viewer), {\n    loadableGenerated: {\n        modules: [\n            \"components\\\\DocumentAnnotationEditor.tsx -> \" + \"@react-pdf-viewer/core\"\n        ]\n    },\n    ssr: false\n});\n_c = Viewer;\nconst Worker = (0,next_dynamic__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(()=>__webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_react-pdf-viewer_core_lib_index_js\").then(__webpack_require__.t.bind(__webpack_require__, /*! @react-pdf-viewer/core */ \"(app-pages-browser)/./node_modules/@react-pdf-viewer/core/lib/index.js\", 19)).then((mod)=>mod.Worker), {\n    loadableGenerated: {\n        modules: [\n            \"components\\\\DocumentAnnotationEditor.tsx -> \" + \"@react-pdf-viewer/core\"\n        ]\n    },\n    ssr: false\n});\n_c1 = Worker;\nfunction DocumentAnnotationEditorComponent({ mediaFormat, mode, annotations, onAnnotationsChange }) {\n    _s();\n    const [activeTool, setActiveTool] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('select');\n    const [drawingColor, setDrawingColor] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('#FF0000');\n    const [isClient, setIsClient] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [canvasReady, setCanvasReady] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const fabricCanvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const viewerContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const cleanupRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [pdfContentContainer, setPdfContentContainer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Ensure we're on client side\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"DocumentAnnotationEditorComponent.useEffect\": ()=>{\n            setIsClient(true);\n        }\n    }[\"DocumentAnnotationEditorComponent.useEffect\"], []);\n    // Get file ID from MediaFormat\n    const getFileId = ()=>{\n        if (mediaFormat.metadata?.file_id) {\n            return mediaFormat.metadata.file_id;\n        }\n        if (mediaFormat.data_type === 'file_path') {\n            const path = mediaFormat.data;\n            const uuidMatch = path.match(/([a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12})/i);\n            if (uuidMatch) {\n                return uuidMatch[1];\n            }\n            if (path && path.match(/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/i)) {\n                return path;\n            }\n        }\n        return null;\n    };\n    const fileId = getFileId();\n    const pdfUrl = fileId ? `${(0,_lib_api_config__WEBPACK_IMPORTED_MODULE_4__.getApiBaseUrl)()}/api/v1/files/${fileId}/view` : null;\n    // Find the PDF viewer content container\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"DocumentAnnotationEditorComponent.useEffect\": ()=>{\n            if (!isClient || !viewerContainerRef.current) return;\n            const findContainer = {\n                \"DocumentAnnotationEditorComponent.useEffect.findContainer\": ()=>{\n                    const container = viewerContainerRef.current?.querySelector('.rpv-core__inner-pages');\n                    if (container) {\n                        console.log('Found PDF content container');\n                        container.style.position = 'relative';\n                        setPdfContentContainer(container);\n                        return true;\n                    }\n                    return false;\n                }\n            }[\"DocumentAnnotationEditorComponent.useEffect.findContainer\"];\n            // Try immediately\n            if (findContainer()) return;\n            // Retry loop for when PDF loads\n            const interval = setInterval({\n                \"DocumentAnnotationEditorComponent.useEffect.interval\": ()=>{\n                    if (findContainer()) {\n                        clearInterval(interval);\n                    }\n                }\n            }[\"DocumentAnnotationEditorComponent.useEffect.interval\"], 500);\n            // Stop searching after 10 seconds\n            const timeout = setTimeout({\n                \"DocumentAnnotationEditorComponent.useEffect.timeout\": ()=>{\n                    clearInterval(interval);\n                }\n            }[\"DocumentAnnotationEditorComponent.useEffect.timeout\"], 10000);\n            return ({\n                \"DocumentAnnotationEditorComponent.useEffect\": ()=>{\n                    clearInterval(interval);\n                    clearTimeout(timeout);\n                }\n            })[\"DocumentAnnotationEditorComponent.useEffect\"];\n        }\n    }[\"DocumentAnnotationEditorComponent.useEffect\"], [\n        isClient,\n        pdfUrl\n    ]); // Re-run if PDF URL changes\n    // Initialize Fabric.js canvas overlay\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"DocumentAnnotationEditorComponent.useEffect\": ()=>{\n            if (!canvasRef.current || !pdfContentContainer || !isClient) {\n                return;\n            }\n            // Initialize canvas\n            const targetElement = pdfContentContainer;\n            const containerRect = targetElement.getBoundingClientRect();\n            const width = containerRect.width;\n            const height = containerRect.height;\n            console.log('Initializing canvas with dimensions:', width, 'x', height);\n            // Ensure we have valid dimensions\n            if (width === 0 || height === 0) {\n                console.warn('Container has zero dimensions, waiting for resize...');\n            }\n            const canvas = new fabric__WEBPACK_IMPORTED_MODULE_6__[\"default\"].Canvas(canvasRef.current, {\n                width: width || 100,\n                height: height || 100,\n                backgroundColor: 'transparent',\n                selection: mode === 'edit' && activeTool === 'select',\n                isDrawingMode: false\n            });\n            const wrapperEl = canvas.wrapperEl;\n            if (wrapperEl) {\n                // We no longer need to manually position the wrapper since it's inside our portal div\n                // but we do need to ensure it takes up full space\n                Object.assign(wrapperEl.style, {\n                    width: '100%',\n                    height: '100%'\n                });\n            }\n            canvas.lowerCanvasEl.style.pointerEvents = 'none';\n            canvas.upperCanvasEl.style.pointerEvents = 'all';\n            canvas.upperCanvasEl.style.touchAction = 'auto';\n            canvas.upperCanvasEl.style.zIndex = '10';\n            fabricCanvasRef.current = canvas;\n            setCanvasReady(true);\n            // DEBUG: Test if canvas receives events\n            canvas.on('mouse:down', {\n                \"DocumentAnnotationEditorComponent.useEffect\": (e)=>console.log(' Canvas click detected at', e.pointer)\n            }[\"DocumentAnnotationEditorComponent.useEffect\"]);\n            canvas.on('path:created', {\n                \"DocumentAnnotationEditorComponent.useEffect\": ()=>console.log(' Drawing created!')\n            }[\"DocumentAnnotationEditorComponent.useEffect\"]);\n            // Load existing annotations\n            if (annotations && annotations.length > 0) {\n                console.log('Loading annotations:', annotations.length);\n                annotations.forEach({\n                    \"DocumentAnnotationEditorComponent.useEffect\": (annotation)=>{\n                        if (annotation.data) {\n                            fabric__WEBPACK_IMPORTED_MODULE_6__[\"default\"].util.enlivenObjects([\n                                annotation.data\n                            ]).then({\n                                \"DocumentAnnotationEditorComponent.useEffect\": (objects)=>{\n                                    objects.forEach({\n                                        \"DocumentAnnotationEditorComponent.useEffect\": (obj)=>{\n                                            canvas.add(obj);\n                                        }\n                                    }[\"DocumentAnnotationEditorComponent.useEffect\"]);\n                                    canvas.renderAll();\n                                }\n                            }[\"DocumentAnnotationEditorComponent.useEffect\"]);\n                        }\n                    }\n                }[\"DocumentAnnotationEditorComponent.useEffect\"]);\n            }\n            // Handle resize (window resize or PDF zoom/content change)\n            const resizeObserver = new ResizeObserver({\n                \"DocumentAnnotationEditorComponent.useEffect\": (entries)=>{\n                    // Wrap in requestAnimationFrame to avoid \"ResizeObserver loop limit exceeded\"\n                    window.requestAnimationFrame({\n                        \"DocumentAnnotationEditorComponent.useEffect\": ()=>{\n                            if (!canvas || !canvas.getElement()) return;\n                            for (const entry of entries){\n                                // Use getBoundingClientRect to get the actual rendered dimensions (including zoom)\n                                const rect = entry.target.getBoundingClientRect();\n                                // Only update if dimensions changed significantly\n                                if (Math.abs(rect.width - (canvas.width || 0)) > 1 || Math.abs(rect.height - (canvas.height || 0)) > 1) {\n                                    console.log('Resizing canvas to match content:', rect.width, 'x', rect.height);\n                                    canvas.setDimensions({\n                                        width: rect.width,\n                                        height: rect.height\n                                    });\n                                    canvas.renderAll();\n                                }\n                            }\n                        }\n                    }[\"DocumentAnnotationEditorComponent.useEffect\"]);\n                }\n            }[\"DocumentAnnotationEditorComponent.useEffect\"]);\n            // Observe the content element\n            resizeObserver.observe(targetElement);\n            return ({\n                \"DocumentAnnotationEditorComponent.useEffect\": ()=>{\n                    resizeObserver.disconnect();\n                    if (fabricCanvasRef.current) {\n                        fabricCanvasRef.current.dispose();\n                        fabricCanvasRef.current = null;\n                        setCanvasReady(false);\n                    }\n                }\n            })[\"DocumentAnnotationEditorComponent.useEffect\"];\n        }\n    }[\"DocumentAnnotationEditorComponent.useEffect\"], [\n        isClient,\n        mode,\n        pdfContentContainer\n    ]); // Re-init if container changes (unlikely) or mode changes\n    // Handle tool changes\n    // Handle tool changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"DocumentAnnotationEditorComponent.useEffect\": ()=>{\n            const canvas = fabricCanvasRef.current;\n            if (!canvas || !canvasReady) {\n                console.log('No canvas for tool change, canvasReady:', canvasReady);\n                return;\n            }\n            console.log('Tool changed to:', activeTool);\n            canvas.isDrawingMode = false;\n            canvas.selection = false;\n            if (mode === 'view') {\n                canvas.selection = false;\n                canvas.isDrawingMode = false;\n            } else {\n                switch(activeTool){\n                    case 'select':\n                        canvas.selection = true;\n                        console.log('Selection mode enabled');\n                        break;\n                    case 'pen':\n                        canvas.isDrawingMode = true;\n                        canvas.freeDrawingBrush = new fabric__WEBPACK_IMPORTED_MODULE_6__[\"default\"].PencilBrush(canvas);\n                        canvas.freeDrawingBrush.color = drawingColor;\n                        canvas.freeDrawingBrush.width = 3;\n                        console.log('Pen mode enabled, color:', drawingColor);\n                        break;\n                    case 'highlighter':\n                        canvas.isDrawingMode = true;\n                        canvas.freeDrawingBrush = new fabric__WEBPACK_IMPORTED_MODULE_6__[\"default\"].PencilBrush(canvas);\n                        const hexColor = drawingColor;\n                        const r = parseInt(hexColor.slice(1, 3), 16);\n                        const g = parseInt(hexColor.slice(3, 5), 16);\n                        const b = parseInt(hexColor.slice(5, 7), 16);\n                        canvas.freeDrawingBrush.color = `rgba(${r}, ${g}, ${b}, 0.3)`;\n                        canvas.freeDrawingBrush.width = 20;\n                        console.log('Highlighter mode enabled');\n                        break;\n                    case 'text':\n                        canvas.selection = false;\n                        console.log('Text mode enabled');\n                        break;\n                    case 'rectangle':\n                        canvas.selection = false;\n                        console.log('Rectangle mode enabled');\n                        break;\n                }\n            }\n            const upperCanvas = canvas.upperCanvasEl;\n            if (upperCanvas) {\n                if (mode === 'view') {\n                    upperCanvas.style.pointerEvents = 'none';\n                } else {\n                    // Only enable pointer events when actively using a drawing tool\n                    // In select mode, allow events to pass through for PDF scrolling\n                    upperCanvas.style.pointerEvents = activeTool === 'select' ? 'none' : 'all';\n                    upperCanvas.style.cursor = activeTool === 'select' ? 'default' : 'crosshair';\n                }\n            }\n        }\n    }[\"DocumentAnnotationEditorComponent.useEffect\"], [\n        activeTool,\n        drawingColor,\n        mode,\n        canvasReady\n    ]);\n    // Allow scrolling the PDF while canvas overlay is active\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"DocumentAnnotationEditorComponent.useEffect\": ()=>{\n            const canvas = fabricCanvasRef.current;\n            const viewerEl = viewerContainerRef.current;\n            if (!canvas || !viewerEl || !canvasReady) {\n                return;\n            }\n            const wrapperEl = canvas.wrapperEl;\n            if (!wrapperEl) {\n                return;\n            }\n            // Make wrapper allow pointer events to pass through when not drawing\n            const needsPointerEvents = mode === 'edit' && activeTool !== 'select';\n            wrapperEl.style.pointerEvents = needsPointerEvents ? 'auto' : 'none';\n        // No need for custom wheel handler - let events pass through naturally\n        }\n    }[\"DocumentAnnotationEditorComponent.useEffect\"], [\n        canvasReady,\n        mode,\n        activeTool\n    ]);\n    // Handle object creation (save annotations)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"DocumentAnnotationEditorComponent.useEffect\": ()=>{\n            const canvas = fabricCanvasRef.current;\n            if (!canvas || mode === 'view' || !canvasReady) return;\n            const handleObjectAdded = {\n                \"DocumentAnnotationEditorComponent.useEffect.handleObjectAdded\": ()=>{\n                    const objects = canvas.getObjects();\n                    const newAnnotations = objects.map({\n                        \"DocumentAnnotationEditorComponent.useEffect.handleObjectAdded.newAnnotations\": (obj, index)=>({\n                                id: `annotation-${index}`,\n                                type: obj.type === 'path' ? activeTool === 'highlighter' ? 'highlight' : 'freehand' : 'rectangle',\n                                color: drawingColor,\n                                data: obj.toJSON(),\n                                bounds: {\n                                    x: obj.left || 0,\n                                    y: obj.top || 0,\n                                    width: obj.width || 0,\n                                    height: obj.height || 0\n                                }\n                            })\n                    }[\"DocumentAnnotationEditorComponent.useEffect.handleObjectAdded.newAnnotations\"]);\n                    onAnnotationsChange(newAnnotations);\n                }\n            }[\"DocumentAnnotationEditorComponent.useEffect.handleObjectAdded\"];\n            canvas.on('path:created', handleObjectAdded);\n            canvas.on('object:added', handleObjectAdded);\n            canvas.on('object:modified', handleObjectAdded);\n            canvas.on('object:removed', handleObjectAdded);\n            return ({\n                \"DocumentAnnotationEditorComponent.useEffect\": ()=>{\n                    canvas.off('path:created', handleObjectAdded);\n                    canvas.off('object:added', handleObjectAdded);\n                    canvas.off('object:modified', handleObjectAdded);\n                    canvas.off('object:removed', handleObjectAdded);\n                }\n            })[\"DocumentAnnotationEditorComponent.useEffect\"];\n        }\n    }[\"DocumentAnnotationEditorComponent.useEffect\"], [\n        mode,\n        activeTool,\n        drawingColor,\n        onAnnotationsChange,\n        canvasReady\n    ]);\n    // Handle text and rectangle tools\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"DocumentAnnotationEditorComponent.useEffect\": ()=>{\n            const canvas = fabricCanvasRef.current;\n            if (!canvas || mode === 'view' || !canvasReady) return;\n            if (activeTool === 'text') {\n                const handleTextClick = {\n                    \"DocumentAnnotationEditorComponent.useEffect.handleTextClick\": (e)=>{\n                        const evt = e;\n                        if (!evt.pointer) return;\n                        const text = new fabric__WEBPACK_IMPORTED_MODULE_6__[\"default\"].IText('Click to edit', {\n                            left: evt.pointer.x,\n                            top: evt.pointer.y,\n                            fill: drawingColor,\n                            fontSize: 20,\n                            fontFamily: 'Arial'\n                        });\n                        canvas.add(text);\n                        canvas.setActiveObject(text);\n                        text.enterEditing();\n                        canvas.renderAll();\n                    }\n                }[\"DocumentAnnotationEditorComponent.useEffect.handleTextClick\"];\n                canvas.on('mouse:down', handleTextClick);\n                return ({\n                    \"DocumentAnnotationEditorComponent.useEffect\": ()=>{\n                        canvas.off('mouse:down', handleTextClick);\n                    }\n                })[\"DocumentAnnotationEditorComponent.useEffect\"];\n            }\n            if (activeTool === 'rectangle') {\n                let isDrawing = false;\n                let startX = 0;\n                let startY = 0;\n                let rect = null;\n                const handleMouseDown = {\n                    \"DocumentAnnotationEditorComponent.useEffect.handleMouseDown\": (e)=>{\n                        const evt = e;\n                        if (!evt.pointer) return;\n                        isDrawing = true;\n                        startX = evt.pointer.x;\n                        startY = evt.pointer.y;\n                        rect = new fabric__WEBPACK_IMPORTED_MODULE_6__[\"default\"].Rect({\n                            left: startX,\n                            top: startY,\n                            width: 0,\n                            height: 0,\n                            fill: 'transparent',\n                            stroke: drawingColor,\n                            strokeWidth: 3\n                        });\n                        canvas.add(rect);\n                    }\n                }[\"DocumentAnnotationEditorComponent.useEffect.handleMouseDown\"];\n                const handleMouseMove = {\n                    \"DocumentAnnotationEditorComponent.useEffect.handleMouseMove\": (e)=>{\n                        if (!isDrawing || !rect) return;\n                        const evt = e;\n                        if (!evt.pointer) return;\n                        const width = evt.pointer.x - startX;\n                        const height = evt.pointer.y - startY;\n                        rect.set({\n                            width: Math.abs(width),\n                            height: Math.abs(height),\n                            left: width < 0 ? evt.pointer.x : startX,\n                            top: height < 0 ? evt.pointer.y : startY\n                        });\n                        canvas.renderAll();\n                    }\n                }[\"DocumentAnnotationEditorComponent.useEffect.handleMouseMove\"];\n                const handleMouseUp = {\n                    \"DocumentAnnotationEditorComponent.useEffect.handleMouseUp\": ()=>{\n                        isDrawing = false;\n                        rect = null;\n                    }\n                }[\"DocumentAnnotationEditorComponent.useEffect.handleMouseUp\"];\n                canvas.on('mouse:down', handleMouseDown);\n                canvas.on('mouse:move', handleMouseMove);\n                canvas.on('mouse:up', handleMouseUp);\n                return ({\n                    \"DocumentAnnotationEditorComponent.useEffect\": ()=>{\n                        canvas.off('mouse:down', handleMouseDown);\n                        canvas.off('mouse:move', handleMouseMove);\n                        canvas.off('mouse:up', handleMouseUp);\n                    }\n                })[\"DocumentAnnotationEditorComponent.useEffect\"];\n            }\n        }\n    }[\"DocumentAnnotationEditorComponent.useEffect\"], [\n        activeTool,\n        drawingColor,\n        mode,\n        canvasReady\n    ]);\n    // Clear all annotations\n    const handleClear = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"DocumentAnnotationEditorComponent.useCallback[handleClear]\": ()=>{\n            const canvas = fabricCanvasRef.current;\n            if (!canvas) return;\n            const objects = canvas.getObjects();\n            objects.forEach({\n                \"DocumentAnnotationEditorComponent.useCallback[handleClear]\": (obj)=>canvas.remove(obj)\n            }[\"DocumentAnnotationEditorComponent.useCallback[handleClear]\"]);\n            canvas.renderAll();\n            onAnnotationsChange([]);\n        }\n    }[\"DocumentAnnotationEditorComponent.useCallback[handleClear]\"], [\n        onAnnotationsChange\n    ]);\n    // Delete selected object\n    const handleDelete = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"DocumentAnnotationEditorComponent.useCallback[handleDelete]\": ()=>{\n            const canvas = fabricCanvasRef.current;\n            if (!canvas) return;\n            const activeObject = canvas.getActiveObject();\n            if (activeObject) {\n                canvas.remove(activeObject);\n                canvas.renderAll();\n            }\n        }\n    }[\"DocumentAnnotationEditorComponent.useCallback[handleDelete]\"], []);\n    if (!pdfUrl) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"w-full h-full flex items-center justify-center text-white\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                        className: \"fas fa-file-pdf text-4xl mb-3 opacity-50\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\DocumentAnnotationEditor.tsx\",\n                        lineNumber: 468,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: \"Unable to load PDF\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\DocumentAnnotationEditor.tsx\",\n                        lineNumber: 469,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-sm opacity-75\",\n                        children: \"File ID not found\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\DocumentAnnotationEditor.tsx\",\n                        lineNumber: 470,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\DocumentAnnotationEditor.tsx\",\n                lineNumber: 467,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\DocumentAnnotationEditor.tsx\",\n            lineNumber: 466,\n            columnNumber: 7\n        }, this);\n    }\n    if (!isClient) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"w-full h-full flex items-center justify-center text-white\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                        className: \"fas fa-spinner fa-spin text-2xl mb-2\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\DocumentAnnotationEditor.tsx\",\n                        lineNumber: 480,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: \"Loading PDF viewer...\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\DocumentAnnotationEditor.tsx\",\n                        lineNumber: 481,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\DocumentAnnotationEditor.tsx\",\n                lineNumber: 479,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\DocumentAnnotationEditor.tsx\",\n            lineNumber: 478,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative w-full h-full flex flex-col bg-gray-900\",\n        children: [\n            mode === 'edit' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute top-4 left-1/2 -translate-x-1/2 z-20 flex gap-2 p-2 rounded-lg shadow-lg\",\n                style: {\n                    background: 'rgba(255, 255, 255, 0.95)',\n                    backdropFilter: 'blur(10px)'\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>setActiveTool('select'),\n                        className: `p-2 px-3 rounded transition-colors ${activeTool === 'select' ? 'bg-blue-500 text-white' : 'bg-gray-100 hover:bg-gray-200'}`,\n                        title: \"Select (Move/Resize)\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                            className: \"fas fa-mouse-pointer\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\DocumentAnnotationEditor.tsx\",\n                            lineNumber: 506,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\DocumentAnnotationEditor.tsx\",\n                        lineNumber: 499,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>setActiveTool('pen'),\n                        className: `p-2 px-3 rounded transition-colors ${activeTool === 'pen' ? 'bg-blue-500 text-white' : 'bg-gray-100 hover:bg-gray-200'}`,\n                        title: \"Freehand Pen\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                            className: \"fas fa-pen\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\DocumentAnnotationEditor.tsx\",\n                            lineNumber: 516,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\DocumentAnnotationEditor.tsx\",\n                        lineNumber: 509,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>setActiveTool('highlighter'),\n                        className: `p-2 px-3 rounded transition-colors ${activeTool === 'highlighter' ? 'bg-blue-500 text-white' : 'bg-gray-100 hover:bg-gray-200'}`,\n                        title: \"Highlighter\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                            className: \"fas fa-highlighter\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\DocumentAnnotationEditor.tsx\",\n                            lineNumber: 526,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\DocumentAnnotationEditor.tsx\",\n                        lineNumber: 519,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>setActiveTool('text'),\n                        className: `p-2 px-3 rounded transition-colors ${activeTool === 'text' ? 'bg-blue-500 text-white' : 'bg-gray-100 hover:bg-gray-200'}`,\n                        title: \"Text\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                            className: \"fas fa-font\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\DocumentAnnotationEditor.tsx\",\n                            lineNumber: 536,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\DocumentAnnotationEditor.tsx\",\n                        lineNumber: 529,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>setActiveTool('rectangle'),\n                        className: `p-2 px-3 rounded transition-colors ${activeTool === 'rectangle' ? 'bg-blue-500 text-white' : 'bg-gray-100 hover:bg-gray-200'}`,\n                        title: \"Rectangle\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                            className: \"far fa-square\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\DocumentAnnotationEditor.tsx\",\n                            lineNumber: 546,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\DocumentAnnotationEditor.tsx\",\n                        lineNumber: 539,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-px bg-gray-300\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\DocumentAnnotationEditor.tsx\",\n                        lineNumber: 549,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: \"text-sm text-gray-600\",\n                                children: \"Color:\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\DocumentAnnotationEditor.tsx\",\n                                lineNumber: 553,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                type: \"color\",\n                                value: drawingColor,\n                                onChange: (e)=>setDrawingColor(e.target.value),\n                                className: \"w-10 h-8 rounded cursor-pointer\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\DocumentAnnotationEditor.tsx\",\n                                lineNumber: 554,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\DocumentAnnotationEditor.tsx\",\n                        lineNumber: 552,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-px bg-gray-300\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\DocumentAnnotationEditor.tsx\",\n                        lineNumber: 562,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleDelete,\n                        className: \"p-2 px-3 rounded bg-orange-100 hover:bg-orange-200 text-orange-700 transition-colors\",\n                        title: \"Delete Selected\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                            className: \"fas fa-eraser\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\DocumentAnnotationEditor.tsx\",\n                            lineNumber: 570,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\DocumentAnnotationEditor.tsx\",\n                        lineNumber: 565,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleClear,\n                        className: \"p-2 px-3 rounded bg-red-100 hover:bg-red-200 text-red-700 transition-colors\",\n                        title: \"Clear All Annotations\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                            className: \"fas fa-trash\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\DocumentAnnotationEditor.tsx\",\n                            lineNumber: 578,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\DocumentAnnotationEditor.tsx\",\n                        lineNumber: 573,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\DocumentAnnotationEditor.tsx\",\n                lineNumber: 491,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: viewerContainerRef,\n                className: \"flex-1 relative\",\n                style: {\n                    background: '#374151',\n                    overflow: 'auto'\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-full h-full\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Worker, {\n                            workerUrl: `https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.worker.min.js`,\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Viewer, {\n                                fileUrl: pdfUrl\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\DocumentAnnotationEditor.tsx\",\n                                lineNumber: 594,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\DocumentAnnotationEditor.tsx\",\n                            lineNumber: 593,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\DocumentAnnotationEditor.tsx\",\n                        lineNumber: 590,\n                        columnNumber: 9\n                    }, this),\n                    mode === 'edit' && pdfContentContainer && /*#__PURE__*/ (0,react_dom__WEBPACK_IMPORTED_MODULE_2__.createPortal)(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"annotation-layer-wrapper\",\n                        style: {\n                            position: 'absolute',\n                            top: 0,\n                            left: 0,\n                            width: '100%',\n                            height: '100%',\n                            zIndex: 10,\n                            pointerEvents: 'none'\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                            ref: canvasRef,\n                            className: \"absolute top-0 left-0\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\DocumentAnnotationEditor.tsx\",\n                            lineNumber: 615,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\DocumentAnnotationEditor.tsx\",\n                        lineNumber: 603,\n                        columnNumber: 9\n                    }, this), pdfContentContainer)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\DocumentAnnotationEditor.tsx\",\n                lineNumber: 584,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\DocumentAnnotationEditor.tsx\",\n        lineNumber: 488,\n        columnNumber: 5\n    }, this);\n}\n_s(DocumentAnnotationEditorComponent, \"yGDlb6vRttTM4dlSWfsICHLU+mE=\");\n_c2 = DocumentAnnotationEditorComponent;\n// Export with dynamic import\nconst DocumentAnnotationEditor = DocumentAnnotationEditorComponent;\nvar _c, _c1, _c2;\n$RefreshReg$(_c, \"Viewer\");\n$RefreshReg$(_c1, \"Worker\");\n$RefreshReg$(_c2, \"DocumentAnnotationEditorComponent\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL0RvY3VtZW50QW5ub3RhdGlvbkVkaXRvci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7O0NBS0M7O0FBSXVFO0FBQy9CO0FBQ047QUFDUDtBQUNxQjtBQUdqRCwyQkFBMkI7QUFDMEI7QUFFckQsNkRBQTZEO0FBQzdELE1BQU1TLFNBQVNILHdEQUFPQSxDQUNwQixJQUFNLDZRQUFnQyxDQUFDSSxJQUFJLENBQUMsQ0FBQ0MsTUFBUUEsSUFBSUYsTUFBTTs7Ozs7O0lBQzdERyxLQUFLOztLQUZISDtBQUtOLE1BQU1JLFNBQVNQLHdEQUFPQSxDQUNwQixJQUFNLDZRQUFnQyxDQUFDSSxJQUFJLENBQUMsQ0FBQ0MsTUFBUUEsSUFBSUUsTUFBTTs7Ozs7O0lBQzdERCxLQUFLOztNQUZIQztBQWNOLFNBQVNDLGtDQUFrQyxFQUN6Q0MsV0FBVyxFQUNYQyxJQUFJLEVBQ0pDLFdBQVcsRUFDWEMsbUJBQW1CLEVBQ1c7O0lBQzlCLE1BQU0sQ0FBQ0MsWUFBWUMsY0FBYyxHQUFHbkIsK0NBQVFBLENBQWM7SUFDMUQsTUFBTSxDQUFDb0IsY0FBY0MsZ0JBQWdCLEdBQUdyQiwrQ0FBUUEsQ0FBQztJQUNqRCxNQUFNLENBQUNzQixVQUFVQyxZQUFZLEdBQUd2QiwrQ0FBUUEsQ0FBQztJQUN6QyxNQUFNLENBQUN3QixhQUFhQyxlQUFlLEdBQUd6QiwrQ0FBUUEsQ0FBQztJQUUvQyxNQUFNMEIsWUFBWXpCLDZDQUFNQSxDQUFvQjtJQUM1QyxNQUFNMEIsa0JBQWtCMUIsNkNBQU1BLENBQXVCO0lBQ3JELE1BQU0yQixxQkFBcUIzQiw2Q0FBTUEsQ0FBaUI7SUFDbEQsTUFBTTRCLGFBQWE1Qiw2Q0FBTUEsQ0FBc0I7SUFDL0MsTUFBTSxDQUFDNkIscUJBQXFCQyx1QkFBdUIsR0FBRy9CLCtDQUFRQSxDQUFxQjtJQUVuRiw4QkFBOEI7SUFDOUJFLGdEQUFTQTt1REFBQztZQUNScUIsWUFBWTtRQUNk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V0FBVyxDQUFDLDZEQUE2RCxDQUFDO3NDQUNoRiw0RUFBQ2hLO2dDQUFPaUssU0FBU2hJOzs7Ozs7Ozs7Ozs7Ozs7O29CQVF0QjFCLFNBQVMsVUFBVWUscUNBQXVCMUIsdURBQVlBLGVBQ3JELDhEQUFDcUo7d0JBQ0NDLFdBQVU7d0JBQ1YxRyxPQUFPOzRCQUNMQyxVQUFVOzRCQUNWOEUsS0FBSzs0QkFDTEYsTUFBTTs0QkFDTmxFLE9BQU87NEJBQ1BDLFFBQVE7NEJBQ1JjLFFBQVE7NEJBQ1JILGVBQWU7d0JBQ2pCO2tDQUVBLDRFQUFDVDs0QkFDQ3dHLEtBQUs1STs0QkFDTGdJLFdBQVU7Ozs7Ozs7Ozs7OEJBR2Q1SDs7Ozs7Ozs7Ozs7OztBQUtSO0dBemtCU2pCO01BQUFBO0FBMmtCVCw2QkFBNkI7QUFDdEIsTUFBTTZKLDJCQUEyQjdKLGtDQUFrQyIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxuaWNob2xhcy5sZWVcXERvY3VtZW50c1xcelxcVGlja2V0aW5nX05pY2tcXFRpY2tldGluZ1xcdGF2X29wZW5zb3VyY2VcXHVpXFxzcmNcXGNvbXBvbmVudHNcXERvY3VtZW50QW5ub3RhdGlvbkVkaXRvci50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIERvY3VtZW50IEFubm90YXRpb24gRWRpdG9yIENvbXBvbmVudFxyXG4gKiBcclxuICogVXNlcyBAcmVhY3QtcGRmLXZpZXdlci9jb3JlIGZvciBQREYgcmVuZGVyaW5nIHdpdGggRmFicmljLmpzIG92ZXJsYXkgZm9yIGFubm90YXRpb25zLlxyXG4gKiBQcm9wZXJseSBoYW5kbGVzIE5leHQuanMgU1NSLlxyXG4gKi9cclxuXHJcbid1c2UgY2xpZW50JztcclxuXHJcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlUmVmLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBjcmVhdGVQb3J0YWwgfSBmcm9tICdyZWFjdC1kb20nO1xyXG5pbXBvcnQgZHluYW1pYyBmcm9tICduZXh0L2R5bmFtaWMnO1xyXG5pbXBvcnQgZmFicmljIGZyb20gJ2ZhYnJpYyc7XHJcbmltcG9ydCB7IGdldEFwaUJhc2VVcmwgfSBmcm9tICdAL2xpYi9hcGktY29uZmlnJztcclxuaW1wb3J0IHR5cGUgeyBNZWRpYUZvcm1hdCwgQW5ub3RhdGlvbiB9IGZyb20gJy4vTWVkaWFGdWxsU2NyZWVuTW9kYWwnO1xyXG5cclxuLy8gSW1wb3J0IFBERiB2aWV3ZXIgc3R5bGVzXHJcbmltcG9ydCAnQHJlYWN0LXBkZi12aWV3ZXIvY29yZS9saWIvc3R5bGVzL2luZGV4LmNzcyc7XHJcblxyXG4vLyBEeW5hbWljYWxseSBpbXBvcnQgUERGIHZpZXdlciBjb21wb25lbnRzIHdpdGggU1NSIGRpc2FibGVkXHJcbmNvbnN0IFZpZXdlciA9IGR5bmFtaWMoXHJcbiAgKCkgPT4gaW1wb3J0KCdAcmVhY3QtcGRmLXZpZXdlci9jb3JlJykudGhlbigobW9kKSA9PiBtb2QuVmlld2VyKSxcclxuICB7IHNzcjogZmFsc2UgfVxyXG4pO1xyXG5cclxuY29uc3QgV29ya2VyID0gZHluYW1pYyhcclxuICAoKSA9PiBpbXBvcnQoJ0ByZWFjdC1wZGYtdmlld2VyL2NvcmUnKS50aGVuKChtb2QpID0+IG1vZC5Xb3JrZXIpLFxyXG4gIHsgc3NyOiBmYWxzZSB9XHJcbik7XHJcblxyXG5pbnRlcmZhY2UgRG9jdW1lbnRBbm5vdGF0aW9uRWRpdG9yUHJvcHMge1xyXG4gIG1lZGlhRm9ybWF0OiBNZWRpYUZvcm1hdDtcclxuICBtb2RlOiAndmlldycgfCAnZWRpdCc7XHJcbiAgYW5ub3RhdGlvbnM6IEFubm90YXRpb25bXTtcclxuICBvbkFubm90YXRpb25zQ2hhbmdlOiAoYW5ub3RhdGlvbnM6IEFubm90YXRpb25bXSkgPT4gdm9pZDtcclxufVxyXG5cclxudHlwZSBEcmF3aW5nVG9vbCA9ICdzZWxlY3QnIHwgJ3BlbicgfCAnaGlnaGxpZ2h0ZXInIHwgJ3RleHQnIHwgJ3JlY3RhbmdsZSc7XHJcblxyXG5mdW5jdGlvbiBEb2N1bWVudEFubm90YXRpb25FZGl0b3JDb21wb25lbnQoe1xyXG4gIG1lZGlhRm9ybWF0LFxyXG4gIG1vZGUsXHJcbiAgYW5ub3RhdGlvbnMsXHJcbiAgb25Bbm5vdGF0aW9uc0NoYW5nZSxcclxufTogRG9jdW1lbnRBbm5vdGF0aW9uRWRpdG9yUHJvcHMpIHtcclxuICBjb25zdCBbYWN0aXZlVG9vbCwgc2V0QWN0aXZlVG9vbF0gPSB1c2VTdGF0ZTxEcmF3aW5nVG9vbD4oJ3NlbGVjdCcpO1xyXG4gIGNvbnN0IFtkcmF3aW5nQ29sb3IsIHNldERyYXdpbmdDb2xvcl0gPSB1c2VTdGF0ZSgnI0ZGMDAwMCcpO1xyXG4gIGNvbnN0IFtpc0NsaWVudCwgc2V0SXNDbGllbnRdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtjYW52YXNSZWFkeSwgc2V0Q2FudmFzUmVhZHldID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIFxyXG4gIGNvbnN0IGNhbnZhc1JlZiA9IHVzZVJlZjxIVE1MQ2FudmFzRWxlbWVudD4obnVsbCk7XHJcbiAgY29uc3QgZmFicmljQ2FudmFzUmVmID0gdXNlUmVmPGZhYnJpYy5DYW52YXMgfCBudWxsPihudWxsKTtcclxuICBjb25zdCB2aWV3ZXJDb250YWluZXJSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xyXG4gIGNvbnN0IGNsZWFudXBSZWYgPSB1c2VSZWY8KCgpID0+IHZvaWQpIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW3BkZkNvbnRlbnRDb250YWluZXIsIHNldFBkZkNvbnRlbnRDb250YWluZXJdID0gdXNlU3RhdGU8SFRNTEVsZW1lbnQgfCBudWxsPihudWxsKTtcclxuXHJcbiAgLy8gRW5zdXJlIHdlJ3JlIG9uIGNsaWVudCBzaWRlXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIHNldElzQ2xpZW50KHRydWUpO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgLy8gR2V0IGZpbGUgSUQgZnJvbSBNZWRpYUZvcm1hdFxyXG4gIGNvbnN0IGdldEZpbGVJZCA9ICgpID0+IHtcclxuICAgIGlmIChtZWRpYUZvcm1hdC5tZXRhZGF0YT8uZmlsZV9pZCkge1xyXG4gICAgICByZXR1cm4gbWVkaWFGb3JtYXQubWV0YWRhdGEuZmlsZV9pZDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKG1lZGlhRm9ybWF0LmRhdGFfdHlwZSA9PT0gJ2ZpbGVfcGF0aCcpIHtcclxuICAgICAgY29uc3QgcGF0aCA9IG1lZGlhRm9ybWF0LmRhdGE7XHJcbiAgICAgIGNvbnN0IHV1aWRNYXRjaCA9IHBhdGgubWF0Y2goLyhbYS1mMC05XXs4fS1bYS1mMC05XXs0fS1bYS1mMC05XXs0fS1bYS1mMC05XXs0fS1bYS1mMC05XXsxMn0pL2kpO1xyXG4gICAgICBpZiAodXVpZE1hdGNoKSB7XHJcbiAgICAgICAgcmV0dXJuIHV1aWRNYXRjaFsxXTtcclxuICAgICAgfVxyXG4gICAgICBpZiAocGF0aCAmJiBwYXRoLm1hdGNoKC9eW2EtZjAtOV17OH0tW2EtZjAtOV17NH0tW2EtZjAtOV17NH0tW2EtZjAtOV17NH0tW2EtZjAtOV17MTJ9JC9pKSkge1xyXG4gICAgICAgIHJldHVybiBwYXRoO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGZpbGVJZCA9IGdldEZpbGVJZCgpO1xyXG4gIGNvbnN0IHBkZlVybCA9IGZpbGVJZCA/IGAke2dldEFwaUJhc2VVcmwoKX0vYXBpL3YxL2ZpbGVzLyR7ZmlsZUlkfS92aWV3YCA6IG51bGw7XHJcblxyXG4gIC8vIEZpbmQgdGhlIFBERiB2aWV3ZXIgY29udGVudCBjb250YWluZXJcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKCFpc0NsaWVudCB8fCAhdmlld2VyQ29udGFpbmVyUmVmLmN1cnJlbnQpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBmaW5kQ29udGFpbmVyID0gKCkgPT4ge1xyXG4gICAgICBjb25zdCBjb250YWluZXIgPSB2aWV3ZXJDb250YWluZXJSZWYuY3VycmVudD8ucXVlcnlTZWxlY3RvcignLnJwdi1jb3JlX19pbm5lci1wYWdlcycpO1xyXG4gICAgICBpZiAoY29udGFpbmVyKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0ZvdW5kIFBERiBjb250ZW50IGNvbnRhaW5lcicpO1xyXG4gICAgICAgIChjb250YWluZXIgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcclxuICAgICAgICBzZXRQZGZDb250ZW50Q29udGFpbmVyKGNvbnRhaW5lciBhcyBIVE1MRWxlbWVudCk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBUcnkgaW1tZWRpYXRlbHlcclxuICAgIGlmIChmaW5kQ29udGFpbmVyKCkpIHJldHVybjtcclxuXHJcbiAgICAvLyBSZXRyeSBsb29wIGZvciB3aGVuIFBERiBsb2Fkc1xyXG4gICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgIGlmIChmaW5kQ29udGFpbmVyKCkpIHtcclxuICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcclxuICAgICAgfVxyXG4gICAgfSwgNTAwKTtcclxuXHJcbiAgICAvLyBTdG9wIHNlYXJjaGluZyBhZnRlciAxMCBzZWNvbmRzXHJcbiAgICBjb25zdCB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xyXG4gICAgfSwgMTAwMDApO1xyXG5cclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xyXG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XHJcbiAgICB9O1xyXG4gIH0sIFtpc0NsaWVudCwgcGRmVXJsXSk7IC8vIFJlLXJ1biBpZiBQREYgVVJMIGNoYW5nZXNcclxuXHJcbiAgLy8gSW5pdGlhbGl6ZSBGYWJyaWMuanMgY2FudmFzIG92ZXJsYXlcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKCFjYW52YXNSZWYuY3VycmVudCB8fCAhcGRmQ29udGVudENvbnRhaW5lciB8fCAhaXNDbGllbnQpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEluaXRpYWxpemUgY2FudmFzXHJcbiAgICBjb25zdCB0YXJnZXRFbGVtZW50ID0gcGRmQ29udGVudENvbnRhaW5lcjtcclxuICAgIGNvbnN0IGNvbnRhaW5lclJlY3QgPSB0YXJnZXRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgY29uc3Qgd2lkdGggPSBjb250YWluZXJSZWN0LndpZHRoO1xyXG4gICAgY29uc3QgaGVpZ2h0ID0gY29udGFpbmVyUmVjdC5oZWlnaHQ7XHJcblxyXG4gICAgY29uc29sZS5sb2coJ0luaXRpYWxpemluZyBjYW52YXMgd2l0aCBkaW1lbnNpb25zOicsIHdpZHRoLCAneCcsIGhlaWdodCk7XHJcblxyXG4gICAgLy8gRW5zdXJlIHdlIGhhdmUgdmFsaWQgZGltZW5zaW9uc1xyXG4gICAgaWYgKHdpZHRoID09PSAwIHx8IGhlaWdodCA9PT0gMCkge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ0NvbnRhaW5lciBoYXMgemVybyBkaW1lbnNpb25zLCB3YWl0aW5nIGZvciByZXNpemUuLi4nKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjYW52YXMgPSBuZXcgZmFicmljLkNhbnZhcyhjYW52YXNSZWYuY3VycmVudCwge1xyXG4gICAgICB3aWR0aDogd2lkdGggfHwgMTAwLCAvLyBGYWxsYmFjayB0byBhdm9pZCBlcnJvclxyXG4gICAgICBoZWlnaHQ6IGhlaWdodCB8fCAxMDAsXHJcbiAgICAgIGJhY2tncm91bmRDb2xvcjogJ3RyYW5zcGFyZW50JyxcclxuICAgICAgc2VsZWN0aW9uOiBtb2RlID09PSAnZWRpdCcgJiYgYWN0aXZlVG9vbCA9PT0gJ3NlbGVjdCcsXHJcbiAgICAgIGlzRHJhd2luZ01vZGU6IGZhbHNlLFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3Qgd3JhcHBlckVsID0gY2FudmFzLndyYXBwZXJFbCBhcyBIVE1MRGl2RWxlbWVudCB8IG51bGw7XHJcbiAgICBpZiAod3JhcHBlckVsKSB7XHJcbiAgICAgIC8vIFdlIG5vIGxvbmdlciBuZWVkIHRvIG1hbnVhbGx5IHBvc2l0aW9uIHRoZSB3cmFwcGVyIHNpbmNlIGl0J3MgaW5zaWRlIG91ciBwb3J0YWwgZGl2XHJcbiAgICAgIC8vIGJ1dCB3ZSBkbyBuZWVkIHRvIGVuc3VyZSBpdCB0YWtlcyB1cCBmdWxsIHNwYWNlXHJcbiAgICAgIE9iamVjdC5hc3NpZ24od3JhcHBlckVsLnN0eWxlLCB7XHJcbiAgICAgICAgd2lkdGg6ICcxMDAlJyxcclxuICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2FudmFzLmxvd2VyQ2FudmFzRWwuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcclxuICAgIGNhbnZhcy51cHBlckNhbnZhc0VsLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnYWxsJztcclxuICAgIGNhbnZhcy51cHBlckNhbnZhc0VsLnN0eWxlLnRvdWNoQWN0aW9uID0gJ2F1dG8nO1xyXG4gICAgY2FudmFzLnVwcGVyQ2FudmFzRWwuc3R5bGUuekluZGV4ID0gJzEwJztcclxuXHJcbiAgICBmYWJyaWNDYW52YXNSZWYuY3VycmVudCA9IGNhbnZhcztcclxuICAgIHNldENhbnZhc1JlYWR5KHRydWUpO1xyXG5cclxuICAgIC8vIERFQlVHOiBUZXN0IGlmIGNhbnZhcyByZWNlaXZlcyBldmVudHNcclxuICAgIGNhbnZhcy5vbignbW91c2U6ZG93bicsIChlKSA9PiBjb25zb2xlLmxvZygn8J+Wse+4jyBDYW52YXMgY2xpY2sgZGV0ZWN0ZWQgYXQnLCBlLnBvaW50ZXIpKTtcclxuICAgIGNhbnZhcy5vbigncGF0aDpjcmVhdGVkJywgKCkgPT4gY29uc29sZS5sb2coJ+Kcj++4jyBEcmF3aW5nIGNyZWF0ZWQhJykpO1xyXG5cclxuICAgIC8vIExvYWQgZXhpc3RpbmcgYW5ub3RhdGlvbnNcclxuICAgIGlmIChhbm5vdGF0aW9ucyAmJiBhbm5vdGF0aW9ucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdMb2FkaW5nIGFubm90YXRpb25zOicsIGFubm90YXRpb25zLmxlbmd0aCk7XHJcbiAgICAgIGFubm90YXRpb25zLmZvckVhY2goKGFubm90YXRpb24pID0+IHtcclxuICAgICAgICBpZiAoYW5ub3RhdGlvbi5kYXRhKSB7XHJcbiAgICAgICAgICBmYWJyaWMudXRpbC5lbmxpdmVuT2JqZWN0cyhbYW5ub3RhdGlvbi5kYXRhXSkudGhlbigob2JqZWN0czogYW55W10pID0+IHtcclxuICAgICAgICAgICAgb2JqZWN0cy5mb3JFYWNoKChvYmo6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgIGNhbnZhcy5hZGQob2JqIGFzIGZhYnJpYy5PYmplY3QpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY2FudmFzLnJlbmRlckFsbCgpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBIYW5kbGUgcmVzaXplICh3aW5kb3cgcmVzaXplIG9yIFBERiB6b29tL2NvbnRlbnQgY2hhbmdlKVxyXG4gICAgY29uc3QgcmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKGVudHJpZXMpID0+IHtcclxuICAgICAgLy8gV3JhcCBpbiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgdG8gYXZvaWQgXCJSZXNpemVPYnNlcnZlciBsb29wIGxpbWl0IGV4Y2VlZGVkXCJcclxuICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcbiAgICAgICAgaWYgKCFjYW52YXMgfHwgIWNhbnZhcy5nZXRFbGVtZW50KCkpIHJldHVybjtcclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBlbnRyaWVzKSB7XHJcbiAgICAgICAgICAvLyBVc2UgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IHRvIGdldCB0aGUgYWN0dWFsIHJlbmRlcmVkIGRpbWVuc2lvbnMgKGluY2x1ZGluZyB6b29tKVxyXG4gICAgICAgICAgY29uc3QgcmVjdCA9IGVudHJ5LnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gT25seSB1cGRhdGUgaWYgZGltZW5zaW9ucyBjaGFuZ2VkIHNpZ25pZmljYW50bHlcclxuICAgICAgICAgIGlmIChNYXRoLmFicyhyZWN0LndpZHRoIC0gKGNhbnZhcy53aWR0aCB8fCAwKSkgPiAxIHx8IFxyXG4gICAgICAgICAgICAgIE1hdGguYWJzKHJlY3QuaGVpZ2h0IC0gKGNhbnZhcy5oZWlnaHQgfHwgMCkpID4gMSkge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1Jlc2l6aW5nIGNhbnZhcyB0byBtYXRjaCBjb250ZW50OicsIHJlY3Qud2lkdGgsICd4JywgcmVjdC5oZWlnaHQpO1xyXG4gICAgICAgICAgICBjYW52YXMuc2V0RGltZW5zaW9ucyh7XHJcbiAgICAgICAgICAgICAgd2lkdGg6IHJlY3Qud2lkdGgsXHJcbiAgICAgICAgICAgICAgaGVpZ2h0OiByZWN0LmhlaWdodCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNhbnZhcy5yZW5kZXJBbGwoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gT2JzZXJ2ZSB0aGUgY29udGVudCBlbGVtZW50XHJcbiAgICByZXNpemVPYnNlcnZlci5vYnNlcnZlKHRhcmdldEVsZW1lbnQpO1xyXG5cclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIHJlc2l6ZU9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcclxuICAgICAgaWYgKGZhYnJpY0NhbnZhc1JlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgZmFicmljQ2FudmFzUmVmLmN1cnJlbnQuZGlzcG9zZSgpO1xyXG4gICAgICAgIGZhYnJpY0NhbnZhc1JlZi5jdXJyZW50ID0gbnVsbDtcclxuICAgICAgICBzZXRDYW52YXNSZWFkeShmYWxzZSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfSwgW2lzQ2xpZW50LCBtb2RlLCBwZGZDb250ZW50Q29udGFpbmVyXSk7IC8vIFJlLWluaXQgaWYgY29udGFpbmVyIGNoYW5nZXMgKHVubGlrZWx5KSBvciBtb2RlIGNoYW5nZXNcclxuXHJcbiAgLy8gSGFuZGxlIHRvb2wgY2hhbmdlc1xyXG5cclxuICAvLyBIYW5kbGUgdG9vbCBjaGFuZ2VzXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGNhbnZhcyA9IGZhYnJpY0NhbnZhc1JlZi5jdXJyZW50O1xyXG4gICAgaWYgKCFjYW52YXMgfHwgIWNhbnZhc1JlYWR5KSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdObyBjYW52YXMgZm9yIHRvb2wgY2hhbmdlLCBjYW52YXNSZWFkeTonLCBjYW52YXNSZWFkeSk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLmxvZygnVG9vbCBjaGFuZ2VkIHRvOicsIGFjdGl2ZVRvb2wpO1xyXG5cclxuICAgIGNhbnZhcy5pc0RyYXdpbmdNb2RlID0gZmFsc2U7XHJcbiAgICBjYW52YXMuc2VsZWN0aW9uID0gZmFsc2U7XHJcblxyXG4gICAgaWYgKG1vZGUgPT09ICd2aWV3Jykge1xyXG4gICAgICBjYW52YXMuc2VsZWN0aW9uID0gZmFsc2U7XHJcbiAgICAgIGNhbnZhcy5pc0RyYXdpbmdNb2RlID0gZmFsc2U7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzd2l0Y2ggKGFjdGl2ZVRvb2wpIHtcclxuICAgICAgICBjYXNlICdzZWxlY3QnOlxyXG4gICAgICAgICAgY2FudmFzLnNlbGVjdGlvbiA9IHRydWU7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnU2VsZWN0aW9uIG1vZGUgZW5hYmxlZCcpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgJ3Blbic6XHJcbiAgICAgICAgICBjYW52YXMuaXNEcmF3aW5nTW9kZSA9IHRydWU7XHJcbiAgICAgICAgICBjYW52YXMuZnJlZURyYXdpbmdCcnVzaCA9IG5ldyBmYWJyaWMuUGVuY2lsQnJ1c2goY2FudmFzKTtcclxuICAgICAgICAgIGNhbnZhcy5mcmVlRHJhd2luZ0JydXNoLmNvbG9yID0gZHJhd2luZ0NvbG9yO1xyXG4gICAgICAgICAgY2FudmFzLmZyZWVEcmF3aW5nQnJ1c2gud2lkdGggPSAzO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ1BlbiBtb2RlIGVuYWJsZWQsIGNvbG9yOicsIGRyYXdpbmdDb2xvcik7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSAnaGlnaGxpZ2h0ZXInOlxyXG4gICAgICAgICAgY2FudmFzLmlzRHJhd2luZ01vZGUgPSB0cnVlO1xyXG4gICAgICAgICAgY2FudmFzLmZyZWVEcmF3aW5nQnJ1c2ggPSBuZXcgZmFicmljLlBlbmNpbEJydXNoKGNhbnZhcyk7XHJcbiAgICAgICAgICBjb25zdCBoZXhDb2xvciA9IGRyYXdpbmdDb2xvcjtcclxuICAgICAgICAgIGNvbnN0IHIgPSBwYXJzZUludChoZXhDb2xvci5zbGljZSgxLCAzKSwgMTYpO1xyXG4gICAgICAgICAgY29uc3QgZyA9IHBhcnNlSW50KGhleENvbG9yLnNsaWNlKDMsIDUpLCAxNik7XHJcbiAgICAgICAgICBjb25zdCBiID0gcGFyc2VJbnQoaGV4Q29sb3Iuc2xpY2UoNSwgNyksIDE2KTtcclxuICAgICAgICAgIGNhbnZhcy5mcmVlRHJhd2luZ0JydXNoLmNvbG9yID0gYHJnYmEoJHtyfSwgJHtnfSwgJHtifSwgMC4zKWA7XHJcbiAgICAgICAgICBjYW52YXMuZnJlZURyYXdpbmdCcnVzaC53aWR0aCA9IDIwO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ0hpZ2hsaWdodGVyIG1vZGUgZW5hYmxlZCcpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgJ3RleHQnOlxyXG4gICAgICAgICAgY2FudmFzLnNlbGVjdGlvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ1RleHQgbW9kZSBlbmFibGVkJyk7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSAncmVjdGFuZ2xlJzpcclxuICAgICAgICAgIGNhbnZhcy5zZWxlY3Rpb24gPSBmYWxzZTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdSZWN0YW5nbGUgbW9kZSBlbmFibGVkJyk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHVwcGVyQ2FudmFzID0gY2FudmFzLnVwcGVyQ2FudmFzRWw7XHJcbiAgICBpZiAodXBwZXJDYW52YXMpIHtcclxuICAgICAgaWYgKG1vZGUgPT09ICd2aWV3Jykge1xyXG4gICAgICAgIHVwcGVyQ2FudmFzLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gT25seSBlbmFibGUgcG9pbnRlciBldmVudHMgd2hlbiBhY3RpdmVseSB1c2luZyBhIGRyYXdpbmcgdG9vbFxyXG4gICAgICAgIC8vIEluIHNlbGVjdCBtb2RlLCBhbGxvdyBldmVudHMgdG8gcGFzcyB0aHJvdWdoIGZvciBQREYgc2Nyb2xsaW5nXHJcbiAgICAgICAgdXBwZXJDYW52YXMuc3R5bGUucG9pbnRlckV2ZW50cyA9IGFjdGl2ZVRvb2wgPT09ICdzZWxlY3QnID8gJ25vbmUnIDogJ2FsbCc7XHJcbiAgICAgICAgdXBwZXJDYW52YXMuc3R5bGUuY3Vyc29yID0gYWN0aXZlVG9vbCA9PT0gJ3NlbGVjdCcgPyAnZGVmYXVsdCcgOiAnY3Jvc3NoYWlyJztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sIFthY3RpdmVUb29sLCBkcmF3aW5nQ29sb3IsIG1vZGUsIGNhbnZhc1JlYWR5XSk7XHJcblxyXG4gIC8vIEFsbG93IHNjcm9sbGluZyB0aGUgUERGIHdoaWxlIGNhbnZhcyBvdmVybGF5IGlzIGFjdGl2ZVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBjYW52YXMgPSBmYWJyaWNDYW52YXNSZWYuY3VycmVudDtcclxuICAgIGNvbnN0IHZpZXdlckVsID0gdmlld2VyQ29udGFpbmVyUmVmLmN1cnJlbnQ7XHJcbiAgICBpZiAoIWNhbnZhcyB8fCAhdmlld2VyRWwgfHwgIWNhbnZhc1JlYWR5KSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB3cmFwcGVyRWwgPSBjYW52YXMud3JhcHBlckVsIGFzIEhUTUxEaXZFbGVtZW50IHwgbnVsbDtcclxuICAgIGlmICghd3JhcHBlckVsKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBNYWtlIHdyYXBwZXIgYWxsb3cgcG9pbnRlciBldmVudHMgdG8gcGFzcyB0aHJvdWdoIHdoZW4gbm90IGRyYXdpbmdcclxuICAgIGNvbnN0IG5lZWRzUG9pbnRlckV2ZW50cyA9IG1vZGUgPT09ICdlZGl0JyAmJiBhY3RpdmVUb29sICE9PSAnc2VsZWN0JztcclxuICAgIHdyYXBwZXJFbC5zdHlsZS5wb2ludGVyRXZlbnRzID0gbmVlZHNQb2ludGVyRXZlbnRzID8gJ2F1dG8nIDogJ25vbmUnO1xyXG4gICAgXHJcbiAgICAvLyBObyBuZWVkIGZvciBjdXN0b20gd2hlZWwgaGFuZGxlciAtIGxldCBldmVudHMgcGFzcyB0aHJvdWdoIG5hdHVyYWxseVxyXG4gIH0sIFtjYW52YXNSZWFkeSwgbW9kZSwgYWN0aXZlVG9vbF0pO1xyXG5cclxuICAvLyBIYW5kbGUgb2JqZWN0IGNyZWF0aW9uIChzYXZlIGFubm90YXRpb25zKVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBjYW52YXMgPSBmYWJyaWNDYW52YXNSZWYuY3VycmVudDtcclxuICAgIGlmICghY2FudmFzIHx8IG1vZGUgPT09ICd2aWV3JyB8fCAhY2FudmFzUmVhZHkpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBoYW5kbGVPYmplY3RBZGRlZCA9ICgpID0+IHtcclxuICAgICAgY29uc3Qgb2JqZWN0cyA9IGNhbnZhcy5nZXRPYmplY3RzKCk7XHJcbiAgICAgIGNvbnN0IG5ld0Fubm90YXRpb25zOiBBbm5vdGF0aW9uW10gPSBvYmplY3RzLm1hcCgob2JqOiBmYWJyaWMuT2JqZWN0LCBpbmRleDogbnVtYmVyKSA9PiAoe1xyXG4gICAgICAgIGlkOiBgYW5ub3RhdGlvbi0ke2luZGV4fWAsXHJcbiAgICAgICAgdHlwZTogb2JqLnR5cGUgPT09ICdwYXRoJyA/IChhY3RpdmVUb29sID09PSAnaGlnaGxpZ2h0ZXInID8gJ2hpZ2hsaWdodCcgOiAnZnJlZWhhbmQnKSA6ICdyZWN0YW5nbGUnLFxyXG4gICAgICAgIGNvbG9yOiBkcmF3aW5nQ29sb3IsXHJcbiAgICAgICAgZGF0YTogb2JqLnRvSlNPTigpLFxyXG4gICAgICAgIGJvdW5kczoge1xyXG4gICAgICAgICAgeDogb2JqLmxlZnQgfHwgMCxcclxuICAgICAgICAgIHk6IG9iai50b3AgfHwgMCxcclxuICAgICAgICAgIHdpZHRoOiBvYmoud2lkdGggfHwgMCxcclxuICAgICAgICAgIGhlaWdodDogb2JqLmhlaWdodCB8fCAwLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0pKTtcclxuICAgICAgXHJcbiAgICAgIG9uQW5ub3RhdGlvbnNDaGFuZ2UobmV3QW5ub3RhdGlvbnMpO1xyXG4gICAgfTtcclxuXHJcbiAgICBjYW52YXMub24oJ3BhdGg6Y3JlYXRlZCcsIGhhbmRsZU9iamVjdEFkZGVkKTtcclxuICAgIGNhbnZhcy5vbignb2JqZWN0OmFkZGVkJywgaGFuZGxlT2JqZWN0QWRkZWQpO1xyXG4gICAgY2FudmFzLm9uKCdvYmplY3Q6bW9kaWZpZWQnLCBoYW5kbGVPYmplY3RBZGRlZCk7XHJcbiAgICBjYW52YXMub24oJ29iamVjdDpyZW1vdmVkJywgaGFuZGxlT2JqZWN0QWRkZWQpO1xyXG5cclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIGNhbnZhcy5vZmYoJ3BhdGg6Y3JlYXRlZCcsIGhhbmRsZU9iamVjdEFkZGVkKTtcclxuICAgICAgY2FudmFzLm9mZignb2JqZWN0OmFkZGVkJywgaGFuZGxlT2JqZWN0QWRkZWQpO1xyXG4gICAgICBjYW52YXMub2ZmKCdvYmplY3Q6bW9kaWZpZWQnLCBoYW5kbGVPYmplY3RBZGRlZCk7XHJcbiAgICAgIGNhbnZhcy5vZmYoJ29iamVjdDpyZW1vdmVkJywgaGFuZGxlT2JqZWN0QWRkZWQpO1xyXG4gICAgfTtcclxuICB9LCBbbW9kZSwgYWN0aXZlVG9vbCwgZHJhd2luZ0NvbG9yLCBvbkFubm90YXRpb25zQ2hhbmdlLCBjYW52YXNSZWFkeV0pO1xyXG5cclxuICAvLyBIYW5kbGUgdGV4dCBhbmQgcmVjdGFuZ2xlIHRvb2xzXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGNhbnZhcyA9IGZhYnJpY0NhbnZhc1JlZi5jdXJyZW50O1xyXG4gICAgaWYgKCFjYW52YXMgfHwgbW9kZSA9PT0gJ3ZpZXcnIHx8ICFjYW52YXNSZWFkeSkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICBpZiAoYWN0aXZlVG9vbCA9PT0gJ3RleHQnKSB7XHJcbiAgICAgIGNvbnN0IGhhbmRsZVRleHRDbGljayA9IChlOiBmYWJyaWMuVEV2ZW50KSA9PiB7XHJcbiAgICAgICAgY29uc3QgZXZ0ID0gZSBhcyBhbnk7XHJcbiAgICAgICAgaWYgKCFldnQucG9pbnRlcikgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCB0ZXh0ID0gbmV3IGZhYnJpYy5JVGV4dCgnQ2xpY2sgdG8gZWRpdCcsIHtcclxuICAgICAgICAgIGxlZnQ6IGV2dC5wb2ludGVyLngsXHJcbiAgICAgICAgICB0b3A6IGV2dC5wb2ludGVyLnksXHJcbiAgICAgICAgICBmaWxsOiBkcmF3aW5nQ29sb3IsXHJcbiAgICAgICAgICBmb250U2l6ZTogMjAsXHJcbiAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwnLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjYW52YXMuYWRkKHRleHQpO1xyXG4gICAgICAgIGNhbnZhcy5zZXRBY3RpdmVPYmplY3QodGV4dCk7XHJcbiAgICAgICAgdGV4dC5lbnRlckVkaXRpbmcoKTtcclxuICAgICAgICBjYW52YXMucmVuZGVyQWxsKCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjYW52YXMub24oJ21vdXNlOmRvd24nLCBoYW5kbGVUZXh0Q2xpY2spO1xyXG4gICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgIGNhbnZhcy5vZmYoJ21vdXNlOmRvd24nLCBoYW5kbGVUZXh0Q2xpY2spO1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChhY3RpdmVUb29sID09PSAncmVjdGFuZ2xlJykge1xyXG4gICAgICBsZXQgaXNEcmF3aW5nID0gZmFsc2U7XHJcbiAgICAgIGxldCBzdGFydFggPSAwO1xyXG4gICAgICBsZXQgc3RhcnRZID0gMDtcclxuICAgICAgbGV0IHJlY3Q6IGZhYnJpYy5SZWN0IHwgbnVsbCA9IG51bGw7XHJcblxyXG4gICAgICBjb25zdCBoYW5kbGVNb3VzZURvd24gPSAoZTogZmFicmljLlRFdmVudCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGV2dCA9IGUgYXMgYW55O1xyXG4gICAgICAgIGlmICghZXZ0LnBvaW50ZXIpIHJldHVybjtcclxuXHJcbiAgICAgICAgaXNEcmF3aW5nID0gdHJ1ZTtcclxuICAgICAgICBzdGFydFggPSBldnQucG9pbnRlci54O1xyXG4gICAgICAgIHN0YXJ0WSA9IGV2dC5wb2ludGVyLnk7XHJcblxyXG4gICAgICAgIHJlY3QgPSBuZXcgZmFicmljLlJlY3Qoe1xyXG4gICAgICAgICAgbGVmdDogc3RhcnRYLFxyXG4gICAgICAgICAgdG9wOiBzdGFydFksXHJcbiAgICAgICAgICB3aWR0aDogMCxcclxuICAgICAgICAgIGhlaWdodDogMCxcclxuICAgICAgICAgIGZpbGw6ICd0cmFuc3BhcmVudCcsXHJcbiAgICAgICAgICBzdHJva2U6IGRyYXdpbmdDb2xvcixcclxuICAgICAgICAgIHN0cm9rZVdpZHRoOiAzLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjYW52YXMuYWRkKHJlY3QpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgaGFuZGxlTW91c2VNb3ZlID0gKGU6IGZhYnJpYy5URXZlbnQpID0+IHtcclxuICAgICAgICBpZiAoIWlzRHJhd2luZyB8fCAhcmVjdCkgcmV0dXJuO1xyXG4gICAgICAgIGNvbnN0IGV2dCA9IGUgYXMgYW55O1xyXG4gICAgICAgIGlmICghZXZ0LnBvaW50ZXIpIHJldHVybjtcclxuXHJcbiAgICAgICAgY29uc3Qgd2lkdGggPSBldnQucG9pbnRlci54IC0gc3RhcnRYO1xyXG4gICAgICAgIGNvbnN0IGhlaWdodCA9IGV2dC5wb2ludGVyLnkgLSBzdGFydFk7XHJcblxyXG4gICAgICAgIHJlY3Quc2V0KHtcclxuICAgICAgICAgIHdpZHRoOiBNYXRoLmFicyh3aWR0aCksXHJcbiAgICAgICAgICBoZWlnaHQ6IE1hdGguYWJzKGhlaWdodCksXHJcbiAgICAgICAgICBsZWZ0OiB3aWR0aCA8IDAgPyBldnQucG9pbnRlci54IDogc3RhcnRYLFxyXG4gICAgICAgICAgdG9wOiBoZWlnaHQgPCAwID8gZXZ0LnBvaW50ZXIueSA6IHN0YXJ0WSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY2FudmFzLnJlbmRlckFsbCgpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgaGFuZGxlTW91c2VVcCA9ICgpID0+IHtcclxuICAgICAgICBpc0RyYXdpbmcgPSBmYWxzZTtcclxuICAgICAgICByZWN0ID0gbnVsbDtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNhbnZhcy5vbignbW91c2U6ZG93bicsIGhhbmRsZU1vdXNlRG93bik7XHJcbiAgICAgIGNhbnZhcy5vbignbW91c2U6bW92ZScsIGhhbmRsZU1vdXNlTW92ZSk7XHJcbiAgICAgIGNhbnZhcy5vbignbW91c2U6dXAnLCBoYW5kbGVNb3VzZVVwKTtcclxuXHJcbiAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgY2FudmFzLm9mZignbW91c2U6ZG93bicsIGhhbmRsZU1vdXNlRG93bik7XHJcbiAgICAgICAgY2FudmFzLm9mZignbW91c2U6bW92ZScsIGhhbmRsZU1vdXNlTW92ZSk7XHJcbiAgICAgICAgY2FudmFzLm9mZignbW91c2U6dXAnLCBoYW5kbGVNb3VzZVVwKTtcclxuICAgICAgfTtcclxuICAgIH1cclxuICB9LCBbYWN0aXZlVG9vbCwgZHJhd2luZ0NvbG9yLCBtb2RlLCBjYW52YXNSZWFkeV0pO1xyXG5cclxuICAvLyBDbGVhciBhbGwgYW5ub3RhdGlvbnNcclxuICBjb25zdCBoYW5kbGVDbGVhciA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIGNvbnN0IGNhbnZhcyA9IGZhYnJpY0NhbnZhc1JlZi5jdXJyZW50O1xyXG4gICAgaWYgKCFjYW52YXMpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBvYmplY3RzID0gY2FudmFzLmdldE9iamVjdHMoKTtcclxuICAgIG9iamVjdHMuZm9yRWFjaCgob2JqKSA9PiBjYW52YXMucmVtb3ZlKG9iaikpO1xyXG4gICAgY2FudmFzLnJlbmRlckFsbCgpO1xyXG4gICAgb25Bbm5vdGF0aW9uc0NoYW5nZShbXSk7XHJcbiAgfSwgW29uQW5ub3RhdGlvbnNDaGFuZ2VdKTtcclxuXHJcbiAgLy8gRGVsZXRlIHNlbGVjdGVkIG9iamVjdFxyXG4gIGNvbnN0IGhhbmRsZURlbGV0ZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIGNvbnN0IGNhbnZhcyA9IGZhYnJpY0NhbnZhc1JlZi5jdXJyZW50O1xyXG4gICAgaWYgKCFjYW52YXMpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBhY3RpdmVPYmplY3QgPSBjYW52YXMuZ2V0QWN0aXZlT2JqZWN0KCk7XHJcbiAgICBpZiAoYWN0aXZlT2JqZWN0KSB7XHJcbiAgICAgIGNhbnZhcy5yZW1vdmUoYWN0aXZlT2JqZWN0KTtcclxuICAgICAgY2FudmFzLnJlbmRlckFsbCgpO1xyXG4gICAgfVxyXG4gIH0sIFtdKTtcclxuXHJcbiAgaWYgKCFwZGZVcmwpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGgtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LXdoaXRlXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmFzIGZhLWZpbGUtcGRmIHRleHQtNHhsIG1iLTMgb3BhY2l0eS01MFwiPjwvaT5cclxuICAgICAgICAgIDxwPlVuYWJsZSB0byBsb2FkIFBERjwvcD5cclxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gb3BhY2l0eS03NVwiPkZpbGUgSUQgbm90IGZvdW5kPC9wPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBpZiAoIWlzQ2xpZW50KSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC13aGl0ZVwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1zcGlubmVyIGZhLXNwaW4gdGV4dC0yeGwgbWItMlwiPjwvaT5cclxuICAgICAgICAgIDxwPkxvYWRpbmcgUERGIHZpZXdlci4uLjwvcD5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgdy1mdWxsIGgtZnVsbCBmbGV4IGZsZXgtY29sIGJnLWdyYXktOTAwXCI+XHJcbiAgICAgIHsvKiBUb29sYmFyICovfVxyXG4gICAgICB7bW9kZSA9PT0gJ2VkaXQnICYmIChcclxuICAgICAgICA8ZGl2XHJcbiAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtNCBsZWZ0LTEvMiAtdHJhbnNsYXRlLXgtMS8yIHotMjAgZmxleCBnYXAtMiBwLTIgcm91bmRlZC1sZyBzaGFkb3ctbGdcIlxyXG4gICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC45NSknLFxyXG4gICAgICAgICAgICBiYWNrZHJvcEZpbHRlcjogJ2JsdXIoMTBweCknLFxyXG4gICAgICAgICAgfX1cclxuICAgICAgICA+XHJcbiAgICAgICAgICB7LyogVG9vbCBCdXR0b25zICovfVxyXG4gICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRBY3RpdmVUb29sKCdzZWxlY3QnKX1cclxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgcC0yIHB4LTMgcm91bmRlZCB0cmFuc2l0aW9uLWNvbG9ycyAke1xyXG4gICAgICAgICAgICAgIGFjdGl2ZVRvb2wgPT09ICdzZWxlY3QnID8gJ2JnLWJsdWUtNTAwIHRleHQtd2hpdGUnIDogJ2JnLWdyYXktMTAwIGhvdmVyOmJnLWdyYXktMjAwJ1xyXG4gICAgICAgICAgICB9YH1cclxuICAgICAgICAgICAgdGl0bGU9XCJTZWxlY3QgKE1vdmUvUmVzaXplKVwiXHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1tb3VzZS1wb2ludGVyXCI+PC9pPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcblxyXG4gICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRBY3RpdmVUb29sKCdwZW4nKX1cclxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgcC0yIHB4LTMgcm91bmRlZCB0cmFuc2l0aW9uLWNvbG9ycyAke1xyXG4gICAgICAgICAgICAgIGFjdGl2ZVRvb2wgPT09ICdwZW4nID8gJ2JnLWJsdWUtNTAwIHRleHQtd2hpdGUnIDogJ2JnLWdyYXktMTAwIGhvdmVyOmJnLWdyYXktMjAwJ1xyXG4gICAgICAgICAgICB9YH1cclxuICAgICAgICAgICAgdGl0bGU9XCJGcmVlaGFuZCBQZW5cIlxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYXMgZmEtcGVuXCI+PC9pPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcblxyXG4gICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRBY3RpdmVUb29sKCdoaWdobGlnaHRlcicpfVxyXG4gICAgICAgICAgICBjbGFzc05hbWU9e2BwLTIgcHgtMyByb3VuZGVkIHRyYW5zaXRpb24tY29sb3JzICR7XHJcbiAgICAgICAgICAgICAgYWN0aXZlVG9vbCA9PT0gJ2hpZ2hsaWdodGVyJyA/ICdiZy1ibHVlLTUwMCB0ZXh0LXdoaXRlJyA6ICdiZy1ncmF5LTEwMCBob3ZlcjpiZy1ncmF5LTIwMCdcclxuICAgICAgICAgICAgfWB9XHJcbiAgICAgICAgICAgIHRpdGxlPVwiSGlnaGxpZ2h0ZXJcIlxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYXMgZmEtaGlnaGxpZ2h0ZXJcIj48L2k+XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuXHJcbiAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEFjdGl2ZVRvb2woJ3RleHQnKX1cclxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgcC0yIHB4LTMgcm91bmRlZCB0cmFuc2l0aW9uLWNvbG9ycyAke1xyXG4gICAgICAgICAgICAgIGFjdGl2ZVRvb2wgPT09ICd0ZXh0JyA/ICdiZy1ibHVlLTUwMCB0ZXh0LXdoaXRlJyA6ICdiZy1ncmF5LTEwMCBob3ZlcjpiZy1ncmF5LTIwMCdcclxuICAgICAgICAgICAgfWB9XHJcbiAgICAgICAgICAgIHRpdGxlPVwiVGV4dFwiXHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1mb250XCI+PC9pPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcblxyXG4gICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRBY3RpdmVUb29sKCdyZWN0YW5nbGUnKX1cclxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgcC0yIHB4LTMgcm91bmRlZCB0cmFuc2l0aW9uLWNvbG9ycyAke1xyXG4gICAgICAgICAgICAgIGFjdGl2ZVRvb2wgPT09ICdyZWN0YW5nbGUnID8gJ2JnLWJsdWUtNTAwIHRleHQtd2hpdGUnIDogJ2JnLWdyYXktMTAwIGhvdmVyOmJnLWdyYXktMjAwJ1xyXG4gICAgICAgICAgICB9YH1cclxuICAgICAgICAgICAgdGl0bGU9XCJSZWN0YW5nbGVcIlxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYXIgZmEtc3F1YXJlXCI+PC9pPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcblxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LXB4IGJnLWdyYXktMzAwXCI+PC9kaXY+XHJcblxyXG4gICAgICAgICAgey8qIENvbG9yIFBpY2tlciAqL31cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cclxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMFwiPkNvbG9yOjwvbGFiZWw+XHJcbiAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgIHR5cGU9XCJjb2xvclwiXHJcbiAgICAgICAgICAgICAgdmFsdWU9e2RyYXdpbmdDb2xvcn1cclxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldERyYXdpbmdDb2xvcihlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xMCBoLTggcm91bmRlZCBjdXJzb3ItcG9pbnRlclwiXHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctcHggYmctZ3JheS0zMDBcIj48L2Rpdj5cclxuXHJcbiAgICAgICAgICB7LyogQWN0aW9ucyAqL31cclxuICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlRGVsZXRlfVxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJwLTIgcHgtMyByb3VuZGVkIGJnLW9yYW5nZS0xMDAgaG92ZXI6Ymctb3JhbmdlLTIwMCB0ZXh0LW9yYW5nZS03MDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxyXG4gICAgICAgICAgICB0aXRsZT1cIkRlbGV0ZSBTZWxlY3RlZFwiXHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1lcmFzZXJcIj48L2k+XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuXHJcbiAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNsZWFyfVxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJwLTIgcHgtMyByb3VuZGVkIGJnLXJlZC0xMDAgaG92ZXI6YmctcmVkLTIwMCB0ZXh0LXJlZC03MDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxyXG4gICAgICAgICAgICB0aXRsZT1cIkNsZWFyIEFsbCBBbm5vdGF0aW9uc1wiXHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS10cmFzaFwiPjwvaT5cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApfVxyXG5cclxuICAgICAgey8qIFBERiBWaWV3ZXIgd2l0aCBGYWJyaWMuanMgT3ZlcmxheSAqL31cclxuICAgICAgPGRpdiBcclxuICAgICAgICByZWY9e3ZpZXdlckNvbnRhaW5lclJlZn1cclxuICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgcmVsYXRpdmVcIlxyXG4gICAgICAgIHN0eWxlPXt7IGJhY2tncm91bmQ6ICcjMzc0MTUxJywgb3ZlcmZsb3c6ICdhdXRvJyB9fVxyXG4gICAgICA+XHJcbiAgICAgICAgey8qIEByZWFjdC1wZGYtdmlld2VyL2NvcmUgUERGIFZpZXdlciAqL31cclxuICAgICAgICA8ZGl2IFxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGgtZnVsbFwiXHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgPFdvcmtlciB3b3JrZXJVcmw9e2BodHRwczovL3VucGtnLmNvbS9wZGZqcy1kaXN0QDMuMTEuMTc0L2J1aWxkL3BkZi53b3JrZXIubWluLmpzYH0+XHJcbiAgICAgICAgICAgIDxWaWV3ZXIgZmlsZVVybD17cGRmVXJsfSAvPlxyXG4gICAgICAgICAgPC9Xb3JrZXI+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICB7LyogRmFicmljLmpzIENhbnZhcyBPdmVybGF5IC0gUmVuZGVyZWQgdmlhIFBvcnRhbCBpbnRvIHRoZSBQREYgVmlld2VyJ3MgY29udGVudCBjb250YWluZXIgKi99XHJcbiAgICAgIHsvKiBXZSB3cmFwIHRoZSBjYW52YXMgaW4gYSBkaXYgc28gUmVhY3Qgb3ducyB0aGUgZGl2LiBGYWJyaWMgbW9kaWZpZXMgdGhlIERPTSBpbnNpZGUgdGhpcyBkaXYuXHJcbiAgICAgICAgICBUaGlzIHByZXZlbnRzIFwiRmFpbGVkIHRvIGV4ZWN1dGUgJ3JlbW92ZUNoaWxkJyBvbiAnTm9kZSdcIiBlcnJvcnMgd2hlbiBSZWFjdCB0cmllcyB0byB1bm1vdW50XHJcbiAgICAgICAgICBiZWNhdXNlIFJlYWN0IG9ubHkgbmVlZHMgdG8gcmVtb3ZlIHRoZSB3cmFwcGVyIGRpdiwgbm90IHRoZSBjb21wbGV4IEZhYnJpYyBET00gc3RydWN0dXJlLiAqL31cclxuICAgICAge21vZGUgPT09ICdlZGl0JyAmJiBwZGZDb250ZW50Q29udGFpbmVyICYmIGNyZWF0ZVBvcnRhbChcclxuICAgICAgICA8ZGl2IFxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYW5ub3RhdGlvbi1sYXllci13cmFwcGVyXCIgXHJcbiAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJywgXHJcbiAgICAgICAgICAgIHRvcDogMCwgXHJcbiAgICAgICAgICAgIGxlZnQ6IDAsIFxyXG4gICAgICAgICAgICB3aWR0aDogJzEwMCUnLCBcclxuICAgICAgICAgICAgaGVpZ2h0OiAnMTAwJScsIFxyXG4gICAgICAgICAgICB6SW5kZXg6IDEwLCBcclxuICAgICAgICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnXHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgID5cclxuICAgICAgICAgIDxjYW52YXNcclxuICAgICAgICAgICAgcmVmPXtjYW52YXNSZWZ9XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0wIGxlZnQtMFwiXHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgIDwvZGl2PixcclxuICAgICAgICBwZGZDb250ZW50Q29udGFpbmVyXHJcbiAgICAgICl9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG5cclxuLy8gRXhwb3J0IHdpdGggZHluYW1pYyBpbXBvcnRcclxuZXhwb3J0IGNvbnN0IERvY3VtZW50QW5ub3RhdGlvbkVkaXRvciA9IERvY3VtZW50QW5ub3RhdGlvbkVkaXRvckNvbXBvbmVudDtcclxuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VSZWYiLCJ1c2VFZmZlY3QiLCJ1c2VDYWxsYmFjayIsImNyZWF0ZVBvcnRhbCIsImR5bmFtaWMiLCJmYWJyaWMiLCJnZXRBcGlCYXNlVXJsIiwiVmlld2VyIiwidGhlbiIsIm1vZCIsInNzciIsIldvcmtlciIsIkRvY3VtZW50QW5ub3RhdGlvbkVkaXRvckNvbXBvbmVudCIsIm1lZGlhRm9ybWF0IiwibW9kZSIsImFubm90YXRpb25zIiwib25Bbm5vdGF0aW9uc0NoYW5nZSIsImFjdGl2ZVRvb2wiLCJzZXRBY3RpdmVUb29sIiwiZHJhd2luZ0NvbG9yIiwic2V0RHJhd2luZ0NvbG9yIiwiaXNDbGllbnQiLCJzZXRJc0NsaWVudCIsImNhbnZhc1JlYWR5Iiwic2V0Q2FudmFzUmVhZHkiLCJjYW52YXNSZWYiLCJmYWJyaWNDYW52YXNSZWYiLCJ2aWV3ZXJDb250YWluZXJSZWYiLCJjbGVhbnVwUmVmIiwicGRmQ29udGVudENvbnRhaW5lciIsInNldFBkZkNvbnRlbnRDb250YWluZXIiLCJnZXRGaWxlSWQiLCJtZXRhZGF0YSIsImZpbGVfaWQiLCJkYXRhX3R5cGUiLCJwYXRoIiwiZGF0YSIsInV1aWRNYXRjaCIsIm1hdGNoIiwiZmlsZUlkIiwicGRmVXJsIiwiY3VycmVudCIsImZpbmRDb250YWluZXIiLCJjb250YWluZXIiLCJxdWVyeVNlbGVjdG9yIiwiY29uc29sZSIsImxvZyIsInN0eWxlIiwicG9zaXRpb24iLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsInRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwidGFyZ2V0RWxlbWVudCIsImNvbnRhaW5lclJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ3aWR0aCIsImhlaWdodCIsIndhcm4iLCJjYW52YXMiLCJDYW52YXMiLCJiYWNrZ3JvdW5kQ29sb3IiLCJzZWxlY3Rpb24iLCJpc0RyYXdpbmdNb2RlIiwid3JhcHBlckVsIiwiT2JqZWN0IiwiYXNzaWduIiwibG93ZXJDYW52YXNFbCIsInBvaW50ZXJFdmVudHMiLCJ1cHBlckNhbnZhc0VsIiwidG91Y2hBY3Rpb24iLCJ6SW5kZXgiLCJvbiIsImUiLCJwb2ludGVyIiwibGVuZ3RoIiwiZm9yRWFjaCIsImFubm90YXRpb24iLCJ1dGlsIiwiZW5saXZlbk9iamVjdHMiLCJvYmplY3RzIiwib2JqIiwiYWRkIiwicmVuZGVyQWxsIiwicmVzaXplT2JzZXJ2ZXIiLCJSZXNpemVPYnNlcnZlciIsImVudHJpZXMiLCJ3aW5kb3ciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJnZXRFbGVtZW50IiwiZW50cnkiLCJyZWN0IiwidGFyZ2V0IiwiTWF0aCIsImFicyIsInNldERpbWVuc2lvbnMiLCJvYnNlcnZlIiwiZGlzY29ubmVjdCIsImRpc3Bvc2UiLCJmcmVlRHJhd2luZ0JydXNoIiwiUGVuY2lsQnJ1c2giLCJjb2xvciIsImhleENvbG9yIiwiciIsInBhcnNlSW50Iiwic2xpY2UiLCJnIiwiYiIsInVwcGVyQ2FudmFzIiwiY3Vyc29yIiwidmlld2VyRWwiLCJuZWVkc1BvaW50ZXJFdmVudHMiLCJoYW5kbGVPYmplY3RBZGRlZCIsImdldE9iamVjdHMiLCJuZXdBbm5vdGF0aW9ucyIsIm1hcCIsImluZGV4IiwiaWQiLCJ0eXBlIiwidG9KU09OIiwiYm91bmRzIiwieCIsImxlZnQiLCJ5IiwidG9wIiwib2ZmIiwiaGFuZGxlVGV4dENsaWNrIiwiZXZ0IiwidGV4dCIsIklUZXh0IiwiZmlsbCIsImZvbnRTaXplIiwiZm9udEZhbWlseSIsInNldEFjdGl2ZU9iamVjdCIsImVudGVyRWRpdGluZyIsImlzRHJhd2luZyIsInN0YXJ0WCIsInN0YXJ0WSIsImhhbmRsZU1vdXNlRG93biIsIlJlY3QiLCJzdHJva2UiLCJzdHJva2VXaWR0aCIsImhhbmRsZU1vdXNlTW92ZSIsInNldCIsImhhbmRsZU1vdXNlVXAiLCJoYW5kbGVDbGVhciIsInJlbW92ZSIsImhhbmRsZURlbGV0ZSIsImFjdGl2ZU9iamVjdCIsImdldEFjdGl2ZU9iamVjdCIsImRpdiIsImNsYXNzTmFtZSIsImkiLCJwIiwiYmFja2dyb3VuZCIsImJhY2tkcm9wRmlsdGVyIiwiYnV0dG9uIiwib25DbGljayIsInRpdGxlIiwibGFiZWwiLCJpbnB1dCIsInZhbHVlIiwib25DaGFuZ2UiLCJyZWYiLCJvdmVyZmxvdyIsIndvcmtlclVybCIsImZpbGVVcmwiLCJEb2N1bWVudEFubm90YXRpb25FZGl0b3IiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/DocumentAnnotationEditor.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/FilePicker.tsx":
/*!***************************************!*\
  !*** ./src/components/FilePicker.tsx ***!
  \***************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FilePicker: () => (/* binding */ FilePicker)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _FileUpload__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FileUpload */ \"(app-pages-browser)/./src/components/FileUpload.tsx\");\n/* harmony import */ var _lib_files__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/files */ \"(app-pages-browser)/./src/lib/files.ts\");\n/**\r\n * File Picker Component\r\n * File selection dialog with upload capability\r\n */ \nvar _s = $RefreshSig$();\n\n\n\nfunction FilePicker({ value, onChange, accept, maxSizeMB, fileCategory, workflowId, disabled = false, placeholder = 'Select or upload a file' }) {\n    _s();\n    const [isOpen, setIsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [files, setFiles] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [selectedFile, setSelectedFile] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [view, setView] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('list');\n    // Load files when opened\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"FilePicker.useEffect\": ()=>{\n            if (isOpen) {\n                loadFiles();\n            }\n        }\n    }[\"FilePicker.useEffect\"], [\n        isOpen,\n        fileCategory\n    ]);\n    // Load selected file metadata when value changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"FilePicker.useEffect\": ()=>{\n            if (value) {\n                loadSelectedFile(value);\n            } else {\n                setSelectedFile(null);\n            }\n        }\n    }[\"FilePicker.useEffect\"], [\n        value\n    ]);\n    const loadFiles = async ()=>{\n        setLoading(true);\n        try {\n            const response = await (0,_lib_files__WEBPACK_IMPORTED_MODULE_3__.listFiles)({\n                fileCategory,\n                workflowId,\n                limit: 100\n            });\n            setFiles(response.files);\n        } catch (error) {\n            console.error('Failed to load files:', error);\n        } finally{\n            setLoading(false);\n        }\n    };\n    const loadSelectedFile = async (fileId)=>{\n        try {\n            // First check if we already have it in the loaded files\n            const existingFile = files.find((f)=>f.id === fileId);\n            if (existingFile) {\n                setSelectedFile(existingFile);\n                return;\n            }\n            // If not in list yet, fetch all files to find it\n            const response = await (0,_lib_files__WEBPACK_IMPORTED_MODULE_3__.listFiles)({\n                fileCategory,\n                workflowId,\n                limit: 100\n            });\n            const file = response.files.find((f)=>f.id === fileId);\n            if (file) {\n                setSelectedFile(file);\n                // Also update files list for when modal opens\n                setFiles(response.files);\n            } else {\n                // File no longer exists (maybe wiped on restart)\n                console.warn(`File ${fileId} not found in storage`);\n                setSelectedFile(null);\n            }\n        } catch (error) {\n            console.error('Failed to load selected file:', error);\n            setSelectedFile(null);\n        }\n    };\n    const handleSelect = (file)=>{\n        setSelectedFile(file);\n        onChange(file.id, file);\n        setIsOpen(false);\n    };\n    const handleUploadComplete = (file)=>{\n        setFiles((prev)=>[\n                file,\n                ...prev\n            ]);\n        setSelectedFile(file);\n        onChange(file.id, file);\n        setView('list');\n    };\n    const handleDelete = async (fileId, e)=>{\n        e.stopPropagation();\n        if (!confirm('Delete this file?')) return;\n        try {\n            await (0,_lib_files__WEBPACK_IMPORTED_MODULE_3__.deleteFile)(fileId);\n            setFiles((prev)=>prev.filter((f)=>f.id !== fileId));\n            if (selectedFile?.id === fileId) {\n                setSelectedFile(null);\n                onChange(null, null);\n            }\n        } catch (error) {\n            console.error('Failed to delete file:', error);\n            alert('Failed to delete file');\n        }\n    };\n    const handleClear = ()=>{\n        setSelectedFile(null);\n        onChange(null, null);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"file-picker\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                onClick: ()=>!disabled && setIsOpen(true),\n                style: {\n                    padding: '8px 12px',\n                    border: '1px solid var(--theme-border)',\n                    borderRadius: '6px',\n                    background: disabled ? 'var(--theme-surface)' : 'var(--theme-surface-variant)',\n                    cursor: disabled ? 'not-allowed' : 'pointer',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'space-between',\n                    opacity: disabled ? 0.6 : 1\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            fontSize: '13px',\n                            color: 'var(--theme-text)',\n                            flex: 1\n                        },\n                        children: selectedFile ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                display: 'flex',\n                                alignItems: 'center',\n                                gap: '8px'\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    children: \"\\uD83D\\uDCC4\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FilePicker.tsx\",\n                                    lineNumber: 163,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    children: selectedFile.filename\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FilePicker.tsx\",\n                                    lineNumber: 164,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    style: {\n                                        color: 'var(--theme-text-secondary)',\n                                        fontSize: '11px'\n                                    },\n                                    children: [\n                                        \"(\",\n                                        (0,_lib_files__WEBPACK_IMPORTED_MODULE_3__.formatFileSize)(selectedFile.file_size_bytes),\n                                        \")\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FilePicker.tsx\",\n                                    lineNumber: 165,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FilePicker.tsx\",\n                            lineNumber: 162,\n                            columnNumber: 13\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            style: {\n                                color: 'var(--theme-text-secondary)'\n                            },\n                            children: placeholder\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FilePicker.tsx\",\n                            lineNumber: 170,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FilePicker.tsx\",\n                        lineNumber: 160,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            display: 'flex',\n                            gap: '4px'\n                        },\n                        children: [\n                            selectedFile && !disabled && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: (e)=>{\n                                    e.stopPropagation();\n                                    handleClear();\n                                },\n                                style: {\n                                    padding: '4px 8px',\n                                    background: 'transparent',\n                                    border: 'none',\n                                    cursor: 'pointer',\n                                    color: 'var(--theme-text-secondary)',\n                                    fontSize: '12px'\n                                },\n                                title: \"Clear selection\",\n                                children: \"\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FilePicker.tsx\",\n                                lineNumber: 175,\n                                columnNumber: 13\n                            }, this),\n                            !disabled && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    color: 'var(--theme-text-secondary)',\n                                    fontSize: '12px'\n                                },\n                                children: \"\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FilePicker.tsx\",\n                                lineNumber: 194,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FilePicker.tsx\",\n                        lineNumber: 173,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FilePicker.tsx\",\n                lineNumber: 146,\n                columnNumber: 7\n            }, this),\n            isOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: 'fixed',\n                    top: 0,\n                    left: 0,\n                    right: 0,\n                    bottom: 0,\n                    background: 'rgba(0, 0, 0, 0.5)',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    zIndex: 10000\n                },\n                onClick: ()=>setIsOpen(false),\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    onClick: (e)=>e.stopPropagation(),\n                    style: {\n                        background: 'var(--theme-surface)',\n                        borderRadius: '12px',\n                        width: '90%',\n                        maxWidth: '600px',\n                        maxHeight: '60vh',\n                        display: 'flex',\n                        flexDirection: 'column',\n                        boxShadow: '0 20px 60px rgba(0, 0, 0, 0.3)'\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                padding: '16px 20px',\n                                borderBottom: '1px solid var(--theme-border)',\n                                display: 'flex',\n                                justifyContent: 'space-between',\n                                alignItems: 'center'\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        display: 'flex',\n                                        gap: '12px'\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>setView('list'),\n                                            style: {\n                                                padding: '6px 12px',\n                                                background: view === 'list' ? 'var(--theme-primary)' : 'transparent',\n                                                color: view === 'list' ? 'white' : 'var(--theme-text)',\n                                                border: 'none',\n                                                borderRadius: '6px',\n                                                cursor: 'pointer',\n                                                fontSize: '13px'\n                                            },\n                                            children: \"\\uD83D\\uDCC1 Browse Files\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FilePicker.tsx\",\n                                            lineNumber: 240,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>setView('upload'),\n                                            style: {\n                                                padding: '6px 12px',\n                                                background: view === 'upload' ? 'var(--theme-primary)' : 'transparent',\n                                                color: view === 'upload' ? 'white' : 'var(--theme-text)',\n                                                border: 'none',\n                                                borderRadius: '6px',\n                                                cursor: 'pointer',\n                                                fontSize: '13px'\n                                            },\n                                            children: \" Upload New\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FilePicker.tsx\",\n                                            lineNumber: 254,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FilePicker.tsx\",\n                                    lineNumber: 239,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>setIsOpen(false),\n                                    style: {\n                                        padding: '6px 12px',\n                                        background: 'transparent',\n                                        border: 'none',\n                                        cursor: 'pointer',\n                                        color: 'var(--theme-text-secondary)',\n                                        fontSize: '18px'\n                                    },\n                                    children: \"\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FilePicker.tsx\",\n                                    lineNumber: 269,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FilePicker.tsx\",\n                            lineNumber: 230,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                flex: 1,\n                                overflow: 'auto',\n                                padding: '20px'\n                            },\n                            children: view === 'list' ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: loading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        textAlign: 'center',\n                                        padding: '40px',\n                                        color: 'var(--theme-text-secondary)'\n                                    },\n                                    children: \"Loading files...\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FilePicker.tsx\",\n                                    lineNumber: 289,\n                                    columnNumber: 21\n                                }, this) : files.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        textAlign: 'center',\n                                        padding: '40px',\n                                        color: 'var(--theme-text-secondary)'\n                                    },\n                                    children: \"No files found. Upload one to get started.\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FilePicker.tsx\",\n                                    lineNumber: 293,\n                                    columnNumber: 21\n                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        display: 'flex',\n                                        flexDirection: 'column',\n                                        gap: '8px'\n                                    },\n                                    children: files.map((file)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            onClick: ()=>handleSelect(file),\n                                            style: {\n                                                padding: '12px',\n                                                border: `1px solid ${selectedFile?.id === file.id ? 'var(--theme-primary)' : 'var(--theme-border)'}`,\n                                                borderRadius: '8px',\n                                                background: selectedFile?.id === file.id ? 'rgba(var(--theme-primary-rgb), 0.1)' : 'var(--theme-surface-variant)',\n                                                cursor: 'pointer',\n                                                transition: 'all 0.2s ease',\n                                                display: 'flex',\n                                                justifyContent: 'space-between',\n                                                alignItems: 'center'\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        flex: 1\n                                                    },\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            style: {\n                                                                fontSize: '13px',\n                                                                fontWeight: 500,\n                                                                color: 'var(--theme-text)',\n                                                                marginBottom: '4px'\n                                                            },\n                                                            children: [\n                                                                \"\\uD83D\\uDCC4 \",\n                                                                file.filename\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FilePicker.tsx\",\n                                                            lineNumber: 320,\n                                                            columnNumber: 29\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            style: {\n                                                                fontSize: '11px',\n                                                                color: 'var(--theme-text-secondary)'\n                                                            },\n                                                            children: [\n                                                                (0,_lib_files__WEBPACK_IMPORTED_MODULE_3__.formatFileSize)(file.file_size_bytes),\n                                                                \" \",\n                                                                ' ',\n                                                                new Date(file.uploaded_at).toLocaleDateString()\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FilePicker.tsx\",\n                                                            lineNumber: 330,\n                                                            columnNumber: 29\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FilePicker.tsx\",\n                                                    lineNumber: 319,\n                                                    columnNumber: 27\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: (e)=>handleDelete(file.id, e),\n                                                    style: {\n                                                        padding: '4px 8px',\n                                                        background: 'transparent',\n                                                        border: 'none',\n                                                        cursor: 'pointer',\n                                                        color: '#ef4444',\n                                                        fontSize: '16px'\n                                                    },\n                                                    title: \"Delete file\",\n                                                    children: \"\\uD83D\\uDDD1\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FilePicker.tsx\",\n                                                    lineNumber: 335,\n                                                    columnNumber: 27\n                                                }, this)\n                                            ]\n                                        }, file.id, true, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FilePicker.tsx\",\n                                            lineNumber: 299,\n                                            columnNumber: 25\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FilePicker.tsx\",\n                                    lineNumber: 297,\n                                    columnNumber: 21\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FilePicker.tsx\",\n                                lineNumber: 287,\n                                columnNumber: 17\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_FileUpload__WEBPACK_IMPORTED_MODULE_2__.FileUpload, {\n                                accept: accept,\n                                maxSizeMB: maxSizeMB,\n                                fileCategory: fileCategory,\n                                workflowId: workflowId,\n                                onUploadComplete: handleUploadComplete,\n                                onUploadError: (error)=>{\n                                    console.error('Upload error:', error);\n                                    alert(error.message);\n                                }\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FilePicker.tsx\",\n                                lineNumber: 355,\n                                columnNumber: 17\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FilePicker.tsx\",\n                            lineNumber: 285,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FilePicker.tsx\",\n                    lineNumber: 216,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FilePicker.tsx\",\n                lineNumber: 201,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FilePicker.tsx\",\n        lineNumber: 144,\n        columnNumber: 5\n    }, this);\n}\n_s(FilePicker, \"w0Sq0BaS3lFaGI+v9lySbuEGZew=\");\n_c = FilePicker;\nvar _c;\n$RefreshReg$(_c, \"FilePicker\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL0ZpbGVQaWNrZXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOzs7Q0FHQzs7QUFFa0Q7QUFDVDtBQVFyQjtBQWFkLFNBQVNPLFdBQVcsRUFDekJDLEtBQUssRUFDTEMsUUFBUSxFQUNSQyxNQUFNLEVBQ05DLFNBQVMsRUFDVEMsWUFBWSxFQUNaQyxVQUFVLEVBQ1ZDLFdBQVcsS0FBSyxFQUNoQkMsY0FBYyx5QkFBeUIsRUFDdkI7O0lBQ2hCLE1BQU0sQ0FBQ0MsUUFBUUMsVUFBVSxHQUFHaEIsK0NBQVFBLENBQUM7SUFDckMsTUFBTSxDQUFDaUIsT0FBT0MsU0FBUyxHQUFHbEIsK0NBQVFBLENBQWlCLEVBQUU7SUFDckQsTUFBTSxDQUFDbUIsY0FBY0MsZ0JBQWdCLEdBQUdwQiwrQ0FBUUEsQ0FBc0I7SUFDdEUsTUFBTSxDQUFDcUIsU0FBU0MsV0FBVyxHQUFHdEIsK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxDQUFDdUIsTUFBTUMsUUFBUSxHQUFHeEIsK0NBQVFBLENBQW9CO0lBRXBELHlCQUF5QjtJQUN6QkMsZ0RBQVNBO2dDQUFDO1lBQ1IsSUFBSWMsUUFBUTtnQkFDVlU7WUFDRjtRQUNGOytCQUFHO1FBQUNWO1FBQVFKO0tBQWE7SUFFekIsaURBQWlEO0lBQ2pEVixnREFBU0E7Z0NBQUM7WUFDUixJQUFJTSxPQUFPO2dCQUNUbUIsaUJBQWlCbkI7WUFDbkIsT0FBTztnQkFDTGEsZ0JBQWdCO1lBQ2xCO1FBQ0Y7K0JBQUc7UUFBQ2I7S0FBTTtJQUVWLE1BQU1rQixZQUFZO1FBQ2hCSCxXQUFXO1FBQ1gsSUFBSTtZQUNGLE1BQU1LLFdBQVcsTUFBTXhCLHFEQUFTQSxDQUFDO2dCQUMvQlE7Z0JBQ0FDO2dCQUNBZ0IsT0FBTztZQUNUO1lBQ0FWLFNBQVNTLFNBQVNWLEtBQUs7UUFDekIsRUFBRSxPQUFPWSxPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyx5QkFBeUJBO1FBQ3pDLFNBQVU7WUFDUlAsV0FBVztRQUNiO0lBQ0Y7SUFFQSxNQUFNSSxtQkFBbUIsT0FBT0s7UUFDOUIsSUFBSTtZQUNGLHdEQUF3RDtZQUN4RCxNQUFNQyxlQUFlZixNQUFNZ0IsSUFBSSxDQUFDLENBQUNDLElBQU1BLEVBQUVDLEVBQUUsS0FBS0o7WUFDaEQsSUFBSUMsY0FBYztnQkFDaEJaLGdCQUFnQlk7Z0JBQ2hCO1lBQ0Y7WUFFQSxpREFBaUQ7WUFDakQsTUFBTUwsV0FBVyxNQUFNeEIscURBQVNBLENBQUM7Z0JBQy9CUTtnQkFDQUM7Z0JBQ0FnQixPQUFPO1lBQ1Q7WUFFQSxNQUFNUSxPQUFPVCxTQUFTVixLQUFLLENBQUNnQixJQUFJLENBQUMsQ0FBQ0MsSUFBTUEsRUFBRUMsRUFBRSxLQUFLSjtZQUNqRCxJQUFJSyxNQUFNO2dCQUNSaEIsZ0JBQWdCZ0I7Z0JBQ2hCLDhDQUE4QztnQkFDOUNsQixTQUFTUyxTQUFTVixLQUFLO1lBQ3pCLE9BQU87Z0JBQ0wsaURBQWlEO2dCQUNqRGEsUUFBUU8sSUFBSSxDQUFDLENBQUMsS0FBSyxFQUFFTixPQUFPLHFCQUFxQixDQUFDO2dCQUNsRFgsZ0JBQWdCO1lBQ2xCO1FBQ0YsRUFBRSxPQUFPUyxPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyxpQ0FBaUNBO1lBQy9DVCxnQkFBZ0I7UUFDbEI7SUFDRjtJQUVBLE1BQU1rQixlQUFlLENBQUNGO1FBQ3BCaEIsZ0JBQWdCZ0I7UUFDaEI1QixTQUFTNEIsS0FBS0QsRUFBRSxFQUFFQztRQUNsQnBCLFVBQVU7SUFDWjtJQUVBLE1BQU11Qix1QkFBdUIsQ0FBQ0g7UUFDNUJsQixTQUFTLENBQUNzQixPQUFTO2dCQUFDSjttQkFBU0k7YUFBSztRQUNsQ3BCLGdCQUFnQmdCO1FBQ2hCNUIsU0FBUzRCLEtBQUtELEVBQUUsRUFBRUM7UUFDbEJaLFFBQVE7SUFDVjtJQUVBLE1BQU1pQixlQUFlLE9BQU9WLFFBQWdCVztRQUMxQ0EsRUFBRUMsZUFBZTtRQUNqQixJQUFJLENBQUNDLFFBQVEsc0JBQXNCO1FBRW5DLElBQUk7WUFDRixNQUFNeEMsc0RBQVVBLENBQUMyQjtZQUNqQmIsU0FBUyxDQUFDc0IsT0FBU0EsS0FBS0ssTUFBTSxDQUFDLENBQUNYLElBQU1BLEVBQUVDLEVBQUUsS0FBS0o7WUFDL0MsSUFBSVosY0FBY2dCLE9BQU9KLFFBQVE7Z0JBQy9CWCxnQkFBZ0I7Z0JBQ2hCWixTQUFTLE1BQU07WUFDakI7UUFDRixFQUFFLE9BQU9xQixPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQywwQkFBMEJBO1lBQ3hDaUIsTUFBTTtRQUNSO0lBQ0Y7SUFFQSxNQUFNQyxjQUFjO1FBQ2xCM0IsZ0JBQWdCO1FBQ2hCWixTQUFTLE1BQU07SUFDakI7SUFFQSxxQkFDRSw4REFBQ3dDO1FBQUlDLFdBQVU7OzBCQUViLDhEQUFDRDtnQkFDQ0UsU0FBUyxJQUFNLENBQUNyQyxZQUFZRyxVQUFVO2dCQUN0Q21DLE9BQU87b0JBQ0xDLFNBQVM7b0JBQ1RDLFFBQVE7b0JBQ1JDLGNBQWM7b0JBQ2RDLFlBQVkxQyxXQUFXLHlCQUF5QjtvQkFDaEQyQyxRQUFRM0MsV0FBVyxnQkFBZ0I7b0JBQ25DNEMsU0FBUztvQkFDVEMsWUFBWTtvQkFDWkMsZ0JBQWdCO29CQUNoQkMsU0FBUy9DLFdBQVcsTUFBTTtnQkFDNUI7O2tDQUVBLDhEQUFDbUM7d0JBQUlHLE9BQU87NEJBQUVVLFVBQVU7NEJBQVFDLE9BQU87NEJBQXFCQyxNQUFNO3dCQUFFO2tDQUNqRTVDLDZCQUNDLDhEQUFDNkI7NEJBQUlHLE9BQU87Z0NBQUVNLFNBQVM7Z0NBQVFDLFlBQVk7Z0NBQVVNLEtBQUs7NEJBQU07OzhDQUM5RCw4REFBQ0M7OENBQUs7Ozs7Ozs4Q0FDTiw4REFBQ0E7OENBQU05QyxhQUFhK0MsUUFBUTs7Ozs7OzhDQUM1Qiw4REFBQ0Q7b0NBQUtkLE9BQU87d0NBQUVXLE9BQU87d0NBQStCRCxVQUFVO29DQUFPOzt3Q0FBRzt3Q0FDckV4RCwwREFBY0EsQ0FBQ2MsYUFBYWdELGVBQWU7d0NBQUU7Ozs7Ozs7Ozs7OztpREFJbkQsOERBQUNGOzRCQUFLZCxPQUFPO2dDQUFFVyxPQUFPOzRCQUE4QjtzQ0FBSWhEOzs7Ozs7Ozs7OztrQ0FHNUQsOERBQUNrQzt3QkFBSUcsT0FBTzs0QkFBRU0sU0FBUzs0QkFBUU8sS0FBSzt3QkFBTTs7NEJBQ3ZDN0MsZ0JBQWdCLENBQUNOLDBCQUNoQiw4REFBQ3VEO2dDQUNDbEIsU0FBUyxDQUFDUjtvQ0FDUkEsRUFBRUMsZUFBZTtvQ0FDakJJO2dDQUNGO2dDQUNBSSxPQUFPO29DQUNMQyxTQUFTO29DQUNURyxZQUFZO29DQUNaRixRQUFRO29DQUNSRyxRQUFRO29DQUNSTSxPQUFPO29DQUNQRCxVQUFVO2dDQUNaO2dDQUNBUSxPQUFNOzBDQUNQOzs7Ozs7NEJBSUYsQ0FBQ3hELDBCQUNBLDhEQUFDb0Q7Z0NBQUtkLE9BQU87b0NBQUVXLE9BQU87b0NBQStCRCxVQUFVO2dDQUFPOzBDQUFHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7WUFNOUU5Qyx3QkFDQyw4REFBQ2lDO2dCQUNDRyxPQUFPO29CQUNMbUIsVUFBVTtvQkFDVkMsS0FBSztvQkFDTEMsTUFBTTtvQkFDTkMsT0FBTztvQkFDUEMsUUFBUTtvQkFDUm5CLFlBQVk7b0JBQ1pFLFNBQVM7b0JBQ1RDLFlBQVk7b0JBQ1pDLGdCQUFnQjtvQkFDaEJnQixRQUFRO2dCQUNWO2dCQUNBekIsU0FBUyxJQUFNbEMsVUFBVTswQkFFekIsNEVBQUNnQztvQkFDQ0UsU0FBUyxDQUFDUixJQUFNQSxFQUFFQyxlQUFlO29CQUNqQ1EsT0FBTzt3QkFDTEksWUFBWTt3QkFDWkQsY0FBYzt3QkFDZHNCLE9BQU87d0JBQ1BDLFVBQVU7d0JBQ1ZDLFdBQVc7d0JBQ1hyQixTQUFTO3dCQUNUc0IsZUFBZTt3QkFDZkMsV0FBVztvQkFDYjs7c0NBR0EsOERBQUNoQzs0QkFDQ0csT0FBTztnQ0FDTEMsU0FBUztnQ0FDVDZCLGNBQWM7Z0NBQ2R4QixTQUFTO2dDQUNURSxnQkFBZ0I7Z0NBQ2hCRCxZQUFZOzRCQUNkOzs4Q0FFQSw4REFBQ1Y7b0NBQUlHLE9BQU87d0NBQUVNLFNBQVM7d0NBQVFPLEtBQUs7b0NBQU87O3NEQUN6Qyw4REFBQ0k7NENBQ0NsQixTQUFTLElBQU0xQixRQUFROzRDQUN2QjJCLE9BQU87Z0RBQ0xDLFNBQVM7Z0RBQ1RHLFlBQVloQyxTQUFTLFNBQVMseUJBQXlCO2dEQUN2RHVDLE9BQU92QyxTQUFTLFNBQVMsVUFBVTtnREFDbkM4QixRQUFRO2dEQUNSQyxjQUFjO2dEQUNkRSxRQUFRO2dEQUNSSyxVQUFVOzRDQUNaO3NEQUNEOzs7Ozs7c0RBR0QsOERBQUNPOzRDQUNDbEIsU0FBUyxJQUFNMUIsUUFBUTs0Q0FDdkIyQixPQUFPO2dEQUNMQyxTQUFTO2dEQUNURyxZQUFZaEMsU0FBUyxXQUFXLHlCQUF5QjtnREFDekR1QyxPQUFPdkMsU0FBUyxXQUFXLFVBQVU7Z0RBQ3JDOEIsUUFBUTtnREFDUkMsY0FBYztnREFDZEUsUUFBUTtnREFDUkssVUFBVTs0Q0FDWjtzREFDRDs7Ozs7Ozs7Ozs7OzhDQUlILDhEQUFDTztvQ0FDQ2xCLFNBQVMsSUFBTWxDLFVBQVU7b0NBQ3pCbUMsT0FBTzt3Q0FDTEMsU0FBUzt3Q0FDVEcsWUFBWTt3Q0FDWkYsUUFBUTt3Q0FDUkcsUUFBUTt3Q0FDUk0sT0FBTzt3Q0FDUEQsVUFBVTtvQ0FDWjs4Q0FDRDs7Ozs7Ozs7Ozs7O3NDQU1ILDhEQUFDYjs0QkFBSUcsT0FBTztnQ0FBRVksTUFBTTtnQ0FBR21CLFVBQVU7Z0NBQVE5QixTQUFTOzRCQUFPO3NDQUN0RDdCLFNBQVMsdUJBQ1IsOERBQUN5QjswQ0FDRTNCLHdCQUNDLDhEQUFDMkI7b0NBQUlHLE9BQU87d0NBQUVnQyxXQUFXO3dDQUFVL0IsU0FBUzt3Q0FBUVUsT0FBTztvQ0FBOEI7OENBQUc7Ozs7OzJDQUcxRjdDLE1BQU1tRSxNQUFNLEtBQUssa0JBQ25CLDhEQUFDcEM7b0NBQUlHLE9BQU87d0NBQUVnQyxXQUFXO3dDQUFVL0IsU0FBUzt3Q0FBUVUsT0FBTztvQ0FBOEI7OENBQUc7Ozs7O3lEQUk1Riw4REFBQ2Q7b0NBQUlHLE9BQU87d0NBQUVNLFNBQVM7d0NBQVFzQixlQUFlO3dDQUFVZixLQUFLO29DQUFNOzhDQUNoRS9DLE1BQU1vRSxHQUFHLENBQUMsQ0FBQ2pELHFCQUNWLDhEQUFDWTs0Q0FFQ0UsU0FBUyxJQUFNWixhQUFhRjs0Q0FDNUJlLE9BQU87Z0RBQ0xDLFNBQVM7Z0RBQ1RDLFFBQVEsQ0FBQyxVQUFVLEVBQ2pCbEMsY0FBY2dCLE9BQU9DLEtBQUtELEVBQUUsR0FBRyx5QkFBeUIsdUJBQ3hEO2dEQUNGbUIsY0FBYztnREFDZEMsWUFDRXBDLGNBQWNnQixPQUFPQyxLQUFLRCxFQUFFLEdBQ3hCLHdDQUNBO2dEQUNOcUIsUUFBUTtnREFDUjhCLFlBQVk7Z0RBQ1o3QixTQUFTO2dEQUNURSxnQkFBZ0I7Z0RBQ2hCRCxZQUFZOzRDQUNkOzs4REFFQSw4REFBQ1Y7b0RBQUlHLE9BQU87d0RBQUVZLE1BQU07b0RBQUU7O3NFQUNwQiw4REFBQ2Y7NERBQ0NHLE9BQU87Z0VBQ0xVLFVBQVU7Z0VBQ1YwQixZQUFZO2dFQUNaekIsT0FBTztnRUFDUDBCLGNBQWM7NERBQ2hCOztnRUFDRDtnRUFDS3BELEtBQUs4QixRQUFROzs7Ozs7O3NFQUVuQiw4REFBQ2xCOzREQUFJRyxPQUFPO2dFQUFFVSxVQUFVO2dFQUFRQyxPQUFPOzREQUE4Qjs7Z0VBQ2xFekQsMERBQWNBLENBQUMrQixLQUFLK0IsZUFBZTtnRUFBRTtnRUFBRztnRUFDeEMsSUFBSXNCLEtBQUtyRCxLQUFLc0QsV0FBVyxFQUFFQyxrQkFBa0I7Ozs7Ozs7Ozs7Ozs7OERBR2xELDhEQUFDdkI7b0RBQ0NsQixTQUFTLENBQUNSLElBQU1ELGFBQWFMLEtBQUtELEVBQUUsRUFBRU87b0RBQ3RDUyxPQUFPO3dEQUNMQyxTQUFTO3dEQUNURyxZQUFZO3dEQUNaRixRQUFRO3dEQUNSRyxRQUFRO3dEQUNSTSxPQUFPO3dEQUNQRCxVQUFVO29EQUNaO29EQUNBUSxPQUFNOzhEQUNQOzs7Ozs7OzJDQTlDSWpDLEtBQUtELEVBQUU7Ozs7Ozs7Ozs7Ozs7O3FEQXVEdEIsOERBQUNqQyxtREFBVUE7Z0NBQ1RPLFFBQVFBO2dDQUNSQyxXQUFXQTtnQ0FDWEMsY0FBY0E7Z0NBQ2RDLFlBQVlBO2dDQUNaZ0Ysa0JBQWtCckQ7Z0NBQ2xCc0QsZUFBZSxDQUFDaEU7b0NBQ2RDLFFBQVFELEtBQUssQ0FBQyxpQkFBaUJBO29DQUMvQmlCLE1BQU1qQixNQUFNaUUsT0FBTztnQ0FDckI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFTbEI7R0F6VmdCeEY7S0FBQUEiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbmljaG9sYXMubGVlXFxEb2N1bWVudHNcXHpcXFRpY2tldGluZ19OaWNrXFxUaWNrZXRpbmdcXHRhdl9vcGVuc291cmNlXFx1aVxcc3JjXFxjb21wb25lbnRzXFxGaWxlUGlja2VyLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogRmlsZSBQaWNrZXIgQ29tcG9uZW50XHJcbiAqIEZpbGUgc2VsZWN0aW9uIGRpYWxvZyB3aXRoIHVwbG9hZCBjYXBhYmlsaXR5XHJcbiAqL1xyXG5cclxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IEZpbGVVcGxvYWQgfSBmcm9tICcuL0ZpbGVVcGxvYWQnO1xyXG5pbXBvcnQge1xyXG4gIGxpc3RGaWxlcyxcclxuICBnZXRGaWxlRG93bmxvYWRVcmwsXHJcbiAgZGVsZXRlRmlsZSxcclxuICBmb3JtYXRGaWxlU2l6ZSxcclxuICB0eXBlIEZpbGVNZXRhZGF0YSxcclxuICB0eXBlIEZpbGVDYXRlZ29yeSxcclxufSBmcm9tICdAL2xpYi9maWxlcyc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEZpbGVQaWNrZXJQcm9wcyB7XHJcbiAgdmFsdWU/OiBzdHJpbmc7IC8vIFNlbGVjdGVkIGZpbGUgSURcclxuICBvbkNoYW5nZTogKGZpbGVJZDogc3RyaW5nIHwgbnVsbCwgZmlsZTogRmlsZU1ldGFkYXRhIHwgbnVsbCkgPT4gdm9pZDtcclxuICBhY2NlcHQ/OiBzdHJpbmc7XHJcbiAgbWF4U2l6ZU1CPzogbnVtYmVyO1xyXG4gIGZpbGVDYXRlZ29yeT86IEZpbGVDYXRlZ29yeTtcclxuICB3b3JrZmxvd0lkPzogc3RyaW5nO1xyXG4gIGRpc2FibGVkPzogYm9vbGVhbjtcclxuICBwbGFjZWhvbGRlcj86IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIEZpbGVQaWNrZXIoe1xyXG4gIHZhbHVlLFxyXG4gIG9uQ2hhbmdlLFxyXG4gIGFjY2VwdCxcclxuICBtYXhTaXplTUIsXHJcbiAgZmlsZUNhdGVnb3J5LFxyXG4gIHdvcmtmbG93SWQsXHJcbiAgZGlzYWJsZWQgPSBmYWxzZSxcclxuICBwbGFjZWhvbGRlciA9ICdTZWxlY3Qgb3IgdXBsb2FkIGEgZmlsZScsXHJcbn06IEZpbGVQaWNrZXJQcm9wcykge1xyXG4gIGNvbnN0IFtpc09wZW4sIHNldElzT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW2ZpbGVzLCBzZXRGaWxlc10gPSB1c2VTdGF0ZTxGaWxlTWV0YWRhdGFbXT4oW10pO1xyXG4gIGNvbnN0IFtzZWxlY3RlZEZpbGUsIHNldFNlbGVjdGVkRmlsZV0gPSB1c2VTdGF0ZTxGaWxlTWV0YWRhdGEgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW3ZpZXcsIHNldFZpZXddID0gdXNlU3RhdGU8J2xpc3QnIHwgJ3VwbG9hZCc+KCdsaXN0Jyk7XHJcblxyXG4gIC8vIExvYWQgZmlsZXMgd2hlbiBvcGVuZWRcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKGlzT3Blbikge1xyXG4gICAgICBsb2FkRmlsZXMoKTtcclxuICAgIH1cclxuICB9LCBbaXNPcGVuLCBmaWxlQ2F0ZWdvcnldKTtcclxuXHJcbiAgLy8gTG9hZCBzZWxlY3RlZCBmaWxlIG1ldGFkYXRhIHdoZW4gdmFsdWUgY2hhbmdlc1xyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAodmFsdWUpIHtcclxuICAgICAgbG9hZFNlbGVjdGVkRmlsZSh2YWx1ZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzZXRTZWxlY3RlZEZpbGUobnVsbCk7XHJcbiAgICB9XHJcbiAgfSwgW3ZhbHVlXSk7XHJcblxyXG4gIGNvbnN0IGxvYWRGaWxlcyA9IGFzeW5jICgpID0+IHtcclxuICAgIHNldExvYWRpbmcodHJ1ZSk7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGxpc3RGaWxlcyh7XHJcbiAgICAgICAgZmlsZUNhdGVnb3J5LFxyXG4gICAgICAgIHdvcmtmbG93SWQsXHJcbiAgICAgICAgbGltaXQ6IDEwMCxcclxuICAgICAgfSk7XHJcbiAgICAgIHNldEZpbGVzKHJlc3BvbnNlLmZpbGVzKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIGZpbGVzOicsIGVycm9yKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGxvYWRTZWxlY3RlZEZpbGUgPSBhc3luYyAoZmlsZUlkOiBzdHJpbmcpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIEZpcnN0IGNoZWNrIGlmIHdlIGFscmVhZHkgaGF2ZSBpdCBpbiB0aGUgbG9hZGVkIGZpbGVzXHJcbiAgICAgIGNvbnN0IGV4aXN0aW5nRmlsZSA9IGZpbGVzLmZpbmQoKGYpID0+IGYuaWQgPT09IGZpbGVJZCk7XHJcbiAgICAgIGlmIChleGlzdGluZ0ZpbGUpIHtcclxuICAgICAgICBzZXRTZWxlY3RlZEZpbGUoZXhpc3RpbmdGaWxlKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIElmIG5vdCBpbiBsaXN0IHlldCwgZmV0Y2ggYWxsIGZpbGVzIHRvIGZpbmQgaXRcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBsaXN0RmlsZXMoe1xyXG4gICAgICAgIGZpbGVDYXRlZ29yeSxcclxuICAgICAgICB3b3JrZmxvd0lkLFxyXG4gICAgICAgIGxpbWl0OiAxMDAsXHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgZmlsZSA9IHJlc3BvbnNlLmZpbGVzLmZpbmQoKGYpID0+IGYuaWQgPT09IGZpbGVJZCk7XHJcbiAgICAgIGlmIChmaWxlKSB7XHJcbiAgICAgICAgc2V0U2VsZWN0ZWRGaWxlKGZpbGUpO1xyXG4gICAgICAgIC8vIEFsc28gdXBkYXRlIGZpbGVzIGxpc3QgZm9yIHdoZW4gbW9kYWwgb3BlbnNcclxuICAgICAgICBzZXRGaWxlcyhyZXNwb25zZS5maWxlcyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gRmlsZSBubyBsb25nZXIgZXhpc3RzIChtYXliZSB3aXBlZCBvbiByZXN0YXJ0KVxyXG4gICAgICAgIGNvbnNvbGUud2FybihgRmlsZSAke2ZpbGVJZH0gbm90IGZvdW5kIGluIHN0b3JhZ2VgKTtcclxuICAgICAgICBzZXRTZWxlY3RlZEZpbGUobnVsbCk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIHNlbGVjdGVkIGZpbGU6JywgZXJyb3IpO1xyXG4gICAgICBzZXRTZWxlY3RlZEZpbGUobnVsbCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlU2VsZWN0ID0gKGZpbGU6IEZpbGVNZXRhZGF0YSkgPT4ge1xyXG4gICAgc2V0U2VsZWN0ZWRGaWxlKGZpbGUpO1xyXG4gICAgb25DaGFuZ2UoZmlsZS5pZCwgZmlsZSk7XHJcbiAgICBzZXRJc09wZW4oZmFsc2UpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZVVwbG9hZENvbXBsZXRlID0gKGZpbGU6IEZpbGVNZXRhZGF0YSkgPT4ge1xyXG4gICAgc2V0RmlsZXMoKHByZXYpID0+IFtmaWxlLCAuLi5wcmV2XSk7XHJcbiAgICBzZXRTZWxlY3RlZEZpbGUoZmlsZSk7XHJcbiAgICBvbkNoYW5nZShmaWxlLmlkLCBmaWxlKTtcclxuICAgIHNldFZpZXcoJ2xpc3QnKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVEZWxldGUgPSBhc3luYyAoZmlsZUlkOiBzdHJpbmcsIGU6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICBpZiAoIWNvbmZpcm0oJ0RlbGV0ZSB0aGlzIGZpbGU/JykpIHJldHVybjtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCBkZWxldGVGaWxlKGZpbGVJZCk7XHJcbiAgICAgIHNldEZpbGVzKChwcmV2KSA9PiBwcmV2LmZpbHRlcigoZikgPT4gZi5pZCAhPT0gZmlsZUlkKSk7XHJcbiAgICAgIGlmIChzZWxlY3RlZEZpbGU/LmlkID09PSBmaWxlSWQpIHtcclxuICAgICAgICBzZXRTZWxlY3RlZEZpbGUobnVsbCk7XHJcbiAgICAgICAgb25DaGFuZ2UobnVsbCwgbnVsbCk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBkZWxldGUgZmlsZTonLCBlcnJvcik7XHJcbiAgICAgIGFsZXJ0KCdGYWlsZWQgdG8gZGVsZXRlIGZpbGUnKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVDbGVhciA9ICgpID0+IHtcclxuICAgIHNldFNlbGVjdGVkRmlsZShudWxsKTtcclxuICAgIG9uQ2hhbmdlKG51bGwsIG51bGwpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZpbGUtcGlja2VyXCI+XHJcbiAgICAgIHsvKiBTZWxlY3RlZCBmaWxlIGRpc3BsYXkgLyB0cmlnZ2VyIGJ1dHRvbiAqL31cclxuICAgICAgPGRpdlxyXG4gICAgICAgIG9uQ2xpY2s9eygpID0+ICFkaXNhYmxlZCAmJiBzZXRJc09wZW4odHJ1ZSl9XHJcbiAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgIHBhZGRpbmc6ICc4cHggMTJweCcsXHJcbiAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgdmFyKC0tdGhlbWUtYm9yZGVyKScsXHJcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICc2cHgnLFxyXG4gICAgICAgICAgYmFja2dyb3VuZDogZGlzYWJsZWQgPyAndmFyKC0tdGhlbWUtc3VyZmFjZSknIDogJ3ZhcigtLXRoZW1lLXN1cmZhY2UtdmFyaWFudCknLFxyXG4gICAgICAgICAgY3Vyc29yOiBkaXNhYmxlZCA/ICdub3QtYWxsb3dlZCcgOiAncG9pbnRlcicsXHJcbiAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXHJcbiAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcclxuICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYmV0d2VlbicsXHJcbiAgICAgICAgICBvcGFjaXR5OiBkaXNhYmxlZCA/IDAuNiA6IDEsXHJcbiAgICAgICAgfX1cclxuICAgICAgPlxyXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgZm9udFNpemU6ICcxM3B4JywgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0KScsIGZsZXg6IDEgfX0+XHJcbiAgICAgICAgICB7c2VsZWN0ZWRGaWxlID8gKFxyXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgYWxpZ25JdGVtczogJ2NlbnRlcicsIGdhcDogJzhweCcgfX0+XHJcbiAgICAgICAgICAgICAgPHNwYW4+8J+ThDwvc3Bhbj5cclxuICAgICAgICAgICAgICA8c3Bhbj57c2VsZWN0ZWRGaWxlLmZpbGVuYW1lfTwvc3Bhbj5cclxuICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQtc2Vjb25kYXJ5KScsIGZvbnRTaXplOiAnMTFweCcgfX0+XHJcbiAgICAgICAgICAgICAgICAoe2Zvcm1hdEZpbGVTaXplKHNlbGVjdGVkRmlsZS5maWxlX3NpemVfYnl0ZXMpfSlcclxuICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0LXNlY29uZGFyeSknIH19PntwbGFjZWhvbGRlcn08L3NwYW4+XHJcbiAgICAgICAgICApfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBnYXA6ICc0cHgnIH19PlxyXG4gICAgICAgICAge3NlbGVjdGVkRmlsZSAmJiAhZGlzYWJsZWQgJiYgKFxyXG4gICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVDbGVhcigpO1xyXG4gICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgIHBhZGRpbmc6ICc0cHggOHB4JyxcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICd0cmFuc3BhcmVudCcsXHJcbiAgICAgICAgICAgICAgICBib3JkZXI6ICdub25lJyxcclxuICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0LXNlY29uZGFyeSknLFxyXG4gICAgICAgICAgICAgICAgZm9udFNpemU6ICcxMnB4JyxcclxuICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgIHRpdGxlPVwiQ2xlYXIgc2VsZWN0aW9uXCJcclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIOKclVxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICl9XHJcbiAgICAgICAgICB7IWRpc2FibGVkICYmIChcclxuICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0LXNlY29uZGFyeSknLCBmb250U2l6ZTogJzEycHgnIH19PuKWvDwvc3Bhbj5cclxuICAgICAgICAgICl9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgey8qIEZpbGUgcGlja2VyIG1vZGFsICovfVxyXG4gICAgICB7aXNPcGVuICYmIChcclxuICAgICAgICA8ZGl2XHJcbiAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcclxuICAgICAgICAgICAgdG9wOiAwLFxyXG4gICAgICAgICAgICBsZWZ0OiAwLFxyXG4gICAgICAgICAgICByaWdodDogMCxcclxuICAgICAgICAgICAgYm90dG9tOiAwLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAncmdiYSgwLCAwLCAwLCAwLjUpJyxcclxuICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxyXG4gICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcclxuICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxyXG4gICAgICAgICAgICB6SW5kZXg6IDEwMDAwLFxyXG4gICAgICAgICAgfX1cclxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldElzT3BlbihmYWxzZSl9XHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4gZS5zdG9wUHJvcGFnYXRpb24oKX1cclxuICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAndmFyKC0tdGhlbWUtc3VyZmFjZSknLFxyXG4gICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzEycHgnLFxyXG4gICAgICAgICAgICAgIHdpZHRoOiAnOTAlJyxcclxuICAgICAgICAgICAgICBtYXhXaWR0aDogJzYwMHB4JyxcclxuICAgICAgICAgICAgICBtYXhIZWlnaHQ6ICc2MHZoJyxcclxuICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXHJcbiAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXHJcbiAgICAgICAgICAgICAgYm94U2hhZG93OiAnMCAyMHB4IDYwcHggcmdiYSgwLCAwLCAwLCAwLjMpJyxcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgey8qIEhlYWRlciAqL31cclxuICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMTZweCAyMHB4JyxcclxuICAgICAgICAgICAgICAgIGJvcmRlckJvdHRvbTogJzFweCBzb2xpZCB2YXIoLS10aGVtZS1ib3JkZXIpJyxcclxuICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcclxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYmV0d2VlbicsXHJcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcclxuICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGdhcDogJzEycHgnIH19PlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRWaWV3KCdsaXN0Jyl9XHJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzZweCAxMnB4JyxcclxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB2aWV3ID09PSAnbGlzdCcgPyAndmFyKC0tdGhlbWUtcHJpbWFyeSknIDogJ3RyYW5zcGFyZW50JyxcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogdmlldyA9PT0gJ2xpc3QnID8gJ3doaXRlJyA6ICd2YXIoLS10aGVtZS10ZXh0KScsXHJcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnbm9uZScsXHJcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNnB4JyxcclxuICAgICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcclxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzEzcHgnLFxyXG4gICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICDwn5OBIEJyb3dzZSBGaWxlc1xyXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFZpZXcoJ3VwbG9hZCcpfVxyXG4gICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICc2cHggMTJweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogdmlldyA9PT0gJ3VwbG9hZCcgPyAndmFyKC0tdGhlbWUtcHJpbWFyeSknIDogJ3RyYW5zcGFyZW50JyxcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogdmlldyA9PT0gJ3VwbG9hZCcgPyAnd2hpdGUnIDogJ3ZhcigtLXRoZW1lLXRleHQpJyxcclxuICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICdub25lJyxcclxuICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc2cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTNweCcsXHJcbiAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIOKshu+4jyBVcGxvYWQgTmV3XHJcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRJc09wZW4oZmFsc2UpfVxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzZweCAxMnB4JyxcclxuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3RyYW5zcGFyZW50JyxcclxuICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnbm9uZScsXHJcbiAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxyXG4gICAgICAgICAgICAgICAgICBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQtc2Vjb25kYXJ5KScsXHJcbiAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMThweCcsXHJcbiAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIOKclVxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIHsvKiBDb250ZW50ICovfVxyXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGZsZXg6IDEsIG92ZXJmbG93OiAnYXV0bycsIHBhZGRpbmc6ICcyMHB4JyB9fT5cclxuICAgICAgICAgICAgICB7dmlldyA9PT0gJ2xpc3QnID8gKFxyXG4gICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAge2xvYWRpbmcgPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyB0ZXh0QWxpZ246ICdjZW50ZXInLCBwYWRkaW5nOiAnNDBweCcsIGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dC1zZWNvbmRhcnkpJyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgIExvYWRpbmcgZmlsZXMuLi5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgKSA6IGZpbGVzLmxlbmd0aCA9PT0gMCA/IChcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHRleHRBbGlnbjogJ2NlbnRlcicsIHBhZGRpbmc6ICc0MHB4JywgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0LXNlY29uZGFyeSknIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgTm8gZmlsZXMgZm91bmQuIFVwbG9hZCBvbmUgdG8gZ2V0IHN0YXJ0ZWQuXHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLCBnYXA6ICc4cHgnIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAge2ZpbGVzLm1hcCgoZmlsZSkgPT4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtmaWxlLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVNlbGVjdChmaWxlKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzEycHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBgMXB4IHNvbGlkICR7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRmlsZT8uaWQgPT09IGZpbGUuaWQgPyAndmFyKC0tdGhlbWUtcHJpbWFyeSknIDogJ3ZhcigtLXRoZW1lLWJvcmRlciknXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzhweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEZpbGU/LmlkID09PSBmaWxlLmlkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAncmdiYSh2YXIoLS10aGVtZS1wcmltYXJ5LXJnYiksIDAuMSknXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAndmFyKC0tdGhlbWUtc3VyZmFjZS12YXJpYW50KScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246ICdhbGwgMC4ycyBlYXNlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYmV0d2VlbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmbGV4OiAxIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTNweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogNTAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dCknLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogJzRweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIPCfk4Qge2ZpbGUuZmlsZW5hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZm9udFNpemU6ICcxMXB4JywgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0LXNlY29uZGFyeSknIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Zm9ybWF0RmlsZVNpemUoZmlsZS5maWxlX3NpemVfYnl0ZXMpfSDigKJ7JyAnfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bmV3IERhdGUoZmlsZS51cGxvYWRlZF9hdCkudG9Mb2NhbGVEYXRlU3RyaW5nKCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4gaGFuZGxlRGVsZXRlKGZpbGUuaWQsIGUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzRweCA4cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAndHJhbnNwYXJlbnQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICdub25lJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnI2VmNDQ0NCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJEZWxldGUgZmlsZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+Xke+4j1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICAgIDxGaWxlVXBsb2FkXHJcbiAgICAgICAgICAgICAgICAgIGFjY2VwdD17YWNjZXB0fVxyXG4gICAgICAgICAgICAgICAgICBtYXhTaXplTUI9e21heFNpemVNQn1cclxuICAgICAgICAgICAgICAgICAgZmlsZUNhdGVnb3J5PXtmaWxlQ2F0ZWdvcnl9XHJcbiAgICAgICAgICAgICAgICAgIHdvcmtmbG93SWQ9e3dvcmtmbG93SWR9XHJcbiAgICAgICAgICAgICAgICAgIG9uVXBsb2FkQ29tcGxldGU9e2hhbmRsZVVwbG9hZENvbXBsZXRlfVxyXG4gICAgICAgICAgICAgICAgICBvblVwbG9hZEVycm9yPXsoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdVcGxvYWQgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApfVxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG5cclxuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJGaWxlVXBsb2FkIiwibGlzdEZpbGVzIiwiZGVsZXRlRmlsZSIsImZvcm1hdEZpbGVTaXplIiwiRmlsZVBpY2tlciIsInZhbHVlIiwib25DaGFuZ2UiLCJhY2NlcHQiLCJtYXhTaXplTUIiLCJmaWxlQ2F0ZWdvcnkiLCJ3b3JrZmxvd0lkIiwiZGlzYWJsZWQiLCJwbGFjZWhvbGRlciIsImlzT3BlbiIsInNldElzT3BlbiIsImZpbGVzIiwic2V0RmlsZXMiLCJzZWxlY3RlZEZpbGUiLCJzZXRTZWxlY3RlZEZpbGUiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsInZpZXciLCJzZXRWaWV3IiwibG9hZEZpbGVzIiwibG9hZFNlbGVjdGVkRmlsZSIsInJlc3BvbnNlIiwibGltaXQiLCJlcnJvciIsImNvbnNvbGUiLCJmaWxlSWQiLCJleGlzdGluZ0ZpbGUiLCJmaW5kIiwiZiIsImlkIiwiZmlsZSIsIndhcm4iLCJoYW5kbGVTZWxlY3QiLCJoYW5kbGVVcGxvYWRDb21wbGV0ZSIsInByZXYiLCJoYW5kbGVEZWxldGUiLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwiY29uZmlybSIsImZpbHRlciIsImFsZXJ0IiwiaGFuZGxlQ2xlYXIiLCJkaXYiLCJjbGFzc05hbWUiLCJvbkNsaWNrIiwic3R5bGUiLCJwYWRkaW5nIiwiYm9yZGVyIiwiYm9yZGVyUmFkaXVzIiwiYmFja2dyb3VuZCIsImN1cnNvciIsImRpc3BsYXkiLCJhbGlnbkl0ZW1zIiwianVzdGlmeUNvbnRlbnQiLCJvcGFjaXR5IiwiZm9udFNpemUiLCJjb2xvciIsImZsZXgiLCJnYXAiLCJzcGFuIiwiZmlsZW5hbWUiLCJmaWxlX3NpemVfYnl0ZXMiLCJidXR0b24iLCJ0aXRsZSIsInBvc2l0aW9uIiwidG9wIiwibGVmdCIsInJpZ2h0IiwiYm90dG9tIiwiekluZGV4Iiwid2lkdGgiLCJtYXhXaWR0aCIsIm1heEhlaWdodCIsImZsZXhEaXJlY3Rpb24iLCJib3hTaGFkb3ciLCJib3JkZXJCb3R0b20iLCJvdmVyZmxvdyIsInRleHRBbGlnbiIsImxlbmd0aCIsIm1hcCIsInRyYW5zaXRpb24iLCJmb250V2VpZ2h0IiwibWFyZ2luQm90dG9tIiwiRGF0ZSIsInVwbG9hZGVkX2F0IiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwib25VcGxvYWRDb21wbGV0ZSIsIm9uVXBsb2FkRXJyb3IiLCJtZXNzYWdlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/FilePicker.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/FileUpload.tsx":
/*!***************************************!*\
  !*** ./src/components/FileUpload.tsx ***!
  \***************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FileUpload: () => (/* binding */ FileUpload)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styled-jsx/style */ \"(app-pages-browser)/./node_modules/styled-jsx/style.js\");\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _lib_files__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/files */ \"(app-pages-browser)/./src/lib/files.ts\");\n/**\r\n * File Upload Component\r\n * Drag-and-drop file uploader with progress tracking\r\n */ \nvar _s = $RefreshSig$();\n\n\n\nfunction FileUpload({ accept, maxSizeMB = 100, fileCategory, workflowId, multiple = false, onUploadComplete, onUploadError, disabled = false, className = '' }) {\n    _s();\n    const [isDragging, setIsDragging] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [uploadingFiles, setUploadingFiles] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(new Map());\n    const fileInputRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const maxSizeBytes = maxSizeMB * 1024 * 1024;\n    // Handle file selection/drop\n    const handleFiles = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)({\n        \"FileUpload.useCallback[handleFiles]\": async (files)=>{\n            if (!files || files.length === 0) return;\n            const filesToUpload = Array.from(files).slice(0, multiple ? files.length : 1);\n            for (const file of filesToUpload){\n                // Validate file type\n                if (accept && !(0,_lib_files__WEBPACK_IMPORTED_MODULE_3__.isFileTypeAccepted)(file.name, accept)) {\n                    const error = new Error(`File type not accepted: ${file.name}`);\n                    onUploadError?.(error);\n                    continue;\n                }\n                // Validate file size\n                if (file.size > maxSizeBytes) {\n                    const error = new Error(`File too large: ${file.name} (max ${maxSizeMB}MB)`);\n                    onUploadError?.(error);\n                    continue;\n                }\n                // Add to uploading files\n                const fileId = `${file.name}-${Date.now()}`;\n                setUploadingFiles({\n                    \"FileUpload.useCallback[handleFiles]\": (prev)=>{\n                        const newMap = new Map(prev);\n                        newMap.set(fileId, {\n                            file,\n                            progress: 0\n                        });\n                        return newMap;\n                    }\n                }[\"FileUpload.useCallback[handleFiles]\"]);\n                try {\n                    // Upload file\n                    const metadata = await (0,_lib_files__WEBPACK_IMPORTED_MODULE_3__.uploadFile)({\n                        file,\n                        fileType: 'upload',\n                        fileCategory: fileCategory || (0,_lib_files__WEBPACK_IMPORTED_MODULE_3__.autoDetectFileCategory)(file.name),\n                        workflowId,\n                        onProgress: {\n                            \"FileUpload.useCallback[handleFiles]\": (percent)=>{\n                                setUploadingFiles({\n                                    \"FileUpload.useCallback[handleFiles]\": (prev)=>{\n                                        const newMap = new Map(prev);\n                                        const existing = newMap.get(fileId);\n                                        if (existing) {\n                                            newMap.set(fileId, {\n                                                ...existing,\n                                                progress: percent\n                                            });\n                                        }\n                                        return newMap;\n                                    }\n                                }[\"FileUpload.useCallback[handleFiles]\"]);\n                            }\n                        }[\"FileUpload.useCallback[handleFiles]\"]\n                    });\n                    // Remove from uploading files\n                    setUploadingFiles({\n                        \"FileUpload.useCallback[handleFiles]\": (prev)=>{\n                            const newMap = new Map(prev);\n                            newMap.delete(fileId);\n                            return newMap;\n                        }\n                    }[\"FileUpload.useCallback[handleFiles]\"]);\n                    // Notify parent\n                    onUploadComplete?.(metadata);\n                } catch (error) {\n                    // Mark as error\n                    setUploadingFiles({\n                        \"FileUpload.useCallback[handleFiles]\": (prev)=>{\n                            const newMap = new Map(prev);\n                            const existing = newMap.get(fileId);\n                            if (existing) {\n                                newMap.set(fileId, {\n                                    ...existing,\n                                    error: error instanceof Error ? error.message : 'Upload failed'\n                                });\n                            }\n                            return newMap;\n                        }\n                    }[\"FileUpload.useCallback[handleFiles]\"]);\n                    onUploadError?.(error);\n                    // Remove after delay\n                    setTimeout({\n                        \"FileUpload.useCallback[handleFiles]\": ()=>{\n                            setUploadingFiles({\n                                \"FileUpload.useCallback[handleFiles]\": (prev)=>{\n                                    const newMap = new Map(prev);\n                                    newMap.delete(fileId);\n                                    return newMap;\n                                }\n                            }[\"FileUpload.useCallback[handleFiles]\"]);\n                        }\n                    }[\"FileUpload.useCallback[handleFiles]\"], 3000);\n                }\n            }\n        }\n    }[\"FileUpload.useCallback[handleFiles]\"], [\n        accept,\n        maxSizeBytes,\n        maxSizeMB,\n        multiple,\n        fileCategory,\n        workflowId,\n        onUploadComplete,\n        onUploadError\n    ]);\n    // Handle drag events\n    const handleDragEnter = (e)=>{\n        e.preventDefault();\n        e.stopPropagation();\n        if (!disabled) {\n            setIsDragging(true);\n        }\n    };\n    const handleDragLeave = (e)=>{\n        e.preventDefault();\n        e.stopPropagation();\n        setIsDragging(false);\n    };\n    const handleDragOver = (e)=>{\n        e.preventDefault();\n        e.stopPropagation();\n    };\n    const handleDrop = (e)=>{\n        e.preventDefault();\n        e.stopPropagation();\n        setIsDragging(false);\n        if (!disabled) {\n            handleFiles(e.dataTransfer.files);\n        }\n    };\n    // Handle click to browse\n    const handleClick = ()=>{\n        if (!disabled) {\n            fileInputRef.current?.click();\n        }\n    };\n    const handleFileInputChange = (e)=>{\n        handleFiles(e.target.files);\n    };\n    const uploadingArray = Array.from(uploadingFiles.values());\n    const hasUploading = uploadingArray.length > 0;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"jsx-d6567b9ddaa75e5c\" + \" \" + `file-upload ${className}`,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                onDragEnter: handleDragEnter,\n                onDragLeave: handleDragLeave,\n                onDragOver: handleDragOver,\n                onDrop: handleDrop,\n                onClick: handleClick,\n                style: {\n                    border: `2px dashed ${isDragging ? 'var(--theme-primary)' : 'var(--theme-border)'}`,\n                    borderRadius: '8px',\n                    padding: '24px',\n                    textAlign: 'center',\n                    cursor: disabled ? 'not-allowed' : 'pointer',\n                    background: isDragging ? 'rgba(var(--theme-primary-rgb), 0.05)' : 'var(--theme-surface-variant)',\n                    transition: 'all 0.2s ease',\n                    opacity: disabled ? 0.6 : 1\n                },\n                className: \"jsx-d6567b9ddaa75e5c\" + \" \" + `drop-zone ${isDragging ? 'dragging' : ''} ${disabled ? 'disabled' : ''}`,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            fontSize: '48px',\n                            marginBottom: '12px',\n                            opacity: 0.5\n                        },\n                        className: \"jsx-d6567b9ddaa75e5c\",\n                        children: \"\\uD83D\\uDCC1\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FileUpload.tsx\",\n                        lineNumber: 199,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            fontSize: '14px',\n                            fontWeight: 500,\n                            marginBottom: '8px',\n                            color: 'var(--theme-text)'\n                        },\n                        className: \"jsx-d6567b9ddaa75e5c\",\n                        children: isDragging ? 'Drop files here' : 'Drag & drop files here'\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FileUpload.tsx\",\n                        lineNumber: 200,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            fontSize: '12px',\n                            color: 'var(--theme-text-secondary)'\n                        },\n                        className: \"jsx-d6567b9ddaa75e5c\",\n                        children: \"or click to browse\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FileUpload.tsx\",\n                        lineNumber: 203,\n                        columnNumber: 9\n                    }, this),\n                    accept && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            fontSize: '11px',\n                            color: 'var(--theme-text-secondary)',\n                            marginTop: '8px'\n                        },\n                        className: \"jsx-d6567b9ddaa75e5c\",\n                        children: [\n                            \"Accepted: \",\n                            accept\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FileUpload.tsx\",\n                        lineNumber: 207,\n                        columnNumber: 11\n                    }, this),\n                    maxSizeMB && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            fontSize: '11px',\n                            color: 'var(--theme-text-secondary)'\n                        },\n                        className: \"jsx-d6567b9ddaa75e5c\",\n                        children: [\n                            \"Max size: \",\n                            maxSizeMB,\n                            \"MB\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FileUpload.tsx\",\n                        lineNumber: 212,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FileUpload.tsx\",\n                lineNumber: 179,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                ref: fileInputRef,\n                type: \"file\",\n                accept: accept,\n                multiple: multiple,\n                onChange: handleFileInputChange,\n                style: {\n                    display: 'none'\n                },\n                disabled: disabled,\n                className: \"jsx-d6567b9ddaa75e5c\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FileUpload.tsx\",\n                lineNumber: 219,\n                columnNumber: 7\n            }, this),\n            hasUploading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    marginTop: '16px'\n                },\n                className: \"jsx-d6567b9ddaa75e5c\",\n                children: uploadingArray.map((item, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            padding: '12px',\n                            marginBottom: '8px',\n                            borderRadius: '6px',\n                            background: 'var(--theme-surface-variant)',\n                            border: `1px solid ${item.error ? '#ef4444' : 'var(--theme-border)'}`\n                        },\n                        className: \"jsx-d6567b9ddaa75e5c\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    display: 'flex',\n                                    justifyContent: 'space-between',\n                                    alignItems: 'center',\n                                    marginBottom: '8px'\n                                },\n                                className: \"jsx-d6567b9ddaa75e5c\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            fontSize: '13px',\n                                            fontWeight: 500,\n                                            color: 'var(--theme-text)'\n                                        },\n                                        className: \"jsx-d6567b9ddaa75e5c\",\n                                        children: item.file.name\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FileUpload.tsx\",\n                                        lineNumber: 251,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            fontSize: '11px',\n                                            color: 'var(--theme-text-secondary)'\n                                        },\n                                        className: \"jsx-d6567b9ddaa75e5c\",\n                                        children: (0,_lib_files__WEBPACK_IMPORTED_MODULE_3__.formatFileSize)(item.file.size)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FileUpload.tsx\",\n                                        lineNumber: 254,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FileUpload.tsx\",\n                                lineNumber: 243,\n                                columnNumber: 15\n                            }, this),\n                            item.error ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    fontSize: '12px',\n                                    color: '#ef4444'\n                                },\n                                className: \"jsx-d6567b9ddaa75e5c\",\n                                children: [\n                                    \" \",\n                                    item.error\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FileUpload.tsx\",\n                                lineNumber: 260,\n                                columnNumber: 17\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            height: '4px',\n                                            background: 'var(--theme-border)',\n                                            borderRadius: '2px',\n                                            overflow: 'hidden'\n                                        },\n                                        className: \"jsx-d6567b9ddaa75e5c\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                height: '100%',\n                                                background: 'var(--theme-primary)',\n                                                width: `${item.progress}%`,\n                                                transition: 'width 0.3s ease'\n                                            },\n                                            className: \"jsx-d6567b9ddaa75e5c\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FileUpload.tsx\",\n                                            lineNumber: 271,\n                                            columnNumber: 21\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FileUpload.tsx\",\n                                        lineNumber: 263,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            fontSize: '11px',\n                                            color: 'var(--theme-text-secondary)',\n                                            marginTop: '4px'\n                                        },\n                                        className: \"jsx-d6567b9ddaa75e5c\",\n                                        children: [\n                                            Math.round(item.progress),\n                                            \"%\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FileUpload.tsx\",\n                                        lineNumber: 280,\n                                        columnNumber: 19\n                                    }, this)\n                                ]\n                            }, void 0, true)\n                        ]\n                    }, index, true, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FileUpload.tsx\",\n                        lineNumber: 233,\n                        columnNumber: 13\n                    }, this))\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FileUpload.tsx\",\n                lineNumber: 231,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default()), {\n                id: \"d6567b9ddaa75e5c\",\n                children: \".drop-zone.jsx-d6567b9ddaa75e5c:hover:not(.disabled){border-color:var(--theme-primary);background:rgba(var(--theme-primary-rgb),.03)}\"\n            }, void 0, false, void 0, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FileUpload.tsx\",\n        lineNumber: 177,\n        columnNumber: 5\n    }, this);\n}\n_s(FileUpload, \"hhZkzjnJJZRy/EI1B/5f4IpPOsg=\");\n_c = FileUpload;\nvar _c;\n$RefreshReg$(_c, \"FileUpload\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL0ZpbGVVcGxvYWQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTs7O0NBR0M7OztBQUU0RDtBQUM4RTtBQW9CcEksU0FBU1EsV0FBVyxFQUN6QkMsTUFBTSxFQUNOQyxZQUFZLEdBQUcsRUFDZkMsWUFBWSxFQUNaQyxVQUFVLEVBQ1ZDLFdBQVcsS0FBSyxFQUNoQkMsZ0JBQWdCLEVBQ2hCQyxhQUFhLEVBQ2JDLFdBQVcsS0FBSyxFQUNoQkMsWUFBWSxFQUFFLEVBQ0U7O0lBQ2hCLE1BQU0sQ0FBQ0MsWUFBWUMsY0FBYyxHQUFHbEIsK0NBQVFBLENBQUM7SUFDN0MsTUFBTSxDQUFDbUIsZ0JBQWdCQyxrQkFBa0IsR0FBR3BCLCtDQUFRQSxDQUE2QixJQUFJcUI7SUFDckYsTUFBTUMsZUFBZXJCLDZDQUFNQSxDQUFtQjtJQUU5QyxNQUFNc0IsZUFBZWQsWUFBWSxPQUFPO0lBRXhDLDZCQUE2QjtJQUM3QixNQUFNZSxjQUFjdEIsa0RBQVdBOytDQUM3QixPQUFPdUI7WUFDTCxJQUFJLENBQUNBLFNBQVNBLE1BQU1DLE1BQU0sS0FBSyxHQUFHO1lBRWxDLE1BQU1DLGdCQUFnQkMsTUFBTUMsSUFBSSxDQUFDSixPQUFPSyxLQUFLLENBQUMsR0FBR2xCLFdBQVdhLE1BQU1DLE1BQU0sR0FBRztZQUUzRSxLQUFLLE1BQU1LLFFBQVFKLGNBQWU7Z0JBQ2hDLHFCQUFxQjtnQkFDckIsSUFBSW5CLFVBQVUsQ0FBQ0gsOERBQWtCQSxDQUFDMEIsS0FBS0MsSUFBSSxFQUFFeEIsU0FBUztvQkFDcEQsTUFBTXlCLFFBQVEsSUFBSUMsTUFBTSxDQUFDLHdCQUF3QixFQUFFSCxLQUFLQyxJQUFJLEVBQUU7b0JBQzlEbEIsZ0JBQWdCbUI7b0JBQ2hCO2dCQUNGO2dCQUVBLHFCQUFxQjtnQkFDckIsSUFBSUYsS0FBS0ksSUFBSSxHQUFHWixjQUFjO29CQUM1QixNQUFNVSxRQUFRLElBQUlDLE1BQU0sQ0FBQyxn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OztrREFDRSw4REFBQ21DO3dDQUNDTSxPQUFPOzRDQUNMd0IsUUFBUTs0Q0FDUmxCLFlBQVk7NENBQ1pKLGNBQWM7NENBQ2R1QixVQUFVO3dDQUNaOztrREFFQSw0RUFBQy9COzRDQUNDTSxPQUFPO2dEQUNMd0IsUUFBUTtnREFDUmxCLFlBQVk7Z0RBQ1pvQixPQUFPLEdBQUdOLEtBQUtwRCxRQUFRLENBQUMsQ0FBQyxDQUFDO2dEQUMxQnVDLFlBQVk7NENBQ2Q7Ozs7Ozs7Ozs7OztrREFHSiw4REFBQ2I7d0NBQUlNLE9BQU87NENBQUVTLFVBQVU7NENBQVFHLE9BQU87NENBQStCQyxXQUFXO3dDQUFNOzs7NENBQ3BGYyxLQUFLQyxLQUFLLENBQUNSLEtBQUtwRCxRQUFROzRDQUFFOzs7Ozs7Ozs7O3VCQS9DNUJxRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFnRW5CO0dBL1FnQnhGO0tBQUFBIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXG5pY2hvbGFzLmxlZVxcRG9jdW1lbnRzXFx6XFxUaWNrZXRpbmdfTmlja1xcVGlja2V0aW5nXFx0YXZfb3BlbnNvdXJjZVxcdWlcXHNyY1xcY29tcG9uZW50c1xcRmlsZVVwbG9hZC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEZpbGUgVXBsb2FkIENvbXBvbmVudFxyXG4gKiBEcmFnLWFuZC1kcm9wIGZpbGUgdXBsb2FkZXIgd2l0aCBwcm9ncmVzcyB0cmFja2luZ1xyXG4gKi9cclxuXHJcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlUmVmLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgdXBsb2FkRmlsZSwgZm9ybWF0RmlsZVNpemUsIGlzRmlsZVR5cGVBY2NlcHRlZCwgYXV0b0RldGVjdEZpbGVDYXRlZ29yeSwgdHlwZSBGaWxlTWV0YWRhdGEsIHR5cGUgRmlsZUNhdGVnb3J5IH0gZnJvbSAnQC9saWIvZmlsZXMnO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBGaWxlVXBsb2FkUHJvcHMge1xyXG4gIGFjY2VwdD86IHN0cmluZztcclxuICBtYXhTaXplTUI/OiBudW1iZXI7XHJcbiAgZmlsZUNhdGVnb3J5PzogRmlsZUNhdGVnb3J5O1xyXG4gIHdvcmtmbG93SWQ/OiBzdHJpbmc7XHJcbiAgbXVsdGlwbGU/OiBib29sZWFuO1xyXG4gIG9uVXBsb2FkQ29tcGxldGU/OiAoZmlsZTogRmlsZU1ldGFkYXRhKSA9PiB2b2lkO1xyXG4gIG9uVXBsb2FkRXJyb3I/OiAoZXJyb3I6IEVycm9yKSA9PiB2b2lkO1xyXG4gIGRpc2FibGVkPzogYm9vbGVhbjtcclxuICBjbGFzc05hbWU/OiBzdHJpbmc7XHJcbn1cclxuXHJcbmludGVyZmFjZSBVcGxvYWRpbmdGaWxlIHtcclxuICBmaWxlOiBGaWxlO1xyXG4gIHByb2dyZXNzOiBudW1iZXI7XHJcbiAgZXJyb3I/OiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBGaWxlVXBsb2FkKHtcclxuICBhY2NlcHQsXHJcbiAgbWF4U2l6ZU1CID0gMTAwLFxyXG4gIGZpbGVDYXRlZ29yeSxcclxuICB3b3JrZmxvd0lkLFxyXG4gIG11bHRpcGxlID0gZmFsc2UsXHJcbiAgb25VcGxvYWRDb21wbGV0ZSxcclxuICBvblVwbG9hZEVycm9yLFxyXG4gIGRpc2FibGVkID0gZmFsc2UsXHJcbiAgY2xhc3NOYW1lID0gJycsXHJcbn06IEZpbGVVcGxvYWRQcm9wcykge1xyXG4gIGNvbnN0IFtpc0RyYWdnaW5nLCBzZXRJc0RyYWdnaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbdXBsb2FkaW5nRmlsZXMsIHNldFVwbG9hZGluZ0ZpbGVzXSA9IHVzZVN0YXRlPE1hcDxzdHJpbmcsIFVwbG9hZGluZ0ZpbGU+PihuZXcgTWFwKCkpO1xyXG4gIGNvbnN0IGZpbGVJbnB1dFJlZiA9IHVzZVJlZjxIVE1MSW5wdXRFbGVtZW50PihudWxsKTtcclxuXHJcbiAgY29uc3QgbWF4U2l6ZUJ5dGVzID0gbWF4U2l6ZU1CICogMTAyNCAqIDEwMjQ7XHJcblxyXG4gIC8vIEhhbmRsZSBmaWxlIHNlbGVjdGlvbi9kcm9wXHJcbiAgY29uc3QgaGFuZGxlRmlsZXMgPSB1c2VDYWxsYmFjayhcclxuICAgIGFzeW5jIChmaWxlczogRmlsZUxpc3QgfCBudWxsKSA9PiB7XHJcbiAgICAgIGlmICghZmlsZXMgfHwgZmlsZXMubGVuZ3RoID09PSAwKSByZXR1cm47XHJcblxyXG4gICAgICBjb25zdCBmaWxlc1RvVXBsb2FkID0gQXJyYXkuZnJvbShmaWxlcykuc2xpY2UoMCwgbXVsdGlwbGUgPyBmaWxlcy5sZW5ndGggOiAxKTtcclxuXHJcbiAgICAgIGZvciAoY29uc3QgZmlsZSBvZiBmaWxlc1RvVXBsb2FkKSB7XHJcbiAgICAgICAgLy8gVmFsaWRhdGUgZmlsZSB0eXBlXHJcbiAgICAgICAgaWYgKGFjY2VwdCAmJiAhaXNGaWxlVHlwZUFjY2VwdGVkKGZpbGUubmFtZSwgYWNjZXB0KSkge1xyXG4gICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYEZpbGUgdHlwZSBub3QgYWNjZXB0ZWQ6ICR7ZmlsZS5uYW1lfWApO1xyXG4gICAgICAgICAgb25VcGxvYWRFcnJvcj8uKGVycm9yKTtcclxuICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVmFsaWRhdGUgZmlsZSBzaXplXHJcbiAgICAgICAgaWYgKGZpbGUuc2l6ZSA+IG1heFNpemVCeXRlcykge1xyXG4gICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYEZpbGUgdG9vIGxhcmdlOiAke2ZpbGUubmFtZX0gKG1heCAke21heFNpemVNQn1NQilgKTtcclxuICAgICAgICAgIG9uVXBsb2FkRXJyb3I/LihlcnJvcik7XHJcbiAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEFkZCB0byB1cGxvYWRpbmcgZmlsZXNcclxuICAgICAgICBjb25zdCBmaWxlSWQgPSBgJHtmaWxlLm5hbWV9LSR7RGF0ZS5ub3coKX1gO1xyXG4gICAgICAgIHNldFVwbG9hZGluZ0ZpbGVzKChwcmV2KSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBuZXdNYXAgPSBuZXcgTWFwKHByZXYpO1xyXG4gICAgICAgICAgbmV3TWFwLnNldChmaWxlSWQsIHsgZmlsZSwgcHJvZ3Jlc3M6IDAgfSk7XHJcbiAgICAgICAgICByZXR1cm4gbmV3TWFwO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgLy8gVXBsb2FkIGZpbGVcclxuICAgICAgICAgIGNvbnN0IG1ldGFkYXRhID0gYXdhaXQgdXBsb2FkRmlsZSh7XHJcbiAgICAgICAgICAgIGZpbGUsXHJcbiAgICAgICAgICAgIGZpbGVUeXBlOiAndXBsb2FkJyxcclxuICAgICAgICAgICAgZmlsZUNhdGVnb3J5OiBmaWxlQ2F0ZWdvcnkgfHwgYXV0b0RldGVjdEZpbGVDYXRlZ29yeShmaWxlLm5hbWUpLFxyXG4gICAgICAgICAgICB3b3JrZmxvd0lkLFxyXG4gICAgICAgICAgICBvblByb2dyZXNzOiAocGVyY2VudCkgPT4ge1xyXG4gICAgICAgICAgICAgIHNldFVwbG9hZGluZ0ZpbGVzKChwcmV2KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdNYXAgPSBuZXcgTWFwKHByZXYpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmcgPSBuZXdNYXAuZ2V0KGZpbGVJZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgbmV3TWFwLnNldChmaWxlSWQsIHsgLi4uZXhpc3RpbmcsIHByb2dyZXNzOiBwZXJjZW50IH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ld01hcDtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIC8vIFJlbW92ZSBmcm9tIHVwbG9hZGluZyBmaWxlc1xyXG4gICAgICAgICAgc2V0VXBsb2FkaW5nRmlsZXMoKHByZXYpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbmV3TWFwID0gbmV3IE1hcChwcmV2KTtcclxuICAgICAgICAgICAgbmV3TWFwLmRlbGV0ZShmaWxlSWQpO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3TWFwO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgLy8gTm90aWZ5IHBhcmVudFxyXG4gICAgICAgICAgb25VcGxvYWRDb21wbGV0ZT8uKG1ldGFkYXRhKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgLy8gTWFyayBhcyBlcnJvclxyXG4gICAgICAgICAgc2V0VXBsb2FkaW5nRmlsZXMoKHByZXYpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbmV3TWFwID0gbmV3IE1hcChwcmV2KTtcclxuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmcgPSBuZXdNYXAuZ2V0KGZpbGVJZCk7XHJcbiAgICAgICAgICAgIGlmIChleGlzdGluZykge1xyXG4gICAgICAgICAgICAgIG5ld01hcC5zZXQoZmlsZUlkLCB7XHJcbiAgICAgICAgICAgICAgICAuLi5leGlzdGluZyxcclxuICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVcGxvYWQgZmFpbGVkJyxcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbmV3TWFwO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgb25VcGxvYWRFcnJvcj8uKGVycm9yIGFzIEVycm9yKTtcclxuXHJcbiAgICAgICAgICAvLyBSZW1vdmUgYWZ0ZXIgZGVsYXlcclxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBzZXRVcGxvYWRpbmdGaWxlcygocHJldikgPT4ge1xyXG4gICAgICAgICAgICAgIGNvbnN0IG5ld01hcCA9IG5ldyBNYXAocHJldik7XHJcbiAgICAgICAgICAgICAgbmV3TWFwLmRlbGV0ZShmaWxlSWQpO1xyXG4gICAgICAgICAgICAgIHJldHVybiBuZXdNYXA7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSwgMzAwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgW2FjY2VwdCwgbWF4U2l6ZUJ5dGVzLCBtYXhTaXplTUIsIG11bHRpcGxlLCBmaWxlQ2F0ZWdvcnksIHdvcmtmbG93SWQsIG9uVXBsb2FkQ29tcGxldGUsIG9uVXBsb2FkRXJyb3JdXHJcbiAgKTtcclxuXHJcbiAgLy8gSGFuZGxlIGRyYWcgZXZlbnRzXHJcbiAgY29uc3QgaGFuZGxlRHJhZ0VudGVyID0gKGU6IFJlYWN0LkRyYWdFdmVudCkgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIGlmICghZGlzYWJsZWQpIHtcclxuICAgICAgc2V0SXNEcmFnZ2luZyh0cnVlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVEcmFnTGVhdmUgPSAoZTogUmVhY3QuRHJhZ0V2ZW50KSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgc2V0SXNEcmFnZ2luZyhmYWxzZSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlRHJhZ092ZXIgPSAoZTogUmVhY3QuRHJhZ0V2ZW50KSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZURyb3AgPSAoZTogUmVhY3QuRHJhZ0V2ZW50KSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgc2V0SXNEcmFnZ2luZyhmYWxzZSk7XHJcblxyXG4gICAgaWYgKCFkaXNhYmxlZCkge1xyXG4gICAgICBoYW5kbGVGaWxlcyhlLmRhdGFUcmFuc2Zlci5maWxlcyk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gSGFuZGxlIGNsaWNrIHRvIGJyb3dzZVxyXG4gIGNvbnN0IGhhbmRsZUNsaWNrID0gKCkgPT4ge1xyXG4gICAgaWYgKCFkaXNhYmxlZCkge1xyXG4gICAgICBmaWxlSW5wdXRSZWYuY3VycmVudD8uY2xpY2soKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVGaWxlSW5wdXRDaGFuZ2UgPSAoZTogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcclxuICAgIGhhbmRsZUZpbGVzKGUudGFyZ2V0LmZpbGVzKTtcclxuICB9O1xyXG5cclxuICBjb25zdCB1cGxvYWRpbmdBcnJheSA9IEFycmF5LmZyb20odXBsb2FkaW5nRmlsZXMudmFsdWVzKCkpO1xyXG4gIGNvbnN0IGhhc1VwbG9hZGluZyA9IHVwbG9hZGluZ0FycmF5Lmxlbmd0aCA+IDA7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT17YGZpbGUtdXBsb2FkICR7Y2xhc3NOYW1lfWB9PlxyXG4gICAgICB7LyogRHJvcCB6b25lICovfVxyXG4gICAgICA8ZGl2XHJcbiAgICAgICAgY2xhc3NOYW1lPXtgZHJvcC16b25lICR7aXNEcmFnZ2luZyA/ICdkcmFnZ2luZycgOiAnJ30gJHtkaXNhYmxlZCA/ICdkaXNhYmxlZCcgOiAnJ31gfVxyXG4gICAgICAgIG9uRHJhZ0VudGVyPXtoYW5kbGVEcmFnRW50ZXJ9XHJcbiAgICAgICAgb25EcmFnTGVhdmU9e2hhbmRsZURyYWdMZWF2ZX1cclxuICAgICAgICBvbkRyYWdPdmVyPXtoYW5kbGVEcmFnT3Zlcn1cclxuICAgICAgICBvbkRyb3A9e2hhbmRsZURyb3B9XHJcbiAgICAgICAgb25DbGljaz17aGFuZGxlQ2xpY2t9XHJcbiAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgIGJvcmRlcjogYDJweCBkYXNoZWQgJHtpc0RyYWdnaW5nID8gJ3ZhcigtLXRoZW1lLXByaW1hcnkpJyA6ICd2YXIoLS10aGVtZS1ib3JkZXIpJ31gLFxyXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnOHB4JyxcclxuICAgICAgICAgIHBhZGRpbmc6ICcyNHB4JyxcclxuICAgICAgICAgIHRleHRBbGlnbjogJ2NlbnRlcicsXHJcbiAgICAgICAgICBjdXJzb3I6IGRpc2FibGVkID8gJ25vdC1hbGxvd2VkJyA6ICdwb2ludGVyJyxcclxuICAgICAgICAgIGJhY2tncm91bmQ6IGlzRHJhZ2dpbmdcclxuICAgICAgICAgICAgPyAncmdiYSh2YXIoLS10aGVtZS1wcmltYXJ5LXJnYiksIDAuMDUpJ1xyXG4gICAgICAgICAgICA6ICd2YXIoLS10aGVtZS1zdXJmYWNlLXZhcmlhbnQpJyxcclxuICAgICAgICAgIHRyYW5zaXRpb246ICdhbGwgMC4ycyBlYXNlJyxcclxuICAgICAgICAgIG9wYWNpdHk6IGRpc2FibGVkID8gMC42IDogMSxcclxuICAgICAgICB9fVxyXG4gICAgICA+XHJcbiAgICAgICAgPGRpdiBzdHlsZT17eyBmb250U2l6ZTogJzQ4cHgnLCBtYXJnaW5Cb3R0b206ICcxMnB4Jywgb3BhY2l0eTogMC41IH19PvCfk4E8L2Rpdj5cclxuICAgICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRTaXplOiAnMTRweCcsIGZvbnRXZWlnaHQ6IDUwMCwgbWFyZ2luQm90dG9tOiAnOHB4JywgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0KScgfX0+XHJcbiAgICAgICAgICB7aXNEcmFnZ2luZyA/ICdEcm9wIGZpbGVzIGhlcmUnIDogJ0RyYWcgJiBkcm9wIGZpbGVzIGhlcmUnfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgZm9udFNpemU6ICcxMnB4JywgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0LXNlY29uZGFyeSknIH19PlxyXG4gICAgICAgICAgb3IgY2xpY2sgdG8gYnJvd3NlXHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAge2FjY2VwdCAmJiAoXHJcbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRTaXplOiAnMTFweCcsIGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dC1zZWNvbmRhcnkpJywgbWFyZ2luVG9wOiAnOHB4JyB9fT5cclxuICAgICAgICAgICAgQWNjZXB0ZWQ6IHthY2NlcHR9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApfVxyXG4gICAgICAgIHttYXhTaXplTUIgJiYgKFxyXG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250U2l6ZTogJzExcHgnLCBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQtc2Vjb25kYXJ5KScgfX0+XHJcbiAgICAgICAgICAgIE1heCBzaXplOiB7bWF4U2l6ZU1CfU1CXHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApfVxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIHsvKiBIaWRkZW4gZmlsZSBpbnB1dCAqL31cclxuICAgICAgPGlucHV0XHJcbiAgICAgICAgcmVmPXtmaWxlSW5wdXRSZWZ9XHJcbiAgICAgICAgdHlwZT1cImZpbGVcIlxyXG4gICAgICAgIGFjY2VwdD17YWNjZXB0fVxyXG4gICAgICAgIG11bHRpcGxlPXttdWx0aXBsZX1cclxuICAgICAgICBvbkNoYW5nZT17aGFuZGxlRmlsZUlucHV0Q2hhbmdlfVxyXG4gICAgICAgIHN0eWxlPXt7IGRpc3BsYXk6ICdub25lJyB9fVxyXG4gICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cclxuICAgICAgLz5cclxuXHJcbiAgICAgIHsvKiBVcGxvYWQgcHJvZ3Jlc3MgKi99XHJcbiAgICAgIHtoYXNVcGxvYWRpbmcgJiYgKFxyXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luVG9wOiAnMTZweCcgfX0+XHJcbiAgICAgICAgICB7dXBsb2FkaW5nQXJyYXkubWFwKChpdGVtLCBpbmRleCkgPT4gKFxyXG4gICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAga2V5PXtpbmRleH1cclxuICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgcGFkZGluZzogJzEycHgnLFxyXG4gICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiAnOHB4JyxcclxuICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzZweCcsXHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAndmFyKC0tdGhlbWUtc3VyZmFjZS12YXJpYW50KScsXHJcbiAgICAgICAgICAgICAgICBib3JkZXI6IGAxcHggc29saWQgJHtpdGVtLmVycm9yID8gJyNlZjQ0NDQnIDogJ3ZhcigtLXRoZW1lLWJvcmRlciknfWAsXHJcbiAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcclxuICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJyxcclxuICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXHJcbiAgICAgICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogJzhweCcsXHJcbiAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZm9udFNpemU6ICcxM3B4JywgZm9udFdlaWdodDogNTAwLCBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQpJyB9fT5cclxuICAgICAgICAgICAgICAgICAge2l0ZW0uZmlsZS5uYW1lfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRTaXplOiAnMTFweCcsIGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dC1zZWNvbmRhcnkpJyB9fT5cclxuICAgICAgICAgICAgICAgICAge2Zvcm1hdEZpbGVTaXplKGl0ZW0uZmlsZS5zaXplKX1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICB7aXRlbS5lcnJvciA/IChcclxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZm9udFNpemU6ICcxMnB4JywgY29sb3I6ICcjZWY0NDQ0JyB9fT7inYwge2l0ZW0uZXJyb3J9PC9kaXY+XHJcbiAgICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICAgIDw+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAnNHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICd2YXIoLS10aGVtZS1ib3JkZXIpJyxcclxuICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzJweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbicsXHJcbiAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAndmFyKC0tdGhlbWUtcHJpbWFyeSknLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogYCR7aXRlbS5wcm9ncmVzc30lYCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogJ3dpZHRoIDAuM3MgZWFzZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRTaXplOiAnMTFweCcsIGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dC1zZWNvbmRhcnkpJywgbWFyZ2luVG9wOiAnNHB4JyB9fT5cclxuICAgICAgICAgICAgICAgICAgICB7TWF0aC5yb3VuZChpdGVtLnByb2dyZXNzKX0lXHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC8+XHJcbiAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICApKX1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKX1cclxuXHJcbiAgICAgIDxzdHlsZSBqc3g+e2BcclxuICAgICAgICAuZHJvcC16b25lOmhvdmVyOm5vdCguZGlzYWJsZWQpIHtcclxuICAgICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0tdGhlbWUtcHJpbWFyeSk7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKHZhcigtLXRoZW1lLXByaW1hcnktcmdiKSwgMC4wMyk7XHJcbiAgICAgICAgfVxyXG4gICAgICBgfTwvc3R5bGU+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59XHJcblxyXG4iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZVJlZiIsInVzZUNhbGxiYWNrIiwidXBsb2FkRmlsZSIsImZvcm1hdEZpbGVTaXplIiwiaXNGaWxlVHlwZUFjY2VwdGVkIiwiYXV0b0RldGVjdEZpbGVDYXRlZ29yeSIsIkZpbGVVcGxvYWQiLCJhY2NlcHQiLCJtYXhTaXplTUIiLCJmaWxlQ2F0ZWdvcnkiLCJ3b3JrZmxvd0lkIiwibXVsdGlwbGUiLCJvblVwbG9hZENvbXBsZXRlIiwib25VcGxvYWRFcnJvciIsImRpc2FibGVkIiwiY2xhc3NOYW1lIiwiaXNEcmFnZ2luZyIsInNldElzRHJhZ2dpbmciLCJ1cGxvYWRpbmdGaWxlcyIsInNldFVwbG9hZGluZ0ZpbGVzIiwiTWFwIiwiZmlsZUlucHV0UmVmIiwibWF4U2l6ZUJ5dGVzIiwiaGFuZGxlRmlsZXMiLCJmaWxlcyIsImxlbmd0aCIsImZpbGVzVG9VcGxvYWQiLCJBcnJheSIsImZyb20iLCJzbGljZSIsImZpbGUiLCJuYW1lIiwiZXJyb3IiLCJFcnJvciIsInNpemUiLCJmaWxlSWQiLCJEYXRlIiwibm93IiwicHJldiIsIm5ld01hcCIsInNldCIsInByb2dyZXNzIiwibWV0YWRhdGEiLCJmaWxlVHlwZSIsIm9uUHJvZ3Jlc3MiLCJwZXJjZW50IiwiZXhpc3RpbmciLCJnZXQiLCJkZWxldGUiLCJtZXNzYWdlIiwic2V0VGltZW91dCIsImhhbmRsZURyYWdFbnRlciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsImhhbmRsZURyYWdMZWF2ZSIsImhhbmRsZURyYWdPdmVyIiwiaGFuZGxlRHJvcCIsImRhdGFUcmFuc2ZlciIsImhhbmRsZUNsaWNrIiwiY3VycmVudCIsImNsaWNrIiwiaGFuZGxlRmlsZUlucHV0Q2hhbmdlIiwidGFyZ2V0IiwidXBsb2FkaW5nQXJyYXkiLCJ2YWx1ZXMiLCJoYXNVcGxvYWRpbmciLCJkaXYiLCJvbkRyYWdFbnRlciIsIm9uRHJhZ0xlYXZlIiwib25EcmFnT3ZlciIsIm9uRHJvcCIsIm9uQ2xpY2siLCJzdHlsZSIsImJvcmRlciIsImJvcmRlclJhZGl1cyIsInBhZGRpbmciLCJ0ZXh0QWxpZ24iLCJjdXJzb3IiLCJiYWNrZ3JvdW5kIiwidHJhbnNpdGlvbiIsIm9wYWNpdHkiLCJmb250U2l6ZSIsIm1hcmdpbkJvdHRvbSIsImZvbnRXZWlnaHQiLCJjb2xvciIsIm1hcmdpblRvcCIsImlucHV0IiwicmVmIiwidHlwZSIsIm9uQ2hhbmdlIiwiZGlzcGxheSIsIm1hcCIsIml0ZW0iLCJpbmRleCIsImp1c3RpZnlDb250ZW50IiwiYWxpZ25JdGVtcyIsImhlaWdodCIsIm92ZXJmbG93Iiwid2lkdGgiLCJNYXRoIiwicm91bmQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/FileUpload.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/FolderPicker.tsx":
/*!*****************************************!*\
  !*** ./src/components/FolderPicker.tsx ***!
  \*****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FolderPicker: () => (/* binding */ FolderPicker)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/**\r\n * Folder Picker Component\r\n * Simple text input for folder paths\r\n * \r\n * Just type or paste your folder path - browsers can't browse folders for security reasons\r\n */ \n\nfunction FolderPicker({ value, onChange, disabled = false, placeholder = 'Enter full folder path (e.g., D:\\\\exports or C:\\\\Users\\\\YourName\\\\Desktop)' }) {\n    const handleClear = ()=>{\n        onChange('');\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"folder-picker\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    display: 'flex',\n                    gap: '8px',\n                    alignItems: 'center'\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            flex: 1,\n                            position: 'relative'\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    position: 'absolute',\n                                    left: '10px',\n                                    top: '50%',\n                                    transform: 'translateY(-50%)',\n                                    fontSize: '14px'\n                                },\n                                children: \"\\uD83D\\uDCC1\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FolderPicker.tsx\",\n                                lineNumber: 32,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                type: \"text\",\n                                value: value || '',\n                                onChange: (e)=>onChange(e.target.value),\n                                placeholder: placeholder,\n                                disabled: disabled,\n                                style: {\n                                    width: '100%',\n                                    padding: '8px 12px 8px 32px',\n                                    border: '1px solid var(--theme-border)',\n                                    borderRadius: '6px',\n                                    background: disabled ? 'var(--theme-surface)' : 'var(--theme-surface-variant)',\n                                    color: 'var(--theme-text)',\n                                    fontSize: '13px',\n                                    fontFamily: 'monospace',\n                                    opacity: disabled ? 0.6 : 1\n                                }\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FolderPicker.tsx\",\n                                lineNumber: 41,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FolderPicker.tsx\",\n                        lineNumber: 31,\n                        columnNumber: 9\n                    }, this),\n                    value && !disabled && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleClear,\n                        style: {\n                            padding: '6px 10px',\n                            background: 'transparent',\n                            border: '1px solid var(--theme-border)',\n                            borderRadius: '4px',\n                            cursor: 'pointer',\n                            color: 'var(--theme-text-secondary)',\n                            fontSize: '12px'\n                        },\n                        title: \"Clear\",\n                        children: \"\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FolderPicker.tsx\",\n                        lineNumber: 62,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FolderPicker.tsx\",\n                lineNumber: 30,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    fontSize: '11px',\n                    color: 'var(--theme-text-secondary)',\n                    marginTop: '4px'\n                },\n                children: \"\\uD83D\\uDCA1 Copy path from File Explorer address bar (Ctrl+L  Ctrl+C  Paste here)\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FolderPicker.tsx\",\n                lineNumber: 80,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\FolderPicker.tsx\",\n        lineNumber: 29,\n        columnNumber: 5\n    }, this);\n}\n_c = FolderPicker;\nvar _c;\n$RefreshReg$(_c, \"FolderPicker\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL0ZvbGRlclBpY2tlci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7OztDQUtDO0FBRXlCO0FBU25CLFNBQVNDLGFBQWEsRUFDM0JDLEtBQUssRUFDTEMsUUFBUSxFQUNSQyxXQUFXLEtBQUssRUFDaEJDLGNBQWMsNEVBQTRFLEVBQ3hFO0lBRWxCLE1BQU1DLGNBQWM7UUFDbEJILFNBQVM7SUFDWDtJQUVBLHFCQUNFLDhEQUFDSTtRQUFJQyxXQUFVOzswQkFDYiw4REFBQ0Q7Z0JBQUlFLE9BQU87b0JBQUVDLFNBQVM7b0JBQVFDLEtBQUs7b0JBQU9DLFlBQVk7Z0JBQVM7O2tDQUM5RCw4REFBQ0w7d0JBQUlFLE9BQU87NEJBQUVJLE1BQU07NEJBQUdDLFVBQVU7d0JBQVc7OzBDQUMxQyw4REFBQ0M7Z0NBQUtOLE9BQU87b0NBQ1hLLFVBQVU7b0NBQ1ZFLE1BQU07b0NBQ05DLEtBQUs7b0NBQ0xDLFdBQVc7b0NBQ1hDLFVBQVU7Z0NBQ1o7MENBQUc7Ozs7OzswQ0FHSCw4REFBQ0M7Z0NBQ0NDLE1BQUs7Z0NBQ0xuQixPQUFPQSxTQUFTO2dDQUNoQkMsVUFBVSxDQUFDbUIsSUFBTW5CLFNBQVNtQixFQUFFQyxNQUFNLENBQUNyQixLQUFLO2dDQUN4Q0csYUFBYUE7Z0NBQ2JELFVBQVVBO2dDQUNWSyxPQUFPO29DQUNMZSxPQUFPO29DQUNQQyxTQUFTO29DQUNUQyxRQUFRO29DQUNSQyxjQUFjO29DQUNkQyxZQUFZeEIsV0FBVyx5QkFBeUI7b0NBQ2hEeUIsT0FBTztvQ0FDUFYsVUFBVTtvQ0FDVlcsWUFBWTtvQ0FDWkMsU0FBUzNCLFdBQVcsTUFBTTtnQ0FDNUI7Ozs7Ozs7Ozs7OztvQkFJSEYsU0FBUyxDQUFDRSwwQkFDVCw4REFBQzRCO3dCQUNDQyxTQUFTM0I7d0JBQ1RHLE9BQU87NEJBQ0xnQixTQUFTOzRCQUNURyxZQUFZOzRCQUNaRixRQUFROzRCQUNSQyxjQUFjOzRCQUNkTyxRQUFROzRCQUNSTCxPQUFPOzRCQUNQVixVQUFVO3dCQUNaO3dCQUNBZ0IsT0FBTTtrQ0FDUDs7Ozs7Ozs7Ozs7OzBCQU1MLDhEQUFDNUI7Z0JBQUlFLE9BQU87b0JBQ1ZVLFVBQVU7b0JBQ1ZVLE9BQU87b0JBQ1BPLFdBQVc7Z0JBQ2I7MEJBQUc7Ozs7Ozs7Ozs7OztBQUtUO0tBeEVnQm5DIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXG5pY2hvbGFzLmxlZVxcRG9jdW1lbnRzXFx6XFxUaWNrZXRpbmdfTmlja1xcVGlja2V0aW5nXFx0YXZfb3BlbnNvdXJjZVxcdWlcXHNyY1xcY29tcG9uZW50c1xcRm9sZGVyUGlja2VyLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogRm9sZGVyIFBpY2tlciBDb21wb25lbnRcclxuICogU2ltcGxlIHRleHQgaW5wdXQgZm9yIGZvbGRlciBwYXRoc1xyXG4gKiBcclxuICogSnVzdCB0eXBlIG9yIHBhc3RlIHlvdXIgZm9sZGVyIHBhdGggLSBicm93c2VycyBjYW4ndCBicm93c2UgZm9sZGVycyBmb3Igc2VjdXJpdHkgcmVhc29uc1xyXG4gKi9cclxuXHJcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEZvbGRlclBpY2tlclByb3BzIHtcclxuICB2YWx1ZT86IHN0cmluZztcclxuICBvbkNoYW5nZTogKGZvbGRlclBhdGg6IHN0cmluZyB8IG51bGwpID0+IHZvaWQ7XHJcbiAgZGlzYWJsZWQ/OiBib29sZWFuO1xyXG4gIHBsYWNlaG9sZGVyPzogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gRm9sZGVyUGlja2VyKHtcclxuICB2YWx1ZSxcclxuICBvbkNoYW5nZSxcclxuICBkaXNhYmxlZCA9IGZhbHNlLFxyXG4gIHBsYWNlaG9sZGVyID0gJ0VudGVyIGZ1bGwgZm9sZGVyIHBhdGggKGUuZy4sIEQ6XFxcXGV4cG9ydHMgb3IgQzpcXFxcVXNlcnNcXFxcWW91ck5hbWVcXFxcRGVza3RvcCknLFxyXG59OiBGb2xkZXJQaWNrZXJQcm9wcykge1xyXG4gIFxyXG4gIGNvbnN0IGhhbmRsZUNsZWFyID0gKCkgPT4ge1xyXG4gICAgb25DaGFuZ2UoJycpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbGRlci1waWNrZXJcIj5cclxuICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGdhcDogJzhweCcsIGFsaWduSXRlbXM6ICdjZW50ZXInIH19PlxyXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgZmxleDogMSwgcG9zaXRpb246ICdyZWxhdGl2ZScgfX0+XHJcbiAgICAgICAgICA8c3BhbiBzdHlsZT17eyBcclxuICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsIFxyXG4gICAgICAgICAgICBsZWZ0OiAnMTBweCcsIFxyXG4gICAgICAgICAgICB0b3A6ICc1MCUnLCBcclxuICAgICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgtNTAlKScsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTRweCdcclxuICAgICAgICAgIH19PlxyXG4gICAgICAgICAgICDwn5OBXHJcbiAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICB2YWx1ZT17dmFsdWUgfHwgJyd9XHJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gb25DaGFuZ2UoZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj17cGxhY2Vob2xkZXJ9XHJcbiAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cclxuICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxyXG4gICAgICAgICAgICAgIHBhZGRpbmc6ICc4cHggMTJweCA4cHggMzJweCcsXHJcbiAgICAgICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkIHZhcigtLXRoZW1lLWJvcmRlciknLFxyXG4gICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzZweCcsXHJcbiAgICAgICAgICAgICAgYmFja2dyb3VuZDogZGlzYWJsZWQgPyAndmFyKC0tdGhlbWUtc3VyZmFjZSknIDogJ3ZhcigtLXRoZW1lLXN1cmZhY2UtdmFyaWFudCknLFxyXG4gICAgICAgICAgICAgIGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dCknLFxyXG4gICAgICAgICAgICAgIGZvbnRTaXplOiAnMTNweCcsXHJcbiAgICAgICAgICAgICAgZm9udEZhbWlseTogJ21vbm9zcGFjZScsXHJcbiAgICAgICAgICAgICAgb3BhY2l0eTogZGlzYWJsZWQgPyAwLjYgOiAxLFxyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAge3ZhbHVlICYmICFkaXNhYmxlZCAmJiAoXHJcbiAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNsZWFyfVxyXG4gICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgIHBhZGRpbmc6ICc2cHggMTBweCcsXHJcbiAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3RyYW5zcGFyZW50JyxcclxuICAgICAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgdmFyKC0tdGhlbWUtYm9yZGVyKScsXHJcbiAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcclxuICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcclxuICAgICAgICAgICAgICBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQtc2Vjb25kYXJ5KScsXHJcbiAgICAgICAgICAgICAgZm9udFNpemU6ICcxMnB4JyxcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgdGl0bGU9XCJDbGVhclwiXHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIOKclVxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgKX1cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIFxyXG4gICAgICA8ZGl2IHN0eWxlPXt7IFxyXG4gICAgICAgIGZvbnRTaXplOiAnMTFweCcsIFxyXG4gICAgICAgIGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dC1zZWNvbmRhcnkpJywgXHJcbiAgICAgICAgbWFyZ2luVG9wOiAnNHB4JyxcclxuICAgICAgfX0+XHJcbiAgICAgICAg8J+SoSBDb3B5IHBhdGggZnJvbSBGaWxlIEV4cGxvcmVyIGFkZHJlc3MgYmFyIChDdHJsK0wg4oaSIEN0cmwrQyDihpIgUGFzdGUgaGVyZSlcclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJSZWFjdCIsIkZvbGRlclBpY2tlciIsInZhbHVlIiwib25DaGFuZ2UiLCJkaXNhYmxlZCIsInBsYWNlaG9sZGVyIiwiaGFuZGxlQ2xlYXIiLCJkaXYiLCJjbGFzc05hbWUiLCJzdHlsZSIsImRpc3BsYXkiLCJnYXAiLCJhbGlnbkl0ZW1zIiwiZmxleCIsInBvc2l0aW9uIiwic3BhbiIsImxlZnQiLCJ0b3AiLCJ0cmFuc2Zvcm0iLCJmb250U2l6ZSIsImlucHV0IiwidHlwZSIsImUiLCJ0YXJnZXQiLCJ3aWR0aCIsInBhZGRpbmciLCJib3JkZXIiLCJib3JkZXJSYWRpdXMiLCJiYWNrZ3JvdW5kIiwiY29sb3IiLCJmb250RmFtaWx5Iiwib3BhY2l0eSIsImJ1dHRvbiIsIm9uQ2xpY2siLCJjdXJzb3IiLCJ0aXRsZSIsIm1hcmdpblRvcCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/FolderPicker.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/HuggingFaceModelBrowser.css":
/*!****************************************************!*\
  !*** ./src/components/HuggingFaceModelBrowser.css ***!
  \****************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"615101569d28\");\nif (true) { module.hot.accept() }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL0h1Z2dpbmdGYWNlTW9kZWxCcm93c2VyLmNzcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUVBQWUsY0FBYztBQUM3QixJQUFJLElBQVUsSUFBSSxpQkFBaUIiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbmljaG9sYXMubGVlXFxEb2N1bWVudHNcXHpcXFRpY2tldGluZ19OaWNrXFxUaWNrZXRpbmdcXHRhdl9vcGVuc291cmNlXFx1aVxcc3JjXFxjb21wb25lbnRzXFxIdWdnaW5nRmFjZU1vZGVsQnJvd3Nlci5jc3MiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCI2MTUxMDE1NjlkMjhcIlxuaWYgKG1vZHVsZS5ob3QpIHsgbW9kdWxlLmhvdC5hY2NlcHQoKSB9XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/HuggingFaceModelBrowser.css\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/HuggingFaceModelBrowser.tsx":
/*!****************************************************!*\
  !*** ./src/components/HuggingFaceModelBrowser.tsx ***!
  \****************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ HuggingFaceModelBrowser)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_huggingface_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/huggingface-api */ \"(app-pages-browser)/./src/lib/huggingface-api.ts\");\n/* harmony import */ var _HuggingFaceModelBrowser_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./HuggingFaceModelBrowser.css */ \"(app-pages-browser)/./src/components/HuggingFaceModelBrowser.css\");\n/**\r\n * HuggingFace Model Browser Component\r\n * \r\n * A marketplace-style browser for searching and selecting HuggingFace models.\r\n * Provides search, filtering, sorting, and model selection functionality.\r\n */ /* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\nfunction HuggingFaceModelBrowser({ onModelSelected, initialModelId, enableFilters = true, itemsPerPage = 20 }) {\n    _s();\n    // State\n    const [models, setModels] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [tasks, setTasks] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [selectedModel, setSelectedModel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Search and filter state\n    const [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [taskFilter, setTaskFilter] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [libraryFilter, setLibraryFilter] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [languageFilter, setLanguageFilter] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [sortBy, setSortBy] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('downloads');\n    // Pagination state\n    const [currentPage, setCurrentPage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [hasMore, setHasMore] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    // Load tasks on mount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"HuggingFaceModelBrowser.useEffect\": ()=>{\n            loadTasks();\n        }\n    }[\"HuggingFaceModelBrowser.useEffect\"], []);\n    // Load initial model if provided\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"HuggingFaceModelBrowser.useEffect\": ()=>{\n            if (initialModelId) {\n                handleSelectModel(initialModelId);\n            }\n        }\n    }[\"HuggingFaceModelBrowser.useEffect\"], [\n        initialModelId\n    ]);\n    // Load models when search params change\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"HuggingFaceModelBrowser.useEffect\": ()=>{\n            loadModels();\n        }\n    }[\"HuggingFaceModelBrowser.useEffect\"], [\n        searchQuery,\n        taskFilter,\n        libraryFilter,\n        languageFilter,\n        sortBy,\n        currentPage\n    ]);\n    const loadTasks = async ()=>{\n        try {\n            const data = await (0,_lib_huggingface_api__WEBPACK_IMPORTED_MODULE_2__.getTasks)();\n            setTasks(data.tasks);\n        } catch (err) {\n            console.error('Failed to load tasks:', err);\n        }\n    };\n    const loadModels = async ()=>{\n        setIsLoading(true);\n        setError(null);\n        try {\n            const data = await (0,_lib_huggingface_api__WEBPACK_IMPORTED_MODULE_2__.searchModels)({\n                query: searchQuery || undefined,\n                task: taskFilter || undefined,\n                library: libraryFilter || undefined,\n                language: languageFilter || undefined,\n                sort: sortBy,\n                limit: itemsPerPage,\n                page: currentPage\n            });\n            setModels(data.models);\n            setHasMore(data.models.length === itemsPerPage);\n        } catch (err) {\n            setError(err instanceof Error ? err.message : 'Failed to load models');\n            setModels([]);\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    const handleSelectModel = async (modelId)=>{\n        setIsLoading(true);\n        setError(null);\n        try {\n            const details = await (0,_lib_huggingface_api__WEBPACK_IMPORTED_MODULE_2__.getModelDetails)(modelId);\n            setSelectedModel(details);\n            // Pass the model details back with task information\n            onModelSelected(details);\n            // Log for debugging\n            console.log(' Model selected:', {\n                model_id: details.model_id,\n                task: details.pipeline_tag,\n                library: details.library_name\n            });\n        } catch (err) {\n            setError(err instanceof Error ? err.message : 'Failed to load model details');\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    const handleSearch = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"HuggingFaceModelBrowser.useCallback[handleSearch]\": (query)=>{\n            setSearchQuery(query);\n            setCurrentPage(1);\n        }\n    }[\"HuggingFaceModelBrowser.useCallback[handleSearch]\"], []);\n    const handleClearFilters = ()=>{\n        setTaskFilter('');\n        setLibraryFilter('');\n        setLanguageFilter('');\n        setCurrentPage(1);\n    };\n    const formatNumber = (num)=>{\n        if (num >= 1000000) return `${(num / 1000000).toFixed(1)}M`;\n        if (num >= 1000) return `${(num / 1000).toFixed(1)}K`;\n        return num.toString();\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"hf-browser-container\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"hf-browser-header\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"hf-search-section\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"hf-search-input-group\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"text\",\n                                        className: \"hf-search-input\",\n                                        placeholder: \"Search HuggingFace models (e.g., 'bert', 'gpt', 'sentiment')...\",\n                                        value: searchQuery,\n                                        onChange: (e)=>handleSearch(e.target.value)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                        lineNumber: 151,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"hf-search-btn\",\n                                        onClick: ()=>loadModels(),\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                            className: \"fas fa-search\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                            lineNumber: 162,\n                                            columnNumber: 15\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                        lineNumber: 158,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                lineNumber: 150,\n                                columnNumber: 11\n                            }, this),\n                            enableFilters && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"hf-filters\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                        className: \"hf-filter-select\",\n                                        value: taskFilter,\n                                        onChange: (e)=>{\n                                            setTaskFilter(e.target.value);\n                                            setCurrentPage(1);\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"\",\n                                                children: \"All Tasks\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                                lineNumber: 176,\n                                                columnNumber: 17\n                                            }, this),\n                                            tasks.map((task)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: task.value,\n                                                    children: task.label\n                                                }, task.value, false, {\n                                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                                    lineNumber: 178,\n                                                    columnNumber: 19\n                                                }, this))\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                        lineNumber: 168,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                        className: \"hf-filter-select\",\n                                        value: libraryFilter,\n                                        onChange: (e)=>{\n                                            setLibraryFilter(e.target.value);\n                                            setCurrentPage(1);\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"\",\n                                                children: \"All Libraries\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                                lineNumber: 192,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"transformers\",\n                                                children: \"Transformers\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                                lineNumber: 193,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"sentence-transformers\",\n                                                children: \"Sentence Transformers\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                                lineNumber: 194,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"diffusers\",\n                                                children: \"Diffusers\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                                lineNumber: 195,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                        lineNumber: 184,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                        className: \"hf-filter-select\",\n                                        value: languageFilter,\n                                        onChange: (e)=>{\n                                            setLanguageFilter(e.target.value);\n                                            setCurrentPage(1);\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"\",\n                                                children: \"All Languages\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                                lineNumber: 206,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"en\",\n                                                children: \"English\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                                lineNumber: 207,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"es\",\n                                                children: \"Spanish\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                                lineNumber: 208,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"fr\",\n                                                children: \"French\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                                lineNumber: 209,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"de\",\n                                                children: \"German\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                                lineNumber: 210,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"zh\",\n                                                children: \"Chinese\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                                lineNumber: 211,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"ja\",\n                                                children: \"Japanese\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                                lineNumber: 212,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                        lineNumber: 198,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"hf-clear-filters-btn\",\n                                        onClick: handleClearFilters,\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                className: \"fas fa-eraser\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                                lineNumber: 219,\n                                                columnNumber: 17\n                                            }, this),\n                                            \" Clear\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                        lineNumber: 215,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                lineNumber: 167,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                        lineNumber: 149,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"hf-results-info\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                children: isLoading ? 'Loading...' : `${models.length} models found`\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                lineNumber: 226,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                className: \"hf-sort-select\",\n                                value: sortBy,\n                                onChange: (e)=>{\n                                    setSortBy(e.target.value);\n                                    setCurrentPage(1);\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                        value: \"downloads\",\n                                        children: \"Most Downloaded\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                        lineNumber: 237,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                        value: \"lastModified\",\n                                        children: \"Recently Updated\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                        lineNumber: 238,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                        value: \"likes\",\n                                        children: \"Most Liked\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                        lineNumber: 239,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                        value: \"trending\",\n                                        children: \"Trending\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                        lineNumber: 240,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                lineNumber: 229,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                        lineNumber: 225,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                lineNumber: 148,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"hf-models-section\",\n                children: [\n                    error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"hf-error\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                className: \"fas fa-exclamation-triangle fa-3x\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                lineNumber: 249,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                children: \"Error Loading Models\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                lineNumber: 250,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                children: error\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                lineNumber: 251,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"hf-retry-btn\",\n                                onClick: loadModels,\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                        className: \"fas fa-redo\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                        lineNumber: 253,\n                                        columnNumber: 15\n                                    }, this),\n                                    \" Retry\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                lineNumber: 252,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                        lineNumber: 248,\n                        columnNumber: 11\n                    }, this),\n                    isLoading && models.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"hf-loading\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"hf-loading-spinner\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                lineNumber: 260,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                children: \"Loading HuggingFace models...\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                lineNumber: 261,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                        lineNumber: 259,\n                        columnNumber: 11\n                    }, this),\n                    !error && !isLoading && models.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"hf-no-results\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                className: \"fas fa-search fa-3x\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                lineNumber: 267,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                children: \"No models found\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                lineNumber: 268,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                children: \"Try adjusting your search terms or filters\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                lineNumber: 269,\n                                columnNumber: 13\n                            }, this),\n                            (taskFilter || libraryFilter || languageFilter) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"hf-clear-filters-btn\",\n                                onClick: handleClearFilters,\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                        className: \"fas fa-eraser\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                        lineNumber: 275,\n                                        columnNumber: 17\n                                    }, this),\n                                    \" Clear Filters\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                lineNumber: 271,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                        lineNumber: 266,\n                        columnNumber: 11\n                    }, this),\n                    !error && models.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"hf-models-grid\",\n                                children: models.map((model)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ModelCard, {\n                                        model: model,\n                                        isSelected: selectedModel?.model_id === model.model_id,\n                                        onSelect: handleSelectModel,\n                                        formatNumber: formatNumber\n                                    }, model.model_id, false, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                        lineNumber: 285,\n                                        columnNumber: 17\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                lineNumber: 283,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"hf-pagination\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"hf-page-btn\",\n                                        disabled: currentPage === 1,\n                                        onClick: ()=>setCurrentPage((p)=>p - 1),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                className: \"fas fa-chevron-left\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                                lineNumber: 302,\n                                                columnNumber: 17\n                                            }, this),\n                                            \" Previous\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                        lineNumber: 297,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"hf-page-info\",\n                                        children: [\n                                            \"Page \",\n                                            currentPage,\n                                            \" \",\n                                            hasMore ? '(more available)' : '(last page)'\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                        lineNumber: 304,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"hf-page-btn\",\n                                        disabled: !hasMore,\n                                        onClick: ()=>setCurrentPage((p)=>p + 1),\n                                        children: [\n                                            \"Next \",\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                className: \"fas fa-chevron-right\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                                lineNumber: 312,\n                                                columnNumber: 22\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                        lineNumber: 307,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                lineNumber: 296,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                lineNumber: 246,\n                columnNumber: 7\n            }, this),\n            selectedModel && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SelectedModelPanel, {\n                model: selectedModel,\n                onClear: ()=>setSelectedModel(null),\n                formatNumber: formatNumber\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                lineNumber: 321,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n        lineNumber: 146,\n        columnNumber: 5\n    }, this);\n}\n_s(HuggingFaceModelBrowser, \"HI49QYhU0yF8ilKQJJUFgCnIByQ=\");\n_c = HuggingFaceModelBrowser;\nfunction ModelCard({ model, isSelected, onSelect, formatNumber }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `hf-model-card ${isSelected ? 'selected' : ''}`,\n        onClick: ()=>onSelect(model.model_id),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"hf-model-header\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"hf-model-title\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                children: model.model_id.split('/').pop()?.replace(/-/g, ' ')\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                lineNumber: 347,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"hf-model-author\",\n                                children: [\n                                    \"by \",\n                                    model.author || 'Unknown'\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                lineNumber: 348,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                        lineNumber: 346,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                        className: \"fas fa-check-circle hf-compatible\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                        lineNumber: 350,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                lineNumber: 345,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"hf-model-info\",\n                children: [\n                    model.pipeline_tag && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"hf-task-badge\",\n                        children: model.pipeline_tag\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                        lineNumber: 355,\n                        columnNumber: 11\n                    }, this),\n                    model.library_name && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"hf-library-badge\",\n                        children: model.library_name\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                        lineNumber: 358,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                lineNumber: 353,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"hf-model-description\",\n                children: model.model_id\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                lineNumber: 362,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"hf-model-stats\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"hf-stat\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                className: \"fas fa-download\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                lineNumber: 368,\n                                columnNumber: 11\n                            }, this),\n                            \" \",\n                            formatNumber(model.downloads)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                        lineNumber: 367,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"hf-stat\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                className: \"fas fa-heart\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                lineNumber: 371,\n                                columnNumber: 11\n                            }, this),\n                            \" \",\n                            formatNumber(model.likes)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                        lineNumber: 370,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                lineNumber: 366,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n        lineNumber: 341,\n        columnNumber: 5\n    }, this);\n}\n_c1 = ModelCard;\nfunction SelectedModelPanel({ model, onClear, formatNumber }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"hf-external-selected-model\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"hf-selected-header\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                className: \"fas fa-check-circle\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                lineNumber: 390,\n                                columnNumber: 11\n                            }, this),\n                            \" Selected Model\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                        lineNumber: 389,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"hf-clear-btn\",\n                        onClick: onClear,\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                className: \"fas fa-times\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                lineNumber: 393,\n                                columnNumber: 11\n                            }, this),\n                            \" Clear\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                        lineNumber: 392,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                lineNumber: 388,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"hf-selected-content\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"hf-selected-details\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"hf-selected-main\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    children: model.name\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                    lineNumber: 400,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"hf-selected-author\",\n                                    children: [\n                                        \"by \",\n                                        model.author\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                    lineNumber: 401,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"hf-selected-id\",\n                                    children: model.model_id\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                    lineNumber: 402,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"hf-selected-badges\",\n                                    children: [\n                                        model.pipeline_tag && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"hf-task-badge\",\n                                            children: model.pipeline_tag\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                            lineNumber: 406,\n                                            columnNumber: 17\n                                        }, this),\n                                        model.library_name && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"hf-library-badge\",\n                                            children: model.library_name\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                            lineNumber: 409,\n                                            columnNumber: 17\n                                        }, this),\n                                        model.gated && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"hf-gated\",\n                                            children: \"\\uD83D\\uDD12 Gated\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                            lineNumber: 412,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                    lineNumber: 404,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"hf-selected-description\",\n                                    children: model.description || 'No description available'\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                    lineNumber: 416,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                            lineNumber: 399,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"hf-selected-meta\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"hf-selected-stats\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"hf-stat-item\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                className: \"fas fa-download\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                                lineNumber: 424,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: [\n                                                    formatNumber(model.downloads),\n                                                    \" downloads\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                                lineNumber: 425,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                        lineNumber: 423,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"hf-stat-item\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                className: \"fas fa-heart\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                                lineNumber: 428,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: [\n                                                    formatNumber(model.likes),\n                                                    \" likes\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                                lineNumber: 429,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                        lineNumber: 427,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                                lineNumber: 422,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                            lineNumber: 421,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                    lineNumber: 398,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n                lineNumber: 397,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\HuggingFaceModelBrowser.tsx\",\n        lineNumber: 387,\n        columnNumber: 5\n    }, this);\n}\n_c2 = SelectedModelPanel;\nvar _c, _c1, _c2;\n$RefreshReg$(_c, \"HuggingFaceModelBrowser\");\n$RefreshReg$(_c1, \"ModelCard\");\n$RefreshReg$(_c2, \"SelectedModelPanel\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL0h1Z2dpbmdGYWNlTW9kZWxCcm93c2VyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7Ozs7Q0FLQzs7QUFJK0Q7QUFRakM7QUFDUTtBQVN4QixTQUFTTyx3QkFBd0IsRUFDOUNDLGVBQWUsRUFDZkMsY0FBYyxFQUNkQyxnQkFBZ0IsSUFBSSxFQUNwQkMsZUFBZSxFQUFFLEVBQ1k7O0lBQzdCLFFBQVE7SUFDUixNQUFNLENBQUNDLFFBQVFDLFVBQVUsR0FBR1osK0NBQVFBLENBQXFCLEVBQUU7SUFDM0QsTUFBTSxDQUFDYSxPQUFPQyxTQUFTLEdBQUdkLCtDQUFRQSxDQUFvQixFQUFFO0lBQ3hELE1BQU0sQ0FBQ2UsZUFBZUMsaUJBQWlCLEdBQUdoQiwrQ0FBUUEsQ0FBc0I7SUFDeEUsTUFBTSxDQUFDaUIsV0FBV0MsYUFBYSxHQUFHbEIsK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDbUIsT0FBT0MsU0FBUyxHQUFHcEIsK0NBQVFBLENBQWdCO0lBRWxELDBCQUEwQjtJQUMxQixNQUFNLENBQUNxQixhQUFhQyxlQUFlLEdBQUd0QiwrQ0FBUUEsQ0FBQztJQUMvQyxNQUFNLENBQUN1QixZQUFZQyxjQUFjLEdBQUd4QiwrQ0FBUUEsQ0FBQztJQUM3QyxNQUFNLENBQUN5QixlQUFlQyxpQkFBaUIsR0FBRzFCLCtDQUFRQSxDQUFDO0lBQ25ELE1BQU0sQ0FBQzJCLGdCQUFnQkMsa0JBQWtCLEdBQUc1QiwrQ0FBUUEsQ0FBQztJQUNyRCxNQUFNLENBQUM2QixRQUFRQyxVQUFVLEdBQUc5QiwrQ0FBUUEsQ0FBc0Q7SUFFMUYsbUJBQW1CO0lBQ25CLE1BQU0sQ0FBQytCLGFBQWFDLGVBQWUsR0FBR2hDLCtDQUFRQSxDQUFDO0lBQy9DLE1BQU0sQ0FBQ2lDLFNBQVNDLFdBQVcsR0FBR2xDLCtDQUFRQSxDQUFDO0lBRXZDLHNCQUFzQjtJQUN0QkMsZ0RBQVNBOzZDQUFDO1lBQ1JrQztRQUNGOzRD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OERBQUNuQzs0QkFBSUMsV0FBVTtzQ0FDYiw0RUFBQ0Q7Z0NBQUlDLFdBQVU7O2tEQUNiLDhEQUFDRDt3Q0FBSUMsV0FBVTs7MERBQ2IsOERBQUNVO2dEQUFFVixXQUFVOzs7Ozs7MERBQ2IsOERBQUNlOztvREFBTXBCLGFBQWF1QixNQUFNWSxTQUFTO29EQUFFOzs7Ozs7Ozs7Ozs7O2tEQUV2Qyw4REFBQy9CO3dDQUFJQyxXQUFVOzswREFDYiw4REFBQ1U7Z0RBQUVWLFdBQVU7Ozs7OzswREFDYiw4REFBQ2U7O29EQUFNcEIsYUFBYXVCLE1BQU1hLEtBQUs7b0RBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBUWpEO01BcERTUiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxuaWNob2xhcy5sZWVcXERvY3VtZW50c1xcelxcVGlja2V0aW5nX05pY2tcXFRpY2tldGluZ1xcdGF2X29wZW5zb3VyY2VcXHVpXFxzcmNcXGNvbXBvbmVudHNcXEh1Z2dpbmdGYWNlTW9kZWxCcm93c2VyLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogSHVnZ2luZ0ZhY2UgTW9kZWwgQnJvd3NlciBDb21wb25lbnRcclxuICogXHJcbiAqIEEgbWFya2V0cGxhY2Utc3R5bGUgYnJvd3NlciBmb3Igc2VhcmNoaW5nIGFuZCBzZWxlY3RpbmcgSHVnZ2luZ0ZhY2UgbW9kZWxzLlxyXG4gKiBQcm92aWRlcyBzZWFyY2gsIGZpbHRlcmluZywgc29ydGluZywgYW5kIG1vZGVsIHNlbGVjdGlvbiBmdW5jdGlvbmFsaXR5LlxyXG4gKi9cclxuXHJcbid1c2UgY2xpZW50JztcclxuXHJcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHtcclxuICBzZWFyY2hNb2RlbHMsXHJcbiAgZ2V0TW9kZWxEZXRhaWxzLFxyXG4gIGdldFRhc2tzLFxyXG4gIHR5cGUgSHVnZ2luZ0ZhY2VNb2RlbCxcclxuICB0eXBlIE1vZGVsRGV0YWlscyxcclxuICB0eXBlIEh1Z2dpbmdGYWNlVGFzayxcclxufSBmcm9tICdAL2xpYi9odWdnaW5nZmFjZS1hcGknO1xyXG5pbXBvcnQgJy4vSHVnZ2luZ0ZhY2VNb2RlbEJyb3dzZXIuY3NzJztcclxuXHJcbmludGVyZmFjZSBIdWdnaW5nRmFjZU1vZGVsQnJvd3NlclByb3BzIHtcclxuICBvbk1vZGVsU2VsZWN0ZWQ6IChtb2RlbDogTW9kZWxEZXRhaWxzKSA9PiB2b2lkO1xyXG4gIGluaXRpYWxNb2RlbElkPzogc3RyaW5nO1xyXG4gIGVuYWJsZUZpbHRlcnM/OiBib29sZWFuO1xyXG4gIGl0ZW1zUGVyUGFnZT86IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gSHVnZ2luZ0ZhY2VNb2RlbEJyb3dzZXIoe1xyXG4gIG9uTW9kZWxTZWxlY3RlZCxcclxuICBpbml0aWFsTW9kZWxJZCxcclxuICBlbmFibGVGaWx0ZXJzID0gdHJ1ZSxcclxuICBpdGVtc1BlclBhZ2UgPSAyMCxcclxufTogSHVnZ2luZ0ZhY2VNb2RlbEJyb3dzZXJQcm9wcykge1xyXG4gIC8vIFN0YXRlXHJcbiAgY29uc3QgW21vZGVscywgc2V0TW9kZWxzXSA9IHVzZVN0YXRlPEh1Z2dpbmdGYWNlTW9kZWxbXT4oW10pO1xyXG4gIGNvbnN0IFt0YXNrcywgc2V0VGFza3NdID0gdXNlU3RhdGU8SHVnZ2luZ0ZhY2VUYXNrW10+KFtdKTtcclxuICBjb25zdCBbc2VsZWN0ZWRNb2RlbCwgc2V0U2VsZWN0ZWRNb2RlbF0gPSB1c2VTdGF0ZTxNb2RlbERldGFpbHMgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XHJcbiAgXHJcbiAgLy8gU2VhcmNoIGFuZCBmaWx0ZXIgc3RhdGVcclxuICBjb25zdCBbc2VhcmNoUXVlcnksIHNldFNlYXJjaFF1ZXJ5XSA9IHVzZVN0YXRlKCcnKTtcclxuICBjb25zdCBbdGFza0ZpbHRlciwgc2V0VGFza0ZpbHRlcl0gPSB1c2VTdGF0ZSgnJyk7XHJcbiAgY29uc3QgW2xpYnJhcnlGaWx0ZXIsIHNldExpYnJhcnlGaWx0ZXJdID0gdXNlU3RhdGUoJycpO1xyXG4gIGNvbnN0IFtsYW5ndWFnZUZpbHRlciwgc2V0TGFuZ3VhZ2VGaWx0ZXJdID0gdXNlU3RhdGUoJycpO1xyXG4gIGNvbnN0IFtzb3J0QnksIHNldFNvcnRCeV0gPSB1c2VTdGF0ZTwnZG93bmxvYWRzJyB8ICdsaWtlcycgfCAndHJlbmRpbmcnIHwgJ2xhc3RNb2RpZmllZCc+KCdkb3dubG9hZHMnKTtcclxuICBcclxuICAvLyBQYWdpbmF0aW9uIHN0YXRlXHJcbiAgY29uc3QgW2N1cnJlbnRQYWdlLCBzZXRDdXJyZW50UGFnZV0gPSB1c2VTdGF0ZSgxKTtcclxuICBjb25zdCBbaGFzTW9yZSwgc2V0SGFzTW9yZV0gPSB1c2VTdGF0ZSh0cnVlKTtcclxuICBcclxuICAvLyBMb2FkIHRhc2tzIG9uIG1vdW50XHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGxvYWRUYXNrcygpO1xyXG4gIH0sIFtdKTtcclxuICBcclxuICAvLyBMb2FkIGluaXRpYWwgbW9kZWwgaWYgcHJvdmlkZWRcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKGluaXRpYWxNb2RlbElkKSB7XHJcbiAgICAgIGhhbmRsZVNlbGVjdE1vZGVsKGluaXRpYWxNb2RlbElkKTtcclxuICAgIH1cclxuICB9LCBbaW5pdGlhbE1vZGVsSWRdKTtcclxuICBcclxuICAvLyBMb2FkIG1vZGVscyB3aGVuIHNlYXJjaCBwYXJhbXMgY2hhbmdlXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGxvYWRNb2RlbHMoKTtcclxuICB9LCBbc2VhcmNoUXVlcnksIHRhc2tGaWx0ZXIsIGxpYnJhcnlGaWx0ZXIsIGxhbmd1YWdlRmlsdGVyLCBzb3J0QnksIGN1cnJlbnRQYWdlXSk7XHJcbiAgXHJcbiAgY29uc3QgbG9hZFRhc2tzID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGdldFRhc2tzKCk7XHJcbiAgICAgIHNldFRhc2tzKGRhdGEudGFza3MpO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIHRhc2tzOicsIGVycik7XHJcbiAgICB9XHJcbiAgfTtcclxuICBcclxuICBjb25zdCBsb2FkTW9kZWxzID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgc2V0SXNMb2FkaW5nKHRydWUpO1xyXG4gICAgc2V0RXJyb3IobnVsbCk7XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBzZWFyY2hNb2RlbHMoe1xyXG4gICAgICAgIHF1ZXJ5OiBzZWFyY2hRdWVyeSB8fCB1bmRlZmluZWQsXHJcbiAgICAgICAgdGFzazogdGFza0ZpbHRlciB8fCB1bmRlZmluZWQsXHJcbiAgICAgICAgbGlicmFyeTogbGlicmFyeUZpbHRlciB8fCB1bmRlZmluZWQsXHJcbiAgICAgICAgbGFuZ3VhZ2U6IGxhbmd1YWdlRmlsdGVyIHx8IHVuZGVmaW5lZCxcclxuICAgICAgICBzb3J0OiBzb3J0QnksXHJcbiAgICAgICAgbGltaXQ6IGl0ZW1zUGVyUGFnZSxcclxuICAgICAgICBwYWdlOiBjdXJyZW50UGFnZSxcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBzZXRNb2RlbHMoZGF0YS5tb2RlbHMpO1xyXG4gICAgICBzZXRIYXNNb3JlKGRhdGEubW9kZWxzLmxlbmd0aCA9PT0gaXRlbXNQZXJQYWdlKTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBzZXRFcnJvcihlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBsb2FkIG1vZGVscycpO1xyXG4gICAgICBzZXRNb2RlbHMoW10pO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcclxuICAgIH1cclxuICB9O1xyXG4gIFxyXG4gIGNvbnN0IGhhbmRsZVNlbGVjdE1vZGVsID0gYXN5bmMgKG1vZGVsSWQ6IHN0cmluZykgPT4ge1xyXG4gICAgc2V0SXNMb2FkaW5nKHRydWUpO1xyXG4gICAgc2V0RXJyb3IobnVsbCk7XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGRldGFpbHMgPSBhd2FpdCBnZXRNb2RlbERldGFpbHMobW9kZWxJZCk7XHJcbiAgICAgIHNldFNlbGVjdGVkTW9kZWwoZGV0YWlscyk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBQYXNzIHRoZSBtb2RlbCBkZXRhaWxzIGJhY2sgd2l0aCB0YXNrIGluZm9ybWF0aW9uXHJcbiAgICAgIG9uTW9kZWxTZWxlY3RlZChkZXRhaWxzKTtcclxuICAgICAgXHJcbiAgICAgIC8vIExvZyBmb3IgZGVidWdnaW5nXHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgTW9kZWwgc2VsZWN0ZWQ6Jywge1xyXG4gICAgICAgIG1vZGVsX2lkOiBkZXRhaWxzLm1vZGVsX2lkLFxyXG4gICAgICAgIHRhc2s6IGRldGFpbHMucGlwZWxpbmVfdGFnLFxyXG4gICAgICAgIGxpYnJhcnk6IGRldGFpbHMubGlicmFyeV9uYW1lXHJcbiAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIHNldEVycm9yKGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAnRmFpbGVkIHRvIGxvYWQgbW9kZWwgZGV0YWlscycpO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcclxuICAgIH1cclxuICB9O1xyXG4gIFxyXG4gIGNvbnN0IGhhbmRsZVNlYXJjaCA9IHVzZUNhbGxiYWNrKChxdWVyeTogc3RyaW5nKSA9PiB7XHJcbiAgICBzZXRTZWFyY2hRdWVyeShxdWVyeSk7XHJcbiAgICBzZXRDdXJyZW50UGFnZSgxKTtcclxuICB9LCBbXSk7XHJcbiAgXHJcbiAgY29uc3QgaGFuZGxlQ2xlYXJGaWx0ZXJzID0gKCkgPT4ge1xyXG4gICAgc2V0VGFza0ZpbHRlcignJyk7XHJcbiAgICBzZXRMaWJyYXJ5RmlsdGVyKCcnKTtcclxuICAgIHNldExhbmd1YWdlRmlsdGVyKCcnKTtcclxuICAgIHNldEN1cnJlbnRQYWdlKDEpO1xyXG4gIH07XHJcbiAgXHJcbiAgY29uc3QgZm9ybWF0TnVtYmVyID0gKG51bTogbnVtYmVyKTogc3RyaW5nID0+IHtcclxuICAgIGlmIChudW0gPj0gMTAwMDAwMCkgcmV0dXJuIGAkeyhudW0gLyAxMDAwMDAwKS50b0ZpeGVkKDEpfU1gO1xyXG4gICAgaWYgKG51bSA+PSAxMDAwKSByZXR1cm4gYCR7KG51bSAvIDEwMDApLnRvRml4ZWQoMSl9S2A7XHJcbiAgICByZXR1cm4gbnVtLnRvU3RyaW5nKCk7XHJcbiAgfTtcclxuICBcclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJoZi1icm93c2VyLWNvbnRhaW5lclwiPlxyXG4gICAgICB7LyogU2VhcmNoIGFuZCBGaWx0ZXIgU2VjdGlvbiAqL31cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZi1icm93c2VyLWhlYWRlclwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGYtc2VhcmNoLXNlY3Rpb25cIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGYtc2VhcmNoLWlucHV0LWdyb3VwXCI+XHJcbiAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoZi1zZWFyY2gtaW5wdXRcIlxyXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU2VhcmNoIEh1Z2dpbmdGYWNlIG1vZGVscyAoZS5nLiwgJ2JlcnQnLCAnZ3B0JywgJ3NlbnRpbWVudCcpLi4uXCJcclxuICAgICAgICAgICAgICB2YWx1ZT17c2VhcmNoUXVlcnl9XHJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVTZWFyY2goZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8YnV0dG9uIFxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImhmLXNlYXJjaC1idG5cIlxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGxvYWRNb2RlbHMoKX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1zZWFyY2hcIj48L2k+XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHtlbmFibGVGaWx0ZXJzICYmIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZi1maWx0ZXJzXCI+XHJcbiAgICAgICAgICAgICAgPHNlbGVjdFxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaGYtZmlsdGVyLXNlbGVjdFwiXHJcbiAgICAgICAgICAgICAgICB2YWx1ZT17dGFza0ZpbHRlcn1cclxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBzZXRUYXNrRmlsdGVyKGUudGFyZ2V0LnZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgc2V0Q3VycmVudFBhZ2UoMSk7XHJcbiAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj5BbGwgVGFza3M8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgIHt0YXNrcy5tYXAoKHRhc2spID0+IChcclxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiBrZXk9e3Rhc2sudmFsdWV9IHZhbHVlPXt0YXNrLnZhbHVlfT5cclxuICAgICAgICAgICAgICAgICAgICB7dGFzay5sYWJlbH1cclxuICAgICAgICAgICAgICAgICAgPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICApKX1cclxuICAgICAgICAgICAgICA8L3NlbGVjdD5cclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICA8c2VsZWN0XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoZi1maWx0ZXItc2VsZWN0XCJcclxuICAgICAgICAgICAgICAgIHZhbHVlPXtsaWJyYXJ5RmlsdGVyfVxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIHNldExpYnJhcnlGaWx0ZXIoZS50YXJnZXQudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICBzZXRDdXJyZW50UGFnZSgxKTtcclxuICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPkFsbCBMaWJyYXJpZXM8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJ0cmFuc2Zvcm1lcnNcIj5UcmFuc2Zvcm1lcnM8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJzZW50ZW5jZS10cmFuc2Zvcm1lcnNcIj5TZW50ZW5jZSBUcmFuc2Zvcm1lcnM8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJkaWZmdXNlcnNcIj5EaWZmdXNlcnM8L29wdGlvbj5cclxuICAgICAgICAgICAgICA8L3NlbGVjdD5cclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICA8c2VsZWN0XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoZi1maWx0ZXItc2VsZWN0XCJcclxuICAgICAgICAgICAgICAgIHZhbHVlPXtsYW5ndWFnZUZpbHRlcn1cclxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBzZXRMYW5ndWFnZUZpbHRlcihlLnRhcmdldC52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgIHNldEN1cnJlbnRQYWdlKDEpO1xyXG4gICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiXCI+QWxsIExhbmd1YWdlczwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImVuXCI+RW5nbGlzaDwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImVzXCI+U3BhbmlzaDwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImZyXCI+RnJlbmNoPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiZGVcIj5HZXJtYW48L29wdGlvbj5cclxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJ6aFwiPkNoaW5lc2U8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJqYVwiPkphcGFuZXNlPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaGYtY2xlYXItZmlsdGVycy1idG5cIlxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ2xlYXJGaWx0ZXJzfVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1lcmFzZXJcIj48L2k+IENsZWFyXHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICBcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhmLXJlc3VsdHMtaW5mb1wiPlxyXG4gICAgICAgICAgPHNwYW4+XHJcbiAgICAgICAgICAgIHtpc0xvYWRpbmcgPyAnTG9hZGluZy4uLicgOiBgJHttb2RlbHMubGVuZ3RofSBtb2RlbHMgZm91bmRgfVxyXG4gICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgPHNlbGVjdFxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJoZi1zb3J0LXNlbGVjdFwiXHJcbiAgICAgICAgICAgIHZhbHVlPXtzb3J0Qnl9XHJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICAgIHNldFNvcnRCeShlLnRhcmdldC52YWx1ZSBhcyBhbnkpO1xyXG4gICAgICAgICAgICAgIHNldEN1cnJlbnRQYWdlKDEpO1xyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiZG93bmxvYWRzXCI+TW9zdCBEb3dubG9hZGVkPC9vcHRpb24+XHJcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJsYXN0TW9kaWZpZWRcIj5SZWNlbnRseSBVcGRhdGVkPC9vcHRpb24+XHJcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJsaWtlc1wiPk1vc3QgTGlrZWQ8L29wdGlvbj5cclxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInRyZW5kaW5nXCI+VHJlbmRpbmc8L29wdGlvbj5cclxuICAgICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgXHJcbiAgICAgIHsvKiBNb2RlbHMgR3JpZCAqL31cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZi1tb2RlbHMtc2VjdGlvblwiPlxyXG4gICAgICAgIHtlcnJvciAmJiAoXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhmLWVycm9yXCI+XHJcbiAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1leGNsYW1hdGlvbi10cmlhbmdsZSBmYS0zeFwiPjwvaT5cclxuICAgICAgICAgICAgPGgzPkVycm9yIExvYWRpbmcgTW9kZWxzPC9oMz5cclxuICAgICAgICAgICAgPHA+e2Vycm9yfTwvcD5cclxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJoZi1yZXRyeS1idG5cIiBvbkNsaWNrPXtsb2FkTW9kZWxzfT5cclxuICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYXMgZmEtcmVkb1wiPjwvaT4gUmV0cnlcclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHtpc0xvYWRpbmcgJiYgbW9kZWxzLmxlbmd0aCA9PT0gMCAmJiAoXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhmLWxvYWRpbmdcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZi1sb2FkaW5nLXNwaW5uZXJcIj48L2Rpdj5cclxuICAgICAgICAgICAgPHA+TG9hZGluZyBIdWdnaW5nRmFjZSBtb2RlbHMuLi48L3A+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHshZXJyb3IgJiYgIWlzTG9hZGluZyAmJiBtb2RlbHMubGVuZ3RoID09PSAwICYmIChcclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGYtbm8tcmVzdWx0c1wiPlxyXG4gICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYXMgZmEtc2VhcmNoIGZhLTN4XCI+PC9pPlxyXG4gICAgICAgICAgICA8aDM+Tm8gbW9kZWxzIGZvdW5kPC9oMz5cclxuICAgICAgICAgICAgPHA+VHJ5IGFkanVzdGluZyB5b3VyIHNlYXJjaCB0ZXJtcyBvciBmaWx0ZXJzPC9wPlxyXG4gICAgICAgICAgICB7KHRhc2tGaWx0ZXIgfHwgbGlicmFyeUZpbHRlciB8fCBsYW5ndWFnZUZpbHRlcikgJiYgKFxyXG4gICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImhmLWNsZWFyLWZpbHRlcnMtYnRuXCJcclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNsZWFyRmlsdGVyc31cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYXMgZmEtZXJhc2VyXCI+PC9pPiBDbGVhciBGaWx0ZXJzXHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHshZXJyb3IgJiYgbW9kZWxzLmxlbmd0aCA+IDAgJiYgKFxyXG4gICAgICAgICAgPD5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZi1tb2RlbHMtZ3JpZFwiPlxyXG4gICAgICAgICAgICAgIHttb2RlbHMubWFwKChtb2RlbCkgPT4gKFxyXG4gICAgICAgICAgICAgICAgPE1vZGVsQ2FyZFxyXG4gICAgICAgICAgICAgICAgICBrZXk9e21vZGVsLm1vZGVsX2lkfVxyXG4gICAgICAgICAgICAgICAgICBtb2RlbD17bW9kZWx9XHJcbiAgICAgICAgICAgICAgICAgIGlzU2VsZWN0ZWQ9e3NlbGVjdGVkTW9kZWw/Lm1vZGVsX2lkID09PSBtb2RlbC5tb2RlbF9pZH1cclxuICAgICAgICAgICAgICAgICAgb25TZWxlY3Q9e2hhbmRsZVNlbGVjdE1vZGVsfVxyXG4gICAgICAgICAgICAgICAgICBmb3JtYXROdW1iZXI9e2Zvcm1hdE51bWJlcn1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgey8qIFBhZ2luYXRpb24gKi99XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGYtcGFnaW5hdGlvblwiPlxyXG4gICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImhmLXBhZ2UtYnRuXCJcclxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtjdXJyZW50UGFnZSA9PT0gMX1cclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEN1cnJlbnRQYWdlKHAgPT4gcCAtIDEpfVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1jaGV2cm9uLWxlZnRcIj48L2k+IFByZXZpb3VzXHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaGYtcGFnZS1pbmZvXCI+XHJcbiAgICAgICAgICAgICAgICBQYWdlIHtjdXJyZW50UGFnZX0ge2hhc01vcmUgPyAnKG1vcmUgYXZhaWxhYmxlKScgOiAnKGxhc3QgcGFnZSknfVxyXG4gICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoZi1wYWdlLWJ0blwiXHJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17IWhhc01vcmV9XHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRDdXJyZW50UGFnZShwID0+IHAgKyAxKX1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICBOZXh0IDxpIGNsYXNzTmFtZT1cImZhcyBmYS1jaGV2cm9uLXJpZ2h0XCI+PC9pPlxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvPlxyXG4gICAgICAgICl9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICBcclxuICAgICAgey8qIFNlbGVjdGVkIE1vZGVsIFBhbmVsICovfVxyXG4gICAgICB7c2VsZWN0ZWRNb2RlbCAmJiAoXHJcbiAgICAgICAgPFNlbGVjdGVkTW9kZWxQYW5lbFxyXG4gICAgICAgICAgbW9kZWw9e3NlbGVjdGVkTW9kZWx9XHJcbiAgICAgICAgICBvbkNsZWFyPXsoKSA9PiBzZXRTZWxlY3RlZE1vZGVsKG51bGwpfVxyXG4gICAgICAgICAgZm9ybWF0TnVtYmVyPXtmb3JtYXROdW1iZXJ9XHJcbiAgICAgICAgLz5cclxuICAgICAgKX1cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn1cclxuXHJcbi8vIE1vZGVsIENhcmQgQ29tcG9uZW50XHJcbmludGVyZmFjZSBNb2RlbENhcmRQcm9wcyB7XHJcbiAgbW9kZWw6IEh1Z2dpbmdGYWNlTW9kZWw7XHJcbiAgaXNTZWxlY3RlZDogYm9vbGVhbjtcclxuICBvblNlbGVjdDogKG1vZGVsSWQ6IHN0cmluZykgPT4gdm9pZDtcclxuICBmb3JtYXROdW1iZXI6IChudW06IG51bWJlcikgPT4gc3RyaW5nO1xyXG59XHJcblxyXG5mdW5jdGlvbiBNb2RlbENhcmQoeyBtb2RlbCwgaXNTZWxlY3RlZCwgb25TZWxlY3QsIGZvcm1hdE51bWJlciB9OiBNb2RlbENhcmRQcm9wcykge1xyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2XHJcbiAgICAgIGNsYXNzTmFtZT17YGhmLW1vZGVsLWNhcmQgJHtpc1NlbGVjdGVkID8gJ3NlbGVjdGVkJyA6ICcnfWB9XHJcbiAgICAgIG9uQ2xpY2s9eygpID0+IG9uU2VsZWN0KG1vZGVsLm1vZGVsX2lkKX1cclxuICAgID5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZi1tb2RlbC1oZWFkZXJcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhmLW1vZGVsLXRpdGxlXCI+XHJcbiAgICAgICAgICA8aDQ+e21vZGVsLm1vZGVsX2lkLnNwbGl0KCcvJykucG9wKCk/LnJlcGxhY2UoLy0vZywgJyAnKX08L2g0PlxyXG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaGYtbW9kZWwtYXV0aG9yXCI+Ynkge21vZGVsLmF1dGhvciB8fCAnVW5rbm93bid9PC9zcGFuPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1jaGVjay1jaXJjbGUgaGYtY29tcGF0aWJsZVwiPjwvaT5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImhmLW1vZGVsLWluZm9cIj5cclxuICAgICAgICB7bW9kZWwucGlwZWxpbmVfdGFnICYmIChcclxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImhmLXRhc2stYmFkZ2VcIj57bW9kZWwucGlwZWxpbmVfdGFnfTwvc3Bhbj5cclxuICAgICAgICApfVxyXG4gICAgICAgIHttb2RlbC5saWJyYXJ5X25hbWUgJiYgKFxyXG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaGYtbGlicmFyeS1iYWRnZVwiPnttb2RlbC5saWJyYXJ5X25hbWV9PC9zcGFuPlxyXG4gICAgICAgICl9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICBcclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZi1tb2RlbC1kZXNjcmlwdGlvblwiPlxyXG4gICAgICAgIHttb2RlbC5tb2RlbF9pZH1cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImhmLW1vZGVsLXN0YXRzXCI+XHJcbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaGYtc3RhdFwiPlxyXG4gICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmFzIGZhLWRvd25sb2FkXCI+PC9pPiB7Zm9ybWF0TnVtYmVyKG1vZGVsLmRvd25sb2Fkcyl9XHJcbiAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImhmLXN0YXRcIj5cclxuICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1oZWFydFwiPjwvaT4ge2Zvcm1hdE51bWJlcihtb2RlbC5saWtlcyl9XHJcbiAgICAgICAgPC9zcGFuPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn1cclxuXHJcbi8vIFNlbGVjdGVkIE1vZGVsIFBhbmVsIENvbXBvbmVudFxyXG5pbnRlcmZhY2UgU2VsZWN0ZWRNb2RlbFBhbmVsUHJvcHMge1xyXG4gIG1vZGVsOiBNb2RlbERldGFpbHM7XHJcbiAgb25DbGVhcjogKCkgPT4gdm9pZDtcclxuICBmb3JtYXROdW1iZXI6IChudW06IG51bWJlcikgPT4gc3RyaW5nO1xyXG59XHJcblxyXG5mdW5jdGlvbiBTZWxlY3RlZE1vZGVsUGFuZWwoeyBtb2RlbCwgb25DbGVhciwgZm9ybWF0TnVtYmVyIH06IFNlbGVjdGVkTW9kZWxQYW5lbFByb3BzKSB7XHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwiaGYtZXh0ZXJuYWwtc2VsZWN0ZWQtbW9kZWxcIj5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZi1zZWxlY3RlZC1oZWFkZXJcIj5cclxuICAgICAgICA8aDQ+XHJcbiAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYXMgZmEtY2hlY2stY2lyY2xlXCI+PC9pPiBTZWxlY3RlZCBNb2RlbFxyXG4gICAgICAgIDwvaDQ+XHJcbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJoZi1jbGVhci1idG5cIiBvbkNsaWNrPXtvbkNsZWFyfT5cclxuICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS10aW1lc1wiPjwvaT4gQ2xlYXJcclxuICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImhmLXNlbGVjdGVkLWNvbnRlbnRcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhmLXNlbGVjdGVkLWRldGFpbHNcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGYtc2VsZWN0ZWQtbWFpblwiPlxyXG4gICAgICAgICAgICA8aDM+e21vZGVsLm5hbWV9PC9oMz5cclxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiaGYtc2VsZWN0ZWQtYXV0aG9yXCI+Ynkge21vZGVsLmF1dGhvcn08L3A+XHJcbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImhmLXNlbGVjdGVkLWlkXCI+e21vZGVsLm1vZGVsX2lkfTwvcD5cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGYtc2VsZWN0ZWQtYmFkZ2VzXCI+XHJcbiAgICAgICAgICAgICAge21vZGVsLnBpcGVsaW5lX3RhZyAmJiAoXHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJoZi10YXNrLWJhZGdlXCI+e21vZGVsLnBpcGVsaW5lX3RhZ308L3NwYW4+XHJcbiAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICB7bW9kZWwubGlicmFyeV9uYW1lICYmIChcclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImhmLWxpYnJhcnktYmFkZ2VcIj57bW9kZWwubGlicmFyeV9uYW1lfTwvc3Bhbj5cclxuICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgIHttb2RlbC5nYXRlZCAmJiAoXHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJoZi1nYXRlZFwiPvCflJIgR2F0ZWQ8L3NwYW4+XHJcbiAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhmLXNlbGVjdGVkLWRlc2NyaXB0aW9uXCI+XHJcbiAgICAgICAgICAgICAge21vZGVsLmRlc2NyaXB0aW9uIHx8ICdObyBkZXNjcmlwdGlvbiBhdmFpbGFibGUnfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhmLXNlbGVjdGVkLW1ldGFcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZi1zZWxlY3RlZC1zdGF0c1wiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGYtc3RhdC1pdGVtXCI+XHJcbiAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYXMgZmEtZG93bmxvYWRcIj48L2k+XHJcbiAgICAgICAgICAgICAgICA8c3Bhbj57Zm9ybWF0TnVtYmVyKG1vZGVsLmRvd25sb2Fkcyl9IGRvd25sb2Fkczwvc3Bhbj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhmLXN0YXQtaXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmFzIGZhLWhlYXJ0XCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4+e2Zvcm1hdE51bWJlcihtb2RlbC5saWtlcyl9IGxpa2VzPC9zcGFuPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn1cclxuXHJcbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlQ2FsbGJhY2siLCJzZWFyY2hNb2RlbHMiLCJnZXRNb2RlbERldGFpbHMiLCJnZXRUYXNrcyIsIkh1Z2dpbmdGYWNlTW9kZWxCcm93c2VyIiwib25Nb2RlbFNlbGVjdGVkIiwiaW5pdGlhbE1vZGVsSWQiLCJlbmFibGVGaWx0ZXJzIiwiaXRlbXNQZXJQYWdlIiwibW9kZWxzIiwic2V0TW9kZWxzIiwidGFza3MiLCJzZXRUYXNrcyIsInNlbGVjdGVkTW9kZWwiLCJzZXRTZWxlY3RlZE1vZGVsIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsInNlYXJjaFF1ZXJ5Iiwic2V0U2VhcmNoUXVlcnkiLCJ0YXNrRmlsdGVyIiwic2V0VGFza0ZpbHRlciIsImxpYnJhcnlGaWx0ZXIiLCJzZXRMaWJyYXJ5RmlsdGVyIiwibGFuZ3VhZ2VGaWx0ZXIiLCJzZXRMYW5ndWFnZUZpbHRlciIsInNvcnRCeSIsInNldFNvcnRCeSIsImN1cnJlbnRQYWdlIiwic2V0Q3VycmVudFBhZ2UiLCJoYXNNb3JlIiwic2V0SGFzTW9yZSIsImxvYWRUYXNrcyIsImhhbmRsZVNlbGVjdE1vZGVsIiwibG9hZE1vZGVscyIsImRhdGEiLCJlcnIiLCJjb25zb2xlIiwicXVlcnkiLCJ1bmRlZmluZWQiLCJ0YXNrIiwibGlicmFyeSIsImxhbmd1YWdlIiwic29ydCIsImxpbWl0IiwicGFnZSIsImxlbmd0aCIsIkVycm9yIiwibWVzc2FnZSIsIm1vZGVsSWQiLCJkZXRhaWxzIiwibG9nIiwibW9kZWxfaWQiLCJwaXBlbGluZV90YWciLCJsaWJyYXJ5X25hbWUiLCJoYW5kbGVTZWFyY2giLCJoYW5kbGVDbGVhckZpbHRlcnMiLCJmb3JtYXROdW1iZXIiLCJudW0iLCJ0b0ZpeGVkIiwidG9TdHJpbmciLCJkaXYiLCJjbGFzc05hbWUiLCJpbnB1dCIsInR5cGUiLCJwbGFjZWhvbGRlciIsInZhbHVlIiwib25DaGFuZ2UiLCJlIiwidGFyZ2V0IiwiYnV0dG9uIiwib25DbGljayIsImkiLCJzZWxlY3QiLCJvcHRpb24iLCJtYXAiLCJsYWJlbCIsInNwYW4iLCJoMyIsInAiLCJtb2RlbCIsIk1vZGVsQ2FyZCIsImlzU2VsZWN0ZWQiLCJvblNlbGVjdCIsImRpc2FibGVkIiwiU2VsZWN0ZWRNb2RlbFBhbmVsIiwib25DbGVhciIsImg0Iiwic3BsaXQiLCJwb3AiLCJyZXBsYWNlIiwiYXV0aG9yIiwiZG93bmxvYWRzIiwibGlrZXMiLCJuYW1lIiwiZ2F0ZWQiLCJkZXNjcmlwdGlvbiJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/HuggingFaceModelBrowser.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/ImageAnnotationEditor.tsx":
/*!**************************************************!*\
  !*** ./src/components/ImageAnnotationEditor.tsx ***!
  \**************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ImageAnnotationEditor: () => (/* binding */ ImageAnnotationEditor)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! fabric */ \"(app-pages-browser)/./node_modules/fabric/dist/index.min.mjs\");\n/* harmony import */ var _lib_api_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/api-config */ \"(app-pages-browser)/./src/lib/api-config.ts\");\n/**\r\n * Image Annotation Editor Component\r\n * \r\n * Fabric.js-based canvas for annotating images.\r\n * Supports freehand drawing, highlighting, text boxes, and shapes.\r\n */ \nvar _s = $RefreshSig$();\n\n\n\nconst ImageAnnotationEditor = /*#__PURE__*/ _s(react__WEBPACK_IMPORTED_MODULE_1___default().forwardRef(_c = _s(({ mediaFormat, mode, annotations, onAnnotationsChange }, ref)=>{\n    _s();\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const fabricCanvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [activeTool, setActiveTool] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('select');\n    const [drawingColor, setDrawingColor] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('#FF0000');\n    // Expose method to get annotated image\n    react__WEBPACK_IMPORTED_MODULE_1___default().useImperativeHandle(ref, {\n        \"ImageAnnotationEditor.useImperativeHandle\": ()=>({\n                getAnnotatedDataURL: ({\n                    \"ImageAnnotationEditor.useImperativeHandle\": ()=>{\n                        if (fabricCanvasRef.current) {\n                            // 1. Get the current viewport transform (zoom/pan)\n                            const originalViewport = fabricCanvasRef.current.viewportTransform;\n                            const originalWidth = fabricCanvasRef.current.width;\n                            const originalHeight = fabricCanvasRef.current.height;\n                            // 2. Reset viewport to show full image\n                            // We need to find the bounding box of the background image + all objects\n                            const bgImage = fabricCanvasRef.current.backgroundImage;\n                            if (bgImage) {\n                                // Temporarily resize canvas to match image dimensions if needed\n                                // For simple export, usually toDataURL({ format: 'png', multiplier: ... }) works\n                                // But we want to ensure we capture the *original* image resolution if possible\n                                return fabricCanvasRef.current.toDataURL({\n                                    format: 'png',\n                                    quality: 1,\n                                    enableRetinaScaling: true,\n                                    multiplier: 1 // Adjust if you want higher res\n                                });\n                            }\n                            return fabricCanvasRef.current.toDataURL({\n                                format: 'png',\n                                multiplier: 1\n                            });\n                        }\n                        return '';\n                    }\n                })[\"ImageAnnotationEditor.useImperativeHandle\"]\n            })\n    }[\"ImageAnnotationEditor.useImperativeHandle\"]);\n    // Get file ID from MediaFormat\n    const getFileId = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"ImageAnnotationEditor.useCallback[getFileId]\": ()=>{\n            if (mediaFormat.metadata?.file_id) {\n                return mediaFormat.metadata.file_id;\n            }\n            if (mediaFormat.data_type === 'file_path') {\n                const path = mediaFormat.data;\n                const uuidMatch = path.match(/([a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12})/i);\n                if (uuidMatch) {\n                    return uuidMatch[1];\n                }\n                // If data is just the file_id itself\n                if (path && path.match(/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/i)) {\n                    return path;\n                }\n            }\n            return null;\n        }\n    }[\"ImageAnnotationEditor.useCallback[getFileId]\"], [\n        mediaFormat\n    ]);\n    // Initialize Fabric.js canvas\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ImageAnnotationEditor.useEffect\": ()=>{\n            if (!canvasRef.current || !containerRef.current) return;\n            const canvas = new fabric__WEBPACK_IMPORTED_MODULE_3__[\"default\"].Canvas(canvasRef.current, {\n                width: containerRef.current.clientWidth,\n                height: containerRef.current.clientHeight,\n                backgroundColor: 'transparent',\n                selection: mode === 'edit' && activeTool === 'select',\n                isDrawingMode: false\n            });\n            fabricCanvasRef.current = canvas;\n            // Load background image\n            const fileId = getFileId();\n            if (fileId) {\n                const imageUrl = `${(0,_lib_api_config__WEBPACK_IMPORTED_MODULE_2__.getApiBaseUrl)()}/api/v1/files/${fileId}/view`;\n                fabric__WEBPACK_IMPORTED_MODULE_3__[\"default\"].FabricImage.fromURL(imageUrl, {\n                    crossOrigin: 'anonymous'\n                }).then({\n                    \"ImageAnnotationEditor.useEffect\": (img)=>{\n                        if (!canvas) return;\n                        // Scale image to fit canvas\n                        const scale = Math.min(canvas.width / (img.width || 1), canvas.height / (img.height || 1));\n                        img.scale(scale);\n                        img.set({\n                            left: (canvas.width - (img.width || 0) * scale) / 2,\n                            top: (canvas.height - (img.height || 0) * scale) / 2,\n                            selectable: false,\n                            evented: false\n                        });\n                        canvas.backgroundImage = img;\n                        canvas.renderAll();\n                    }\n                }[\"ImageAnnotationEditor.useEffect\"]).catch({\n                    \"ImageAnnotationEditor.useEffect\": (err)=>{\n                        console.error('Failed to load image:', err);\n                        const text = new fabric__WEBPACK_IMPORTED_MODULE_3__[\"default\"].Text('Failed to load image: ' + err.message, {\n                            left: canvas.width / 2,\n                            top: canvas.height / 2,\n                            originX: 'center',\n                            originY: 'center',\n                            fill: '#ff0000',\n                            fontSize: 16,\n                            textAlign: 'center'\n                        });\n                        canvas.add(text);\n                        canvas.renderAll();\n                    }\n                }[\"ImageAnnotationEditor.useEffect\"]);\n            }\n            // Load existing annotations\n            if (annotations && annotations.length > 0) {\n                annotations.forEach({\n                    \"ImageAnnotationEditor.useEffect\": (annotation)=>{\n                        if (annotation.data) {\n                            fabric__WEBPACK_IMPORTED_MODULE_3__[\"default\"].util.enlivenObjects([\n                                annotation.data\n                            ]).then({\n                                \"ImageAnnotationEditor.useEffect\": (objects)=>{\n                                    objects.forEach({\n                                        \"ImageAnnotationEditor.useEffect\": (obj)=>{\n                                            canvas.add(obj);\n                                        }\n                                    }[\"ImageAnnotationEditor.useEffect\"]);\n                                    canvas.renderAll();\n                                }\n                            }[\"ImageAnnotationEditor.useEffect\"]);\n                        }\n                    }\n                }[\"ImageAnnotationEditor.useEffect\"]);\n            }\n            // Cleanup\n            return ({\n                \"ImageAnnotationEditor.useEffect\": ()=>{\n                    canvas.dispose();\n                    fabricCanvasRef.current = null;\n                }\n            })[\"ImageAnnotationEditor.useEffect\"];\n        }\n    }[\"ImageAnnotationEditor.useEffect\"], [\n        mediaFormat,\n        mode,\n        getFileId\n    ]);\n    // Handle tool changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ImageAnnotationEditor.useEffect\": ()=>{\n            const canvas = fabricCanvasRef.current;\n            if (!canvas) return;\n            // Reset drawing mode\n            canvas.isDrawingMode = false;\n            canvas.selection = false;\n            if (mode === 'view') {\n                // View mode - no interaction\n                canvas.selection = false;\n                return;\n            }\n            // Edit mode\n            switch(activeTool){\n                case 'select':\n                    canvas.selection = true;\n                    break;\n                case 'pen':\n                    canvas.isDrawingMode = true;\n                    canvas.freeDrawingBrush = new fabric__WEBPACK_IMPORTED_MODULE_3__[\"default\"].PencilBrush(canvas);\n                    canvas.freeDrawingBrush.color = drawingColor;\n                    canvas.freeDrawingBrush.width = 3;\n                    break;\n                case 'highlighter':\n                    canvas.isDrawingMode = true;\n                    canvas.freeDrawingBrush = new fabric__WEBPACK_IMPORTED_MODULE_3__[\"default\"].PencilBrush(canvas);\n                    // Convert color to rgba with 30% opacity\n                    const hexColor = drawingColor;\n                    const r = parseInt(hexColor.slice(1, 3), 16);\n                    const g = parseInt(hexColor.slice(3, 5), 16);\n                    const b = parseInt(hexColor.slice(5, 7), 16);\n                    canvas.freeDrawingBrush.color = `rgba(${r}, ${g}, ${b}, 0.3)`;\n                    canvas.freeDrawingBrush.width = 20;\n                    break;\n                case 'text':\n                    // Text mode handled by click event\n                    canvas.selection = false;\n                    break;\n                case 'rectangle':\n                    // Rectangle mode handled by mouse events\n                    canvas.selection = false;\n                    break;\n            }\n        }\n    }[\"ImageAnnotationEditor.useEffect\"], [\n        activeTool,\n        drawingColor,\n        mode\n    ]);\n    // Handle object creation (save annotations)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ImageAnnotationEditor.useEffect\": ()=>{\n            const canvas = fabricCanvasRef.current;\n            if (!canvas || mode === 'view') return;\n            const handleObjectAdded = {\n                \"ImageAnnotationEditor.useEffect.handleObjectAdded\": ()=>{\n                    const objects = canvas.getObjects();\n                    const newAnnotations = objects.map({\n                        \"ImageAnnotationEditor.useEffect.handleObjectAdded.newAnnotations\": (obj, index)=>({\n                                id: `annotation-${index}`,\n                                type: obj.type === 'path' ? activeTool === 'highlighter' ? 'highlight' : 'freehand' : 'rectangle',\n                                color: drawingColor,\n                                data: obj.toJSON(),\n                                bounds: {\n                                    x: obj.left || 0,\n                                    y: obj.top || 0,\n                                    width: obj.width || 0,\n                                    height: obj.height || 0\n                                }\n                            })\n                    }[\"ImageAnnotationEditor.useEffect.handleObjectAdded.newAnnotations\"]);\n                    onAnnotationsChange(newAnnotations);\n                }\n            }[\"ImageAnnotationEditor.useEffect.handleObjectAdded\"];\n            canvas.on('path:created', handleObjectAdded);\n            canvas.on('object:added', handleObjectAdded);\n            canvas.on('object:modified', handleObjectAdded);\n            canvas.on('object:removed', handleObjectAdded);\n            return ({\n                \"ImageAnnotationEditor.useEffect\": ()=>{\n                    canvas.off('path:created', handleObjectAdded);\n                    canvas.off('object:added', handleObjectAdded);\n                    canvas.off('object:modified', handleObjectAdded);\n                    canvas.off('object:removed', handleObjectAdded);\n                }\n            })[\"ImageAnnotationEditor.useEffect\"];\n        }\n    }[\"ImageAnnotationEditor.useEffect\"], [\n        mode,\n        activeTool,\n        drawingColor,\n        onAnnotationsChange\n    ]);\n    // Handle text and rectangle tools\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ImageAnnotationEditor.useEffect\": ()=>{\n            const canvas = fabricCanvasRef.current;\n            if (!canvas || mode === 'view') return;\n            if (activeTool === 'text') {\n                const handleTextClick = {\n                    \"ImageAnnotationEditor.useEffect.handleTextClick\": (e)=>{\n                        const evt = e;\n                        if (!evt.pointer) return;\n                        const text = new fabric__WEBPACK_IMPORTED_MODULE_3__[\"default\"].IText('Click to edit', {\n                            left: evt.pointer.x,\n                            top: evt.pointer.y,\n                            fill: drawingColor,\n                            fontSize: 20,\n                            fontFamily: 'Arial'\n                        });\n                        canvas.add(text);\n                        canvas.setActiveObject(text);\n                        text.enterEditing();\n                        canvas.renderAll();\n                    }\n                }[\"ImageAnnotationEditor.useEffect.handleTextClick\"];\n                canvas.on('mouse:down', handleTextClick);\n                return ({\n                    \"ImageAnnotationEditor.useEffect\": ()=>{\n                        canvas.off('mouse:down', handleTextClick);\n                    }\n                })[\"ImageAnnotationEditor.useEffect\"];\n            }\n            if (activeTool === 'rectangle') {\n                let isDrawing = false;\n                let startX = 0;\n                let startY = 0;\n                let rect = null;\n                const handleMouseDown = {\n                    \"ImageAnnotationEditor.useEffect.handleMouseDown\": (e)=>{\n                        const evt = e;\n                        if (!evt.pointer) return;\n                        isDrawing = true;\n                        startX = evt.pointer.x;\n                        startY = evt.pointer.y;\n                        rect = new fabric__WEBPACK_IMPORTED_MODULE_3__[\"default\"].Rect({\n                            left: startX,\n                            top: startY,\n                            width: 0,\n                            height: 0,\n                            fill: 'transparent',\n                            stroke: drawingColor,\n                            strokeWidth: 3\n                        });\n                        canvas.add(rect);\n                    }\n                }[\"ImageAnnotationEditor.useEffect.handleMouseDown\"];\n                const handleMouseMove = {\n                    \"ImageAnnotationEditor.useEffect.handleMouseMove\": (e)=>{\n                        if (!isDrawing || !rect) return;\n                        const evt = e;\n                        if (!evt.pointer) return;\n                        const width = evt.pointer.x - startX;\n                        const height = evt.pointer.y - startY;\n                        rect.set({\n                            width: Math.abs(width),\n                            height: Math.abs(height),\n                            left: width < 0 ? evt.pointer.x : startX,\n                            top: height < 0 ? evt.pointer.y : startY\n                        });\n                        canvas.renderAll();\n                    }\n                }[\"ImageAnnotationEditor.useEffect.handleMouseMove\"];\n                const handleMouseUp = {\n                    \"ImageAnnotationEditor.useEffect.handleMouseUp\": ()=>{\n                        isDrawing = false;\n                        rect = null;\n                    }\n                }[\"ImageAnnotationEditor.useEffect.handleMouseUp\"];\n                canvas.on('mouse:down', handleMouseDown);\n                canvas.on('mouse:move', handleMouseMove);\n                canvas.on('mouse:up', handleMouseUp);\n                return ({\n                    \"ImageAnnotationEditor.useEffect\": ()=>{\n                        canvas.off('mouse:down', handleMouseDown);\n                        canvas.off('mouse:move', handleMouseMove);\n                        canvas.off('mouse:up', handleMouseUp);\n                    }\n                })[\"ImageAnnotationEditor.useEffect\"];\n            }\n        }\n    }[\"ImageAnnotationEditor.useEffect\"], [\n        activeTool,\n        drawingColor,\n        mode\n    ]);\n    // Clear all annotations\n    const handleClear = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"ImageAnnotationEditor.useCallback[handleClear]\": ()=>{\n            const canvas = fabricCanvasRef.current;\n            if (!canvas) return;\n            const objects = canvas.getObjects();\n            objects.forEach({\n                \"ImageAnnotationEditor.useCallback[handleClear]\": (obj)=>canvas.remove(obj)\n            }[\"ImageAnnotationEditor.useCallback[handleClear]\"]);\n            canvas.renderAll();\n            onAnnotationsChange([]);\n        }\n    }[\"ImageAnnotationEditor.useCallback[handleClear]\"], [\n        onAnnotationsChange\n    ]);\n    // Delete selected object\n    const handleDelete = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"ImageAnnotationEditor.useCallback[handleDelete]\": ()=>{\n            const canvas = fabricCanvasRef.current;\n            if (!canvas) return;\n            const activeObject = canvas.getActiveObject();\n            if (activeObject) {\n                canvas.remove(activeObject);\n                canvas.renderAll();\n            }\n        }\n    }[\"ImageAnnotationEditor.useCallback[handleDelete]\"], []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: containerRef,\n        className: \"relative w-full h-full flex flex-col\",\n        children: [\n            mode === 'edit' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute top-4 left-1/2 -translate-x-1/2 z-10 flex gap-2 p-2 rounded-lg shadow-lg\",\n                style: {\n                    background: 'rgba(255, 255, 255, 0.95)',\n                    backdropFilter: 'blur(10px)'\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>setActiveTool('select'),\n                        className: `p-2 px-3 rounded transition-colors ${activeTool === 'select' ? 'bg-blue-500 text-white' : 'bg-gray-100 hover:bg-gray-200'}`,\n                        title: \"Select (Move/Resize)\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                            className: \"fas fa-mouse-pointer\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\ImageAnnotationEditor.tsx\",\n                            lineNumber: 391,\n                            columnNumber: 13\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\ImageAnnotationEditor.tsx\",\n                        lineNumber: 384,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>setActiveTool('pen'),\n                        className: `p-2 px-3 rounded transition-colors ${activeTool === 'pen' ? 'bg-blue-500 text-white' : 'bg-gray-100 hover:bg-gray-200'}`,\n                        title: \"Freehand Pen\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                            className: \"fas fa-pen\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\ImageAnnotationEditor.tsx\",\n                            lineNumber: 401,\n                            columnNumber: 13\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\ImageAnnotationEditor.tsx\",\n                        lineNumber: 394,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>setActiveTool('highlighter'),\n                        className: `p-2 px-3 rounded transition-colors ${activeTool === 'highlighter' ? 'bg-blue-500 text-white' : 'bg-gray-100 hover:bg-gray-200'}`,\n                        title: \"Highlighter\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                            className: \"fas fa-highlighter\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\ImageAnnotationEditor.tsx\",\n                            lineNumber: 411,\n                            columnNumber: 13\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\ImageAnnotationEditor.tsx\",\n                        lineNumber: 404,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>setActiveTool('text'),\n                        className: `p-2 px-3 rounded transition-colors ${activeTool === 'text' ? 'bg-blue-500 text-white' : 'bg-gray-100 hover:bg-gray-200'}`,\n                        title: \"Text\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                            className: \"fas fa-font\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\ImageAnnotationEditor.tsx\",\n                            lineNumber: 421,\n                            columnNumber: 13\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\ImageAnnotationEditor.tsx\",\n                        lineNumber: 414,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>setActiveTool('rectangle'),\n                        className: `p-2 px-3 rounded transition-colors ${activeTool === 'rectangle' ? 'bg-blue-500 text-white' : 'bg-gray-100 hover:bg-gray-200'}`,\n                        title: \"Rectangle\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                            className: \"far fa-square\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\ImageAnnotationEditor.tsx\",\n                            lineNumber: 431,\n                            columnNumber: 13\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\ImageAnnotationEditor.tsx\",\n                        lineNumber: 424,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-px bg-gray-300\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\ImageAnnotationEditor.tsx\",\n                        lineNumber: 434,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: \"text-sm text-gray-600\",\n                                children: \"Color:\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\ImageAnnotationEditor.tsx\",\n                                lineNumber: 438,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                type: \"color\",\n                                value: drawingColor,\n                                onChange: (e)=>setDrawingColor(e.target.value),\n                                className: \"w-10 h-8 rounded cursor-pointer\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\ImageAnnotationEditor.tsx\",\n                                lineNumber: 439,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\ImageAnnotationEditor.tsx\",\n                        lineNumber: 437,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-px bg-gray-300\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\ImageAnnotationEditor.tsx\",\n                        lineNumber: 447,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleDelete,\n                        className: \"p-2 px-3 rounded bg-orange-100 hover:bg-orange-200 text-orange-700 transition-colors\",\n                        title: \"Delete Selected (Delete Key)\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                            className: \"fas fa-eraser\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\ImageAnnotationEditor.tsx\",\n                            lineNumber: 455,\n                            columnNumber: 13\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\ImageAnnotationEditor.tsx\",\n                        lineNumber: 450,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleClear,\n                        className: \"p-2 px-3 rounded bg-red-100 hover:bg-red-200 text-red-700 transition-colors\",\n                        title: \"Clear All Annotations\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                            className: \"fas fa-trash\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\ImageAnnotationEditor.tsx\",\n                            lineNumber: 463,\n                            columnNumber: 13\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\ImageAnnotationEditor.tsx\",\n                        lineNumber: 458,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\ImageAnnotationEditor.tsx\",\n                lineNumber: 376,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                ref: canvasRef,\n                className: \"max-w-full max-h-full\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\ImageAnnotationEditor.tsx\",\n                lineNumber: 469,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\ImageAnnotationEditor.tsx\",\n        lineNumber: 373,\n        columnNumber: 5\n    }, undefined);\n}, \"zlFAYws51XJWTns0HEe22Rvvj+I=\")), \"zlFAYws51XJWTns0HEe22Rvvj+I=\");\n_c1 = ImageAnnotationEditor;\nvar _c, _c1;\n$RefreshReg$(_c, \"ImageAnnotationEditor$React.forwardRef\");\n$RefreshReg$(_c1, \"ImageAnnotationEditor\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL0ltYWdlQW5ub3RhdGlvbkVkaXRvci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7Ozs7O0NBS0M7O0FBRXVFO0FBQzVDO0FBQ3FCO0FBZ0IxQyxNQUFNTyxzQ0FBd0JQLEdBQUFBLHVEQUFnQixTQUF1RCxDQUFDLEVBQzNHUyxXQUFXLEVBQ1hDLElBQUksRUFDSkMsV0FBVyxFQUNYQyxtQkFBbUIsRUFDcEIsRUFBRUM7O0lBQ0QsTUFBTUMsWUFBWVosNkNBQU1BLENBQW9CO0lBQzVDLE1BQU1hLGtCQUFrQmIsNkNBQU1BLENBQXVCO0lBQ3JELE1BQU1jLGVBQWVkLDZDQUFNQSxDQUFpQjtJQUU1QyxNQUFNLENBQUNlLFlBQVlDLGNBQWMsR0FBR2YsK0NBQVFBLENBQWM7SUFDMUQsTUFBTSxDQUFDZ0IsY0FBY0MsZ0JBQWdCLEdBQUdqQiwrQ0FBUUEsQ0FBQztJQUVqRCx1Q0FBdUM7SUFDdkNILGdFQUF5QixDQUFDYTtxREFBSyxJQUFPO2dCQUNwQ1MsbUJBQW1CO2lFQUFFO3dCQUNuQixJQUFJUCxnQkFBZ0JRLE9BQU8sRUFBRTs0QkFDM0IsbURBQW1EOzRCQUNuRCxNQUFNQyxtQkFBbUJULGdCQUFnQlEsT0FBTyxDQUFDRSxpQkFBaUI7NEJBQ2xFLE1BQU1DLGdCQUFnQlgsZ0JBQWdCUSxPQUFPLENBQUNJLEtBQUs7NEJBQ25ELE1BQU1DLGlCQUFpQmIsZ0JBQWdCUSxPQUFPLENBQUNNLE1BQU07NEJBRXJELHVDQUF1Qzs0QkFDdkMseUVBQXlFOzRCQUN6RSxNQUFNQyxVQUFVZixnQkFBZ0JRLE9BQU8sQ0FBQ1EsZUFBZTs0QkFDdkQsSUFBSUQsU0FBUztnQ0FDWCxnRUFBZ0U7Z0NBQ2hFLGlGQUFpRjtnQ0FDakYsK0VBQStFO2dDQUUvRSxPQUFPZixnQkFBZ0JRLE9BQU8sQ0FBQ1MsU0FBUyxDQUFDO29DQUN2Q0MsUUFBUTtvQ0FDUkMsU0FBUztvQ0FDVEMscUJBQXFCO29DQUNyQkMs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REFBQ1E7Z0NBQU1SLFdBQVU7MENBQXdCOzs7Ozs7MENBQ3pDLDhEQUFDUztnQ0FDQ3pDLE1BQUs7Z0NBQ0wwQyxPQUFPL0g7Z0NBQ1BnSSxVQUFVLENBQUNuQyxJQUFNNUYsZ0JBQWdCNEYsRUFBRW9DLE1BQU0sQ0FBQ0YsS0FBSztnQ0FDL0NWLFdBQVU7Ozs7Ozs7Ozs7OztrQ0FJZCw4REFBQ0Q7d0JBQUlDLFdBQVU7Ozs7OztrQ0FHZiw4REFBQ0k7d0JBQ0NDLFNBQVNUO3dCQUNUSSxXQUFVO3dCQUNWTSxPQUFNO2tDQUVOLDRFQUFDQzs0QkFBRVAsV0FBVTs7Ozs7Ozs7Ozs7a0NBR2YsOERBQUNJO3dCQUNDQyxTQUFTWDt3QkFDVE0sV0FBVTt3QkFDVk0sT0FBTTtrQ0FFTiw0RUFBQ0M7NEJBQUVQLFdBQVU7Ozs7Ozs7Ozs7Ozs7Ozs7OzBCQU1uQiw4REFBQzNGO2dCQUFPaEMsS0FBS0M7Z0JBQVcwSCxXQUFVOzs7Ozs7Ozs7Ozs7QUFHeEMscUVBQUciLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbmljaG9sYXMubGVlXFxEb2N1bWVudHNcXHpcXFRpY2tldGluZ19OaWNrXFxUaWNrZXRpbmdcXHRhdl9vcGVuc291cmNlXFx1aVxcc3JjXFxjb21wb25lbnRzXFxJbWFnZUFubm90YXRpb25FZGl0b3IudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBJbWFnZSBBbm5vdGF0aW9uIEVkaXRvciBDb21wb25lbnRcclxuICogXHJcbiAqIEZhYnJpYy5qcy1iYXNlZCBjYW52YXMgZm9yIGFubm90YXRpbmcgaW1hZ2VzLlxyXG4gKiBTdXBwb3J0cyBmcmVlaGFuZCBkcmF3aW5nLCBoaWdobGlnaHRpbmcsIHRleHQgYm94ZXMsIGFuZCBzaGFwZXMuXHJcbiAqL1xyXG5cclxuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBmYWJyaWMgZnJvbSAnZmFicmljJztcclxuaW1wb3J0IHsgZ2V0QXBpQmFzZVVybCB9IGZyb20gJ0AvbGliL2FwaS1jb25maWcnO1xyXG5pbXBvcnQgdHlwZSB7IE1lZGlhRm9ybWF0LCBBbm5vdGF0aW9uIH0gZnJvbSAnLi9NZWRpYUZ1bGxTY3JlZW5Nb2RhbCc7XHJcblxyXG5pbnRlcmZhY2UgSW1hZ2VBbm5vdGF0aW9uRWRpdG9yUHJvcHMge1xyXG4gIG1lZGlhRm9ybWF0OiBNZWRpYUZvcm1hdDtcclxuICBtb2RlOiAndmlldycgfCAnZWRpdCc7XHJcbiAgYW5ub3RhdGlvbnM6IEFubm90YXRpb25bXTtcclxuICBvbkFubm90YXRpb25zQ2hhbmdlOiAoYW5ub3RhdGlvbnM6IEFubm90YXRpb25bXSkgPT4gdm9pZDtcclxufVxyXG5cclxudHlwZSBEcmF3aW5nVG9vbCA9ICdzZWxlY3QnIHwgJ3BlbicgfCAnaGlnaGxpZ2h0ZXInIHwgJ3RleHQnIHwgJ3JlY3RhbmdsZSc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEltYWdlQW5ub3RhdGlvbkVkaXRvclJlZiB7XHJcbiAgZ2V0QW5ub3RhdGVkRGF0YVVSTDogKCkgPT4gc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgSW1hZ2VBbm5vdGF0aW9uRWRpdG9yID0gUmVhY3QuZm9yd2FyZFJlZjxJbWFnZUFubm90YXRpb25FZGl0b3JSZWYsIEltYWdlQW5ub3RhdGlvbkVkaXRvclByb3BzPigoe1xyXG4gIG1lZGlhRm9ybWF0LFxyXG4gIG1vZGUsXHJcbiAgYW5ub3RhdGlvbnMsXHJcbiAgb25Bbm5vdGF0aW9uc0NoYW5nZSxcclxufSwgcmVmKSA9PiB7XHJcbiAgY29uc3QgY2FudmFzUmVmID0gdXNlUmVmPEhUTUxDYW52YXNFbGVtZW50PihudWxsKTtcclxuICBjb25zdCBmYWJyaWNDYW52YXNSZWYgPSB1c2VSZWY8ZmFicmljLkNhbnZhcyB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IGNvbnRhaW5lclJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XHJcbiAgXHJcbiAgY29uc3QgW2FjdGl2ZVRvb2wsIHNldEFjdGl2ZVRvb2xdID0gdXNlU3RhdGU8RHJhd2luZ1Rvb2w+KCdzZWxlY3QnKTtcclxuICBjb25zdCBbZHJhd2luZ0NvbG9yLCBzZXREcmF3aW5nQ29sb3JdID0gdXNlU3RhdGUoJyNGRjAwMDAnKTtcclxuXHJcbiAgLy8gRXhwb3NlIG1ldGhvZCB0byBnZXQgYW5ub3RhdGVkIGltYWdlXHJcbiAgUmVhY3QudXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsICgpID0+ICh7XHJcbiAgICBnZXRBbm5vdGF0ZWREYXRhVVJMOiAoKSA9PiB7XHJcbiAgICAgIGlmIChmYWJyaWNDYW52YXNSZWYuY3VycmVudCkge1xyXG4gICAgICAgIC8vIDEuIEdldCB0aGUgY3VycmVudCB2aWV3cG9ydCB0cmFuc2Zvcm0gKHpvb20vcGFuKVxyXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsVmlld3BvcnQgPSBmYWJyaWNDYW52YXNSZWYuY3VycmVudC52aWV3cG9ydFRyYW5zZm9ybTtcclxuICAgICAgICBjb25zdCBvcmlnaW5hbFdpZHRoID0gZmFicmljQ2FudmFzUmVmLmN1cnJlbnQud2lkdGg7XHJcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxIZWlnaHQgPSBmYWJyaWNDYW52YXNSZWYuY3VycmVudC5oZWlnaHQ7XHJcblxyXG4gICAgICAgIC8vIDIuIFJlc2V0IHZpZXdwb3J0IHRvIHNob3cgZnVsbCBpbWFnZVxyXG4gICAgICAgIC8vIFdlIG5lZWQgdG8gZmluZCB0aGUgYm91bmRpbmcgYm94IG9mIHRoZSBiYWNrZ3JvdW5kIGltYWdlICsgYWxsIG9iamVjdHNcclxuICAgICAgICBjb25zdCBiZ0ltYWdlID0gZmFicmljQ2FudmFzUmVmLmN1cnJlbnQuYmFja2dyb3VuZEltYWdlIGFzIGZhYnJpYy5GYWJyaWNJbWFnZTtcclxuICAgICAgICBpZiAoYmdJbWFnZSkge1xyXG4gICAgICAgICAgLy8gVGVtcG9yYXJpbHkgcmVzaXplIGNhbnZhcyB0byBtYXRjaCBpbWFnZSBkaW1lbnNpb25zIGlmIG5lZWRlZFxyXG4gICAgICAgICAgLy8gRm9yIHNpbXBsZSBleHBvcnQsIHVzdWFsbHkgdG9EYXRhVVJMKHsgZm9ybWF0OiAncG5nJywgbXVsdGlwbGllcjogLi4uIH0pIHdvcmtzXHJcbiAgICAgICAgICAvLyBCdXQgd2Ugd2FudCB0byBlbnN1cmUgd2UgY2FwdHVyZSB0aGUgKm9yaWdpbmFsKiBpbWFnZSByZXNvbHV0aW9uIGlmIHBvc3NpYmxlXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHJldHVybiBmYWJyaWNDYW52YXNSZWYuY3VycmVudC50b0RhdGFVUkwoe1xyXG4gICAgICAgICAgICBmb3JtYXQ6ICdwbmcnLFxyXG4gICAgICAgICAgICBxdWFsaXR5OiAxLFxyXG4gICAgICAgICAgICBlbmFibGVSZXRpbmFTY2FsaW5nOiB0cnVlLFxyXG4gICAgICAgICAgICBtdWx0aXBsaWVyOiAxIC8vIEFkanVzdCBpZiB5b3Ugd2FudCBoaWdoZXIgcmVzXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmYWJyaWNDYW52YXNSZWYuY3VycmVudC50b0RhdGFVUkwoeyBcclxuICAgICAgICAgIGZvcm1hdDogJ3BuZycsXHJcbiAgICAgICAgICBtdWx0aXBsaWVyOiAxXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuICcnO1xyXG4gICAgfVxyXG4gIH0pKTtcclxuXHJcbiAgLy8gR2V0IGZpbGUgSUQgZnJvbSBNZWRpYUZvcm1hdFxyXG4gIGNvbnN0IGdldEZpbGVJZCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIGlmIChtZWRpYUZvcm1hdC5tZXRhZGF0YT8uZmlsZV9pZCkge1xyXG4gICAgICByZXR1cm4gbWVkaWFGb3JtYXQubWV0YWRhdGEuZmlsZV9pZDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKG1lZGlhRm9ybWF0LmRhdGFfdHlwZSA9PT0gJ2ZpbGVfcGF0aCcpIHtcclxuICAgICAgY29uc3QgcGF0aCA9IG1lZGlhRm9ybWF0LmRhdGE7XHJcbiAgICAgIGNvbnN0IHV1aWRNYXRjaCA9IHBhdGgubWF0Y2goLyhbYS1mMC05XXs4fS1bYS1mMC05XXs0fS1bYS1mMC05XXs0fS1bYS1mMC05XXs0fS1bYS1mMC05XXsxMn0pL2kpO1xyXG4gICAgICBpZiAodXVpZE1hdGNoKSB7XHJcbiAgICAgICAgcmV0dXJuIHV1aWRNYXRjaFsxXTtcclxuICAgICAgfVxyXG4gICAgICAvLyBJZiBkYXRhIGlzIGp1c3QgdGhlIGZpbGVfaWQgaXRzZWxmXHJcbiAgICAgIGlmIChwYXRoICYmIHBhdGgubWF0Y2goL15bYS1mMC05XXs4fS1bYS1mMC05XXs0fS1bYS1mMC05XXs0fS1bYS1mMC05XXs0fS1bYS1mMC05XXsxMn0kL2kpKSB7XHJcbiAgICAgICAgcmV0dXJuIHBhdGg7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfSwgW21lZGlhRm9ybWF0XSk7XHJcblxyXG4gIC8vIEluaXRpYWxpemUgRmFicmljLmpzIGNhbnZhc1xyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIWNhbnZhc1JlZi5jdXJyZW50IHx8ICFjb250YWluZXJSZWYuY3VycmVudCkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGNhbnZhcyA9IG5ldyBmYWJyaWMuQ2FudmFzKGNhbnZhc1JlZi5jdXJyZW50LCB7XHJcbiAgICAgIHdpZHRoOiBjb250YWluZXJSZWYuY3VycmVudC5jbGllbnRXaWR0aCxcclxuICAgICAgaGVpZ2h0OiBjb250YWluZXJSZWYuY3VycmVudC5jbGllbnRIZWlnaHQsXHJcbiAgICAgIGJhY2tncm91bmRDb2xvcjogJ3RyYW5zcGFyZW50JywgLy8gVHJhbnNwYXJlbnQgaW5zdGVhZCBvZiB3aGl0ZVxyXG4gICAgICBzZWxlY3Rpb246IG1vZGUgPT09ICdlZGl0JyAmJiBhY3RpdmVUb29sID09PSAnc2VsZWN0JyxcclxuICAgICAgaXNEcmF3aW5nTW9kZTogZmFsc2UsXHJcbiAgICB9KTtcclxuXHJcbiAgICBmYWJyaWNDYW52YXNSZWYuY3VycmVudCA9IGNhbnZhcztcclxuXHJcbiAgICAvLyBMb2FkIGJhY2tncm91bmQgaW1hZ2VcclxuICAgIGNvbnN0IGZpbGVJZCA9IGdldEZpbGVJZCgpO1xyXG4gICAgaWYgKGZpbGVJZCkge1xyXG4gICAgICBjb25zdCBpbWFnZVVybCA9IGAke2dldEFwaUJhc2VVcmwoKX0vYXBpL3YxL2ZpbGVzLyR7ZmlsZUlkfS92aWV3YDtcclxuICAgICAgXHJcbiAgICAgIGZhYnJpYy5GYWJyaWNJbWFnZS5mcm9tVVJMKGltYWdlVXJsLCB7IGNyb3NzT3JpZ2luOiAnYW5vbnltb3VzJyB9KS50aGVuKChpbWc6IGZhYnJpYy5GYWJyaWNJbWFnZSkgPT4ge1xyXG4gICAgICAgIGlmICghY2FudmFzKSByZXR1cm47XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gU2NhbGUgaW1hZ2UgdG8gZml0IGNhbnZhc1xyXG4gICAgICAgIGNvbnN0IHNjYWxlID0gTWF0aC5taW4oXHJcbiAgICAgICAgICBjYW52YXMud2lkdGghIC8gKGltZy53aWR0aCB8fCAxKSxcclxuICAgICAgICAgIGNhbnZhcy5oZWlnaHQhIC8gKGltZy5oZWlnaHQgfHwgMSlcclxuICAgICAgICApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGltZy5zY2FsZShzY2FsZSk7XHJcbiAgICAgICAgaW1nLnNldCh7XHJcbiAgICAgICAgICBsZWZ0OiAoY2FudmFzLndpZHRoISAtIChpbWcud2lkdGggfHwgMCkgKiBzY2FsZSkgLyAyLFxyXG4gICAgICAgICAgdG9wOiAoY2FudmFzLmhlaWdodCEgLSAoaW1nLmhlaWdodCB8fCAwKSAqIHNjYWxlKSAvIDIsXHJcbiAgICAgICAgICBzZWxlY3RhYmxlOiBmYWxzZSxcclxuICAgICAgICAgIGV2ZW50ZWQ6IGZhbHNlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNhbnZhcy5iYWNrZ3JvdW5kSW1hZ2UgPSBpbWc7XHJcbiAgICAgICAgY2FudmFzLnJlbmRlckFsbCgpO1xyXG4gICAgICB9KS5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIGltYWdlOicsIGVycik7XHJcbiAgICAgICAgY29uc3QgdGV4dCA9IG5ldyBmYWJyaWMuVGV4dCgnRmFpbGVkIHRvIGxvYWQgaW1hZ2U6ICcgKyBlcnIubWVzc2FnZSwge1xyXG4gICAgICAgICAgbGVmdDogY2FudmFzLndpZHRoISAvIDIsXHJcbiAgICAgICAgICB0b3A6IGNhbnZhcy5oZWlnaHQhIC8gMixcclxuICAgICAgICAgIG9yaWdpblg6ICdjZW50ZXInLFxyXG4gICAgICAgICAgb3JpZ2luWTogJ2NlbnRlcicsXHJcbiAgICAgICAgICBmaWxsOiAnI2ZmMDAwMCcsXHJcbiAgICAgICAgICBmb250U2l6ZTogMTYsXHJcbiAgICAgICAgICB0ZXh0QWxpZ246ICdjZW50ZXInLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNhbnZhcy5hZGQodGV4dCk7XHJcbiAgICAgICAgY2FudmFzLnJlbmRlckFsbCgpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBMb2FkIGV4aXN0aW5nIGFubm90YXRpb25zXHJcbiAgICBpZiAoYW5ub3RhdGlvbnMgJiYgYW5ub3RhdGlvbnMubGVuZ3RoID4gMCkge1xyXG4gICAgICBhbm5vdGF0aW9ucy5mb3JFYWNoKChhbm5vdGF0aW9uKSA9PiB7XHJcbiAgICAgICAgaWYgKGFubm90YXRpb24uZGF0YSkge1xyXG4gICAgICAgICAgZmFicmljLnV0aWwuZW5saXZlbk9iamVjdHMoW2Fubm90YXRpb24uZGF0YV0pLnRoZW4oKG9iamVjdHM6IGFueVtdKSA9PiB7XHJcbiAgICAgICAgICAgIG9iamVjdHMuZm9yRWFjaCgob2JqOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICBjYW52YXMuYWRkKG9iaiBhcyBmYWJyaWMuT2JqZWN0KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNhbnZhcy5yZW5kZXJBbGwoKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2xlYW51cFxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgY2FudmFzLmRpc3Bvc2UoKTtcclxuICAgICAgZmFicmljQ2FudmFzUmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgfTtcclxuICB9LCBbbWVkaWFGb3JtYXQsIG1vZGUsIGdldEZpbGVJZF0pO1xyXG5cclxuICAvLyBIYW5kbGUgdG9vbCBjaGFuZ2VzXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGNhbnZhcyA9IGZhYnJpY0NhbnZhc1JlZi5jdXJyZW50O1xyXG4gICAgaWYgKCFjYW52YXMpIHJldHVybjtcclxuXHJcbiAgICAvLyBSZXNldCBkcmF3aW5nIG1vZGVcclxuICAgIGNhbnZhcy5pc0RyYXdpbmdNb2RlID0gZmFsc2U7XHJcbiAgICBjYW52YXMuc2VsZWN0aW9uID0gZmFsc2U7XHJcblxyXG4gICAgaWYgKG1vZGUgPT09ICd2aWV3Jykge1xyXG4gICAgICAvLyBWaWV3IG1vZGUgLSBubyBpbnRlcmFjdGlvblxyXG4gICAgICBjYW52YXMuc2VsZWN0aW9uID0gZmFsc2U7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBFZGl0IG1vZGVcclxuICAgIHN3aXRjaCAoYWN0aXZlVG9vbCkge1xyXG4gICAgICBjYXNlICdzZWxlY3QnOlxyXG4gICAgICAgIGNhbnZhcy5zZWxlY3Rpb24gPSB0cnVlO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAncGVuJzpcclxuICAgICAgICBjYW52YXMuaXNEcmF3aW5nTW9kZSA9IHRydWU7XHJcbiAgICAgICAgY2FudmFzLmZyZWVEcmF3aW5nQnJ1c2ggPSBuZXcgZmFicmljLlBlbmNpbEJydXNoKGNhbnZhcyk7XHJcbiAgICAgICAgY2FudmFzLmZyZWVEcmF3aW5nQnJ1c2guY29sb3IgPSBkcmF3aW5nQ29sb3I7XHJcbiAgICAgICAgY2FudmFzLmZyZWVEcmF3aW5nQnJ1c2gud2lkdGggPSAzO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnaGlnaGxpZ2h0ZXInOlxyXG4gICAgICAgIGNhbnZhcy5pc0RyYXdpbmdNb2RlID0gdHJ1ZTtcclxuICAgICAgICBjYW52YXMuZnJlZURyYXdpbmdCcnVzaCA9IG5ldyBmYWJyaWMuUGVuY2lsQnJ1c2goY2FudmFzKTtcclxuICAgICAgICAvLyBDb252ZXJ0IGNvbG9yIHRvIHJnYmEgd2l0aCAzMCUgb3BhY2l0eVxyXG4gICAgICAgIGNvbnN0IGhleENvbG9yID0gZHJhd2luZ0NvbG9yO1xyXG4gICAgICAgIGNvbnN0IHIgPSBwYXJzZUludChoZXhDb2xvci5zbGljZSgxLCAzKSwgMTYpO1xyXG4gICAgICAgIGNvbnN0IGcgPSBwYXJzZUludChoZXhDb2xvci5zbGljZSgzLCA1KSwgMTYpO1xyXG4gICAgICAgIGNvbnN0IGIgPSBwYXJzZUludChoZXhDb2xvci5zbGljZSg1LCA3KSwgMTYpO1xyXG4gICAgICAgIGNhbnZhcy5mcmVlRHJhd2luZ0JydXNoLmNvbG9yID0gYHJnYmEoJHtyfSwgJHtnfSwgJHtifSwgMC4zKWA7XHJcbiAgICAgICAgY2FudmFzLmZyZWVEcmF3aW5nQnJ1c2gud2lkdGggPSAyMDtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgJ3RleHQnOlxyXG4gICAgICAgIC8vIFRleHQgbW9kZSBoYW5kbGVkIGJ5IGNsaWNrIGV2ZW50XHJcbiAgICAgICAgY2FudmFzLnNlbGVjdGlvbiA9IGZhbHNlO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAncmVjdGFuZ2xlJzpcclxuICAgICAgICAvLyBSZWN0YW5nbGUgbW9kZSBoYW5kbGVkIGJ5IG1vdXNlIGV2ZW50c1xyXG4gICAgICAgIGNhbnZhcy5zZWxlY3Rpb24gPSBmYWxzZTtcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICB9LCBbYWN0aXZlVG9vbCwgZHJhd2luZ0NvbG9yLCBtb2RlXSk7XHJcblxyXG4gIC8vIEhhbmRsZSBvYmplY3QgY3JlYXRpb24gKHNhdmUgYW5ub3RhdGlvbnMpXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGNhbnZhcyA9IGZhYnJpY0NhbnZhc1JlZi5jdXJyZW50O1xyXG4gICAgaWYgKCFjYW52YXMgfHwgbW9kZSA9PT0gJ3ZpZXcnKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgaGFuZGxlT2JqZWN0QWRkZWQgPSAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG9iamVjdHMgPSBjYW52YXMuZ2V0T2JqZWN0cygpO1xyXG4gICAgICBjb25zdCBuZXdBbm5vdGF0aW9uczogQW5ub3RhdGlvbltdID0gb2JqZWN0cy5tYXAoKG9iajogZmFicmljLk9iamVjdCwgaW5kZXg6IG51bWJlcikgPT4gKHtcclxuICAgICAgICBpZDogYGFubm90YXRpb24tJHtpbmRleH1gLFxyXG4gICAgICAgIHR5cGU6IG9iai50eXBlID09PSAncGF0aCcgPyAoYWN0aXZlVG9vbCA9PT0gJ2hpZ2hsaWdodGVyJyA/ICdoaWdobGlnaHQnIDogJ2ZyZWVoYW5kJykgOiAncmVjdGFuZ2xlJyxcclxuICAgICAgICBjb2xvcjogZHJhd2luZ0NvbG9yLFxyXG4gICAgICAgIGRhdGE6IG9iai50b0pTT04oKSxcclxuICAgICAgICBib3VuZHM6IHtcclxuICAgICAgICAgIHg6IG9iai5sZWZ0IHx8IDAsXHJcbiAgICAgICAgICB5OiBvYmoudG9wIHx8IDAsXHJcbiAgICAgICAgICB3aWR0aDogb2JqLndpZHRoIHx8IDAsXHJcbiAgICAgICAgICBoZWlnaHQ6IG9iai5oZWlnaHQgfHwgMCxcclxuICAgICAgICB9LFxyXG4gICAgICB9KSk7XHJcbiAgICAgIFxyXG4gICAgICBvbkFubm90YXRpb25zQ2hhbmdlKG5ld0Fubm90YXRpb25zKTtcclxuICAgIH07XHJcblxyXG4gICAgY2FudmFzLm9uKCdwYXRoOmNyZWF0ZWQnLCBoYW5kbGVPYmplY3RBZGRlZCk7XHJcbiAgICBjYW52YXMub24oJ29iamVjdDphZGRlZCcsIGhhbmRsZU9iamVjdEFkZGVkKTtcclxuICAgIGNhbnZhcy5vbignb2JqZWN0Om1vZGlmaWVkJywgaGFuZGxlT2JqZWN0QWRkZWQpO1xyXG4gICAgY2FudmFzLm9uKCdvYmplY3Q6cmVtb3ZlZCcsIGhhbmRsZU9iamVjdEFkZGVkKTtcclxuXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBjYW52YXMub2ZmKCdwYXRoOmNyZWF0ZWQnLCBoYW5kbGVPYmplY3RBZGRlZCk7XHJcbiAgICAgIGNhbnZhcy5vZmYoJ29iamVjdDphZGRlZCcsIGhhbmRsZU9iamVjdEFkZGVkKTtcclxuICAgICAgY2FudmFzLm9mZignb2JqZWN0Om1vZGlmaWVkJywgaGFuZGxlT2JqZWN0QWRkZWQpO1xyXG4gICAgICBjYW52YXMub2ZmKCdvYmplY3Q6cmVtb3ZlZCcsIGhhbmRsZU9iamVjdEFkZGVkKTtcclxuICAgIH07XHJcbiAgfSwgW21vZGUsIGFjdGl2ZVRvb2wsIGRyYXdpbmdDb2xvciwgb25Bbm5vdGF0aW9uc0NoYW5nZV0pO1xyXG5cclxuICAvLyBIYW5kbGUgdGV4dCBhbmQgcmVjdGFuZ2xlIHRvb2xzXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGNhbnZhcyA9IGZhYnJpY0NhbnZhc1JlZi5jdXJyZW50O1xyXG4gICAgaWYgKCFjYW52YXMgfHwgbW9kZSA9PT0gJ3ZpZXcnKSByZXR1cm47XHJcbiAgICBcclxuICAgIGlmIChhY3RpdmVUb29sID09PSAndGV4dCcpIHtcclxuICAgICAgY29uc3QgaGFuZGxlVGV4dENsaWNrID0gKGU6IGZhYnJpYy5URXZlbnQpID0+IHtcclxuICAgICAgICBjb25zdCBldnQgPSBlIGFzIGFueTtcclxuICAgICAgICBpZiAoIWV2dC5wb2ludGVyKSByZXR1cm47XHJcblxyXG4gICAgICAgIGNvbnN0IHRleHQgPSBuZXcgZmFicmljLklUZXh0KCdDbGljayB0byBlZGl0Jywge1xyXG4gICAgICAgICAgbGVmdDogZXZ0LnBvaW50ZXIueCxcclxuICAgICAgICAgIHRvcDogZXZ0LnBvaW50ZXIueSxcclxuICAgICAgICAgIGZpbGw6IGRyYXdpbmdDb2xvcixcclxuICAgICAgICAgIGZvbnRTaXplOiAyMCxcclxuICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNhbnZhcy5hZGQodGV4dCk7XHJcbiAgICAgICAgY2FudmFzLnNldEFjdGl2ZU9iamVjdCh0ZXh0KTtcclxuICAgICAgICB0ZXh0LmVudGVyRWRpdGluZygpO1xyXG4gICAgICAgIGNhbnZhcy5yZW5kZXJBbGwoKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNhbnZhcy5vbignbW91c2U6ZG93bicsIGhhbmRsZVRleHRDbGljayk7XHJcbiAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgY2FudmFzLm9mZignbW91c2U6ZG93bicsIGhhbmRsZVRleHRDbGljayk7XHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGFjdGl2ZVRvb2wgPT09ICdyZWN0YW5nbGUnKSB7XHJcbiAgICAgIGxldCBpc0RyYXdpbmcgPSBmYWxzZTtcclxuICAgICAgbGV0IHN0YXJ0WCA9IDA7XHJcbiAgICAgIGxldCBzdGFydFkgPSAwO1xyXG4gICAgICBsZXQgcmVjdDogZmFicmljLlJlY3QgfCBudWxsID0gbnVsbDtcclxuXHJcbiAgICAgIGNvbnN0IGhhbmRsZU1vdXNlRG93biA9IChlOiBmYWJyaWMuVEV2ZW50KSA9PiB7XHJcbiAgICAgICAgY29uc3QgZXZ0ID0gZSBhcyBhbnk7XHJcbiAgICAgICAgaWYgKCFldnQucG9pbnRlcikgcmV0dXJuO1xyXG5cclxuICAgICAgICBpc0RyYXdpbmcgPSB0cnVlO1xyXG4gICAgICAgIHN0YXJ0WCA9IGV2dC5wb2ludGVyLng7XHJcbiAgICAgICAgc3RhcnRZID0gZXZ0LnBvaW50ZXIueTtcclxuXHJcbiAgICAgICAgcmVjdCA9IG5ldyBmYWJyaWMuUmVjdCh7XHJcbiAgICAgICAgICBsZWZ0OiBzdGFydFgsXHJcbiAgICAgICAgICB0b3A6IHN0YXJ0WSxcclxuICAgICAgICAgIHdpZHRoOiAwLFxyXG4gICAgICAgICAgaGVpZ2h0OiAwLFxyXG4gICAgICAgICAgZmlsbDogJ3RyYW5zcGFyZW50JyxcclxuICAgICAgICAgIHN0cm9rZTogZHJhd2luZ0NvbG9yLFxyXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IDMsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNhbnZhcy5hZGQocmVjdCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCBoYW5kbGVNb3VzZU1vdmUgPSAoZTogZmFicmljLlRFdmVudCkgPT4ge1xyXG4gICAgICAgIGlmICghaXNEcmF3aW5nIHx8ICFyZWN0KSByZXR1cm47XHJcbiAgICAgICAgY29uc3QgZXZ0ID0gZSBhcyBhbnk7XHJcbiAgICAgICAgaWYgKCFldnQucG9pbnRlcikgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCB3aWR0aCA9IGV2dC5wb2ludGVyLnggLSBzdGFydFg7XHJcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gZXZ0LnBvaW50ZXIueSAtIHN0YXJ0WTtcclxuXHJcbiAgICAgICAgcmVjdC5zZXQoe1xyXG4gICAgICAgICAgd2lkdGg6IE1hdGguYWJzKHdpZHRoKSxcclxuICAgICAgICAgIGhlaWdodDogTWF0aC5hYnMoaGVpZ2h0KSxcclxuICAgICAgICAgIGxlZnQ6IHdpZHRoIDwgMCA/IGV2dC5wb2ludGVyLnggOiBzdGFydFgsXHJcbiAgICAgICAgICB0b3A6IGhlaWdodCA8IDAgPyBldnQucG9pbnRlci55IDogc3RhcnRZLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjYW52YXMucmVuZGVyQWxsKCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCBoYW5kbGVNb3VzZVVwID0gKCkgPT4ge1xyXG4gICAgICAgIGlzRHJhd2luZyA9IGZhbHNlO1xyXG4gICAgICAgIHJlY3QgPSBudWxsO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgY2FudmFzLm9uKCdtb3VzZTpkb3duJywgaGFuZGxlTW91c2VEb3duKTtcclxuICAgICAgY2FudmFzLm9uKCdtb3VzZTptb3ZlJywgaGFuZGxlTW91c2VNb3ZlKTtcclxuICAgICAgY2FudmFzLm9uKCdtb3VzZTp1cCcsIGhhbmRsZU1vdXNlVXApO1xyXG5cclxuICAgICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICBjYW52YXMub2ZmKCdtb3VzZTpkb3duJywgaGFuZGxlTW91c2VEb3duKTtcclxuICAgICAgICBjYW52YXMub2ZmKCdtb3VzZTptb3ZlJywgaGFuZGxlTW91c2VNb3ZlKTtcclxuICAgICAgICBjYW52YXMub2ZmKCdtb3VzZTp1cCcsIGhhbmRsZU1vdXNlVXApO1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gIH0sIFthY3RpdmVUb29sLCBkcmF3aW5nQ29sb3IsIG1vZGVdKTtcclxuXHJcbiAgLy8gQ2xlYXIgYWxsIGFubm90YXRpb25zXHJcbiAgY29uc3QgaGFuZGxlQ2xlYXIgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBjb25zdCBjYW52YXMgPSBmYWJyaWNDYW52YXNSZWYuY3VycmVudDtcclxuICAgIGlmICghY2FudmFzKSByZXR1cm47XHJcblxyXG4gICAgY29uc3Qgb2JqZWN0cyA9IGNhbnZhcy5nZXRPYmplY3RzKCk7XHJcbiAgICBvYmplY3RzLmZvckVhY2goKG9iaikgPT4gY2FudmFzLnJlbW92ZShvYmopKTtcclxuICAgIGNhbnZhcy5yZW5kZXJBbGwoKTtcclxuICAgIG9uQW5ub3RhdGlvbnNDaGFuZ2UoW10pO1xyXG4gIH0sIFtvbkFubm90YXRpb25zQ2hhbmdlXSk7XHJcblxyXG4gIC8vIERlbGV0ZSBzZWxlY3RlZCBvYmplY3RcclxuICBjb25zdCBoYW5kbGVEZWxldGUgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBjb25zdCBjYW52YXMgPSBmYWJyaWNDYW52YXNSZWYuY3VycmVudDtcclxuICAgIGlmICghY2FudmFzKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgYWN0aXZlT2JqZWN0ID0gY2FudmFzLmdldEFjdGl2ZU9iamVjdCgpO1xyXG4gICAgaWYgKGFjdGl2ZU9iamVjdCkge1xyXG4gICAgICBjYW52YXMucmVtb3ZlKGFjdGl2ZU9iamVjdCk7XHJcbiAgICAgIGNhbnZhcy5yZW5kZXJBbGwoKTtcclxuICAgIH1cclxuICB9LCBbXSk7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IHJlZj17Y29udGFpbmVyUmVmfSBjbGFzc05hbWU9XCJyZWxhdGl2ZSB3LWZ1bGwgaC1mdWxsIGZsZXggZmxleC1jb2xcIj5cclxuICAgICAgey8qIFRvb2xiYXIgKEVkaXQgTW9kZSBPbmx5KSAqL31cclxuICAgICAge21vZGUgPT09ICdlZGl0JyAmJiAoXHJcbiAgICAgICAgPGRpdlxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTQgbGVmdC0xLzIgLXRyYW5zbGF0ZS14LTEvMiB6LTEwIGZsZXggZ2FwLTIgcC0yIHJvdW5kZWQtbGcgc2hhZG93LWxnXCJcclxuICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOTUpJyxcclxuICAgICAgICAgICAgYmFja2Ryb3BGaWx0ZXI6ICdibHVyKDEwcHgpJyxcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgey8qIFRvb2wgQnV0dG9ucyAqL31cclxuICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0QWN0aXZlVG9vbCgnc2VsZWN0Jyl9XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT17YHAtMiBweC0zIHJvdW5kZWQgdHJhbnNpdGlvbi1jb2xvcnMgJHtcclxuICAgICAgICAgICAgICBhY3RpdmVUb29sID09PSAnc2VsZWN0JyA/ICdiZy1ibHVlLTUwMCB0ZXh0LXdoaXRlJyA6ICdiZy1ncmF5LTEwMCBob3ZlcjpiZy1ncmF5LTIwMCdcclxuICAgICAgICAgICAgfWB9XHJcbiAgICAgICAgICAgIHRpdGxlPVwiU2VsZWN0IChNb3ZlL1Jlc2l6ZSlcIlxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYXMgZmEtbW91c2UtcG9pbnRlclwiPjwvaT5cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG5cclxuICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0QWN0aXZlVG9vbCgncGVuJyl9XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT17YHAtMiBweC0zIHJvdW5kZWQgdHJhbnNpdGlvbi1jb2xvcnMgJHtcclxuICAgICAgICAgICAgICBhY3RpdmVUb29sID09PSAncGVuJyA/ICdiZy1ibHVlLTUwMCB0ZXh0LXdoaXRlJyA6ICdiZy1ncmF5LTEwMCBob3ZlcjpiZy1ncmF5LTIwMCdcclxuICAgICAgICAgICAgfWB9XHJcbiAgICAgICAgICAgIHRpdGxlPVwiRnJlZWhhbmQgUGVuXCJcclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmFzIGZhLXBlblwiPjwvaT5cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG5cclxuICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0QWN0aXZlVG9vbCgnaGlnaGxpZ2h0ZXInKX1cclxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgcC0yIHB4LTMgcm91bmRlZCB0cmFuc2l0aW9uLWNvbG9ycyAke1xyXG4gICAgICAgICAgICAgIGFjdGl2ZVRvb2wgPT09ICdoaWdobGlnaHRlcicgPyAnYmctYmx1ZS01MDAgdGV4dC13aGl0ZScgOiAnYmctZ3JheS0xMDAgaG92ZXI6YmctZ3JheS0yMDAnXHJcbiAgICAgICAgICAgIH1gfVxyXG4gICAgICAgICAgICB0aXRsZT1cIkhpZ2hsaWdodGVyXCJcclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmFzIGZhLWhpZ2hsaWdodGVyXCI+PC9pPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcblxyXG4gICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRBY3RpdmVUb29sKCd0ZXh0Jyl9XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT17YHAtMiBweC0zIHJvdW5kZWQgdHJhbnNpdGlvbi1jb2xvcnMgJHtcclxuICAgICAgICAgICAgICBhY3RpdmVUb29sID09PSAndGV4dCcgPyAnYmctYmx1ZS01MDAgdGV4dC13aGl0ZScgOiAnYmctZ3JheS0xMDAgaG92ZXI6YmctZ3JheS0yMDAnXHJcbiAgICAgICAgICAgIH1gfVxyXG4gICAgICAgICAgICB0aXRsZT1cIlRleHRcIlxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYXMgZmEtZm9udFwiPjwvaT5cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG5cclxuICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0QWN0aXZlVG9vbCgncmVjdGFuZ2xlJyl9XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT17YHAtMiBweC0zIHJvdW5kZWQgdHJhbnNpdGlvbi1jb2xvcnMgJHtcclxuICAgICAgICAgICAgICBhY3RpdmVUb29sID09PSAncmVjdGFuZ2xlJyA/ICdiZy1ibHVlLTUwMCB0ZXh0LXdoaXRlJyA6ICdiZy1ncmF5LTEwMCBob3ZlcjpiZy1ncmF5LTIwMCdcclxuICAgICAgICAgICAgfWB9XHJcbiAgICAgICAgICAgIHRpdGxlPVwiUmVjdGFuZ2xlXCJcclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmFyIGZhLXNxdWFyZVwiPjwvaT5cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1weCBiZy1ncmF5LTMwMFwiPjwvZGl2PlxyXG5cclxuICAgICAgICAgIHsvKiBDb2xvciBQaWNrZXIgKi99XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XHJcbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDBcIj5Db2xvcjo8L2xhYmVsPlxyXG4gICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICB0eXBlPVwiY29sb3JcIlxyXG4gICAgICAgICAgICAgIHZhbHVlPXtkcmF3aW5nQ29sb3J9XHJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXREcmF3aW5nQ29sb3IoZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMTAgaC04IHJvdW5kZWQgY3Vyc29yLXBvaW50ZXJcIlxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LXB4IGJnLWdyYXktMzAwXCI+PC9kaXY+XHJcblxyXG4gICAgICAgICAgey8qIEFjdGlvbnMgKi99XHJcbiAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZURlbGV0ZX1cclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicC0yIHB4LTMgcm91bmRlZCBiZy1vcmFuZ2UtMTAwIGhvdmVyOmJnLW9yYW5nZS0yMDAgdGV4dC1vcmFuZ2UtNzAwIHRyYW5zaXRpb24tY29sb3JzXCJcclxuICAgICAgICAgICAgdGl0bGU9XCJEZWxldGUgU2VsZWN0ZWQgKERlbGV0ZSBLZXkpXCJcclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmFzIGZhLWVyYXNlclwiPjwvaT5cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG5cclxuICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ2xlYXJ9XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtMiBweC0zIHJvdW5kZWQgYmctcmVkLTEwMCBob3ZlcjpiZy1yZWQtMjAwIHRleHQtcmVkLTcwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXHJcbiAgICAgICAgICAgIHRpdGxlPVwiQ2xlYXIgQWxsIEFubm90YXRpb25zXCJcclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmFzIGZhLXRyYXNoXCI+PC9pPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICl9XHJcblxyXG4gICAgICB7LyogQ2FudmFzICovfVxyXG4gICAgICA8Y2FudmFzIHJlZj17Y2FudmFzUmVmfSBjbGFzc05hbWU9XCJtYXgtdy1mdWxsIG1heC1oLWZ1bGxcIiAvPlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufSk7XHJcblxyXG4iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsInVzZUNhbGxiYWNrIiwiZmFicmljIiwiZ2V0QXBpQmFzZVVybCIsIkltYWdlQW5ub3RhdGlvbkVkaXRvciIsImZvcndhcmRSZWYiLCJtZWRpYUZvcm1hdCIsIm1vZGUiLCJhbm5vdGF0aW9ucyIsIm9uQW5ub3RhdGlvbnNDaGFuZ2UiLCJyZWYiLCJjYW52YXNSZWYiLCJmYWJyaWNDYW52YXNSZWYiLCJjb250YWluZXJSZWYiLCJhY3RpdmVUb29sIiwic2V0QWN0aXZlVG9vbCIsImRyYXdpbmdDb2xvciIsInNldERyYXdpbmdDb2xvciIsInVzZUltcGVyYXRpdmVIYW5kbGUiLCJnZXRBbm5vdGF0ZWREYXRhVVJMIiwiY3VycmVudCIsIm9yaWdpbmFsVmlld3BvcnQiLCJ2aWV3cG9ydFRyYW5zZm9ybSIsIm9yaWdpbmFsV2lkdGgiLCJ3aWR0aCIsIm9yaWdpbmFsSGVpZ2h0IiwiaGVpZ2h0IiwiYmdJbWFnZSIsImJhY2tncm91bmRJbWFnZSIsInRvRGF0YVVSTCIsImZvcm1hdCIsInF1YWxpdHkiLCJlbmFibGVSZXRpbmFTY2FsaW5nIiwibXVsdGlwbGllciIsImdldEZpbGVJZCIsIm1ldGFkYXRhIiwiZmlsZV9pZCIsImRhdGFfdHlwZSIsInBhdGgiLCJkYXRhIiwidXVpZE1hdGNoIiwibWF0Y2giLCJjYW52YXMiLCJDYW52YXMiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsImJhY2tncm91bmRDb2xvciIsInNlbGVjdGlvbiIsImlzRHJhd2luZ01vZGUiLCJmaWxlSWQiLCJpbWFnZVVybCIsIkZhYnJpY0ltYWdlIiwiZnJvbVVSTCIsImNyb3NzT3JpZ2luIiwidGhlbiIsImltZyIsInNjYWxlIiwiTWF0aCIsIm1pbiIsInNldCIsImxlZnQiLCJ0b3AiLCJzZWxlY3RhYmxlIiwiZXZlbnRlZCIsInJlbmRlckFsbCIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwidGV4dCIsIlRleHQiLCJtZXNzYWdlIiwib3JpZ2luWCIsIm9yaWdpblkiLCJmaWxsIiwiZm9udFNpemUiLCJ0ZXh0QWxpZ24iLCJhZGQiLCJsZW5ndGgiLCJmb3JFYWNoIiwiYW5ub3RhdGlvbiIsInV0aWwiLCJlbmxpdmVuT2JqZWN0cyIsIm9iamVjdHMiLCJvYmoiLCJkaXNwb3NlIiwiZnJlZURyYXdpbmdCcnVzaCIsIlBlbmNpbEJydXNoIiwiY29sb3IiLCJoZXhDb2xvciIsInIiLCJwYXJzZUludCIsInNsaWNlIiwiZyIsImIiLCJoYW5kbGVPYmplY3RBZGRlZCIsImdldE9iamVjdHMiLCJuZXdBbm5vdGF0aW9ucyIsIm1hcCIsImluZGV4IiwiaWQiLCJ0eXBlIiwidG9KU09OIiwiYm91bmRzIiwieCIsInkiLCJvbiIsIm9mZiIsImhhbmRsZVRleHRDbGljayIsImUiLCJldnQiLCJwb2ludGVyIiwiSVRleHQiLCJmb250RmFtaWx5Iiwic2V0QWN0aXZlT2JqZWN0IiwiZW50ZXJFZGl0aW5nIiwiaXNEcmF3aW5nIiwic3RhcnRYIiwic3RhcnRZIiwicmVjdCIsImhhbmRsZU1vdXNlRG93biIsIlJlY3QiLCJzdHJva2UiLCJzdHJva2VXaWR0aCIsImhhbmRsZU1vdXNlTW92ZSIsImFicyIsImhhbmRsZU1vdXNlVXAiLCJoYW5kbGVDbGVhciIsInJlbW92ZSIsImhhbmRsZURlbGV0ZSIsImFjdGl2ZU9iamVjdCIsImdldEFjdGl2ZU9iamVjdCIsImRpdiIsImNsYXNzTmFtZSIsInN0eWxlIiwiYmFja2dyb3VuZCIsImJhY2tkcm9wRmlsdGVyIiwiYnV0dG9uIiwib25DbGljayIsInRpdGxlIiwiaSIsImxhYmVsIiwiaW5wdXQiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwidGFyZ2V0Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/ImageAnnotationEditor.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/MediaFullScreenModal.tsx":
/*!*************************************************!*\
  !*** ./src/components/MediaFullScreenModal.tsx ***!
  \*************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MediaFullScreenModal: () => (/* binding */ MediaFullScreenModal)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/index.js\");\n/* harmony import */ var _ImageAnnotationEditor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ImageAnnotationEditor */ \"(app-pages-browser)/./src/components/ImageAnnotationEditor.tsx\");\n/* harmony import */ var _DocumentAnnotationEditor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./DocumentAnnotationEditor */ \"(app-pages-browser)/./src/components/DocumentAnnotationEditor.tsx\");\n/**\r\n * Media Full Screen Modal\r\n * \r\n * Full-screen modal for viewing and editing media (images, PDFs).\r\n * \r\n * Modes:\r\n * - 'view': Read-only viewing with zoom/pan\r\n * - 'edit': Annotation mode with drawing tools (freehand, highlighter, text)\r\n * \r\n * Features:\r\n * - ESC to close\r\n * - Click backdrop to close\r\n * - Navigation for arrays of media\r\n * - Download button\r\n * - Annotation saving (edit mode)\r\n */ \nvar _s = $RefreshSig$();\n\n\n\n\nfunction MediaFullScreenModal({ isOpen, onClose, mediaData, mode, initialIndex = 0, existingAnnotations = [], onSave }) {\n    _s();\n    const [currentIndex, setCurrentIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialIndex);\n    const [annotations, setAnnotations] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(existingAnnotations);\n    const imageEditorRef = react__WEBPACK_IMPORTED_MODULE_1___default().useRef(null);\n    const mediaArray = Array.isArray(mediaData) ? mediaData : [\n        mediaData\n    ];\n    const currentMedia = mediaArray[currentIndex];\n    const hasMultiple = mediaArray.length > 1;\n    // Reset state when modal opens/closes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MediaFullScreenModal.useEffect\": ()=>{\n            if (isOpen) {\n                setCurrentIndex(initialIndex);\n                setAnnotations(existingAnnotations);\n            }\n        }\n    }[\"MediaFullScreenModal.useEffect\"], [\n        isOpen\n    ]); // Only depend on isOpen to avoid infinite loops\n    // ESC key to close\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MediaFullScreenModal.useEffect\": ()=>{\n            const handleEscape = {\n                \"MediaFullScreenModal.useEffect.handleEscape\": (e)=>{\n                    if (e.key === 'Escape' && isOpen) {\n                        onClose();\n                    }\n                }\n            }[\"MediaFullScreenModal.useEffect.handleEscape\"];\n            window.addEventListener('keydown', handleEscape);\n            return ({\n                \"MediaFullScreenModal.useEffect\": ()=>window.removeEventListener('keydown', handleEscape)\n            })[\"MediaFullScreenModal.useEffect\"];\n        }\n    }[\"MediaFullScreenModal.useEffect\"], [\n        isOpen,\n        onClose\n    ]);\n    const handlePrevious = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"MediaFullScreenModal.useCallback[handlePrevious]\": ()=>{\n            setCurrentIndex({\n                \"MediaFullScreenModal.useCallback[handlePrevious]\": (prev)=>prev > 0 ? prev - 1 : mediaArray.length - 1\n            }[\"MediaFullScreenModal.useCallback[handlePrevious]\"]);\n        }\n    }[\"MediaFullScreenModal.useCallback[handlePrevious]\"], [\n        mediaArray.length\n    ]);\n    const handleNext = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"MediaFullScreenModal.useCallback[handleNext]\": ()=>{\n            setCurrentIndex({\n                \"MediaFullScreenModal.useCallback[handleNext]\": (prev)=>prev < mediaArray.length - 1 ? prev + 1 : 0\n            }[\"MediaFullScreenModal.useCallback[handleNext]\"]);\n        }\n    }[\"MediaFullScreenModal.useCallback[handleNext]\"], [\n        mediaArray.length\n    ]);\n    const handleSave = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"MediaFullScreenModal.useCallback[handleSave]\": ()=>{\n            if (onSave) {\n                // If it's an image, we might want to save the annotated file\n                if (currentMedia.type === 'image' && imageEditorRef.current) {\n                    const dataUrl = imageEditorRef.current.getAnnotatedDataURL();\n                    console.log('Generated annotated image data URL (length):', dataUrl.length);\n                // Ideally we would pass this back too, but for now we save the annotations\n                // You could extend the onSave callback to accept the file data\n                }\n                onSave(annotations);\n            }\n            onClose();\n        }\n    }[\"MediaFullScreenModal.useCallback[handleSave]\"], [\n        annotations,\n        onSave,\n        onClose,\n        currentMedia.type\n    ]);\n    const handleAnnotationsChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"MediaFullScreenModal.useCallback[handleAnnotationsChange]\": (newAnnotations)=>{\n            setAnnotations({\n                \"MediaFullScreenModal.useCallback[handleAnnotationsChange]\": (prev)=>{\n                    const updated = [\n                        ...prev\n                    ];\n                    updated[currentIndex] = {\n                        page: currentIndex + 1,\n                        annotations: newAnnotations\n                    };\n                    return updated;\n                }\n            }[\"MediaFullScreenModal.useCallback[handleAnnotationsChange]\"]);\n        }\n    }[\"MediaFullScreenModal.useCallback[handleAnnotationsChange]\"], [\n        currentIndex\n    ]);\n    if (!isOpen) return null;\n    const modalContent = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 z-[9999] flex items-center justify-center\",\n        style: {\n            background: 'rgba(0, 0, 0, 0.95)'\n        },\n        onClick: (e)=>{\n            // Close on backdrop click\n            if (e.target === e.currentTarget) {\n                onClose();\n            }\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: onClose,\n                className: \"absolute top-4 right-4 z-10 p-3 rounded-full transition-colors\",\n                style: {\n                    background: 'rgba(255, 255, 255, 0.1)',\n                    color: 'white'\n                },\n                onMouseEnter: (e)=>{\n                    e.currentTarget.style.background = 'rgba(255, 255, 255, 0.2)';\n                },\n                onMouseLeave: (e)=>{\n                    e.currentTarget.style.background = 'rgba(255, 255, 255, 0.1)';\n                },\n                title: \"Close (ESC)\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                    className: \"fas fa-times text-xl\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaFullScreenModal.tsx\",\n                    lineNumber: 157,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaFullScreenModal.tsx\",\n                lineNumber: 142,\n                columnNumber: 7\n            }, this),\n            hasMultiple && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: handlePrevious,\n                className: \"absolute left-4 top-1/2 -translate-y-1/2 z-10 p-3 rounded-full transition-colors\",\n                style: {\n                    background: 'rgba(255, 255, 255, 0.1)',\n                    color: 'white'\n                },\n                onMouseEnter: (e)=>{\n                    e.currentTarget.style.background = 'rgba(255, 255, 255, 0.2)';\n                },\n                onMouseLeave: (e)=>{\n                    e.currentTarget.style.background = 'rgba(255, 255, 255, 0.1)';\n                },\n                title: \"Previous\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                    className: \"fas fa-chevron-left text-xl\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaFullScreenModal.tsx\",\n                    lineNumber: 177,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaFullScreenModal.tsx\",\n                lineNumber: 162,\n                columnNumber: 9\n            }, this),\n            hasMultiple && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: handleNext,\n                className: \"absolute right-4 top-1/2 -translate-y-1/2 z-10 p-3 rounded-full transition-colors\",\n                style: {\n                    background: 'rgba(255, 255, 255, 0.1)',\n                    color: 'white'\n                },\n                onMouseEnter: (e)=>{\n                    e.currentTarget.style.background = 'rgba(255, 255, 255, 0.2)';\n                },\n                onMouseLeave: (e)=>{\n                    e.currentTarget.style.background = 'rgba(255, 255, 255, 0.1)';\n                },\n                title: \"Next\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                    className: \"fas fa-chevron-right text-xl\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaFullScreenModal.tsx\",\n                    lineNumber: 198,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaFullScreenModal.tsx\",\n                lineNumber: 183,\n                columnNumber: 9\n            }, this),\n            hasMultiple && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute top-4 left-1/2 -translate-x-1/2 px-4 py-2 rounded-full text-sm\",\n                style: {\n                    background: 'rgba(255, 255, 255, 0.1)',\n                    color: 'white'\n                },\n                children: [\n                    currentIndex + 1,\n                    \" / \",\n                    mediaArray.length\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaFullScreenModal.tsx\",\n                lineNumber: 204,\n                columnNumber: 9\n            }, this),\n            mode === 'edit' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: handleSave,\n                className: \"absolute bottom-4 right-4 z-10 px-6 py-3 rounded-lg transition-colors font-medium\",\n                style: {\n                    background: 'var(--theme-primary)',\n                    color: 'white'\n                },\n                onMouseEnter: (e)=>{\n                    e.currentTarget.style.opacity = '0.9';\n                },\n                onMouseLeave: (e)=>{\n                    e.currentTarget.style.opacity = '1';\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                        className: \"fas fa-save mr-2\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaFullScreenModal.tsx\",\n                        lineNumber: 231,\n                        columnNumber: 11\n                    }, this),\n                    \"Save Annotations\"\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaFullScreenModal.tsx\",\n                lineNumber: 217,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-full h-full flex items-center justify-center p-8\",\n                children: currentMedia.type === 'image' ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ImageAnnotationEditor__WEBPACK_IMPORTED_MODULE_3__.ImageAnnotationEditor, {\n                    ref: imageEditorRef,\n                    mediaFormat: currentMedia,\n                    mode: mode,\n                    annotations: annotations[currentIndex]?.annotations || [],\n                    onAnnotationsChange: handleAnnotationsChange\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaFullScreenModal.tsx\",\n                    lineNumber: 239,\n                    columnNumber: 11\n                }, this) : currentMedia.type === 'document' ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_DocumentAnnotationEditor__WEBPACK_IMPORTED_MODULE_4__.DocumentAnnotationEditor, {\n                    mediaFormat: currentMedia,\n                    mode: mode,\n                    annotations: annotations[currentIndex]?.annotations || [],\n                    onAnnotationsChange: handleAnnotationsChange\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaFullScreenModal.tsx\",\n                    lineNumber: 247,\n                    columnNumber: 11\n                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-white text-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-lg mb-2\",\n                            children: [\n                                \"Unsupported media type: \",\n                                currentMedia.type\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaFullScreenModal.tsx\",\n                            lineNumber: 255,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-sm opacity-75\",\n                            children: \"Only images and documents are supported for now\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaFullScreenModal.tsx\",\n                            lineNumber: 256,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaFullScreenModal.tsx\",\n                    lineNumber: 254,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaFullScreenModal.tsx\",\n                lineNumber: 237,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaFullScreenModal.tsx\",\n        lineNumber: 131,\n        columnNumber: 5\n    }, this);\n    // Use portal to render at document body level\n    return /*#__PURE__*/ (0,react_dom__WEBPACK_IMPORTED_MODULE_2__.createPortal)(modalContent, document.body);\n}\n_s(MediaFullScreenModal, \"Xs+G0ijNzyUf/333Dm2vVSqw/7w=\");\n_c = MediaFullScreenModal;\nvar _c;\n$RefreshReg$(_c, \"MediaFullScreenModal\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL01lZGlhRnVsbFNjcmVlbk1vZGFsLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7OztDQWVDOztBQUUrRDtBQUN2QjtBQUNpRDtBQUNwQjtBQW1DL0QsU0FBU08scUJBQXFCLEVBQ25DQyxNQUFNLEVBQ05DLE9BQU8sRUFDUEMsU0FBUyxFQUNUQyxJQUFJLEVBQ0pDLGVBQWUsQ0FBQyxFQUNoQkMsc0JBQXNCLEVBQUUsRUFDeEJDLE1BQU0sRUFDb0I7O0lBQzFCLE1BQU0sQ0FBQ0MsY0FBY0MsZ0JBQWdCLEdBQUdmLCtDQUFRQSxDQUFDVztJQUNqRCxNQUFNLENBQUNLLGFBQWFDLGVBQWUsR0FBR2pCLCtDQUFRQSxDQUFtQlk7SUFFakUsTUFBTU0saUJBQWlCbkIsbURBQVksQ0FBMkI7SUFFOUQsTUFBTXFCLGFBQWFDLE1BQU1DLE9BQU8sQ0FBQ2IsYUFBYUEsWUFBWTtRQUFDQTtLQUFVO0lBQ3JFLE1BQU1jLGVBQWVILFVBQVUsQ0FBQ04sYUFBYTtJQUM3QyxNQUFNVSxjQUFjSixXQUFXSyxNQUFNLEdBQUc7SUFFeEMsc0NBQXNDO0lBQ3RDeEIsZ0RBQVNBOzBDQUFDO1lBQ1IsSUFBSU0sUUFBUTtnQkFDVlEsZ0JBQWdCSjtnQkFDaEJNLGVBQWVMO1lBQ2pCO1FBQ0Y7eUNBQUc7UUFBQ0w7S0FBTyxHQUFHLGdEQUFnRDtJQUU5RCxtQkFBbUI7SUFDbkJOLGdEQUFTQTswQ0FBQztZQUNSLE1BQU15QjsrREFBZSxDQUFDQztvQkFDcEIsSUFBSUEsRUFBRUMsR0FBRyxLQUFLLFlBQVlyQixRQUFRO3dCQUNoQ0M7b0JBQ0Y7Z0JBQ0Y7O1lBRUFxQixPQUFPQyxnQkFBZ0IsQ0FBQyxXQUFXSjtZQUNuQztrREFBTyxJQUFNRyxPQUFPRSxtQkFBbUIsQ0FBQyxXQUFXTDs7UUFDckQ7eUNBQUc7UUFBQ25CO1FBQVFDO0tBQVE7SUFFcEIsTUFBTXdCLGlCQUFpQjlCLGtEQUFX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LGNBQWNtQixTQUFTQyxJQUFJO0FBQ2pEO0dBak5nQjVEO0tBQUFBIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXG5pY2hvbGFzLmxlZVxcRG9jdW1lbnRzXFx6XFxUaWNrZXRpbmdfTmlja1xcVGlja2V0aW5nXFx0YXZfb3BlbnNvdXJjZVxcdWlcXHNyY1xcY29tcG9uZW50c1xcTWVkaWFGdWxsU2NyZWVuTW9kYWwudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBNZWRpYSBGdWxsIFNjcmVlbiBNb2RhbFxyXG4gKiBcclxuICogRnVsbC1zY3JlZW4gbW9kYWwgZm9yIHZpZXdpbmcgYW5kIGVkaXRpbmcgbWVkaWEgKGltYWdlcywgUERGcykuXHJcbiAqIFxyXG4gKiBNb2RlczpcclxuICogLSAndmlldyc6IFJlYWQtb25seSB2aWV3aW5nIHdpdGggem9vbS9wYW5cclxuICogLSAnZWRpdCc6IEFubm90YXRpb24gbW9kZSB3aXRoIGRyYXdpbmcgdG9vbHMgKGZyZWVoYW5kLCBoaWdobGlnaHRlciwgdGV4dClcclxuICogXHJcbiAqIEZlYXR1cmVzOlxyXG4gKiAtIEVTQyB0byBjbG9zZVxyXG4gKiAtIENsaWNrIGJhY2tkcm9wIHRvIGNsb3NlXHJcbiAqIC0gTmF2aWdhdGlvbiBmb3IgYXJyYXlzIG9mIG1lZGlhXHJcbiAqIC0gRG93bmxvYWQgYnV0dG9uXHJcbiAqIC0gQW5ub3RhdGlvbiBzYXZpbmcgKGVkaXQgbW9kZSlcclxuICovXHJcblxyXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IGNyZWF0ZVBvcnRhbCB9IGZyb20gJ3JlYWN0LWRvbSc7XHJcbmltcG9ydCB7IEltYWdlQW5ub3RhdGlvbkVkaXRvciwgSW1hZ2VBbm5vdGF0aW9uRWRpdG9yUmVmIH0gZnJvbSAnLi9JbWFnZUFubm90YXRpb25FZGl0b3InO1xyXG5pbXBvcnQgeyBEb2N1bWVudEFubm90YXRpb25FZGl0b3IgfSBmcm9tICcuL0RvY3VtZW50QW5ub3RhdGlvbkVkaXRvcic7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE1lZGlhRm9ybWF0IHtcclxuICB0eXBlOiAnaW1hZ2UnIHwgJ2F1ZGlvJyB8ICd2aWRlbycgfCAnZG9jdW1lbnQnO1xyXG4gIGZvcm1hdDogc3RyaW5nO1xyXG4gIGRhdGE6IHN0cmluZztcclxuICBkYXRhX3R5cGU6ICdiYXNlNjQnIHwgJ3VybCcgfCAnZmlsZV9wYXRoJztcclxuICBtZXRhZGF0YT86IFJlY29yZDxzdHJpbmcsIGFueT47XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQW5ub3RhdGlvbiB7XHJcbiAgaWQ6IHN0cmluZztcclxuICB0eXBlOiAnZnJlZWhhbmQnIHwgJ2hpZ2hsaWdodCcgfCAndGV4dCcgfCAncmVjdGFuZ2xlJztcclxuICBjb2xvcjogc3RyaW5nO1xyXG4gIGRhdGE6IGFueTsgLy8gRmFicmljLmpzIG9iamVjdCBkYXRhXHJcbiAgYm91bmRzPzogeyB4OiBudW1iZXI7IHk6IG51bWJlcjsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXIgfTtcclxuICBsYWJlbD86IHN0cmluZzsgLy8gRm9yIEFJIHByb2Nlc3NpbmdcclxuICBpbnN0cnVjdGlvbj86IHN0cmluZzsgLy8gRm9yIEFJIHByb2Nlc3NpbmdcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBBbm5vdGF0aW9uRGF0YSB7XHJcbiAgcGFnZT86IG51bWJlcjtcclxuICBhbm5vdGF0aW9uczogQW5ub3RhdGlvbltdO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgTWVkaWFGdWxsU2NyZWVuTW9kYWxQcm9wcyB7XHJcbiAgaXNPcGVuOiBib29sZWFuO1xyXG4gIG9uQ2xvc2U6ICgpID0+IHZvaWQ7XHJcbiAgbWVkaWFEYXRhOiBNZWRpYUZvcm1hdCB8IE1lZGlhRm9ybWF0W107XHJcbiAgbW9kZTogJ3ZpZXcnIHwgJ2VkaXQnO1xyXG4gIGluaXRpYWxJbmRleD86IG51bWJlcjtcclxuICBleGlzdGluZ0Fubm90YXRpb25zPzogQW5ub3RhdGlvbkRhdGFbXTtcclxuICBvblNhdmU/OiAoYW5ub3RhdGlvbnM6IEFubm90YXRpb25EYXRhW10pID0+IHZvaWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBNZWRpYUZ1bGxTY3JlZW5Nb2RhbCh7XHJcbiAgaXNPcGVuLFxyXG4gIG9uQ2xvc2UsXHJcbiAgbWVkaWFEYXRhLFxyXG4gIG1vZGUsXHJcbiAgaW5pdGlhbEluZGV4ID0gMCxcclxuICBleGlzdGluZ0Fubm90YXRpb25zID0gW10sXHJcbiAgb25TYXZlLFxyXG59OiBNZWRpYUZ1bGxTY3JlZW5Nb2RhbFByb3BzKSB7XHJcbiAgY29uc3QgW2N1cnJlbnRJbmRleCwgc2V0Q3VycmVudEluZGV4XSA9IHVzZVN0YXRlKGluaXRpYWxJbmRleCk7XHJcbiAgY29uc3QgW2Fubm90YXRpb25zLCBzZXRBbm5vdGF0aW9uc10gPSB1c2VTdGF0ZTxBbm5vdGF0aW9uRGF0YVtdPihleGlzdGluZ0Fubm90YXRpb25zKTtcclxuICBcclxuICBjb25zdCBpbWFnZUVkaXRvclJlZiA9IFJlYWN0LnVzZVJlZjxJbWFnZUFubm90YXRpb25FZGl0b3JSZWY+KG51bGwpO1xyXG4gIFxyXG4gIGNvbnN0IG1lZGlhQXJyYXkgPSBBcnJheS5pc0FycmF5KG1lZGlhRGF0YSkgPyBtZWRpYURhdGEgOiBbbWVkaWFEYXRhXTtcclxuICBjb25zdCBjdXJyZW50TWVkaWEgPSBtZWRpYUFycmF5W2N1cnJlbnRJbmRleF07XHJcbiAgY29uc3QgaGFzTXVsdGlwbGUgPSBtZWRpYUFycmF5Lmxlbmd0aCA+IDE7XHJcblxyXG4gIC8vIFJlc2V0IHN0YXRlIHdoZW4gbW9kYWwgb3BlbnMvY2xvc2VzXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChpc09wZW4pIHtcclxuICAgICAgc2V0Q3VycmVudEluZGV4KGluaXRpYWxJbmRleCk7XHJcbiAgICAgIHNldEFubm90YXRpb25zKGV4aXN0aW5nQW5ub3RhdGlvbnMpO1xyXG4gICAgfVxyXG4gIH0sIFtpc09wZW5dKTsgLy8gT25seSBkZXBlbmQgb24gaXNPcGVuIHRvIGF2b2lkIGluZmluaXRlIGxvb3BzXHJcblxyXG4gIC8vIEVTQyBrZXkgdG8gY2xvc2VcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgaGFuZGxlRXNjYXBlID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcclxuICAgICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJyAmJiBpc09wZW4pIHtcclxuICAgICAgICBvbkNsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVFc2NhcGUpO1xyXG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlRXNjYXBlKTtcclxuICB9LCBbaXNPcGVuLCBvbkNsb3NlXSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZVByZXZpb3VzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgc2V0Q3VycmVudEluZGV4KChwcmV2KSA9PiAocHJldiA+IDAgPyBwcmV2IC0gMSA6IG1lZGlhQXJyYXkubGVuZ3RoIC0gMSkpO1xyXG4gIH0sIFttZWRpYUFycmF5Lmxlbmd0aF0pO1xyXG5cclxuICBjb25zdCBoYW5kbGVOZXh0ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgc2V0Q3VycmVudEluZGV4KChwcmV2KSA9PiAocHJldiA8IG1lZGlhQXJyYXkubGVuZ3RoIC0gMSA/IHByZXYgKyAxIDogMCkpO1xyXG4gIH0sIFttZWRpYUFycmF5Lmxlbmd0aF0pO1xyXG5cclxuICBjb25zdCBoYW5kbGVTYXZlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgaWYgKG9uU2F2ZSkge1xyXG4gICAgICAvLyBJZiBpdCdzIGFuIGltYWdlLCB3ZSBtaWdodCB3YW50IHRvIHNhdmUgdGhlIGFubm90YXRlZCBmaWxlXHJcbiAgICAgIGlmIChjdXJyZW50TWVkaWEudHlwZSA9PT0gJ2ltYWdlJyAmJiBpbWFnZUVkaXRvclJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgY29uc3QgZGF0YVVybCA9IGltYWdlRWRpdG9yUmVmLmN1cnJlbnQuZ2V0QW5ub3RhdGVkRGF0YVVSTCgpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdHZW5lcmF0ZWQgYW5ub3RhdGVkIGltYWdlIGRhdGEgVVJMIChsZW5ndGgpOicsIGRhdGFVcmwubGVuZ3RoKTtcclxuICAgICAgICAvLyBJZGVhbGx5IHdlIHdvdWxkIHBhc3MgdGhpcyBiYWNrIHRvbywgYnV0IGZvciBub3cgd2Ugc2F2ZSB0aGUgYW5ub3RhdGlvbnNcclxuICAgICAgICAvLyBZb3UgY291bGQgZXh0ZW5kIHRoZSBvblNhdmUgY2FsbGJhY2sgdG8gYWNjZXB0IHRoZSBmaWxlIGRhdGFcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgb25TYXZlKGFubm90YXRpb25zKTtcclxuICAgIH1cclxuICAgIG9uQ2xvc2UoKTtcclxuICB9LCBbYW5ub3RhdGlvbnMsIG9uU2F2ZSwgb25DbG9zZSwgY3VycmVudE1lZGlhLnR5cGVdKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlQW5ub3RhdGlvbnNDaGFuZ2UgPSB1c2VDYWxsYmFjaygobmV3QW5ub3RhdGlvbnM6IEFubm90YXRpb25bXSkgPT4ge1xyXG4gICAgc2V0QW5ub3RhdGlvbnMoKHByZXYpID0+IHtcclxuICAgICAgY29uc3QgdXBkYXRlZCA9IFsuLi5wcmV2XTtcclxuICAgICAgdXBkYXRlZFtjdXJyZW50SW5kZXhdID0ge1xyXG4gICAgICAgIHBhZ2U6IGN1cnJlbnRJbmRleCArIDEsXHJcbiAgICAgICAgYW5ub3RhdGlvbnM6IG5ld0Fubm90YXRpb25zLFxyXG4gICAgICB9O1xyXG4gICAgICByZXR1cm4gdXBkYXRlZDtcclxuICAgIH0pO1xyXG4gIH0sIFtjdXJyZW50SW5kZXhdKTtcclxuXHJcbiAgaWYgKCFpc09wZW4pIHJldHVybiBudWxsO1xyXG5cclxuICBjb25zdCBtb2RhbENvbnRlbnQgPSAoXHJcbiAgICA8ZGl2XHJcbiAgICAgIGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgei1bOTk5OV0gZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIlxyXG4gICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kOiAncmdiYSgwLCAwLCAwLCAwLjk1KScgfX1cclxuICAgICAgb25DbGljaz17KGUpID0+IHtcclxuICAgICAgICAvLyBDbG9zZSBvbiBiYWNrZHJvcCBjbGlja1xyXG4gICAgICAgIGlmIChlLnRhcmdldCA9PT0gZS5jdXJyZW50VGFyZ2V0KSB7XHJcbiAgICAgICAgICBvbkNsb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9fVxyXG4gICAgPlxyXG4gICAgICB7LyogQ2xvc2UgQnV0dG9uICovfVxyXG4gICAgICA8YnV0dG9uXHJcbiAgICAgICAgb25DbGljaz17b25DbG9zZX1cclxuICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtNCByaWdodC00IHotMTAgcC0zIHJvdW5kZWQtZnVsbCB0cmFuc2l0aW9uLWNvbG9yc1wiXHJcbiAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgIGJhY2tncm91bmQ6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSknLFxyXG4gICAgICAgICAgY29sb3I6ICd3aGl0ZScsXHJcbiAgICAgICAgfX1cclxuICAgICAgICBvbk1vdXNlRW50ZXI9eyhlKSA9PiB7XHJcbiAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZCA9ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiknO1xyXG4gICAgICAgIH19XHJcbiAgICAgICAgb25Nb3VzZUxlYXZlPXsoZSkgPT4ge1xyXG4gICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpJztcclxuICAgICAgICB9fVxyXG4gICAgICAgIHRpdGxlPVwiQ2xvc2UgKEVTQylcIlxyXG4gICAgICA+XHJcbiAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmFzIGZhLXRpbWVzIHRleHQteGxcIj48L2k+XHJcbiAgICAgIDwvYnV0dG9uPlxyXG5cclxuICAgICAgey8qIE5hdmlnYXRpb24gLSBQcmV2aW91cyAqL31cclxuICAgICAge2hhc011bHRpcGxlICYmIChcclxuICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVQcmV2aW91c31cclxuICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIGxlZnQtNCB0b3AtMS8yIC10cmFuc2xhdGUteS0xLzIgei0xMCBwLTMgcm91bmRlZC1mdWxsIHRyYW5zaXRpb24tY29sb3JzXCJcclxuICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSknLFxyXG4gICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgICBvbk1vdXNlRW50ZXI9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSc7XHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgICAgb25Nb3VzZUxlYXZlPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZCA9ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSknO1xyXG4gICAgICAgICAgfX1cclxuICAgICAgICAgIHRpdGxlPVwiUHJldmlvdXNcIlxyXG4gICAgICAgID5cclxuICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1jaGV2cm9uLWxlZnQgdGV4dC14bFwiPjwvaT5cclxuICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgKX1cclxuXHJcbiAgICAgIHsvKiBOYXZpZ2F0aW9uIC0gTmV4dCAqL31cclxuICAgICAge2hhc011bHRpcGxlICYmIChcclxuICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVOZXh0fVxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgcmlnaHQtNCB0b3AtMS8yIC10cmFuc2xhdGUteS0xLzIgei0xMCBwLTMgcm91bmRlZC1mdWxsIHRyYW5zaXRpb24tY29sb3JzXCJcclxuICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSknLFxyXG4gICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgICBvbk1vdXNlRW50ZXI9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSc7XHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgICAgb25Nb3VzZUxlYXZlPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZCA9ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSknO1xyXG4gICAgICAgICAgfX1cclxuICAgICAgICAgIHRpdGxlPVwiTmV4dFwiXHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmFzIGZhLWNoZXZyb24tcmlnaHQgdGV4dC14bFwiPjwvaT5cclxuICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgKX1cclxuXHJcbiAgICAgIHsvKiBDb3VudGVyICovfVxyXG4gICAgICB7aGFzTXVsdGlwbGUgJiYgKFxyXG4gICAgICAgIDxkaXZcclxuICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC00IGxlZnQtMS8yIC10cmFuc2xhdGUteC0xLzIgcHgtNCBweS0yIHJvdW5kZWQtZnVsbCB0ZXh0LXNtXCJcclxuICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSknLFxyXG4gICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgPlxyXG4gICAgICAgICAge2N1cnJlbnRJbmRleCArIDF9IC8ge21lZGlhQXJyYXkubGVuZ3RofVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApfVxyXG5cclxuICAgICAgey8qIFNhdmUgQnV0dG9uIChFZGl0IE1vZGUpICovfVxyXG4gICAgICB7bW9kZSA9PT0gJ2VkaXQnICYmIChcclxuICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTYXZlfVxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLTQgcmlnaHQtNCB6LTEwIHB4LTYgcHktMyByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzIGZvbnQtbWVkaXVtXCJcclxuICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICd2YXIoLS10aGVtZS1wcmltYXJ5KScsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxyXG4gICAgICAgICAgfX1cclxuICAgICAgICAgIG9uTW91c2VFbnRlcj17KGUpID0+IHtcclxuICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLm9wYWNpdHkgPSAnMC45JztcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgICBvbk1vdXNlTGVhdmU9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5vcGFjaXR5ID0gJzEnO1xyXG4gICAgICAgICAgfX1cclxuICAgICAgICA+XHJcbiAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYXMgZmEtc2F2ZSBtci0yXCI+PC9pPlxyXG4gICAgICAgICAgU2F2ZSBBbm5vdGF0aW9uc1xyXG4gICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICApfVxyXG5cclxuICAgICAgey8qIE1lZGlhIENvbnRlbnQgKi99XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGgtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBwLThcIj5cclxuICAgICAgICB7Y3VycmVudE1lZGlhLnR5cGUgPT09ICdpbWFnZScgPyAoXHJcbiAgICAgICAgICA8SW1hZ2VBbm5vdGF0aW9uRWRpdG9yXHJcbiAgICAgICAgICAgIHJlZj17aW1hZ2VFZGl0b3JSZWZ9XHJcbiAgICAgICAgICAgIG1lZGlhRm9ybWF0PXtjdXJyZW50TWVkaWF9XHJcbiAgICAgICAgICAgIG1vZGU9e21vZGV9XHJcbiAgICAgICAgICAgIGFubm90YXRpb25zPXthbm5vdGF0aW9uc1tjdXJyZW50SW5kZXhdPy5hbm5vdGF0aW9ucyB8fCBbXX1cclxuICAgICAgICAgICAgb25Bbm5vdGF0aW9uc0NoYW5nZT17aGFuZGxlQW5ub3RhdGlvbnNDaGFuZ2V9XHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgICkgOiBjdXJyZW50TWVkaWEudHlwZSA9PT0gJ2RvY3VtZW50JyA/IChcclxuICAgICAgICAgIDxEb2N1bWVudEFubm90YXRpb25FZGl0b3JcclxuICAgICAgICAgICAgbWVkaWFGb3JtYXQ9e2N1cnJlbnRNZWRpYX1cclxuICAgICAgICAgICAgbW9kZT17bW9kZX1cclxuICAgICAgICAgICAgYW5ub3RhdGlvbnM9e2Fubm90YXRpb25zW2N1cnJlbnRJbmRleF0/LmFubm90YXRpb25zIHx8IFtdfVxyXG4gICAgICAgICAgICBvbkFubm90YXRpb25zQ2hhbmdlPXtoYW5kbGVBbm5vdGF0aW9uc0NoYW5nZX1cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgKSA6IChcclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC13aGl0ZSB0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWxnIG1iLTJcIj5VbnN1cHBvcnRlZCBtZWRpYSB0eXBlOiB7Y3VycmVudE1lZGlhLnR5cGV9PC9wPlxyXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIG9wYWNpdHktNzVcIj5Pbmx5IGltYWdlcyBhbmQgZG9jdW1lbnRzIGFyZSBzdXBwb3J0ZWQgZm9yIG5vdzwvcD5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICl9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxuXHJcbiAgLy8gVXNlIHBvcnRhbCB0byByZW5kZXIgYXQgZG9jdW1lbnQgYm9keSBsZXZlbFxyXG4gIHJldHVybiBjcmVhdGVQb3J0YWwobW9kYWxDb250ZW50LCBkb2N1bWVudC5ib2R5KTtcclxufVxyXG5cclxuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VDYWxsYmFjayIsImNyZWF0ZVBvcnRhbCIsIkltYWdlQW5ub3RhdGlvbkVkaXRvciIsIkRvY3VtZW50QW5ub3RhdGlvbkVkaXRvciIsIk1lZGlhRnVsbFNjcmVlbk1vZGFsIiwiaXNPcGVuIiwib25DbG9zZSIsIm1lZGlhRGF0YSIsIm1vZGUiLCJpbml0aWFsSW5kZXgiLCJleGlzdGluZ0Fubm90YXRpb25zIiwib25TYXZlIiwiY3VycmVudEluZGV4Iiwic2V0Q3VycmVudEluZGV4IiwiYW5ub3RhdGlvbnMiLCJzZXRBbm5vdGF0aW9ucyIsImltYWdlRWRpdG9yUmVmIiwidXNlUmVmIiwibWVkaWFBcnJheSIsIkFycmF5IiwiaXNBcnJheSIsImN1cnJlbnRNZWRpYSIsImhhc011bHRpcGxlIiwibGVuZ3RoIiwiaGFuZGxlRXNjYXBlIiwiZSIsImtleSIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaGFuZGxlUHJldmlvdXMiLCJwcmV2IiwiaGFuZGxlTmV4dCIsImhhbmRsZVNhdmUiLCJ0eXBlIiwiY3VycmVudCIsImRhdGFVcmwiLCJnZXRBbm5vdGF0ZWREYXRhVVJMIiwiY29uc29sZSIsImxvZyIsImhhbmRsZUFubm90YXRpb25zQ2hhbmdlIiwibmV3QW5ub3RhdGlvbnMiLCJ1cGRhdGVkIiwicGFnZSIsIm1vZGFsQ29udGVudCIsImRpdiIsImNsYXNzTmFtZSIsInN0eWxlIiwiYmFja2dyb3VuZCIsIm9uQ2xpY2siLCJ0YXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwiYnV0dG9uIiwiY29sb3IiLCJvbk1vdXNlRW50ZXIiLCJvbk1vdXNlTGVhdmUiLCJ0aXRsZSIsImkiLCJvcGFjaXR5IiwicmVmIiwibWVkaWFGb3JtYXQiLCJvbkFubm90YXRpb25zQ2hhbmdlIiwicCIsImRvY3VtZW50IiwiYm9keSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/MediaFullScreenModal.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/MediaOutputViewer.tsx":
/*!**********************************************!*\
  !*** ./src/components/MediaOutputViewer.tsx ***!
  \**********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MediaOutputViewer: () => (/* binding */ MediaOutputViewer),\n/* harmony export */   hasMediaFormat: () => (/* binding */ hasMediaFormat)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_api_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/api-config */ \"(app-pages-browser)/./src/lib/api-config.ts\");\n/**\r\n * Media Output Viewer Component\r\n * \r\n * Displays MediaFormat objects in the Output tab with rich previews.\r\n * Detects MediaFormat structure and renders appropriate viewer.\r\n */ \n\n\n/**\r\n * Check if an object is MediaFormat\r\n */ function isMediaFormat(obj) {\n    if (!obj || typeof obj !== 'object') return false;\n    return typeof obj.type === 'string' && typeof obj.format === 'string' && typeof obj.data === 'string' && typeof obj.data_type === 'string' && [\n        'image',\n        'audio',\n        'video',\n        'document'\n    ].includes(obj.type);\n}\n/**\r\n * Extract file ID from MediaFormat data\r\n */ function getFileIdFromMediaFormat(mediaFormat) {\n    // Check metadata for file_id\n    if (mediaFormat.metadata?.file_id) {\n        return mediaFormat.metadata.file_id;\n    }\n    // If data_type is file_path, try to extract file ID from path\n    if (mediaFormat.data_type === 'file_path') {\n        // Path might be like \"data/uploads/abc-123-def/file.pdf\"\n        // We need the file_id from metadata or path\n        const path = mediaFormat.data;\n        // Try to find UUID pattern\n        const uuidMatch = path.match(/([a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12})/i);\n        if (uuidMatch) {\n            return uuidMatch[1];\n        }\n    }\n    return null;\n}\n/**\r\n * Render Document Preview\r\n */ function DocumentPreview({ mediaFormat, onClick }) {\n    const fileId = getFileIdFromMediaFormat(mediaFormat);\n    const filename = mediaFormat.metadata?.filename || 'document';\n    if (!fileId) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"text-sm p-3 rounded\",\n            style: {\n                background: 'var(--theme-surface-variant)',\n                color: 'var(--theme-text-secondary)'\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                    className: \"fas fa-file-pdf mr-2\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n                    lineNumber: 74,\n                    columnNumber: 9\n                }, this),\n                \"Document: \",\n                filename,\n                \" (File ID not available for preview)\"\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n            lineNumber: 73,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"mt-2 relative\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-xs mb-2\",\n                style: {\n                    color: 'var(--theme-text-secondary)'\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                        className: \"fas fa-file-pdf mr-1\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n                        lineNumber: 83,\n                        columnNumber: 9\n                    }, this),\n                    filename\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n                lineNumber: 82,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"border rounded overflow-hidden\",\n                style: {\n                    borderColor: 'var(--theme-border)',\n                    background: 'var(--theme-surface)'\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"object\", {\n                    data: `${(0,_lib_api_config__WEBPACK_IMPORTED_MODULE_2__.getApiBaseUrl)()}/api/v1/files/${fileId}/view#toolbar=0&navpanes=0`,\n                    type: \"application/pdf\",\n                    className: \"w-full\",\n                    style: {\n                        height: '400px'\n                    },\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"p-4 text-center\",\n                        style: {\n                            color: 'var(--theme-text-secondary)'\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-sm\",\n                                children: \"Document preview not available.\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n                                lineNumber: 100,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                href: `${(0,_lib_api_config__WEBPACK_IMPORTED_MODULE_2__.getApiBaseUrl)()}/api/v1/files/${fileId}/download`,\n                                className: \"text-blue-500 underline text-sm\",\n                                target: \"_blank\",\n                                rel: \"noopener noreferrer\",\n                                children: \"Download document\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n                                lineNumber: 101,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n                        lineNumber: 99,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n                    lineNumber: 93,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n                lineNumber: 86,\n                columnNumber: 7\n            }, this),\n            onClick && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: onClick,\n                className: \"absolute top-8 right-2 p-2 rounded-lg transition-all\",\n                style: {\n                    background: 'rgba(0, 0, 0, 0.6)',\n                    color: 'white'\n                },\n                onMouseEnter: (e)=>{\n                    e.currentTarget.style.background = 'rgba(0, 0, 0, 0.8)';\n                },\n                onMouseLeave: (e)=>{\n                    e.currentTarget.style.background = 'rgba(0, 0, 0, 0.6)';\n                },\n                title: \"Open in full screen\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                    className: \"fas fa-expand text-sm\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n                    lineNumber: 129,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n                lineNumber: 114,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n        lineNumber: 81,\n        columnNumber: 5\n    }, this);\n}\n_c = DocumentPreview;\n/**\r\n * Render Image Preview\r\n */ function ImagePreview({ mediaFormat, onClick }) {\n    const fileId = getFileIdFromMediaFormat(mediaFormat);\n    const filename = mediaFormat.metadata?.filename || 'image';\n    const width = mediaFormat.metadata?.width;\n    const height = mediaFormat.metadata?.height;\n    if (!fileId) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"text-sm p-3 rounded\",\n            style: {\n                background: 'var(--theme-surface-variant)',\n                color: 'var(--theme-text-secondary)'\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                    className: \"fas fa-image mr-2\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n                    lineNumber: 148,\n                    columnNumber: 9\n                }, this),\n                \"Image: \",\n                filename,\n                \" \",\n                width && height && `(${width}x${height})`\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n            lineNumber: 147,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"mt-2 relative\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-xs mb-2\",\n                style: {\n                    color: 'var(--theme-text-secondary)'\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                        className: \"fas fa-image mr-1\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n                        lineNumber: 157,\n                        columnNumber: 9\n                    }, this),\n                    filename,\n                    \" \",\n                    width && height && `(${width}x${height})`\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n                lineNumber: 156,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"border rounded overflow-hidden flex items-center justify-center\",\n                style: {\n                    borderColor: 'var(--theme-border)',\n                    background: 'var(--theme-surface)',\n                    maxHeight: '400px'\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                    src: `${(0,_lib_api_config__WEBPACK_IMPORTED_MODULE_2__.getApiBaseUrl)()}/api/v1/files/${fileId}/view`,\n                    alt: filename,\n                    className: \"max-w-full max-h-full object-contain\",\n                    style: {\n                        maxHeight: '400px'\n                    }\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n                    lineNumber: 168,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n                lineNumber: 160,\n                columnNumber: 7\n            }, this),\n            onClick && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: onClick,\n                className: \"absolute top-8 right-2 p-2 rounded-lg transition-all\",\n                style: {\n                    background: 'rgba(0, 0, 0, 0.6)',\n                    color: 'white'\n                },\n                onMouseEnter: (e)=>{\n                    e.currentTarget.style.background = 'rgba(0, 0, 0, 0.8)';\n                },\n                onMouseLeave: (e)=>{\n                    e.currentTarget.style.background = 'rgba(0, 0, 0, 0.6)';\n                },\n                title: \"Open in full screen\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                    className: \"fas fa-expand text-sm\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n                    lineNumber: 192,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n                lineNumber: 177,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n        lineNumber: 155,\n        columnNumber: 5\n    }, this);\n}\n_c1 = ImagePreview;\n/**\r\n * Render Video Preview\r\n */ function VideoPreview({ mediaFormat }) {\n    const fileId = getFileIdFromMediaFormat(mediaFormat);\n    const filename = mediaFormat.metadata?.filename || 'video';\n    if (!fileId) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"text-sm p-3 rounded\",\n            style: {\n                background: 'var(--theme-surface-variant)',\n                color: 'var(--theme-text-secondary)'\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                    className: \"fas fa-video mr-2\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n                    lineNumber: 209,\n                    columnNumber: 9\n                }, this),\n                \"Video: \",\n                filename\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n            lineNumber: 208,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"mt-2\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-xs mb-2\",\n                style: {\n                    color: 'var(--theme-text-secondary)'\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                        className: \"fas fa-video mr-1\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n                        lineNumber: 218,\n                        columnNumber: 9\n                    }, this),\n                    filename\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n                lineNumber: 217,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"border rounded overflow-hidden\",\n                style: {\n                    borderColor: 'var(--theme-border)',\n                    background: 'var(--theme-surface)'\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                    controls: true,\n                    className: \"w-full\",\n                    style: {\n                        maxHeight: '400px'\n                    },\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"source\", {\n                        src: `${(0,_lib_api_config__WEBPACK_IMPORTED_MODULE_2__.getApiBaseUrl)()}/api/v1/files/${fileId}/view`\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n                        lineNumber: 233,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n                    lineNumber: 228,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n                lineNumber: 221,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n        lineNumber: 216,\n        columnNumber: 5\n    }, this);\n}\n_c2 = VideoPreview;\n/**\r\n * Render Audio Preview\r\n */ function AudioPreview({ mediaFormat }) {\n    const fileId = getFileIdFromMediaFormat(mediaFormat);\n    const filename = mediaFormat.metadata?.filename || 'audio';\n    if (!fileId) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"text-sm p-3 rounded\",\n            style: {\n                background: 'var(--theme-surface-variant)',\n                color: 'var(--theme-text-secondary)'\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                    className: \"fas fa-music mr-2\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n                    lineNumber: 250,\n                    columnNumber: 9\n                }, this),\n                \"Audio: \",\n                filename\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n            lineNumber: 249,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"mt-2\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-xs mb-2\",\n                style: {\n                    color: 'var(--theme-text-secondary)'\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                        className: \"fas fa-music mr-1\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n                        lineNumber: 259,\n                        columnNumber: 9\n                    }, this),\n                    filename\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n                lineNumber: 258,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"border rounded p-3\",\n                style: {\n                    borderColor: 'var(--theme-border)',\n                    background: 'var(--theme-surface)'\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"audio\", {\n                    controls: true,\n                    className: \"w-full\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"source\", {\n                        src: `${(0,_lib_api_config__WEBPACK_IMPORTED_MODULE_2__.getApiBaseUrl)()}/api/v1/files/${fileId}/view`\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n                        lineNumber: 270,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n                    lineNumber: 269,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n                lineNumber: 262,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n        lineNumber: 257,\n        columnNumber: 5\n    }, this);\n}\n_c3 = AudioPreview;\n/**\r\n * Main Media Output Viewer Component\r\n */ function MediaOutputViewer({ data, portName, onMediaClick }) {\n    // Check if single MediaFormat object\n    if (isMediaFormat(data)) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            children: [\n                portName && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-xs font-semibold mb-2\",\n                    style: {\n                        color: 'var(--theme-text-secondary)'\n                    },\n                    children: [\n                        portName,\n                        \":\"\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n                    lineNumber: 286,\n                    columnNumber: 11\n                }, this),\n                data.type === 'document' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(DocumentPreview, {\n                    mediaFormat: data,\n                    onClick: ()=>onMediaClick?.(data)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n                    lineNumber: 291,\n                    columnNumber: 11\n                }, this),\n                data.type === 'image' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ImagePreview, {\n                    mediaFormat: data,\n                    onClick: ()=>onMediaClick?.(data)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n                    lineNumber: 297,\n                    columnNumber: 11\n                }, this),\n                data.type === 'video' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(VideoPreview, {\n                    mediaFormat: data\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n                    lineNumber: 302,\n                    columnNumber: 35\n                }, this),\n                data.type === 'audio' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AudioPreview, {\n                    mediaFormat: data\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n                    lineNumber: 303,\n                    columnNumber: 35\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n            lineNumber: 284,\n            columnNumber: 7\n        }, this);\n    }\n    // Check if array of MediaFormat objects\n    if (Array.isArray(data) && data.length > 0 && isMediaFormat(data[0])) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            children: [\n                portName && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-xs font-semibold mb-2\",\n                    style: {\n                        color: 'var(--theme-text-secondary)'\n                    },\n                    children: [\n                        portName,\n                        \" (\",\n                        data.length,\n                        \" items):\"\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n                    lineNumber: 313,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-3\",\n                    children: data.map((item, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-xs mb-1\",\n                                    style: {\n                                        color: 'var(--theme-text-muted)'\n                                    },\n                                    children: [\n                                        \"Item \",\n                                        index + 1,\n                                        \":\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n                                    lineNumber: 320,\n                                    columnNumber: 15\n                                }, this),\n                                item.type === 'document' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(DocumentPreview, {\n                                    mediaFormat: item,\n                                    onClick: ()=>onMediaClick?.(item, index)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n                                    lineNumber: 324,\n                                    columnNumber: 17\n                                }, this),\n                                item.type === 'image' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ImagePreview, {\n                                    mediaFormat: item,\n                                    onClick: ()=>onMediaClick?.(item, index)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n                                    lineNumber: 330,\n                                    columnNumber: 17\n                                }, this),\n                                item.type === 'video' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(VideoPreview, {\n                                    mediaFormat: item\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n                                    lineNumber: 335,\n                                    columnNumber: 41\n                                }, this),\n                                item.type === 'audio' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AudioPreview, {\n                                    mediaFormat: item\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n                                    lineNumber: 336,\n                                    columnNumber: 41\n                                }, this)\n                            ]\n                        }, index, true, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n                            lineNumber: 319,\n                            columnNumber: 13\n                        }, this))\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n                    lineNumber: 317,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaOutputViewer.tsx\",\n            lineNumber: 311,\n            columnNumber: 7\n        }, this);\n    }\n    return null; // Not MediaFormat, let caller handle\n}\n_c4 = MediaOutputViewer;\n/**\r\n * Helper to check if output contains any MediaFormat\r\n */ function hasMediaFormat(data) {\n    if (isMediaFormat(data)) return true;\n    if (Array.isArray(data) && data.length > 0 && isMediaFormat(data[0])) {\n        return true;\n    }\n    if (typeof data === 'object' && data !== null) {\n        return Object.values(data).some((value)=>hasMediaFormat(value));\n    }\n    return false;\n}\nvar _c, _c1, _c2, _c3, _c4;\n$RefreshReg$(_c, \"DocumentPreview\");\n$RefreshReg$(_c1, \"ImagePreview\");\n$RefreshReg$(_c2, \"VideoPreview\");\n$RefreshReg$(_c3, \"AudioPreview\");\n$RefreshReg$(_c4, \"MediaOutputViewer\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL01lZGlhT3V0cHV0Vmlld2VyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7Ozs7Q0FLQztBQUV5QjtBQUN1QjtBQWdCakQ7O0NBRUMsR0FDRCxTQUFTRSxjQUFjQyxHQUFRO0lBQzdCLElBQUksQ0FBQ0EsT0FBTyxPQUFPQSxRQUFRLFVBQVUsT0FBTztJQUU1QyxPQUNFLE9BQU9BLElBQUlDLElBQUksS0FBSyxZQUNwQixPQUFPRCxJQUFJRSxNQUFNLEtBQUssWUFDdEIsT0FBT0YsSUFBSUcsSUFBSSxLQUFLLFlBQ3BCLE9BQU9ILElBQUlJLFNBQVMsS0FBSyxZQUN6QjtRQUFDO1FBQVM7UUFBUztRQUFTO0tBQVcsQ0FBQ0MsUUFBUSxDQUFDTCxJQUFJQyxJQUFJO0FBRTdEO0FBRUE7O0NBRUMsR0FDRCxTQUFTSyx5QkFBeUJDLFdBQWdCO0lBQ2hELDZCQUE2QjtJQUM3QixJQUFJQSxZQUFZQyxRQUFRLEVBQUVDLFNBQVM7UUFDakMsT0FBT0YsWUFBWUMsUUFBUSxDQUFDQyxPQUFPO0lBQ3JDO0lBRUEsOERBQThEO0lBQzlELElBQUlGLFlBQVlILFNBQVMsS0FBSyxhQUFhO1FBQ3pDLHlEQUF5RDtRQUN6RCw0Q0FBNEM7UUFDNUMsTUFBTU0sT0FBT0gsWUFBWUosSUFBSTtRQUM3QiwyQkFBMkI7UUFDM0IsTUFBTVEsWUFBWUQsS0FBS0UsS0FBSyxDQUFDO1FBQzdCLElBQUlELFdBQVc7WUFDYixPQUFPQSxTQUFTLENBQUMsRUFBRTtRQUNyQjtJQUNGO0lBRUEsT0FBTztBQUNUO0FBRUE7O0NBRUMsR0FDRCxTQUFTRSxnQkFBZ0IsRUFBRU4sV0FBVyxFQUFFTyxPQUFPLEVBQThDO0lBQzNGLE1BQU1DLFNBQVNULHlCQUF5QkM7SUFDeEMsTUFBTVMsV0FBV1QsWUFBWUMsUUFBUSxFQUFFUSxZQUFZO0lBRW5ELElBQUksQ0FBQ0QsUUFBUTtRQUNYLHFCQUNFLDhEQUFDRTtZQUFJQyxXQUFV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Ozs7OztnQ0FDcERBLEtBQUt2RCxJQUFJLEtBQUsseUJBQVcsOERBQUM4QztvQ0FBYXhDLGFBQWFpRDs7Ozs7OzsyQkFqQjdDQzs7Ozs7Ozs7Ozs7Ozs7OztJQXVCcEI7SUFFQSxPQUFPLE1BQU0scUNBQXFDO0FBQ3BEO01BakVnQlI7QUFtRWhCOztDQUVDLEdBQ00sU0FBU1MsZUFBZXZELElBQVM7SUFDdEMsSUFBSUosY0FBY0ksT0FBTyxPQUFPO0lBRWhDLElBQUlpRCxNQUFNQyxPQUFPLENBQUNsRCxTQUFTQSxLQUFLbUQsTUFBTSxHQUFHLEtBQUt2RCxjQUFjSSxJQUFJLENBQUMsRUFBRSxHQUFHO1FBQ3BFLE9BQU87SUFDVDtJQUVBLElBQUksT0FBT0EsU0FBUyxZQUFZQSxTQUFTLE1BQU07UUFDN0MsT0FBT3dELE9BQU9DLE1BQU0sQ0FBQ3pELE1BQU0wRCxJQUFJLENBQUNDLENBQUFBLFFBQVNKLGVBQWVJO0lBQzFEO0lBRUEsT0FBTztBQUNUIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXG5pY2hvbGFzLmxlZVxcRG9jdW1lbnRzXFx6XFxUaWNrZXRpbmdfTmlja1xcVGlja2V0aW5nXFx0YXZfb3BlbnNvdXJjZVxcdWlcXHNyY1xcY29tcG9uZW50c1xcTWVkaWFPdXRwdXRWaWV3ZXIudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBNZWRpYSBPdXRwdXQgVmlld2VyIENvbXBvbmVudFxyXG4gKiBcclxuICogRGlzcGxheXMgTWVkaWFGb3JtYXQgb2JqZWN0cyBpbiB0aGUgT3V0cHV0IHRhYiB3aXRoIHJpY2ggcHJldmlld3MuXHJcbiAqIERldGVjdHMgTWVkaWFGb3JtYXQgc3RydWN0dXJlIGFuZCByZW5kZXJzIGFwcHJvcHJpYXRlIHZpZXdlci5cclxuICovXHJcblxyXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBnZXRBcGlCYXNlVXJsIH0gZnJvbSAnQC9saWIvYXBpLWNvbmZpZyc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE1lZGlhRm9ybWF0IHtcclxuICB0eXBlOiAnaW1hZ2UnIHwgJ2F1ZGlvJyB8ICd2aWRlbycgfCAnZG9jdW1lbnQnO1xyXG4gIGZvcm1hdDogc3RyaW5nO1xyXG4gIGRhdGE6IHN0cmluZztcclxuICBkYXRhX3R5cGU6ICdiYXNlNjQnIHwgJ3VybCcgfCAnZmlsZV9wYXRoJztcclxuICBtZXRhZGF0YT86IFJlY29yZDxzdHJpbmcsIGFueT47XHJcbn1cclxuXHJcbmludGVyZmFjZSBNZWRpYU91dHB1dFZpZXdlclByb3BzIHtcclxuICBkYXRhOiBhbnk7XHJcbiAgcG9ydE5hbWU/OiBzdHJpbmc7XHJcbiAgb25NZWRpYUNsaWNrPzogKG1lZGlhRm9ybWF0OiBNZWRpYUZvcm1hdCwgaW5kZXg/OiBudW1iZXIpID0+IHZvaWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDaGVjayBpZiBhbiBvYmplY3QgaXMgTWVkaWFGb3JtYXRcclxuICovXHJcbmZ1bmN0aW9uIGlzTWVkaWFGb3JtYXQob2JqOiBhbnkpOiBib29sZWFuIHtcclxuICBpZiAoIW9iaiB8fCB0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JykgcmV0dXJuIGZhbHNlO1xyXG4gIFxyXG4gIHJldHVybiAoXHJcbiAgICB0eXBlb2Ygb2JqLnR5cGUgPT09ICdzdHJpbmcnICYmXHJcbiAgICB0eXBlb2Ygb2JqLmZvcm1hdCA9PT0gJ3N0cmluZycgJiZcclxuICAgIHR5cGVvZiBvYmouZGF0YSA9PT0gJ3N0cmluZycgJiZcclxuICAgIHR5cGVvZiBvYmouZGF0YV90eXBlID09PSAnc3RyaW5nJyAmJlxyXG4gICAgWydpbWFnZScsICdhdWRpbycsICd2aWRlbycsICdkb2N1bWVudCddLmluY2x1ZGVzKG9iai50eXBlKVxyXG4gICk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBFeHRyYWN0IGZpbGUgSUQgZnJvbSBNZWRpYUZvcm1hdCBkYXRhXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRGaWxlSWRGcm9tTWVkaWFGb3JtYXQobWVkaWFGb3JtYXQ6IGFueSk6IHN0cmluZyB8IG51bGwge1xyXG4gIC8vIENoZWNrIG1ldGFkYXRhIGZvciBmaWxlX2lkXHJcbiAgaWYgKG1lZGlhRm9ybWF0Lm1ldGFkYXRhPy5maWxlX2lkKSB7XHJcbiAgICByZXR1cm4gbWVkaWFGb3JtYXQubWV0YWRhdGEuZmlsZV9pZDtcclxuICB9XHJcbiAgXHJcbiAgLy8gSWYgZGF0YV90eXBlIGlzIGZpbGVfcGF0aCwgdHJ5IHRvIGV4dHJhY3QgZmlsZSBJRCBmcm9tIHBhdGhcclxuICBpZiAobWVkaWFGb3JtYXQuZGF0YV90eXBlID09PSAnZmlsZV9wYXRoJykge1xyXG4gICAgLy8gUGF0aCBtaWdodCBiZSBsaWtlIFwiZGF0YS91cGxvYWRzL2FiYy0xMjMtZGVmL2ZpbGUucGRmXCJcclxuICAgIC8vIFdlIG5lZWQgdGhlIGZpbGVfaWQgZnJvbSBtZXRhZGF0YSBvciBwYXRoXHJcbiAgICBjb25zdCBwYXRoID0gbWVkaWFGb3JtYXQuZGF0YTtcclxuICAgIC8vIFRyeSB0byBmaW5kIFVVSUQgcGF0dGVyblxyXG4gICAgY29uc3QgdXVpZE1hdGNoID0gcGF0aC5tYXRjaCgvKFthLWYwLTldezh9LVthLWYwLTldezR9LVthLWYwLTldezR9LVthLWYwLTldezR9LVthLWYwLTldezEyfSkvaSk7XHJcbiAgICBpZiAodXVpZE1hdGNoKSB7XHJcbiAgICAgIHJldHVybiB1dWlkTWF0Y2hbMV07XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiBudWxsO1xyXG59XHJcblxyXG4vKipcclxuICogUmVuZGVyIERvY3VtZW50IFByZXZpZXdcclxuICovXHJcbmZ1bmN0aW9uIERvY3VtZW50UHJldmlldyh7IG1lZGlhRm9ybWF0LCBvbkNsaWNrIH06IHsgbWVkaWFGb3JtYXQ6IGFueTsgb25DbGljaz86ICgpID0+IHZvaWQgfSkge1xyXG4gIGNvbnN0IGZpbGVJZCA9IGdldEZpbGVJZEZyb21NZWRpYUZvcm1hdChtZWRpYUZvcm1hdCk7XHJcbiAgY29uc3QgZmlsZW5hbWUgPSBtZWRpYUZvcm1hdC5tZXRhZGF0YT8uZmlsZW5hbWUgfHwgJ2RvY3VtZW50JztcclxuICBcclxuICBpZiAoIWZpbGVJZCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHAtMyByb3VuZGVkXCIgc3R5bGU9e3sgYmFja2dyb3VuZDogJ3ZhcigtLXRoZW1lLXN1cmZhY2UtdmFyaWFudCknLCBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQtc2Vjb25kYXJ5KScgfX0+XHJcbiAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmFzIGZhLWZpbGUtcGRmIG1yLTJcIj48L2k+XHJcbiAgICAgICAgRG9jdW1lbnQ6IHtmaWxlbmFtZX0gKEZpbGUgSUQgbm90IGF2YWlsYWJsZSBmb3IgcHJldmlldylcclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiByZWxhdGl2ZVwiPlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgbWItMlwiIHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dC1zZWNvbmRhcnkpJyB9fT5cclxuICAgICAgICA8aSBjbGFzc05hbWU9XCJmYXMgZmEtZmlsZS1wZGYgbXItMVwiPjwvaT5cclxuICAgICAgICB7ZmlsZW5hbWV9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2XHJcbiAgICAgICAgY2xhc3NOYW1lPVwiYm9yZGVyIHJvdW5kZWQgb3ZlcmZsb3ctaGlkZGVuXCJcclxuICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgYm9yZGVyQ29sb3I6ICd2YXIoLS10aGVtZS1ib3JkZXIpJyxcclxuICAgICAgICAgIGJhY2tncm91bmQ6ICd2YXIoLS10aGVtZS1zdXJmYWNlKScsXHJcbiAgICAgICAgfX1cclxuICAgICAgPlxyXG4gICAgICAgIDxvYmplY3RcclxuICAgICAgICAgIGRhdGE9e2Ake2dldEFwaUJhc2VVcmwoKX0vYXBpL3YxL2ZpbGVzLyR7ZmlsZUlkfS92aWV3I3Rvb2xiYXI9MCZuYXZwYW5lcz0wYH1cclxuICAgICAgICAgIHR5cGU9XCJhcHBsaWNhdGlvbi9wZGZcIlxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsXCJcclxuICAgICAgICAgIHN0eWxlPXt7IGhlaWdodDogJzQwMHB4JyB9fVxyXG4gICAgICAgID5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IHRleHQtY2VudGVyXCIgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0LXNlY29uZGFyeSknIH19PlxyXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtXCI+RG9jdW1lbnQgcHJldmlldyBub3QgYXZhaWxhYmxlLjwvcD5cclxuICAgICAgICAgICAgPGFcclxuICAgICAgICAgICAgICBocmVmPXtgJHtnZXRBcGlCYXNlVXJsKCl9L2FwaS92MS9maWxlcy8ke2ZpbGVJZH0vZG93bmxvYWRgfVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtYmx1ZS01MDAgdW5kZXJsaW5lIHRleHQtc21cIlxyXG4gICAgICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiXHJcbiAgICAgICAgICAgICAgcmVsPVwibm9vcGVuZXIgbm9yZWZlcnJlclwiXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICBEb3dubG9hZCBkb2N1bWVudFxyXG4gICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L29iamVjdD5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIHsvKiBFeHBhbmQgYnV0dG9uIG92ZXJsYXkgKi99XHJcbiAgICAgIHtvbkNsaWNrICYmIChcclxuICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICBvbkNsaWNrPXtvbkNsaWNrfVxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTggcmlnaHQtMiBwLTIgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWFsbFwiXHJcbiAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAncmdiYSgwLCAwLCAwLCAwLjYpJyxcclxuICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgICAgb25Nb3VzZUVudGVyPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZCA9ICdyZ2JhKDAsIDAsIDAsIDAuOCknO1xyXG4gICAgICAgICAgfX1cclxuICAgICAgICAgIG9uTW91c2VMZWF2ZT17KGUpID0+IHtcclxuICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSAncmdiYSgwLCAwLCAwLCAwLjYpJztcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgICB0aXRsZT1cIk9wZW4gaW4gZnVsbCBzY3JlZW5cIlxyXG4gICAgICAgID5cclxuICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1leHBhbmQgdGV4dC1zbVwiPjwvaT5cclxuICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgKX1cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZW5kZXIgSW1hZ2UgUHJldmlld1xyXG4gKi9cclxuZnVuY3Rpb24gSW1hZ2VQcmV2aWV3KHsgbWVkaWFGb3JtYXQsIG9uQ2xpY2sgfTogeyBtZWRpYUZvcm1hdDogYW55OyBvbkNsaWNrPzogKCkgPT4gdm9pZCB9KSB7XHJcbiAgY29uc3QgZmlsZUlkID0gZ2V0RmlsZUlkRnJvbU1lZGlhRm9ybWF0KG1lZGlhRm9ybWF0KTtcclxuICBjb25zdCBmaWxlbmFtZSA9IG1lZGlhRm9ybWF0Lm1ldGFkYXRhPy5maWxlbmFtZSB8fCAnaW1hZ2UnO1xyXG4gIGNvbnN0IHdpZHRoID0gbWVkaWFGb3JtYXQubWV0YWRhdGE/LndpZHRoO1xyXG4gIGNvbnN0IGhlaWdodCA9IG1lZGlhRm9ybWF0Lm1ldGFkYXRhPy5oZWlnaHQ7XHJcblxyXG4gIGlmICghZmlsZUlkKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gcC0zIHJvdW5kZWRcIiBzdHlsZT17eyBiYWNrZ3JvdW5kOiAndmFyKC0tdGhlbWUtc3VyZmFjZS12YXJpYW50KScsIGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dC1zZWNvbmRhcnkpJyB9fT5cclxuICAgICAgICA8aSBjbGFzc05hbWU9XCJmYXMgZmEtaW1hZ2UgbXItMlwiPjwvaT5cclxuICAgICAgICBJbWFnZToge2ZpbGVuYW1lfSB7d2lkdGggJiYgaGVpZ2h0ICYmIGAoJHt3aWR0aH14JHtoZWlnaHR9KWB9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgcmVsYXRpdmVcIj5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIG1iLTJcIiBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQtc2Vjb25kYXJ5KScgfX0+XHJcbiAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmFzIGZhLWltYWdlIG1yLTFcIj48L2k+XHJcbiAgICAgICAge2ZpbGVuYW1lfSB7d2lkdGggJiYgaGVpZ2h0ICYmIGAoJHt3aWR0aH14JHtoZWlnaHR9KWB9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2XHJcbiAgICAgICAgY2xhc3NOYW1lPVwiYm9yZGVyIHJvdW5kZWQgb3ZlcmZsb3ctaGlkZGVuIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCJcclxuICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgYm9yZGVyQ29sb3I6ICd2YXIoLS10aGVtZS1ib3JkZXIpJyxcclxuICAgICAgICAgIGJhY2tncm91bmQ6ICd2YXIoLS10aGVtZS1zdXJmYWNlKScsXHJcbiAgICAgICAgICBtYXhIZWlnaHQ6ICc0MDBweCcsXHJcbiAgICAgICAgfX1cclxuICAgICAgPlxyXG4gICAgICAgIDxpbWdcclxuICAgICAgICAgIHNyYz17YCR7Z2V0QXBpQmFzZVVybCgpfS9hcGkvdjEvZmlsZXMvJHtmaWxlSWR9L3ZpZXdgfVxyXG4gICAgICAgICAgYWx0PXtmaWxlbmFtZX1cclxuICAgICAgICAgIGNsYXNzTmFtZT1cIm1heC13LWZ1bGwgbWF4LWgtZnVsbCBvYmplY3QtY29udGFpblwiXHJcbiAgICAgICAgICBzdHlsZT17eyBtYXhIZWlnaHQ6ICc0MDBweCcgfX1cclxuICAgICAgICAvPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgey8qIEV4cGFuZCBidXR0b24gb3ZlcmxheSAqL31cclxuICAgICAge29uQ2xpY2sgJiYgKFxyXG4gICAgICAgIDxidXR0b25cclxuICAgICAgICAgIG9uQ2xpY2s9e29uQ2xpY2t9XHJcbiAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtOCByaWdodC0yIHAtMiByb3VuZGVkLWxnIHRyYW5zaXRpb24tYWxsXCJcclxuICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICdyZ2JhKDAsIDAsIDAsIDAuNiknLFxyXG4gICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgICBvbk1vdXNlRW50ZXI9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gJ3JnYmEoMCwgMCwgMCwgMC44KSc7XHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgICAgb25Nb3VzZUxlYXZlPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZCA9ICdyZ2JhKDAsIDAsIDAsIDAuNiknO1xyXG4gICAgICAgICAgfX1cclxuICAgICAgICAgIHRpdGxlPVwiT3BlbiBpbiBmdWxsIHNjcmVlblwiXHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmFzIGZhLWV4cGFuZCB0ZXh0LXNtXCI+PC9pPlxyXG4gICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICApfVxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlbmRlciBWaWRlbyBQcmV2aWV3XHJcbiAqL1xyXG5mdW5jdGlvbiBWaWRlb1ByZXZpZXcoeyBtZWRpYUZvcm1hdCB9OiB7IG1lZGlhRm9ybWF0OiBhbnkgfSkge1xyXG4gIGNvbnN0IGZpbGVJZCA9IGdldEZpbGVJZEZyb21NZWRpYUZvcm1hdChtZWRpYUZvcm1hdCk7XHJcbiAgY29uc3QgZmlsZW5hbWUgPSBtZWRpYUZvcm1hdC5tZXRhZGF0YT8uZmlsZW5hbWUgfHwgJ3ZpZGVvJztcclxuXHJcbiAgaWYgKCFmaWxlSWQpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSBwLTMgcm91bmRlZFwiIHN0eWxlPXt7IGJhY2tncm91bmQ6ICd2YXIoLS10aGVtZS1zdXJmYWNlLXZhcmlhbnQpJywgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0LXNlY29uZGFyeSknIH19PlxyXG4gICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS12aWRlbyBtci0yXCI+PC9pPlxyXG4gICAgICAgIFZpZGVvOiB7ZmlsZW5hbWV9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTJcIj5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIG1iLTJcIiBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQtc2Vjb25kYXJ5KScgfX0+XHJcbiAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmFzIGZhLXZpZGVvIG1yLTFcIj48L2k+XHJcbiAgICAgICAge2ZpbGVuYW1lfVxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPGRpdlxyXG4gICAgICAgIGNsYXNzTmFtZT1cImJvcmRlciByb3VuZGVkIG92ZXJmbG93LWhpZGRlblwiXHJcbiAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgIGJvcmRlckNvbG9yOiAndmFyKC0tdGhlbWUtYm9yZGVyKScsXHJcbiAgICAgICAgICBiYWNrZ3JvdW5kOiAndmFyKC0tdGhlbWUtc3VyZmFjZSknLFxyXG4gICAgICAgIH19XHJcbiAgICAgID5cclxuICAgICAgICA8dmlkZW9cclxuICAgICAgICAgIGNvbnRyb2xzXHJcbiAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGxcIlxyXG4gICAgICAgICAgc3R5bGU9e3sgbWF4SGVpZ2h0OiAnNDAwcHgnIH19XHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgPHNvdXJjZSBzcmM9e2Ake2dldEFwaUJhc2VVcmwoKX0vYXBpL3YxL2ZpbGVzLyR7ZmlsZUlkfS92aWV3YH0gLz5cclxuICAgICAgICA8L3ZpZGVvPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZW5kZXIgQXVkaW8gUHJldmlld1xyXG4gKi9cclxuZnVuY3Rpb24gQXVkaW9QcmV2aWV3KHsgbWVkaWFGb3JtYXQgfTogeyBtZWRpYUZvcm1hdDogYW55IH0pIHtcclxuICBjb25zdCBmaWxlSWQgPSBnZXRGaWxlSWRGcm9tTWVkaWFGb3JtYXQobWVkaWFGb3JtYXQpO1xyXG4gIGNvbnN0IGZpbGVuYW1lID0gbWVkaWFGb3JtYXQubWV0YWRhdGE/LmZpbGVuYW1lIHx8ICdhdWRpbyc7XHJcblxyXG4gIGlmICghZmlsZUlkKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gcC0zIHJvdW5kZWRcIiBzdHlsZT17eyBiYWNrZ3JvdW5kOiAndmFyKC0tdGhlbWUtc3VyZmFjZS12YXJpYW50KScsIGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dC1zZWNvbmRhcnkpJyB9fT5cclxuICAgICAgICA8aSBjbGFzc05hbWU9XCJmYXMgZmEtbXVzaWMgbXItMlwiPjwvaT5cclxuICAgICAgICBBdWRpbzoge2ZpbGVuYW1lfVxyXG4gICAgICA8L2Rpdj5cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yXCI+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyBtYi0yXCIgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0LXNlY29uZGFyeSknIH19PlxyXG4gICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1tdXNpYyBtci0xXCI+PC9pPlxyXG4gICAgICAgIHtmaWxlbmFtZX1cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxkaXZcclxuICAgICAgICBjbGFzc05hbWU9XCJib3JkZXIgcm91bmRlZCBwLTNcIlxyXG4gICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICBib3JkZXJDb2xvcjogJ3ZhcigtLXRoZW1lLWJvcmRlciknLFxyXG4gICAgICAgICAgYmFja2dyb3VuZDogJ3ZhcigtLXRoZW1lLXN1cmZhY2UpJyxcclxuICAgICAgICB9fVxyXG4gICAgICA+XHJcbiAgICAgICAgPGF1ZGlvIGNvbnRyb2xzIGNsYXNzTmFtZT1cInctZnVsbFwiPlxyXG4gICAgICAgICAgPHNvdXJjZSBzcmM9e2Ake2dldEFwaUJhc2VVcmwoKX0vYXBpL3YxL2ZpbGVzLyR7ZmlsZUlkfS92aWV3YH0gLz5cclxuICAgICAgICA8L2F1ZGlvPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBNYWluIE1lZGlhIE91dHB1dCBWaWV3ZXIgQ29tcG9uZW50XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gTWVkaWFPdXRwdXRWaWV3ZXIoeyBkYXRhLCBwb3J0TmFtZSwgb25NZWRpYUNsaWNrIH06IE1lZGlhT3V0cHV0Vmlld2VyUHJvcHMpIHtcclxuICAvLyBDaGVjayBpZiBzaW5nbGUgTWVkaWFGb3JtYXQgb2JqZWN0XHJcbiAgaWYgKGlzTWVkaWFGb3JtYXQoZGF0YSkpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXY+XHJcbiAgICAgICAge3BvcnROYW1lICYmIChcclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyBmb250LXNlbWlib2xkIG1iLTJcIiBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQtc2Vjb25kYXJ5KScgfX0+XHJcbiAgICAgICAgICAgIHtwb3J0TmFtZX06XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApfVxyXG4gICAgICAgIHtkYXRhLnR5cGUgPT09ICdkb2N1bWVudCcgJiYgKFxyXG4gICAgICAgICAgPERvY3VtZW50UHJldmlldyBcclxuICAgICAgICAgICAgbWVkaWFGb3JtYXQ9e2RhdGF9IFxyXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvbk1lZGlhQ2xpY2s/LihkYXRhIGFzIE1lZGlhRm9ybWF0KX1cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgKX1cclxuICAgICAgICB7ZGF0YS50eXBlID09PSAnaW1hZ2UnICYmIChcclxuICAgICAgICAgIDxJbWFnZVByZXZpZXcgXHJcbiAgICAgICAgICAgIG1lZGlhRm9ybWF0PXtkYXRhfVxyXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvbk1lZGlhQ2xpY2s/LihkYXRhIGFzIE1lZGlhRm9ybWF0KX1cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgKX1cclxuICAgICAgICB7ZGF0YS50eXBlID09PSAndmlkZW8nICYmIDxWaWRlb1ByZXZpZXcgbWVkaWFGb3JtYXQ9e2RhdGF9IC8+fVxyXG4gICAgICAgIHtkYXRhLnR5cGUgPT09ICdhdWRpbycgJiYgPEF1ZGlvUHJldmlldyBtZWRpYUZvcm1hdD17ZGF0YX0gLz59XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8vIENoZWNrIGlmIGFycmF5IG9mIE1lZGlhRm9ybWF0IG9iamVjdHNcclxuICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSAmJiBkYXRhLmxlbmd0aCA+IDAgJiYgaXNNZWRpYUZvcm1hdChkYXRhWzBdKSkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdj5cclxuICAgICAgICB7cG9ydE5hbWUgJiYgKFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgbWItMlwiIHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dC1zZWNvbmRhcnkpJyB9fT5cclxuICAgICAgICAgICAge3BvcnROYW1lfSAoe2RhdGEubGVuZ3RofSBpdGVtcyk6XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApfVxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XHJcbiAgICAgICAgICB7ZGF0YS5tYXAoKGl0ZW0sIGluZGV4KSA9PiAoXHJcbiAgICAgICAgICAgIDxkaXYga2V5PXtpbmRleH0+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIG1iLTFcIiBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQtbXV0ZWQpJyB9fT5cclxuICAgICAgICAgICAgICAgIEl0ZW0ge2luZGV4ICsgMX06XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAge2l0ZW0udHlwZSA9PT0gJ2RvY3VtZW50JyAmJiAoXHJcbiAgICAgICAgICAgICAgICA8RG9jdW1lbnRQcmV2aWV3IFxyXG4gICAgICAgICAgICAgICAgICBtZWRpYUZvcm1hdD17aXRlbX1cclxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gb25NZWRpYUNsaWNrPy4oaXRlbSBhcyBNZWRpYUZvcm1hdCwgaW5kZXgpfVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgIHtpdGVtLnR5cGUgPT09ICdpbWFnZScgJiYgKFxyXG4gICAgICAgICAgICAgICAgPEltYWdlUHJldmlldyBcclxuICAgICAgICAgICAgICAgICAgbWVkaWFGb3JtYXQ9e2l0ZW19XHJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG9uTWVkaWFDbGljaz8uKGl0ZW0gYXMgTWVkaWFGb3JtYXQsIGluZGV4KX1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICB7aXRlbS50eXBlID09PSAndmlkZW8nICYmIDxWaWRlb1ByZXZpZXcgbWVkaWFGb3JtYXQ9e2l0ZW19IC8+fVxyXG4gICAgICAgICAgICAgIHtpdGVtLnR5cGUgPT09ICdhdWRpbycgJiYgPEF1ZGlvUHJldmlldyBtZWRpYUZvcm1hdD17aXRlbX0gLz59XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgKSl9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBudWxsOyAvLyBOb3QgTWVkaWFGb3JtYXQsIGxldCBjYWxsZXIgaGFuZGxlXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBIZWxwZXIgdG8gY2hlY2sgaWYgb3V0cHV0IGNvbnRhaW5zIGFueSBNZWRpYUZvcm1hdFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGhhc01lZGlhRm9ybWF0KGRhdGE6IGFueSk6IGJvb2xlYW4ge1xyXG4gIGlmIChpc01lZGlhRm9ybWF0KGRhdGEpKSByZXR1cm4gdHJ1ZTtcclxuICBcclxuICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSAmJiBkYXRhLmxlbmd0aCA+IDAgJiYgaXNNZWRpYUZvcm1hdChkYXRhWzBdKSkge1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG4gIFxyXG4gIGlmICh0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcgJiYgZGF0YSAhPT0gbnVsbCkge1xyXG4gICAgcmV0dXJuIE9iamVjdC52YWx1ZXMoZGF0YSkuc29tZSh2YWx1ZSA9PiBoYXNNZWRpYUZvcm1hdCh2YWx1ZSkpO1xyXG4gIH1cclxuICBcclxuICByZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbiJdLCJuYW1lcyI6WyJSZWFjdCIsImdldEFwaUJhc2VVcmwiLCJpc01lZGlhRm9ybWF0Iiwib2JqIiwidHlwZSIsImZvcm1hdCIsImRhdGEiLCJkYXRhX3R5cGUiLCJpbmNsdWRlcyIsImdldEZpbGVJZEZyb21NZWRpYUZvcm1hdCIsIm1lZGlhRm9ybWF0IiwibWV0YWRhdGEiLCJmaWxlX2lkIiwicGF0aCIsInV1aWRNYXRjaCIsIm1hdGNoIiwiRG9jdW1lbnRQcmV2aWV3Iiwib25DbGljayIsImZpbGVJZCIsImZpbGVuYW1lIiwiZGl2IiwiY2xhc3NOYW1lIiwic3R5bGUiLCJiYWNrZ3JvdW5kIiwiY29sb3IiLCJpIiwiYm9yZGVyQ29sb3IiLCJvYmplY3QiLCJoZWlnaHQiLCJwIiwiYSIsImhyZWYiLCJ0YXJnZXQiLCJyZWwiLCJidXR0b24iLCJvbk1vdXNlRW50ZXIiLCJlIiwiY3VycmVudFRhcmdldCIsIm9uTW91c2VMZWF2ZSIsInRpdGxlIiwiSW1hZ2VQcmV2aWV3Iiwid2lkdGgiLCJtYXhIZWlnaHQiLCJpbWciLCJzcmMiLCJhbHQiLCJWaWRlb1ByZXZpZXciLCJ2aWRlbyIsImNvbnRyb2xzIiwic291cmNlIiwiQXVkaW9QcmV2aWV3IiwiYXVkaW8iLCJNZWRpYU91dHB1dFZpZXdlciIsInBvcnROYW1lIiwib25NZWRpYUNsaWNrIiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwibWFwIiwiaXRlbSIsImluZGV4IiwiaGFzTWVkaWFGb3JtYXQiLCJPYmplY3QiLCJ2YWx1ZXMiLCJzb21lIiwidmFsdWUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/MediaOutputViewer.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/MediaViewerConfig.tsx":
/*!**********************************************!*\
  !*** ./src/components/MediaViewerConfig.tsx ***!
  \**********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AudioViewer: () => (/* binding */ AudioViewer),\n/* harmony export */   DocumentViewer: () => (/* binding */ DocumentViewer),\n/* harmony export */   ImageViewer: () => (/* binding */ ImageViewer),\n/* harmony export */   MediaViewerConfig: () => (/* binding */ MediaViewerConfig),\n/* harmony export */   UnknownViewer: () => (/* binding */ UnknownViewer),\n/* harmony export */   VideoViewer: () => (/* binding */ VideoViewer)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_api_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/api-config */ \"(app-pages-browser)/./src/lib/api-config.ts\");\n/**\r\n * Media Viewer Configuration Component\r\n * \r\n * Comprehensive viewer for all media types in the configuration panel:\r\n * - Documents (PDF, DOCX, etc.)\r\n * - Images (PNG, JPEG, GIF, WebP, etc.)\r\n * - Video (MP4, WebM, etc.)\r\n * - Audio (MP3, WAV, OGG, etc.)\r\n * \r\n * Auto-detects media type from file extension/MIME type and renders appropriate viewer.\r\n */ \n\n\n/**\r\n * Detects media type from accept string or file category\r\n */ function detectMediaType(fileCategory, accept) {\n    // Priority 1: Use explicit file category\n    if (fileCategory) {\n        // Map FileCategory to viewer type\n        if (fileCategory === 'archive' || fileCategory === 'other') {\n            return 'unknown'; // Archive and other files use fallback viewer\n        }\n        return fileCategory;\n    }\n    // Priority 2: Auto-detect from accept string\n    if (!accept) {\n        return 'unknown';\n    }\n    const lower = accept.toLowerCase();\n    // Check for document types\n    if (lower.includes('pdf') || lower.includes('doc') || lower.includes('docx') || lower.includes('application/pdf') || lower.includes('application/msword') || lower.includes('application/vnd.openxmlformats-officedocument')) {\n        return 'document';\n    }\n    // Check for image types\n    if (lower.includes('image/') || lower.includes('png') || lower.includes('jpg') || lower.includes('jpeg') || lower.includes('gif') || lower.includes('webp') || lower.includes('svg')) {\n        return 'image';\n    }\n    // Check for video types\n    if (lower.includes('video/') || lower.includes('mp4') || lower.includes('webm') || lower.includes('ogg') || lower.includes('mov') || lower.includes('avi')) {\n        return 'video';\n    }\n    // Check for audio types\n    if (lower.includes('audio/') || lower.includes('mp3') || lower.includes('wav') || lower.includes('ogg') || lower.includes('m4a') || lower.includes('flac')) {\n        return 'audio';\n    }\n    return 'unknown';\n}\n/**\r\n * Document Viewer Component (PDF, DOCX, etc.)\r\n */ function DocumentViewer({ fileId, height = '500px', onClick }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"border rounded overflow-hidden\",\n                style: {\n                    borderColor: 'var(--theme-border)',\n                    background: 'var(--theme-surface)'\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"object\", {\n                    data: `${(0,_lib_api_config__WEBPACK_IMPORTED_MODULE_2__.getApiBaseUrl)()}/api/v1/files/${fileId}/view#toolbar=0&navpanes=0`,\n                    type: \"application/pdf\",\n                    className: \"w-full\",\n                    style: {\n                        height\n                    },\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"p-4 text-center\",\n                        style: {\n                            color: 'var(--theme-text-secondary)'\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                className: \"fas fa-file-pdf text-3xl mb-2\",\n                                style: {\n                                    opacity: 0.5\n                                }\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaViewerConfig.tsx\",\n                                lineNumber: 121,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-sm mb-2\",\n                                children: \"Document preview not available in your browser.\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaViewerConfig.tsx\",\n                                lineNumber: 122,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                href: `${(0,_lib_api_config__WEBPACK_IMPORTED_MODULE_2__.getApiBaseUrl)()}/api/v1/files/${fileId}/download`,\n                                className: \"text-blue-500 underline text-sm\",\n                                target: \"_blank\",\n                                rel: \"noopener noreferrer\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                        className: \"fas fa-download mr-1\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaViewerConfig.tsx\",\n                                        lineNumber: 129,\n                                        columnNumber: 15\n                                    }, this),\n                                    \"Click here to download and view\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaViewerConfig.tsx\",\n                                lineNumber: 123,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaViewerConfig.tsx\",\n                        lineNumber: 120,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaViewerConfig.tsx\",\n                    lineNumber: 114,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaViewerConfig.tsx\",\n                lineNumber: 107,\n                columnNumber: 7\n            }, this),\n            onClick && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: onClick,\n                className: \"absolute top-2 right-2 p-2 rounded-lg transition-all\",\n                style: {\n                    background: 'rgba(0, 0, 0, 0.6)',\n                    color: 'white'\n                },\n                onMouseEnter: (e)=>{\n                    e.currentTarget.style.background = 'rgba(0, 0, 0, 0.8)';\n                },\n                onMouseLeave: (e)=>{\n                    e.currentTarget.style.background = 'rgba(0, 0, 0, 0.6)';\n                },\n                title: \"Open in full screen\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                    className: \"fas fa-expand text-sm\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaViewerConfig.tsx\",\n                    lineNumber: 152,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaViewerConfig.tsx\",\n                lineNumber: 137,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaViewerConfig.tsx\",\n        lineNumber: 106,\n        columnNumber: 5\n    }, this);\n}\n_c = DocumentViewer;\n/**\r\n * Image Viewer Component\r\n */ function ImageViewer({ fileId, height = '500px', onClick }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"border rounded overflow-hidden flex items-center justify-center\",\n                style: {\n                    borderColor: 'var(--theme-border)',\n                    background: 'var(--theme-surface)',\n                    height\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                    src: `${(0,_lib_api_config__WEBPACK_IMPORTED_MODULE_2__.getApiBaseUrl)()}/api/v1/files/${fileId}/view`,\n                    alt: \"Preview\",\n                    className: \"max-w-full max-h-full object-contain\",\n                    onError: (e)=>{\n                        const target = e.target;\n                        target.style.display = 'none';\n                        const container = target.parentElement;\n                        if (container) {\n                            container.innerHTML = `\n                <div class=\"p-4 text-center\" style=\"color: var(--theme-text-secondary)\">\n                  <i class=\"fas fa-image text-3xl mb-2\" style=\"opacity: 0.5\"></i>\n                  <p class=\"text-sm mb-2\">Image preview not available.</p>\n                  <a\n                    href=\"${(0,_lib_api_config__WEBPACK_IMPORTED_MODULE_2__.getApiBaseUrl)()}/api/v1/files/${fileId}/download\"\n                    class=\"text-blue-500 underline text-sm\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                  >\n                    <i class=\"fas fa-download mr-1\"></i>\n                    Click here to download\n                  </a>\n                </div>\n              `;\n                        }\n                    }\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaViewerConfig.tsx\",\n                    lineNumber: 173,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaViewerConfig.tsx\",\n                lineNumber: 165,\n                columnNumber: 7\n            }, this),\n            onClick && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: onClick,\n                className: \"absolute top-2 right-2 p-2 rounded-lg transition-all\",\n                style: {\n                    background: 'rgba(0, 0, 0, 0.6)',\n                    color: 'white'\n                },\n                onMouseEnter: (e)=>{\n                    e.currentTarget.style.background = 'rgba(0, 0, 0, 0.8)';\n                },\n                onMouseLeave: (e)=>{\n                    e.currentTarget.style.background = 'rgba(0, 0, 0, 0.6)';\n                },\n                title: \"Open in full screen\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                    className: \"fas fa-expand text-sm\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaViewerConfig.tsx\",\n                    lineNumber: 218,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaViewerConfig.tsx\",\n                lineNumber: 203,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaViewerConfig.tsx\",\n        lineNumber: 164,\n        columnNumber: 5\n    }, this);\n}\n_c1 = ImageViewer;\n/**\r\n * Video Viewer Component\r\n */ function VideoViewer({ fileId, height = '500px' }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"border rounded overflow-hidden\",\n        style: {\n            borderColor: 'var(--theme-border)',\n            background: 'var(--theme-surface)'\n        },\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n            controls: true,\n            className: \"w-full\",\n            style: {\n                height,\n                maxHeight: height\n            },\n            onError: (e)=>{\n                const target = e.target;\n                target.style.display = 'none';\n                const container = target.parentElement;\n                if (container) {\n                    container.innerHTML = `\n              <div class=\"p-4 text-center\" style=\"color: var(--theme-text-secondary)\">\n                <i class=\"fas fa-video text-3xl mb-2\" style=\"opacity: 0.5\"></i>\n                <p class=\"text-sm mb-2\">Video preview not available in your browser.</p>\n                <a\n                  href=\"${(0,_lib_api_config__WEBPACK_IMPORTED_MODULE_2__.getApiBaseUrl)()}/api/v1/files/${fileId}/download\"\n                  class=\"text-blue-500 underline text-sm\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  <i class=\"fas fa-download mr-1\"></i>\n                  Click here to download and view\n                </a>\n              </div>\n            `;\n                }\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"source\", {\n                    src: `${(0,_lib_api_config__WEBPACK_IMPORTED_MODULE_2__.getApiBaseUrl)()}/api/v1/files/${fileId}/view`\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaViewerConfig.tsx\",\n                    lineNumber: 264,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"p-4 text-center text-sm\",\n                    style: {\n                        color: 'var(--theme-text-secondary)'\n                    },\n                    children: [\n                        \"Your browser doesn't support video playback.\",\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                            href: `${(0,_lib_api_config__WEBPACK_IMPORTED_MODULE_2__.getApiBaseUrl)()}/api/v1/files/${fileId}/download`,\n                            className: \"text-blue-500 underline ml-1\",\n                            target: \"_blank\",\n                            rel: \"noopener noreferrer\",\n                            children: \"Download video\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaViewerConfig.tsx\",\n                            lineNumber: 267,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaViewerConfig.tsx\",\n                    lineNumber: 265,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaViewerConfig.tsx\",\n            lineNumber: 237,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaViewerConfig.tsx\",\n        lineNumber: 230,\n        columnNumber: 5\n    }, this);\n}\n_c2 = VideoViewer;\n/**\r\n * Audio Viewer Component\r\n */ function AudioViewer({ fileId, height = '80px' }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"border rounded overflow-hidden p-4\",\n        style: {\n            borderColor: 'var(--theme-border)',\n            background: 'var(--theme-surface)'\n        },\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                    className: \"fas fa-music text-2xl\",\n                    style: {\n                        color: 'var(--theme-primary)',\n                        opacity: 0.7\n                    }\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaViewerConfig.tsx\",\n                    lineNumber: 294,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex-1\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"audio\", {\n                        controls: true,\n                        className: \"w-full\",\n                        style: {\n                            height\n                        },\n                        onError: (e)=>{\n                            const target = e.target;\n                            target.style.display = 'none';\n                            const container = target.parentElement?.parentElement;\n                            if (container) {\n                                container.innerHTML = `\n                  <div class=\"p-4 text-center\" style=\"color: var(--theme-text-secondary)\">\n                    <i class=\"fas fa-headphones text-3xl mb-2\" style=\"opacity: 0.5\"></i>\n                    <p class=\"text-sm mb-2\">Audio preview not available in your browser.</p>\n                    <a\n                      href=\"${(0,_lib_api_config__WEBPACK_IMPORTED_MODULE_2__.getApiBaseUrl)()}/api/v1/files/${fileId}/download\"\n                      class=\"text-blue-500 underline text-sm\"\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                    >\n                      <i class=\"fas fa-download mr-1\"></i>\n                      Click here to download and listen\n                    </a>\n                  </div>\n                `;\n                            }\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"source\", {\n                                src: `${(0,_lib_api_config__WEBPACK_IMPORTED_MODULE_2__.getApiBaseUrl)()}/api/v1/files/${fileId}/view`\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaViewerConfig.tsx\",\n                                lineNumber: 326,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-sm\",\n                                style: {\n                                    color: 'var(--theme-text-secondary)'\n                                },\n                                children: [\n                                    \"Your browser doesn't support audio playback.\",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                        href: `${(0,_lib_api_config__WEBPACK_IMPORTED_MODULE_2__.getApiBaseUrl)()}/api/v1/files/${fileId}/download`,\n                                        className: \"text-blue-500 underline ml-1\",\n                                        target: \"_blank\",\n                                        rel: \"noopener noreferrer\",\n                                        children: \"Download audio\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaViewerConfig.tsx\",\n                                        lineNumber: 329,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaViewerConfig.tsx\",\n                                lineNumber: 327,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaViewerConfig.tsx\",\n                        lineNumber: 299,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaViewerConfig.tsx\",\n                    lineNumber: 298,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaViewerConfig.tsx\",\n            lineNumber: 293,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaViewerConfig.tsx\",\n        lineNumber: 286,\n        columnNumber: 5\n    }, this);\n}\n_c3 = AudioViewer;\n/**\r\n * Unknown/Fallback Viewer Component\r\n */ function UnknownViewer({ fileId }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"border rounded p-6 text-center\",\n        style: {\n            borderColor: 'var(--theme-border)',\n            background: 'var(--theme-surface)'\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                className: \"fas fa-file text-4xl mb-3\",\n                style: {\n                    color: 'var(--theme-text-muted)',\n                    opacity: 0.5\n                }\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaViewerConfig.tsx\",\n                lineNumber: 357,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"text-sm mb-2\",\n                style: {\n                    color: 'var(--theme-text)'\n                },\n                children: \"Preview not available for this file type.\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaViewerConfig.tsx\",\n                lineNumber: 361,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                href: `${(0,_lib_api_config__WEBPACK_IMPORTED_MODULE_2__.getApiBaseUrl)()}/api/v1/files/${fileId}/download`,\n                className: \"inline-flex items-center gap-2 text-sm px-3 py-2 rounded transition-colors\",\n                style: {\n                    background: 'var(--theme-primary)',\n                    color: 'white'\n                },\n                target: \"_blank\",\n                rel: \"noopener noreferrer\",\n                onMouseEnter: (e)=>{\n                    e.currentTarget.style.opacity = '0.9';\n                },\n                onMouseLeave: (e)=>{\n                    e.currentTarget.style.opacity = '1';\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                        className: \"fas fa-download\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaViewerConfig.tsx\",\n                        lineNumber: 380,\n                        columnNumber: 9\n                    }, this),\n                    \"Download File\"\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaViewerConfig.tsx\",\n                lineNumber: 364,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaViewerConfig.tsx\",\n        lineNumber: 350,\n        columnNumber: 5\n    }, this);\n}\n_c4 = UnknownViewer;\n/**\r\n * Main Media Viewer Component\r\n * \r\n * Auto-detects media type and renders appropriate viewer.\r\n */ function MediaViewerConfig({ fileId, fileCategory, accept, height = '500px', className = '', onClick }) {\n    if (!fileId) {\n        return null;\n    }\n    const mediaType = detectMediaType(fileCategory, accept);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `mt-3 ${className}`,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-sm font-medium mb-2\",\n                style: {\n                    color: 'var(--theme-text)'\n                },\n                children: [\n                    mediaType === 'document' && 'Document Preview:',\n                    mediaType === 'image' && 'Image Preview:',\n                    mediaType === 'video' && 'Video Preview:',\n                    mediaType === 'audio' && 'Audio Preview:',\n                    mediaType === 'unknown' && 'File Preview:'\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaViewerConfig.tsx\",\n                lineNumber: 408,\n                columnNumber: 7\n            }, this),\n            mediaType === 'document' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(DocumentViewer, {\n                fileId: fileId,\n                height: height,\n                onClick: onClick\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaViewerConfig.tsx\",\n                lineNumber: 416,\n                columnNumber: 36\n            }, this),\n            mediaType === 'image' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ImageViewer, {\n                fileId: fileId,\n                height: height,\n                onClick: onClick\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaViewerConfig.tsx\",\n                lineNumber: 417,\n                columnNumber: 33\n            }, this),\n            mediaType === 'video' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(VideoViewer, {\n                fileId: fileId,\n                height: height\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaViewerConfig.tsx\",\n                lineNumber: 418,\n                columnNumber: 33\n            }, this),\n            mediaType === 'audio' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AudioViewer, {\n                fileId: fileId\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaViewerConfig.tsx\",\n                lineNumber: 419,\n                columnNumber: 33\n            }, this),\n            mediaType === 'unknown' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(UnknownViewer, {\n                fileId: fileId\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaViewerConfig.tsx\",\n                lineNumber: 420,\n                columnNumber: 35\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\MediaViewerConfig.tsx\",\n        lineNumber: 407,\n        columnNumber: 5\n    }, this);\n}\n_c5 = MediaViewerConfig;\n// Export individual viewers for custom use\n\nvar _c, _c1, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"DocumentViewer\");\n$RefreshReg$(_c1, \"ImageViewer\");\n$RefreshReg$(_c2, \"VideoViewer\");\n$RefreshReg$(_c3, \"AudioViewer\");\n$RefreshReg$(_c4, \"UnknownViewer\");\n$RefreshReg$(_c5, \"MediaViewerConfig\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL01lZGlhVmlld2VyQ29uZmlnLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Q0FVQztBQUV5QjtBQUN1QjtBQVlqRDs7Q0FFQyxHQUNELFNBQVNFLGdCQUNQQyxZQUEyQixFQUMzQkMsTUFBZTtJQUVmLHlDQUF5QztJQUN6QyxJQUFJRCxjQUFjO1FBQ2hCLGtDQUFrQztRQUNsQyxJQUFJQSxpQkFBaUIsYUFBYUEsaUJBQWlCLFNBQVM7WUFDMUQsT0FBTyxXQUFXLDhDQUE4QztRQUNsRTtRQUNBLE9BQU9BO0lBQ1Q7SUFFQSw2Q0FBNkM7SUFDN0MsSUFBSSxDQUFDQyxRQUFRO1FBQ1gsT0FBTztJQUNUO0lBRUEsTUFBTUMsUUFBUUQsT0FBT0UsV0FBVztJQUVoQywyQkFBMkI7SUFDM0IsSUFDRUQsTUFBTUUsUUFBUSxDQUFDLFVBQ2ZGLE1BQU1FLFFBQVEsQ0FBQyxVQUNmRixNQUFNRSxRQUFRLENBQUMsV0FDZkYsTUFBTUUsUUFBUSxDQUFDLHNCQUNmRixNQUFNRSxRQUFRLENBQUMseUJBQ2ZGLE1BQU1FLFFBQVEsQ0FBQyxrREFDZjtRQUNBLE9BQU87SUFDVDtJQUVBLHdCQUF3QjtJQUN4QixJQUNFRixNQUFNRSxRQUFRLENBQUMsYUFDZkYsTUFBTUUsUUFBUSxDQUFDLFVBQ2ZGLE1BQU1FLFFBQVEsQ0FBQyxVQUNmRixNQUFNRSxRQUFRLENBQUMsV0FDZkYsTUFBTUUsUUFBUSxDQUFDLFVBQ2ZGLE1BQU1FLFFBQVEsQ0FBQyxXQUNmRixNQUFNRSxRQUFRLENBQUMsUUFDZjtRQUNBLE9BQU87SUFDVDtJQUVBLHdCQUF3QjtJQUN4QixJQUNFRixNQUFNRSxRQUFRLENBQUMsYUFDZkYsTUFBTUUsUUFBUSxDQUFDLFVBQ2ZGLE1BQU1FLFFBQVEsQ0FBQyxXQUNmRixNQUFNRSxRQUFRLENBQUMsVUFDZkYsTUFBTUUsUUFBUSxDQUFDLFVBQ2ZGLE1BQU1FLFFBQVEsQ0FB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QUFXO29CQUN6QkEsY0FBYyxXQUFXO29CQUN6QkEsY0FBYyxhQUFhOzs7Ozs7O1lBRzdCQSxjQUFjLDRCQUFjLDhEQUFDNUM7Z0JBQWVDLFFBQVFBO2dCQUFRQyxRQUFRQTtnQkFBUUMsU0FBU0E7Ozs7OztZQUNyRnlDLGNBQWMseUJBQVcsOERBQUNsQjtnQkFBWXpCLFFBQVFBO2dCQUFRQyxRQUFRQTtnQkFBUUMsU0FBU0E7Ozs7OztZQUMvRXlDLGNBQWMseUJBQVcsOERBQUNUO2dCQUFZbEMsUUFBUUE7Z0JBQVFDLFFBQVFBOzs7Ozs7WUFDOUQwQyxjQUFjLHlCQUFXLDhEQUFDSjtnQkFBWXZDLFFBQVFBOzs7Ozs7WUFDOUMyQyxjQUFjLDJCQUFhLDhEQUFDRjtnQkFBY3pDLFFBQVFBOzs7Ozs7Ozs7Ozs7QUFHekQ7TUEvQmdCMEM7QUFpQ2hCLDJDQUEyQztBQUNxQyIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxuaWNob2xhcy5sZWVcXERvY3VtZW50c1xcelxcVGlja2V0aW5nX05pY2tcXFRpY2tldGluZ1xcdGF2X29wZW5zb3VyY2VcXHVpXFxzcmNcXGNvbXBvbmVudHNcXE1lZGlhVmlld2VyQ29uZmlnLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogTWVkaWEgVmlld2VyIENvbmZpZ3VyYXRpb24gQ29tcG9uZW50XHJcbiAqIFxyXG4gKiBDb21wcmVoZW5zaXZlIHZpZXdlciBmb3IgYWxsIG1lZGlhIHR5cGVzIGluIHRoZSBjb25maWd1cmF0aW9uIHBhbmVsOlxyXG4gKiAtIERvY3VtZW50cyAoUERGLCBET0NYLCBldGMuKVxyXG4gKiAtIEltYWdlcyAoUE5HLCBKUEVHLCBHSUYsIFdlYlAsIGV0Yy4pXHJcbiAqIC0gVmlkZW8gKE1QNCwgV2ViTSwgZXRjLilcclxuICogLSBBdWRpbyAoTVAzLCBXQVYsIE9HRywgZXRjLilcclxuICogXHJcbiAqIEF1dG8tZGV0ZWN0cyBtZWRpYSB0eXBlIGZyb20gZmlsZSBleHRlbnNpb24vTUlNRSB0eXBlIGFuZCByZW5kZXJzIGFwcHJvcHJpYXRlIHZpZXdlci5cclxuICovXHJcblxyXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBnZXRBcGlCYXNlVXJsIH0gZnJvbSAnQC9saWIvYXBpLWNvbmZpZyc7XHJcbmltcG9ydCB0eXBlIHsgRmlsZUNhdGVnb3J5IH0gZnJvbSAnQC9saWIvZmlsZXMnO1xyXG5cclxuaW50ZXJmYWNlIE1lZGlhVmlld2VyQ29uZmlnUHJvcHMge1xyXG4gIGZpbGVJZDogc3RyaW5nO1xyXG4gIGZpbGVDYXRlZ29yeT86IEZpbGVDYXRlZ29yeTtcclxuICBhY2NlcHQ/OiBzdHJpbmc7IC8vIE1JTUUgdHlwZXMgb3IgZmlsZSBleHRlbnNpb25zIChlLmcuLCAnLnBkZiwuZG9jeCcsICdpbWFnZS8qJylcclxuICBoZWlnaHQ/OiBzdHJpbmc7IC8vIENTUyBoZWlnaHQgKGRlZmF1bHQ6ICc1MDBweCcpXHJcbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xyXG4gIG9uQ2xpY2s/OiAoKSA9PiB2b2lkOyAvLyBDbGljayBoYW5kbGVyIHRvIG9wZW4gbW9kYWxcclxufVxyXG5cclxuLyoqXHJcbiAqIERldGVjdHMgbWVkaWEgdHlwZSBmcm9tIGFjY2VwdCBzdHJpbmcgb3IgZmlsZSBjYXRlZ29yeVxyXG4gKi9cclxuZnVuY3Rpb24gZGV0ZWN0TWVkaWFUeXBlKFxyXG4gIGZpbGVDYXRlZ29yeT86IEZpbGVDYXRlZ29yeSxcclxuICBhY2NlcHQ/OiBzdHJpbmdcclxuKTogJ2RvY3VtZW50JyB8ICdpbWFnZScgfCAndmlkZW8nIHwgJ2F1ZGlvJyB8ICd1bmtub3duJyB7XHJcbiAgLy8gUHJpb3JpdHkgMTogVXNlIGV4cGxpY2l0IGZpbGUgY2F0ZWdvcnlcclxuICBpZiAoZmlsZUNhdGVnb3J5KSB7XHJcbiAgICAvLyBNYXAgRmlsZUNhdGVnb3J5IHRvIHZpZXdlciB0eXBlXHJcbiAgICBpZiAoZmlsZUNhdGVnb3J5ID09PSAnYXJjaGl2ZScgfHwgZmlsZUNhdGVnb3J5ID09PSAnb3RoZXInKSB7XHJcbiAgICAgIHJldHVybiAndW5rbm93bic7IC8vIEFyY2hpdmUgYW5kIG90aGVyIGZpbGVzIHVzZSBmYWxsYmFjayB2aWV3ZXJcclxuICAgIH1cclxuICAgIHJldHVybiBmaWxlQ2F0ZWdvcnkgYXMgJ2RvY3VtZW50JyB8ICdpbWFnZScgfCAndmlkZW8nIHwgJ2F1ZGlvJztcclxuICB9XHJcblxyXG4gIC8vIFByaW9yaXR5IDI6IEF1dG8tZGV0ZWN0IGZyb20gYWNjZXB0IHN0cmluZ1xyXG4gIGlmICghYWNjZXB0KSB7XHJcbiAgICByZXR1cm4gJ3Vua25vd24nO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgbG93ZXIgPSBhY2NlcHQudG9Mb3dlckNhc2UoKTtcclxuXHJcbiAgLy8gQ2hlY2sgZm9yIGRvY3VtZW50IHR5cGVzXHJcbiAgaWYgKFxyXG4gICAgbG93ZXIuaW5jbHVkZXMoJ3BkZicpIHx8XHJcbiAgICBsb3dlci5pbmNsdWRlcygnZG9jJykgfHxcclxuICAgIGxvd2VyLmluY2x1ZGVzKCdkb2N4JykgfHxcclxuICAgIGxvd2VyLmluY2x1ZGVzKCdhcHBsaWNhdGlvbi9wZGYnKSB8fFxyXG4gICAgbG93ZXIuaW5jbHVkZXMoJ2FwcGxpY2F0aW9uL21zd29yZCcpIHx8XHJcbiAgICBsb3dlci5pbmNsdWRlcygnYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50JylcclxuICApIHtcclxuICAgIHJldHVybiAnZG9jdW1lbnQnO1xyXG4gIH1cclxuXHJcbiAgLy8gQ2hlY2sgZm9yIGltYWdlIHR5cGVzXHJcbiAgaWYgKFxyXG4gICAgbG93ZXIuaW5jbHVkZXMoJ2ltYWdlLycpIHx8XHJcbiAgICBsb3dlci5pbmNsdWRlcygncG5nJykgfHxcclxuICAgIGxvd2VyLmluY2x1ZGVzKCdqcGcnKSB8fFxyXG4gICAgbG93ZXIuaW5jbHVkZXMoJ2pwZWcnKSB8fFxyXG4gICAgbG93ZXIuaW5jbHVkZXMoJ2dpZicpIHx8XHJcbiAgICBsb3dlci5pbmNsdWRlcygnd2VicCcpIHx8XHJcbiAgICBsb3dlci5pbmNsdWRlcygnc3ZnJylcclxuICApIHtcclxuICAgIHJldHVybiAnaW1hZ2UnO1xyXG4gIH1cclxuXHJcbiAgLy8gQ2hlY2sgZm9yIHZpZGVvIHR5cGVzXHJcbiAgaWYgKFxyXG4gICAgbG93ZXIuaW5jbHVkZXMoJ3ZpZGVvLycpIHx8XHJcbiAgICBsb3dlci5pbmNsdWRlcygnbXA0JykgfHxcclxuICAgIGxvd2VyLmluY2x1ZGVzKCd3ZWJtJykgfHxcclxuICAgIGxvd2VyLmluY2x1ZGVzKCdvZ2cnKSB8fFxyXG4gICAgbG93ZXIuaW5jbHVkZXMoJ21vdicpIHx8XHJcbiAgICBsb3dlci5pbmNsdWRlcygnYXZpJylcclxuICApIHtcclxuICAgIHJldHVybiAndmlkZW8nO1xyXG4gIH1cclxuXHJcbiAgLy8gQ2hlY2sgZm9yIGF1ZGlvIHR5cGVzXHJcbiAgaWYgKFxyXG4gICAgbG93ZXIuaW5jbHVkZXMoJ2F1ZGlvLycpIHx8XHJcbiAgICBsb3dlci5pbmNsdWRlcygnbXAzJykgfHxcclxuICAgIGxvd2VyLmluY2x1ZGVzKCd3YXYnKSB8fFxyXG4gICAgbG93ZXIuaW5jbHVkZXMoJ29nZycpIHx8XHJcbiAgICBsb3dlci5pbmNsdWRlcygnbTRhJykgfHxcclxuICAgIGxvd2VyLmluY2x1ZGVzKCdmbGFjJylcclxuICApIHtcclxuICAgIHJldHVybiAnYXVkaW8nO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuICd1bmtub3duJztcclxufVxyXG5cclxuLyoqXHJcbiAqIERvY3VtZW50IFZpZXdlciBDb21wb25lbnQgKFBERiwgRE9DWCwgZXRjLilcclxuICovXHJcbmZ1bmN0aW9uIERvY3VtZW50Vmlld2VyKHsgZmlsZUlkLCBoZWlnaHQgPSAnNTAwcHgnLCBvbkNsaWNrIH06IHsgZmlsZUlkOiBzdHJpbmc7IGhlaWdodD86IHN0cmluZzsgb25DbGljaz86ICgpID0+IHZvaWQgfSkge1xyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XHJcbiAgICAgIDxkaXZcclxuICAgICAgICBjbGFzc05hbWU9XCJib3JkZXIgcm91bmRlZCBvdmVyZmxvdy1oaWRkZW5cIlxyXG4gICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICBib3JkZXJDb2xvcjogJ3ZhcigtLXRoZW1lLWJvcmRlciknLFxyXG4gICAgICAgICAgYmFja2dyb3VuZDogJ3ZhcigtLXRoZW1lLXN1cmZhY2UpJyxcclxuICAgICAgICB9fVxyXG4gICAgICA+XHJcbiAgICAgICAgPG9iamVjdFxyXG4gICAgICAgICAgZGF0YT17YCR7Z2V0QXBpQmFzZVVybCgpfS9hcGkvdjEvZmlsZXMvJHtmaWxlSWR9L3ZpZXcjdG9vbGJhcj0wJm5hdnBhbmVzPTBgfVxyXG4gICAgICAgICAgdHlwZT1cImFwcGxpY2F0aW9uL3BkZlwiXHJcbiAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGxcIlxyXG4gICAgICAgICAgc3R5bGU9e3sgaGVpZ2h0IH19XHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgdGV4dC1jZW50ZXJcIiBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLXRoZW1lLXRleHQtc2Vjb25kYXJ5KScgfX0+XHJcbiAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1maWxlLXBkZiB0ZXh0LTN4bCBtYi0yXCIgc3R5bGU9e3sgb3BhY2l0eTogMC41IH19PjwvaT5cclxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSBtYi0yXCI+RG9jdW1lbnQgcHJldmlldyBub3QgYXZhaWxhYmxlIGluIHlvdXIgYnJvd3Nlci48L3A+XHJcbiAgICAgICAgICAgIDxhXHJcbiAgICAgICAgICAgICAgaHJlZj17YCR7Z2V0QXBpQmFzZVVybCgpfS9hcGkvdjEvZmlsZXMvJHtmaWxlSWR9L2Rvd25sb2FkYH1cclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LWJsdWUtNTAwIHVuZGVybGluZSB0ZXh0LXNtXCJcclxuICAgICAgICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIlxyXG4gICAgICAgICAgICAgIHJlbD1cIm5vb3BlbmVyIG5vcmVmZXJyZXJcIlxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmFzIGZhLWRvd25sb2FkIG1yLTFcIj48L2k+XHJcbiAgICAgICAgICAgICAgQ2xpY2sgaGVyZSB0byBkb3dubG9hZCBhbmQgdmlld1xyXG4gICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L29iamVjdD5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIHsvKiBFeHBhbmQgYnV0dG9uIG92ZXJsYXkgKi99XHJcbiAgICAgIHtvbkNsaWNrICYmIChcclxuICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICBvbkNsaWNrPXtvbkNsaWNrfVxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTIgcmlnaHQtMiBwLTIgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWFsbFwiXHJcbiAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAncmdiYSgwLCAwLCAwLCAwLjYpJyxcclxuICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgICAgb25Nb3VzZUVudGVyPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZCA9ICdyZ2JhKDAsIDAsIDAsIDAuOCknO1xyXG4gICAgICAgICAgfX1cclxuICAgICAgICAgIG9uTW91c2VMZWF2ZT17KGUpID0+IHtcclxuICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSAncmdiYSgwLCAwLCAwLCAwLjYpJztcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgICB0aXRsZT1cIk9wZW4gaW4gZnVsbCBzY3JlZW5cIlxyXG4gICAgICAgID5cclxuICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1leHBhbmQgdGV4dC1zbVwiPjwvaT5cclxuICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgKX1cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbWFnZSBWaWV3ZXIgQ29tcG9uZW50XHJcbiAqL1xyXG5mdW5jdGlvbiBJbWFnZVZpZXdlcih7IGZpbGVJZCwgaGVpZ2h0ID0gJzUwMHB4Jywgb25DbGljayB9OiB7IGZpbGVJZDogc3RyaW5nOyBoZWlnaHQ/OiBzdHJpbmc7IG9uQ2xpY2s/OiAoKSA9PiB2b2lkIH0pIHtcclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiPlxyXG4gICAgICA8ZGl2XHJcbiAgICAgICAgY2xhc3NOYW1lPVwiYm9yZGVyIHJvdW5kZWQgb3ZlcmZsb3ctaGlkZGVuIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCJcclxuICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgYm9yZGVyQ29sb3I6ICd2YXIoLS10aGVtZS1ib3JkZXIpJyxcclxuICAgICAgICAgIGJhY2tncm91bmQ6ICd2YXIoLS10aGVtZS1zdXJmYWNlKScsXHJcbiAgICAgICAgICBoZWlnaHQsXHJcbiAgICAgICAgfX1cclxuICAgICAgPlxyXG4gICAgICAgIDxpbWdcclxuICAgICAgICAgIHNyYz17YCR7Z2V0QXBpQmFzZVVybCgpfS9hcGkvdjEvZmlsZXMvJHtmaWxlSWR9L3ZpZXdgfVxyXG4gICAgICAgICAgYWx0PVwiUHJldmlld1wiXHJcbiAgICAgICAgICBjbGFzc05hbWU9XCJtYXgtdy1mdWxsIG1heC1oLWZ1bGwgb2JqZWN0LWNvbnRhaW5cIlxyXG4gICAgICAgICAgb25FcnJvcj17KGUpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgSFRNTEltYWdlRWxlbWVudDtcclxuICAgICAgICAgICAgdGFyZ2V0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRhcmdldC5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgICAgICBpZiAoY29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9IGBcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwLTQgdGV4dC1jZW50ZXJcIiBzdHlsZT1cImNvbG9yOiB2YXIoLS10aGVtZS10ZXh0LXNlY29uZGFyeSlcIj5cclxuICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYXMgZmEtaW1hZ2UgdGV4dC0zeGwgbWItMlwiIHN0eWxlPVwib3BhY2l0eTogMC41XCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gbWItMlwiPkltYWdlIHByZXZpZXcgbm90IGF2YWlsYWJsZS48L3A+XHJcbiAgICAgICAgICAgICAgICAgIDxhXHJcbiAgICAgICAgICAgICAgICAgICAgaHJlZj1cIiR7Z2V0QXBpQmFzZVVybCgpfS9hcGkvdjEvZmlsZXMvJHtmaWxlSWR9L2Rvd25sb2FkXCJcclxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInRleHQtYmx1ZS01MDAgdW5kZXJsaW5lIHRleHQtc21cIlxyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiXHJcbiAgICAgICAgICAgICAgICAgICAgcmVsPVwibm9vcGVuZXIgbm9yZWZlcnJlclwiXHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhcyBmYS1kb3dubG9hZCBtci0xXCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgICAgIENsaWNrIGhlcmUgdG8gZG93bmxvYWRcclxuICAgICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgYDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfX1cclxuICAgICAgICAvPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgey8qIEV4cGFuZCBidXR0b24gb3ZlcmxheSAqL31cclxuICAgICAge29uQ2xpY2sgJiYgKFxyXG4gICAgICAgIDxidXR0b25cclxuICAgICAgICAgIG9uQ2xpY2s9e29uQ2xpY2t9XHJcbiAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMiByaWdodC0yIHAtMiByb3VuZGVkLWxnIHRyYW5zaXRpb24tYWxsXCJcclxuICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICdyZ2JhKDAsIDAsIDAsIDAuNiknLFxyXG4gICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgICBvbk1vdXNlRW50ZXI9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gJ3JnYmEoMCwgMCwgMCwgMC44KSc7XHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgICAgb25Nb3VzZUxlYXZlPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZCA9ICdyZ2JhKDAsIDAsIDAsIDAuNiknO1xyXG4gICAgICAgICAgfX1cclxuICAgICAgICAgIHRpdGxlPVwiT3BlbiBpbiBmdWxsIHNjcmVlblwiXHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmFzIGZhLWV4cGFuZCB0ZXh0LXNtXCI+PC9pPlxyXG4gICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICApfVxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFZpZGVvIFZpZXdlciBDb21wb25lbnRcclxuICovXHJcbmZ1bmN0aW9uIFZpZGVvVmlld2VyKHsgZmlsZUlkLCBoZWlnaHQgPSAnNTAwcHgnIH06IHsgZmlsZUlkOiBzdHJpbmc7IGhlaWdodD86IHN0cmluZyB9KSB7XHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXZcclxuICAgICAgY2xhc3NOYW1lPVwiYm9yZGVyIHJvdW5kZWQgb3ZlcmZsb3ctaGlkZGVuXCJcclxuICAgICAgc3R5bGU9e3tcclxuICAgICAgICBib3JkZXJDb2xvcjogJ3ZhcigtLXRoZW1lLWJvcmRlciknLFxyXG4gICAgICAgIGJhY2tncm91bmQ6ICd2YXIoLS10aGVtZS1zdXJmYWNlKScsXHJcbiAgICAgIH19XHJcbiAgICA+XHJcbiAgICAgIDx2aWRlb1xyXG4gICAgICAgIGNvbnRyb2xzXHJcbiAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsXCJcclxuICAgICAgICBzdHlsZT17eyBoZWlnaHQsIG1heEhlaWdodDogaGVpZ2h0IH19XHJcbiAgICAgICAgb25FcnJvcj17KGUpID0+IHtcclxuICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxWaWRlb0VsZW1lbnQ7XHJcbiAgICAgICAgICB0YXJnZXQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRhcmdldC5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgICAgaWYgKGNvbnRhaW5lcikge1xyXG4gICAgICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gYFxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwLTQgdGV4dC1jZW50ZXJcIiBzdHlsZT1cImNvbG9yOiB2YXIoLS10aGVtZS10ZXh0LXNlY29uZGFyeSlcIj5cclxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiZmFzIGZhLXZpZGVvIHRleHQtM3hsIG1iLTJcIiBzdHlsZT1cIm9wYWNpdHk6IDAuNVwiPjwvaT5cclxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSBtYi0yXCI+VmlkZW8gcHJldmlldyBub3QgYXZhaWxhYmxlIGluIHlvdXIgYnJvd3Nlci48L3A+XHJcbiAgICAgICAgICAgICAgICA8YVxyXG4gICAgICAgICAgICAgICAgICBocmVmPVwiJHtnZXRBcGlCYXNlVXJsKCl9L2FwaS92MS9maWxlcy8ke2ZpbGVJZH0vZG93bmxvYWRcIlxyXG4gICAgICAgICAgICAgICAgICBjbGFzcz1cInRleHQtYmx1ZS01MDAgdW5kZXJsaW5lIHRleHQtc21cIlxyXG4gICAgICAgICAgICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIlxyXG4gICAgICAgICAgICAgICAgICByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCJcclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYXMgZmEtZG93bmxvYWQgbXItMVwiPjwvaT5cclxuICAgICAgICAgICAgICAgICAgQ2xpY2sgaGVyZSB0byBkb3dubG9hZCBhbmQgdmlld1xyXG4gICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICBgO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH19XHJcbiAgICAgID5cclxuICAgICAgICA8c291cmNlIHNyYz17YCR7Z2V0QXBpQmFzZVVybCgpfS9hcGkvdjEvZmlsZXMvJHtmaWxlSWR9L3ZpZXdgfSAvPlxyXG4gICAgICAgIDxwIGNsYXNzTmFtZT1cInAtNCB0ZXh0LWNlbnRlciB0ZXh0LXNtXCIgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0LXNlY29uZGFyeSknIH19PlxyXG4gICAgICAgICAgWW91ciBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCB2aWRlbyBwbGF5YmFjay5cclxuICAgICAgICAgIDxhXHJcbiAgICAgICAgICAgIGhyZWY9e2Ake2dldEFwaUJhc2VVcmwoKX0vYXBpL3YxL2ZpbGVzLyR7ZmlsZUlkfS9kb3dubG9hZGB9XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtYmx1ZS01MDAgdW5kZXJsaW5lIG1sLTFcIlxyXG4gICAgICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIlxyXG4gICAgICAgICAgICByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCJcclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgRG93bmxvYWQgdmlkZW9cclxuICAgICAgICAgIDwvYT5cclxuICAgICAgICA8L3A+XHJcbiAgICAgIDwvdmlkZW8+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59XHJcblxyXG4vKipcclxuICogQXVkaW8gVmlld2VyIENvbXBvbmVudFxyXG4gKi9cclxuZnVuY3Rpb24gQXVkaW9WaWV3ZXIoeyBmaWxlSWQsIGhlaWdodCA9ICc4MHB4JyB9OiB7IGZpbGVJZDogc3RyaW5nOyBoZWlnaHQ/OiBzdHJpbmcgfSkge1xyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2XHJcbiAgICAgIGNsYXNzTmFtZT1cImJvcmRlciByb3VuZGVkIG92ZXJmbG93LWhpZGRlbiBwLTRcIlxyXG4gICAgICBzdHlsZT17e1xyXG4gICAgICAgIGJvcmRlckNvbG9yOiAndmFyKC0tdGhlbWUtYm9yZGVyKScsXHJcbiAgICAgICAgYmFja2dyb3VuZDogJ3ZhcigtLXRoZW1lLXN1cmZhY2UpJyxcclxuICAgICAgfX1cclxuICAgID5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxyXG4gICAgICAgIDxpXHJcbiAgICAgICAgICBjbGFzc05hbWU9XCJmYXMgZmEtbXVzaWMgdGV4dC0yeGxcIlxyXG4gICAgICAgICAgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS1wcmltYXJ5KScsIG9wYWNpdHk6IDAuNyB9fVxyXG4gICAgICAgID48L2k+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cclxuICAgICAgICAgIDxhdWRpb1xyXG4gICAgICAgICAgICBjb250cm9sc1xyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGxcIlxyXG4gICAgICAgICAgICBzdHlsZT17eyBoZWlnaHQgfX1cclxuICAgICAgICAgICAgb25FcnJvcj17KGUpID0+IHtcclxuICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldCBhcyBIVE1MQXVkaW9FbGVtZW50O1xyXG4gICAgICAgICAgICAgIHRhcmdldC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRhcmdldC5wYXJlbnRFbGVtZW50Py5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgICAgICAgIGlmIChjb250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwLTQgdGV4dC1jZW50ZXJcIiBzdHlsZT1cImNvbG9yOiB2YXIoLS10aGVtZS10ZXh0LXNlY29uZGFyeSlcIj5cclxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhcyBmYS1oZWFkcGhvbmVzIHRleHQtM3hsIG1iLTJcIiBzdHlsZT1cIm9wYWNpdHk6IDAuNVwiPjwvaT5cclxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gbWItMlwiPkF1ZGlvIHByZXZpZXcgbm90IGF2YWlsYWJsZSBpbiB5b3VyIGJyb3dzZXIuPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgIDxhXHJcbiAgICAgICAgICAgICAgICAgICAgICBocmVmPVwiJHtnZXRBcGlCYXNlVXJsKCl9L2FwaS92MS9maWxlcy8ke2ZpbGVJZH0vZG93bmxvYWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ0ZXh0LWJsdWUtNTAwIHVuZGVybGluZSB0ZXh0LXNtXCJcclxuICAgICAgICAgICAgICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCJcclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhcyBmYS1kb3dubG9hZCBtci0xXCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgICAgICAgQ2xpY2sgaGVyZSB0byBkb3dubG9hZCBhbmQgbGlzdGVuXHJcbiAgICAgICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIGA7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8c291cmNlIHNyYz17YCR7Z2V0QXBpQmFzZVVybCgpfS9hcGkvdjEvZmlsZXMvJHtmaWxlSWR9L3ZpZXdgfSAvPlxyXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtXCIgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0LXNlY29uZGFyeSknIH19PlxyXG4gICAgICAgICAgICAgIFlvdXIgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgYXVkaW8gcGxheWJhY2suXHJcbiAgICAgICAgICAgICAgPGFcclxuICAgICAgICAgICAgICAgIGhyZWY9e2Ake2dldEFwaUJhc2VVcmwoKX0vYXBpL3YxL2ZpbGVzLyR7ZmlsZUlkfS9kb3dubG9hZGB9XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LWJsdWUtNTAwIHVuZGVybGluZSBtbC0xXCJcclxuICAgICAgICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiXHJcbiAgICAgICAgICAgICAgICByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCJcclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICBEb3dubG9hZCBhdWRpb1xyXG4gICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgPC9hdWRpbz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59XHJcblxyXG4vKipcclxuICogVW5rbm93bi9GYWxsYmFjayBWaWV3ZXIgQ29tcG9uZW50XHJcbiAqL1xyXG5mdW5jdGlvbiBVbmtub3duVmlld2VyKHsgZmlsZUlkIH06IHsgZmlsZUlkOiBzdHJpbmcgfSkge1xyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2XHJcbiAgICAgIGNsYXNzTmFtZT1cImJvcmRlciByb3VuZGVkIHAtNiB0ZXh0LWNlbnRlclwiXHJcbiAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgYm9yZGVyQ29sb3I6ICd2YXIoLS10aGVtZS1ib3JkZXIpJyxcclxuICAgICAgICBiYWNrZ3JvdW5kOiAndmFyKC0tdGhlbWUtc3VyZmFjZSknLFxyXG4gICAgICB9fVxyXG4gICAgPlxyXG4gICAgICA8aVxyXG4gICAgICAgIGNsYXNzTmFtZT1cImZhcyBmYS1maWxlIHRleHQtNHhsIG1iLTNcIlxyXG4gICAgICAgIHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dC1tdXRlZCknLCBvcGFjaXR5OiAwLjUgfX1cclxuICAgICAgPjwvaT5cclxuICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSBtYi0yXCIgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10aGVtZS10ZXh0KScgfX0+XHJcbiAgICAgICAgUHJldmlldyBub3QgYXZhaWxhYmxlIGZvciB0aGlzIGZpbGUgdHlwZS5cclxuICAgICAgPC9wPlxyXG4gICAgICA8YVxyXG4gICAgICAgIGhyZWY9e2Ake2dldEFwaUJhc2VVcmwoKX0vYXBpL3YxL2ZpbGVzLyR7ZmlsZUlkfS9kb3dubG9hZGB9XHJcbiAgICAgICAgY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtc20gcHgtMyBweS0yIHJvdW5kZWQgdHJhbnNpdGlvbi1jb2xvcnNcIlxyXG4gICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kOiAndmFyKC0tdGhlbWUtcHJpbWFyeSknLFxyXG4gICAgICAgICAgY29sb3I6ICd3aGl0ZScsXHJcbiAgICAgICAgfX1cclxuICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIlxyXG4gICAgICAgIHJlbD1cIm5vb3BlbmVyIG5vcmVmZXJyZXJcIlxyXG4gICAgICAgIG9uTW91c2VFbnRlcj17KGUpID0+IHtcclxuICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5vcGFjaXR5ID0gJzAuOSc7XHJcbiAgICAgICAgfX1cclxuICAgICAgICBvbk1vdXNlTGVhdmU9eyhlKSA9PiB7XHJcbiAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUub3BhY2l0eSA9ICcxJztcclxuICAgICAgICB9fVxyXG4gICAgICA+XHJcbiAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmFzIGZhLWRvd25sb2FkXCI+PC9pPlxyXG4gICAgICAgIERvd25sb2FkIEZpbGVcclxuICAgICAgPC9hPlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIE1haW4gTWVkaWEgVmlld2VyIENvbXBvbmVudFxyXG4gKiBcclxuICogQXV0by1kZXRlY3RzIG1lZGlhIHR5cGUgYW5kIHJlbmRlcnMgYXBwcm9wcmlhdGUgdmlld2VyLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIE1lZGlhVmlld2VyQ29uZmlnKHtcclxuICBmaWxlSWQsXHJcbiAgZmlsZUNhdGVnb3J5LFxyXG4gIGFjY2VwdCxcclxuICBoZWlnaHQgPSAnNTAwcHgnLFxyXG4gIGNsYXNzTmFtZSA9ICcnLFxyXG4gIG9uQ2xpY2ssXHJcbn06IE1lZGlhVmlld2VyQ29uZmlnUHJvcHMpIHtcclxuICBpZiAoIWZpbGVJZCkge1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICBjb25zdCBtZWRpYVR5cGUgPSBkZXRlY3RNZWRpYVR5cGUoZmlsZUNhdGVnb3J5LCBhY2NlcHQpO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9e2BtdC0zICR7Y2xhc3NOYW1lfWB9PlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gbWItMlwiIHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tdGhlbWUtdGV4dCknIH19PlxyXG4gICAgICAgIHttZWRpYVR5cGUgPT09ICdkb2N1bWVudCcgJiYgJ0RvY3VtZW50IFByZXZpZXc6J31cclxuICAgICAgICB7bWVkaWFUeXBlID09PSAnaW1hZ2UnICYmICdJbWFnZSBQcmV2aWV3Oid9XHJcbiAgICAgICAge21lZGlhVHlwZSA9PT0gJ3ZpZGVvJyAmJiAnVmlkZW8gUHJldmlldzonfVxyXG4gICAgICAgIHttZWRpYVR5cGUgPT09ICdhdWRpbycgJiYgJ0F1ZGlvIFByZXZpZXc6J31cclxuICAgICAgICB7bWVkaWFUeXBlID09PSAndW5rbm93bicgJiYgJ0ZpbGUgUHJldmlldzonfVxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIHttZWRpYVR5cGUgPT09ICdkb2N1bWVudCcgJiYgPERvY3VtZW50Vmlld2VyIGZpbGVJZD17ZmlsZUlkfSBoZWlnaHQ9e2hlaWdodH0gb25DbGljaz17b25DbGlja30gLz59XHJcbiAgICAgIHttZWRpYVR5cGUgPT09ICdpbWFnZScgJiYgPEltYWdlVmlld2VyIGZpbGVJZD17ZmlsZUlkfSBoZWlnaHQ9e2hlaWdodH0gb25DbGljaz17b25DbGlja30gLz59XHJcbiAgICAgIHttZWRpYVR5cGUgPT09ICd2aWRlbycgJiYgPFZpZGVvVmlld2VyIGZpbGVJZD17ZmlsZUlkfSBoZWlnaHQ9e2hlaWdodH0gLz59XHJcbiAgICAgIHttZWRpYVR5cGUgPT09ICdhdWRpbycgJiYgPEF1ZGlvVmlld2VyIGZpbGVJZD17ZmlsZUlkfSAvPn1cclxuICAgICAge21lZGlhVHlwZSA9PT0gJ3Vua25vd24nICYmIDxVbmtub3duVmlld2VyIGZpbGVJZD17ZmlsZUlkfSAvPn1cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn1cclxuXHJcbi8vIEV4cG9ydCBpbmRpdmlkdWFsIHZpZXdlcnMgZm9yIGN1c3RvbSB1c2VcclxuZXhwb3J0IHsgRG9jdW1lbnRWaWV3ZXIsIEltYWdlVmlld2VyLCBWaWRlb1ZpZXdlciwgQXVkaW9WaWV3ZXIsIFVua25vd25WaWV3ZXIgfTtcclxuXHJcbiJdLCJuYW1lcyI6WyJSZWFjdCIsImdldEFwaUJhc2VVcmwiLCJkZXRlY3RNZWRpYVR5cGUiLCJmaWxlQ2F0ZWdvcnkiLCJhY2NlcHQiLCJsb3dlciIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJEb2N1bWVudFZpZXdlciIsImZpbGVJZCIsImhlaWdodCIsIm9uQ2xpY2siLCJkaXYiLCJjbGFzc05hbWUiLCJzdHlsZSIsImJvcmRlckNvbG9yIiwiYmFja2dyb3VuZCIsIm9iamVjdCIsImRhdGEiLCJ0eXBlIiwiY29sb3IiLCJpIiwib3BhY2l0eSIsInAiLCJhIiwiaHJlZiIsInRhcmdldCIsInJlbCIsImJ1dHRvbiIsIm9uTW91c2VFbnRlciIsImUiLCJjdXJyZW50VGFyZ2V0Iiwib25Nb3VzZUxlYXZlIiwidGl0bGUiLCJJbWFnZVZpZXdlciIsImltZyIsInNyYyIsImFsdCIsIm9uRXJyb3IiLCJkaXNwbGF5IiwiY29udGFpbmVyIiwicGFyZW50RWxlbWVudCIsImlubmVySFRNTCIsIlZpZGVvVmlld2VyIiwidmlkZW8iLCJjb250cm9scyIsIm1heEhlaWdodCIsInNvdXJjZSIsIkF1ZGlvVmlld2VyIiwiYXVkaW8iLCJVbmtub3duVmlld2VyIiwiTWVkaWFWaWV3ZXJDb25maWciLCJtZWRpYVR5cGUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/MediaViewerConfig.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/PasswordInput.tsx":
/*!******************************************!*\
  !*** ./src/components/PasswordInput.tsx ***!
  \******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PasswordInput)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/**\r\n * PasswordInput Component\r\n * \r\n * A reusable password input with show/hide toggle (eye icon).\r\n * Applies consistent styling with theme support.\r\n */ \nvar _s = $RefreshSig$();\n\nfunction PasswordInput({ value, onChange, placeholder = \"Enter password or API key\", disabled = false, className = \"\", autoComplete = \"off\" }) {\n    _s();\n    const [showPassword, setShowPassword] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                type: showPassword ? \"text\" : \"password\",\n                value: value,\n                onChange: (e)=>onChange(e.target.value),\n                placeholder: placeholder,\n                disabled: disabled,\n                autoComplete: autoComplete,\n                className: `w-full border rounded-lg px-4 py-2 pr-12 focus:outline-none ${className}`,\n                style: {\n                    background: \"var(--theme-surface-variant)\",\n                    borderColor: \"var(--theme-border)\",\n                    color: \"var(--theme-text)\"\n                },\n                onFocus: (e)=>e.currentTarget.style.borderColor = \"var(--theme-primary)\",\n                onBlur: (e)=>e.currentTarget.style.borderColor = \"var(--theme-border)\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\PasswordInput.tsx\",\n                lineNumber: 31,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                type: \"button\",\n                onClick: ()=>setShowPassword(!showPassword),\n                disabled: disabled,\n                className: \"absolute right-3 top-1/2 transform -translate-y-1/2 focus:outline-none\",\n                style: {\n                    color: showPassword ? \"var(--theme-primary)\" : \"var(--theme-text-muted)\",\n                    cursor: disabled ? \"not-allowed\" : \"pointer\",\n                    opacity: disabled ? 0.5 : 1\n                },\n                title: showPassword ? \"Hide\" : \"Show\",\n                children: showPassword ? // Eye slash (hide)\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                    xmlns: \"http://www.w3.org/2000/svg\",\n                    width: \"20\",\n                    height: \"20\",\n                    viewBox: \"0 0 24 24\",\n                    fill: \"none\",\n                    stroke: \"currentColor\",\n                    strokeWidth: \"2\",\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                            d: \"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\PasswordInput.tsx\",\n                            lineNumber: 76,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"line\", {\n                            x1: \"1\",\n                            y1: \"1\",\n                            x2: \"23\",\n                            y2: \"23\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\PasswordInput.tsx\",\n                            lineNumber: 77,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\PasswordInput.tsx\",\n                    lineNumber: 65,\n                    columnNumber: 11\n                }, this) : // Eye (show)\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                    xmlns: \"http://www.w3.org/2000/svg\",\n                    width: \"20\",\n                    height: \"20\",\n                    viewBox: \"0 0 24 24\",\n                    fill: \"none\",\n                    stroke: \"currentColor\",\n                    strokeWidth: \"2\",\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                            d: \"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\PasswordInput.tsx\",\n                            lineNumber: 92,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                            cx: \"12\",\n                            cy: \"12\",\n                            r: \"3\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\PasswordInput.tsx\",\n                            lineNumber: 93,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\PasswordInput.tsx\",\n                    lineNumber: 81,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\PasswordInput.tsx\",\n                lineNumber: 51,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\nicholas.lee\\\\Documents\\\\z\\\\Ticketing_Nick\\\\Ticketing\\\\tav_opensource\\\\ui\\\\src\\\\components\\\\PasswordInput.tsx\",\n        lineNumber: 30,\n        columnNumber: 5\n    }, this);\n}\n_s(PasswordInput, \"daguiRHWMFkqPgCh/ppD7CF5VuQ=\");\n_c = PasswordInput;\nvar _c;\n$RefreshReg$(_c, \"PasswordInput\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL1Bhc3N3b3JkSW5wdXQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7Ozs7Q0FLQzs7QUFFZ0M7QUFXbEIsU0FBU0MsY0FBYyxFQUNwQ0MsS0FBSyxFQUNMQyxRQUFRLEVBQ1JDLGNBQWMsMkJBQTJCLEVBQ3pDQyxXQUFXLEtBQUssRUFDaEJDLFlBQVksRUFBRSxFQUNkQyxlQUFlLEtBQUssRUFDRDs7SUFDbkIsTUFBTSxDQUFDQyxjQUFjQyxnQkFBZ0IsR0FBR1QsK0NBQVFBLENBQUM7SUFFakQscUJBQ0UsOERBQUNVO1FBQUlKLFdBQVU7OzBCQUNiLDhEQUFDSztnQkFDQ0MsTUFBTUosZUFBZSxTQUFTO2dCQUM5Qk4sT0FBT0E7Z0JBQ1BDLFVBQVUsQ0FBQ1UsSUFBTVYsU0FBU1UsRUFBRUMsTUFBTSxDQUFDWixLQUFLO2dCQUN4Q0UsYUFBYUE7Z0JBQ2JDLFVBQVVBO2dCQUNWRSxjQUFjQTtnQkFDZEQsV0FBVyxDQUFDLDREQUE0RCxFQUFFQSxXQUFXO2dCQUNyRlMsT0FBTztvQkFDTEMsWUFBWTtvQkFDWkMsYUFBYTtvQkFDYkMsT0FBTztnQkFDVDtnQkFDQUMsU0FBUyxDQUFDTixJQUNQQSxFQUFFTyxhQUFhLENBQUNMLEtBQUssQ0FBQ0UsV0FBVyxHQUFHO2dCQUV2Q0ksUUFBUSxDQUFDUixJQUNOQSxFQUFFTyxhQUFhLENBQUNMLEtBQUssQ0FBQ0UsV0FBVyxHQUFHOzs7Ozs7MEJBR3pDLDhEQUFDSztnQkFDQ1YsTUFBSztnQkFDTFcsU0FBUyxJQUFNZCxnQkFBZ0IsQ0FBQ0Q7Z0JBQ2hDSCxVQUFVQTtnQkFDVkMsV0FBVTtnQkFDVlMsT0FBTztvQkFDTEcsT0FBT1YsZUFBZSx5QkFBeUI7b0JBQy9DZ0IsUUFBUW5CLFdBQVcsZ0JBQWdCO29CQUNuQ29CLFNBQVNwQixXQUFXLE1BQU07Z0JBQzVCO2dCQUNBcUIsT0FBT2xCLGVBQWUsU0FBUzswQkFFOUJBLGVBQ0MsbUJBQW1COzhCQUNuQiw4REFBQ21CO29CQUNDQyxPQUFNO29CQUNOQyxPQUFNO29CQUNOQyxRQUFPO29CQUNQQyxTQUFRO29CQUNSQyxNQUFLO29CQUNMQyxRQUFPO29CQUNQQyxhQUFZO29CQUNaQyxlQUFjO29CQUNkQyxnQkFBZTs7c0NBRWYsOERBQUNDOzRCQUFLQyxHQUFFOzs7Ozs7c0NBQ1IsOERBQUNDOzRCQUFLQyxJQUFHOzRCQUFJQyxJQUFHOzRCQUFJQyxJQUFHOzRCQUFLQyxJQUFHOzs7Ozs7Ozs7OzsyQkFHakMsYUFBYTs4QkFDYiw4REFBQ2hCO29CQUNDQyxPQUFNO29CQUNOQyxPQUFNO29CQUNOQyxRQUFPO29CQUNQQyxTQUFRO29CQUNSQyxNQUFLO29CQUNMQyxRQUFPO29CQUNQQyxhQUFZO29CQUNaQyxlQUFjO29CQUNkQyxnQkFBZTs7c0NBRWYsOERBQUNDOzRCQUFLQyxHQUFFOzs7Ozs7c0NBQ1IsOERBQUNNOzRCQUFPQyxJQUFHOzRCQUFLQyxJQUFHOzRCQUFLQyxHQUFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU10QztHQWhGd0I5QztLQUFBQSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxuaWNob2xhcy5sZWVcXERvY3VtZW50c1xcelxcVGlja2V0aW5nX05pY2tcXFRpY2tldGluZ1xcdGF2X29wZW5zb3VyY2VcXHVpXFxzcmNcXGNvbXBvbmVudHNcXFBhc3N3b3JkSW5wdXQudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBQYXNzd29yZElucHV0IENvbXBvbmVudFxyXG4gKiBcclxuICogQSByZXVzYWJsZSBwYXNzd29yZCBpbnB1dCB3aXRoIHNob3cvaGlkZSB0b2dnbGUgKGV5ZSBpY29uKS5cclxuICogQXBwbGllcyBjb25zaXN0ZW50IHN0eWxpbmcgd2l0aCB0aGVtZSBzdXBwb3J0LlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xyXG5cclxuaW50ZXJmYWNlIFBhc3N3b3JkSW5wdXRQcm9wcyB7XHJcbiAgdmFsdWU6IHN0cmluZztcclxuICBvbkNoYW5nZTogKHZhbHVlOiBzdHJpbmcpID0+IHZvaWQ7XHJcbiAgcGxhY2Vob2xkZXI/OiBzdHJpbmc7XHJcbiAgZGlzYWJsZWQ/OiBib29sZWFuO1xyXG4gIGNsYXNzTmFtZT86IHN0cmluZztcclxuICBhdXRvQ29tcGxldGU/OiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBhc3N3b3JkSW5wdXQoe1xyXG4gIHZhbHVlLFxyXG4gIG9uQ2hhbmdlLFxyXG4gIHBsYWNlaG9sZGVyID0gXCJFbnRlciBwYXNzd29yZCBvciBBUEkga2V5XCIsXHJcbiAgZGlzYWJsZWQgPSBmYWxzZSxcclxuICBjbGFzc05hbWUgPSBcIlwiLFxyXG4gIGF1dG9Db21wbGV0ZSA9IFwib2ZmXCJcclxufTogUGFzc3dvcmRJbnB1dFByb3BzKSB7XHJcbiAgY29uc3QgW3Nob3dQYXNzd29yZCwgc2V0U2hvd1Bhc3N3b3JkXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmVcIj5cclxuICAgICAgPGlucHV0XHJcbiAgICAgICAgdHlwZT17c2hvd1Bhc3N3b3JkID8gXCJ0ZXh0XCIgOiBcInBhc3N3b3JkXCJ9XHJcbiAgICAgICAgdmFsdWU9e3ZhbHVlfVxyXG4gICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gb25DaGFuZ2UoZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgIHBsYWNlaG9sZGVyPXtwbGFjZWhvbGRlcn1cclxuICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR9XHJcbiAgICAgICAgYXV0b0NvbXBsZXRlPXthdXRvQ29tcGxldGV9XHJcbiAgICAgICAgY2xhc3NOYW1lPXtgdy1mdWxsIGJvcmRlciByb3VuZGVkLWxnIHB4LTQgcHktMiBwci0xMiBmb2N1czpvdXRsaW5lLW5vbmUgJHtjbGFzc05hbWV9YH1cclxuICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgYmFja2dyb3VuZDogXCJ2YXIoLS10aGVtZS1zdXJmYWNlLXZhcmlhbnQpXCIsXHJcbiAgICAgICAgICBib3JkZXJDb2xvcjogXCJ2YXIoLS10aGVtZS1ib3JkZXIpXCIsXHJcbiAgICAgICAgICBjb2xvcjogXCJ2YXIoLS10aGVtZS10ZXh0KVwiLFxyXG4gICAgICAgIH19XHJcbiAgICAgICAgb25Gb2N1cz17KGUpID0+XHJcbiAgICAgICAgICAoZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJvcmRlckNvbG9yID0gXCJ2YXIoLS10aGVtZS1wcmltYXJ5KVwiKVxyXG4gICAgICAgIH1cclxuICAgICAgICBvbkJsdXI9eyhlKSA9PlxyXG4gICAgICAgICAgKGUuY3VycmVudFRhcmdldC5zdHlsZS5ib3JkZXJDb2xvciA9IFwidmFyKC0tdGhlbWUtYm9yZGVyKVwiKVxyXG4gICAgICAgIH1cclxuICAgICAgLz5cclxuICAgICAgPGJ1dHRvblxyXG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxyXG4gICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dQYXNzd29yZCghc2hvd1Bhc3N3b3JkKX1cclxuICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR9XHJcbiAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgcmlnaHQtMyB0b3AtMS8yIHRyYW5zZm9ybSAtdHJhbnNsYXRlLXktMS8yIGZvY3VzOm91dGxpbmUtbm9uZVwiXHJcbiAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgIGNvbG9yOiBzaG93UGFzc3dvcmQgPyBcInZhcigtLXRoZW1lLXByaW1hcnkpXCIgOiBcInZhcigtLXRoZW1lLXRleHQtbXV0ZWQpXCIsXHJcbiAgICAgICAgICBjdXJzb3I6IGRpc2FibGVkID8gXCJub3QtYWxsb3dlZFwiIDogXCJwb2ludGVyXCIsXHJcbiAgICAgICAgICBvcGFjaXR5OiBkaXNhYmxlZCA/IDAuNSA6IDEsXHJcbiAgICAgICAgfX1cclxuICAgICAgICB0aXRsZT17c2hvd1Bhc3N3b3JkID8gXCJIaWRlXCIgOiBcIlNob3dcIn1cclxuICAgICAgPlxyXG4gICAgICAgIHtzaG93UGFzc3dvcmQgPyAoXHJcbiAgICAgICAgICAvLyBFeWUgc2xhc2ggKGhpZGUpXHJcbiAgICAgICAgICA8c3ZnXHJcbiAgICAgICAgICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxyXG4gICAgICAgICAgICB3aWR0aD1cIjIwXCJcclxuICAgICAgICAgICAgaGVpZ2h0PVwiMjBcIlxyXG4gICAgICAgICAgICB2aWV3Qm94PVwiMCAwIDI0IDI0XCJcclxuICAgICAgICAgICAgZmlsbD1cIm5vbmVcIlxyXG4gICAgICAgICAgICBzdHJva2U9XCJjdXJyZW50Q29sb3JcIlxyXG4gICAgICAgICAgICBzdHJva2VXaWR0aD1cIjJcIlxyXG4gICAgICAgICAgICBzdHJva2VMaW5lY2FwPVwicm91bmRcIlxyXG4gICAgICAgICAgICBzdHJva2VMaW5lam9pbj1cInJvdW5kXCJcclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPHBhdGggZD1cIk0xNy45NCAxNy45NEExMC4wNyAxMC4wNyAwIDAgMSAxMiAyMGMtNyAwLTExLTgtMTEtOGExOC40NSAxOC40NSAwIDAgMSA1LjA2LTUuOTRNOS45IDQuMjRBOS4xMiA5LjEyIDAgMCAxIDEyIDRjNyAwIDExIDggMTEgOGExOC41IDE4LjUgMCAwIDEtMi4xNiAzLjE5bS02LjcyLTEuMDdhMyAzIDAgMSAxLTQuMjQtNC4yNFwiIC8+XHJcbiAgICAgICAgICAgIDxsaW5lIHgxPVwiMVwiIHkxPVwiMVwiIHgyPVwiMjNcIiB5Mj1cIjIzXCIgLz5cclxuICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICkgOiAoXHJcbiAgICAgICAgICAvLyBFeWUgKHNob3cpXHJcbiAgICAgICAgICA8c3ZnXHJcbiAgICAgICAgICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxyXG4gICAgICAgICAgICB3aWR0aD1cIjIwXCJcclxuICAgICAgICAgICAgaGVpZ2h0PVwiMjBcIlxyXG4gICAgICAgICAgICB2aWV3Qm94PVwiMCAwIDI0IDI0XCJcclxuICAgICAgICAgICAgZmlsbD1cIm5vbmVcIlxyXG4gICAgICAgICAgICBzdHJva2U9XCJjdXJyZW50Q29sb3JcIlxyXG4gICAgICAgICAgICBzdHJva2VXaWR0aD1cIjJcIlxyXG4gICAgICAgICAgICBzdHJva2VMaW5lY2FwPVwicm91bmRcIlxyXG4gICAgICAgICAgICBzdHJva2VMaW5lam9pbj1cInJvdW5kXCJcclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPHBhdGggZD1cIk0xIDEyczQtOCAxMS04IDExIDggMTEgOC00IDgtMTEgOC0xMS04LTExLTh6XCIgLz5cclxuICAgICAgICAgICAgPGNpcmNsZSBjeD1cIjEyXCIgY3k9XCIxMlwiIHI9XCIzXCIgLz5cclxuICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICl9XHJcbiAgICAgIDwvYnV0dG9uPlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG5cclxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwiUGFzc3dvcmRJbnB1dCIsInZhbHVlIiwib25DaGFuZ2UiLCJwbGFjZWhvbGRlciIsImRpc2FibGVkIiwiY2xhc3NOYW1lIiwiYXV0b0NvbXBsZXRlIiwic2hvd1Bhc3N3b3JkIiwic2V0U2hvd1Bhc3N3b3JkIiwiZGl2IiwiaW5wdXQiLCJ0eXBlIiwiZSIsInRhcmdldCIsInN0eWxlIiwiYmFja2dyb3VuZCIsImJvcmRlckNvbG9yIiwiY29sb3IiLCJvbkZvY3VzIiwiY3VycmVudFRhcmdldCIsIm9uQmx1ciIsImJ1dHRvbiIsIm9uQ2xpY2siLCJjdXJzb3IiLCJvcGFjaXR5IiwidGl0bGUiLCJzdmciLCJ4bWxucyIsIndpZHRoIiwiaGVpZ2h0Iiwidmlld0JveCIsImZpbGwiLCJzdHJva2UiLCJzdHJva2VXaWR0aCIsInN0cm9rZUxpbmVjYXAiLCJzdHJva2VMaW5lam9pbiIsInBhdGgiLCJkIiwibGluZSIsIngxIiwieTEiLCJ4MiIsInkyIiwiY2lyY2xlIiwiY3giLCJjeSIsInIiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/PasswordInput.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/lib/api-config.ts":
/*!*******************************!*\
  !*** ./src/lib/api-config.ts ***!
  \*******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   API_BASE_URL: () => (/* binding */ API_BASE_URL),\n/* harmony export */   getApiBaseUrl: () => (/* binding */ getApiBaseUrl),\n/* harmony export */   getApiUrl: () => (/* binding */ getApiUrl)\n/* harmony export */ });\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\");\n/**\r\n * Centralized API Configuration\r\n * Single source of truth for API base URL\r\n * \r\n * Port Configuration:\r\n * - NEXT_PUBLIC_BACKEND_PORT: Backend port (default: 5000)\r\n * - NEXT_PUBLIC_API_URL: Full override (takes precedence if set)\r\n * \r\n * Auto-detects backend URL based on current environment:\r\n * - If accessed via localhost  backend at localhost:<BACKEND_PORT>\r\n * - If accessed via LAN IP  backend at same IP:<BACKEND_PORT>\r\n */ // Get backend port from environment or default\nconst BACKEND_PORT = \"5001\" || 0;\n/**\r\n * Dynamic API URL detection (works for both local and LAN)\r\n * Always computes fresh on the client to ensure correct URL after SSR hydration\r\n */ function getApiBaseUrl() {\n    // Server-side rendering: use environment variable or default\n    if (false) {}\n    // If full API URL is explicitly set via env var, use it\n    if (process.env.NEXT_PUBLIC_API_URL) {\n        return process.env.NEXT_PUBLIC_API_URL;\n    }\n    // Client-side: detect from current hostname (always fresh, no caching)\n    const hostname = window.location.hostname;\n    const protocol = window.location.protocol;\n    // If accessed via localhost/127.0.0.1, use localhost:<port>\n    if (hostname === 'localhost' || hostname === '127.0.0.1') {\n        const url = `${protocol}//localhost:${BACKEND_PORT}`;\n        return url;\n    }\n    // If accessed via IP address, use same IP:<port>\n    const url = `${protocol}//${hostname}:${BACKEND_PORT}`;\n    return url;\n}\n// DEPRECATED: This constant is evaluated at module load time during SSR\n// and will be stale on the client. Use getApiBaseUrl() instead.\n// Keeping for backward compatibility but all new code should use the function.\nconst API_BASE_URL =  true ? getApiBaseUrl() : 0;\n/**\r\n * Get the full API URL for a given endpoint\r\n * @param endpoint - The API endpoint (e.g., '/api/v1/workflows')\r\n * @returns The full URL\r\n */ function getApiUrl(endpoint) {\n    // Remove leading slash if present to avoid double slashes\n    const cleanEndpoint = endpoint.startsWith('/') ? endpoint : `/${endpoint}`;\n    return `${getApiBaseUrl()}${cleanEndpoint}`;\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvYXBpLWNvbmZpZy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7Ozs7Ozs7O0NBV0MsR0FFRCwrQ0FBK0M7QUFDL0MsTUFBTUEsZUFBZUMsTUFBb0MsSUFBSSxDQUFNO0FBRW5FOzs7Q0FHQyxHQUNNLFNBQVNHO0lBQ2QsNkRBQTZEO0lBQzdELElBQUksS0FBNkIsRUFBRSxFQUVsQztJQUVELHdEQUF3RDtJQUN4RCxJQUFJSCxPQUFPQSxDQUFDQyxHQUFHLENBQUNHLG1CQUFtQixFQUFFO1FBQ25DLE9BQU9KLE9BQU9BLENBQUNDLEdBQUcsQ0FBQ0csbUJBQW1CO0lBQ3hDO0lBRUEsdUVBQXVFO0lBQ3ZFLE1BQU1DLFdBQVdDLE9BQU9DLFFBQVEsQ0FBQ0YsUUFBUTtJQUN6QyxNQUFNRyxXQUFXRixPQUFPQyxRQUFRLENBQUNDLFFBQVE7SUFHekMsNERBQTREO0lBQzVELElBQUlILGFBQWEsZUFBZUEsYUFBYSxhQUFhO1FBQ3hELE1BQU1JLE1BQU0sR0FBR0QsU0FBUyxZQUFZLEVBQUVULGNBQWM7UUFDcEQsT0FBT1U7SUFDVDtJQUVBLGlEQUFpRDtJQUNqRCxNQUFNQSxNQUFNLEdBQUdELFNBQVMsRUFBRSxFQUFFSCxTQUFTLENBQUMsRUFBRU4sY0FBYztJQUN0RCxPQUFPVTtBQUNUO0FBRUEsd0VBQXdFO0FBQ3hFLGdFQUFnRTtBQUNoRSwrRUFBK0U7QUFDeEUsTUFBTUMsZUFBZSxLQUE2QixHQUNyRFAsa0JBQ0NILENBQXFFLENBQUU7QUFFNUU7Ozs7Q0FJQyxHQUNNLFNBQVNXLFVBQVVDLFFBQWdCO0lBQ3hDLDBEQUEwRDtJQUMxRCxNQUFNQyxnQkFBZ0JELFNBQVNFLFVBQVUsQ0FBQyxPQUFPRixXQUFXLENBQUMsQ0FBQyxFQUFFQSxVQUFVO0lBQzFFLE9BQU8sR0FBR1Qsa0JBQWtCVSxlQUFlO0FBQzdDIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXG5pY2hvbGFzLmxlZVxcRG9jdW1lbnRzXFx6XFxUaWNrZXRpbmdfTmlja1xcVGlja2V0aW5nXFx0YXZfb3BlbnNvdXJjZVxcdWlcXHNyY1xcbGliXFxhcGktY29uZmlnLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDZW50cmFsaXplZCBBUEkgQ29uZmlndXJhdGlvblxyXG4gKiBTaW5nbGUgc291cmNlIG9mIHRydXRoIGZvciBBUEkgYmFzZSBVUkxcclxuICogXHJcbiAqIFBvcnQgQ29uZmlndXJhdGlvbjpcclxuICogLSBORVhUX1BVQkxJQ19CQUNLRU5EX1BPUlQ6IEJhY2tlbmQgcG9ydCAoZGVmYXVsdDogNTAwMClcclxuICogLSBORVhUX1BVQkxJQ19BUElfVVJMOiBGdWxsIG92ZXJyaWRlICh0YWtlcyBwcmVjZWRlbmNlIGlmIHNldClcclxuICogXHJcbiAqIEF1dG8tZGV0ZWN0cyBiYWNrZW5kIFVSTCBiYXNlZCBvbiBjdXJyZW50IGVudmlyb25tZW50OlxyXG4gKiAtIElmIGFjY2Vzc2VkIHZpYSBsb2NhbGhvc3Qg4oaSIGJhY2tlbmQgYXQgbG9jYWxob3N0OjxCQUNLRU5EX1BPUlQ+XHJcbiAqIC0gSWYgYWNjZXNzZWQgdmlhIExBTiBJUCDihpIgYmFja2VuZCBhdCBzYW1lIElQOjxCQUNLRU5EX1BPUlQ+XHJcbiAqL1xyXG5cclxuLy8gR2V0IGJhY2tlbmQgcG9ydCBmcm9tIGVudmlyb25tZW50IG9yIGRlZmF1bHRcclxuY29uc3QgQkFDS0VORF9QT1JUID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9QT1JUIHx8ICc1MDAwJztcclxuXHJcbi8qKlxyXG4gKiBEeW5hbWljIEFQSSBVUkwgZGV0ZWN0aW9uICh3b3JrcyBmb3IgYm90aCBsb2NhbCBhbmQgTEFOKVxyXG4gKiBBbHdheXMgY29tcHV0ZXMgZnJlc2ggb24gdGhlIGNsaWVudCB0byBlbnN1cmUgY29ycmVjdCBVUkwgYWZ0ZXIgU1NSIGh5ZHJhdGlvblxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEFwaUJhc2VVcmwoKTogc3RyaW5nIHtcclxuICAvLyBTZXJ2ZXItc2lkZSByZW5kZXJpbmc6IHVzZSBlbnZpcm9ubWVudCB2YXJpYWJsZSBvciBkZWZhdWx0XHJcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICByZXR1cm4gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTCB8fCBgaHR0cDovL2xvY2FsaG9zdDoke0JBQ0tFTkRfUE9SVH1gO1xyXG4gIH1cclxuICBcclxuICAvLyBJZiBmdWxsIEFQSSBVUkwgaXMgZXhwbGljaXRseSBzZXQgdmlhIGVudiB2YXIsIHVzZSBpdFxyXG4gIGlmIChwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMKSB7XHJcbiAgICByZXR1cm4gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTDtcclxuICB9XHJcbiAgXHJcbiAgLy8gQ2xpZW50LXNpZGU6IGRldGVjdCBmcm9tIGN1cnJlbnQgaG9zdG5hbWUgKGFsd2F5cyBmcmVzaCwgbm8gY2FjaGluZylcclxuICBjb25zdCBob3N0bmFtZSA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZTtcclxuICBjb25zdCBwcm90b2NvbCA9IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbDtcclxuICBcclxuICBcclxuICAvLyBJZiBhY2Nlc3NlZCB2aWEgbG9jYWxob3N0LzEyNy4wLjAuMSwgdXNlIGxvY2FsaG9zdDo8cG9ydD5cclxuICBpZiAoaG9zdG5hbWUgPT09ICdsb2NhbGhvc3QnIHx8IGhvc3RuYW1lID09PSAnMTI3LjAuMC4xJykge1xyXG4gICAgY29uc3QgdXJsID0gYCR7cHJvdG9jb2x9Ly9sb2NhbGhvc3Q6JHtCQUNLRU5EX1BPUlR9YDtcclxuICAgIHJldHVybiB1cmw7XHJcbiAgfVxyXG4gIFxyXG4gIC8vIElmIGFjY2Vzc2VkIHZpYSBJUCBhZGRyZXNzLCB1c2Ugc2FtZSBJUDo8cG9ydD5cclxuICBjb25zdCB1cmwgPSBgJHtwcm90b2NvbH0vLyR7aG9zdG5hbWV9OiR7QkFDS0VORF9QT1JUfWA7XHJcbiAgcmV0dXJuIHVybDtcclxufVxyXG5cclxuLy8gREVQUkVDQVRFRDogVGhpcyBjb25zdGFudCBpcyBldmFsdWF0ZWQgYXQgbW9kdWxlIGxvYWQgdGltZSBkdXJpbmcgU1NSXHJcbi8vIGFuZCB3aWxsIGJlIHN0YWxlIG9uIHRoZSBjbGllbnQuIFVzZSBnZXRBcGlCYXNlVXJsKCkgaW5zdGVhZC5cclxuLy8gS2VlcGluZyBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSBidXQgYWxsIG5ldyBjb2RlIHNob3VsZCB1c2UgdGhlIGZ1bmN0aW9uLlxyXG5leHBvcnQgY29uc3QgQVBJX0JBU0VfVVJMID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgXHJcbiAgPyBnZXRBcGlCYXNlVXJsKCkgXHJcbiAgOiAocHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTCB8fCBgaHR0cDovL2xvY2FsaG9zdDoke0JBQ0tFTkRfUE9SVH1gKTtcclxuXHJcbi8qKlxyXG4gKiBHZXQgdGhlIGZ1bGwgQVBJIFVSTCBmb3IgYSBnaXZlbiBlbmRwb2ludFxyXG4gKiBAcGFyYW0gZW5kcG9pbnQgLSBUaGUgQVBJIGVuZHBvaW50IChlLmcuLCAnL2FwaS92MS93b3JrZmxvd3MnKVxyXG4gKiBAcmV0dXJucyBUaGUgZnVsbCBVUkxcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRBcGlVcmwoZW5kcG9pbnQ6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgLy8gUmVtb3ZlIGxlYWRpbmcgc2xhc2ggaWYgcHJlc2VudCB0byBhdm9pZCBkb3VibGUgc2xhc2hlc1xyXG4gIGNvbnN0IGNsZWFuRW5kcG9pbnQgPSBlbmRwb2ludC5zdGFydHNXaXRoKCcvJykgPyBlbmRwb2ludCA6IGAvJHtlbmRwb2ludH1gO1xyXG4gIHJldHVybiBgJHtnZXRBcGlCYXNlVXJsKCl9JHtjbGVhbkVuZHBvaW50fWA7XHJcbn1cclxuXHJcbiJdLCJuYW1lcyI6WyJCQUNLRU5EX1BPUlQiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQkFDS0VORF9QT1JUIiwiZ2V0QXBpQmFzZVVybCIsIk5FWFRfUFVCTElDX0FQSV9VUkwiLCJob3N0bmFtZSIsIndpbmRvdyIsImxvY2F0aW9uIiwicHJvdG9jb2wiLCJ1cmwiLCJBUElfQkFTRV9VUkwiLCJnZXRBcGlVcmwiLCJlbmRwb2ludCIsImNsZWFuRW5kcG9pbnQiLCJzdGFydHNXaXRoIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/api-config.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/lib/editor.ts":
/*!***************************!*\
  !*** ./src/lib/editor.ts ***!
  \***************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addAIProvider: () => (/* binding */ addAIProvider),\n/* harmony export */   createWorkflow: () => (/* binding */ createWorkflow),\n/* harmony export */   deleteAIProvider: () => (/* binding */ deleteAIProvider),\n/* harmony export */   deleteWorkflow: () => (/* binding */ deleteWorkflow),\n/* harmony export */   executeWorkflow: () => (/* binding */ executeWorkflow),\n/* harmony export */   fetchNodeDefinitions: () => (/* binding */ fetchNodeDefinitions),\n/* harmony export */   getAISettings: () => (/* binding */ getAISettings),\n/* harmony export */   getAvailableProviders: () => (/* binding */ getAvailableProviders),\n/* harmony export */   getDeveloperSettings: () => (/* binding */ getDeveloperSettings),\n/* harmony export */   getExecutionSettings: () => (/* binding */ getExecutionSettings),\n/* harmony export */   getIntegrationsSettings: () => (/* binding */ getIntegrationsSettings),\n/* harmony export */   getRetryInfo: () => (/* binding */ getRetryInfo),\n/* harmony export */   getSecuritySettings: () => (/* binding */ getSecuritySettings),\n/* harmony export */   getStorageSettings: () => (/* binding */ getStorageSettings),\n/* harmony export */   getUISettings: () => (/* binding */ getUISettings),\n/* harmony export */   getWorkflow: () => (/* binding */ getWorkflow),\n/* harmony export */   listWorkflows: () => (/* binding */ listWorkflows),\n/* harmony export */   pauseWorkflow: () => (/* binding */ pauseWorkflow),\n/* harmony export */   resumeWorkflow: () => (/* binding */ resumeWorkflow),\n/* harmony export */   retryExecution: () => (/* binding */ retryExecution),\n/* harmony export */   stopWorkflow: () => (/* binding */ stopWorkflow),\n/* harmony export */   streamExecutionEvents: () => (/* binding */ streamExecutionEvents),\n/* harmony export */   streamWorkflowEvents: () => (/* binding */ streamWorkflowEvents),\n/* harmony export */   updateAIProvider: () => (/* binding */ updateAIProvider),\n/* harmony export */   updateAISettings: () => (/* binding */ updateAISettings),\n/* harmony export */   updateDeveloperSettings: () => (/* binding */ updateDeveloperSettings),\n/* harmony export */   updateExecutionSettings: () => (/* binding */ updateExecutionSettings),\n/* harmony export */   updateIntegrationsSettings: () => (/* binding */ updateIntegrationsSettings),\n/* harmony export */   updateSecuritySettings: () => (/* binding */ updateSecuritySettings),\n/* harmony export */   updateStorageSettings: () => (/* binding */ updateStorageSettings),\n/* harmony export */   updateUISettings: () => (/* binding */ updateUISettings),\n/* harmony export */   updateWorkflow: () => (/* binding */ updateWorkflow),\n/* harmony export */   validateAIProvider: () => (/* binding */ validateAIProvider)\n/* harmony export */ });\n/* harmony import */ var _api_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./api-config */ \"(app-pages-browser)/./src/lib/api-config.ts\");\n/**\r\n * Workflow Editor API Integration\r\n * Handles all backend API calls for the workflow editor\r\n */ \n// ===== HELPER =====\nasync function apiFetch(url, options) {\n    try {\n        const response = await fetch(url, {\n            headers: {\n                'Content-Type': 'application/json',\n                ...options?.headers\n            },\n            credentials: 'include',\n            ...options\n        });\n        if (!response.ok) {\n            const errorData = await response.json().catch(()=>({}));\n            throw new Error(errorData.detail || `HTTP ${response.status}: ${response.statusText}`);\n        }\n        // Handle 204 No Content\n        if (response.status === 204) {\n            return null;\n        }\n        return await response.json();\n    } catch (error) {\n        console.error('API fetch error:', error);\n        throw error;\n    }\n}\n// ===== WORKFLOW CRUD =====\n/**\r\n * Create a new workflow\r\n */ async function createWorkflow(workflow) {\n    return await apiFetch(`${(0,_api_config__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)()}/api/v1/workflows`, {\n        method: 'POST',\n        body: JSON.stringify(workflow)\n    });\n}\n/**\r\n * Get all workflows (for Load dialog)\r\n */ async function listWorkflows() {\n    return await apiFetch(`${(0,_api_config__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)()}/api/v1/workflows`);\n}\n/**\r\n * Get a single workflow by ID\r\n */ async function getWorkflow(id) {\n    return await apiFetch(`${(0,_api_config__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)()}/api/v1/workflows/${id}`);\n}\n/**\r\n * Update a workflow\r\n */ async function updateWorkflow(id, workflow) {\n    return await apiFetch(`${(0,_api_config__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)()}/api/v1/workflows/${id}`, {\n        method: 'PUT',\n        body: JSON.stringify(workflow)\n    });\n}\n/**\r\n * Delete a workflow\r\n */ async function deleteWorkflow(id) {\n    return await apiFetch(`${(0,_api_config__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)()}/api/v1/workflows/${id}`, {\n        method: 'DELETE'\n    });\n}\n// ===== EXECUTION CONTROL =====\n/**\r\n * Execute a workflow (Run button)\r\n */ async function executeWorkflow(workflowId, triggerData) {\n    return await apiFetch(`${(0,_api_config__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)()}/api/v1/workflows/${workflowId}/execute`, {\n        method: 'POST',\n        body: JSON.stringify({\n            trigger_data: triggerData\n        })\n    });\n}\n/**\r\n * Stop a workflow\r\n */ async function stopWorkflow(workflowId) {\n    return await apiFetch(`${(0,_api_config__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)()}/api/v1/workflows/${workflowId}/stop`, {\n        method: 'POST'\n    });\n}\n/**\r\n * Pause a workflow\r\n */ async function pauseWorkflow(workflowId) {\n    return await apiFetch(`${(0,_api_config__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)()}/api/v1/workflows/${workflowId}/pause`, {\n        method: 'POST'\n    });\n}\n/**\r\n * Resume a workflow\r\n */ async function resumeWorkflow(workflowId) {\n    return await apiFetch(`${(0,_api_config__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)()}/api/v1/workflows/${workflowId}/resume`, {\n        method: 'POST'\n    });\n}\n/**\r\n * Retry execution from checkpoint\r\n * Creates new execution that skips already-completed nodes\r\n */ async function retryExecution(executionId, force = false) {\n    return await apiFetch(`${(0,_api_config__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)()}/api/v1/executions/${executionId}/retry?force=${force}`, {\n        method: 'POST'\n    });\n}\n/**\r\n * Get retry info for an execution\r\n * Returns information about what nodes would be skipped and any structure warnings\r\n */ async function getRetryInfo(executionId) {\n    return await apiFetch(`${(0,_api_config__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)()}/api/v1/executions/${executionId}/retry-info`);\n}\n// ===== NODE DEFINITIONS =====\n/**\r\n * Get node definitions from backend\r\n */ async function fetchNodeDefinitions() {\n    return await apiFetch(`${(0,_api_config__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)()}/api/v1/nodes/definitions`);\n}\n// ===== SSE STREAMING =====\n/**\r\n * Stream execution events via SSE (for one-shot workflows)\r\n * Returns a cleanup function to close the connection\r\n */ function streamExecutionEvents(executionId, onEvent, onError) {\n    const url = `${(0,_api_config__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)()}/api/v1/executions/${executionId}/stream`;\n    const eventSource = new EventSource(url);\n    let receivedTerminalEvent = false;\n    eventSource.onmessage = (event)=>{\n        try {\n            const data = JSON.parse(event.data);\n            // Track if we received a terminal event\n            if ([\n                'execution_complete',\n                'execution_failed',\n                'execution_stopped'\n            ].includes(data.type)) {\n                receivedTerminalEvent = true;\n            }\n            onEvent(data);\n        } catch (error) {\n            console.error('Failed to parse SSE event:', error);\n            onError?.(error);\n        }\n    };\n    eventSource.onerror = (error)=>{\n        // Only treat as error if we didn't receive a terminal event\n        // (terminal events close the connection normally)\n        if (!receivedTerminalEvent) {\n            // Give a tiny delay to let any pending messages process\n            setTimeout(()=>{\n                if (!receivedTerminalEvent) {\n                    console.error('SSE connection error:', error);\n                    onError?.(new Error('SSE connection failed'));\n                }\n            }, 50);\n        }\n        eventSource.close();\n    };\n    // Return cleanup function\n    return ()=>{\n        eventSource.close();\n    };\n}\n/**\r\n * Stream workflow events via SSE (for monitoring/trigger workflows)\r\n * Returns a cleanup function to close the connection\r\n */ function streamWorkflowEvents(workflowId, onEvent, onError) {\n    const url = `${(0,_api_config__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)()}/api/v1/executions/workflow/${workflowId}/stream`;\n    console.log('[streamWorkflowEvents] Connecting to:', url);\n    const eventSource = new EventSource(url);\n    eventSource.onopen = ()=>{\n        console.log('[streamWorkflowEvents] Connection opened');\n    };\n    eventSource.onmessage = (event)=>{\n        try {\n            const data = JSON.parse(event.data);\n            console.log('[streamWorkflowEvents] Message received:', data);\n            onEvent(data);\n        } catch (error) {\n            console.error('[streamWorkflowEvents] Failed to parse SSE event:', error);\n            onError?.(error);\n        }\n    };\n    eventSource.onerror = (error)=>{\n        console.error('[streamWorkflowEvents] SSE connection error:', error);\n        console.error('[streamWorkflowEvents] EventSource readyState:', eventSource.readyState);\n        onError?.(new Error('SSE connection failed'));\n        eventSource.close();\n    };\n    // Return cleanup function\n    return ()=>{\n        console.log('[streamWorkflowEvents] Closing connection');\n        eventSource.close();\n    };\n}\n/**\r\n * Get UI settings from backend\r\n */ async function getUISettings() {\n    return await apiFetch(`${(0,_api_config__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)()}/api/v1/settings/ui`);\n}\n/**\r\n * Update UI settings in backend\r\n */ async function updateUISettings(settings) {\n    return await apiFetch(`${(0,_api_config__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)()}/api/v1/settings/ui`, {\n        method: 'PUT',\n        body: JSON.stringify(settings)\n    });\n}\n/**\r\n * Get security settings from backend\r\n */ async function getSecuritySettings() {\n    return await apiFetch(`${(0,_api_config__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)()}/api/v1/settings/security`);\n}\n/**\r\n * Update security settings in backend\r\n */ async function updateSecuritySettings(settings) {\n    return await apiFetch(`${(0,_api_config__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)()}/api/v1/settings/security`, {\n        method: 'PUT',\n        body: JSON.stringify(settings)\n    });\n}\n/**\r\n * Get developer settings from backend\r\n */ async function getDeveloperSettings() {\n    return await apiFetch(`${(0,_api_config__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)()}/api/v1/settings/developer`);\n}\n/**\r\n * Update developer settings in backend\r\n */ async function updateDeveloperSettings(settings) {\n    return await apiFetch(`${(0,_api_config__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)()}/api/v1/settings/developer`, {\n        method: 'PUT',\n        body: JSON.stringify(settings)\n    });\n}\n/**\r\n * Get storage settings from backend\r\n */ async function getStorageSettings() {\n    return await apiFetch(`${(0,_api_config__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)()}/api/v1/settings/storage`);\n}\n/**\r\n * Update storage settings in backend\r\n */ async function updateStorageSettings(settings) {\n    return await apiFetch(`${(0,_api_config__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)()}/api/v1/settings/storage`, {\n        method: 'PUT',\n        body: JSON.stringify(settings)\n    });\n}\n/**\r\n * Get execution settings from backend\r\n */ async function getExecutionSettings() {\n    return await apiFetch(`${(0,_api_config__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)()}/api/v1/settings/execution`);\n}\n/**\r\n * Update execution settings in backend\r\n */ async function updateExecutionSettings(settings) {\n    return await apiFetch(`${(0,_api_config__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)()}/api/v1/settings/execution`, {\n        method: 'PUT',\n        body: JSON.stringify(settings)\n    });\n}\n/**\r\n * Get integrations settings from backend\r\n */ async function getIntegrationsSettings() {\n    return await apiFetch(`${(0,_api_config__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)()}/api/v1/settings/integrations`);\n}\n/**\r\n * Update integrations settings\r\n */ async function updateIntegrationsSettings(settings) {\n    return await apiFetch(`${(0,_api_config__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)()}/api/v1/settings/integrations`, {\n        method: 'PUT',\n        body: JSON.stringify(settings)\n    });\n}\n/**\r\n * Get available AI providers (dynamically from backend)\r\n */ async function getAvailableProviders() {\n    return await apiFetch(`${(0,_api_config__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)()}/api/v1/ai/providers/available`);\n}\n/**\r\n * Validate AI provider credentials and fetch available models\r\n */ async function validateAIProvider(request) {\n    return await apiFetch(`${(0,_api_config__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)()}/api/v1/ai/providers/validate`, {\n        method: 'POST',\n        body: JSON.stringify(request)\n    });\n}\n/**\r\n * Get current AI settings\r\n */ async function getAISettings() {\n    return await apiFetch(`${(0,_api_config__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)()}/api/v1/ai/settings`);\n}\n/**\r\n * Update AI settings\r\n */ async function updateAISettings(settings) {\n    return await apiFetch(`${(0,_api_config__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)()}/api/v1/settings/ai`, {\n        method: 'PUT',\n        body: JSON.stringify(settings)\n    });\n}\n/**\r\n * Add a new AI provider\r\n */ async function addAIProvider(providerName, config) {\n    const currentSettings = await getAISettings();\n    currentSettings.providers[providerName] = config;\n    return await updateAISettings(currentSettings);\n}\n/**\r\n * Update an existing AI provider\r\n */ async function updateAIProvider(providerName, config) {\n    const currentSettings = await getAISettings();\n    currentSettings.providers[providerName] = config;\n    return await updateAISettings(currentSettings);\n}\n/**\r\n * Delete an AI provider\r\n */ async function deleteAIProvider(providerName) {\n    const currentSettings = await getAISettings();\n    delete currentSettings.providers[providerName];\n    return await updateAISettings(currentSettings);\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvZWRpdG9yLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7O0NBR0MsR0FFNEM7QUFFN0MscUJBQXFCO0FBQ3JCLGVBQWVDLFNBQVlDLEdBQVcsRUFBRUMsT0FBcUI7SUFDM0QsSUFBSTtRQUNGLE1BQU1DLFdBQVcsTUFBTUMsTUFBTUgsS0FBSztZQUNoQ0ksU0FBUztnQkFDUCxnQkFBZ0I7Z0JBQ2hCLEdBQUdILFNBQVNHLE9BQU87WUFDckI7WUFDQUMsYUFBYTtZQUNiLEdBQUdKLE9BQU87UUFDWjtRQUVBLElBQUksQ0FBQ0MsU0FBU0ksRUFBRSxFQUFFO1lBQ2hCLE1BQU1DLFlBQVksTUFBTUwsU0FBU00sSUFBSSxHQUFHQyxLQUFLLENBQUMsSUFBTyxFQUFDO1lBQ3RELE1BQU0sSUFBSUMsTUFBTUgsVUFBVUksTUFBTSxJQUFJLENBQUMsS0FBSyxFQUFFVCxTQUFTVSxNQUFNLENBQUMsRUFBRSxFQUFFVixTQUFTVyxVQUFVLEVBQUU7UUFDdkY7UUFFQSx3QkFBd0I7UUFDeEIsSUFBSVgsU0FBU1UsTUFBTSxLQUFLLEtBQUs7WUFDM0IsT0FBTztRQUNUO1FBRUEsT0FBTyxNQUFNVixTQUFTTSxJQUFJO0lBQzVCLEVBQUUsT0FBT00sT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsb0JBQW9CQTtRQUNsQyxNQUFNQTtJQUNSO0FBQ0Y7QUFFQSw0QkFBNEI7QUFFNUI7O0NBRUMsR0FDTSxlQUFlRSxlQUFlQyxRQUFhO0lBQ2hELE9BQU8sTUFBTWxCLFNBQVMsR0FBR0QsMERBQWFBLEdBQUcsaUJBQWlCLENBQUMsRUFBRTtRQUMzRG9CLFFBQVE7UUFDUkMsTUFBTUMsS0FBS0MsU0FBUyxDQUFDSjtJQUN2QjtBQUNGO0FBRUE7O0NBRUMsR0FDTSxlQUFlSztJQUNwQixPQUFPLE1BQU12QixTQUFTLEdBQUdELDBEQUFhQSxHQUFHLGlCQUFpQixDQUFDO0FB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QUFlNkUsaUJBQWlCZixRQUFvQjtJQUN6RCxPQUFPLE1BQU03RCxTQUFTLEdBQUdELDBEQUFhQSxHQUFHLG1CQUFtQixDQUFDLEVBQUU7UUFDN0RvQixRQUFRO1FBQ1JDLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQ3VDO0lBQ3ZCO0FBQ0Y7QUFFQTs7Q0FFQyxHQUNNLGVBQWVnQixjQUFjQyxZQUFvQixFQUFFQyxNQUF3QjtJQUNoRixNQUFNQyxrQkFBa0IsTUFBTUw7SUFDOUJLLGdCQUFnQkMsU0FBUyxDQUFDSCxhQUFhLEdBQUdDO0lBQzFDLE9BQU8sTUFBTUgsaUJBQWlCSTtBQUNoQztBQUVBOztDQUVDLEdBQ00sZUFBZUUsaUJBQWlCSixZQUFvQixFQUFFQyxNQUF3QjtJQUNuRixNQUFNQyxrQkFBa0IsTUFBTUw7SUFDOUJLLGdCQUFnQkMsU0FBUyxDQUFDSCxhQUFhLEdBQUdDO0lBQzFDLE9BQU8sTUFBTUgsaUJBQWlCSTtBQUNoQztBQUVBOztDQUVDLEdBQ00sZUFBZUcsaUJBQWlCTCxZQUFvQjtJQUN6RCxNQUFNRSxrQkFBa0IsTUFBTUw7SUFDOUIsT0FBT0ssZ0JBQWdCQyxTQUFTLENBQUNILGFBQWE7SUFDOUMsT0FBTyxNQUFNRixpQkFBaUJJO0FBQ2hDIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXG5pY2hvbGFzLmxlZVxcRG9jdW1lbnRzXFx6XFxUaWNrZXRpbmdfTmlja1xcVGlja2V0aW5nXFx0YXZfb3BlbnNvdXJjZVxcdWlcXHNyY1xcbGliXFxlZGl0b3IudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIFdvcmtmbG93IEVkaXRvciBBUEkgSW50ZWdyYXRpb25cclxuICogSGFuZGxlcyBhbGwgYmFja2VuZCBBUEkgY2FsbHMgZm9yIHRoZSB3b3JrZmxvdyBlZGl0b3JcclxuICovXHJcblxyXG5pbXBvcnQgeyBnZXRBcGlCYXNlVXJsIH0gZnJvbSAnLi9hcGktY29uZmlnJztcclxuXHJcbi8vID09PT09IEhFTFBFUiA9PT09PVxyXG5hc3luYyBmdW5jdGlvbiBhcGlGZXRjaDxUPih1cmw6IHN0cmluZywgb3B0aW9ucz86IFJlcXVlc3RJbml0KTogUHJvbWlzZTxUPiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgIC4uLm9wdGlvbnM/LmhlYWRlcnMsXHJcbiAgICAgIH0sXHJcbiAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsIC8vIEluY2x1ZGUgY29va2llcyBmb3IgYXV0aGVudGljYXRpb25cclxuICAgICAgLi4ub3B0aW9ucyxcclxuICAgIH0pO1xyXG5cclxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JEYXRhLmRldGFpbCB8fCBgSFRUUCAke3Jlc3BvbnNlLnN0YXR1c306ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBIYW5kbGUgMjA0IE5vIENvbnRlbnRcclxuICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xyXG4gICAgICByZXR1cm4gbnVsbCBhcyBUO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0FQSSBmZXRjaCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn1cclxuXHJcbi8vID09PT09IFdPUktGTE9XIENSVUQgPT09PT1cclxuXHJcbi8qKlxyXG4gKiBDcmVhdGUgYSBuZXcgd29ya2Zsb3dcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVXb3JrZmxvdyh3b3JrZmxvdzogYW55KTogUHJvbWlzZTxhbnk+IHtcclxuICByZXR1cm4gYXdhaXQgYXBpRmV0Y2goYCR7Z2V0QXBpQmFzZVVybCgpfS9hcGkvdjEvd29ya2Zsb3dzYCwge1xyXG4gICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh3b3JrZmxvdyksXHJcbiAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgYWxsIHdvcmtmbG93cyAoZm9yIExvYWQgZGlhbG9nKVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxpc3RXb3JrZmxvd3MoKTogUHJvbWlzZTxhbnlbXT4ge1xyXG4gIHJldHVybiBhd2FpdCBhcGlGZXRjaChgJHtnZXRBcGlCYXNlVXJsKCl9L2FwaS92MS93b3JrZmxvd3NgKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEdldCBhIHNpbmdsZSB3b3JrZmxvdyBieSBJRFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFdvcmtmbG93KGlkOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xyXG4gIHJldHVybiBhd2FpdCBhcGlGZXRjaChgJHtnZXRBcGlCYXNlVXJsKCl9L2FwaS92MS93b3JrZmxvd3MvJHtpZH1gKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFVwZGF0ZSBhIHdvcmtmbG93XHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlV29ya2Zsb3coaWQ6IHN0cmluZywgd29ya2Zsb3c6IGFueSk6IFByb21pc2U8YW55PiB7XHJcbiAgcmV0dXJuIGF3YWl0IGFwaUZldGNoKGAke2dldEFwaUJhc2VVcmwoKX0vYXBpL3YxL3dvcmtmbG93cy8ke2lkfWAsIHtcclxuICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh3b3JrZmxvdyksXHJcbiAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEZWxldGUgYSB3b3JrZmxvd1xyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZVdvcmtmbG93KGlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuICByZXR1cm4gYXdhaXQgYXBpRmV0Y2goYCR7Z2V0QXBpQmFzZVVybCgpfS9hcGkvdjEvd29ya2Zsb3dzLyR7aWR9YCwge1xyXG4gICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICB9KTtcclxufVxyXG5cclxuLy8gPT09PT0gRVhFQ1VUSU9OIENPTlRST0wgPT09PT1cclxuXHJcbi8qKlxyXG4gKiBFeGVjdXRlIGEgd29ya2Zsb3cgKFJ1biBidXR0b24pXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZXhlY3V0ZVdvcmtmbG93KHdvcmtmbG93SWQ6IHN0cmluZywgdHJpZ2dlckRhdGE/OiBhbnkpOiBQcm9taXNlPGFueT4ge1xyXG4gIHJldHVybiBhd2FpdCBhcGlGZXRjaChgJHtnZXRBcGlCYXNlVXJsKCl9L2FwaS92MS93b3JrZmxvd3MvJHt3b3JrZmxvd0lkfS9leGVjdXRlYCwge1xyXG4gICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHRyaWdnZXJfZGF0YTogdHJpZ2dlckRhdGEgfSksXHJcbiAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTdG9wIGEgd29ya2Zsb3dcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzdG9wV29ya2Zsb3cod29ya2Zsb3dJZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcclxuICByZXR1cm4gYXdhaXQgYXBpRmV0Y2goYCR7Z2V0QXBpQmFzZVVybCgpfS9hcGkvdjEvd29ya2Zsb3dzLyR7d29ya2Zsb3dJZH0vc3RvcGAsIHtcclxuICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gIH0pO1xyXG59XHJcblxyXG4vKipcclxuICogUGF1c2UgYSB3b3JrZmxvd1xyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBhdXNlV29ya2Zsb3cod29ya2Zsb3dJZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcclxuICByZXR1cm4gYXdhaXQgYXBpRmV0Y2goYCR7Z2V0QXBpQmFzZVVybCgpfS9hcGkvdjEvd29ya2Zsb3dzLyR7d29ya2Zsb3dJZH0vcGF1c2VgLCB7XHJcbiAgICBtZXRob2Q6ICdQT1NUJyxcclxuICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlc3VtZSBhIHdvcmtmbG93XHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVzdW1lV29ya2Zsb3cod29ya2Zsb3dJZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcclxuICByZXR1cm4gYXdhaXQgYXBpRmV0Y2goYCR7Z2V0QXBpQmFzZVVybCgpfS9hcGkvdjEvd29ya2Zsb3dzLyR7d29ya2Zsb3dJZH0vcmVzdW1lYCwge1xyXG4gICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXRyeSBleGVjdXRpb24gZnJvbSBjaGVja3BvaW50XHJcbiAqIENyZWF0ZXMgbmV3IGV4ZWN1dGlvbiB0aGF0IHNraXBzIGFscmVhZHktY29tcGxldGVkIG5vZGVzXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmV0cnlFeGVjdXRpb24oZXhlY3V0aW9uSWQ6IHN0cmluZywgZm9yY2U6IGJvb2xlYW4gPSBmYWxzZSk6IFByb21pc2U8YW55PiB7XHJcbiAgcmV0dXJuIGF3YWl0IGFwaUZldGNoKGAke2dldEFwaUJhc2VVcmwoKX0vYXBpL3YxL2V4ZWN1dGlvbnMvJHtleGVjdXRpb25JZH0vcmV0cnk/Zm9yY2U9JHtmb3JjZX1gLCB7XHJcbiAgICBtZXRob2Q6ICdQT1NUJyxcclxuICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEdldCByZXRyeSBpbmZvIGZvciBhbiBleGVjdXRpb25cclxuICogUmV0dXJucyBpbmZvcm1hdGlvbiBhYm91dCB3aGF0IG5vZGVzIHdvdWxkIGJlIHNraXBwZWQgYW5kIGFueSBzdHJ1Y3R1cmUgd2FybmluZ3NcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRSZXRyeUluZm8oZXhlY3V0aW9uSWQ6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XHJcbiAgcmV0dXJuIGF3YWl0IGFwaUZldGNoKGAke2dldEFwaUJhc2VVcmwoKX0vYXBpL3YxL2V4ZWN1dGlvbnMvJHtleGVjdXRpb25JZH0vcmV0cnktaW5mb2ApO1xyXG59XHJcblxyXG4vLyA9PT09PSBOT0RFIERFRklOSVRJT05TID09PT09XHJcblxyXG4vKipcclxuICogR2V0IG5vZGUgZGVmaW5pdGlvbnMgZnJvbSBiYWNrZW5kXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hOb2RlRGVmaW5pdGlvbnMoKTogUHJvbWlzZTxhbnk+IHtcclxuICByZXR1cm4gYXdhaXQgYXBpRmV0Y2goYCR7Z2V0QXBpQmFzZVVybCgpfS9hcGkvdjEvbm9kZXMvZGVmaW5pdGlvbnNgKTtcclxufVxyXG5cclxuLy8gPT09PT0gU1NFIFNUUkVBTUlORyA9PT09PVxyXG5cclxuLyoqXHJcbiAqIFN0cmVhbSBleGVjdXRpb24gZXZlbnRzIHZpYSBTU0UgKGZvciBvbmUtc2hvdCB3b3JrZmxvd3MpXHJcbiAqIFJldHVybnMgYSBjbGVhbnVwIGZ1bmN0aW9uIHRvIGNsb3NlIHRoZSBjb25uZWN0aW9uXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc3RyZWFtRXhlY3V0aW9uRXZlbnRzKFxyXG4gIGV4ZWN1dGlvbklkOiBzdHJpbmcsXHJcbiAgb25FdmVudDogKGV2ZW50OiBhbnkpID0+IHZvaWQsXHJcbiAgb25FcnJvcj86IChlcnJvcjogRXJyb3IpID0+IHZvaWRcclxuKTogKCkgPT4gdm9pZCB7XHJcbiAgY29uc3QgdXJsID0gYCR7Z2V0QXBpQmFzZVVybCgpfS9hcGkvdjEvZXhlY3V0aW9ucy8ke2V4ZWN1dGlvbklkfS9zdHJlYW1gO1xyXG4gIGNvbnN0IGV2ZW50U291cmNlID0gbmV3IEV2ZW50U291cmNlKHVybCk7XHJcbiAgbGV0IHJlY2VpdmVkVGVybWluYWxFdmVudCA9IGZhbHNlO1xyXG4gIFxyXG4gIGV2ZW50U291cmNlLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBUcmFjayBpZiB3ZSByZWNlaXZlZCBhIHRlcm1pbmFsIGV2ZW50XHJcbiAgICAgIGlmIChbJ2V4ZWN1dGlvbl9jb21wbGV0ZScsICdleGVjdXRpb25fZmFpbGVkJywgJ2V4ZWN1dGlvbl9zdG9wcGVkJ10uaW5jbHVkZXMoZGF0YS50eXBlKSkge1xyXG4gICAgICAgIHJlY2VpdmVkVGVybWluYWxFdmVudCA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIG9uRXZlbnQoZGF0YSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gcGFyc2UgU1NFIGV2ZW50OicsIGVycm9yKTtcclxuICAgICAgb25FcnJvcj8uKGVycm9yIGFzIEVycm9yKTtcclxuICAgIH1cclxuICB9O1xyXG4gIFxyXG4gIGV2ZW50U291cmNlLm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcclxuICAgIC8vIE9ubHkgdHJlYXQgYXMgZXJyb3IgaWYgd2UgZGlkbid0IHJlY2VpdmUgYSB0ZXJtaW5hbCBldmVudFxyXG4gICAgLy8gKHRlcm1pbmFsIGV2ZW50cyBjbG9zZSB0aGUgY29ubmVjdGlvbiBub3JtYWxseSlcclxuICAgIGlmICghcmVjZWl2ZWRUZXJtaW5hbEV2ZW50KSB7XHJcbiAgICAgIC8vIEdpdmUgYSB0aW55IGRlbGF5IHRvIGxldCBhbnkgcGVuZGluZyBtZXNzYWdlcyBwcm9jZXNzXHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIGlmICghcmVjZWl2ZWRUZXJtaW5hbEV2ZW50KSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdTU0UgY29ubmVjdGlvbiBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgICAgICBvbkVycm9yPy4obmV3IEVycm9yKCdTU0UgY29ubmVjdGlvbiBmYWlsZWQnKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCA1MCk7XHJcbiAgICB9XHJcbiAgICBldmVudFNvdXJjZS5jbG9zZSgpO1xyXG4gIH07XHJcbiAgXHJcbiAgLy8gUmV0dXJuIGNsZWFudXAgZnVuY3Rpb25cclxuICByZXR1cm4gKCkgPT4ge1xyXG4gICAgZXZlbnRTb3VyY2UuY2xvc2UoKTtcclxuICB9O1xyXG59XHJcblxyXG4vKipcclxuICogU3RyZWFtIHdvcmtmbG93IGV2ZW50cyB2aWEgU1NFIChmb3IgbW9uaXRvcmluZy90cmlnZ2VyIHdvcmtmbG93cylcclxuICogUmV0dXJucyBhIGNsZWFudXAgZnVuY3Rpb24gdG8gY2xvc2UgdGhlIGNvbm5lY3Rpb25cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzdHJlYW1Xb3JrZmxvd0V2ZW50cyhcclxuICB3b3JrZmxvd0lkOiBzdHJpbmcsXHJcbiAgb25FdmVudDogKGV2ZW50OiBhbnkpID0+IHZvaWQsXHJcbiAgb25FcnJvcj86IChlcnJvcjogRXJyb3IpID0+IHZvaWRcclxuKTogKCkgPT4gdm9pZCB7XHJcbiAgY29uc3QgdXJsID0gYCR7Z2V0QXBpQmFzZVVybCgpfS9hcGkvdjEvZXhlY3V0aW9ucy93b3JrZmxvdy8ke3dvcmtmbG93SWR9L3N0cmVhbWA7XHJcbiAgY29uc29sZS5sb2coJ1tzdHJlYW1Xb3JrZmxvd0V2ZW50c10gQ29ubmVjdGluZyB0bzonLCB1cmwpO1xyXG4gIFxyXG4gIGNvbnN0IGV2ZW50U291cmNlID0gbmV3IEV2ZW50U291cmNlKHVybCk7XHJcbiAgXHJcbiAgZXZlbnRTb3VyY2Uub25vcGVuID0gKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ1tzdHJlYW1Xb3JrZmxvd0V2ZW50c10gQ29ubmVjdGlvbiBvcGVuZWQnKTtcclxuICB9O1xyXG4gIFxyXG4gIGV2ZW50U291cmNlLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdbc3RyZWFtV29ya2Zsb3dFdmVudHNdIE1lc3NhZ2UgcmVjZWl2ZWQ6JywgZGF0YSk7XHJcbiAgICAgIG9uRXZlbnQoZGF0YSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbc3RyZWFtV29ya2Zsb3dFdmVudHNdIEZhaWxlZCB0byBwYXJzZSBTU0UgZXZlbnQ6JywgZXJyb3IpO1xyXG4gICAgICBvbkVycm9yPy4oZXJyb3IgYXMgRXJyb3IpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgXHJcbiAgZXZlbnRTb3VyY2Uub25lcnJvciA9IChlcnJvcikgPT4ge1xyXG4gICAgY29uc29sZS5lcnJvcignW3N0cmVhbVdvcmtmbG93RXZlbnRzXSBTU0UgY29ubmVjdGlvbiBlcnJvcjonLCBlcnJvcik7XHJcbiAgICBjb25zb2xlLmVycm9yKCdbc3RyZWFtV29ya2Zsb3dFdmVudHNdIEV2ZW50U291cmNlIHJlYWR5U3RhdGU6JywgZXZlbnRTb3VyY2UucmVhZHlTdGF0ZSk7XHJcbiAgICBvbkVycm9yPy4obmV3IEVycm9yKCdTU0UgY29ubmVjdGlvbiBmYWlsZWQnKSk7XHJcbiAgICBldmVudFNvdXJjZS5jbG9zZSgpO1xyXG4gIH07XHJcbiAgXHJcbiAgLy8gUmV0dXJuIGNsZWFudXAgZnVuY3Rpb25cclxuICByZXR1cm4gKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ1tzdHJlYW1Xb3JrZmxvd0V2ZW50c10gQ2xvc2luZyBjb25uZWN0aW9uJyk7XHJcbiAgICBldmVudFNvdXJjZS5jbG9zZSgpO1xyXG4gIH07XHJcbn1cclxuXHJcbi8vID09PT09IFNFVFRJTkdTIEFQSSA9PT09PVxyXG5cclxuLyoqXHJcbiAqIFVJIFNldHRpbmdzIGludGVyZmFjZSAobWF0Y2hlcyBiYWNrZW5kIHNjaGVtYSlcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgVUlTZXR0aW5ncyB7XHJcbiAgZGVmYXVsdF90aGVtZV9tb2RlOiBcImxpZ2h0XCIgfCBcImRhcmtcIiB8IFwiZGVmYXVsdFwiO1xyXG4gIGRlZmF1bHRfZ3JpZF9zaXplOiBudW1iZXI7XHJcbiAgZW5hYmxlX2dyaWQ6IGJvb2xlYW47XHJcbiAgZ3JpZF9vcGFjaXR5OiBudW1iZXI7XHJcbiAgYXV0b19zYXZlX2VuYWJsZWQ6IGJvb2xlYW47XHJcbiAgYXV0b19zYXZlX2RlbGF5OiBudW1iZXI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgVUkgc2V0dGluZ3MgZnJvbSBiYWNrZW5kXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VUlTZXR0aW5ncygpOiBQcm9taXNlPFVJU2V0dGluZ3M+IHtcclxuICByZXR1cm4gYXdhaXQgYXBpRmV0Y2goYCR7Z2V0QXBpQmFzZVVybCgpfS9hcGkvdjEvc2V0dGluZ3MvdWlgKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFVwZGF0ZSBVSSBzZXR0aW5ncyBpbiBiYWNrZW5kXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlVUlTZXR0aW5ncyhzZXR0aW5nczogVUlTZXR0aW5ncyk6IFByb21pc2U8VUlTZXR0aW5ncz4ge1xyXG4gIHJldHVybiBhd2FpdCBhcGlGZXRjaChgJHtnZXRBcGlCYXNlVXJsKCl9L2FwaS92MS9zZXR0aW5ncy91aWAsIHtcclxuICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeShzZXR0aW5ncyksXHJcbiAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZWN1cml0eSBTZXR0aW5ncyBpbnRlcmZhY2VcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgU2VjdXJpdHlTZXR0aW5ncyB7XHJcbiAgbWF4X2NvbnRlbnRfbGVuZ3RoOiBudW1iZXI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgc2VjdXJpdHkgc2V0dGluZ3MgZnJvbSBiYWNrZW5kXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U2VjdXJpdHlTZXR0aW5ncygpOiBQcm9taXNlPFNlY3VyaXR5U2V0dGluZ3M+IHtcclxuICByZXR1cm4gYXdhaXQgYXBpRmV0Y2goYCR7Z2V0QXBpQmFzZVVybCgpfS9hcGkvdjEvc2V0dGluZ3Mvc2VjdXJpdHlgKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFVwZGF0ZSBzZWN1cml0eSBzZXR0aW5ncyBpbiBiYWNrZW5kXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlU2VjdXJpdHlTZXR0aW5ncyhzZXR0aW5nczogU2VjdXJpdHlTZXR0aW5ncyk6IFByb21pc2U8U2VjdXJpdHlTZXR0aW5ncz4ge1xyXG4gIHJldHVybiBhd2FpdCBhcGlGZXRjaChgJHtnZXRBcGlCYXNlVXJsKCl9L2FwaS92MS9zZXR0aW5ncy9zZWN1cml0eWAsIHtcclxuICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeShzZXR0aW5ncyksXHJcbiAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEZXZlbG9wZXIgU2V0dGluZ3MgaW50ZXJmYWNlXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIERldmVsb3BlclNldHRpbmdzIHtcclxuICBlbmFibGVfZGV2X21vZGU6IGJvb2xlYW47XHJcbiAgZGVidWdfbW9kZTogYm9vbGVhbjtcclxuICBjb25zb2xlX2xvZ2dpbmc6IGJvb2xlYW47XHJcbiAgZXJyb3JfZGV0YWlsczogYm9vbGVhbjtcclxuICBhcGlfdGltaW5nOiBib29sZWFuO1xyXG4gIG1lbW9yeV9tb25pdG9yaW5nOiBib29sZWFuO1xyXG59XHJcblxyXG4vKipcclxuICogR2V0IGRldmVsb3BlciBzZXR0aW5ncyBmcm9tIGJhY2tlbmRcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXREZXZlbG9wZXJTZXR0aW5ncygpOiBQcm9taXNlPERldmVsb3BlclNldHRpbmdzPiB7XHJcbiAgcmV0dXJuIGF3YWl0IGFwaUZldGNoKGAke2dldEFwaUJhc2VVcmwoKX0vYXBpL3YxL3NldHRpbmdzL2RldmVsb3BlcmApO1xyXG59XHJcblxyXG4vKipcclxuICogVXBkYXRlIGRldmVsb3BlciBzZXR0aW5ncyBpbiBiYWNrZW5kXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlRGV2ZWxvcGVyU2V0dGluZ3Moc2V0dGluZ3M6IERldmVsb3BlclNldHRpbmdzKTogUHJvbWlzZTxEZXZlbG9wZXJTZXR0aW5ncz4ge1xyXG4gIHJldHVybiBhd2FpdCBhcGlGZXRjaChgJHtnZXRBcGlCYXNlVXJsKCl9L2FwaS92MS9zZXR0aW5ncy9kZXZlbG9wZXJgLCB7XHJcbiAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoc2V0dGluZ3MpLFxyXG4gIH0pO1xyXG59XHJcblxyXG4vKipcclxuICogU3RvcmFnZSBTZXR0aW5ncyBpbnRlcmZhY2VcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3RvcmFnZVNldHRpbmdzIHtcclxuICBhdXRvX2NsZWFudXA6IGJvb2xlYW47XHJcbiAgdGVtcF9maWxlX2NsZWFudXA6IGJvb2xlYW47XHJcbiAgY2xlYW51cF9vbl9zdGFydHVwOiBib29sZWFuO1xyXG4gIHVwbG9hZF9kaXI6IHN0cmluZztcclxuICB1cGxvYWRfc3RvcmFnZV9kYXlzOiBudW1iZXI7XHJcbiAgdXBsb2Fkc19jbGVhbnVwX2ludGVydmFsX2hvdXJzOiBudW1iZXI7XHJcbiAgYXJ0aWZhY3RfZGlyOiBzdHJpbmc7XHJcbiAgYXJ0aWZhY3RfdHRsX2RheXM6IG51bWJlcjtcclxuICBhcnRpZmFjdF9jbGVhbnVwX2ludGVydmFsX2hvdXJzOiBudW1iZXI7XHJcbiAgYXJ0aWZhY3RfbWF4X2J5dGVzOiBudW1iZXI7XHJcbiAgYXJ0aWZhY3RfYmFja2VuZDogJ2ZzJyB8ICdzMycgfCAnZ2NzJztcclxuICB0ZW1wX2Rpcjogc3RyaW5nO1xyXG4gIHRlbXBfY2xlYW51cF9pbnRlcnZhbF9ob3VyczogbnVtYmVyO1xyXG4gIHRlbXBfZmlsZV9tYXhfYWdlX2hvdXJzOiBudW1iZXI7XHJcbiAgcmVzdWx0X3N0b3JhZ2VfZGF5czogbnVtYmVyO1xyXG59XHJcblxyXG4vKipcclxuICogR2V0IHN0b3JhZ2Ugc2V0dGluZ3MgZnJvbSBiYWNrZW5kXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U3RvcmFnZVNldHRpbmdzKCk6IFByb21pc2U8U3RvcmFnZVNldHRpbmdzPiB7XHJcbiAgcmV0dXJuIGF3YWl0IGFwaUZldGNoKGAke2dldEFwaUJhc2VVcmwoKX0vYXBpL3YxL3NldHRpbmdzL3N0b3JhZ2VgKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFVwZGF0ZSBzdG9yYWdlIHNldHRpbmdzIGluIGJhY2tlbmRcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVTdG9yYWdlU2V0dGluZ3Moc2V0dGluZ3M6IFN0b3JhZ2VTZXR0aW5ncyk6IFByb21pc2U8U3RvcmFnZVNldHRpbmdzPiB7XHJcbiAgcmV0dXJuIGF3YWl0IGFwaUZldGNoKGAke2dldEFwaUJhc2VVcmwoKX0vYXBpL3YxL3NldHRpbmdzL3N0b3JhZ2VgLCB7XHJcbiAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoc2V0dGluZ3MpLFxyXG4gIH0pO1xyXG59XHJcblxyXG4vKipcclxuICogRXhlY3V0aW9uIFNldHRpbmdzIGludGVyZmFjZVxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBFeGVjdXRpb25TZXR0aW5ncyB7XHJcbiAgLy8gQ29uY3VycmVuY3kgJiBQZXJmb3JtYW5jZVxyXG4gIG1heF9jb25jdXJyZW50X25vZGVzOiBudW1iZXI7XHJcbiAgYWlfY29uY3VycmVudF9saW1pdDogbnVtYmVyO1xyXG4gIG1heF9jb25jdXJyZW50X3J1bnNfZ2xvYmFsOiBudW1iZXI7XHJcbiAgbWF4X2NvbmN1cnJlbnRfcnVuc19wZXJfd29ya2Zsb3c6IG51bWJlcjtcclxuICBtYXhfcXVldWVfZGVwdGhfcGVyX3dvcmtmbG93OiBudW1iZXI7XHJcbiAgXHJcbiAgLy8gVGltZW91dHMgJiBMaW1pdHNcclxuICBkZWZhdWx0X3RpbWVvdXQ6IG51bWJlcjtcclxuICBodHRwX3RpbWVvdXQ6IG51bWJlcjtcclxuICB3b3JrZmxvd190aW1lb3V0OiBudW1iZXI7XHJcbiAgXHJcbiAgLy8gUmV0cnkgJiBFcnJvciBIYW5kbGluZ1xyXG4gIGVycm9yX2hhbmRsaW5nOiBcInN0b3Bfb25fZXJyb3JcIiB8IFwiY29udGludWVfb25fZXJyb3JcIjtcclxuICBtYXhfcmV0cmllczogbnVtYmVyO1xyXG4gIHJldHJ5X2RlbGF5OiBudW1iZXI7XHJcbiAgYmFja29mZl9tdWx0aXBsaWVyOiBudW1iZXI7XHJcbiAgbWF4X3JldHJ5X2RlbGF5OiBudW1iZXI7XHJcbiAgXHJcbiAgLy8gVHJpZ2dlcnMgJiBNb25pdG9yaW5nXHJcbiAgdHJpZ2dlcl9tYXhfZXhlY3V0aW9uczogbnVtYmVyO1xyXG4gIGF1dG9fcmVzdGFydF90cmlnZ2VyczogYm9vbGVhbjtcclxufVxyXG5cclxuLyoqXHJcbiAqIEdldCBleGVjdXRpb24gc2V0dGluZ3MgZnJvbSBiYWNrZW5kXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RXhlY3V0aW9uU2V0dGluZ3MoKTogUHJvbWlzZTxFeGVjdXRpb25TZXR0aW5ncz4ge1xyXG4gIHJldHVybiBhd2FpdCBhcGlGZXRjaChgJHtnZXRBcGlCYXNlVXJsKCl9L2FwaS92MS9zZXR0aW5ncy9leGVjdXRpb25gKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFVwZGF0ZSBleGVjdXRpb24gc2V0dGluZ3MgaW4gYmFja2VuZFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUV4ZWN1dGlvblNldHRpbmdzKHNldHRpbmdzOiBFeGVjdXRpb25TZXR0aW5ncyk6IFByb21pc2U8RXhlY3V0aW9uU2V0dGluZ3M+IHtcclxuICByZXR1cm4gYXdhaXQgYXBpRmV0Y2goYCR7Z2V0QXBpQmFzZVVybCgpfS9hcGkvdjEvc2V0dGluZ3MvZXhlY3V0aW9uYCwge1xyXG4gICAgbWV0aG9kOiAnUFVUJyxcclxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHNldHRpbmdzKSxcclxuICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEludGVncmF0aW9ucyBTZXR0aW5ncyBpbnRlcmZhY2VcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSW50ZWdyYXRpb25zU2V0dGluZ3Mge1xyXG4gIC8vIFNlYXJjaCBBUElzXHJcbiAgc2VhcmNoX3NlcnBlcl9hcGlfa2V5OiBzdHJpbmc7XHJcbiAgc2VhcmNoX2JpbmdfYXBpX2tleTogc3RyaW5nO1xyXG4gIHNlYXJjaF9nb29nbGVfcHNlX2FwaV9rZXk6IHN0cmluZztcclxuICBzZWFyY2hfZ29vZ2xlX3BzZV9jeDogc3RyaW5nO1xyXG4gIHNlYXJjaF9kdWNrZHVja2dvX2VuYWJsZWQ6IGJvb2xlYW47XHJcbiAgXHJcbiAgLy8gQUkgUGxhdGZvcm1zXHJcbiAgaHVnZ2luZ2ZhY2VfYXBpX3Rva2VuOiBzdHJpbmc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgaW50ZWdyYXRpb25zIHNldHRpbmdzIGZyb20gYmFja2VuZFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEludGVncmF0aW9uc1NldHRpbmdzKCk6IFByb21pc2U8SW50ZWdyYXRpb25zU2V0dGluZ3M+IHtcclxuICByZXR1cm4gYXdhaXQgYXBpRmV0Y2goYCR7Z2V0QXBpQmFzZVVybCgpfS9hcGkvdjEvc2V0dGluZ3MvaW50ZWdyYXRpb25zYCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBVcGRhdGUgaW50ZWdyYXRpb25zIHNldHRpbmdzXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlSW50ZWdyYXRpb25zU2V0dGluZ3Moc2V0dGluZ3M6IEludGVncmF0aW9uc1NldHRpbmdzKTogUHJvbWlzZTxJbnRlZ3JhdGlvbnNTZXR0aW5ncz4ge1xyXG4gIHJldHVybiBhd2FpdCBhcGlGZXRjaChgJHtnZXRBcGlCYXNlVXJsKCl9L2FwaS92MS9zZXR0aW5ncy9pbnRlZ3JhdGlvbnNgLCB7XHJcbiAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoc2V0dGluZ3MpLFxyXG4gIH0pO1xyXG59XHJcblxyXG4vKipcclxuICogQUkgUHJvdmlkZXIgTWV0YWRhdGFcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgUHJvdmlkZXJNZXRhZGF0YSB7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIGRpc3BsYXlfbmFtZTogc3RyaW5nO1xyXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XHJcbiAgZGVmYXVsdF9iYXNlX3VybDogc3RyaW5nO1xyXG4gIGF1dGhfdHlwZTogc3RyaW5nO1xyXG4gIHJlcXVpcmVzX2FwaV9rZXk6IGJvb2xlYW47XHJcbiAgc3VwcG9ydHNfc3RyZWFtaW5nOiBib29sZWFuO1xyXG4gIHN1cHBvcnRzX2Z1bmN0aW9uX2NhbGxpbmc6IGJvb2xlYW47XHJcbiAgZGVmYXVsdF9tb2RlbHM6IEFycmF5PHtcclxuICAgIGlkOiBzdHJpbmc7XHJcbiAgICBuYW1lOiBzdHJpbmc7XHJcbiAgICByZWNvbW1lbmRlZD86IGJvb2xlYW47XHJcbiAgfT47XHJcbiAgZGVmYXVsdF9tb2RlbDogc3RyaW5nO1xyXG4gIG1heF90b2tlbnM6IG51bWJlcjtcclxuICBpY29uOiBzdHJpbmc7XHJcbiAgZG9jdW1lbnRhdGlvbl91cmw6IHN0cmluZztcclxufVxyXG5cclxuLyoqXHJcbiAqIEF2YWlsYWJsZSBQcm92aWRlcnMgUmVzcG9uc2VcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQXZhaWxhYmxlUHJvdmlkZXJzUmVzcG9uc2Uge1xyXG4gIHByb3ZpZGVyczogUmVjb3JkPHN0cmluZywgUHJvdmlkZXJNZXRhZGF0YT47XHJcbiAgY291bnQ6IG51bWJlcjtcclxufVxyXG5cclxuLyoqXHJcbiAqIEdldCBhdmFpbGFibGUgQUkgcHJvdmlkZXJzIChkeW5hbWljYWxseSBmcm9tIGJhY2tlbmQpXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QXZhaWxhYmxlUHJvdmlkZXJzKCk6IFByb21pc2U8QXZhaWxhYmxlUHJvdmlkZXJzUmVzcG9uc2U+IHtcclxuICByZXR1cm4gYXdhaXQgYXBpRmV0Y2goYCR7Z2V0QXBpQmFzZVVybCgpfS9hcGkvdjEvYWkvcHJvdmlkZXJzL2F2YWlsYWJsZWApO1xyXG59XHJcblxyXG4vKipcclxuICogQUkgUHJvdmlkZXIgQ29uZmlnXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEFJUHJvdmlkZXJDb25maWcge1xyXG4gIG5hbWU6IHN0cmluZztcclxuICBwcm92aWRlcl90eXBlOiBzdHJpbmc7XHJcbiAgcm9sZTogJ3ByaW1hcnknIHwgJ2ZhbGxiYWNrJyB8ICdpbmFjdGl2ZSc7XHJcbiAgZmFsbGJhY2tfcHJpb3JpdHk/OiBudW1iZXI7XHJcbiAgZW5hYmxlZDogYm9vbGVhbjtcclxuICBhcGlfa2V5OiBzdHJpbmc7XHJcbiAgYmFzZV91cmw/OiBzdHJpbmc7XHJcbiAgZGVmYXVsdF9tb2RlbDogc3RyaW5nO1xyXG4gIGF2YWlsYWJsZV9tb2RlbHM/OiBzdHJpbmdbXTtcclxuICBtYXhfdG9rZW5zPzogbnVtYmVyO1xyXG4gIHRlbXBlcmF0dXJlPzogbnVtYmVyO1xyXG4gIHRpbWVvdXRfc2Vjb25kcz86IG51bWJlcjtcclxufVxyXG5cclxuLyoqXHJcbiAqIEFJIFNldHRpbmdzXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEFJU2V0dGluZ3Mge1xyXG4gIGVuYWJsZWQ6IGJvb2xlYW47XHJcbiAgZGVmYXVsdF9wcm92aWRlcj86IHN0cmluZztcclxuICBmYWxsYmFja19wcm92aWRlcj86IHN0cmluZztcclxuICBkZWZhdWx0X3RlbXBlcmF0dXJlOiBudW1iZXI7XHJcbiAgZGVmYXVsdF9tYXhfdG9rZW5zOiBudW1iZXI7XHJcbiAgcmVxdWVzdF90aW1lb3V0OiBudW1iZXI7ICAvLyBBSSByZXF1ZXN0IHRpbWVvdXQgKHNlY29uZHMpXHJcbiAgbWF4X3JldHJpZXM6IG51bWJlcjtcclxuICByZXRyeV9kZWxheTogbnVtYmVyO1xyXG4gIHByb3ZpZGVyczogUmVjb3JkPHN0cmluZywgQUlQcm92aWRlckNvbmZpZz47XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBWYWxpZGF0ZSBQcm92aWRlciBSZXF1ZXN0XHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFZhbGlkYXRlUHJvdmlkZXJSZXF1ZXN0IHtcclxuICBwcm92aWRlcl90eXBlOiBzdHJpbmc7XHJcbiAgYXBpX2tleTogc3RyaW5nO1xyXG4gIGJhc2VfdXJsPzogc3RyaW5nO1xyXG59XHJcblxyXG4vKipcclxuICogVmFsaWRhdGUgUHJvdmlkZXIgUmVzcG9uc2VcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgVmFsaWRhdGVQcm92aWRlclJlc3BvbnNlIHtcclxuICB2YWxpZDogYm9vbGVhbjtcclxuICBtb2RlbHM/OiBBcnJheTx7XHJcbiAgICBpZDogc3RyaW5nO1xyXG4gICAgbmFtZT86IHN0cmluZztcclxuICAgIGNvbnRleHRfd2luZG93PzogbnVtYmVyO1xyXG4gIH0+O1xyXG4gIHByb3ZpZGVyX2luZm8/OiB7XHJcbiAgICBuYW1lOiBzdHJpbmc7XHJcbiAgICB0eXBlOiBzdHJpbmc7XHJcbiAgICBba2V5OiBzdHJpbmddOiBhbnk7XHJcbiAgfTtcclxuICBlcnJvcj86IHN0cmluZztcclxuICBlcnJvcl90eXBlPzogc3RyaW5nO1xyXG59XHJcblxyXG4vKipcclxuICogVmFsaWRhdGUgQUkgcHJvdmlkZXIgY3JlZGVudGlhbHMgYW5kIGZldGNoIGF2YWlsYWJsZSBtb2RlbHNcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2YWxpZGF0ZUFJUHJvdmlkZXIocmVxdWVzdDogVmFsaWRhdGVQcm92aWRlclJlcXVlc3QpOiBQcm9taXNlPFZhbGlkYXRlUHJvdmlkZXJSZXNwb25zZT4ge1xyXG4gIHJldHVybiBhd2FpdCBhcGlGZXRjaChgJHtnZXRBcGlCYXNlVXJsKCl9L2FwaS92MS9haS9wcm92aWRlcnMvdmFsaWRhdGVgLCB7XHJcbiAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHJlcXVlc3QpLFxyXG4gIH0pO1xyXG59XHJcblxyXG4vKipcclxuICogR2V0IGN1cnJlbnQgQUkgc2V0dGluZ3NcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBSVNldHRpbmdzKCk6IFByb21pc2U8QUlTZXR0aW5ncz4ge1xyXG4gIHJldHVybiBhd2FpdCBhcGlGZXRjaChgJHtnZXRBcGlCYXNlVXJsKCl9L2FwaS92MS9haS9zZXR0aW5nc2ApO1xyXG59XHJcblxyXG4vKipcclxuICogVXBkYXRlIEFJIHNldHRpbmdzXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlQUlTZXR0aW5ncyhzZXR0aW5nczogQUlTZXR0aW5ncyk6IFByb21pc2U8QUlTZXR0aW5ncz4ge1xyXG4gIHJldHVybiBhd2FpdCBhcGlGZXRjaChgJHtnZXRBcGlCYXNlVXJsKCl9L2FwaS92MS9zZXR0aW5ncy9haWAsIHtcclxuICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeShzZXR0aW5ncyksXHJcbiAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBZGQgYSBuZXcgQUkgcHJvdmlkZXJcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhZGRBSVByb3ZpZGVyKHByb3ZpZGVyTmFtZTogc3RyaW5nLCBjb25maWc6IEFJUHJvdmlkZXJDb25maWcpOiBQcm9taXNlPEFJU2V0dGluZ3M+IHtcclxuICBjb25zdCBjdXJyZW50U2V0dGluZ3MgPSBhd2FpdCBnZXRBSVNldHRpbmdzKCk7XHJcbiAgY3VycmVudFNldHRpbmdzLnByb3ZpZGVyc1twcm92aWRlck5hbWVdID0gY29uZmlnO1xyXG4gIHJldHVybiBhd2FpdCB1cGRhdGVBSVNldHRpbmdzKGN1cnJlbnRTZXR0aW5ncyk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBVcGRhdGUgYW4gZXhpc3RpbmcgQUkgcHJvdmlkZXJcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVBSVByb3ZpZGVyKHByb3ZpZGVyTmFtZTogc3RyaW5nLCBjb25maWc6IEFJUHJvdmlkZXJDb25maWcpOiBQcm9taXNlPEFJU2V0dGluZ3M+IHtcclxuICBjb25zdCBjdXJyZW50U2V0dGluZ3MgPSBhd2FpdCBnZXRBSVNldHRpbmdzKCk7XHJcbiAgY3VycmVudFNldHRpbmdzLnByb3ZpZGVyc1twcm92aWRlck5hbWVdID0gY29uZmlnO1xyXG4gIHJldHVybiBhd2FpdCB1cGRhdGVBSVNldHRpbmdzKGN1cnJlbnRTZXR0aW5ncyk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEZWxldGUgYW4gQUkgcHJvdmlkZXJcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVBSVByb3ZpZGVyKHByb3ZpZGVyTmFtZTogc3RyaW5nKTogUHJvbWlzZTxBSVNldHRpbmdzPiB7XHJcbiAgY29uc3QgY3VycmVudFNldHRpbmdzID0gYXdhaXQgZ2V0QUlTZXR0aW5ncygpO1xyXG4gIGRlbGV0ZSBjdXJyZW50U2V0dGluZ3MucHJvdmlkZXJzW3Byb3ZpZGVyTmFtZV07XHJcbiAgcmV0dXJuIGF3YWl0IHVwZGF0ZUFJU2V0dGluZ3MoY3VycmVudFNldHRpbmdzKTtcclxufVxyXG5cclxuIl0sIm5hbWVzIjpbImdldEFwaUJhc2VVcmwiLCJhcGlGZXRjaCIsInVybCIsIm9wdGlvbnMiLCJyZXNwb25zZSIsImZldGNoIiwiaGVhZGVycyIsImNyZWRlbnRpYWxzIiwib2siLCJlcnJvckRhdGEiLCJqc29uIiwiY2F0Y2giLCJFcnJvciIsImRldGFpbCIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJlcnJvciIsImNvbnNvbGUiLCJjcmVhdGVXb3JrZmxvdyIsIndvcmtmbG93IiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJsaXN0V29ya2Zsb3dzIiwiZ2V0V29ya2Zsb3ciLCJpZCIsInVwZGF0ZVdvcmtmbG93IiwiZGVsZXRlV29ya2Zsb3ciLCJleGVjdXRlV29ya2Zsb3ciLCJ3b3JrZmxvd0lkIiwidHJpZ2dlckRhdGEiLCJ0cmlnZ2VyX2RhdGEiLCJzdG9wV29ya2Zsb3ciLCJwYXVzZVdvcmtmbG93IiwicmVzdW1lV29ya2Zsb3ciLCJyZXRyeUV4ZWN1dGlvbiIsImV4ZWN1dGlvbklkIiwiZm9yY2UiLCJnZXRSZXRyeUluZm8iLCJmZXRjaE5vZGVEZWZpbml0aW9ucyIsInN0cmVhbUV4ZWN1dGlvbkV2ZW50cyIsIm9uRXZlbnQiLCJvbkVycm9yIiwiZXZlbnRTb3VyY2UiLCJFdmVudFNvdXJjZSIsInJlY2VpdmVkVGVybWluYWxFdmVudCIsIm9ubWVzc2FnZSIsImV2ZW50IiwiZGF0YSIsInBhcnNlIiwiaW5jbHVkZXMiLCJ0eXBlIiwib25lcnJvciIsInNldFRpbWVvdXQiLCJjbG9zZSIsInN0cmVhbVdvcmtmbG93RXZlbnRzIiwibG9nIiwib25vcGVuIiwicmVhZHlTdGF0ZSIsImdldFVJU2V0dGluZ3MiLCJ1cGRhdGVVSVNldHRpbmdzIiwic2V0dGluZ3MiLCJnZXRTZWN1cml0eVNldHRpbmdzIiwidXBkYXRlU2VjdXJpdHlTZXR0aW5ncyIsImdldERldmVsb3BlclNldHRpbmdzIiwidXBkYXRlRGV2ZWxvcGVyU2V0dGluZ3MiLCJnZXRTdG9yYWdlU2V0dGluZ3MiLCJ1cGRhdGVTdG9yYWdlU2V0dGluZ3MiLCJnZXRFeGVjdXRpb25TZXR0aW5ncyIsInVwZGF0ZUV4ZWN1dGlvblNldHRpbmdzIiwiZ2V0SW50ZWdyYXRpb25zU2V0dGluZ3MiLCJ1cGRhdGVJbnRlZ3JhdGlvbnNTZXR0aW5ncyIsImdldEF2YWlsYWJsZVByb3ZpZGVycyIsInZhbGlkYXRlQUlQcm92aWRlciIsInJlcXVlc3QiLCJnZXRBSVNldHRpbmdzIiwidXBkYXRlQUlTZXR0aW5ncyIsImFkZEFJUHJvdmlkZXIiLCJwcm92aWRlck5hbWUiLCJjb25maWciLCJjdXJyZW50U2V0dGluZ3MiLCJwcm92aWRlcnMiLCJ1cGRhdGVBSVByb3ZpZGVyIiwiZGVsZXRlQUlQcm92aWRlciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/editor.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/lib/files.ts":
/*!**************************!*\
  !*** ./src/lib/files.ts ***!
  \**************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   autoDetectFileCategory: () => (/* binding */ autoDetectFileCategory),\n/* harmony export */   deleteFile: () => (/* binding */ deleteFile),\n/* harmony export */   downloadFile: () => (/* binding */ downloadFile),\n/* harmony export */   formatFileSize: () => (/* binding */ formatFileSize),\n/* harmony export */   getFileDownloadUrl: () => (/* binding */ getFileDownloadUrl),\n/* harmony export */   getFileExtension: () => (/* binding */ getFileExtension),\n/* harmony export */   getFileMetadata: () => (/* binding */ getFileMetadata),\n/* harmony export */   getStorageStats: () => (/* binding */ getStorageStats),\n/* harmony export */   isFileTypeAccepted: () => (/* binding */ isFileTypeAccepted),\n/* harmony export */   listFiles: () => (/* binding */ listFiles),\n/* harmony export */   triggerCleanup: () => (/* binding */ triggerCleanup),\n/* harmony export */   uploadFile: () => (/* binding */ uploadFile)\n/* harmony export */ });\n/* harmony import */ var _api_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./api-config */ \"(app-pages-browser)/./src/lib/api-config.ts\");\n/**\r\n * File Management API\r\n * Handles file uploads, downloads, and management\r\n */ \n/**\r\n * Upload a file to the server\r\n */ async function uploadFile(options) {\n    const { file, fileType = 'upload', fileCategory, workflowId, executionId, makePermanent = false, onProgress } = options;\n    const formData = new FormData();\n    formData.append('file', file);\n    // Build query parameters\n    const params = new URLSearchParams();\n    params.append('file_type', fileType);\n    if (fileCategory) params.append('file_category', fileCategory);\n    if (workflowId) params.append('workflow_id', workflowId);\n    if (executionId) params.append('execution_id', executionId);\n    if (makePermanent) params.append('make_permanent', 'true');\n    const url = `${(0,_api_config__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)()}/api/v1/files/upload?${params.toString()}`;\n    return new Promise((resolve, reject)=>{\n        const xhr = new XMLHttpRequest();\n        // Track upload progress\n        xhr.upload.addEventListener('progress', (e)=>{\n            if (e.lengthComputable && onProgress) {\n                const percentComplete = e.loaded / e.total * 100;\n                onProgress(percentComplete);\n            }\n        });\n        xhr.addEventListener('load', ()=>{\n            if (xhr.status >= 200 && xhr.status < 300) {\n                try {\n                    const data = JSON.parse(xhr.responseText);\n                    resolve(data);\n                } catch (error) {\n                    reject(new Error('Failed to parse response'));\n                }\n            } else {\n                try {\n                    const error = JSON.parse(xhr.responseText);\n                    reject(new Error(error.detail || `Upload failed: ${xhr.statusText}`));\n                } catch  {\n                    reject(new Error(`Upload failed: ${xhr.statusText}`));\n                }\n            }\n        });\n        xhr.addEventListener('error', ()=>{\n            reject(new Error('Network error'));\n        });\n        xhr.addEventListener('abort', ()=>{\n            reject(new Error('Upload cancelled'));\n        });\n        xhr.open('POST', url);\n        xhr.send(formData);\n    });\n}\n// ===== FILE RETRIEVAL =====\n/**\r\n * Get file metadata by ID\r\n */ async function getFileMetadata(fileId) {\n    const response = await fetch(`${(0,_api_config__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)()}/api/v1/files/${fileId}`);\n    if (!response.ok) {\n        throw new Error(`Failed to get file metadata: ${response.statusText}`);\n    }\n    return await response.json();\n}\n/**\r\n * List uploaded files with optional filtering\r\n */ async function listFiles(options) {\n    const params = new URLSearchParams();\n    if (options?.fileType) params.append('file_type', options.fileType);\n    if (options?.fileCategory) params.append('file_category', options.fileCategory);\n    if (options?.workflowId) params.append('workflow_id', options.workflowId);\n    if (options?.limit) params.append('limit', options.limit.toString());\n    if (options?.offset) params.append('offset', options.offset.toString());\n    const url = `${(0,_api_config__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)()}/api/v1/files?${params.toString()}`;\n    const response = await fetch(url);\n    if (!response.ok) {\n        throw new Error(`Failed to list files: ${response.statusText}`);\n    }\n    return await response.json();\n}\n/**\r\n * Get file download URL\r\n */ function getFileDownloadUrl(fileId) {\n    return `${(0,_api_config__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)()}/api/v1/files/${fileId}/download`;\n}\n/**\r\n * Download a file (triggers browser download)\r\n */ async function downloadFile(fileId, filename) {\n    const url = getFileDownloadUrl(fileId);\n    const link = document.createElement('a');\n    link.href = url;\n    if (filename) {\n        link.download = filename;\n    }\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n}\n// ===== FILE MANAGEMENT =====\n/**\r\n * Delete a file\r\n */ async function deleteFile(fileId) {\n    const response = await fetch(`${(0,_api_config__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)()}/api/v1/files/${fileId}`, {\n        method: 'DELETE'\n    });\n    if (!response.ok) {\n        throw new Error(`Failed to delete file: ${response.statusText}`);\n    }\n}\n/**\r\n * Get storage statistics\r\n */ async function getStorageStats() {\n    const response = await fetch(`${(0,_api_config__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)()}/api/v1/files/stats/storage`);\n    if (!response.ok) {\n        throw new Error(`Failed to get storage stats: ${response.statusText}`);\n    }\n    return await response.json();\n}\n/**\r\n * Trigger cleanup job (admin)\r\n */ async function triggerCleanup() {\n    const response = await fetch(`${(0,_api_config__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)()}/api/v1/files/cleanup`, {\n        method: 'POST'\n    });\n    if (!response.ok) {\n        throw new Error(`Failed to trigger cleanup: ${response.statusText}`);\n    }\n    return await response.json();\n}\n// ===== HELPER FUNCTIONS =====\n/**\r\n * Format file size in human-readable format\r\n */ function formatFileSize(bytes) {\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = [\n        'Bytes',\n        'KB',\n        'MB',\n        'GB',\n        'TB'\n    ];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i];\n}\n/**\r\n * Get file extension from filename\r\n */ function getFileExtension(filename) {\n    const parts = filename.split('.');\n    return parts.length > 1 ? parts[parts.length - 1].toLowerCase() : '';\n}\n/**\r\n * Check if file type is accepted\r\n */ function isFileTypeAccepted(filename, accept) {\n    if (!accept || accept === '*') return true;\n    const ext = '.' + getFileExtension(filename);\n    const acceptedTypes = accept.split(',').map((t)=>t.trim().toLowerCase());\n    return acceptedTypes.some((type)=>{\n        if (type === ext) return true;\n        // Handle wildcard MIME types (e.g., \"image/*\")\n        if (type.includes('/*')) {\n            const category = type.split('/')[0];\n            const mimeCategory = getMimeCategory(filename);\n            return category === mimeCategory;\n        }\n        return false;\n    });\n}\n/**\r\n * Get MIME category from filename\r\n */ function getMimeCategory(filename) {\n    const ext = getFileExtension(filename);\n    const imageExts = [\n        'jpg',\n        'jpeg',\n        'png',\n        'gif',\n        'bmp',\n        'webp',\n        'tiff'\n    ];\n    const audioExts = [\n        'mp3',\n        'wav',\n        'm4a',\n        'ogg',\n        'flac',\n        'webm'\n    ];\n    const videoExts = [\n        'mp4',\n        'avi',\n        'mov',\n        'mkv',\n        'webm'\n    ];\n    if (imageExts.includes(ext)) return 'image';\n    if (audioExts.includes(ext)) return 'audio';\n    if (videoExts.includes(ext)) return 'video';\n    return 'application';\n}\n/**\r\n * Auto-detect file category from filename\r\n */ function autoDetectFileCategory(filename) {\n    const ext = getFileExtension(filename);\n    // Document extensions\n    if ([\n        'pdf',\n        'doc',\n        'docx',\n        'txt',\n        'md',\n        'csv',\n        'json',\n        'xlsx',\n        'xls',\n        'xlsm'\n    ].includes(ext)) {\n        return 'document';\n    }\n    // Image extensions\n    if ([\n        'jpg',\n        'jpeg',\n        'png',\n        'gif',\n        'bmp',\n        'webp',\n        'tiff'\n    ].includes(ext)) {\n        return 'image';\n    }\n    // Audio extensions\n    if ([\n        'mp3',\n        'wav',\n        'm4a',\n        'ogg',\n        'flac',\n        'webm'\n    ].includes(ext)) {\n        return 'audio';\n    }\n    // Video extensions\n    if ([\n        'mp4',\n        'avi',\n        'mov',\n        'mkv',\n        'webm'\n    ].includes(ext)) {\n        return 'video';\n    }\n    // Archive extensions\n    if ([\n        'zip',\n        'tar',\n        'gz',\n        'rar',\n        '7z'\n    ].includes(ext)) {\n        return 'archive';\n    }\n    return 'other';\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVEsQ0FBQ1AsTUFBTSxPQUFPO0lBQ3BDLElBQUlZLFVBQVVMLFFBQVEsQ0FBQ1AsTUFBTSxPQUFPO0lBQ3BDLElBQUlhLFVBQVVOLFFBQVEsQ0FBQ1AsTUFBTSxPQUFPO0lBQ3BDLE9BQU87QUFDVDtBQUVBOztDQUVDLEdBQ00sU0FBU2MsdUJBQXVCN0MsUUFBZ0I7SUFDckQsTUFBTStCLE1BQU1QLGlCQUFpQnhCO0lBRTdCLHNCQUFzQjtJQUN0QixJQUFJO1FBQUM7UUFBTztRQUFPO1FBQVE7UUFBTztRQUFNO1FBQU87UUFBUTtRQUFRO1FBQU87S0FBTyxDQUFDc0MsUUFBUSxDQUFDUCxNQUFNO1FBQzNGLE9BQU87SUFDVDtJQUVBLG1CQUFtQjtJQUNuQixJQUFJO1FBQUM7UUFBTztRQUFRO1FBQU87UUFBTztRQUFPO1FBQVE7S0FBTyxDQUFDTyxRQUFRLENBQUNQLE1BQU07UUFDdEUsT0FBTztJQUNUO0lBRUEsbUJBQW1CO0lBQ25CLElBQUk7UUFBQztRQUFPO1FBQU87UUFBTztRQUFPO1FBQVE7S0FBTyxDQUFDTyxRQUFRLENBQUNQLE1BQU07UUFDOUQsT0FBTztJQUNUO0lBRUEsbUJBQW1CO0lBQ25CLElBQUk7UUFBQztRQUFPO1FBQU87UUFBTztRQUFPO0tBQU8sQ0FBQ08sUUFBUSxDQUFDUCxNQUFNO1FBQ3RELE9BQU87SUFDVDtJQUVBLHFCQUFxQjtJQUNyQixJQUFJO1FBQUM7UUFBTztRQUFPO1FBQU07UUFBTztLQUFLLENBQUNPLFFBQVEsQ0FBQ1AsTUFBTTtRQUNuRCxPQUFPO0lBQ1Q7SUFFQSxPQUFPO0FBQ1QiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbmljaG9sYXMubGVlXFxEb2N1bWVudHNcXHpcXFRpY2tldGluZ19OaWNrXFxUaWNrZXRpbmdcXHRhdl9vcGVuc291cmNlXFx1aVxcc3JjXFxsaWJcXGZpbGVzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBGaWxlIE1hbmFnZW1lbnQgQVBJXHJcbiAqIEhhbmRsZXMgZmlsZSB1cGxvYWRzLCBkb3dubG9hZHMsIGFuZCBtYW5hZ2VtZW50XHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZ2V0QXBpQmFzZVVybCB9IGZyb20gJy4vYXBpLWNvbmZpZyc7XHJcblxyXG4vLyA9PT09PSBUWVBFUyA9PT09PVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBGaWxlTWV0YWRhdGEge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgZmlsZW5hbWU6IHN0cmluZztcclxuICBmaWxlX3NpemVfYnl0ZXM6IG51bWJlcjtcclxuICBtaW1lX3R5cGU6IHN0cmluZztcclxuICBmaWxlX3R5cGU6ICd1cGxvYWQnIHwgJ2FydGlmYWN0JyB8ICd0ZW1wb3JhcnknIHwgJ3Blcm1hbmVudCc7XHJcbiAgZmlsZV9jYXRlZ29yeTogJ2RvY3VtZW50JyB8ICdpbWFnZScgfCAnYXVkaW8nIHwgJ3ZpZGVvJyB8ICdhcmNoaXZlJyB8ICdvdGhlcic7XHJcbiAgc3RvcmFnZV9wYXRoOiBzdHJpbmc7XHJcbiAgdXBsb2FkZWRfYXQ6IHN0cmluZztcclxuICBleHBpcmVzX2F0OiBzdHJpbmcgfCBudWxsO1xyXG4gIGFjY2Vzc19jb3VudDogbnVtYmVyO1xyXG4gIHdvcmtmbG93X2lkOiBzdHJpbmcgfCBudWxsO1xyXG4gIGRvd25sb2FkX3VybDogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEZpbGVMaXN0UmVzcG9uc2Uge1xyXG4gIGZpbGVzOiBGaWxlTWV0YWRhdGFbXTtcclxuICB0b3RhbDogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFN0b3JhZ2VTdGF0c1Jlc3BvbnNlIHtcclxuICBieV90eXBlOiBSZWNvcmQ8c3RyaW5nLCB7IGNvdW50OiBudW1iZXI7IHRvdGFsX2J5dGVzOiBudW1iZXIgfT47XHJcbiAgdG90YWxfZmlsZXM6IG51bWJlcjtcclxuICB0b3RhbF9ieXRlczogbnVtYmVyO1xyXG4gIHRvdGFsX21iOiBudW1iZXI7XHJcbiAgdG90YWxfZ2I6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgRmlsZUNhdGVnb3J5ID0gJ2RvY3VtZW50JyB8ICdpbWFnZScgfCAnYXVkaW8nIHwgJ3ZpZGVvJyB8ICdhcmNoaXZlJyB8ICdvdGhlcic7XHJcblxyXG4vLyA9PT09PSBGSUxFIFVQTE9BRCA9PT09PVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBVcGxvYWRGaWxlT3B0aW9ucyB7XHJcbiAgZmlsZTogRmlsZTtcclxuICBmaWxlVHlwZT86ICd1cGxvYWQnIHwgJ2FydGlmYWN0JyB8ICd0ZW1wb3JhcnknIHwgJ3Blcm1hbmVudCc7XHJcbiAgZmlsZUNhdGVnb3J5PzogRmlsZUNhdGVnb3J5O1xyXG4gIHdvcmtmbG93SWQ/OiBzdHJpbmc7XHJcbiAgZXhlY3V0aW9uSWQ/OiBzdHJpbmc7XHJcbiAgbWFrZVBlcm1hbmVudD86IGJvb2xlYW47XHJcbiAgb25Qcm9ncmVzcz86IChwZXJjZW50OiBudW1iZXIpID0+IHZvaWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBVcGxvYWQgYSBmaWxlIHRvIHRoZSBzZXJ2ZXJcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGxvYWRGaWxlKG9wdGlvbnM6IFVwbG9hZEZpbGVPcHRpb25zKTogUHJvbWlzZTxGaWxlTWV0YWRhdGE+IHtcclxuICBjb25zdCB7XHJcbiAgICBmaWxlLFxyXG4gICAgZmlsZVR5cGUgPSAndXBsb2FkJyxcclxuICAgIGZpbGVDYXRlZ29yeSxcclxuICAgIHdvcmtmbG93SWQsXHJcbiAgICBleGVjdXRpb25JZCxcclxuICAgIG1ha2VQZXJtYW5lbnQgPSBmYWxzZSxcclxuICAgIG9uUHJvZ3Jlc3MsXHJcbiAgfSA9IG9wdGlvbnM7XHJcblxyXG4gIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgZmlsZSk7XHJcblxyXG4gIC8vIEJ1aWxkIHF1ZXJ5IHBhcmFtZXRlcnNcclxuICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XHJcbiAgcGFyYW1zLmFwcGVuZCgnZmlsZV90eXBlJywgZmlsZVR5cGUpO1xyXG4gIGlmIChmaWxlQ2F0ZWdvcnkpIHBhcmFtcy5hcHBlbmQoJ2ZpbGVfY2F0ZWdvcnknLCBmaWxlQ2F0ZWdvcnkpO1xyXG4gIGlmICh3b3JrZmxvd0lkKSBwYXJhbXMuYXBwZW5kKCd3b3JrZmxvd19pZCcsIHdvcmtmbG93SWQpO1xyXG4gIGlmIChleGVjdXRpb25JZCkgcGFyYW1zLmFwcGVuZCgnZXhlY3V0aW9uX2lkJywgZXhlY3V0aW9uSWQpO1xyXG4gIGlmIChtYWtlUGVybWFuZW50KSBwYXJhbXMuYXBwZW5kKCdtYWtlX3Blcm1hbmVudCcsICd0cnVlJyk7XHJcblxyXG4gIGNvbnN0IHVybCA9IGAke2dldEFwaUJhc2VVcmwoKX0vYXBpL3YxL2ZpbGVzL3VwbG9hZD8ke3BhcmFtcy50b1N0cmluZygpfWA7XHJcblxyXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICBjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuXHJcbiAgICAvLyBUcmFjayB1cGxvYWQgcHJvZ3Jlc3NcclxuICAgIHhoci51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCAoZSkgPT4ge1xyXG4gICAgICBpZiAoZS5sZW5ndGhDb21wdXRhYmxlICYmIG9uUHJvZ3Jlc3MpIHtcclxuICAgICAgICBjb25zdCBwZXJjZW50Q29tcGxldGUgPSAoZS5sb2FkZWQgLyBlLnRvdGFsKSAqIDEwMDtcclxuICAgICAgICBvblByb2dyZXNzKHBlcmNlbnRDb21wbGV0ZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xyXG4gICAgICBpZiAoeGhyLnN0YXR1cyA+PSAyMDAgJiYgeGhyLnN0YXR1cyA8IDMwMCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTtcclxuICAgICAgICAgIHJlc29sdmUoZGF0YSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0ZhaWxlZCB0byBwYXJzZSByZXNwb25zZScpKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGNvbnN0IGVycm9yID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTtcclxuICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoZXJyb3IuZGV0YWlsIHx8IGBVcGxvYWQgZmFpbGVkOiAke3hoci5zdGF0dXNUZXh0fWApKTtcclxuICAgICAgICB9IGNhdGNoIHtcclxuICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoYFVwbG9hZCBmYWlsZWQ6ICR7eGhyLnN0YXR1c1RleHR9YCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgKCkgPT4ge1xyXG4gICAgICByZWplY3QobmV3IEVycm9yKCdOZXR3b3JrIGVycm9yJykpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgKCkgPT4ge1xyXG4gICAgICByZWplY3QobmV3IEVycm9yKCdVcGxvYWQgY2FuY2VsbGVkJykpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgeGhyLm9wZW4oJ1BPU1QnLCB1cmwpO1xyXG4gICAgeGhyLnNlbmQoZm9ybURhdGEpO1xyXG4gIH0pO1xyXG59XHJcblxyXG4vLyA9PT09PSBGSUxFIFJFVFJJRVZBTCA9PT09PVxyXG5cclxuLyoqXHJcbiAqIEdldCBmaWxlIG1ldGFkYXRhIGJ5IElEXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RmlsZU1ldGFkYXRhKGZpbGVJZDogc3RyaW5nKTogUHJvbWlzZTxGaWxlTWV0YWRhdGE+IHtcclxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke2dldEFwaUJhc2VVcmwoKX0vYXBpL3YxL2ZpbGVzLyR7ZmlsZUlkfWApO1xyXG4gIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGdldCBmaWxlIG1ldGFkYXRhOiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XHJcbiAgfVxyXG4gIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBMaXN0IHVwbG9hZGVkIGZpbGVzIHdpdGggb3B0aW9uYWwgZmlsdGVyaW5nXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbGlzdEZpbGVzKG9wdGlvbnM/OiB7XHJcbiAgZmlsZVR5cGU/OiBzdHJpbmc7XHJcbiAgZmlsZUNhdGVnb3J5PzogRmlsZUNhdGVnb3J5O1xyXG4gIHdvcmtmbG93SWQ/OiBzdHJpbmc7XHJcbiAgbGltaXQ/OiBudW1iZXI7XHJcbiAgb2Zmc2V0PzogbnVtYmVyO1xyXG59KTogUHJvbWlzZTxGaWxlTGlzdFJlc3BvbnNlPiB7XHJcbiAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xyXG4gIGlmIChvcHRpb25zPy5maWxlVHlwZSkgcGFyYW1zLmFwcGVuZCgnZmlsZV90eXBlJywgb3B0aW9ucy5maWxlVHlwZSk7XHJcbiAgaWYgKG9wdGlvbnM/LmZpbGVDYXRlZ29yeSkgcGFyYW1zLmFwcGVuZCgnZmlsZV9jYXRlZ29yeScsIG9wdGlvbnMuZmlsZUNhdGVnb3J5KTtcclxuICBpZiAob3B0aW9ucz8ud29ya2Zsb3dJZCkgcGFyYW1zLmFwcGVuZCgnd29ya2Zsb3dfaWQnLCBvcHRpb25zLndvcmtmbG93SWQpO1xyXG4gIGlmIChvcHRpb25zPy5saW1pdCkgcGFyYW1zLmFwcGVuZCgnbGltaXQnLCBvcHRpb25zLmxpbWl0LnRvU3RyaW5nKCkpO1xyXG4gIGlmIChvcHRpb25zPy5vZmZzZXQpIHBhcmFtcy5hcHBlbmQoJ29mZnNldCcsIG9wdGlvbnMub2Zmc2V0LnRvU3RyaW5nKCkpO1xyXG5cclxuICBjb25zdCB1cmwgPSBgJHtnZXRBcGlCYXNlVXJsKCl9L2FwaS92MS9maWxlcz8ke3BhcmFtcy50b1N0cmluZygpfWA7XHJcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwpO1xyXG5cclxuICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBsaXN0IGZpbGVzOiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG59XHJcblxyXG4vKipcclxuICogR2V0IGZpbGUgZG93bmxvYWQgVVJMXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmlsZURvd25sb2FkVXJsKGZpbGVJZDogc3RyaW5nKTogc3RyaW5nIHtcclxuICByZXR1cm4gYCR7Z2V0QXBpQmFzZVVybCgpfS9hcGkvdjEvZmlsZXMvJHtmaWxlSWR9L2Rvd25sb2FkYDtcclxufVxyXG5cclxuLyoqXHJcbiAqIERvd25sb2FkIGEgZmlsZSAodHJpZ2dlcnMgYnJvd3NlciBkb3dubG9hZClcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkb3dubG9hZEZpbGUoZmlsZUlkOiBzdHJpbmcsIGZpbGVuYW1lPzogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgY29uc3QgdXJsID0gZ2V0RmlsZURvd25sb2FkVXJsKGZpbGVJZCk7XHJcbiAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuICBsaW5rLmhyZWYgPSB1cmw7XHJcbiAgaWYgKGZpbGVuYW1lKSB7XHJcbiAgICBsaW5rLmRvd25sb2FkID0gZmlsZW5hbWU7XHJcbiAgfVxyXG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7XHJcbiAgbGluay5jbGljaygpO1xyXG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobGluayk7XHJcbn1cclxuXHJcbi8vID09PT09IEZJTEUgTUFOQUdFTUVOVCA9PT09PVxyXG5cclxuLyoqXHJcbiAqIERlbGV0ZSBhIGZpbGVcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVGaWxlKGZpbGVJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtnZXRBcGlCYXNlVXJsKCl9L2FwaS92MS9maWxlcy8ke2ZpbGVJZH1gLCB7XHJcbiAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gIH0pO1xyXG5cclxuICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBkZWxldGUgZmlsZTogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEdldCBzdG9yYWdlIHN0YXRpc3RpY3NcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTdG9yYWdlU3RhdHMoKTogUHJvbWlzZTxTdG9yYWdlU3RhdHNSZXNwb25zZT4ge1xyXG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7Z2V0QXBpQmFzZVVybCgpfS9hcGkvdjEvZmlsZXMvc3RhdHMvc3RvcmFnZWApO1xyXG5cclxuICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBnZXQgc3RvcmFnZSBzdGF0czogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRyaWdnZXIgY2xlYW51cCBqb2IgKGFkbWluKVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRyaWdnZXJDbGVhbnVwKCk6IFByb21pc2U8YW55PiB7XHJcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtnZXRBcGlCYXNlVXJsKCl9L2FwaS92MS9maWxlcy9jbGVhbnVwYCwge1xyXG4gICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgfSk7XHJcblxyXG4gIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHRyaWdnZXIgY2xlYW51cDogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxufVxyXG5cclxuLy8gPT09PT0gSEVMUEVSIEZVTkNUSU9OUyA9PT09PVxyXG5cclxuLyoqXHJcbiAqIEZvcm1hdCBmaWxlIHNpemUgaW4gaHVtYW4tcmVhZGFibGUgZm9ybWF0XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0RmlsZVNpemUoYnl0ZXM6IG51bWJlcik6IHN0cmluZyB7XHJcbiAgaWYgKGJ5dGVzID09PSAwKSByZXR1cm4gJzAgQnl0ZXMnO1xyXG5cclxuICBjb25zdCBrID0gMTAyNDtcclxuICBjb25zdCBzaXplcyA9IFsnQnl0ZXMnLCAnS0InLCAnTUInLCAnR0InLCAnVEInXTtcclxuICBjb25zdCBpID0gTWF0aC5mbG9vcihNYXRoLmxvZyhieXRlcykgLyBNYXRoLmxvZyhrKSk7XHJcblxyXG4gIHJldHVybiBNYXRoLnJvdW5kKChieXRlcyAvIE1hdGgucG93KGssIGkpKSAqIDEwMCkgLyAxMDAgKyAnICcgKyBzaXplc1tpXTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEdldCBmaWxlIGV4dGVuc2lvbiBmcm9tIGZpbGVuYW1lXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmlsZUV4dGVuc2lvbihmaWxlbmFtZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICBjb25zdCBwYXJ0cyA9IGZpbGVuYW1lLnNwbGl0KCcuJyk7XHJcbiAgcmV0dXJuIHBhcnRzLmxlbmd0aCA+IDEgPyBwYXJ0c1twYXJ0cy5sZW5ndGggLSAxXS50b0xvd2VyQ2FzZSgpIDogJyc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDaGVjayBpZiBmaWxlIHR5cGUgaXMgYWNjZXB0ZWRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0ZpbGVUeXBlQWNjZXB0ZWQoZmlsZW5hbWU6IHN0cmluZywgYWNjZXB0OiBzdHJpbmcpOiBib29sZWFuIHtcclxuICBpZiAoIWFjY2VwdCB8fCBhY2NlcHQgPT09ICcqJykgcmV0dXJuIHRydWU7XHJcblxyXG4gIGNvbnN0IGV4dCA9ICcuJyArIGdldEZpbGVFeHRlbnNpb24oZmlsZW5hbWUpO1xyXG4gIGNvbnN0IGFjY2VwdGVkVHlwZXMgPSBhY2NlcHQuc3BsaXQoJywnKS5tYXAoKHQpID0+IHQudHJpbSgpLnRvTG93ZXJDYXNlKCkpO1xyXG5cclxuICByZXR1cm4gYWNjZXB0ZWRUeXBlcy5zb21lKCh0eXBlKSA9PiB7XHJcbiAgICBpZiAodHlwZSA9PT0gZXh0KSByZXR1cm4gdHJ1ZTtcclxuICAgIC8vIEhhbmRsZSB3aWxkY2FyZCBNSU1FIHR5cGVzIChlLmcuLCBcImltYWdlLypcIilcclxuICAgIGlmICh0eXBlLmluY2x1ZGVzKCcvKicpKSB7XHJcbiAgICAgIGNvbnN0IGNhdGVnb3J5ID0gdHlwZS5zcGxpdCgnLycpWzBdO1xyXG4gICAgICBjb25zdCBtaW1lQ2F0ZWdvcnkgPSBnZXRNaW1lQ2F0ZWdvcnkoZmlsZW5hbWUpO1xyXG4gICAgICByZXR1cm4gY2F0ZWdvcnkgPT09IG1pbWVDYXRlZ29yeTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEdldCBNSU1FIGNhdGVnb3J5IGZyb20gZmlsZW5hbWVcclxuICovXHJcbmZ1bmN0aW9uIGdldE1pbWVDYXRlZ29yeShmaWxlbmFtZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICBjb25zdCBleHQgPSBnZXRGaWxlRXh0ZW5zaW9uKGZpbGVuYW1lKTtcclxuICBjb25zdCBpbWFnZUV4dHMgPSBbJ2pwZycsICdqcGVnJywgJ3BuZycsICdnaWYnLCAnYm1wJywgJ3dlYnAnLCAndGlmZiddO1xyXG4gIGNvbnN0IGF1ZGlvRXh0cyA9IFsnbXAzJywgJ3dhdicsICdtNGEnLCAnb2dnJywgJ2ZsYWMnLCAnd2VibSddO1xyXG4gIGNvbnN0IHZpZGVvRXh0cyA9IFsnbXA0JywgJ2F2aScsICdtb3YnLCAnbWt2JywgJ3dlYm0nXTtcclxuXHJcbiAgaWYgKGltYWdlRXh0cy5pbmNsdWRlcyhleHQpKSByZXR1cm4gJ2ltYWdlJztcclxuICBpZiAoYXVkaW9FeHRzLmluY2x1ZGVzKGV4dCkpIHJldHVybiAnYXVkaW8nO1xyXG4gIGlmICh2aWRlb0V4dHMuaW5jbHVkZXMoZXh0KSkgcmV0dXJuICd2aWRlbyc7XHJcbiAgcmV0dXJuICdhcHBsaWNhdGlvbic7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBdXRvLWRldGVjdCBmaWxlIGNhdGVnb3J5IGZyb20gZmlsZW5hbWVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBhdXRvRGV0ZWN0RmlsZUNhdGVnb3J5KGZpbGVuYW1lOiBzdHJpbmcpOiBGaWxlQ2F0ZWdvcnkge1xyXG4gIGNvbnN0IGV4dCA9IGdldEZpbGVFeHRlbnNpb24oZmlsZW5hbWUpO1xyXG5cclxuICAvLyBEb2N1bWVudCBleHRlbnNpb25zXHJcbiAgaWYgKFsncGRmJywgJ2RvYycsICdkb2N4JywgJ3R4dCcsICdtZCcsICdjc3YnLCAnanNvbicsICd4bHN4JywgJ3hscycsICd4bHNtJ10uaW5jbHVkZXMoZXh0KSkge1xyXG4gICAgcmV0dXJuICdkb2N1bWVudCc7XHJcbiAgfVxyXG5cclxuICAvLyBJbWFnZSBleHRlbnNpb25zXHJcbiAgaWYgKFsnanBnJywgJ2pwZWcnLCAncG5nJywgJ2dpZicsICdibXAnLCAnd2VicCcsICd0aWZmJ10uaW5jbHVkZXMoZXh0KSkge1xyXG4gICAgcmV0dXJuICdpbWFnZSc7XHJcbiAgfVxyXG5cclxuICAvLyBBdWRpbyBleHRlbnNpb25zXHJcbiAgaWYgKFsnbXAzJywgJ3dhdicsICdtNGEnLCAnb2dnJywgJ2ZsYWMnLCAnd2VibSddLmluY2x1ZGVzKGV4dCkpIHtcclxuICAgIHJldHVybiAnYXVkaW8nO1xyXG4gIH1cclxuXHJcbiAgLy8gVmlkZW8gZXh0ZW5zaW9uc1xyXG4gIGlmIChbJ21wNCcsICdhdmknLCAnbW92JywgJ21rdicsICd3ZWJtJ10uaW5jbHVkZXMoZXh0KSkge1xyXG4gICAgcmV0dXJuICd2aWRlbyc7XHJcbiAgfVxyXG5cclxuICAvLyBBcmNoaXZlIGV4dGVuc2lvbnNcclxuICBpZiAoWyd6aXAnLCAndGFyJywgJ2d6JywgJ3JhcicsICc3eiddLmluY2x1ZGVzKGV4dCkpIHtcclxuICAgIHJldHVybiAnYXJjaGl2ZSc7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gJ290aGVyJztcclxufVxyXG5cclxuIl0sIm5hbWVzIjpbImdldEFwaUJhc2VVcmwiLCJ1cGxvYWRGaWxlIiwib3B0aW9ucyIsImZpbGUiLCJmaWxlVHlwZSIsImZpbGVDYXRlZ29yeSIsIndvcmtmbG93SWQiLCJleGVjdXRpb25JZCIsIm1ha2VQZXJtYW5lbnQiLCJvblByb2dyZXNzIiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsImFwcGVuZCIsInBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsInVybCIsInRvU3RyaW5nIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsInVwbG9hZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwibGVuZ3RoQ29tcHV0YWJsZSIsInBlcmNlbnRDb21wbGV0ZSIsImxvYWRlZCIsInRvdGFsIiwic3RhdHVzIiwiZGF0YSIsIkpTT04iLCJwYXJzZSIsInJlc3BvbnNlVGV4dCIsImVycm9yIiwiRXJyb3IiLCJkZXRhaWwiLCJzdGF0dXNUZXh0Iiwib3BlbiIsInNlbmQiLCJnZXRGaWxlTWV0YWRhdGEiLCJmaWxlSWQiLCJyZXNwb25zZSIsImZldGNoIiwib2siLCJqc29uIiwibGlzdEZpbGVzIiwibGltaXQiLCJvZmZzZXQiLCJnZXRGaWxlRG93bmxvYWRVcmwiLCJkb3dubG9hZEZpbGUiLCJmaWxlbmFtZSIsImxpbmsiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJocmVmIiwiZG93bmxvYWQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJjbGljayIsInJlbW92ZUNoaWxkIiwiZGVsZXRlRmlsZSIsIm1ldGhvZCIsImdldFN0b3JhZ2VTdGF0cyIsInRyaWdnZXJDbGVhbnVwIiwiZm9ybWF0RmlsZVNpemUiLCJieXRlcyIsImsiLCJzaXplcyIsImkiLCJNYXRoIiwiZmxvb3IiLCJsb2ciLCJyb3VuZCIsInBvdyIsImdldEZpbGVFeHRlbnNpb24iLCJwYXJ0cyIsInNwbGl0IiwibGVuZ3RoIiwidG9Mb3dlckNhc2UiLCJpc0ZpbGVUeXBlQWNjZXB0ZWQiLCJhY2NlcHQiLCJleHQiLCJhY2NlcHRlZFR5cGVzIiwibWFwIiwidCIsInRyaW0iLCJzb21lIiwidHlwZSIsImluY2x1ZGVzIiwiY2F0ZWdvcnkiLCJtaW1lQ2F0ZWdvcnkiLCJnZXRNaW1lQ2F0ZWdvcnkiLCJpbWFnZUV4dHMiLCJhdWRpb0V4dHMiLCJ2aWRlb0V4dHMiLCJhdXRvRGV0ZWN0RmlsZUNhdGVnb3J5Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/files.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/lib/hooks/useUndoableState.tsx":
/*!********************************************!*\
  !*** ./src/lib/hooks/useUndoableState.tsx ***!
  \********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useUndoableState: () => (/* binding */ useUndoableState)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var immer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! immer */ \"(app-pages-browser)/./node_modules/immer/dist/immer.esm.mjs\");\nvar _s = $RefreshSig$();\n\n\nfunction useUndoableState(initial, maxHistory = 100) {\n    _s();\n    // Ensure immer 'patches' plugin is enabled. Guard against multiple calls.\n    try {\n        // @ts-ignore - enablePatches is available at runtime after import\n        if (!globalThis.__immer_patches_enabled) {\n            (0,immer__WEBPACK_IMPORTED_MODULE_1__.enablePatches)();\n            globalThis.__immer_patches_enabled = true;\n        }\n    } catch (err) {\n    // ignore  enablePatches may already be initialized or not available in some environments\n    }\n    const initialState = {\n        past: [],\n        present: initial,\n        future: []\n    };\n    function reducer(state, action) {\n        switch(action.type){\n            case 'PUSH_PRODUCER':\n                {\n                    const t0 = Date.now();\n                    const [nextState, patches, inversePatches] = (0,immer__WEBPACK_IMPORTED_MODULE_1__.produceWithPatches)(state.present, action.producer);\n                    if (true) console.debug('[undo] PUSH_PRODUCER', patches?.length || 0, 'patches', 'time', Date.now() - t0);\n                    if (!patches || patches.length === 0) return state;\n                    const change = {\n                        patches,\n                        inversePatches\n                    };\n                    const past = [\n                        ...state.past,\n                        change\n                    ];\n                    const capped = past.length > maxHistory ? past.slice(past.length - maxHistory) : past;\n                    return {\n                        past: capped,\n                        present: nextState,\n                        future: []\n                    };\n                }\n            case 'PUSH_SNAPSHOT':\n                {\n                    // Compute patches by replacing present with the snapshot via a producer that returns the snapshot\n                    const [nextState, patches, inversePatches] = (0,immer__WEBPACK_IMPORTED_MODULE_1__.produceWithPatches)(state.present, ()=>action.snapshot);\n                    if (!patches || patches.length === 0) return state;\n                    const change = {\n                        patches,\n                        inversePatches\n                    };\n                    const past = [\n                        ...state.past,\n                        change\n                    ];\n                    const capped = past.length > maxHistory ? past.slice(past.length - maxHistory) : past;\n                    return {\n                        past: capped,\n                        present: nextState,\n                        future: []\n                    };\n                }\n            case 'UNDO':\n                {\n                    if (true) console.debug('[undo] UNDO');\n                    if (state.past.length === 0) return state;\n                    const last = state.past[state.past.length - 1];\n                    const newPast = state.past.slice(0, state.past.length - 1);\n                    const prevState = (0,immer__WEBPACK_IMPORTED_MODULE_1__.applyPatches)(state.present, last.inversePatches);\n                    return {\n                        past: newPast,\n                        present: prevState,\n                        future: [\n                            last,\n                            ...state.future\n                        ]\n                    };\n                }\n            case 'REDO':\n                {\n                    if (true) console.debug('[undo] REDO');\n                    if (state.future.length === 0) return state;\n                    const nextChange = state.future[0];\n                    const newFuture = state.future.slice(1);\n                    const nextState = (0,immer__WEBPACK_IMPORTED_MODULE_1__.applyPatches)(state.present, nextChange.patches);\n                    return {\n                        past: [\n                            ...state.past,\n                            nextChange\n                        ],\n                        present: nextState,\n                        future: newFuture\n                    };\n                }\n            case 'REPLACE':\n                {\n                    return {\n                        past: [],\n                        present: action.snapshot,\n                        future: []\n                    };\n                }\n            default:\n                return state;\n        }\n    }\n    const [state, dispatch] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useReducer)(reducer, initialState);\n    const pushProducer = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useUndoableState.useCallback[pushProducer]\": (producer)=>{\n            dispatch({\n                type: 'PUSH_PRODUCER',\n                producer\n            });\n        }\n    }[\"useUndoableState.useCallback[pushProducer]\"], []);\n    const pushSnapshot = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useUndoableState.useCallback[pushSnapshot]\": (snapshot)=>{\n            dispatch({\n                type: 'PUSH_SNAPSHOT',\n                snapshot\n            });\n        }\n    }[\"useUndoableState.useCallback[pushSnapshot]\"], []);\n    const replace = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useUndoableState.useCallback[replace]\": (snapshot)=>dispatch({\n                type: 'REPLACE',\n                snapshot\n            })\n    }[\"useUndoableState.useCallback[replace]\"], []);\n    const undo = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useUndoableState.useCallback[undo]\": ()=>dispatch({\n                type: 'UNDO'\n            })\n    }[\"useUndoableState.useCallback[undo]\"], []);\n    const redo = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useUndoableState.useCallback[redo]\": ()=>dispatch({\n                type: 'REDO'\n            })\n    }[\"useUndoableState.useCallback[redo]\"], []);\n    return {\n        present: state.present,\n        pushSnapshot,\n        pushProducer,\n        replace,\n        undo,\n        redo,\n        canUndo: state.past.length > 0,\n        canRedo: state.future.length > 0\n    };\n}\n_s(useUndoableState, \"hyYDNfO8VVZ4QaK4ITD5UrkdhLY=\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvaG9va3MvdXNlVW5kb2FibGVTdGF0ZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBZ0Q7QUFDK0I7QUFleEUsU0FBU0ssaUJBQW1DQyxPQUFVLEVBQUVDLGFBQWEsR0FBRzs7SUFDN0UsMEVBQTBFO0lBQzFFLElBQUk7UUFDRixrRUFBa0U7UUFDbEUsSUFBSSxDQUFDLFdBQW9CRSx1QkFBdUIsRUFBRTtZQUNoREwsb0RBQWFBO1lBQ1pJLFdBQW1CQyx1QkFBdUIsR0FBRztRQUNoRDtJQUNGLEVBQUUsT0FBT0MsS0FBSztJQUNaLDBGQUEwRjtJQUM1RjtJQVNBLE1BQU1DLGVBQXNCO1FBQUVDLE1BQU0sRUFBRTtRQUFFQyxTQUFTUDtRQUFTUSxRQUFRLEVBQUU7SUFBQztJQUVyRSxTQUFTQyxRQUFRQyxLQUFZLEVBQUVDLE1BQWM7UUFDM0MsT0FBUUEsT0FBT0MsSUFBSTtZQUNqQixLQUFLO2dCQUFpQjtvQkFDcEIsTUFBTUMsS0FBS0MsS0FBS0MsR0FBRztvQkFDbkIsTUFBTSxDQUFDQyxXQUFXQyxTQUFTQyxlQUFlLEdBQUd0Qix5REFBa0JBLENBQUNjLE1BQU1ILE9BQU8sRUFBRUksT0FBT1EsUUFBUTtvQkFDOUYsSUFBSUMsSUFBcUMsRUFBRUMsUUFBUUMsS0FBSyxDQUFDLHdCQUF3QkwsU0FBU00sVUFBVSxHQUFHLFdBQVcsUUFBUVQsS0FBS0MsR0FBRyxLQUFLRjtvQkFDdkksSUFBSSxDQUFDSSxXQUFXQSxRQUFRTSxNQUFNLEtBQUssR0FBRyxPQUFPYjtvQkFDN0MsTUFBTWMsU0FBc0I7d0JBQUVQO3dCQUFTQztvQkFBZTtvQkFDdEQsTUFBTVosT0FBTzsyQkFBSUksTUFBTUosSUFBSTt3QkFBRWtCO3FCQUFPO29CQUNwQyxNQUFNQyxTQUFTbkIsS0FBS2lCLE1BQU0sR0FBR3RCLGFBQWFLLEtBQUtvQixLQUFLLENBQUNwQixLQUFLaUIsTUFBTSxHQUFHdEIsY0FBY0s7b0JBQ2pGLE9BQU87d0JB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QUFPNUMsa0RBQVdBOzhDQUFDLElBQU11QyxTQUFTO2dCQUFFckIsTUFBTTtZQUFPOzZDQUFJLEVBQUU7SUFFN0QsT0FBTztRQUNMTCxTQUFTRyxNQUFNSCxPQUFPO1FBQ3RCNEI7UUFDQUQ7UUFDQUU7UUFDQUM7UUFDQUM7UUFDQUMsU0FBUzdCLE1BQU1KLElBQUksQ0FBQ2lCLE1BQU0sR0FBRztRQUM3QmlCLFNBQVM5QixNQUFNRixNQUFNLENBQUNlLE1BQU0sR0FBRztJQUNqQztBQUNGO0dBMUZnQnhCIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXG5pY2hvbGFzLmxlZVxcRG9jdW1lbnRzXFx6XFxUaWNrZXRpbmdfTmlja1xcVGlja2V0aW5nXFx0YXZfb3BlbnNvdXJjZVxcdWlcXHNyY1xcbGliXFxob29rc1xcdXNlVW5kb2FibGVTdGF0ZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZVJlZHVjZXIgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IHByb2R1Y2VXaXRoUGF0Y2hlcywgYXBwbHlQYXRjaGVzLCBQYXRjaCwgZW5hYmxlUGF0Y2hlcyB9IGZyb20gJ2ltbWVyJztcclxuXHJcbnR5cGUgUGF0Y2hDaGFuZ2UgPSB7IHBhdGNoZXM6IFBhdGNoW107IGludmVyc2VQYXRjaGVzOiBQYXRjaFtdIH07XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFVuZG9hYmxlU3RhdGVBcGk8VD4ge1xyXG4gIHByZXNlbnQ6IFQ7XHJcbiAgcHVzaFNuYXBzaG90KHNuYXBzaG90OiBUKTogdm9pZDtcclxuICBwdXNoUHJvZHVjZXIocHJvZHVjZXI6IChkcmFmdDogVCkgPT4gdm9pZCk6IHZvaWQ7XHJcbiAgcmVwbGFjZShzbmFwc2hvdDogVCk6IHZvaWQ7XHJcbiAgdW5kbygpOiB2b2lkO1xyXG4gIHJlZG8oKTogdm9pZDtcclxuICBjYW5VbmRvOiBib29sZWFuO1xyXG4gIGNhblJlZG86IGJvb2xlYW47XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VVbmRvYWJsZVN0YXRlPFQgZXh0ZW5kcyBvYmplY3Q+KGluaXRpYWw6IFQsIG1heEhpc3RvcnkgPSAxMDApOiBVbmRvYWJsZVN0YXRlQXBpPFQ+IHtcclxuICAvLyBFbnN1cmUgaW1tZXIgJ3BhdGNoZXMnIHBsdWdpbiBpcyBlbmFibGVkLiBHdWFyZCBhZ2FpbnN0IG11bHRpcGxlIGNhbGxzLlxyXG4gIHRyeSB7XHJcbiAgICAvLyBAdHMtaWdub3JlIC0gZW5hYmxlUGF0Y2hlcyBpcyBhdmFpbGFibGUgYXQgcnVudGltZSBhZnRlciBpbXBvcnRcclxuICAgIGlmICghKGdsb2JhbFRoaXMgYXMgYW55KS5fX2ltbWVyX3BhdGNoZXNfZW5hYmxlZCkge1xyXG4gICAgICBlbmFibGVQYXRjaGVzKCk7XHJcbiAgICAgIChnbG9iYWxUaGlzIGFzIGFueSkuX19pbW1lcl9wYXRjaGVzX2VuYWJsZWQgPSB0cnVlO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgLy8gaWdub3JlIOKAkyBlbmFibGVQYXRjaGVzIG1heSBhbHJlYWR5IGJlIGluaXRpYWxpemVkIG9yIG5vdCBhdmFpbGFibGUgaW4gc29tZSBlbnZpcm9ubWVudHNcclxuICB9XHJcbiAgdHlwZSBTdGF0ZSA9IHsgcGFzdDogUGF0Y2hDaGFuZ2VbXTsgcHJlc2VudDogVDsgZnV0dXJlOiBQYXRjaENoYW5nZVtdIH07XHJcbiAgdHlwZSBBY3Rpb24gPVxyXG4gICAgfCB7IHR5cGU6ICdQVVNIX1BST0RVQ0VSJzsgcHJvZHVjZXI6IChkcmFmdDogVCkgPT4gdm9pZCB9XHJcbiAgICB8IHsgdHlwZTogJ1BVU0hfU05BUFNIT1QnOyBzbmFwc2hvdDogVCB9XHJcbiAgICB8IHsgdHlwZTogJ1VORE8nIH1cclxuICAgIHwgeyB0eXBlOiAnUkVETycgfVxyXG4gICAgfCB7IHR5cGU6ICdSRVBMQUNFJzsgc25hcHNob3Q6IFQgfTtcclxuXHJcbiAgY29uc3QgaW5pdGlhbFN0YXRlOiBTdGF0ZSA9IHsgcGFzdDogW10sIHByZXNlbnQ6IGluaXRpYWwsIGZ1dHVyZTogW10gfTtcclxuXHJcbiAgZnVuY3Rpb24gcmVkdWNlcihzdGF0ZTogU3RhdGUsIGFjdGlvbjogQWN0aW9uKTogU3RhdGUge1xyXG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xyXG4gICAgICBjYXNlICdQVVNIX1BST0RVQ0VSJzoge1xyXG4gICAgICAgIGNvbnN0IHQwID0gRGF0ZS5ub3coKTtcclxuICAgICAgICBjb25zdCBbbmV4dFN0YXRlLCBwYXRjaGVzLCBpbnZlcnNlUGF0Y2hlc10gPSBwcm9kdWNlV2l0aFBhdGNoZXMoc3RhdGUucHJlc2VudCwgYWN0aW9uLnByb2R1Y2VyKTtcclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgY29uc29sZS5kZWJ1ZygnW3VuZG9dIFBVU0hfUFJPRFVDRVInLCBwYXRjaGVzPy5sZW5ndGggfHwgMCwgJ3BhdGNoZXMnLCAndGltZScsIERhdGUubm93KCkgLSB0MCk7XHJcbiAgICAgICAgaWYgKCFwYXRjaGVzIHx8IHBhdGNoZXMubGVuZ3RoID09PSAwKSByZXR1cm4gc3RhdGU7XHJcbiAgICAgICAgY29uc3QgY2hhbmdlOiBQYXRjaENoYW5nZSA9IHsgcGF0Y2hlcywgaW52ZXJzZVBhdGNoZXMgfTtcclxuICAgICAgICBjb25zdCBwYXN0ID0gWy4uLnN0YXRlLnBhc3QsIGNoYW5nZV07XHJcbiAgICAgICAgY29uc3QgY2FwcGVkID0gcGFzdC5sZW5ndGggPiBtYXhIaXN0b3J5ID8gcGFzdC5zbGljZShwYXN0Lmxlbmd0aCAtIG1heEhpc3RvcnkpIDogcGFzdDtcclxuICAgICAgICByZXR1cm4geyBwYXN0OiBjYXBwZWQsIHByZXNlbnQ6IG5leHRTdGF0ZSwgZnV0dXJlOiBbXSB9O1xyXG4gICAgICB9XHJcbiAgICAgIGNhc2UgJ1BVU0hfU05BUFNIT1QnOiB7XHJcbiAgICAgICAgLy8gQ29tcHV0ZSBwYXRjaGVzIGJ5IHJlcGxhY2luZyBwcmVzZW50IHdpdGggdGhlIHNuYXBzaG90IHZpYSBhIHByb2R1Y2VyIHRoYXQgcmV0dXJucyB0aGUgc25hcHNob3RcclxuICAgICAgICBjb25zdCBbbmV4dFN0YXRlLCBwYXRjaGVzLCBpbnZlcnNlUGF0Y2hlc10gPSBwcm9kdWNlV2l0aFBhdGNoZXMoc3RhdGUucHJlc2VudCwgKCkgPT4gYWN0aW9uLnNuYXBzaG90IGFzIFQpO1xyXG4gICAgICAgIGlmICghcGF0Y2hlcyB8fCBwYXRjaGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHN0YXRlO1xyXG4gICAgICAgIGNvbnN0IGNoYW5nZTogUGF0Y2hDaGFuZ2UgPSB7IHBhdGNoZXMsIGludmVyc2VQYXRjaGVzIH07XHJcbiAgICAgICAgY29uc3QgcGFzdCA9IFsuLi5zdGF0ZS5wYXN0LCBjaGFuZ2VdO1xyXG4gICAgICAgIGNvbnN0IGNhcHBlZCA9IHBhc3QubGVuZ3RoID4gbWF4SGlzdG9yeSA/IHBhc3Quc2xpY2UocGFzdC5sZW5ndGggLSBtYXhIaXN0b3J5KSA6IHBhc3Q7XHJcbiAgICAgICAgcmV0dXJuIHsgcGFzdDogY2FwcGVkLCBwcmVzZW50OiBuZXh0U3RhdGUsIGZ1dHVyZTogW10gfTtcclxuICAgICAgfVxyXG4gICAgICBjYXNlICdVTkRPJzoge1xyXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSBjb25zb2xlLmRlYnVnKCdbdW5kb10gVU5ETycpO1xyXG4gICAgICAgIGlmIChzdGF0ZS5wYXN0Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIHN0YXRlO1xyXG4gICAgICAgIGNvbnN0IGxhc3QgPSBzdGF0ZS5wYXN0W3N0YXRlLnBhc3QubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgY29uc3QgbmV3UGFzdCA9IHN0YXRlLnBhc3Quc2xpY2UoMCwgc3RhdGUucGFzdC5sZW5ndGggLSAxKTtcclxuICAgICAgICBjb25zdCBwcmV2U3RhdGUgPSBhcHBseVBhdGNoZXMoc3RhdGUucHJlc2VudCwgbGFzdC5pbnZlcnNlUGF0Y2hlcyk7XHJcbiAgICAgICAgcmV0dXJuIHsgcGFzdDogbmV3UGFzdCwgcHJlc2VudDogcHJldlN0YXRlLCBmdXR1cmU6IFtsYXN0LCAuLi5zdGF0ZS5mdXR1cmVdIH07XHJcbiAgICAgIH1cclxuICAgICAgY2FzZSAnUkVETyc6IHtcclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgY29uc29sZS5kZWJ1ZygnW3VuZG9dIFJFRE8nKTtcclxuICAgICAgICBpZiAoc3RhdGUuZnV0dXJlLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHN0YXRlO1xyXG4gICAgICAgIGNvbnN0IG5leHRDaGFuZ2UgPSBzdGF0ZS5mdXR1cmVbMF07XHJcbiAgICAgICAgY29uc3QgbmV3RnV0dXJlID0gc3RhdGUuZnV0dXJlLnNsaWNlKDEpO1xyXG4gICAgICAgIGNvbnN0IG5leHRTdGF0ZSA9IGFwcGx5UGF0Y2hlcyhzdGF0ZS5wcmVzZW50LCBuZXh0Q2hhbmdlLnBhdGNoZXMpO1xyXG4gICAgICAgIHJldHVybiB7IHBhc3Q6IFsuLi5zdGF0ZS5wYXN0LCBuZXh0Q2hhbmdlXSwgcHJlc2VudDogbmV4dFN0YXRlLCBmdXR1cmU6IG5ld0Z1dHVyZSB9O1xyXG4gICAgICB9XHJcbiAgICAgIGNhc2UgJ1JFUExBQ0UnOiB7XHJcbiAgICAgICAgcmV0dXJuIHsgcGFzdDogW10sIHByZXNlbnQ6IGFjdGlvbi5zbmFwc2hvdCwgZnV0dXJlOiBbXSB9O1xyXG4gICAgICB9XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc3QgW3N0YXRlLCBkaXNwYXRjaF0gPSB1c2VSZWR1Y2VyKHJlZHVjZXIsIGluaXRpYWxTdGF0ZSk7XHJcblxyXG4gIGNvbnN0IHB1c2hQcm9kdWNlciA9IHVzZUNhbGxiYWNrKChwcm9kdWNlcjogKGRyYWZ0OiBUKSA9PiB2b2lkKSA9PiB7XHJcbiAgICBkaXNwYXRjaCh7IHR5cGU6ICdQVVNIX1BST0RVQ0VSJywgcHJvZHVjZXIgfSk7XHJcbiAgfSwgW10pO1xyXG5cclxuICBjb25zdCBwdXNoU25hcHNob3QgPSB1c2VDYWxsYmFjaygoc25hcHNob3Q6IFQpID0+IHtcclxuICAgIGRpc3BhdGNoKHsgdHlwZTogJ1BVU0hfU05BUFNIT1QnLCBzbmFwc2hvdCB9KTtcclxuICB9LCBbXSk7XHJcblxyXG4gIGNvbnN0IHJlcGxhY2UgPSB1c2VDYWxsYmFjaygoc25hcHNob3Q6IFQpID0+IGRpc3BhdGNoKHsgdHlwZTogJ1JFUExBQ0UnLCBzbmFwc2hvdCB9KSwgW10pO1xyXG4gIGNvbnN0IHVuZG8gPSB1c2VDYWxsYmFjaygoKSA9PiBkaXNwYXRjaCh7IHR5cGU6ICdVTkRPJyB9KSwgW10pO1xyXG4gIGNvbnN0IHJlZG8gPSB1c2VDYWxsYmFjaygoKSA9PiBkaXNwYXRjaCh7IHR5cGU6ICdSRURPJyB9KSwgW10pO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgcHJlc2VudDogc3RhdGUucHJlc2VudCxcclxuICAgIHB1c2hTbmFwc2hvdCxcclxuICAgIHB1c2hQcm9kdWNlcixcclxuICAgIHJlcGxhY2UsXHJcbiAgICB1bmRvLFxyXG4gICAgcmVkbyxcclxuICAgIGNhblVuZG86IHN0YXRlLnBhc3QubGVuZ3RoID4gMCxcclxuICAgIGNhblJlZG86IHN0YXRlLmZ1dHVyZS5sZW5ndGggPiAwLFxyXG4gIH07XHJcbn1cclxuIl0sIm5hbWVzIjpbInVzZUNhbGxiYWNrIiwidXNlUmVkdWNlciIsInByb2R1Y2VXaXRoUGF0Y2hlcyIsImFwcGx5UGF0Y2hlcyIsImVuYWJsZVBhdGNoZXMiLCJ1c2VVbmRvYWJsZVN0YXRlIiwiaW5pdGlhbCIsIm1heEhpc3RvcnkiLCJnbG9iYWxUaGlzIiwiX19pbW1lcl9wYXRjaGVzX2VuYWJsZWQiLCJlcnIiLCJpbml0aWFsU3RhdGUiLCJwYXN0IiwicHJlc2VudCIsImZ1dHVyZSIsInJlZHVjZXIiLCJzdGF0ZSIsImFjdGlvbiIsInR5cGUiLCJ0MCIsIkRhdGUiLCJub3ciLCJuZXh0U3RhdGUiLCJwYXRjaGVzIiwiaW52ZXJzZVBhdGNoZXMiLCJwcm9kdWNlciIsInByb2Nlc3MiLCJjb25zb2xlIiwiZGVidWciLCJsZW5ndGgiLCJjaGFuZ2UiLCJjYXBwZWQiLCJzbGljZSIsInNuYXBzaG90IiwibGFzdCIsIm5ld1Bhc3QiLCJwcmV2U3RhdGUiLCJuZXh0Q2hhbmdlIiwibmV3RnV0dXJlIiwiZGlzcGF0Y2giLCJwdXNoUHJvZHVjZXIiLCJwdXNoU25hcHNob3QiLCJyZXBsYWNlIiwidW5kbyIsInJlZG8iLCJjYW5VbmRvIiwiY2FuUmVkbyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/hooks/useUndoableState.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/lib/huggingface-api.ts":
/*!************************************!*\
  !*** ./src/lib/huggingface-api.ts ***!
  \************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getModelCard: () => (/* binding */ getModelCard),\n/* harmony export */   getModelDetails: () => (/* binding */ getModelDetails),\n/* harmony export */   getPopularModels: () => (/* binding */ getPopularModels),\n/* harmony export */   getRecommendedModels: () => (/* binding */ getRecommendedModels),\n/* harmony export */   getTaskConfigSchema: () => (/* binding */ getTaskConfigSchema),\n/* harmony export */   getTasks: () => (/* binding */ getTasks),\n/* harmony export */   searchModels: () => (/* binding */ searchModels)\n/* harmony export */ });\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\");\n/**\r\n * HuggingFace API Client\r\n * \r\n * Functions for interacting with HuggingFace model search and discovery endpoints\r\n */ const API_BASE = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5000';\n/**\r\n * Search for HuggingFace models\r\n */ async function searchModels(params) {\n    const queryParams = new URLSearchParams();\n    if (params.query) queryParams.append('query', params.query);\n    if (params.task) queryParams.append('task', params.task);\n    if (params.library) queryParams.append('library', params.library);\n    if (params.language) queryParams.append('language', params.language);\n    if (params.sort) queryParams.append('sort', params.sort);\n    if (params.limit) queryParams.append('limit', params.limit.toString());\n    if (params.page) queryParams.append('page', params.page.toString());\n    const response = await fetch(`${API_BASE}/api/v1/huggingface/search?${queryParams}`, {\n        credentials: 'include'\n    });\n    if (!response.ok) {\n        throw new Error(`Failed to search models: ${response.statusText}`);\n    }\n    return response.json();\n}\n/**\r\n * Get detailed information about a specific model\r\n */ async function getModelDetails(modelId) {\n    const response = await fetch(`${API_BASE}/api/v1/huggingface/model/${encodeURIComponent(modelId)}/info`, {\n        credentials: 'include'\n    });\n    if (!response.ok) {\n        throw new Error(`Failed to get model details: ${response.statusText}`);\n    }\n    const data = await response.json();\n    return data;\n}\n/**\r\n * Get model card (README) for a specific model\r\n */ async function getModelCard(modelId) {\n    const response = await fetch(`${API_BASE}/api/v1/huggingface/model/${encodeURIComponent(modelId)}/card`, {\n        credentials: 'include'\n    });\n    if (!response.ok) {\n        throw new Error(`Failed to get model card: ${response.statusText}`);\n    }\n    return response.json();\n}\n/**\r\n * Get list of available tasks\r\n */ async function getTasks() {\n    const response = await fetch(`${API_BASE}/api/v1/huggingface/tasks`, {\n        credentials: 'include'\n    });\n    if (!response.ok) {\n        throw new Error(`Failed to get tasks: ${response.statusText}`);\n    }\n    return response.json();\n}\n/**\r\n * Get popular models for a specific task\r\n */ async function getPopularModels(task, limit = 10) {\n    const response = await fetch(`${API_BASE}/api/v1/huggingface/popular/${encodeURIComponent(task)}?limit=${limit}`, {\n        credentials: 'include'\n    });\n    if (!response.ok) {\n        throw new Error(`Failed to get popular models: ${response.statusText}`);\n    }\n    return response.json();\n}\n/**\r\n * Get recommended models for a specific task\r\n */ async function getRecommendedModels(task) {\n    const response = await fetch(`${API_BASE}/api/v1/huggingface/recommended/${encodeURIComponent(task)}`, {\n        credentials: 'include'\n    });\n    if (!response.ok) {\n        throw new Error(`Failed to get recommended models: ${response.statusText}`);\n    }\n    return response.json();\n}\n/**\r\n * Get task-specific configuration schema\r\n */ async function getTaskConfigSchema(task) {\n    const response = await fetch(`${API_BASE}/api/v1/huggingface/task-config/${encodeURIComponent(task)}`, {\n        credentials: 'include'\n    });\n    if (!response.ok) {\n        throw new Error(`Failed to get task configuration: ${response.statusText}`);\n    }\n    return response.json();\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvaHVnZ2luZ2ZhY2UtYXBpLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7Ozs7Q0FJQyxHQUVELE1BQU1BLFdBQVdDLE9BQU9BLENBQUNDLEdBQUcsQ0FBQ0MsbUJBQW1CLElBQUk7QUEwQ3BEOztDQUVDLEdBQ00sZUFBZUMsYUFBYUMsTUFRbEM7SUFDQyxNQUFNQyxjQUFjLElBQUlDO0lBRXhCLElBQUlGLE9BQU9HLEtBQUssRUFBRUYsWUFBWUcsTUFBTSxDQUFDLFNBQVNKLE9BQU9HLEtBQUs7SUFDMUQsSUFBSUgsT0FBT0ssSUFBSSxFQUFFSixZQUFZRyxNQUFNLENBQUMsUUFBUUosT0FBT0ssSUFBSTtJQUN2RCxJQUFJTCxPQUFPTSxPQUFPLEVBQUVMLFlBQVlHLE1BQU0sQ0FBQyxXQUFXSixPQUFPTSxPQUFPO0lBQ2hFLElBQUlOLE9BQU9PLFFBQVEsRUFBRU4sWUFBWUcsTUFBTSxDQUFDLFlBQVlKLE9BQU9PLFFBQVE7SUFDbkUsSUFBSVAsT0FBT1EsSUFBSSxFQUFFUCxZQUFZRyxNQUFNLENBQUMsUUFBUUosT0FBT1EsSUFBSTtJQUN2RCxJQUFJUixPQUFPUyxLQUFLLEVBQUVSLFlBQVlHLE1BQU0sQ0FBQyxTQUFTSixPQUFPUyxLQUFLLENBQUNDLFFBQVE7SUFDbkUsSUFBSVYsT0FBT1csSUFBSSxFQUFFVixZQUFZRyxNQUFNLENBQUMsUUFBUUosT0FBT1csSUFBSSxDQUFDRCxRQUFRO0lBRWhFLE1BQU1FLFdBQVcsTUFBTUMsTUFDckIsR0FBR2xCLFNBQVMsMkJBQTJCLEVBQUVNLGFBQWEsRUFDdEQ7UUFDRWEsYUFBYTtJQUNmO0lBR0YsSUFBSSxDQUFDRixTQUFTRyxFQUFFLEVBQUU7UUFDaEIsTUFBTSxJQUFJQyxNQUFNLENBQUMseUJBQXlCLEVBQUVKLFNBQVNLLFVBQVUsRUFBRTtJQUNuRTtJQUVBLE9BQU9MLFNBQVNNLElBQUk7QUFDdEI7QUFFQTs7Q0FFQyxHQUNNLGVBQWVDLGdCQUFnQkMsT0FBZTtJQUNuRCxNQUFNUixXQUFXLE1BQU1DLE1BQ3JCLEdBQUdsQixTQUFTLDBCQUEwQixFQUFFMEIsbUJBQW1CRCxTQUFTLEtBQUssQ0FBQyxFQUMxRTtRQUNFTixhQUFhO0lBQ2Y7SUFHRixJQUFJLENBQUNGLFNBQVNHLEVBQUUsRUFBRTtRQUNoQixNQUFNLElBQUlDLE1BQU0sQ0FBQyw2QkFBNkIsRUFBRUosU0FBU0ssVUFBVSxFQUFFO0lBQ3ZFO0lBRUEsTUFBTUssT0FBTyxNQUFNVixTQUFTTSxJQUFJO0lBQ2hDLE9BQU9JO0FBQ1Q7QUFFQTs7Q0FFQyxHQUNNLGVBQWVDLGFBQWFILE9BQWU7SUFDaEQsTUFBTVIsV0FBVyxNQUFNQyxNQUNyQixHQUFHbEIsU0FBUywwQkFBMEIsRUFBRTBCLG1CQUFtQkQsU0FBUyxLQUFLLENBQUMsRUFDMUU7UUFDRU4sYUFBYTtJQUNmO0lBR0YsSUFBSSxDQUFDRixTQUFTRyxFQUFFLEVBQUU7UUFDaEIsTUFBTSxJQUFJQyxNQUFNLENBQUMsMEJBQTBCLEVBQUVKLFNBQVNLLFVBQVUsRUFBRTtJQUNwRTtJQUVBLE9BQU9MLFNBQVNNLElBQUk7QUFDdEI7QUFFQTs7Q0FFQyxHQUNNLGVBQWVNO0lBQ3BCLE1BQU1aLFdBQVcsTUFBTUMsTUFDckIsR0FBR2xCLFNBQVMseUJBQXlCLENBQUMsRUFDdEM7UUFDRW1CLGFBQWE7SUFDZjtJQUdGLElBQUksQ0FBQ0YsU0FBU0csRUFBRSxFQUFFO1FBQ2hCLE1BQU0sSUFBSUMsTUFBTSxDQUFDLHFCQUFxQixFQUFFSixTQUFTSyxVQUFVLEVBQUU7SUFDL0Q7SUFFQSxPQUFPTCxTQUFTTSxJQUFJO0FBQ3RCO0FBRUE7O0NBRUMsR0FDTSxlQUFlTyxpQkFDcEJwQixJQUFZLEVBQ1pJLFFBQWdCLEVBQUU7SUFFbEIsTUFBTUcsV0FBVyxNQUFNQyxNQUNyQixHQUFHbEIsU0FBUyw0QkFBNEIsRUFBRTBCLG1CQUFtQmhCLE1BQU0sT0FBTyxFQUFFSSxPQUFPLEVBQ25GO1FBQ0VLLGFBQWE7SUFDZjtJQUdGLElBQUksQ0FBQ0YsU0FBU0csRUFBRSxFQUFFO1FBQ2hCLE1BQU0sSUFBSUMsTUFBTSxDQUFDLDhCQUE4QixFQUFFSixTQUFTSyxVQUFVLEVBQUU7SUFDeEU7SUFFQSxPQUFPTCxTQUFTTSxJQUFJO0FBQ3RCO0FBRUE7O0NBRUMsR0FDTSxlQUFlUSxxQkFBcUJyQixJQUFZO0lBQ3JELE1BQU1PLFdBQVcsTUFBTUMsTUFDckIsR0FBR2xCLFNBQVMsZ0NBQWdDLEVBQUUwQixtQkFBbUJoQixPQUFPLEVBQ3hFO1FBQ0VTLGFBQWE7SUFDZjtJQUdGLElBQUksQ0FBQ0YsU0FBU0csRUFBRSxFQUFFO1FBQ2hCLE1BQU0sSUFBSUMsTUFBTSxDQUFDLGtDQUFrQyxFQUFFSixTQUFTSyxVQUFVLEVBQUU7SUFDNUU7SUFFQSxPQUFPTCxTQUFTTSxJQUFJO0FBQ3RCO0FBRUE7O0NBRUMsR0FDTSxlQUFlUyxvQkFBb0J0QixJQUFZO0lBSXBELE1BQU1PLFdBQVcsTUFBTUMsTUFDckIsR0FBR2xCLFNBQVMsZ0NBQWdDLEVBQUUwQixtQkFBbUJoQixPQUFPLEVBQ3hFO1FBQ0VTLGFBQWE7SUFDZjtJQUdGLElBQUksQ0FBQ0YsU0FBU0csRUFBRSxFQUFFO1FBQ2hCLE1BQU0sSUFBSUMsTUFBTSxDQUFDLGtDQUFrQyxFQUFFSixTQUFTSyxVQUFVLEVBQUU7SUFDNUU7SUFFQSxPQUFPTCxTQUFTTSxJQUFJO0FBQ3RCIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXG5pY2hvbGFzLmxlZVxcRG9jdW1lbnRzXFx6XFxUaWNrZXRpbmdfTmlja1xcVGlja2V0aW5nXFx0YXZfb3BlbnNvdXJjZVxcdWlcXHNyY1xcbGliXFxodWdnaW5nZmFjZS1hcGkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEh1Z2dpbmdGYWNlIEFQSSBDbGllbnRcclxuICogXHJcbiAqIEZ1bmN0aW9ucyBmb3IgaW50ZXJhY3Rpbmcgd2l0aCBIdWdnaW5nRmFjZSBtb2RlbCBzZWFyY2ggYW5kIGRpc2NvdmVyeSBlbmRwb2ludHNcclxuICovXHJcblxyXG5jb25zdCBBUElfQkFTRSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6NTAwMCc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEh1Z2dpbmdGYWNlTW9kZWwge1xyXG4gIG1vZGVsX2lkOiBzdHJpbmc7XHJcbiAgYXV0aG9yOiBzdHJpbmcgfCBudWxsO1xyXG4gIGRvd25sb2FkczogbnVtYmVyO1xyXG4gIGxpa2VzOiBudW1iZXI7XHJcbiAgdGFnczogc3RyaW5nW107XHJcbiAgcGlwZWxpbmVfdGFnOiBzdHJpbmcgfCBudWxsO1xyXG4gIGxpYnJhcnlfbmFtZTogc3RyaW5nIHwgbnVsbDtcclxuICBjcmVhdGVkX2F0OiBzdHJpbmcgfCBudWxsO1xyXG4gIGxhc3RfbW9kaWZpZWQ6IHN0cmluZyB8IG51bGw7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTW9kZWxTZWFyY2hSZXNwb25zZSB7XHJcbiAgbW9kZWxzOiBIdWdnaW5nRmFjZU1vZGVsW107XHJcbiAgdG90YWw6IG51bWJlcjtcclxuICBxdWVyeTogc3RyaW5nIHwgbnVsbDtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBNb2RlbERldGFpbHMgZXh0ZW5kcyBIdWdnaW5nRmFjZU1vZGVsIHtcclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgZGVzY3JpcHRpb246IHN0cmluZztcclxuICBwcml2YXRlOiBib29sZWFuO1xyXG4gIGdhdGVkOiBib29sZWFuO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEh1Z2dpbmdGYWNlVGFzayB7XHJcbiAgdmFsdWU6IHN0cmluZztcclxuICBsYWJlbDogc3RyaW5nO1xyXG4gIGNhdGVnb3J5OiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVGFza3NSZXNwb25zZSB7XHJcbiAgdGFza3M6IEh1Z2dpbmdGYWNlVGFza1tdO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFBvcHVsYXJNb2RlbHNSZXNwb25zZSB7XHJcbiAgdGFzazogc3RyaW5nO1xyXG4gIG1vZGVsczogc3RyaW5nW107XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZWFyY2ggZm9yIEh1Z2dpbmdGYWNlIG1vZGVsc1xyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlYXJjaE1vZGVscyhwYXJhbXM6IHtcclxuICBxdWVyeT86IHN0cmluZztcclxuICB0YXNrPzogc3RyaW5nO1xyXG4gIGxpYnJhcnk/OiBzdHJpbmc7XHJcbiAgbGFuZ3VhZ2U/OiBzdHJpbmc7XHJcbiAgc29ydD86ICdkb3dubG9hZHMnIHwgJ2xpa2VzJyB8ICd0cmVuZGluZycgfCAnbGFzdE1vZGlmaWVkJztcclxuICBsaW1pdD86IG51bWJlcjtcclxuICBwYWdlPzogbnVtYmVyO1xyXG59KTogUHJvbWlzZTxNb2RlbFNlYXJjaFJlc3BvbnNlPiB7XHJcbiAgY29uc3QgcXVlcnlQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XHJcbiAgXHJcbiAgaWYgKHBhcmFtcy5xdWVyeSkgcXVlcnlQYXJhbXMuYXBwZW5kKCdxdWVyeScsIHBhcmFtcy5xdWVyeSk7XHJcbiAgaWYgKHBhcmFtcy50YXNrKSBxdWVyeVBhcmFtcy5hcHBlbmQoJ3Rhc2snLCBwYXJhbXMudGFzayk7XHJcbiAgaWYgKHBhcmFtcy5saWJyYXJ5KSBxdWVyeVBhcmFtcy5hcHBlbmQoJ2xpYnJhcnknLCBwYXJhbXMubGlicmFyeSk7XHJcbiAgaWYgKHBhcmFtcy5sYW5ndWFnZSkgcXVlcnlQYXJhbXMuYXBwZW5kKCdsYW5ndWFnZScsIHBhcmFtcy5sYW5ndWFnZSk7XHJcbiAgaWYgKHBhcmFtcy5zb3J0KSBxdWVyeVBhcmFtcy5hcHBlbmQoJ3NvcnQnLCBwYXJhbXMuc29ydCk7XHJcbiAgaWYgKHBhcmFtcy5saW1pdCkgcXVlcnlQYXJhbXMuYXBwZW5kKCdsaW1pdCcsIHBhcmFtcy5saW1pdC50b1N0cmluZygpKTtcclxuICBpZiAocGFyYW1zLnBhZ2UpIHF1ZXJ5UGFyYW1zLmFwcGVuZCgncGFnZScsIHBhcmFtcy5wYWdlLnRvU3RyaW5nKCkpO1xyXG4gIFxyXG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXHJcbiAgICBgJHtBUElfQkFTRX0vYXBpL3YxL2h1Z2dpbmdmYWNlL3NlYXJjaD8ke3F1ZXJ5UGFyYW1zfWAsXHJcbiAgICB7XHJcbiAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXHJcbiAgICB9XHJcbiAgKTtcclxuICBcclxuICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBzZWFyY2ggbW9kZWxzOiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiByZXNwb25zZS5qc29uKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgZGV0YWlsZWQgaW5mb3JtYXRpb24gYWJvdXQgYSBzcGVjaWZpYyBtb2RlbFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldE1vZGVsRGV0YWlscyhtb2RlbElkOiBzdHJpbmcpOiBQcm9taXNlPE1vZGVsRGV0YWlscz4ge1xyXG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXHJcbiAgICBgJHtBUElfQkFTRX0vYXBpL3YxL2h1Z2dpbmdmYWNlL21vZGVsLyR7ZW5jb2RlVVJJQ29tcG9uZW50KG1vZGVsSWQpfS9pbmZvYCxcclxuICAgIHtcclxuICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcclxuICAgIH1cclxuICApO1xyXG4gIFxyXG4gIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGdldCBtb2RlbCBkZXRhaWxzOiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XHJcbiAgfVxyXG4gIFxyXG4gIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgcmV0dXJuIGRhdGE7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgbW9kZWwgY2FyZCAoUkVBRE1FKSBmb3IgYSBzcGVjaWZpYyBtb2RlbFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldE1vZGVsQ2FyZChtb2RlbElkOiBzdHJpbmcpOiBQcm9taXNlPHsgbW9kZWxfaWQ6IHN0cmluZzsgY29udGVudDogc3RyaW5nIH0+IHtcclxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxyXG4gICAgYCR7QVBJX0JBU0V9L2FwaS92MS9odWdnaW5nZmFjZS9tb2RlbC8ke2VuY29kZVVSSUNvbXBvbmVudChtb2RlbElkKX0vY2FyZGAsXHJcbiAgICB7XHJcbiAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXHJcbiAgICB9XHJcbiAgKTtcclxuICBcclxuICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBnZXQgbW9kZWwgY2FyZDogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xyXG4gIH1cclxuICBcclxuICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xyXG59XHJcblxyXG4vKipcclxuICogR2V0IGxpc3Qgb2YgYXZhaWxhYmxlIHRhc2tzXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VGFza3MoKTogUHJvbWlzZTxUYXNrc1Jlc3BvbnNlPiB7XHJcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcclxuICAgIGAke0FQSV9CQVNFfS9hcGkvdjEvaHVnZ2luZ2ZhY2UvdGFza3NgLFxyXG4gICAge1xyXG4gICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxyXG4gICAgfVxyXG4gICk7XHJcbiAgXHJcbiAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZ2V0IHRhc2tzOiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiByZXNwb25zZS5qc29uKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgcG9wdWxhciBtb2RlbHMgZm9yIGEgc3BlY2lmaWMgdGFza1xyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFBvcHVsYXJNb2RlbHMoXHJcbiAgdGFzazogc3RyaW5nLFxyXG4gIGxpbWl0OiBudW1iZXIgPSAxMFxyXG4pOiBQcm9taXNlPFBvcHVsYXJNb2RlbHNSZXNwb25zZT4ge1xyXG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXHJcbiAgICBgJHtBUElfQkFTRX0vYXBpL3YxL2h1Z2dpbmdmYWNlL3BvcHVsYXIvJHtlbmNvZGVVUklDb21wb25lbnQodGFzayl9P2xpbWl0PSR7bGltaXR9YCxcclxuICAgIHtcclxuICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcclxuICAgIH1cclxuICApO1xyXG4gIFxyXG4gIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGdldCBwb3B1bGFyIG1vZGVsczogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xyXG4gIH1cclxuICBcclxuICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xyXG59XHJcblxyXG4vKipcclxuICogR2V0IHJlY29tbWVuZGVkIG1vZGVscyBmb3IgYSBzcGVjaWZpYyB0YXNrXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UmVjb21tZW5kZWRNb2RlbHModGFzazogc3RyaW5nKTogUHJvbWlzZTxQb3B1bGFyTW9kZWxzUmVzcG9uc2U+IHtcclxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxyXG4gICAgYCR7QVBJX0JBU0V9L2FwaS92MS9odWdnaW5nZmFjZS9yZWNvbW1lbmRlZC8ke2VuY29kZVVSSUNvbXBvbmVudCh0YXNrKX1gLFxyXG4gICAge1xyXG4gICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxyXG4gICAgfVxyXG4gICk7XHJcbiAgXHJcbiAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZ2V0IHJlY29tbWVuZGVkIG1vZGVsczogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xyXG4gIH1cclxuICBcclxuICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xyXG59XHJcblxyXG4vKipcclxuICogR2V0IHRhc2stc3BlY2lmaWMgY29uZmlndXJhdGlvbiBzY2hlbWFcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRUYXNrQ29uZmlnU2NoZW1hKHRhc2s6IHN0cmluZyk6IFByb21pc2U8e1xyXG4gIHRhc2s6IHN0cmluZztcclxuICBwYXJhbWV0ZXJzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xyXG59PiB7XHJcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcclxuICAgIGAke0FQSV9CQVNFfS9hcGkvdjEvaHVnZ2luZ2ZhY2UvdGFzay1jb25maWcvJHtlbmNvZGVVUklDb21wb25lbnQodGFzayl9YCxcclxuICAgIHtcclxuICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcclxuICAgIH1cclxuICApO1xyXG4gIFxyXG4gIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGdldCB0YXNrIGNvbmZpZ3VyYXRpb246ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcclxuICB9XHJcbiAgXHJcbiAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcclxufVxyXG5cclxuIl0sIm5hbWVzIjpbIkFQSV9CQVNFIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FQSV9VUkwiLCJzZWFyY2hNb2RlbHMiLCJwYXJhbXMiLCJxdWVyeVBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsInF1ZXJ5IiwiYXBwZW5kIiwidGFzayIsImxpYnJhcnkiLCJsYW5ndWFnZSIsInNvcnQiLCJsaW1pdCIsInRvU3RyaW5nIiwicGFnZSIsInJlc3BvbnNlIiwiZmV0Y2giLCJjcmVkZW50aWFscyIsIm9rIiwiRXJyb3IiLCJzdGF0dXNUZXh0IiwianNvbiIsImdldE1vZGVsRGV0YWlscyIsIm1vZGVsSWQiLCJlbmNvZGVVUklDb21wb25lbnQiLCJkYXRhIiwiZ2V0TW9kZWxDYXJkIiwiZ2V0VGFza3MiLCJnZXRQb3B1bGFyTW9kZWxzIiwiZ2V0UmVjb21tZW5kZWRNb2RlbHMiLCJnZXRUYXNrQ29uZmlnU2NoZW1hIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/huggingface-api.ts\n"));

/***/ }),

/***/ "(shared)/./node_modules/next/dist/server/app-render/async-local-storage.js":
/*!*************************************************************************!*\
  !*** ./node_modules/next/dist/server/app-render/async-local-storage.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n0 && (0);\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    bindSnapshot: function() {\n        return bindSnapshot;\n    },\n    createAsyncLocalStorage: function() {\n        return createAsyncLocalStorage;\n    },\n    createSnapshot: function() {\n        return createSnapshot;\n    }\n});\nconst sharedAsyncLocalStorageNotAvailableError = Object.defineProperty(new Error('Invariant: AsyncLocalStorage accessed in runtime where it is not available'), \"__NEXT_ERROR_CODE\", {\n    value: \"E504\",\n    enumerable: false,\n    configurable: true\n});\nclass FakeAsyncLocalStorage {\n    disable() {\n        throw sharedAsyncLocalStorageNotAvailableError;\n    }\n    getStore() {\n        // This fake implementation of AsyncLocalStorage always returns `undefined`.\n        return undefined;\n    }\n    run() {\n        throw sharedAsyncLocalStorageNotAvailableError;\n    }\n    exit() {\n        throw sharedAsyncLocalStorageNotAvailableError;\n    }\n    enterWith() {\n        throw sharedAsyncLocalStorageNotAvailableError;\n    }\n    static bind(fn) {\n        return fn;\n    }\n}\nconst maybeGlobalAsyncLocalStorage = typeof globalThis !== 'undefined' && globalThis.AsyncLocalStorage;\nfunction createAsyncLocalStorage() {\n    if (maybeGlobalAsyncLocalStorage) {\n        return new maybeGlobalAsyncLocalStorage();\n    }\n    return new FakeAsyncLocalStorage();\n}\nfunction bindSnapshot(// WARNING: Don't pass a named function to this argument! See: https://github.com/facebook/react/pull/34911\nfn) {\n    if (maybeGlobalAsyncLocalStorage) {\n        return maybeGlobalAsyncLocalStorage.bind(fn);\n    }\n    return FakeAsyncLocalStorage.bind(fn);\n}\nfunction createSnapshot() {\n    if (maybeGlobalAsyncLocalStorage) {\n        return maybeGlobalAsyncLocalStorage.snapshot();\n    }\n    return function(fn, ...args) {\n        return fn(...args);\n    };\n}\n\n//# sourceMappingURL=async-local-storage.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNoYXJlZCkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L3NlcnZlci9hcHAtcmVuZGVyL2FzeW5jLWxvY2FsLXN0b3JhZ2UuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRixNQUFNLENBSUw7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxuaWNob2xhcy5sZWVcXERvY3VtZW50c1xcelxcVGlja2V0aW5nX05pY2tcXFRpY2tldGluZ1xcdGF2X29wZW5zb3VyY2VcXHVpXFxub2RlX21vZHVsZXNcXG5leHRcXGRpc3RcXHNlcnZlclxcYXBwLXJlbmRlclxcYXN5bmMtbG9jYWwtc3RvcmFnZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbjAgJiYgKG1vZHVsZS5leHBvcnRzID0ge1xuICAgIGJpbmRTbmFwc2hvdDogbnVsbCxcbiAgICBjcmVhdGVBc3luY0xvY2FsU3RvcmFnZTogbnVsbCxcbiAgICBjcmVhdGVTbmFwc2hvdDogbnVsbFxufSk7XG5mdW5jdGlvbiBfZXhwb3J0KHRhcmdldCwgYWxsKSB7XG4gICAgZm9yKHZhciBuYW1lIGluIGFsbClPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBuYW1lLCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogYWxsW25hbWVdXG4gICAgfSk7XG59XG5fZXhwb3J0KGV4cG9ydHMsIHtcbiAgICBiaW5kU25hcHNob3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gYmluZFNuYXBzaG90O1xuICAgIH0sXG4gICAgY3JlYXRlQXN5bmNMb2NhbFN0b3JhZ2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlQXN5bmNMb2NhbFN0b3JhZ2U7XG4gICAgfSxcbiAgICBjcmVhdGVTbmFwc2hvdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVTbmFwc2hvdDtcbiAgICB9XG59KTtcbmNvbnN0IHNoYXJlZEFzeW5jTG9jYWxTdG9yYWdlTm90QXZhaWxhYmxlRXJyb3IgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3IEVycm9yKCdJbnZhcmlhbnQ6IEFzeW5jTG9jYWxTdG9yYWdlIGFjY2Vzc2VkIGluIHJ1bnRpbWUgd2hlcmUgaXQgaXMgbm90IGF2YWlsYWJsZScpLCBcIl9fTkVYVF9FUlJPUl9DT0RFXCIsIHtcbiAgICB2YWx1ZTogXCJFNTA0XCIsXG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG59KTtcbmNsYXNzIEZha2VBc3luY0xvY2FsU3RvcmFnZSB7XG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgdGhyb3cgc2hhcmVkQXN5bmNMb2NhbFN0b3JhZ2VOb3RBdmFpbGFibGVFcnJvcjtcbiAgICB9XG4gICAgZ2V0U3RvcmUoKSB7XG4gICAgICAgIC8vIFRoaXMgZmFrZSBpbXBsZW1lbnRhdGlvbiBvZiBBc3luY0xvY2FsU3RvcmFnZSBhbHdheXMgcmV0dXJucyBgdW5kZWZpbmVkYC5cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcnVuKCkge1xuICAgICAgICB0aHJvdyBzaGFyZWRBc3luY0xvY2FsU3RvcmFnZU5vdEF2YWlsYWJsZUVycm9yO1xuICAgIH1cbiAgICBleGl0KCkge1xuICAgICAgICB0aHJvdyBzaGFyZWRBc3luY0xvY2FsU3RvcmFnZU5vdEF2YWlsYWJsZUVycm9yO1xuICAgIH1cbiAgICBlbnRlcldpdGgoKSB7XG4gICAgICAgIHRocm93IHNoYXJlZEFzeW5jTG9jYWxTdG9yYWdlTm90QXZhaWxhYmxlRXJyb3I7XG4gICAgfVxuICAgIHN0YXRpYyBiaW5kKGZuKSB7XG4gICAgICAgIHJldHVybiBmbjtcbiAgICB9XG59XG5jb25zdCBtYXliZUdsb2JhbEFzeW5jTG9jYWxTdG9yYWdlID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnICYmIGdsb2JhbFRoaXMuQXN5bmNMb2NhbFN0b3JhZ2U7XG5mdW5jdGlvbiBjcmVhdGVBc3luY0xvY2FsU3RvcmFnZSgpIHtcbiAgICBpZiAobWF5YmVHbG9iYWxBc3luY0xvY2FsU3RvcmFnZSkge1xuICAgICAgICByZXR1cm4gbmV3IG1heWJlR2xvYmFsQXN5bmNMb2NhbFN0b3JhZ2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBGYWtlQXN5bmNMb2NhbFN0b3JhZ2UoKTtcbn1cbmZ1bmN0aW9uIGJpbmRTbmFwc2hvdCgvLyBXQVJOSU5HOiBEb24ndCBwYXNzIGEgbmFtZWQgZnVuY3Rpb24gdG8gdGhpcyBhcmd1bWVudCEgU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvcHVsbC8zNDkxMVxuZm4pIHtcbiAgICBpZiAobWF5YmVHbG9iYWxBc3luY0xvY2FsU3RvcmFnZSkge1xuICAgICAgICByZXR1cm4gbWF5YmVHbG9iYWxBc3luY0xvY2FsU3RvcmFnZS5iaW5kKGZuKTtcbiAgICB9XG4gICAgcmV0dXJuIEZha2VBc3luY0xvY2FsU3RvcmFnZS5iaW5kKGZuKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVNuYXBzaG90KCkge1xuICAgIGlmIChtYXliZUdsb2JhbEFzeW5jTG9jYWxTdG9yYWdlKSB7XG4gICAgICAgIHJldHVybiBtYXliZUdsb2JhbEFzeW5jTG9jYWxTdG9yYWdlLnNuYXBzaG90KCk7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbihmbiwgLi4uYXJncykge1xuICAgICAgICByZXR1cm4gZm4oLi4uYXJncyk7XG4gICAgfTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXN5bmMtbG9jYWwtc3RvcmFnZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(shared)/./node_modules/next/dist/server/app-render/async-local-storage.js\n"));

/***/ }),

/***/ "(shared)/./node_modules/next/dist/server/app-render/work-async-storage-instance.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/next/dist/server/app-render/work-async-storage-instance.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nObject.defineProperty(exports, \"workAsyncStorageInstance\", ({\n    enumerable: true,\n    get: function() {\n        return workAsyncStorageInstance;\n    }\n}));\nconst _asynclocalstorage = __webpack_require__(/*! ./async-local-storage */ \"(shared)/./node_modules/next/dist/server/app-render/async-local-storage.js\");\nconst workAsyncStorageInstance = (0, _asynclocalstorage.createAsyncLocalStorage)();\n\n//# sourceMappingURL=work-async-storage-instance.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNoYXJlZCkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L3NlcnZlci9hcHAtcmVuZGVyL3dvcmstYXN5bmMtc3RvcmFnZS1pbnN0YW5jZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGLDREQUEyRDtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsRUFBQztBQUNGLDJCQUEyQixtQkFBTyxDQUFDLHlHQUF1QjtBQUMxRDs7QUFFQSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxuaWNob2xhcy5sZWVcXERvY3VtZW50c1xcelxcVGlja2V0aW5nX05pY2tcXFRpY2tldGluZ1xcdGF2X29wZW5zb3VyY2VcXHVpXFxub2RlX21vZHVsZXNcXG5leHRcXGRpc3RcXHNlcnZlclxcYXBwLXJlbmRlclxcd29yay1hc3luYy1zdG9yYWdlLWluc3RhbmNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwid29ya0FzeW5jU3RvcmFnZUluc3RhbmNlXCIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB3b3JrQXN5bmNTdG9yYWdlSW5zdGFuY2U7XG4gICAgfVxufSk7XG5jb25zdCBfYXN5bmNsb2NhbHN0b3JhZ2UgPSByZXF1aXJlKFwiLi9hc3luYy1sb2NhbC1zdG9yYWdlXCIpO1xuY29uc3Qgd29ya0FzeW5jU3RvcmFnZUluc3RhbmNlID0gKDAsIF9hc3luY2xvY2Fsc3RvcmFnZS5jcmVhdGVBc3luY0xvY2FsU3RvcmFnZSkoKTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d29yay1hc3luYy1zdG9yYWdlLWluc3RhbmNlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(shared)/./node_modules/next/dist/server/app-render/work-async-storage-instance.js\n"));

/***/ }),

/***/ "(shared)/./node_modules/next/dist/server/app-render/work-async-storage.external.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/next/dist/server/app-render/work-async-storage.external.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nObject.defineProperty(exports, \"workAsyncStorage\", ({\n    enumerable: true,\n    get: function() {\n        return _workasyncstorageinstance.workAsyncStorageInstance;\n    }\n}));\nconst _workasyncstorageinstance = __webpack_require__(/*! ./work-async-storage-instance */ \"(shared)/./node_modules/next/dist/server/app-render/work-async-storage-instance.js\");\n\n//# sourceMappingURL=work-async-storage.external.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNoYXJlZCkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L3NlcnZlci9hcHAtcmVuZGVyL3dvcmstYXN5bmMtc3RvcmFnZS5leHRlcm5hbC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGLG9EQUFtRDtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsRUFBQztBQUNGLGtDQUFrQyxtQkFBTyxDQUFDLHlIQUErQjs7QUFFekUiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbmljaG9sYXMubGVlXFxEb2N1bWVudHNcXHpcXFRpY2tldGluZ19OaWNrXFxUaWNrZXRpbmdcXHRhdl9vcGVuc291cmNlXFx1aVxcbm9kZV9tb2R1bGVzXFxuZXh0XFxkaXN0XFxzZXJ2ZXJcXGFwcC1yZW5kZXJcXHdvcmstYXN5bmMtc3RvcmFnZS5leHRlcm5hbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIndvcmtBc3luY1N0b3JhZ2VcIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIF93b3JrYXN5bmNzdG9yYWdlaW5zdGFuY2Uud29ya0FzeW5jU3RvcmFnZUluc3RhbmNlO1xuICAgIH1cbn0pO1xuY29uc3QgX3dvcmthc3luY3N0b3JhZ2VpbnN0YW5jZSA9IHJlcXVpcmUoXCIuL3dvcmstYXN5bmMtc3RvcmFnZS1pbnN0YW5jZVwiKTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d29yay1hc3luYy1zdG9yYWdlLmV4dGVybmFsLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(shared)/./node_modules/next/dist/server/app-render/work-async-storage.external.js\n"));

/***/ })

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ __webpack_require__.O(0, ["main-app"], () => (__webpack_exec__("(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5Cnicholas.lee%5C%5CDocuments%5C%5Cz%5C%5CTicketing_Nick%5C%5CTicketing%5C%5Ctav_opensource%5C%5Cui%5C%5Csrc%5C%5Capp%5C%5Ceditor-page%5C%5Cpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=false!")));
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ _N_E = __webpack_exports__;
/******/ }
]);